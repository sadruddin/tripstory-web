const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dockerfile-BKs6k2Af.js","assets/simple-mode-GW_nhZxv.js","assets/factor-kuTfRLto.js","assets/nsis-LdVXkNf5.js","assets/pug-DeIclll2.js","assets/javascript-iXu5QeM3.js"])))=>i.map(i=>d[i]);
function AX(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var w7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var TD={exports:{}},p2={};var O7;function lde(){if(O7)return p2;O7=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var a=null;if(o!==void 0&&(a=""+o),i.key!==void 0&&(a=""+i.key),"key"in i){o={};for(var s in i)s!=="key"&&(o[s]=i[s])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:o}}return p2.Fragment=e,p2.jsx=n,p2.jsxs=n,p2}var S7;function cde(){return S7||(S7=1,TD.exports=lde()),TD.exports}var Y=cde(),kD={exports:{}},wr={};var C7;function ude(){if(C7)return wr;C7=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),x=Symbol.iterator;function O(Pe){return Pe===null||typeof Pe!="object"?null:(Pe=x&&Pe[x]||Pe["@@iterator"],typeof Pe=="function"?Pe:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,M={};function L(Pe,Xe,ke){this.props=Pe,this.context=Xe,this.refs=M,this.updater=ke||E}L.prototype.isReactComponent={},L.prototype.setState=function(Pe,Xe){if(typeof Pe!="object"&&typeof Pe!="function"&&Pe!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Pe,Xe,"setState")},L.prototype.forceUpdate=function(Pe){this.updater.enqueueForceUpdate(this,Pe,"forceUpdate")};function $(){}$.prototype=L.prototype;function N(Pe,Xe,ke){this.props=Pe,this.context=Xe,this.refs=M,this.updater=ke||E}var F=N.prototype=new $;F.constructor=N,A(F,L.prototype),F.isPureReactComponent=!0;var U=Array.isArray;function q(){}var W={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function re(Pe,Xe,ke){var mt=ke.ref;return{$$typeof:t,type:Pe,key:Xe,ref:mt!==void 0?mt:null,props:ke}}function ce(Pe,Xe){return re(Pe.type,Xe,Pe.props)}function be(Pe){return typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===t}function ie(Pe){var Xe={"=":"=0",":":"=2"};return"$"+Pe.replace(/[=:]/g,function(ke){return Xe[ke]})}var me=/\/+/g;function we(Pe,Xe){return typeof Pe=="object"&&Pe!==null&&Pe.key!=null?ie(""+Pe.key):Xe.toString(36)}function pe(Pe){switch(Pe.status){case"fulfilled":return Pe.value;case"rejected":throw Pe.reason;default:switch(typeof Pe.status=="string"?Pe.then(q,q):(Pe.status="pending",Pe.then(function(Xe){Pe.status==="pending"&&(Pe.status="fulfilled",Pe.value=Xe)},function(Xe){Pe.status==="pending"&&(Pe.status="rejected",Pe.reason=Xe)})),Pe.status){case"fulfilled":return Pe.value;case"rejected":throw Pe.reason}}throw Pe}function _e(Pe,Xe,ke,mt,gt){var ct=typeof Pe;(ct==="undefined"||ct==="boolean")&&(Pe=null);var ot=!1;if(Pe===null)ot=!0;else switch(ct){case"bigint":case"string":case"number":ot=!0;break;case"object":switch(Pe.$$typeof){case t:case e:ot=!0;break;case g:return ot=Pe._init,_e(ot(Pe._payload),Xe,ke,mt,gt)}}if(ot)return gt=gt(Pe),ot=mt===""?"."+we(Pe,0):mt,U(gt)?(ke="",ot!=null&&(ke=ot.replace(me,"$&/")+"/"),_e(gt,Xe,ke,"",function(Tt){return Tt})):gt!=null&&(be(gt)&&(gt=ce(gt,ke+(gt.key==null||Pe&&Pe.key===gt.key?"":(""+gt.key).replace(me,"$&/")+"/")+ot)),Xe.push(gt)),1;ot=0;var vt=mt===""?".":mt+":";if(U(Pe))for(var At=0;At<Pe.length;At++)mt=Pe[At],ct=vt+we(mt,At),ot+=_e(mt,Xe,ke,ct,gt);else if(At=O(Pe),typeof At=="function")for(Pe=At.call(Pe),At=0;!(mt=Pe.next()).done;)mt=mt.value,ct=vt+we(mt,At++),ot+=_e(mt,Xe,ke,ct,gt);else if(ct==="object"){if(typeof Pe.then=="function")return _e(pe(Pe),Xe,ke,mt,gt);throw Xe=String(Pe),Error("Objects are not valid as a React child (found: "+(Xe==="[object Object]"?"object with keys {"+Object.keys(Pe).join(", ")+"}":Xe)+"). If you meant to render a collection of children, use an array instead.")}return ot}function Me(Pe,Xe,ke){if(Pe==null)return Pe;var mt=[],gt=0;return _e(Pe,mt,"","",function(ct){return Xe.call(ke,ct,gt++)}),mt}function Be(Pe){if(Pe._status===-1){var Xe=Pe._result;Xe=Xe(),Xe.then(function(ke){(Pe._status===0||Pe._status===-1)&&(Pe._status=1,Pe._result=ke)},function(ke){(Pe._status===0||Pe._status===-1)&&(Pe._status=2,Pe._result=ke)}),Pe._status===-1&&(Pe._status=0,Pe._result=Xe)}if(Pe._status===1)return Pe._result.default;throw Pe._result}var Ue=typeof reportError=="function"?reportError:function(Pe){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Xe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Pe=="object"&&Pe!==null&&typeof Pe.message=="string"?String(Pe.message):String(Pe),error:Pe});if(!window.dispatchEvent(Xe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Pe);return}console.error(Pe)},Ce={map:Me,forEach:function(Pe,Xe,ke){Me(Pe,function(){Xe.apply(this,arguments)},ke)},count:function(Pe){var Xe=0;return Me(Pe,function(){Xe++}),Xe},toArray:function(Pe){return Me(Pe,function(Xe){return Xe})||[]},only:function(Pe){if(!be(Pe))throw Error("React.Children.only expected to receive a single React element child.");return Pe}};return wr.Activity=v,wr.Children=Ce,wr.Component=L,wr.Fragment=n,wr.Profiler=i,wr.PureComponent=N,wr.StrictMode=r,wr.Suspense=u,wr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,wr.__COMPILER_RUNTIME={__proto__:null,c:function(Pe){return W.H.useMemoCache(Pe)}},wr.cache=function(Pe){return function(){return Pe.apply(null,arguments)}},wr.cacheSignal=function(){return null},wr.cloneElement=function(Pe,Xe,ke){if(Pe==null)throw Error("The argument must be a React element, but you passed "+Pe+".");var mt=A({},Pe.props),gt=Pe.key;if(Xe!=null)for(ct in Xe.key!==void 0&&(gt=""+Xe.key),Xe)!te.call(Xe,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&Xe.ref===void 0||(mt[ct]=Xe[ct]);var ct=arguments.length-2;if(ct===1)mt.children=ke;else if(1<ct){for(var ot=Array(ct),vt=0;vt<ct;vt++)ot[vt]=arguments[vt+2];mt.children=ot}return re(Pe.type,gt,mt)},wr.createContext=function(Pe){return Pe={$$typeof:a,_currentValue:Pe,_currentValue2:Pe,_threadCount:0,Provider:null,Consumer:null},Pe.Provider=Pe,Pe.Consumer={$$typeof:o,_context:Pe},Pe},wr.createElement=function(Pe,Xe,ke){var mt,gt={},ct=null;if(Xe!=null)for(mt in Xe.key!==void 0&&(ct=""+Xe.key),Xe)te.call(Xe,mt)&&mt!=="key"&&mt!=="__self"&&mt!=="__source"&&(gt[mt]=Xe[mt]);var ot=arguments.length-2;if(ot===1)gt.children=ke;else if(1<ot){for(var vt=Array(ot),At=0;At<ot;At++)vt[At]=arguments[At+2];gt.children=vt}if(Pe&&Pe.defaultProps)for(mt in ot=Pe.defaultProps,ot)gt[mt]===void 0&&(gt[mt]=ot[mt]);return re(Pe,ct,gt)},wr.createRef=function(){return{current:null}},wr.forwardRef=function(Pe){return{$$typeof:s,render:Pe}},wr.isValidElement=be,wr.lazy=function(Pe){return{$$typeof:g,_payload:{_status:-1,_result:Pe},_init:Be}},wr.memo=function(Pe,Xe){return{$$typeof:d,type:Pe,compare:Xe===void 0?null:Xe}},wr.startTransition=function(Pe){var Xe=W.T,ke={};W.T=ke;try{var mt=Pe(),gt=W.S;gt!==null&&gt(ke,mt),typeof mt=="object"&&mt!==null&&typeof mt.then=="function"&&mt.then(q,Ue)}catch(ct){Ue(ct)}finally{Xe!==null&&ke.types!==null&&(Xe.types=ke.types),W.T=Xe}},wr.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},wr.use=function(Pe){return W.H.use(Pe)},wr.useActionState=function(Pe,Xe,ke){return W.H.useActionState(Pe,Xe,ke)},wr.useCallback=function(Pe,Xe){return W.H.useCallback(Pe,Xe)},wr.useContext=function(Pe){return W.H.useContext(Pe)},wr.useDebugValue=function(){},wr.useDeferredValue=function(Pe,Xe){return W.H.useDeferredValue(Pe,Xe)},wr.useEffect=function(Pe,Xe){return W.H.useEffect(Pe,Xe)},wr.useEffectEvent=function(Pe){return W.H.useEffectEvent(Pe)},wr.useId=function(){return W.H.useId()},wr.useImperativeHandle=function(Pe,Xe,ke){return W.H.useImperativeHandle(Pe,Xe,ke)},wr.useInsertionEffect=function(Pe,Xe){return W.H.useInsertionEffect(Pe,Xe)},wr.useLayoutEffect=function(Pe,Xe){return W.H.useLayoutEffect(Pe,Xe)},wr.useMemo=function(Pe,Xe){return W.H.useMemo(Pe,Xe)},wr.useOptimistic=function(Pe,Xe){return W.H.useOptimistic(Pe,Xe)},wr.useReducer=function(Pe,Xe,ke){return W.H.useReducer(Pe,Xe,ke)},wr.useRef=function(Pe){return W.H.useRef(Pe)},wr.useState=function(Pe){return W.H.useState(Pe)},wr.useSyncExternalStore=function(Pe,Xe,ke){return W.H.useSyncExternalStore(Pe,Xe,ke)},wr.useTransition=function(){return W.H.useTransition()},wr.version="19.2.3",wr}var T7;function hN(){return T7||(T7=1,kD.exports=ude()),kD.exports}var j=hN();const ae=tv(j),Iw=AX({__proto__:null,default:ae},[j]);var ED={exports:{}},m2={},AD={exports:{}},PD={};var k7;function hde(){return k7||(k7=1,(function(t){function e(_e,Me){var Be=_e.length;_e.push(Me);e:for(;0<Be;){var Ue=Be-1>>>1,Ce=_e[Ue];if(0<i(Ce,Me))_e[Ue]=Me,_e[Be]=Ce,Be=Ue;else break e}}function n(_e){return _e.length===0?null:_e[0]}function r(_e){if(_e.length===0)return null;var Me=_e[0],Be=_e.pop();if(Be!==Me){_e[0]=Be;e:for(var Ue=0,Ce=_e.length,Pe=Ce>>>1;Ue<Pe;){var Xe=2*(Ue+1)-1,ke=_e[Xe],mt=Xe+1,gt=_e[mt];if(0>i(ke,Be))mt<Ce&&0>i(gt,ke)?(_e[Ue]=gt,_e[mt]=Be,Ue=mt):(_e[Ue]=ke,_e[Xe]=Be,Ue=Xe);else if(mt<Ce&&0>i(gt,Be))_e[Ue]=gt,_e[mt]=Be,Ue=mt;else break e}}return Me}function i(_e,Me){var Be=_e.sortIndex-Me.sortIndex;return Be!==0?Be:_e.id-Me.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var u=[],d=[],g=1,v=null,x=3,O=!1,E=!1,A=!1,M=!1,L=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function F(_e){for(var Me=n(d);Me!==null;){if(Me.callback===null)r(d);else if(Me.startTime<=_e)r(d),Me.sortIndex=Me.expirationTime,e(u,Me);else break;Me=n(d)}}function U(_e){if(A=!1,F(_e),!E)if(n(u)!==null)E=!0,q||(q=!0,ie());else{var Me=n(d);Me!==null&&pe(U,Me.startTime-_e)}}var q=!1,W=-1,te=5,re=-1;function ce(){return M?!0:!(t.unstable_now()-re<te)}function be(){if(M=!1,q){var _e=t.unstable_now();re=_e;var Me=!0;try{e:{E=!1,A&&(A=!1,$(W),W=-1),O=!0;var Be=x;try{t:{for(F(_e),v=n(u);v!==null&&!(v.expirationTime>_e&&ce());){var Ue=v.callback;if(typeof Ue=="function"){v.callback=null,x=v.priorityLevel;var Ce=Ue(v.expirationTime<=_e);if(_e=t.unstable_now(),typeof Ce=="function"){v.callback=Ce,F(_e),Me=!0;break t}v===n(u)&&r(u),F(_e)}else r(u);v=n(u)}if(v!==null)Me=!0;else{var Pe=n(d);Pe!==null&&pe(U,Pe.startTime-_e),Me=!1}}break e}finally{v=null,x=Be,O=!1}Me=void 0}}finally{Me?ie():q=!1}}}var ie;if(typeof N=="function")ie=function(){N(be)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,we=me.port2;me.port1.onmessage=be,ie=function(){we.postMessage(null)}}else ie=function(){L(be,0)};function pe(_e,Me){W=L(function(){_e(t.unstable_now())},Me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_e){_e.callback=null},t.unstable_forceFrameRate=function(_e){0>_e||125<_e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<_e?Math.floor(1e3/_e):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(_e){switch(x){case 1:case 2:case 3:var Me=3;break;default:Me=x}var Be=x;x=Me;try{return _e()}finally{x=Be}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(_e,Me){switch(_e){case 1:case 2:case 3:case 4:case 5:break;default:_e=3}var Be=x;x=_e;try{return Me()}finally{x=Be}},t.unstable_scheduleCallback=function(_e,Me,Be){var Ue=t.unstable_now();switch(typeof Be=="object"&&Be!==null?(Be=Be.delay,Be=typeof Be=="number"&&0<Be?Ue+Be:Ue):Be=Ue,_e){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=Be+Ce,_e={id:g++,callback:Me,priorityLevel:_e,startTime:Be,expirationTime:Ce,sortIndex:-1},Be>Ue?(_e.sortIndex=Be,e(d,_e),n(u)===null&&_e===n(d)&&(A?($(W),W=-1):A=!0,pe(U,Be-Ue))):(_e.sortIndex=Ce,e(u,_e),E||O||(E=!0,q||(q=!0,ie()))),_e},t.unstable_shouldYield=ce,t.unstable_wrapCallback=function(_e){var Me=x;return function(){var Be=x;x=Me;try{return _e.apply(this,arguments)}finally{x=Be}}}})(PD)),PD}var E7;function dde(){return E7||(E7=1,AD.exports=hde()),AD.exports}var MD={exports:{}},Al={};var A7;function fde(){if(A7)return Al;A7=1;var t=hN();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(u,d,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:u,containerInfo:d,implementation:g}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Al.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Al.createPortal=function(u,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(u,d,null,g)},Al.flushSync=function(u){var d=a.T,g=r.p;try{if(a.T=null,r.p=2,u)return u()}finally{a.T=d,r.p=g,r.d.f()}},Al.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},Al.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Al.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var g=d.as,v=s(g,d.crossOrigin),x=typeof d.integrity=="string"?d.integrity:void 0,O=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:O}):g==="script"&&r.d.X(u,{crossOrigin:v,integrity:x,fetchPriority:O,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Al.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=s(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},Al.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,v=s(g,d.crossOrigin);r.d.L(u,g,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Al.preloadModule=function(u,d){if(typeof u=="string")if(d){var g=s(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},Al.requestFormReset=function(u){r.d.r(u)},Al.unstable_batchedUpdates=function(u,d){return u(d)},Al.useFormState=function(u,d,g){return a.H.useFormState(u,d,g)},Al.useFormStatus=function(){return a.H.useHostTransitionStatus()},Al.version="19.2.3",Al}var P7;function PX(){if(P7)return MD.exports;P7=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),MD.exports=fde(),MD.exports}var M7;function pde(){if(M7)return m2;M7=1;var t=dde(),e=hN(),n=PX();function r(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)y+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function o(p){var y=p,S=p;if(p.alternate)for(;y.return;)y=y.return;else{p=y;do y=p,(y.flags&4098)!==0&&(S=y.return),p=y.return;while(p)}return y.tag===3?S:null}function a(p){if(p.tag===13){var y=p.memoizedState;if(y===null&&(p=p.alternate,p!==null&&(y=p.memoizedState)),y!==null)return y.dehydrated}return null}function s(p){if(p.tag===31){var y=p.memoizedState;if(y===null&&(p=p.alternate,p!==null&&(y=p.memoizedState)),y!==null)return y.dehydrated}return null}function u(p){if(o(p)!==p)throw Error(r(188))}function d(p){var y=p.alternate;if(!y){if(y=o(p),y===null)throw Error(r(188));return y!==p?null:p}for(var S=p,R=y;;){var Q=S.return;if(Q===null)break;var G=Q.alternate;if(G===null){if(R=Q.return,R!==null){S=R;continue}break}if(Q.child===G.child){for(G=Q.child;G;){if(G===S)return u(Q),p;if(G===R)return u(Q),y;G=G.sibling}throw Error(r(188))}if(S.return!==R.return)S=Q,R=G;else{for(var de=!1,Ae=Q.child;Ae;){if(Ae===S){de=!0,S=Q,R=G;break}if(Ae===R){de=!0,R=Q,S=G;break}Ae=Ae.sibling}if(!de){for(Ae=G.child;Ae;){if(Ae===S){de=!0,S=G,R=Q;break}if(Ae===R){de=!0,R=G,S=Q;break}Ae=Ae.sibling}if(!de)throw Error(r(189))}}if(S.alternate!==R)throw Error(r(190))}if(S.tag!==3)throw Error(r(188));return S.stateNode.current===S?p:y}function g(p){var y=p.tag;if(y===5||y===26||y===27||y===6)return p;for(p=p.child;p!==null;){if(y=g(p),y!==null)return y;p=p.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),N=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),re=Symbol.for("react.activity"),ce=Symbol.for("react.memo_cache_sentinel"),be=Symbol.iterator;function ie(p){return p===null||typeof p!="object"?null:(p=be&&p[be]||p["@@iterator"],typeof p=="function"?p:null)}var me=Symbol.for("react.client.reference");function we(p){if(p==null)return null;if(typeof p=="function")return p.$$typeof===me?null:p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case A:return"Fragment";case L:return"Profiler";case M:return"StrictMode";case U:return"Suspense";case q:return"SuspenseList";case re:return"Activity"}if(typeof p=="object")switch(p.$$typeof){case E:return"Portal";case N:return p.displayName||"Context";case $:return(p._context.displayName||"Context")+".Consumer";case F:var y=p.render;return p=p.displayName,p||(p=y.displayName||y.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case W:return y=p.displayName||null,y!==null?y:we(p.type)||"Memo";case te:y=p._payload,p=p._init;try{return we(p(y))}catch{}}return null}var pe=Array.isArray,_e=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Me=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Be={pending:!1,data:null,method:null,action:null},Ue=[],Ce=-1;function Pe(p){return{current:p}}function Xe(p){0>Ce||(p.current=Ue[Ce],Ue[Ce]=null,Ce--)}function ke(p,y){Ce++,Ue[Ce]=p.current,p.current=y}var mt=Pe(null),gt=Pe(null),ct=Pe(null),ot=Pe(null);function vt(p,y){switch(ke(ct,y),ke(gt,p),ke(mt,null),y.nodeType){case 9:case 11:p=(p=y.documentElement)&&(p=p.namespaceURI)?xp(p):0;break;default:if(p=y.tagName,y=y.namespaceURI)y=xp(y),p=US(y,p);else switch(p){case"svg":p=1;break;case"math":p=2;break;default:p=0}}Xe(mt),ke(mt,p)}function At(){Xe(mt),Xe(gt),Xe(ct)}function Tt(p){p.memoizedState!==null&&ke(ot,p);var y=mt.current,S=US(y,p.type);y!==S&&(ke(gt,p),ke(mt,S))}function Wt(p){gt.current===p&&(Xe(mt),Xe(gt)),ot.current===p&&(Xe(ot),d0._currentValue=Be)}var Ot,hn;function Gt(p){if(Ot===void 0)try{throw Error()}catch(S){var y=S.stack.trim().match(/\n( *(at )?)/);Ot=y&&y[1]||"",hn=-1<S.stack.indexOf(`
    at`)?" (<anonymous>)":-1<S.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ot+p+hn}var Yt=!1;function Cn(p,y){if(!p||Yt)return"";Yt=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var R={DetermineComponentFrameRoot:function(){try{if(y){var Ht=function(){throw Error()};if(Object.defineProperty(Ht.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ht,[])}catch(Mt){var Ct=Mt}Reflect.construct(p,[],Ht)}else{try{Ht.call()}catch(Mt){Ct=Mt}p.call(Ht.prototype)}}else{try{throw Error()}catch(Mt){Ct=Mt}(Ht=p())&&typeof Ht.catch=="function"&&Ht.catch(function(){})}}catch(Mt){if(Mt&&Ct&&typeof Mt.stack=="string")return[Mt.stack,Ct.stack]}return[null,null]}};R.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var Q=Object.getOwnPropertyDescriptor(R.DetermineComponentFrameRoot,"name");Q&&Q.configurable&&Object.defineProperty(R.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var G=R.DetermineComponentFrameRoot(),de=G[0],Ae=G[1];if(de&&Ae){var et=de.split(`
`),wt=Ae.split(`
`);for(Q=R=0;R<et.length&&!et[R].includes("DetermineComponentFrameRoot");)R++;for(;Q<wt.length&&!wt[Q].includes("DetermineComponentFrameRoot");)Q++;if(R===et.length||Q===wt.length)for(R=et.length-1,Q=wt.length-1;1<=R&&0<=Q&&et[R]!==wt[Q];)Q--;for(;1<=R&&0<=Q;R--,Q--)if(et[R]!==wt[Q]){if(R!==1||Q!==1)do if(R--,Q--,0>Q||et[R]!==wt[Q]){var $t=`
`+et[R].replace(" at new "," at ");return p.displayName&&$t.includes("<anonymous>")&&($t=$t.replace("<anonymous>",p.displayName)),$t}while(1<=R&&0<=Q);break}}}finally{Yt=!1,Error.prepareStackTrace=S}return(S=p?p.displayName||p.name:"")?Gt(S):""}function sn(p,y){switch(p.tag){case 26:case 27:case 5:return Gt(p.type);case 16:return Gt("Lazy");case 13:return p.child!==y&&y!==null?Gt("Suspense Fallback"):Gt("Suspense");case 19:return Gt("SuspenseList");case 0:case 15:return Cn(p.type,!1);case 11:return Cn(p.type.render,!1);case 1:return Cn(p.type,!0);case 31:return Gt("Activity");default:return""}}function Rn(p){try{var y="",S=null;do y+=sn(p,S),S=p,p=p.return;while(p);return y}catch(R){return`
Error generating stack: `+R.message+`
`+R.stack}}var Fn=Object.prototype.hasOwnProperty,Vn=t.unstable_scheduleCallback,Qe=t.unstable_cancelCallback,Ye=t.unstable_shouldYield,bt=t.unstable_requestPaint,kt=t.unstable_now,Vt=t.unstable_getCurrentPriorityLevel,Oe=t.unstable_ImmediatePriority,se=t.unstable_UserBlockingPriority,K=t.unstable_NormalPriority,xe=t.unstable_LowPriority,$e=t.unstable_IdlePriority,ze=t.log,rt=t.unstable_setDisableYieldValue,tt=null,Ke=null;function at(p){if(typeof ze=="function"&&rt(p),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(tt,p)}catch{}}var St=Math.clz32?Math.clz32:ln,st=Math.log,zt=Math.LN2;function ln(p){return p>>>=0,p===0?32:31-(st(p)/zt|0)|0}var Nn=256,Ar=262144,kr=4194304;function ut(p){var y=p&42;if(y!==0)return y;switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return p&261888;case 262144:case 524288:case 1048576:case 2097152:return p&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return p&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return p}}function qr(p,y,S){var R=p.pendingLanes;if(R===0)return 0;var Q=0,G=p.suspendedLanes,de=p.pingedLanes;p=p.warmLanes;var Ae=R&134217727;return Ae!==0?(R=Ae&~G,R!==0?Q=ut(R):(de&=Ae,de!==0?Q=ut(de):S||(S=Ae&~p,S!==0&&(Q=ut(S))))):(Ae=R&~G,Ae!==0?Q=ut(Ae):de!==0?Q=ut(de):S||(S=R&~p,S!==0&&(Q=ut(S)))),Q===0?0:y!==0&&y!==Q&&(y&G)===0&&(G=Q&-Q,S=y&-y,G>=S||G===32&&(S&4194048)!==0)?y:Q}function ro(p,y){return(p.pendingLanes&~(p.suspendedLanes&~p.pingedLanes)&y)===0}function Jn(p,y){switch(p){case 1:case 2:case 4:case 8:case 64:return y+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return y+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function En(){var p=kr;return kr<<=1,(kr&62914560)===0&&(kr=4194304),p}function vi(p){for(var y=[],S=0;31>S;S++)y.push(p);return y}function ri(p,y){p.pendingLanes|=y,y!==268435456&&(p.suspendedLanes=0,p.pingedLanes=0,p.warmLanes=0)}function io(p,y,S,R,Q,G){var de=p.pendingLanes;p.pendingLanes=S,p.suspendedLanes=0,p.pingedLanes=0,p.warmLanes=0,p.expiredLanes&=S,p.entangledLanes&=S,p.errorRecoveryDisabledLanes&=S,p.shellSuspendCounter=0;var Ae=p.entanglements,et=p.expirationTimes,wt=p.hiddenUpdates;for(S=de&~S;0<S;){var $t=31-St(S),Ht=1<<$t;Ae[$t]=0,et[$t]=-1;var Ct=wt[$t];if(Ct!==null)for(wt[$t]=null,$t=0;$t<Ct.length;$t++){var Mt=Ct[$t];Mt!==null&&(Mt.lane&=-536870913)}S&=~Ht}R!==0&&ui(p,R,0),G!==0&&Q===0&&p.tag!==0&&(p.suspendedLanes|=G&~(de&~y))}function ui(p,y,S){p.pendingLanes|=y,p.suspendedLanes&=~y;var R=31-St(y);p.entangledLanes|=y,p.entanglements[R]=p.entanglements[R]|1073741824|S&261930}function Io(p,y){var S=p.entangledLanes|=y;for(p=p.entanglements;S;){var R=31-St(S),Q=1<<R;Q&y|p[R]&y&&(p[R]|=y),S&=~Q}}function jf(p,y){var S=y&-y;return S=(S&42)!==0?1:vd(S),(S&(p.suspendedLanes|y))!==0?0:S}function vd(p){switch(p){case 2:p=1;break;case 8:p=4;break;case 32:p=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:p=128;break;case 268435456:p=134217728;break;default:p=0}return p}function Kt(p){return p&=-p,2<p?8<p?(p&134217727)!==0?32:268435456:8:2}function $s(){var p=Me.p;return p!==0?p:(p=window.event,p===void 0?32:_g(p.type))}function zs(p,y){var S=Me.p;try{return Me.p=p,y()}finally{Me.p=S}}var Ql=Math.random().toString(36).slice(2),_i="__reactFiber$"+Ql,rn="__reactProps$"+Ql,sr="__reactContainer$"+Ql,fr="__reactEvents$"+Ql,La="__reactListeners$"+Ql,yy="__reactHandles$"+Ql,_c="__reactResources$"+Ql,or="__reactMarker$"+Ql;function _d(p){delete p[_i],delete p[rn],delete p[fr],delete p[La],delete p[yy]}function xc(p){var y=p[_i];if(y)return y;for(var S=p.parentNode;S;){if(y=S[sr]||S[_i]){if(S=y.alternate,y.child!==null||S!==null&&S.child!==null)for(p=a_(p);p!==null;){if(S=p[_i])return S;p=a_(p)}return y}p=S,S=p.parentNode}return null}function fu(p){if(p=p[_i]||p[sr]){var y=p.tag;if(y===5||y===6||y===13||y===31||y===26||y===27||y===3)return p}return null}function bc(p){var y=p.tag;if(y===5||y===26||y===27||y===6)return p.stateNode;throw Error(r(33))}function wc(p){var y=p[_c];return y||(y=p[_c]={hoistableStyles:new Map,hoistableScripts:new Map}),y}function oo(p){p[or]=!0}var Vf=new Set,Ns={};function Ir(p,y){pu(p,y),pu(p+"Capture",y)}function pu(p,y){for(Ns[p]=y,p=0;p<y.length;p++)Vf.add(y[p])}var Qf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uf={},fh={};function Ul(p){return Fn.call(fh,p)?!0:Fn.call(Uf,p)?!1:Qf.test(p)?fh[p]=!0:(Uf[p]=!0,!1)}function Sm(p,y,S){if(Ul(y))if(S===null)p.removeAttribute(y);else{switch(typeof S){case"undefined":case"function":case"symbol":p.removeAttribute(y);return;case"boolean":var R=y.toLowerCase().slice(0,5);if(R!=="data-"&&R!=="aria-"){p.removeAttribute(y);return}}p.setAttribute(y,""+S)}}function Oc(p,y,S){if(S===null)p.removeAttribute(y);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":p.removeAttribute(y);return}p.setAttribute(y,""+S)}}function ul(p,y,S,R){if(R===null)p.removeAttribute(S);else{switch(typeof R){case"undefined":case"function":case"symbol":case"boolean":p.removeAttribute(S);return}p.setAttributeNS(y,S,""+R)}}function Fr(p){switch(typeof p){case"bigint":case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function mv(p){var y=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(y==="checkbox"||y==="radio")}function Xx(p,y,S){var R=Object.getOwnPropertyDescriptor(p.constructor.prototype,y);if(!p.hasOwnProperty(y)&&typeof R<"u"&&typeof R.get=="function"&&typeof R.set=="function"){var Q=R.get,G=R.set;return Object.defineProperty(p,y,{configurable:!0,get:function(){return Q.call(this)},set:function(de){S=""+de,G.call(this,de)}}),Object.defineProperty(p,y,{enumerable:R.enumerable}),{getValue:function(){return S},setValue:function(de){S=""+de},stopTracking:function(){p._valueTracker=null,delete p[y]}}}}function xd(p){if(!p._valueTracker){var y=mv(p)?"checked":"value";p._valueTracker=Xx(p,y,""+p[y])}}function gv(p){if(!p)return!1;var y=p._valueTracker;if(!y)return!0;var S=y.getValue(),R="";return p&&(R=mv(p)?p.checked?"true":"false":p.value),p=R,p!==S?(y.setValue(p),!0):!1}function Cm(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}var Yx=/[\n"\\]/g;function sa(p){return p.replace(Yx,function(y){return"\\"+y.charCodeAt(0).toString(16)+" "})}function Tm(p,y,S,R,Q,G,de,Ae){p.name="",de!=null&&typeof de!="function"&&typeof de!="symbol"&&typeof de!="boolean"?p.type=de:p.removeAttribute("type"),y!=null?de==="number"?(y===0&&p.value===""||p.value!=y)&&(p.value=""+Fr(y)):p.value!==""+Fr(y)&&(p.value=""+Fr(y)):de!=="submit"&&de!=="reset"||p.removeAttribute("value"),y!=null?km(p,de,Fr(y)):S!=null?km(p,de,Fr(S)):R!=null&&p.removeAttribute("value"),Q==null&&G!=null&&(p.defaultChecked=!!G),Q!=null&&(p.checked=Q&&typeof Q!="function"&&typeof Q!="symbol"),Ae!=null&&typeof Ae!="function"&&typeof Ae!="symbol"&&typeof Ae!="boolean"?p.name=""+Fr(Ae):p.removeAttribute("name")}function vy(p,y,S,R,Q,G,de,Ae){if(G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(p.type=G),y!=null||S!=null){if(!(G!=="submit"&&G!=="reset"||y!=null)){xd(p);return}S=S!=null?""+Fr(S):"",y=y!=null?""+Fr(y):S,Ae||y===p.value||(p.value=y),p.defaultValue=y}R=R??Q,R=typeof R!="function"&&typeof R!="symbol"&&!!R,p.checked=Ae?p.checked:!!R,p.defaultChecked=!!R,de!=null&&typeof de!="function"&&typeof de!="symbol"&&typeof de!="boolean"&&(p.name=de),xd(p)}function km(p,y,S){y==="number"&&Cm(p.ownerDocument)===p||p.defaultValue===""+S||(p.defaultValue=""+S)}function ph(p,y,S,R){if(p=p.options,y){y={};for(var Q=0;Q<S.length;Q++)y["$"+S[Q]]=!0;for(S=0;S<p.length;S++)Q=y.hasOwnProperty("$"+p[S].value),p[S].selected!==Q&&(p[S].selected=Q),Q&&R&&(p[S].defaultSelected=!0)}else{for(S=""+Fr(S),y=null,Q=0;Q<p.length;Q++){if(p[Q].value===S){p[Q].selected=!0,R&&(p[Q].defaultSelected=!0);return}y!==null||p[Q].disabled||(y=p[Q])}y!==null&&(y.selected=!0)}}function Kx(p,y,S){if(y!=null&&(y=""+Fr(y),y!==p.value&&(p.value=y),S==null)){p.defaultValue!==y&&(p.defaultValue=y);return}p.defaultValue=S!=null?""+Fr(S):""}function Zf(p,y,S,R){if(y==null){if(R!=null){if(S!=null)throw Error(r(92));if(pe(R)){if(1<R.length)throw Error(r(93));R=R[0]}S=R}S==null&&(S=""),y=S}S=Fr(y),p.defaultValue=S,R=p.textContent,R===S&&R!==""&&R!==null&&(p.value=R),xd(p)}function mu(p,y){if(y){var S=p.firstChild;if(S&&S===p.lastChild&&S.nodeType===3){S.nodeValue=y;return}}p.textContent=y}var Jx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bd(p,y,S){var R=y.indexOf("--")===0;S==null||typeof S=="boolean"||S===""?R?p.setProperty(y,""):y==="float"?p.cssFloat="":p[y]="":R?p.setProperty(y,S):typeof S!="number"||S===0||Jx.has(y)?y==="float"?p.cssFloat=S:p[y]=(""+S).trim():p[y]=S+"px"}function _y(p,y,S){if(y!=null&&typeof y!="object")throw Error(r(62));if(p=p.style,S!=null){for(var R in S)!S.hasOwnProperty(R)||y!=null&&y.hasOwnProperty(R)||(R.indexOf("--")===0?p.setProperty(R,""):R==="float"?p.cssFloat="":p[R]="");for(var Q in y)R=y[Q],y.hasOwnProperty(Q)&&S[Q]!==R&&bd(p,Q,R)}else for(var G in y)y.hasOwnProperty(G)&&bd(p,G,y[G])}function wd(p){if(p.indexOf("-")===-1)return!1;switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ur(p){return qf.test(""+p)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":p}function Zl(){}var yv=null;function Em(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var Yo=null,Do=null;function $i(p){var y=fu(p);if(y&&(p=y.stateNode)){var S=p[rn]||null;e:switch(p=y.stateNode,y.type){case"input":if(Tm(p,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name),y=S.name,S.type==="radio"&&y!=null){for(S=p;S.parentNode;)S=S.parentNode;for(S=S.querySelectorAll('input[name="'+sa(""+y)+'"][type="radio"]'),y=0;y<S.length;y++){var R=S[y];if(R!==p&&R.form===p.form){var Q=R[rn]||null;if(!Q)throw Error(r(90));Tm(R,Q.value,Q.defaultValue,Q.defaultValue,Q.checked,Q.defaultChecked,Q.type,Q.name)}}for(y=0;y<S.length;y++)R=S[y],R.form===p.form&&gv(R)}break e;case"textarea":Kx(p,S.value,S.defaultValue);break e;case"select":y=S.value,y!=null&&ph(p,!!S.multiple,y,!1)}}}var Qn=!1;function hi(p,y,S){if(Qn)return p(y,S);Qn=!0;try{var R=p(y);return R}finally{if(Qn=!1,(Yo!==null||Do!==null)&&(Jv(),Yo&&(y=Yo,p=Do,Do=Yo=null,$i(y),p)))for(y=0;y<p.length;y++)$i(p[y])}}function hl(p,y){var S=p.stateNode;if(S===null)return null;var R=S[rn]||null;if(R===null)return null;S=R[y];e:switch(y){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(R=!R.disabled)||(p=p.type,R=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!R;break e;default:p=!1}if(p)return null;if(S&&typeof S!="function")throw Error(r(231,y,typeof S));return S}var so=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),aa=!1;if(so)try{var Ko={};Object.defineProperty(Ko,"passive",{get:function(){aa=!0}}),window.addEventListener("test",Ko,Ko),window.removeEventListener("test",Ko,Ko)}catch{aa=!1}var $a=null,Sc=null,zi=null;function gh(){if(zi)return zi;var p,y=Sc,S=y.length,R,Q="value"in $a?$a.value:$a.textContent,G=Q.length;for(p=0;p<S&&y[p]===Q[p];p++);var de=S-p;for(R=1;R<=de&&y[S-R]===Q[G-R];R++);return zi=Q.slice(p,1<R?1-R:void 0)}function za(p){var y=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&y===13&&(p=13)):p=y,p===10&&(p=13),32<=p||p===13?p:0}function Od(){return!0}function la(){return!1}function Qo(p){function y(S,R,Q,G,de){this._reactName=S,this._targetInst=Q,this.type=R,this.nativeEvent=G,this.target=de,this.currentTarget=null;for(var Ae in p)p.hasOwnProperty(Ae)&&(S=p[Ae],this[Ae]=S?S(G):G[Ae]);return this.isDefaultPrevented=(G.defaultPrevented!=null?G.defaultPrevented:G.returnValue===!1)?Od:la,this.isPropagationStopped=la,this}return v(y.prototype,{preventDefault:function(){this.defaultPrevented=!0;var S=this.nativeEvent;S&&(S.preventDefault?S.preventDefault():typeof S.returnValue!="unknown"&&(S.returnValue=!1),this.isDefaultPrevented=Od)},stopPropagation:function(){var S=this.nativeEvent;S&&(S.stopPropagation?S.stopPropagation():typeof S.cancelBubble!="unknown"&&(S.cancelBubble=!0),this.isPropagationStopped=Od)},persist:function(){},isPersistent:Od}),y}var ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Am=Qo(ca),Sd=v({},ca,{view:0,detail:0}),Cd=Qo(Sd),ii,yh,xr,ar=v({},Sd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rm,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==xr&&(xr&&p.type==="mousemove"?(ii=p.screenX-xr.screenX,yh=p.screenY-xr.screenY):yh=ii=0,xr=p),ii)},movementY:function(p){return"movementY"in p?p.movementY:yh}}),Td=Qo(ar),Dr=v({},ar,{dataTransfer:0}),Pm=Qo(Dr),dl=v({},Sd,{relatedTarget:0}),vh=Qo(dl),_h=v({},ca,{animationName:0,elapsedTime:0,pseudoElement:0}),eb=Qo(_h),Mm=v({},ca,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),vv=Qo(Mm),lS=v({},ca,{data:0}),_v=Qo(lS),ua={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ni={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kd(p){var y=this.nativeEvent;return y.getModifierState?y.getModifierState(p):(p=Ni[p])?!!y[p]:!1}function Rm(){return kd}var Im=v({},Sd,{key:function(p){if(p.key){var y=ua[p.key]||p.key;if(y!=="Unidentified")return y}return p.type==="keypress"?(p=za(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?Cc[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rm,charCode:function(p){return p.type==="keypress"?za(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?za(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),ao=Qo(Im),tb=v({},ar,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xy=Qo(tb),nb=v({},Sd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rm}),cS=Qo(nb),Wf=v({},ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),by=Qo(Wf),Hf=v({},ar,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),xv=Qo(Hf),Dm=v({},ca,{newState:0,oldState:0}),Gf=Qo(Dm),Xf=[9,13,27,32],xo=so&&"CompositionEvent"in window,Yf=null;so&&"documentMode"in document&&(Yf=document.documentMode);var Kf=so&&"TextEvent"in window&&!Yf,Jf=so&&(!xo||Yf&&8<Yf&&11>=Yf),xh=" ",rb=!1;function Lm(p,y){switch(p){case"keyup":return Xf.indexOf(y.keyCode)!==-1;case"keydown":return y.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ib(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var ql=!1;function wy(p,y){switch(p){case"compositionend":return ib(y);case"keypress":return y.which!==32?null:(rb=!0,xh);case"textInput":return p=y.data,p===xh&&rb?null:p;default:return null}}function ob(p,y){if(ql)return p==="compositionend"||!xo&&Lm(p,y)?(p=gh(),zi=Sc=$a=null,ql=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(y.ctrlKey||y.altKey||y.metaKey)||y.ctrlKey&&y.altKey){if(y.char&&1<y.char.length)return y.char;if(y.which)return String.fromCharCode(y.which)}return null;case"compositionend":return Jf&&y.locale!=="ko"?null:y.data;default:return null}}var sb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oy(p){var y=p&&p.nodeName&&p.nodeName.toLowerCase();return y==="input"?!!sb[p.type]:y==="textarea"}function Sy(p,y,S,R){Yo?Do?Do.push(R):Do=[R]:Yo=R,y=r_(y,"onChange"),0<y.length&&(S=new Am("onChange","change",null,S,R),p.push({event:S,listeners:y}))}var Ed=null,ep=null;function ab(p){zE(p,0)}function $m(p){var y=bc(p);if(gv(y))return p}function bh(p,y){if(p==="change")return y}var bv=!1;if(so){var zm;if(so){var wh="oninput"in document;if(!wh){var wv=document.createElement("div");wv.setAttribute("oninput","return;"),wh=typeof wv.oninput=="function"}zm=wh}else zm=!1;bv=zm&&(!document.documentMode||9<document.documentMode)}function Nm(){Ed&&(Ed.detachEvent("onpropertychange",lb),ep=Ed=null)}function lb(p){if(p.propertyName==="value"&&$m(ep)){var y=[];Sy(y,ep,p,Em(p)),hi(ab,y)}}function uS(p,y,S){p==="focusin"?(Nm(),Ed=y,ep=S,Ed.attachEvent("onpropertychange",lb)):p==="focusout"&&Nm()}function cb(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return $m(ep)}function Bm(p,y){if(p==="click")return $m(y)}function ub(p,y){if(p==="input"||p==="change")return $m(y)}function Ov(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var va=typeof Object.is=="function"?Object.is:Ov;function Oh(p,y){if(va(p,y))return!0;if(typeof p!="object"||p===null||typeof y!="object"||y===null)return!1;var S=Object.keys(p),R=Object.keys(y);if(S.length!==R.length)return!1;for(R=0;R<S.length;R++){var Q=S[R];if(!Fn.call(y,Q)||!va(p[Q],y[Q]))return!1}return!0}function fl(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function Fm(p,y){var S=fl(p);p=0;for(var R;S;){if(S.nodeType===3){if(R=p+S.textContent.length,p<=y&&R>=y)return{node:S,offset:y-p};p=R}e:{for(;S;){if(S.nextSibling){S=S.nextSibling;break e}S=S.parentNode}S=void 0}S=fl(S)}}function Cy(p,y){return p&&y?p===y?!0:p&&p.nodeType===3?!1:y&&y.nodeType===3?Cy(p,y.parentNode):"contains"in p?p.contains(y):p.compareDocumentPosition?!!(p.compareDocumentPosition(y)&16):!1:!1}function Ty(p){p=p!=null&&p.ownerDocument!=null&&p.ownerDocument.defaultView!=null?p.ownerDocument.defaultView:window;for(var y=Cm(p.document);y instanceof p.HTMLIFrameElement;){try{var S=typeof y.contentWindow.location.href=="string"}catch{S=!1}if(S)p=y.contentWindow;else break;y=Cm(p.document)}return y}function jm(p){var y=p&&p.nodeName&&p.nodeName.toLowerCase();return y&&(y==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||y==="textarea"||p.contentEditable==="true")}var ky=so&&"documentMode"in document&&11>=document.documentMode,pl=null,Vm=null,Qm=null,Ey=!1;function hb(p,y,S){var R=S.window===S?S.document:S.nodeType===9?S:S.ownerDocument;Ey||pl==null||pl!==Cm(R)||(R=pl,"selectionStart"in R&&jm(R)?R={start:R.selectionStart,end:R.selectionEnd}:(R=(R.ownerDocument&&R.ownerDocument.defaultView||window).getSelection(),R={anchorNode:R.anchorNode,anchorOffset:R.anchorOffset,focusNode:R.focusNode,focusOffset:R.focusOffset}),Qm&&Oh(Qm,R)||(Qm=R,R=r_(Vm,"onSelect"),0<R.length&&(y=new Am("onSelect","select",null,y,S),p.push({event:y,listeners:R}),y.target=pl)))}function Ad(p,y){var S={};return S[p.toLowerCase()]=y.toLowerCase(),S["Webkit"+p]="webkit"+y,S["Moz"+p]="moz"+y,S}var Pd={animationend:Ad("Animation","AnimationEnd"),animationiteration:Ad("Animation","AnimationIteration"),animationstart:Ad("Animation","AnimationStart"),transitionrun:Ad("Transition","TransitionRun"),transitionstart:Ad("Transition","TransitionStart"),transitioncancel:Ad("Transition","TransitionCancel"),transitionend:Ad("Transition","TransitionEnd")},Sv={},jr={};so&&(jr=document.createElement("div").style,"AnimationEvent"in window||(delete Pd.animationend.animation,delete Pd.animationiteration.animation,delete Pd.animationstart.animation),"TransitionEvent"in window||delete Pd.transitionend.transition);function Tc(p){if(Sv[p])return Sv[p];if(!Pd[p])return p;var y=Pd[p],S;for(S in y)if(y.hasOwnProperty(S)&&S in jr)return Sv[p]=y[S];return p}var Um=Tc("animationend"),Zm=Tc("animationiteration"),Ay=Tc("animationstart"),Md=Tc("transitionrun"),qm=Tc("transitionstart"),tp=Tc("transitioncancel"),Na=Tc("transitionend"),Cv=new Map,Py="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Py.push("scrollEnd");function Ba(p,y){Cv.set(p,y),Ir(y,[p])}var kc=typeof reportError=="function"?reportError:function(p){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof p=="object"&&p!==null&&typeof p.message=="string"?String(p.message):String(p),error:p});if(!window.dispatchEvent(y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",p);return}console.error(p)},ha=[],gu=0,Rd=0;function Id(){for(var p=gu,y=Rd=gu=0;y<p;){var S=ha[y];ha[y++]=null;var R=ha[y];ha[y++]=null;var Q=ha[y];ha[y++]=null;var G=ha[y];if(ha[y++]=null,R!==null&&Q!==null){var de=R.pending;de===null?Q.next=Q:(Q.next=de.next,de.next=Q),R.pending=Q}G!==0&&Tv(S,Q,G)}}function Wm(p,y,S,R){ha[gu++]=p,ha[gu++]=y,ha[gu++]=S,ha[gu++]=R,Rd|=R,p.lanes|=R,p=p.alternate,p!==null&&(p.lanes|=R)}function Sh(p,y,S,R){return Wm(p,y,S,R),np(p)}function ml(p,y){return Wm(p,null,null,y),np(p)}function Tv(p,y,S){p.lanes|=S;var R=p.alternate;R!==null&&(R.lanes|=S);for(var Q=!1,G=p.return;G!==null;)G.childLanes|=S,R=G.alternate,R!==null&&(R.childLanes|=S),G.tag===22&&(p=G.stateNode,p===null||p._visibility&1||(Q=!0)),p=G,G=G.return;return p.tag===3?(G=p.stateNode,Q&&y!==null&&(Q=31-St(S),p=G.hiddenUpdates,R=p[Q],R===null?p[Q]=[y]:R.push(y),y.lane=S|536870912),G):null}function np(p){if(50<Kv)throw Kv=0,ES=null,Error(r(185));for(var y=p.return;y!==null;)p=y,y=p.return;return p.tag===3?p.stateNode:null}var lr={};function My(p,y,S,R){this.tag=p,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=y,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fa(p,y,S,R){return new My(p,y,S,R)}function Ry(p){return p=p.prototype,!(!p||!p.isReactComponent)}function ja(p,y){var S=p.alternate;return S===null?(S=Fa(p.tag,y,p.key,p.mode),S.elementType=p.elementType,S.type=p.type,S.stateNode=p.stateNode,S.alternate=p,p.alternate=S):(S.pendingProps=y,S.type=p.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=p.flags&65011712,S.childLanes=p.childLanes,S.lanes=p.lanes,S.child=p.child,S.memoizedProps=p.memoizedProps,S.memoizedState=p.memoizedState,S.updateQueue=p.updateQueue,y=p.dependencies,S.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext},S.sibling=p.sibling,S.index=p.index,S.ref=p.ref,S.refCleanup=p.refCleanup,S}function db(p,y){p.flags&=65011714;var S=p.alternate;return S===null?(p.childLanes=0,p.lanes=y,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=S.childLanes,p.lanes=S.lanes,p.child=S.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=S.memoizedProps,p.memoizedState=S.memoizedState,p.updateQueue=S.updateQueue,p.type=S.type,y=S.dependencies,p.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext}),p}function Iy(p,y,S,R,Q,G){var de=0;if(R=p,typeof p=="function")Ry(p)&&(de=1);else if(typeof p=="string")de=o1(p,S,mt.current)?26:p==="html"||p==="head"||p==="body"?27:5;else e:switch(p){case re:return p=Fa(31,S,y,Q),p.elementType=re,p.lanes=G,p;case A:return Ch(S.children,Q,G,y);case M:de=8,Q|=24;break;case L:return p=Fa(12,S,y,Q|2),p.elementType=L,p.lanes=G,p;case U:return p=Fa(13,S,y,Q),p.elementType=U,p.lanes=G,p;case q:return p=Fa(19,S,y,Q),p.elementType=q,p.lanes=G,p;default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case N:de=10;break e;case $:de=9;break e;case F:de=11;break e;case W:de=14;break e;case te:de=16,R=null;break e}de=29,S=Error(r(130,p===null?"null":typeof p,"")),R=null}return y=Fa(de,S,y,Q),y.elementType=p,y.type=R,y.lanes=G,y}function Ch(p,y,S,R){return p=Fa(7,p,R,y),p.lanes=S,p}function kv(p,y,S){return p=Fa(6,p,null,y),p.lanes=S,p}function Dy(p){var y=Fa(18,null,null,0);return y.stateNode=p,y}function Th(p,y,S){return y=Fa(4,p.children!==null?p.children:[],p.key,y),y.lanes=S,y.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},y}var rp=new WeakMap;function da(p,y){if(typeof p=="object"&&p!==null){var S=rp.get(p);return S!==void 0?S:(y={value:p,source:y,stack:Rn(y)},rp.set(p,y),y)}return{value:p,source:y,stack:Rn(y)}}var kh=[],Eh=0,Dd=null,Ah=0,Jo=[],ls=0,Ec=null,Ac=1,_a="";function yu(p,y){kh[Eh++]=Ah,kh[Eh++]=Dd,Dd=p,Ah=y}function Ev(p,y,S){Jo[ls++]=Ac,Jo[ls++]=_a,Jo[ls++]=Ec,Ec=p;var R=Ac;p=_a;var Q=32-St(R)-1;R&=~(1<<Q),S+=1;var G=32-St(y)+Q;if(30<G){var de=Q-Q%5;G=(R&(1<<de)-1).toString(32),R>>=de,Q-=de,Ac=1<<32-St(y)+Q|S<<Q|R,_a=G+p}else Ac=1<<G|S<<Q|R,_a=p}function Ld(p){p.return!==null&&(yu(p,1),Ev(p,1,0))}function ip(p){for(;p===Dd;)Dd=kh[--Eh],kh[Eh]=null,Ah=kh[--Eh],kh[Eh]=null;for(;p===Ec;)Ec=Jo[--ls],Jo[ls]=null,_a=Jo[--ls],Jo[ls]=null,Ac=Jo[--ls],Jo[ls]=null}function Av(p,y){Jo[ls++]=Ac,Jo[ls++]=_a,Jo[ls++]=Ec,Ac=y.id,_a=y.overflow,Ec=p}var cs=null,di=null,Er=!1,vu=null,Va=!1,Hi=Error(r(519));function xa(p){var y=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _u(da(y,p)),Hi}function ba(p){var y=p.stateNode,S=p.type,R=p.memoizedProps;switch(y[_i]=p,y[rn]=R,S){case"dialog":Nr("cancel",y),Nr("close",y);break;case"iframe":case"object":case"embed":Nr("load",y);break;case"video":case"audio":for(S=0;S<_p.length;S++)Nr(_p[S],y);break;case"source":Nr("error",y);break;case"img":case"image":case"link":Nr("error",y),Nr("load",y);break;case"details":Nr("toggle",y);break;case"input":Nr("invalid",y),vy(y,R.value,R.defaultValue,R.checked,R.defaultChecked,R.type,R.name,!0);break;case"select":Nr("invalid",y);break;case"textarea":Nr("invalid",y),Zf(y,R.value,R.defaultValue,R.children)}S=R.children,typeof S!="string"&&typeof S!="number"&&typeof S!="bigint"||y.textContent===""+S||R.suppressHydrationWarning===!0||VS(y.textContent,S)?(R.popover!=null&&(Nr("beforetoggle",y),Nr("toggle",y)),R.onScroll!=null&&Nr("scroll",y),R.onScrollEnd!=null&&Nr("scrollend",y),R.onClick!=null&&(y.onclick=Zl),y=!0):y=!1,y||xa(p,!0)}function Hm(p){for(cs=p.return;cs;)switch(cs.tag){case 5:case 31:case 13:Va=!1;return;case 27:case 3:Va=!0;return;default:cs=cs.return}}function Pc(p){if(p!==cs)return!1;if(!Er)return Hm(p),Er=!0,!1;var y=p.tag,S;if((S=y!==3&&y!==27)&&((S=y===5)&&(S=p.type,S=!(S!=="form"&&S!=="button")||Kb(p.type,p.memoizedProps)),S=!S),S&&di&&xa(p),Hm(p),y===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));di=ys(p)}else if(y===31){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));di=ys(p)}else y===27?(y=di,wp(p.type)?(p=Xa,Xa=null,di=p):di=y):di=cs?ic(p.stateNode.nextSibling):null;return!0}function Mc(){di=cs=null,Er=!1}function Rc(){var p=vu;return p!==null&&(Cl===null?Cl=p:Cl.push.apply(Cl,p),vu=null),p}function _u(p){vu===null?vu=[p]:vu.push(p)}var xu=Pe(null),gl=null,Ic=null;function bu(p,y,S){ke(xu,y._currentValue),y._currentValue=S}function Dc(p){p._currentValue=xu.current,Xe(xu)}function Ly(p,y,S){for(;p!==null;){var R=p.alternate;if((p.childLanes&y)!==y?(p.childLanes|=y,R!==null&&(R.childLanes|=y)):R!==null&&(R.childLanes&y)!==y&&(R.childLanes|=y),p===S)break;p=p.return}}function $y(p,y,S,R){var Q=p.child;for(Q!==null&&(Q.return=p);Q!==null;){var G=Q.dependencies;if(G!==null){var de=Q.child;G=G.firstContext;e:for(;G!==null;){var Ae=G;G=Q;for(var et=0;et<y.length;et++)if(Ae.context===y[et]){G.lanes|=S,Ae=G.alternate,Ae!==null&&(Ae.lanes|=S),Ly(G.return,S,p),R||(de=null);break e}G=Ae.next}}else if(Q.tag===18){if(de=Q.return,de===null)throw Error(r(341));de.lanes|=S,G=de.alternate,G!==null&&(G.lanes|=S),Ly(de,S,p),de=null}else de=Q.child;if(de!==null)de.return=Q;else for(de=Q;de!==null;){if(de===p){de=null;break}if(Q=de.sibling,Q!==null){Q.return=de.return,de=Q;break}de=de.return}Q=de}}function Qa(p,y,S,R){p=null;for(var Q=y,G=!1;Q!==null;){if(!G){if((Q.flags&524288)!==0)G=!0;else if((Q.flags&262144)!==0)break}if(Q.tag===10){var de=Q.alternate;if(de===null)throw Error(r(387));if(de=de.memoizedProps,de!==null){var Ae=Q.type;va(Q.pendingProps.value,de.value)||(p!==null?p.push(Ae):p=[Ae])}}else if(Q===ot.current){if(de=Q.alternate,de===null)throw Error(r(387));de.memoizedState.memoizedState!==Q.memoizedState.memoizedState&&(p!==null?p.push(d0):p=[d0])}Q=Q.return}p!==null&&$y(y,p,S,R),y.flags|=262144}function op(p){for(p=p.firstContext;p!==null;){if(!va(p.context._currentValue,p.memoizedValue))return!0;p=p.next}return!1}function wu(p){gl=p,Ic=null,p=p.dependencies,p!==null&&(p.firstContext=null)}function Lo(p){return zy(gl,p)}function Gm(p,y){return gl===null&&wu(p),zy(p,y)}function zy(p,y){var S=y._currentValue;if(y={context:y,memoizedValue:S,next:null},Ic===null){if(p===null)throw Error(r(308));Ic=y,p.dependencies={lanes:0,firstContext:y},p.flags|=524288}else Ic=Ic.next=y;return S}var Pv=typeof AbortController<"u"?AbortController:function(){var p=[],y=this.signal={aborted:!1,addEventListener:function(S,R){p.push(R)}};this.abort=function(){y.aborted=!0,p.forEach(function(S){return S()})}},fb=t.unstable_scheduleCallback,Mv=t.unstable_NormalPriority,bo={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lc(){return{controller:new Pv,data:new Map,refCount:0}}function sp(p){p.refCount--,p.refCount===0&&fb(Mv,function(){p.controller.abort()})}var Bs=null,Ua=0,$d=0,Fs=null;function hS(p,y){if(Bs===null){var S=Bs=[];Ua=0,$d=zS(),Fs={status:"pending",value:void 0,then:function(R){S.push(R)}}}return Ua++,y.then(ap,ap),y}function ap(){if(--Ua===0&&Bs!==null){Fs!==null&&(Fs.status="fulfilled");var p=Bs;Bs=null,$d=0,Fs=null;for(var y=0;y<p.length;y++)(0,p[y])()}}function Xm(p,y){var S=[],R={status:"pending",value:null,reason:null,then:function(Q){S.push(Q)}};return p.then(function(){R.status="fulfilled",R.value=y;for(var Q=0;Q<S.length;Q++)(0,S[Q])(y)},function(Q){for(R.status="rejected",R.reason=Q,Q=0;Q<S.length;Q++)(0,S[Q])(void 0)}),R}var es=_e.S;_e.S=function(p,y){xE=kt(),typeof y=="object"&&y!==null&&typeof y.then=="function"&&hS(p,y),es!==null&&es(p,y)};var Wl=Pe(null);function Ny(){var p=Wl.current;return p!==null?p:ji.pooledCache}function By(p,y){y===null?ke(Wl,Wl.current):ke(Wl,y.pool)}function pb(){var p=Ny();return p===null?null:{parent:bo._currentValue,pool:p}}var Hl=Error(r(460)),Ph=Error(r(474)),wa=Error(r(542)),yn={then:function(){}};function Ym(p){return p=p.status,p==="fulfilled"||p==="rejected"}function Fy(p,y,S){switch(S=p[S],S===void 0?p.push(y):S!==y&&(y.then(Zl,Zl),y=S),y.status){case"fulfilled":return y.value;case"rejected":throw p=y.reason,jy(p),p;default:if(typeof y.status=="string")y.then(Zl,Zl);else{if(p=ji,p!==null&&100<p.shellSuspendCounter)throw Error(r(482));p=y,p.status="pending",p.then(function(R){if(y.status==="pending"){var Q=y;Q.status="fulfilled",Q.value=R}},function(R){if(y.status==="pending"){var Q=y;Q.status="rejected",Q.reason=R}})}switch(y.status){case"fulfilled":return y.value;case"rejected":throw p=y.reason,jy(p),p}throw Gl=y,Hl}}function yl(p){try{var y=p._init;return y(p._payload)}catch(S){throw S!==null&&typeof S=="object"&&typeof S.then=="function"?(Gl=S,Hl):S}}var Gl=null;function lp(){if(Gl===null)throw Error(r(459));var p=Gl;return Gl=null,p}function jy(p){if(p===Hl||p===wa)throw Error(r(483))}var $c=null,zd=0;function Km(p){var y=zd;return zd+=1,$c===null&&($c=[]),Fy($c,p,y)}function zc(p,y){y=y.props.ref,p.ref=y!==void 0?y:null}function Vy(p,y){throw y.$$typeof===x?Error(r(525)):(p=Object.prototype.toString.call(y),Error(r(31,p==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":p)))}function Jm(p){function y(lt,it){if(p){var _t=lt.deletions;_t===null?(lt.deletions=[it],lt.flags|=16):_t.push(it)}}function S(lt,it){if(!p)return null;for(;it!==null;)y(lt,it),it=it.sibling;return null}function R(lt){for(var it=new Map;lt!==null;)lt.key!==null?it.set(lt.key,lt):it.set(lt.index,lt),lt=lt.sibling;return it}function Q(lt,it){return lt=ja(lt,it),lt.index=0,lt.sibling=null,lt}function G(lt,it,_t){return lt.index=_t,p?(_t=lt.alternate,_t!==null?(_t=_t.index,_t<it?(lt.flags|=67108866,it):_t):(lt.flags|=67108866,it)):(lt.flags|=1048576,it)}function de(lt){return p&&lt.alternate===null&&(lt.flags|=67108866),lt}function Ae(lt,it,_t,Ut){return it===null||it.tag!==6?(it=kv(_t,lt.mode,Ut),it.return=lt,it):(it=Q(it,_t),it.return=lt,it)}function et(lt,it,_t,Ut){var Wn=_t.type;return Wn===A?$t(lt,it,_t.props.children,Ut,_t.key):it!==null&&(it.elementType===Wn||typeof Wn=="object"&&Wn!==null&&Wn.$$typeof===te&&yl(Wn)===it.type)?(it=Q(it,_t.props),zc(it,_t),it.return=lt,it):(it=Iy(_t.type,_t.key,_t.props,null,lt.mode,Ut),zc(it,_t),it.return=lt,it)}function wt(lt,it,_t,Ut){return it===null||it.tag!==4||it.stateNode.containerInfo!==_t.containerInfo||it.stateNode.implementation!==_t.implementation?(it=Th(_t,lt.mode,Ut),it.return=lt,it):(it=Q(it,_t.children||[]),it.return=lt,it)}function $t(lt,it,_t,Ut,Wn){return it===null||it.tag!==7?(it=Ch(_t,lt.mode,Ut,Wn),it.return=lt,it):(it=Q(it,_t),it.return=lt,it)}function Ht(lt,it,_t){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return it=kv(""+it,lt.mode,_t),it.return=lt,it;if(typeof it=="object"&&it!==null){switch(it.$$typeof){case O:return _t=Iy(it.type,it.key,it.props,null,lt.mode,_t),zc(_t,it),_t.return=lt,_t;case E:return it=Th(it,lt.mode,_t),it.return=lt,it;case te:return it=yl(it),Ht(lt,it,_t)}if(pe(it)||ie(it))return it=Ch(it,lt.mode,_t,null),it.return=lt,it;if(typeof it.then=="function")return Ht(lt,Km(it),_t);if(it.$$typeof===N)return Ht(lt,Gm(lt,it),_t);Vy(lt,it)}return null}function Ct(lt,it,_t,Ut){var Wn=it!==null?it.key:null;if(typeof _t=="string"&&_t!==""||typeof _t=="number"||typeof _t=="bigint")return Wn!==null?null:Ae(lt,it,""+_t,Ut);if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case O:return _t.key===Wn?et(lt,it,_t,Ut):null;case E:return _t.key===Wn?wt(lt,it,_t,Ut):null;case te:return _t=yl(_t),Ct(lt,it,_t,Ut)}if(pe(_t)||ie(_t))return Wn!==null?null:$t(lt,it,_t,Ut,null);if(typeof _t.then=="function")return Ct(lt,it,Km(_t),Ut);if(_t.$$typeof===N)return Ct(lt,it,Gm(lt,_t),Ut);Vy(lt,_t)}return null}function Mt(lt,it,_t,Ut,Wn){if(typeof Ut=="string"&&Ut!==""||typeof Ut=="number"||typeof Ut=="bigint")return lt=lt.get(_t)||null,Ae(it,lt,""+Ut,Wn);if(typeof Ut=="object"&&Ut!==null){switch(Ut.$$typeof){case O:return lt=lt.get(Ut.key===null?_t:Ut.key)||null,et(it,lt,Ut,Wn);case E:return lt=lt.get(Ut.key===null?_t:Ut.key)||null,wt(it,lt,Ut,Wn);case te:return Ut=yl(Ut),Mt(lt,it,_t,Ut,Wn)}if(pe(Ut)||ie(Ut))return lt=lt.get(_t)||null,$t(it,lt,Ut,Wn,null);if(typeof Ut.then=="function")return Mt(lt,it,_t,Km(Ut),Wn);if(Ut.$$typeof===N)return Mt(lt,it,_t,Gm(it,Ut),Wn);Vy(it,Ut)}return null}function Ln(lt,it,_t,Ut){for(var Wn=null,ai=null,$n=it,jn=it=0,Lr=null;$n!==null&&jn<_t.length;jn++){$n.index>jn?(Lr=$n,$n=null):Lr=$n.sibling;var ei=Ct(lt,$n,_t[jn],Ut);if(ei===null){$n===null&&($n=Lr);break}p&&$n&&ei.alternate===null&&y(lt,$n),it=G(ei,it,jn),ai===null?Wn=ei:ai.sibling=ei,ai=ei,$n=Lr}if(jn===_t.length)return S(lt,$n),Er&&yu(lt,jn),Wn;if($n===null){for(;jn<_t.length;jn++)$n=Ht(lt,_t[jn],Ut),$n!==null&&(it=G($n,it,jn),ai===null?Wn=$n:ai.sibling=$n,ai=$n);return Er&&yu(lt,jn),Wn}for($n=R($n);jn<_t.length;jn++)Lr=Mt($n,lt,jn,_t[jn],Ut),Lr!==null&&(p&&Lr.alternate!==null&&$n.delete(Lr.key===null?jn:Lr.key),it=G(Lr,it,jn),ai===null?Wn=Lr:ai.sibling=Lr,ai=Lr);return p&&$n.forEach(function(of){return y(lt,of)}),Er&&yu(lt,jn),Wn}function Xn(lt,it,_t,Ut){if(_t==null)throw Error(r(151));for(var Wn=null,ai=null,$n=it,jn=it=0,Lr=null,ei=_t.next();$n!==null&&!ei.done;jn++,ei=_t.next()){$n.index>jn?(Lr=$n,$n=null):Lr=$n.sibling;var of=Ct(lt,$n,ei.value,Ut);if(of===null){$n===null&&($n=Lr);break}p&&$n&&of.alternate===null&&y(lt,$n),it=G(of,it,jn),ai===null?Wn=of:ai.sibling=of,ai=of,$n=Lr}if(ei.done)return S(lt,$n),Er&&yu(lt,jn),Wn;if($n===null){for(;!ei.done;jn++,ei=_t.next())ei=Ht(lt,ei.value,Ut),ei!==null&&(it=G(ei,it,jn),ai===null?Wn=ei:ai.sibling=ei,ai=ei);return Er&&yu(lt,jn),Wn}for($n=R($n);!ei.done;jn++,ei=_t.next())ei=Mt($n,lt,jn,ei.value,Ut),ei!==null&&(p&&ei.alternate!==null&&$n.delete(ei.key===null?jn:ei.key),it=G(ei,it,jn),ai===null?Wn=ei:ai.sibling=ei,ai=ei);return p&&$n.forEach(function(u2){return y(lt,u2)}),Er&&yu(lt,jn),Wn}function Si(lt,it,_t,Ut){if(typeof _t=="object"&&_t!==null&&_t.type===A&&_t.key===null&&(_t=_t.props.children),typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case O:e:{for(var Wn=_t.key;it!==null;){if(it.key===Wn){if(Wn=_t.type,Wn===A){if(it.tag===7){S(lt,it.sibling),Ut=Q(it,_t.props.children),Ut.return=lt,lt=Ut;break e}}else if(it.elementType===Wn||typeof Wn=="object"&&Wn!==null&&Wn.$$typeof===te&&yl(Wn)===it.type){S(lt,it.sibling),Ut=Q(it,_t.props),zc(Ut,_t),Ut.return=lt,lt=Ut;break e}S(lt,it);break}else y(lt,it);it=it.sibling}_t.type===A?(Ut=Ch(_t.props.children,lt.mode,Ut,_t.key),Ut.return=lt,lt=Ut):(Ut=Iy(_t.type,_t.key,_t.props,null,lt.mode,Ut),zc(Ut,_t),Ut.return=lt,lt=Ut)}return de(lt);case E:e:{for(Wn=_t.key;it!==null;){if(it.key===Wn)if(it.tag===4&&it.stateNode.containerInfo===_t.containerInfo&&it.stateNode.implementation===_t.implementation){S(lt,it.sibling),Ut=Q(it,_t.children||[]),Ut.return=lt,lt=Ut;break e}else{S(lt,it);break}else y(lt,it);it=it.sibling}Ut=Th(_t,lt.mode,Ut),Ut.return=lt,lt=Ut}return de(lt);case te:return _t=yl(_t),Si(lt,it,_t,Ut)}if(pe(_t))return Ln(lt,it,_t,Ut);if(ie(_t)){if(Wn=ie(_t),typeof Wn!="function")throw Error(r(150));return _t=Wn.call(_t),Xn(lt,it,_t,Ut)}if(typeof _t.then=="function")return Si(lt,it,Km(_t),Ut);if(_t.$$typeof===N)return Si(lt,it,Gm(lt,_t),Ut);Vy(lt,_t)}return typeof _t=="string"&&_t!==""||typeof _t=="number"||typeof _t=="bigint"?(_t=""+_t,it!==null&&it.tag===6?(S(lt,it.sibling),Ut=Q(it,_t),Ut.return=lt,lt=Ut):(S(lt,it),Ut=kv(_t,lt.mode,Ut),Ut.return=lt,lt=Ut),de(lt)):S(lt,it)}return function(lt,it,_t,Ut){try{zd=0;var Wn=Si(lt,it,_t,Ut);return $c=null,Wn}catch($n){if($n===Hl||$n===wa)throw $n;var ai=Fa(29,$n,null,lt.mode);return ai.lanes=Ut,ai.return=lt,ai}}}var Nc=Jm(!0),Rv=Jm(!1),Bc=!1;function Qy(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eg(p,y){p=p.updateQueue,y.updateQueue===p&&(y.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,callbacks:null})}function Fc(p){return{lane:p,tag:0,payload:null,callback:null,next:null}}function Ou(p,y,S){var R=p.updateQueue;if(R===null)return null;if(R=R.shared,(mi&2)!==0){var Q=R.pending;return Q===null?y.next=y:(y.next=Q.next,Q.next=y),R.pending=y,y=np(p),Tv(p,null,S),y}return Wm(p,R,y,S),np(p)}function vl(p,y,S){if(y=y.updateQueue,y!==null&&(y=y.shared,(S&4194048)!==0)){var R=y.lanes;R&=p.pendingLanes,S|=R,y.lanes=S,Io(p,S)}}function Kr(p,y){var S=p.updateQueue,R=p.alternate;if(R!==null&&(R=R.updateQueue,S===R)){var Q=null,G=null;if(S=S.firstBaseUpdate,S!==null){do{var de={lane:S.lane,tag:S.tag,payload:S.payload,callback:null,next:null};G===null?Q=G=de:G=G.next=de,S=S.next}while(S!==null);G===null?Q=G=y:G=G.next=y}else Q=G=y;S={baseState:R.baseState,firstBaseUpdate:Q,lastBaseUpdate:G,shared:R.shared,callbacks:R.callbacks},p.updateQueue=S;return}p=S.lastBaseUpdate,p===null?S.firstBaseUpdate=y:p.next=y,S.lastBaseUpdate=y}var Iv=!1;function Su(){if(Iv){var p=Fs;if(p!==null)throw p}}function Mh(p,y,S,R){Iv=!1;var Q=p.updateQueue;Bc=!1;var G=Q.firstBaseUpdate,de=Q.lastBaseUpdate,Ae=Q.shared.pending;if(Ae!==null){Q.shared.pending=null;var et=Ae,wt=et.next;et.next=null,de===null?G=wt:de.next=wt,de=et;var $t=p.alternate;$t!==null&&($t=$t.updateQueue,Ae=$t.lastBaseUpdate,Ae!==de&&(Ae===null?$t.firstBaseUpdate=wt:Ae.next=wt,$t.lastBaseUpdate=et))}if(G!==null){var Ht=Q.baseState;de=0,$t=wt=et=null,Ae=G;do{var Ct=Ae.lane&-536870913,Mt=Ct!==Ae.lane;if(Mt?(zr&Ct)===Ct:(R&Ct)===Ct){Ct!==0&&Ct===$d&&(Iv=!0),$t!==null&&($t=$t.next={lane:0,tag:Ae.tag,payload:Ae.payload,callback:null,next:null});e:{var Ln=p,Xn=Ae;Ct=y;var Si=S;switch(Xn.tag){case 1:if(Ln=Xn.payload,typeof Ln=="function"){Ht=Ln.call(Si,Ht,Ct);break e}Ht=Ln;break e;case 3:Ln.flags=Ln.flags&-65537|128;case 0:if(Ln=Xn.payload,Ct=typeof Ln=="function"?Ln.call(Si,Ht,Ct):Ln,Ct==null)break e;Ht=v({},Ht,Ct);break e;case 2:Bc=!0}}Ct=Ae.callback,Ct!==null&&(p.flags|=64,Mt&&(p.flags|=8192),Mt=Q.callbacks,Mt===null?Q.callbacks=[Ct]:Mt.push(Ct))}else Mt={lane:Ct,tag:Ae.tag,payload:Ae.payload,callback:Ae.callback,next:null},$t===null?(wt=$t=Mt,et=Ht):$t=$t.next=Mt,de|=Ct;if(Ae=Ae.next,Ae===null){if(Ae=Q.shared.pending,Ae===null)break;Mt=Ae,Ae=Mt.next,Mt.next=null,Q.lastBaseUpdate=Mt,Q.shared.pending=null}}while(!0);$t===null&&(et=Ht),Q.baseState=et,Q.firstBaseUpdate=wt,Q.lastBaseUpdate=$t,G===null&&(Q.shared.lanes=0),Yd|=de,p.lanes=de,p.memoizedState=Ht}}function tg(p,y){if(typeof p!="function")throw Error(r(191,p));p.call(y)}function Uy(p,y){var S=p.callbacks;if(S!==null)for(p.callbacks=null,p=0;p<S.length;p++)tg(S[p],y)}var Nd=Pe(null),ng=Pe(0);function Dv(p,y){p=Xd,ke(ng,p),ke(Nd,y),Xd=p|y.baseLanes}function Za(){ke(ng,Xd),ke(Nd,Nd.current)}function Bd(){Xd=ng.current,Xe(Nd),Xe(ng)}var xn=Pe(null),An=null;function _l(p){var y=p.alternate;ke(lo,lo.current&1),ke(xn,p),An===null&&(y===null||Nd.current!==null||y.memoizedState!==null)&&(An=p)}function cp(p){ke(lo,lo.current),ke(xn,p),An===null&&(An=p)}function rg(p){p.tag===22?(ke(lo,lo.current),ke(xn,p),An===null&&(An=p)):wo()}function wo(){ke(lo,lo.current),ke(xn,xn.current)}function Gi(p){Xe(xn),An===p&&(An=null),Xe(lo)}var lo=Pe(0);function ig(p){for(var y=p;y!==null;){if(y.tag===13){var S=y.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||Ta(S)||Zo(S)))return y}else if(y.tag===19&&(y.memoizedProps.revealOrder==="forwards"||y.memoizedProps.revealOrder==="backwards"||y.memoizedProps.revealOrder==="unstable_legacy-backwards"||y.memoizedProps.revealOrder==="together")){if((y.flags&128)!==0)return y}else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===p)break;for(;y.sibling===null;){if(y.return===null||y.return===p)return null;y=y.return}y.sibling.return=y.return,y=y.sibling}return null}var Cu=0,_r=null,Gr=null,gr=null,Bi=!1,xl=!1,Xl=!1,Fd=0,jd=0,Tu=null,Lv=0;function Pi(){throw Error(r(321))}function Yl(p,y){if(y===null)return!1;for(var S=0;S<y.length&&S<p.length;S++)if(!va(p[S],y[S]))return!1;return!0}function up(p,y,S,R,Q,G){return Cu=G,_r=y,y.memoizedState=null,y.updateQueue=null,y.lanes=0,_e.H=p===null||p.memoizedState===null?pi:$o,Xl=!1,G=S(R,Q),Xl=!1,xl&&(G=og(y,S,R,Q)),hp(p),G}function hp(p){_e.H=Jr;var y=Gr!==null&&Gr.next!==null;if(Cu=0,gr=Gr=_r=null,Bi=!1,jd=0,Tu=null,y)throw Error(r(300));p===null||ds||(p=p.dependencies,p!==null&&op(p)&&(ds=!0))}function og(p,y,S,R){_r=p;var Q=0;do{if(xl&&(Tu=null),jd=0,xl=!1,25<=Q)throw Error(r(301));if(Q+=1,gr=Gr=null,p.updateQueue!=null){var G=p.updateQueue;G.lastEffect=null,G.events=null,G.stores=null,G.memoCache!=null&&(G.memoCache.index=0)}_e.H=Uo,G=y(S,R)}while(xl);return G}function sg(){var p=_e.H,y=p.useState()[0];return y=typeof y.then=="function"?Vd(y):y,p=p.useState()[0],(Gr!==null?Gr.memoizedState:null)!==p&&(_r.flags|=1024),y}function ag(){var p=Fd!==0;return Fd=0,p}function Rh(p,y,S){y.updateQueue=p.updateQueue,y.flags&=-2053,p.lanes&=~S}function ku(p){if(Bi){for(p=p.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}Bi=!1}Cu=0,gr=Gr=_r=null,xl=!1,jd=Fd=0,Tu=null}function Cs(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gr===null?_r.memoizedState=gr=p:gr=gr.next=p,gr}function Fi(){if(Gr===null){var p=_r.alternate;p=p!==null?p.memoizedState:null}else p=Gr.next;var y=gr===null?_r.memoizedState:gr.next;if(y!==null)gr=y,Gr=p;else{if(p===null)throw _r.alternate===null?Error(r(467)):Error(r(310));Gr=p,p={memoizedState:Gr.memoizedState,baseState:Gr.baseState,baseQueue:Gr.baseQueue,queue:Gr.queue,next:null},gr===null?_r.memoizedState=gr=p:gr=gr.next=p}return gr}function jc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vd(p){var y=jd;return jd+=1,Tu===null&&(Tu=[]),p=Fy(Tu,p,y),y=_r,(gr===null?y.memoizedState:gr.next)===null&&(y=y.alternate,_e.H=y===null||y.memoizedState===null?pi:$o),p}function Qd(p){if(p!==null&&typeof p=="object"){if(typeof p.then=="function")return Vd(p);if(p.$$typeof===N)return Lo(p)}throw Error(r(438,String(p)))}function dp(p){var y=null,S=_r.updateQueue;if(S!==null&&(y=S.memoCache),y==null){var R=_r.alternate;R!==null&&(R=R.updateQueue,R!==null&&(R=R.memoCache,R!=null&&(y={data:R.data.map(function(Q){return Q.slice()}),index:0})))}if(y==null&&(y={data:[],index:0}),S===null&&(S=jc(),_r.updateQueue=S),S.memoCache=y,S=y.data[y.index],S===void 0)for(S=y.data[y.index]=Array(p),R=0;R<p;R++)S[R]=ce;return y.index++,S}function Kl(p,y){return typeof y=="function"?y(p):y}function P(p){var y=Fi();return c(y,Gr,p)}function c(p,y,S){var R=p.queue;if(R===null)throw Error(r(311));R.lastRenderedReducer=S;var Q=p.baseQueue,G=R.pending;if(G!==null){if(Q!==null){var de=Q.next;Q.next=G.next,G.next=de}y.baseQueue=Q=G,R.pending=null}if(G=p.baseState,Q===null)p.memoizedState=G;else{y=Q.next;var Ae=de=null,et=null,wt=y,$t=!1;do{var Ht=wt.lane&-536870913;if(Ht!==wt.lane?(zr&Ht)===Ht:(Cu&Ht)===Ht){var Ct=wt.revertLane;if(Ct===0)et!==null&&(et=et.next={lane:0,revertLane:0,gesture:null,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null}),Ht===$d&&($t=!0);else if((Cu&Ct)===Ct){wt=wt.next,Ct===$d&&($t=!0);continue}else Ht={lane:0,revertLane:wt.revertLane,gesture:null,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null},et===null?(Ae=et=Ht,de=G):et=et.next=Ht,_r.lanes|=Ct,Yd|=Ct;Ht=wt.action,Xl&&S(G,Ht),G=wt.hasEagerState?wt.eagerState:S(G,Ht)}else Ct={lane:Ht,revertLane:wt.revertLane,gesture:wt.gesture,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null},et===null?(Ae=et=Ct,de=G):et=et.next=Ct,_r.lanes|=Ht,Yd|=Ht;wt=wt.next}while(wt!==null&&wt!==y);if(et===null?de=G:et.next=Ae,!va(G,p.memoizedState)&&(ds=!0,$t&&(S=Fs,S!==null)))throw S;p.memoizedState=G,p.baseState=de,p.baseQueue=et,R.lastRenderedState=G}return Q===null&&(R.lanes=0),[p.memoizedState,R.dispatch]}function m(p){var y=Fi(),S=y.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=p;var R=S.dispatch,Q=S.pending,G=y.memoizedState;if(Q!==null){S.pending=null;var de=Q=Q.next;do G=p(G,de.action),de=de.next;while(de!==Q);va(G,y.memoizedState)||(ds=!0),y.memoizedState=G,y.baseQueue===null&&(y.baseState=G),S.lastRenderedState=G}return[G,R]}function b(p,y,S){var R=_r,Q=Fi(),G=Er;if(G){if(S===void 0)throw Error(r(407));S=S()}else S=y();var de=!va((Gr||Q).memoizedState,S);if(de&&(Q.memoizedState=S,ds=!0),Q=Q.queue,pt(z.bind(null,R,Q,p),[p]),Q.getSnapshot!==y||de||gr!==null&&gr.memoizedState.tag&1){if(R.flags|=2048,Ze(9,{destroy:void 0},I.bind(null,R,Q,S,y),null),ji===null)throw Error(r(349));G||(Cu&127)!==0||C(R,y,S)}return S}function C(p,y,S){p.flags|=16384,p={getSnapshot:y,value:S},y=_r.updateQueue,y===null?(y=jc(),_r.updateQueue=y,y.stores=[p]):(S=y.stores,S===null?y.stores=[p]:S.push(p))}function I(p,y,S,R){y.value=S,y.getSnapshot=R,V(y)&&H(p)}function z(p,y,S){return S(function(){V(y)&&H(p)})}function V(p){var y=p.getSnapshot;p=p.value;try{var S=y();return!va(p,S)}catch{return!0}}function H(p){var y=ml(p,2);y!==null&&kl(y,p,2)}function J(p){var y=Cs();if(typeof p=="function"){var S=p;if(p=S(),Xl){at(!0);try{S()}finally{at(!1)}}}return y.memoizedState=y.baseState=p,y.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kl,lastRenderedState:p},y}function ne(p,y,S,R){return p.baseState=S,c(p,Gr,typeof R=="function"?R:Kl)}function he(p,y,S,R,Q){if(qa(p))throw Error(r(485));if(p=y.action,p!==null){var G={payload:Q,action:p,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(de){G.listeners.push(de)}};_e.T!==null?S(!0):G.isTransition=!1,R(G),S=y.pending,S===null?(G.next=y.pending=G,ue(y,G)):(G.next=S.next,y.pending=S.next=G)}}function ue(p,y){var S=y.action,R=y.payload,Q=p.state;if(y.isTransition){var G=_e.T,de={};_e.T=de;try{var Ae=S(Q,R),et=_e.S;et!==null&&et(de,Ae),ye(p,y,Ae)}catch(wt){Ie(p,y,wt)}finally{G!==null&&de.types!==null&&(G.types=de.types),_e.T=G}}else try{G=S(Q,R),ye(p,y,G)}catch(wt){Ie(p,y,wt)}}function ye(p,y,S){S!==null&&typeof S=="object"&&typeof S.then=="function"?S.then(function(R){Se(p,y,R)},function(R){return Ie(p,y,R)}):Se(p,y,S)}function Se(p,y,S){y.status="fulfilled",y.value=S,Le(y),p.state=S,y=p.pending,y!==null&&(S=y.next,S===y?p.pending=null:(S=S.next,y.next=S,ue(p,S)))}function Ie(p,y,S){var R=p.pending;if(p.pending=null,R!==null){R=R.next;do y.status="rejected",y.reason=S,Le(y),y=y.next;while(y!==R)}p.action=null}function Le(p){p=p.listeners;for(var y=0;y<p.length;y++)(0,p[y])()}function De(p,y){return y}function je(p,y){if(Er){var S=ji.formState;if(S!==null){e:{var R=_r;if(Er){if(di){t:{for(var Q=di,G=Va;Q.nodeType!==8;){if(!G){Q=null;break t}if(Q=ic(Q.nextSibling),Q===null){Q=null;break t}}G=Q.data,Q=G==="F!"||G==="F"?Q:null}if(Q){di=ic(Q.nextSibling),R=Q.data==="F!";break e}}xa(R)}R=!1}R&&(y=S[0])}}return S=Cs(),S.memoizedState=S.baseState=y,R={pending:null,lanes:0,dispatch:null,lastRenderedReducer:De,lastRenderedState:y},S.queue=R,S=fp.bind(null,_r,R),R.dispatch=S,R=J(!1),G=Sa.bind(null,_r,!1,R.queue),R=Cs(),Q={state:y,dispatch:null,action:p,pending:null},R.queue=Q,S=he.bind(null,_r,Q,G,S),Q.dispatch=S,R.memoizedState=p,[y,S,!1]}function He(p){var y=Fi();return Fe(y,Gr,p)}function Fe(p,y,S){if(y=c(p,y,De)[0],p=P(Kl)[0],typeof y=="object"&&y!==null&&typeof y.then=="function")try{var R=Vd(y)}catch(de){throw de===Hl?wa:de}else R=y;y=Fi();var Q=y.queue,G=Q.dispatch;return S!==y.memoizedState&&(_r.flags|=2048,Ze(9,{destroy:void 0},We.bind(null,Q,S),null)),[R,G,p]}function We(p,y){p.action=y}function Je(p){var y=Fi(),S=Gr;if(S!==null)return Fe(y,S,p);Fi(),y=y.memoizedState,S=Fi();var R=S.queue.dispatch;return S.memoizedState=p,[y,R,!1]}function Ze(p,y,S,R){return p={tag:p,create:S,deps:R,inst:y,next:null},y=_r.updateQueue,y===null&&(y=jc(),_r.updateQueue=y),S=y.lastEffect,S===null?y.lastEffect=p.next=p:(R=S.next,S.next=p,p.next=R,y.lastEffect=p),p}function nt(){return Fi().memoizedState}function yt(p,y,S,R){var Q=Cs();_r.flags|=p,Q.memoizedState=Ze(1|y,{destroy:void 0},S,R===void 0?null:R)}function ht(p,y,S,R){var Q=Fi();R=R===void 0?null:R;var G=Q.memoizedState.inst;Gr!==null&&R!==null&&Yl(R,Gr.memoizedState.deps)?Q.memoizedState=Ze(y,G,S,R):(_r.flags|=p,Q.memoizedState=Ze(1|y,G,S,R))}function ft(p,y){yt(8390656,8,p,y)}function pt(p,y){ht(2048,8,p,y)}function tn(p){_r.flags|=4;var y=_r.updateQueue;if(y===null)y=jc(),_r.updateQueue=y,y.events=[p];else{var S=y.events;S===null?y.events=[p]:S.push(p)}}function nn(p){var y=Fi().memoizedState;return tn({ref:y,nextImpl:p}),function(){if((mi&2)!==0)throw Error(r(440));return y.impl.apply(void 0,arguments)}}function Nt(p,y){return ht(4,2,p,y)}function cn(p,y){return ht(4,4,p,y)}function rr(p,y){if(typeof y=="function"){p=p();var S=y(p);return function(){typeof S=="function"?S():y(null)}}if(y!=null)return p=p(),y.current=p,function(){y.current=null}}function Xr(p,y,S){S=S!=null?S.concat([p]):null,ht(4,4,rr.bind(null,y,p),S)}function xi(){}function fi(p,y){var S=Fi();y=y===void 0?null:y;var R=S.memoizedState;return y!==null&&Yl(y,R[1])?R[0]:(S.memoizedState=[p,y],p)}function Mi(p,y){var S=Fi();y=y===void 0?null:y;var R=S.memoizedState;if(y!==null&&Yl(y,R[1]))return R[0];if(R=p(),Xl){at(!0);try{p()}finally{at(!1)}}return S.memoizedState=[R,y],R}function oi(p,y,S){return S===void 0||(Cu&1073741824)!==0&&(zr&261930)===0?p.memoizedState=y:(p.memoizedState=S,p=wE(),_r.lanes|=p,Yd|=p,S)}function Xi(p,y,S,R){return va(S,y)?S:Nd.current!==null?(p=oi(p,S,R),va(p,y)||(ds=!0),p):(Cu&42)===0||(Cu&1073741824)!==0&&(zr&261930)===0?(ds=!0,p.memoizedState=S):(p=wE(),_r.lanes|=p,Yd|=p,y)}function Ri(p,y,S,R,Q){var G=Me.p;Me.p=G!==0&&8>G?G:8;var de=_e.T,Ae={};_e.T=Ae,Sa(p,!1,y,S);try{var et=Q(),wt=_e.S;if(wt!==null&&wt(Ae,et),et!==null&&typeof et=="object"&&typeof et.then=="function"){var $t=Xm(et,R);ec(p,y,$t,Tl(p))}else ec(p,y,R,Tl(p))}catch(Ht){ec(p,y,{then:function(){},status:"rejected",reason:Ht},Tl())}finally{Me.p=G,de!==null&&Ae.types!==null&&(de.types=Ae.types),_e.T=de}}function us(){}function co(p,y,S,R){if(p.tag!==5)throw Error(r(476));var Q=uo(p).queue;Ri(p,Q,y,Be,S===null?us:function(){return hs(p),S(R)})}function uo(p){var y=p.memoizedState;if(y!==null)return y;y={memoizedState:Be,baseState:Be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kl,lastRenderedState:Be},next:null};var S={};return y.next={memoizedState:S,baseState:S,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kl,lastRenderedState:S},next:null},p.memoizedState=y,p=p.alternate,p!==null&&(p.memoizedState=y),y}function hs(p){var y=uo(p);y.next===null&&(y=p.alternate.memoizedState),ec(p,y.next.queue,{},Tl())}function Vc(){return Lo(d0)}function Qc(){return Fi().memoizedState}function Jl(){return Fi().memoizedState}function Oa(p){for(var y=p.return;y!==null;){switch(y.tag){case 24:case 3:var S=Tl();p=Fc(S);var R=Ou(y,p,S);R!==null&&(kl(R,y,S),vl(R,y,S)),y={cache:Lc()},p.payload=y;return}y=y.return}}function Ud(p,y,S){var R=Tl();S={lane:R,revertLane:0,gesture:null,action:S,hasEagerState:!1,eagerState:null,next:null},qa(p)?bl(y,S):(S=Sh(p,y,S,R),S!==null&&(kl(S,p,R),wl(S,y,R)))}function fp(p,y,S){var R=Tl();ec(p,y,S,R)}function ec(p,y,S,R){var Q={lane:R,revertLane:0,gesture:null,action:S,hasEagerState:!1,eagerState:null,next:null};if(qa(p))bl(y,Q);else{var G=p.alternate;if(p.lanes===0&&(G===null||G.lanes===0)&&(G=y.lastRenderedReducer,G!==null))try{var de=y.lastRenderedState,Ae=G(de,S);if(Q.hasEagerState=!0,Q.eagerState=Ae,va(Ae,de))return Wm(p,y,Q,0),ji===null&&Id(),!1}catch{}if(S=Sh(p,y,Q,R),S!==null)return kl(S,p,R),wl(S,y,R),!0}return!1}function Sa(p,y,S,R){if(R={lane:2,revertLane:zS(),gesture:null,action:R,hasEagerState:!1,eagerState:null,next:null},qa(p)){if(y)throw Error(r(479))}else y=Sh(p,S,R,2),y!==null&&kl(y,p,2)}function qa(p){var y=p.alternate;return p===_r||y!==null&&y===_r}function bl(p,y){xl=Bi=!0;var S=p.pending;S===null?y.next=y:(y.next=S.next,S.next=y),p.pending=y}function wl(p,y,S){if((S&4194048)!==0){var R=y.lanes;R&=p.pendingLanes,S|=R,y.lanes=S,Io(p,S)}}var Jr={readContext:Lo,use:Qd,useCallback:Pi,useContext:Pi,useEffect:Pi,useImperativeHandle:Pi,useLayoutEffect:Pi,useInsertionEffect:Pi,useMemo:Pi,useReducer:Pi,useRef:Pi,useState:Pi,useDebugValue:Pi,useDeferredValue:Pi,useTransition:Pi,useSyncExternalStore:Pi,useId:Pi,useHostTransitionStatus:Pi,useFormState:Pi,useActionState:Pi,useOptimistic:Pi,useMemoCache:Pi,useCacheRefresh:Pi};Jr.useEffectEvent=Pi;var pi={readContext:Lo,use:Qd,useCallback:function(p,y){return Cs().memoizedState=[p,y===void 0?null:y],p},useContext:Lo,useEffect:ft,useImperativeHandle:function(p,y,S){S=S!=null?S.concat([p]):null,yt(4194308,4,rr.bind(null,y,p),S)},useLayoutEffect:function(p,y){return yt(4194308,4,p,y)},useInsertionEffect:function(p,y){yt(4,2,p,y)},useMemo:function(p,y){var S=Cs();y=y===void 0?null:y;var R=p();if(Xl){at(!0);try{p()}finally{at(!1)}}return S.memoizedState=[R,y],R},useReducer:function(p,y,S){var R=Cs();if(S!==void 0){var Q=S(y);if(Xl){at(!0);try{S(y)}finally{at(!1)}}}else Q=y;return R.memoizedState=R.baseState=Q,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:Q},R.queue=p,p=p.dispatch=Ud.bind(null,_r,p),[R.memoizedState,p]},useRef:function(p){var y=Cs();return p={current:p},y.memoizedState=p},useState:function(p){p=J(p);var y=p.queue,S=fp.bind(null,_r,y);return y.dispatch=S,[p.memoizedState,S]},useDebugValue:xi,useDeferredValue:function(p,y){var S=Cs();return oi(S,p,y)},useTransition:function(){var p=J(!1);return p=Ri.bind(null,_r,p.queue,!0,!1),Cs().memoizedState=p,[!1,p]},useSyncExternalStore:function(p,y,S){var R=_r,Q=Cs();if(Er){if(S===void 0)throw Error(r(407));S=S()}else{if(S=y(),ji===null)throw Error(r(349));(zr&127)!==0||C(R,y,S)}Q.memoizedState=S;var G={value:S,getSnapshot:y};return Q.queue=G,ft(z.bind(null,R,G,p),[p]),R.flags|=2048,Ze(9,{destroy:void 0},I.bind(null,R,G,S,y),null),S},useId:function(){var p=Cs(),y=ji.identifierPrefix;if(Er){var S=_a,R=Ac;S=(R&~(1<<32-St(R)-1)).toString(32)+S,y="_"+y+"R_"+S,S=Fd++,0<S&&(y+="H"+S.toString(32)),y+="_"}else S=Lv++,y="_"+y+"r_"+S.toString(32)+"_";return p.memoizedState=y},useHostTransitionStatus:Vc,useFormState:je,useActionState:je,useOptimistic:function(p){var y=Cs();y.memoizedState=y.baseState=p;var S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return y.queue=S,y=Sa.bind(null,_r,!0,S),S.dispatch=y,[p,y]},useMemoCache:dp,useCacheRefresh:function(){return Cs().memoizedState=Oa.bind(null,_r)},useEffectEvent:function(p){var y=Cs(),S={impl:p};return y.memoizedState=S,function(){if((mi&2)!==0)throw Error(r(440));return S.impl.apply(void 0,arguments)}}},$o={readContext:Lo,use:Qd,useCallback:fi,useContext:Lo,useEffect:pt,useImperativeHandle:Xr,useInsertionEffect:Nt,useLayoutEffect:cn,useMemo:Mi,useReducer:P,useRef:nt,useState:function(){return P(Kl)},useDebugValue:xi,useDeferredValue:function(p,y){var S=Fi();return Xi(S,Gr.memoizedState,p,y)},useTransition:function(){var p=P(Kl)[0],y=Fi().memoizedState;return[typeof p=="boolean"?p:Vd(p),y]},useSyncExternalStore:b,useId:Qc,useHostTransitionStatus:Vc,useFormState:He,useActionState:He,useOptimistic:function(p,y){var S=Fi();return ne(S,Gr,p,y)},useMemoCache:dp,useCacheRefresh:Jl};$o.useEffectEvent=nn;var Uo={readContext:Lo,use:Qd,useCallback:fi,useContext:Lo,useEffect:pt,useImperativeHandle:Xr,useInsertionEffect:Nt,useLayoutEffect:cn,useMemo:Mi,useReducer:m,useRef:nt,useState:function(){return m(Kl)},useDebugValue:xi,useDeferredValue:function(p,y){var S=Fi();return Gr===null?oi(S,p,y):Xi(S,Gr.memoizedState,p,y)},useTransition:function(){var p=m(Kl)[0],y=Fi().memoizedState;return[typeof p=="boolean"?p:Vd(p),y]},useSyncExternalStore:b,useId:Qc,useHostTransitionStatus:Vc,useFormState:Je,useActionState:Je,useOptimistic:function(p,y){var S=Fi();return Gr!==null?ne(S,Gr,p,y):(S.baseState=p,[p,S.queue.dispatch])},useMemoCache:dp,useCacheRefresh:Jl};Uo.useEffectEvent=nn;function Zy(p,y,S,R){y=p.memoizedState,S=S(R,y),S=S==null?y:v({},y,S),p.memoizedState=S,p.lanes===0&&(p.updateQueue.baseState=S)}var qy={enqueueSetState:function(p,y,S){p=p._reactInternals;var R=Tl(),Q=Fc(R);Q.payload=y,S!=null&&(Q.callback=S),y=Ou(p,Q,R),y!==null&&(kl(y,p,R),vl(y,p,R))},enqueueReplaceState:function(p,y,S){p=p._reactInternals;var R=Tl(),Q=Fc(R);Q.tag=1,Q.payload=y,S!=null&&(Q.callback=S),y=Ou(p,Q,R),y!==null&&(kl(y,p,R),vl(y,p,R))},enqueueForceUpdate:function(p,y){p=p._reactInternals;var S=Tl(),R=Fc(S);R.tag=2,y!=null&&(R.callback=y),y=Ou(p,R,S),y!==null&&(kl(y,p,S),vl(y,p,S))}};function Ih(p,y,S,R,Q,G,de){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(R,G,de):y.prototype&&y.prototype.isPureReactComponent?!Oh(S,R)||!Oh(Q,G):!0}function mb(p,y,S,R){p=y.state,typeof y.componentWillReceiveProps=="function"&&y.componentWillReceiveProps(S,R),typeof y.UNSAFE_componentWillReceiveProps=="function"&&y.UNSAFE_componentWillReceiveProps(S,R),y.state!==p&&qy.enqueueReplaceState(y,y.state,null)}function Dh(p,y){var S=y;if("ref"in y){S={};for(var R in y)R!=="ref"&&(S[R]=y[R])}if(p=p.defaultProps){S===y&&(S=v({},S));for(var Q in p)S[Q]===void 0&&(S[Q]=p[Q])}return S}function Wy(p){kc(p)}function Eu(p){console.error(p)}function Au(p){kc(p)}function tc(p,y){try{var S=p.onUncaughtError;S(y.value,{componentStack:y.stack})}catch(R){setTimeout(function(){throw R})}}function Hy(p,y,S){try{var R=p.onCaughtError;R(S.value,{componentStack:S.stack,errorBoundary:y.tag===1?y.stateNode:null})}catch(Q){setTimeout(function(){throw Q})}}function lg(p,y,S){return S=Fc(S),S.tag=3,S.payload={element:null},S.callback=function(){tc(p,y)},S}function cg(p){return p=Fc(p),p.tag=3,p}function ug(p,y,S,R){var Q=S.type.getDerivedStateFromError;if(typeof Q=="function"){var G=R.value;p.payload=function(){return Q(G)},p.callback=function(){Hy(y,S,R)}}var de=S.stateNode;de!==null&&typeof de.componentDidCatch=="function"&&(p.callback=function(){Hy(y,S,R),typeof Q!="function"&&(Kd===null?Kd=new Set([this]):Kd.add(this));var Ae=R.stack;this.componentDidCatch(R.value,{componentStack:Ae!==null?Ae:""})})}function gb(p,y,S,R,Q){if(S.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){if(y=S.alternate,y!==null&&Qa(y,S,Q,!0),S=xn.current,S!==null){switch(S.tag){case 31:case 13:return An===null?e_():S.alternate===null&&zo===0&&(zo=3),S.flags&=-257,S.flags|=65536,S.lanes=Q,R===yn?S.flags|=16384:(y=S.updateQueue,y===null?S.updateQueue=new Set([R]):y.add(R),jb(p,R,Q)),!1;case 22:return S.flags|=65536,R===yn?S.flags|=16384:(y=S.updateQueue,y===null?(y={transitions:null,markerInstances:null,retryQueue:new Set([R])},S.updateQueue=y):(S=y.retryQueue,S===null?y.retryQueue=new Set([R]):S.add(R)),jb(p,R,Q)),!1}throw Error(r(435,S.tag))}return jb(p,R,Q),e_(),!1}if(Er)return y=xn.current,y!==null?((y.flags&65536)===0&&(y.flags|=256),y.flags|=65536,y.lanes=Q,R!==Hi&&(p=Error(r(422),{cause:R}),_u(da(p,S)))):(R!==Hi&&(y=Error(r(423),{cause:R}),_u(da(y,S))),p=p.current.alternate,p.flags|=65536,Q&=-Q,p.lanes|=Q,R=da(R,S),Q=lg(p.stateNode,R,Q),Kr(p,Q),zo!==4&&(zo=2)),!1;var G=Error(r(520),{cause:R});if(G=da(G,S),Xv===null?Xv=[G]:Xv.push(G),zo!==4&&(zo=2),y===null)return!0;R=da(R,S),S=y;do{switch(S.tag){case 3:return S.flags|=65536,p=Q&-Q,S.lanes|=p,p=lg(S.stateNode,R,p),Kr(S,p),!1;case 1:if(y=S.type,G=S.stateNode,(S.flags&128)===0&&(typeof y.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Kd===null||!Kd.has(G))))return S.flags|=65536,Q&=-Q,S.lanes|=Q,Q=cg(Q),ug(Q,p,S,R),Kr(S,Q),!1}S=S.return}while(S!==null);return!1}var yb=Error(r(461)),ds=!1;function Ts(p,y,S,R){y.child=p===null?Rv(y,null,S,R):Nc(y,p.child,S,R)}function oE(p,y,S,R,Q){S=S.render;var G=y.ref;if("ref"in R){var de={};for(var Ae in R)Ae!=="ref"&&(de[Ae]=R[Ae])}else de=R;return wu(y),R=up(p,y,S,de,G,Q),Ae=ag(),p!==null&&!ds?(Rh(p,y,Q),$h(p,y,Q)):(Er&&Ae&&Ld(y),y.flags|=1,Ts(p,y,R,Q),y.child)}function vb(p,y,S,R,Q){if(p===null){var G=S.type;return typeof G=="function"&&!Ry(G)&&G.defaultProps===void 0&&S.compare===null?(y.tag=15,y.type=G,dS(p,y,G,R,Q)):(p=Iy(S.type,null,R,y,y.mode,Q),p.ref=y.ref,p.return=y,y.child=p)}if(G=p.child,!Nv(p,Q)){var de=G.memoizedProps;if(S=S.compare,S=S!==null?S:Oh,S(de,R)&&p.ref===y.ref)return $h(p,y,Q)}return y.flags|=1,p=ja(G,R),p.ref=y.ref,p.return=y,y.child=p}function dS(p,y,S,R,Q){if(p!==null){var G=p.memoizedProps;if(Oh(G,R)&&p.ref===y.ref)if(ds=!1,y.pendingProps=R=G,Nv(p,Q))(p.flags&131072)!==0&&(ds=!0);else return y.lanes=p.lanes,$h(p,y,Q)}return pS(p,y,S,R,Q)}function fS(p,y,S,R){var Q=R.children,G=p!==null?p.memoizedState:null;if(p===null&&y.stateNode===null&&(y.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),R.mode==="hidden"){if((y.flags&128)!==0){if(G=G!==null?G.baseLanes|S:S,p!==null){for(R=y.child=p.child,Q=0;R!==null;)Q=Q|R.lanes|R.childLanes,R=R.sibling;R=Q&~G}else R=0,y.child=null;return sE(p,y,G,S,R)}if((S&536870912)!==0)y.memoizedState={baseLanes:0,cachePool:null},p!==null&&By(y,G!==null?G.cachePool:null),G!==null?Dv(y,G):Za(),rg(y);else return R=y.lanes=536870912,sE(p,y,G!==null?G.baseLanes|S:S,S,R)}else G!==null?(By(y,G.cachePool),Dv(y,G),wo(),y.memoizedState=null):(p!==null&&By(y,null),Za(),wo());return Ts(p,y,Q,S),y.child}function Lh(p,y){return p!==null&&p.tag===22||y.stateNode!==null||(y.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.sibling}function sE(p,y,S,R,Q){var G=Ny();return G=G===null?null:{parent:bo._currentValue,pool:G},y.memoizedState={baseLanes:S,cachePool:G},p!==null&&By(y,null),Za(),rg(y),p!==null&&Qa(p,y,R,!0),y.childLanes=Q,null}function Zd(p,y){return y=Ob({mode:y.mode,children:y.children},p.mode),y.ref=p.ref,p.child=y,y.return=p,y}function $v(p,y,S){return Nc(y,p.child,null,S),p=Zd(y,y.pendingProps),p.flags|=2,Gi(y),y.memoizedState=null,p}function _b(p,y,S){var R=y.pendingProps,Q=(y.flags&128)!==0;if(y.flags&=-129,p===null){if(Er){if(R.mode==="hidden")return p=Zd(y,R),y.lanes=536870912,Lh(null,p);if(cp(y),(p=di)?(p=Op(p,Va),p=p!==null&&p.data==="&"?p:null,p!==null&&(y.memoizedState={dehydrated:p,treeContext:Ec!==null?{id:Ac,overflow:_a}:null,retryLane:536870912,hydrationErrors:null},S=Dy(p),S.return=y,y.child=S,cs=y,di=null)):p=null,p===null)throw xa(y);return y.lanes=536870912,null}return Zd(y,R)}var G=p.memoizedState;if(G!==null){var de=G.dehydrated;if(cp(y),Q)if(y.flags&256)y.flags&=-257,y=$v(p,y,S);else if(y.memoizedState!==null)y.child=p.child,y.flags|=128,y=null;else throw Error(r(558));else if(ds||Qa(p,y,S,!1),Q=(S&p.childLanes)!==0,ds||Q){if(R=ji,R!==null&&(de=jf(R,S),de!==0&&de!==G.retryLane))throw G.retryLane=de,ml(p,de),kl(R,p,de),yb;e_(),y=$v(p,y,S)}else p=G.treeContext,di=ic(de.nextSibling),cs=y,Er=!0,vu=null,Va=!1,p!==null&&Av(y,p),y=Zd(y,R),y.flags|=4096;return y}return p=ja(p.child,{mode:R.mode,children:R.children}),p.ref=y.ref,y.child=p,p.return=y,p}function xb(p,y){var S=y.ref;if(S===null)p!==null&&p.ref!==null&&(y.flags|=4194816);else{if(typeof S!="function"&&typeof S!="object")throw Error(r(284));(p===null||p.ref!==S)&&(y.flags|=4194816)}}function pS(p,y,S,R,Q){return wu(y),S=up(p,y,S,R,void 0,Q),R=ag(),p!==null&&!ds?(Rh(p,y,Q),$h(p,y,Q)):(Er&&R&&Ld(y),y.flags|=1,Ts(p,y,S,Q),y.child)}function aE(p,y,S,R,Q,G){return wu(y),y.updateQueue=null,S=og(y,R,S,Q),hp(p),R=ag(),p!==null&&!ds?(Rh(p,y,G),$h(p,y,G)):(Er&&R&&Ld(y),y.flags|=1,Ts(p,y,S,G),y.child)}function lE(p,y,S,R,Q){if(wu(y),y.stateNode===null){var G=lr,de=S.contextType;typeof de=="object"&&de!==null&&(G=Lo(de)),G=new S(R,G),y.memoizedState=G.state!==null&&G.state!==void 0?G.state:null,G.updater=qy,y.stateNode=G,G._reactInternals=y,G=y.stateNode,G.props=R,G.state=y.memoizedState,G.refs={},Qy(y),de=S.contextType,G.context=typeof de=="object"&&de!==null?Lo(de):lr,G.state=y.memoizedState,de=S.getDerivedStateFromProps,typeof de=="function"&&(Zy(y,S,de,R),G.state=y.memoizedState),typeof S.getDerivedStateFromProps=="function"||typeof G.getSnapshotBeforeUpdate=="function"||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(de=G.state,typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount(),de!==G.state&&qy.enqueueReplaceState(G,G.state,null),Mh(y,R,G,Q),Su(),G.state=y.memoizedState),typeof G.componentDidMount=="function"&&(y.flags|=4194308),R=!0}else if(p===null){G=y.stateNode;var Ae=y.memoizedProps,et=Dh(S,Ae);G.props=et;var wt=G.context,$t=S.contextType;de=lr,typeof $t=="object"&&$t!==null&&(de=Lo($t));var Ht=S.getDerivedStateFromProps;$t=typeof Ht=="function"||typeof G.getSnapshotBeforeUpdate=="function",Ae=y.pendingProps!==Ae,$t||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(Ae||wt!==de)&&mb(y,G,R,de),Bc=!1;var Ct=y.memoizedState;G.state=Ct,Mh(y,R,G,Q),Su(),wt=y.memoizedState,Ae||Ct!==wt||Bc?(typeof Ht=="function"&&(Zy(y,S,Ht,R),wt=y.memoizedState),(et=Bc||Ih(y,S,et,R,Ct,wt,de))?($t||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(y.flags|=4194308)):(typeof G.componentDidMount=="function"&&(y.flags|=4194308),y.memoizedProps=R,y.memoizedState=wt),G.props=R,G.state=wt,G.context=de,R=et):(typeof G.componentDidMount=="function"&&(y.flags|=4194308),R=!1)}else{G=y.stateNode,eg(p,y),de=y.memoizedProps,$t=Dh(S,de),G.props=$t,Ht=y.pendingProps,Ct=G.context,wt=S.contextType,et=lr,typeof wt=="object"&&wt!==null&&(et=Lo(wt)),Ae=S.getDerivedStateFromProps,(wt=typeof Ae=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(de!==Ht||Ct!==et)&&mb(y,G,R,et),Bc=!1,Ct=y.memoizedState,G.state=Ct,Mh(y,R,G,Q),Su();var Mt=y.memoizedState;de!==Ht||Ct!==Mt||Bc||p!==null&&p.dependencies!==null&&op(p.dependencies)?(typeof Ae=="function"&&(Zy(y,S,Ae,R),Mt=y.memoizedState),($t=Bc||Ih(y,S,$t,R,Ct,Mt,et)||p!==null&&p.dependencies!==null&&op(p.dependencies))?(wt||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(R,Mt,et),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(R,Mt,et)),typeof G.componentDidUpdate=="function"&&(y.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(y.flags|=1024)):(typeof G.componentDidUpdate!="function"||de===p.memoizedProps&&Ct===p.memoizedState||(y.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||de===p.memoizedProps&&Ct===p.memoizedState||(y.flags|=1024),y.memoizedProps=R,y.memoizedState=Mt),G.props=R,G.state=Mt,G.context=et,R=$t):(typeof G.componentDidUpdate!="function"||de===p.memoizedProps&&Ct===p.memoizedState||(y.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||de===p.memoizedProps&&Ct===p.memoizedState||(y.flags|=1024),R=!1)}return G=R,xb(p,y),R=(y.flags&128)!==0,G||R?(G=y.stateNode,S=R&&typeof S.getDerivedStateFromError!="function"?null:G.render(),y.flags|=1,p!==null&&R?(y.child=Nc(y,p.child,null,Q),y.child=Nc(y,null,S,Q)):Ts(p,y,S,Q),y.memoizedState=G.state,p=y.child):p=$h(p,y,Q),p}function cE(p,y,S,R){return Mc(),y.flags|=256,Ts(p,y,S,R),y.child}var bb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zv(p){return{baseLanes:p,cachePool:pb()}}function wb(p,y,S){return p=p!==null?p.childLanes&~S:0,y&&(p|=fa),p}function mS(p,y,S){var R=y.pendingProps,Q=!1,G=(y.flags&128)!==0,de;if((de=G)||(de=p!==null&&p.memoizedState===null?!1:(lo.current&2)!==0),de&&(Q=!0,y.flags&=-129),de=(y.flags&32)!==0,y.flags&=-33,p===null){if(Er){if(Q?_l(y):wo(),(p=di)?(p=Op(p,Va),p=p!==null&&p.data!=="&"?p:null,p!==null&&(y.memoizedState={dehydrated:p,treeContext:Ec!==null?{id:Ac,overflow:_a}:null,retryLane:536870912,hydrationErrors:null},S=Dy(p),S.return=y,y.child=S,cs=y,di=null)):p=null,p===null)throw xa(y);return Zo(p)?y.lanes=32:y.lanes=536870912,null}var Ae=R.children;return R=R.fallback,Q?(wo(),Q=y.mode,Ae=Ob({mode:"hidden",children:Ae},Q),R=Ch(R,Q,S,null),Ae.return=y,R.return=y,Ae.sibling=R,y.child=Ae,R=y.child,R.memoizedState=zv(S),R.childLanes=wb(p,de,S),y.memoizedState=bb,Lh(null,R)):(_l(y),gS(y,Ae))}var et=p.memoizedState;if(et!==null&&(Ae=et.dehydrated,Ae!==null)){if(G)y.flags&256?(_l(y),y.flags&=-257,y=Sb(p,y,S)):y.memoizedState!==null?(wo(),y.child=p.child,y.flags|=128,y=null):(wo(),Ae=R.fallback,Q=y.mode,R=Ob({mode:"visible",children:R.children},Q),Ae=Ch(Ae,Q,S,null),Ae.flags|=2,R.return=y,Ae.return=y,R.sibling=Ae,y.child=R,Nc(y,p.child,null,S),R=y.child,R.memoizedState=zv(S),R.childLanes=wb(p,de,S),y.memoizedState=bb,y=Lh(null,R));else if(_l(y),Zo(Ae)){if(de=Ae.nextSibling&&Ae.nextSibling.dataset,de)var wt=de.dgst;de=wt,R=Error(r(419)),R.stack="",R.digest=de,_u({value:R,source:null,stack:null}),y=Sb(p,y,S)}else if(ds||Qa(p,y,S,!1),de=(S&p.childLanes)!==0,ds||de){if(de=ji,de!==null&&(R=jf(de,S),R!==0&&R!==et.retryLane))throw et.retryLane=R,ml(p,R),kl(de,p,R),yb;Ta(Ae)||e_(),y=Sb(p,y,S)}else Ta(Ae)?(y.flags|=192,y.child=p.child,y=null):(p=et.treeContext,di=ic(Ae.nextSibling),cs=y,Er=!0,vu=null,Va=!1,p!==null&&Av(y,p),y=gS(y,R.children),y.flags|=4096);return y}return Q?(wo(),Ae=R.fallback,Q=y.mode,et=p.child,wt=et.sibling,R=ja(et,{mode:"hidden",children:R.children}),R.subtreeFlags=et.subtreeFlags&65011712,wt!==null?Ae=ja(wt,Ae):(Ae=Ch(Ae,Q,S,null),Ae.flags|=2),Ae.return=y,R.return=y,R.sibling=Ae,y.child=R,Lh(null,R),R=y.child,Ae=p.child.memoizedState,Ae===null?Ae=zv(S):(Q=Ae.cachePool,Q!==null?(et=bo._currentValue,Q=Q.parent!==et?{parent:et,pool:et}:Q):Q=pb(),Ae={baseLanes:Ae.baseLanes|S,cachePool:Q}),R.memoizedState=Ae,R.childLanes=wb(p,de,S),y.memoizedState=bb,Lh(p.child,R)):(_l(y),S=p.child,p=S.sibling,S=ja(S,{mode:"visible",children:R.children}),S.return=y,S.sibling=null,p!==null&&(de=y.deletions,de===null?(y.deletions=[p],y.flags|=16):de.push(p)),y.child=S,y.memoizedState=null,S)}function gS(p,y){return y=Ob({mode:"visible",children:y},p.mode),y.return=p,p.child=y}function Ob(p,y){return p=Fa(22,p,null,y),p.lanes=0,p}function Sb(p,y,S){return Nc(y,p.child,null,S),p=gS(y,y.pendingProps.children),p.flags|=2,y.memoizedState=null,p}function yS(p,y,S){p.lanes|=y;var R=p.alternate;R!==null&&(R.lanes|=y),Ly(p.return,y,S)}function vS(p,y,S,R,Q,G){var de=p.memoizedState;de===null?p.memoizedState={isBackwards:y,rendering:null,renderingStartTime:0,last:R,tail:S,tailMode:Q,treeForkCount:G}:(de.isBackwards=y,de.rendering=null,de.renderingStartTime=0,de.last=R,de.tail=S,de.tailMode=Q,de.treeForkCount=G)}function Cb(p,y,S){var R=y.pendingProps,Q=R.revealOrder,G=R.tail;R=R.children;var de=lo.current,Ae=(de&2)!==0;if(Ae?(de=de&1|2,y.flags|=128):de&=1,ke(lo,de),Ts(p,y,R,S),R=Er?Ah:0,!Ae&&p!==null&&(p.flags&128)!==0)e:for(p=y.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&yS(p,S,y);else if(p.tag===19)yS(p,S,y);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===y)break e;for(;p.sibling===null;){if(p.return===null||p.return===y)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}switch(Q){case"forwards":for(S=y.child,Q=null;S!==null;)p=S.alternate,p!==null&&ig(p)===null&&(Q=S),S=S.sibling;S=Q,S===null?(Q=y.child,y.child=null):(Q=S.sibling,S.sibling=null),vS(y,!1,Q,S,G,R);break;case"backwards":case"unstable_legacy-backwards":for(S=null,Q=y.child,y.child=null;Q!==null;){if(p=Q.alternate,p!==null&&ig(p)===null){y.child=Q;break}p=Q.sibling,Q.sibling=S,S=Q,Q=p}vS(y,!0,S,null,G,R);break;case"together":vS(y,!1,null,null,void 0,R);break;default:y.memoizedState=null}return y.child}function $h(p,y,S){if(p!==null&&(y.dependencies=p.dependencies),Yd|=y.lanes,(S&y.childLanes)===0)if(p!==null){if(Qa(p,y,S,!1),(S&y.childLanes)===0)return null}else return null;if(p!==null&&y.child!==p.child)throw Error(r(153));if(y.child!==null){for(p=y.child,S=ja(p,p.pendingProps),y.child=S,S.return=y;p.sibling!==null;)p=p.sibling,S=S.sibling=ja(p,p.pendingProps),S.return=y;S.sibling=null}return y.child}function Nv(p,y){return(p.lanes&y)!==0?!0:(p=p.dependencies,!!(p!==null&&op(p)))}function Bv(p,y,S){switch(y.tag){case 3:vt(y,y.stateNode.containerInfo),bu(y,bo,p.memoizedState.cache),Mc();break;case 27:case 5:Tt(y);break;case 4:vt(y,y.stateNode.containerInfo);break;case 10:bu(y,y.type,y.memoizedProps.value);break;case 31:if(y.memoizedState!==null)return y.flags|=128,cp(y),null;break;case 13:var R=y.memoizedState;if(R!==null)return R.dehydrated!==null?(_l(y),y.flags|=128,null):(S&y.child.childLanes)!==0?mS(p,y,S):(_l(y),p=$h(p,y,S),p!==null?p.sibling:null);_l(y);break;case 19:var Q=(p.flags&128)!==0;if(R=(S&y.childLanes)!==0,R||(Qa(p,y,S,!1),R=(S&y.childLanes)!==0),Q){if(R)return Cb(p,y,S);y.flags|=128}if(Q=y.memoizedState,Q!==null&&(Q.rendering=null,Q.tail=null,Q.lastEffect=null),ke(lo,lo.current),R)break;return null;case 22:return y.lanes=0,fS(p,y,S,y.pendingProps);case 24:bu(y,bo,p.memoizedState.cache)}return $h(p,y,S)}function Ca(p,y,S){if(p!==null)if(p.memoizedProps!==y.pendingProps)ds=!0;else{if(!Nv(p,S)&&(y.flags&128)===0)return ds=!1,Bv(p,y,S);ds=(p.flags&131072)!==0}else ds=!1,Er&&(y.flags&1048576)!==0&&Ev(y,Ah,y.index);switch(y.lanes=0,y.tag){case 16:e:{var R=y.pendingProps;if(p=yl(y.elementType),y.type=p,typeof p=="function")Ry(p)?(R=Dh(p,R),y.tag=1,y=lE(null,y,p,R,S)):(y.tag=0,y=pS(null,y,p,R,S));else{if(p!=null){var Q=p.$$typeof;if(Q===F){y.tag=11,y=oE(null,y,p,R,S);break e}else if(Q===W){y.tag=14,y=vb(null,y,p,R,S);break e}}throw y=we(p)||p,Error(r(306,y,""))}}return y;case 0:return pS(p,y,y.type,y.pendingProps,S);case 1:return R=y.type,Q=Dh(R,y.pendingProps),lE(p,y,R,Q,S);case 3:e:{if(vt(y,y.stateNode.containerInfo),p===null)throw Error(r(387));R=y.pendingProps;var G=y.memoizedState;Q=G.element,eg(p,y),Mh(y,R,null,S);var de=y.memoizedState;if(R=de.cache,bu(y,bo,R),R!==G.cache&&$y(y,[bo],S,!0),Su(),R=de.element,G.isDehydrated)if(G={element:R,isDehydrated:!1,cache:de.cache},y.updateQueue.baseState=G,y.memoizedState=G,y.flags&256){y=cE(p,y,R,S);break e}else if(R!==Q){Q=da(Error(r(424)),y),_u(Q),y=cE(p,y,R,S);break e}else for(p=y.stateNode.containerInfo,p.nodeType===9?p=p.body:p=p.nodeName==="HTML"?p.ownerDocument.body:p,di=ic(p.firstChild),cs=y,Er=!0,vu=null,Va=!0,S=Rv(y,null,R,S),y.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(Mc(),R===Q){y=$h(p,y,S);break e}Ts(p,y,R,S)}y=y.child}return y;case 26:return xb(p,y),p===null?(S=KS(y.type,null,y.pendingProps,null))?y.memoizedState=S:Er||(S=y.type,p=y.pendingProps,R=s_(ct.current).createElement(S),R[_i]=y,R[rn]=p,Es(R,S,p),oo(R),y.stateNode=R):y.memoizedState=KS(y.type,p.memoizedProps,y.pendingProps,p.memoizedState),null;case 27:return Tt(y),p===null&&Er&&(R=y.stateNode=QE(y.type,y.pendingProps,ct.current),cs=y,Va=!0,Q=di,wp(y.type)?(Xa=Q,di=ic(R.firstChild)):di=Q),Ts(p,y,y.pendingProps.children,S),xb(p,y),p===null&&(y.flags|=4194304),y.child;case 5:return p===null&&Er&&((Q=R=di)&&(R=js(R,y.type,y.pendingProps,Va),R!==null?(y.stateNode=R,cs=y,di=ic(R.firstChild),Va=!1,Q=!0):Q=!1),Q||xa(y)),Tt(y),Q=y.type,G=y.pendingProps,de=p!==null?p.memoizedProps:null,R=G.children,Kb(Q,G)?R=null:de!==null&&Kb(Q,de)&&(y.flags|=32),y.memoizedState!==null&&(Q=up(p,y,sg,null,null,S),d0._currentValue=Q),xb(p,y),Ts(p,y,R,S),y.child;case 6:return p===null&&Er&&((p=S=di)&&(S=Du(S,y.pendingProps,Va),S!==null?(y.stateNode=S,cs=y,di=null,p=!0):p=!1),p||xa(y)),null;case 13:return mS(p,y,S);case 4:return vt(y,y.stateNode.containerInfo),R=y.pendingProps,p===null?y.child=Nc(y,null,R,S):Ts(p,y,R,S),y.child;case 11:return oE(p,y,y.type,y.pendingProps,S);case 7:return Ts(p,y,y.pendingProps,S),y.child;case 8:return Ts(p,y,y.pendingProps.children,S),y.child;case 12:return Ts(p,y,y.pendingProps.children,S),y.child;case 10:return R=y.pendingProps,bu(y,y.type,R.value),Ts(p,y,R.children,S),y.child;case 9:return Q=y.type._context,R=y.pendingProps.children,wu(y),Q=Lo(Q),R=R(Q),y.flags|=1,Ts(p,y,R,S),y.child;case 14:return vb(p,y,y.type,y.pendingProps,S);case 15:return dS(p,y,y.type,y.pendingProps,S);case 19:return Cb(p,y,S);case 31:return _b(p,y,S);case 22:return fS(p,y,S,y.pendingProps);case 24:return wu(y),R=Lo(bo),p===null?(Q=Ny(),Q===null&&(Q=ji,G=Lc(),Q.pooledCache=G,G.refCount++,G!==null&&(Q.pooledCacheLanes|=S),Q=G),y.memoizedState={parent:R,cache:Q},Qy(y),bu(y,bo,Q)):((p.lanes&S)!==0&&(eg(p,y),Mh(y,null,null,S),Su()),Q=p.memoizedState,G=y.memoizedState,Q.parent!==R?(Q={parent:R,cache:R},y.memoizedState=Q,y.lanes===0&&(y.memoizedState=y.updateQueue.baseState=Q),bu(y,bo,R)):(R=G.cache,bu(y,bo,R),R!==Q.cache&&$y(y,[bo],S,!0))),Ts(p,y,y.pendingProps.children,S),y.child;case 29:throw y.pendingProps}throw Error(r(156,y.tag))}function zh(p){p.flags|=4}function Fv(p,y,S,R,Q){if((y=(p.mode&32)!==0)&&(y=!1),y){if(p.flags|=16777216,(Q&335544128)===Q)if(p.stateNode.complete)p.flags|=8192;else if(PS())p.flags|=8192;else throw Gl=yn,Ph}else p.flags&=-16777217}function uE(p,y){if(y.type!=="stylesheet"||(y.state.loading&4)!==0)p.flags&=-16777217;else if(p.flags|=16777216,!u_(y))if(PS())p.flags|=8192;else throw Gl=yn,Ph}function jv(p,y){y!==null&&(p.flags|=4),p.flags&16384&&(y=p.tag!==22?En():536870912,p.lanes|=y,mg|=y)}function Vv(p,y){if(!Er)switch(p.tailMode){case"hidden":y=p.tail;for(var S=null;y!==null;)y.alternate!==null&&(S=y),y=y.sibling;S===null?p.tail=null:S.sibling=null;break;case"collapsed":S=p.tail;for(var R=null;S!==null;)S.alternate!==null&&(R=S),S=S.sibling;R===null?y||p.tail===null?p.tail=null:p.tail.sibling=null:R.sibling=null}}function ho(p){var y=p.alternate!==null&&p.alternate.child===p.child,S=0,R=0;if(y)for(var Q=p.child;Q!==null;)S|=Q.lanes|Q.childLanes,R|=Q.subtreeFlags&65011712,R|=Q.flags&65011712,Q.return=p,Q=Q.sibling;else for(Q=p.child;Q!==null;)S|=Q.lanes|Q.childLanes,R|=Q.subtreeFlags,R|=Q.flags,Q.return=p,Q=Q.sibling;return p.subtreeFlags|=R,p.childLanes=S,y}function hE(p,y,S){var R=y.pendingProps;switch(ip(y),y.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ho(y),null;case 1:return ho(y),null;case 3:return S=y.stateNode,R=null,p!==null&&(R=p.memoizedState.cache),y.memoizedState.cache!==R&&(y.flags|=2048),Dc(bo),At(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(p===null||p.child===null)&&(Pc(y)?zh(y):p===null||p.memoizedState.isDehydrated&&(y.flags&256)===0||(y.flags|=1024,Rc())),ho(y),null;case 26:var Q=y.type,G=y.memoizedState;return p===null?(zh(y),G!==null?(ho(y),uE(y,G)):(ho(y),Fv(y,Q,null,R,S))):G?G!==p.memoizedState?(zh(y),ho(y),uE(y,G)):(ho(y),y.flags&=-16777217):(p=p.memoizedProps,p!==R&&zh(y),ho(y),Fv(y,Q,p,R,S)),null;case 27:if(Wt(y),S=ct.current,Q=y.type,p!==null&&y.stateNode!=null)p.memoizedProps!==R&&zh(y);else{if(!R){if(y.stateNode===null)throw Error(r(166));return ho(y),null}p=mt.current,Pc(y)?ba(y):(p=QE(Q,R,S),y.stateNode=p,zh(y))}return ho(y),null;case 5:if(Wt(y),Q=y.type,p!==null&&y.stateNode!=null)p.memoizedProps!==R&&zh(y);else{if(!R){if(y.stateNode===null)throw Error(r(166));return ho(y),null}if(G=mt.current,Pc(y))ba(y);else{var de=s_(ct.current);switch(G){case 1:G=de.createElementNS("http://www.w3.org/2000/svg",Q);break;case 2:G=de.createElementNS("http://www.w3.org/1998/Math/MathML",Q);break;default:switch(Q){case"svg":G=de.createElementNS("http://www.w3.org/2000/svg",Q);break;case"math":G=de.createElementNS("http://www.w3.org/1998/Math/MathML",Q);break;case"script":G=de.createElement("div"),G.innerHTML="<script><\/script>",G=G.removeChild(G.firstChild);break;case"select":G=typeof R.is=="string"?de.createElement("select",{is:R.is}):de.createElement("select"),R.multiple?G.multiple=!0:R.size&&(G.size=R.size);break;default:G=typeof R.is=="string"?de.createElement(Q,{is:R.is}):de.createElement(Q)}}G[_i]=y,G[rn]=R;e:for(de=y.child;de!==null;){if(de.tag===5||de.tag===6)G.appendChild(de.stateNode);else if(de.tag!==4&&de.tag!==27&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===y)break e;for(;de.sibling===null;){if(de.return===null||de.return===y)break e;de=de.return}de.sibling.return=de.return,de=de.sibling}y.stateNode=G;e:switch(Es(G,Q,R),Q){case"button":case"input":case"select":case"textarea":R=!!R.autoFocus;break e;case"img":R=!0;break e;default:R=!1}R&&zh(y)}}return ho(y),Fv(y,y.type,p===null?null:p.memoizedProps,y.pendingProps,S),null;case 6:if(p&&y.stateNode!=null)p.memoizedProps!==R&&zh(y);else{if(typeof R!="string"&&y.stateNode===null)throw Error(r(166));if(p=ct.current,Pc(y)){if(p=y.stateNode,S=y.memoizedProps,R=null,Q=cs,Q!==null)switch(Q.tag){case 27:case 5:R=Q.memoizedProps}p[_i]=y,p=!!(p.nodeValue===S||R!==null&&R.suppressHydrationWarning===!0||VS(p.nodeValue,S)),p||xa(y,!0)}else p=s_(p).createTextNode(R),p[_i]=y,y.stateNode=p}return ho(y),null;case 31:if(S=y.memoizedState,p===null||p.memoizedState!==null){if(R=Pc(y),S!==null){if(p===null){if(!R)throw Error(r(318));if(p=y.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(557));p[_i]=y}else Mc(),(y.flags&128)===0&&(y.memoizedState=null),y.flags|=4;ho(y),p=!1}else S=Rc(),p!==null&&p.memoizedState!==null&&(p.memoizedState.hydrationErrors=S),p=!0;if(!p)return y.flags&256?(Gi(y),y):(Gi(y),null);if((y.flags&128)!==0)throw Error(r(558))}return ho(y),null;case 13:if(R=y.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(Q=Pc(y),R!==null&&R.dehydrated!==null){if(p===null){if(!Q)throw Error(r(318));if(Q=y.memoizedState,Q=Q!==null?Q.dehydrated:null,!Q)throw Error(r(317));Q[_i]=y}else Mc(),(y.flags&128)===0&&(y.memoizedState=null),y.flags|=4;ho(y),Q=!1}else Q=Rc(),p!==null&&p.memoizedState!==null&&(p.memoizedState.hydrationErrors=Q),Q=!0;if(!Q)return y.flags&256?(Gi(y),y):(Gi(y),null)}return Gi(y),(y.flags&128)!==0?(y.lanes=S,y):(S=R!==null,p=p!==null&&p.memoizedState!==null,S&&(R=y.child,Q=null,R.alternate!==null&&R.alternate.memoizedState!==null&&R.alternate.memoizedState.cachePool!==null&&(Q=R.alternate.memoizedState.cachePool.pool),G=null,R.memoizedState!==null&&R.memoizedState.cachePool!==null&&(G=R.memoizedState.cachePool.pool),G!==Q&&(R.flags|=2048)),S!==p&&S&&(y.child.flags|=8192),jv(y,y.updateQueue),ho(y),null);case 4:return At(),p===null&&FS(y.stateNode.containerInfo),ho(y),null;case 10:return Dc(y.type),ho(y),null;case 19:if(Xe(lo),R=y.memoizedState,R===null)return ho(y),null;if(Q=(y.flags&128)!==0,G=R.rendering,G===null)if(Q)Vv(R,!1);else{if(zo!==0||p!==null&&(p.flags&128)!==0)for(p=y.child;p!==null;){if(G=ig(p),G!==null){for(y.flags|=128,Vv(R,!1),p=G.updateQueue,y.updateQueue=p,jv(y,p),y.subtreeFlags=0,p=S,S=y.child;S!==null;)db(S,p),S=S.sibling;return ke(lo,lo.current&1|2),Er&&yu(y,R.treeForkCount),y.child}p=p.sibling}R.tail!==null&&kt()>Yv&&(y.flags|=128,Q=!0,Vv(R,!1),y.lanes=4194304)}else{if(!Q)if(p=ig(G),p!==null){if(y.flags|=128,Q=!0,p=p.updateQueue,y.updateQueue=p,jv(y,p),Vv(R,!0),R.tail===null&&R.tailMode==="hidden"&&!G.alternate&&!Er)return ho(y),null}else 2*kt()-R.renderingStartTime>Yv&&S!==536870912&&(y.flags|=128,Q=!0,Vv(R,!1),y.lanes=4194304);R.isBackwards?(G.sibling=y.child,y.child=G):(p=R.last,p!==null?p.sibling=G:y.child=G,R.last=G)}return R.tail!==null?(p=R.tail,R.rendering=p,R.tail=p.sibling,R.renderingStartTime=kt(),p.sibling=null,S=lo.current,ke(lo,Q?S&1|2:S&1),Er&&yu(y,R.treeForkCount),p):(ho(y),null);case 22:case 23:return Gi(y),Bd(),R=y.memoizedState!==null,p!==null?p.memoizedState!==null!==R&&(y.flags|=8192):R&&(y.flags|=8192),R?(S&536870912)!==0&&(y.flags&128)===0&&(ho(y),y.subtreeFlags&6&&(y.flags|=8192)):ho(y),S=y.updateQueue,S!==null&&jv(y,S.retryQueue),S=null,p!==null&&p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),R=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(R=y.memoizedState.cachePool.pool),R!==S&&(y.flags|=2048),p!==null&&Xe(Wl),null;case 24:return S=null,p!==null&&(S=p.memoizedState.cache),y.memoizedState.cache!==S&&(y.flags|=2048),Dc(bo),ho(y),null;case 25:return null;case 30:return null}throw Error(r(156,y.tag))}function cD(p,y){switch(ip(y),y.tag){case 1:return p=y.flags,p&65536?(y.flags=p&-65537|128,y):null;case 3:return Dc(bo),At(),p=y.flags,(p&65536)!==0&&(p&128)===0?(y.flags=p&-65537|128,y):null;case 26:case 27:case 5:return Wt(y),null;case 31:if(y.memoizedState!==null){if(Gi(y),y.alternate===null)throw Error(r(340));Mc()}return p=y.flags,p&65536?(y.flags=p&-65537|128,y):null;case 13:if(Gi(y),p=y.memoizedState,p!==null&&p.dehydrated!==null){if(y.alternate===null)throw Error(r(340));Mc()}return p=y.flags,p&65536?(y.flags=p&-65537|128,y):null;case 19:return Xe(lo),null;case 4:return At(),null;case 10:return Dc(y.type),null;case 22:case 23:return Gi(y),Bd(),p!==null&&Xe(Wl),p=y.flags,p&65536?(y.flags=p&-65537|128,y):null;case 24:return Dc(bo),null;case 25:return null;default:return null}}function Tb(p,y){switch(ip(y),y.tag){case 3:Dc(bo),At();break;case 26:case 27:case 5:Wt(y);break;case 4:At();break;case 31:y.memoizedState!==null&&Gi(y);break;case 13:Gi(y);break;case 19:Xe(lo);break;case 10:Dc(y.type);break;case 22:case 23:Gi(y),Bd(),p!==null&&Xe(Wl);break;case 24:Dc(bo)}}function Gy(p,y){try{var S=y.updateQueue,R=S!==null?S.lastEffect:null;if(R!==null){var Q=R.next;S=Q;do{if((S.tag&p)===p){R=void 0;var G=S.create,de=S.inst;R=G(),de.destroy=R}S=S.next}while(S!==Q)}}catch(Ae){gi(y,y.return,Ae)}}function qd(p,y,S){try{var R=y.updateQueue,Q=R!==null?R.lastEffect:null;if(Q!==null){var G=Q.next;R=G;do{if((R.tag&p)===p){var de=R.inst,Ae=de.destroy;if(Ae!==void 0){de.destroy=void 0,Q=y;var et=S,wt=Ae;try{wt()}catch($t){gi(Q,et,$t)}}}R=R.next}while(R!==G)}}catch($t){gi(y,y.return,$t)}}function dE(p){var y=p.updateQueue;if(y!==null){var S=p.stateNode;try{Uy(y,S)}catch(R){gi(p,p.return,R)}}}function fE(p,y,S){S.props=Dh(p.type,p.memoizedProps),S.state=p.memoizedState;try{S.componentWillUnmount()}catch(R){gi(p,y,R)}}function Qv(p,y){try{var S=p.ref;if(S!==null){switch(p.tag){case 26:case 27:case 5:var R=p.stateNode;break;case 30:R=p.stateNode;break;default:R=p.stateNode}typeof S=="function"?p.refCleanup=S(R):S.current=R}}catch(Q){gi(p,y,Q)}}function nc(p,y){var S=p.ref,R=p.refCleanup;if(S!==null)if(typeof R=="function")try{R()}catch(Q){gi(p,y,Q)}finally{p.refCleanup=null,p=p.alternate,p!=null&&(p.refCleanup=null)}else if(typeof S=="function")try{S(null)}catch(Q){gi(p,y,Q)}else S.current=null}function kb(p){var y=p.type,S=p.memoizedProps,R=p.stateNode;try{e:switch(y){case"button":case"input":case"select":case"textarea":S.autoFocus&&R.focus();break e;case"img":S.src?R.src=S.src:S.srcSet&&(R.srcset=S.srcSet)}}catch(Q){gi(p,p.return,Q)}}function Eb(p,y,S){try{var R=p.stateNode;jE(R,p.type,S,y),R[rn]=y}catch(Q){gi(p,p.return,Q)}}function pp(p){return p.tag===5||p.tag===3||p.tag===26||p.tag===27&&wp(p.type)||p.tag===4}function hg(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||pp(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.tag===27&&wp(p.type)||p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function _S(p,y,S){var R=p.tag;if(R===5||R===6)p=p.stateNode,y?(S.nodeType===9?S.body:S.nodeName==="HTML"?S.ownerDocument.body:S).insertBefore(p,y):(y=S.nodeType===9?S.body:S.nodeName==="HTML"?S.ownerDocument.body:S,y.appendChild(p),S=S._reactRootContainer,S!=null||y.onclick!==null||(y.onclick=Zl));else if(R!==4&&(R===27&&wp(p.type)&&(S=p.stateNode,y=null),p=p.child,p!==null))for(_S(p,y,S),p=p.sibling;p!==null;)_S(p,y,S),p=p.sibling}function Ab(p,y,S){var R=p.tag;if(R===5||R===6)p=p.stateNode,y?S.insertBefore(p,y):S.appendChild(p);else if(R!==4&&(R===27&&wp(p.type)&&(S=p.stateNode),p=p.child,p!==null))for(Ab(p,y,S),p=p.sibling;p!==null;)Ab(p,y,S),p=p.sibling}function pE(p){var y=p.stateNode,S=p.memoizedProps;try{for(var R=p.type,Q=y.attributes;Q.length;)y.removeAttributeNode(Q[0]);Es(y,R,S),y[_i]=p,y[rn]=S}catch(G){gi(p,p.return,G)}}var Wd=!1,fs=!1,xS=!1,mE=typeof WeakSet=="function"?WeakSet:Set,ps=null;function uD(p,y){if(p=p.containerInfo,o_=m_,p=Ty(p),jm(p)){if("selectionStart"in p)var S={start:p.selectionStart,end:p.selectionEnd};else e:{S=(S=p.ownerDocument)&&S.defaultView||window;var R=S.getSelection&&S.getSelection();if(R&&R.rangeCount!==0){S=R.anchorNode;var Q=R.anchorOffset,G=R.focusNode;R=R.focusOffset;try{S.nodeType,G.nodeType}catch{S=null;break e}var de=0,Ae=-1,et=-1,wt=0,$t=0,Ht=p,Ct=null;t:for(;;){for(var Mt;Ht!==S||Q!==0&&Ht.nodeType!==3||(Ae=de+Q),Ht!==G||R!==0&&Ht.nodeType!==3||(et=de+R),Ht.nodeType===3&&(de+=Ht.nodeValue.length),(Mt=Ht.firstChild)!==null;)Ct=Ht,Ht=Mt;for(;;){if(Ht===p)break t;if(Ct===S&&++wt===Q&&(Ae=de),Ct===G&&++$t===R&&(et=de),(Mt=Ht.nextSibling)!==null)break;Ht=Ct,Ct=Ht.parentNode}Ht=Mt}S=Ae===-1||et===-1?null:{start:Ae,end:et}}else S=null}S=S||{start:0,end:0}}else S=null;for(QS={focusedElem:p,selectionRange:S},m_=!1,ps=y;ps!==null;)if(y=ps,p=y.child,(y.subtreeFlags&1028)!==0&&p!==null)p.return=y,ps=p;else for(;ps!==null;){switch(y=ps,G=y.alternate,p=y.flags,y.tag){case 0:if((p&4)!==0&&(p=y.updateQueue,p=p!==null?p.events:null,p!==null))for(S=0;S<p.length;S++)Q=p[S],Q.ref.impl=Q.nextImpl;break;case 11:case 15:break;case 1:if((p&1024)!==0&&G!==null){p=void 0,S=y,Q=G.memoizedProps,G=G.memoizedState,R=S.stateNode;try{var Ln=Dh(S.type,Q);p=R.getSnapshotBeforeUpdate(Ln,G),R.__reactInternalSnapshotBeforeUpdate=p}catch(Xn){gi(S,S.return,Xn)}}break;case 3:if((p&1024)!==0){if(p=y.stateNode.containerInfo,S=p.nodeType,S===9)Iu(p);else if(S===1)switch(p.nodeName){case"HEAD":case"HTML":case"BODY":Iu(p);break;default:p.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((p&1024)!==0)throw Error(r(163))}if(p=y.sibling,p!==null){p.return=y.return,ps=p;break}ps=y.return}}function bS(p,y,S){var R=S.flags;switch(S.tag){case 0:case 11:case 15:Sl(p,S),R&4&&Gy(5,S);break;case 1:if(Sl(p,S),R&4)if(p=S.stateNode,y===null)try{p.componentDidMount()}catch(de){gi(S,S.return,de)}else{var Q=Dh(S.type,y.memoizedProps);y=y.memoizedState;try{p.componentDidUpdate(Q,y,p.__reactInternalSnapshotBeforeUpdate)}catch(de){gi(S,S.return,de)}}R&64&&dE(S),R&512&&Qv(S,S.return);break;case 3:if(Sl(p,S),R&64&&(p=S.updateQueue,p!==null)){if(y=null,S.child!==null)switch(S.child.tag){case 27:case 5:y=S.child.stateNode;break;case 1:y=S.child.stateNode}try{Uy(p,y)}catch(de){gi(S,S.return,de)}}break;case 27:y===null&&R&4&&pE(S);case 26:case 5:Sl(p,S),y===null&&R&4&&kb(S),R&512&&Qv(S,S.return);break;case 12:Sl(p,S);break;case 31:Sl(p,S),R&4&&Uv(p,S);break;case 13:Sl(p,S),R&4&&Zv(p,S),R&64&&(p=S.memoizedState,p!==null&&(p=p.dehydrated,p!==null&&(S=RS.bind(null,S),gs(p,S))));break;case 22:if(R=S.memoizedState!==null||Wd,!R){y=y!==null&&y.memoizedState!==null||fs,Q=Wd;var G=fs;Wd=R,(fs=y)&&!G?Hd(p,S,(S.subtreeFlags&8772)!==0):Sl(p,S),Wd=Q,fs=G}break;case 30:break;default:Sl(p,S)}}function Xy(p){var y=p.alternate;y!==null&&(p.alternate=null,Xy(y)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(y=p.stateNode,y!==null&&_d(y)),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}var Oo=null,Vr=!1;function Ol(p,y,S){for(S=S.child;S!==null;)wS(p,y,S),S=S.sibling}function wS(p,y,S){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(tt,S)}catch{}switch(S.tag){case 26:fs||nc(S,y),Ol(p,y,S),S.memoizedState?S.memoizedState.count--:S.stateNode&&(S=S.stateNode,S.parentNode.removeChild(S));break;case 27:fs||nc(S,y);var R=Oo,Q=Vr;wp(S.type)&&(Oo=S.stateNode,Vr=!1),Ol(p,y,S),c0(S.stateNode),Oo=R,Vr=Q;break;case 5:fs||nc(S,y);case 6:if(R=Oo,Q=Vr,Oo=null,Ol(p,y,S),Oo=R,Vr=Q,Oo!==null)if(Vr)try{(Oo.nodeType===9?Oo.body:Oo.nodeName==="HTML"?Oo.ownerDocument.body:Oo).removeChild(S.stateNode)}catch(G){gi(S,y,G)}else try{Oo.removeChild(S.stateNode)}catch(G){gi(S,y,G)}break;case 18:Oo!==null&&(Vr?(p=Oo,VE(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,S.stateNode),Ep(p)):VE(Oo,S.stateNode));break;case 4:R=Oo,Q=Vr,Oo=S.stateNode.containerInfo,Vr=!0,Ol(p,y,S),Oo=R,Vr=Q;break;case 0:case 11:case 14:case 15:qd(2,S,y),fs||qd(4,S,y),Ol(p,y,S);break;case 1:fs||(nc(S,y),R=S.stateNode,typeof R.componentWillUnmount=="function"&&fE(S,y,R)),Ol(p,y,S);break;case 21:Ol(p,y,S);break;case 22:fs=(R=fs)||S.memoizedState!==null,Ol(p,y,S),fs=R;break;default:Ol(p,y,S)}}function Uv(p,y){if(y.memoizedState===null&&(p=y.alternate,p!==null&&(p=p.memoizedState,p!==null))){p=p.dehydrated;try{Ep(p)}catch(S){gi(y,y.return,S)}}}function Zv(p,y){if(y.memoizedState===null&&(p=y.alternate,p!==null&&(p=p.memoizedState,p!==null&&(p=p.dehydrated,p!==null))))try{Ep(p)}catch(S){gi(y,y.return,S)}}function qv(p){switch(p.tag){case 31:case 13:case 19:var y=p.stateNode;return y===null&&(y=p.stateNode=new mE),y;case 22:return p=p.stateNode,y=p._retryCache,y===null&&(y=p._retryCache=new mE),y;default:throw Error(r(435,p.tag))}}function Wv(p,y){var S=qv(p);y.forEach(function(R){if(!S.has(R)){S.add(R);var Q=fD.bind(null,p,R);R.then(Q,Q)}})}function Wa(p,y){var S=y.deletions;if(S!==null)for(var R=0;R<S.length;R++){var Q=S[R],G=p,de=y,Ae=de;e:for(;Ae!==null;){switch(Ae.tag){case 27:if(wp(Ae.type)){Oo=Ae.stateNode,Vr=!1;break e}break;case 5:Oo=Ae.stateNode,Vr=!1;break e;case 3:case 4:Oo=Ae.stateNode.containerInfo,Vr=!0;break e}Ae=Ae.return}if(Oo===null)throw Error(r(160));wS(G,de,Q),Oo=null,Vr=!1,G=Q.alternate,G!==null&&(G.return=null),Q.return=null}if(y.subtreeFlags&13886)for(y=y.child;y!==null;)Pb(y,p),y=y.sibling}var Ha=null;function Pb(p,y){var S=p.alternate,R=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:Wa(y,p),ks(p),R&4&&(qd(3,p,p.return),Gy(3,p),qd(5,p,p.return));break;case 1:Wa(y,p),ks(p),R&512&&(fs||S===null||nc(S,S.return)),R&64&&Wd&&(p=p.updateQueue,p!==null&&(R=p.callbacks,R!==null&&(S=p.shared.hiddenCallbacks,p.shared.hiddenCallbacks=S===null?R:S.concat(R))));break;case 26:var Q=Ha;if(Wa(y,p),ks(p),R&512&&(fs||S===null||nc(S,S.return)),R&4){var G=S!==null?S.memoizedState:null;if(R=p.memoizedState,S===null)if(R===null)if(p.stateNode===null){e:{R=p.type,S=p.memoizedProps,Q=Q.ownerDocument||Q;t:switch(R){case"title":G=Q.getElementsByTagName("title")[0],(!G||G[or]||G[_i]||G.namespaceURI==="http://www.w3.org/2000/svg"||G.hasAttribute("itemprop"))&&(G=Q.createElement(R),Q.head.insertBefore(G,Q.querySelector("head > title"))),Es(G,R,S),G[_i]=p,oo(G),R=G;break e;case"link":var de=n2("link","href",Q).get(R+(S.href||""));if(de){for(var Ae=0;Ae<de.length;Ae++)if(G=de[Ae],G.getAttribute("href")===(S.href==null||S.href===""?null:S.href)&&G.getAttribute("rel")===(S.rel==null?null:S.rel)&&G.getAttribute("title")===(S.title==null?null:S.title)&&G.getAttribute("crossorigin")===(S.crossOrigin==null?null:S.crossOrigin)){de.splice(Ae,1);break t}}G=Q.createElement(R),Es(G,R,S),Q.head.appendChild(G);break;case"meta":if(de=n2("meta","content",Q).get(R+(S.content||""))){for(Ae=0;Ae<de.length;Ae++)if(G=de[Ae],G.getAttribute("content")===(S.content==null?null:""+S.content)&&G.getAttribute("name")===(S.name==null?null:S.name)&&G.getAttribute("property")===(S.property==null?null:S.property)&&G.getAttribute("http-equiv")===(S.httpEquiv==null?null:S.httpEquiv)&&G.getAttribute("charset")===(S.charSet==null?null:S.charSet)){de.splice(Ae,1);break t}}G=Q.createElement(R),Es(G,R,S),Q.head.appendChild(G);break;default:throw Error(r(468,R))}G[_i]=p,oo(G),R=G}p.stateNode=R}else c_(Q,p.type,p.stateNode);else p.stateNode=t2(Q,R,p.memoizedProps);else G!==R?(G===null?S.stateNode!==null&&(S=S.stateNode,S.parentNode.removeChild(S)):G.count--,R===null?c_(Q,p.type,p.stateNode):t2(Q,R,p.memoizedProps)):R===null&&p.stateNode!==null&&Eb(p,p.memoizedProps,S.memoizedProps)}break;case 27:Wa(y,p),ks(p),R&512&&(fs||S===null||nc(S,S.return)),S!==null&&R&4&&Eb(p,p.memoizedProps,S.memoizedProps);break;case 5:if(Wa(y,p),ks(p),R&512&&(fs||S===null||nc(S,S.return)),p.flags&32){Q=p.stateNode;try{mu(Q,"")}catch(Ln){gi(p,p.return,Ln)}}R&4&&p.stateNode!=null&&(Q=p.memoizedProps,Eb(p,Q,S!==null?S.memoizedProps:Q)),R&1024&&(xS=!0);break;case 6:if(Wa(y,p),ks(p),R&4){if(p.stateNode===null)throw Error(r(162));R=p.memoizedProps,S=p.stateNode;try{S.nodeValue=R}catch(Ln){gi(p,p.return,Ln)}}break;case 3:if(i1=null,Q=Ha,Ha=t1(y.containerInfo),Wa(y,p),Ha=Q,ks(p),R&4&&S!==null&&S.memoizedState.isDehydrated)try{Ep(y.containerInfo)}catch(Ln){gi(p,p.return,Ln)}xS&&(xS=!1,Hv(p));break;case 4:R=Ha,Ha=t1(p.stateNode.containerInfo),Wa(y,p),ks(p),Ha=R;break;case 12:Wa(y,p),ks(p);break;case 31:Wa(y,p),ks(p),R&4&&(R=p.updateQueue,R!==null&&(p.updateQueue=null,Wv(p,R)));break;case 13:Wa(y,p),ks(p),p.child.flags&8192&&p.memoizedState!==null!=(S!==null&&S.memoizedState!==null)&&(Ib=kt()),R&4&&(R=p.updateQueue,R!==null&&(p.updateQueue=null,Wv(p,R)));break;case 22:Q=p.memoizedState!==null;var et=S!==null&&S.memoizedState!==null,wt=Wd,$t=fs;if(Wd=wt||Q,fs=$t||et,Wa(y,p),fs=$t,Wd=wt,ks(p),R&8192)e:for(y=p.stateNode,y._visibility=Q?y._visibility&-2:y._visibility|1,Q&&(S===null||et||Wd||fs||Pu(p)),S=null,y=p;;){if(y.tag===5||y.tag===26){if(S===null){et=S=y;try{if(G=et.stateNode,Q)de=G.style,typeof de.setProperty=="function"?de.setProperty("display","none","important"):de.display="none";else{Ae=et.stateNode;var Ht=et.memoizedProps.style,Ct=Ht!=null&&Ht.hasOwnProperty("display")?Ht.display:null;Ae.style.display=Ct==null||typeof Ct=="boolean"?"":(""+Ct).trim()}}catch(Ln){gi(et,et.return,Ln)}}}else if(y.tag===6){if(S===null){et=y;try{et.stateNode.nodeValue=Q?"":et.memoizedProps}catch(Ln){gi(et,et.return,Ln)}}}else if(y.tag===18){if(S===null){et=y;try{var Mt=et.stateNode;Q?br(Mt,!0):br(et.stateNode,!1)}catch(Ln){gi(et,et.return,Ln)}}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===p)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===p)break e;for(;y.sibling===null;){if(y.return===null||y.return===p)break e;S===y&&(S=null),y=y.return}S===y&&(S=null),y.sibling.return=y.return,y=y.sibling}R&4&&(R=p.updateQueue,R!==null&&(S=R.retryQueue,S!==null&&(R.retryQueue=null,Wv(p,S))));break;case 19:Wa(y,p),ks(p),R&4&&(R=p.updateQueue,R!==null&&(p.updateQueue=null,Wv(p,R)));break;case 30:break;case 21:break;default:Wa(y,p),ks(p)}}function ks(p){var y=p.flags;if(y&2){try{for(var S,R=p.return;R!==null;){if(pp(R)){S=R;break}R=R.return}if(S==null)throw Error(r(160));switch(S.tag){case 27:var Q=S.stateNode,G=hg(p);Ab(p,G,Q);break;case 5:var de=S.stateNode;S.flags&32&&(mu(de,""),S.flags&=-33);var Ae=hg(p);Ab(p,Ae,de);break;case 3:case 4:var et=S.stateNode.containerInfo,wt=hg(p);_S(p,wt,et);break;default:throw Error(r(161))}}catch($t){gi(p,p.return,$t)}p.flags&=-3}y&4096&&(p.flags&=-4097)}function Hv(p){if(p.subtreeFlags&1024)for(p=p.child;p!==null;){var y=p;Hv(y),y.tag===5&&y.flags&1024&&y.stateNode.reset(),p=p.sibling}}function Sl(p,y){if(y.subtreeFlags&8772)for(y=y.child;y!==null;)bS(p,y.alternate,y),y=y.sibling}function Pu(p){for(p=p.child;p!==null;){var y=p;switch(y.tag){case 0:case 11:case 14:case 15:qd(4,y,y.return),Pu(y);break;case 1:nc(y,y.return);var S=y.stateNode;typeof S.componentWillUnmount=="function"&&fE(y,y.return,S),Pu(y);break;case 27:c0(y.stateNode);case 26:case 5:nc(y,y.return),Pu(y);break;case 22:y.memoizedState===null&&Pu(y);break;case 30:Pu(y);break;default:Pu(y)}p=p.sibling}}function Hd(p,y,S){for(S=S&&(y.subtreeFlags&8772)!==0,y=y.child;y!==null;){var R=y.alternate,Q=p,G=y,de=G.flags;switch(G.tag){case 0:case 11:case 15:Hd(Q,G,S),Gy(4,G);break;case 1:if(Hd(Q,G,S),R=G,Q=R.stateNode,typeof Q.componentDidMount=="function")try{Q.componentDidMount()}catch(wt){gi(R,R.return,wt)}if(R=G,Q=R.updateQueue,Q!==null){var Ae=R.stateNode;try{var et=Q.shared.hiddenCallbacks;if(et!==null)for(Q.shared.hiddenCallbacks=null,Q=0;Q<et.length;Q++)tg(et[Q],Ae)}catch(wt){gi(R,R.return,wt)}}S&&de&64&&dE(G),Qv(G,G.return);break;case 27:pE(G);case 26:case 5:Hd(Q,G,S),S&&R===null&&de&4&&kb(G),Qv(G,G.return);break;case 12:Hd(Q,G,S);break;case 31:Hd(Q,G,S),S&&de&4&&Uv(Q,G);break;case 13:Hd(Q,G,S),S&&de&4&&Zv(Q,G);break;case 22:G.memoizedState===null&&Hd(Q,G,S),Qv(G,G.return);break;case 30:break;default:Hd(Q,G,S)}y=y.sibling}}function Mb(p,y){var S=null;p!==null&&p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),p=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(p=y.memoizedState.cachePool.pool),p!==S&&(p!=null&&p.refCount++,S!=null&&sp(S))}function Gd(p,y){p=null,y.alternate!==null&&(p=y.alternate.memoizedState.cache),y=y.memoizedState.cache,y!==p&&(y.refCount++,p!=null&&sp(p))}function Mu(p,y,S,R){if(y.subtreeFlags&10256)for(y=y.child;y!==null;)OS(p,y,S,R),y=y.sibling}function OS(p,y,S,R){var Q=y.flags;switch(y.tag){case 0:case 11:case 15:Mu(p,y,S,R),Q&2048&&Gy(9,y);break;case 1:Mu(p,y,S,R);break;case 3:Mu(p,y,S,R),Q&2048&&(p=null,y.alternate!==null&&(p=y.alternate.memoizedState.cache),y=y.memoizedState.cache,y!==p&&(y.refCount++,p!=null&&sp(p)));break;case 12:if(Q&2048){Mu(p,y,S,R),p=y.stateNode;try{var G=y.memoizedProps,de=G.id,Ae=G.onPostCommit;typeof Ae=="function"&&Ae(de,y.alternate===null?"mount":"update",p.passiveEffectDuration,-0)}catch(et){gi(y,y.return,et)}}else Mu(p,y,S,R);break;case 31:Mu(p,y,S,R);break;case 13:Mu(p,y,S,R);break;case 23:break;case 22:G=y.stateNode,de=y.alternate,y.memoizedState!==null?G._visibility&2?Mu(p,y,S,R):dg(p,y):G._visibility&2?Mu(p,y,S,R):(G._visibility|=2,Nh(p,y,S,R,(y.subtreeFlags&10256)!==0||!1)),Q&2048&&Mb(de,y);break;case 24:Mu(p,y,S,R),Q&2048&&Gd(y.alternate,y);break;default:Mu(p,y,S,R)}}function Nh(p,y,S,R,Q){for(Q=Q&&((y.subtreeFlags&10256)!==0||!1),y=y.child;y!==null;){var G=p,de=y,Ae=S,et=R,wt=de.flags;switch(de.tag){case 0:case 11:case 15:Nh(G,de,Ae,et,Q),Gy(8,de);break;case 23:break;case 22:var $t=de.stateNode;de.memoizedState!==null?$t._visibility&2?Nh(G,de,Ae,et,Q):dg(G,de):($t._visibility|=2,Nh(G,de,Ae,et,Q)),Q&&wt&2048&&Mb(de.alternate,de);break;case 24:Nh(G,de,Ae,et,Q),Q&&wt&2048&&Gd(de.alternate,de);break;default:Nh(G,de,Ae,et,Q)}y=y.sibling}}function dg(p,y){if(y.subtreeFlags&10256)for(y=y.child;y!==null;){var S=p,R=y,Q=R.flags;switch(R.tag){case 22:dg(S,R),Q&2048&&Mb(R.alternate,R);break;case 24:dg(S,R),Q&2048&&Gd(R.alternate,R);break;default:dg(S,R)}y=y.sibling}}var Yy=8192;function fg(p,y,S){if(p.subtreeFlags&Yy)for(p=p.child;p!==null;)gE(p,y,S),p=p.sibling}function gE(p,y,S){switch(p.tag){case 26:fg(p,y,S),p.flags&Yy&&p.memoizedState!==null&&r2(S,Ha,p.memoizedState,p.memoizedProps);break;case 5:fg(p,y,S);break;case 3:case 4:var R=Ha;Ha=t1(p.stateNode.containerInfo),fg(p,y,S),Ha=R;break;case 22:p.memoizedState===null&&(R=p.alternate,R!==null&&R.memoizedState!==null?(R=Yy,Yy=16777216,fg(p,y,S),Yy=R):fg(p,y,S));break;default:fg(p,y,S)}}function yE(p){var y=p.alternate;if(y!==null&&(p=y.child,p!==null)){y.child=null;do y=p.sibling,p.sibling=null,p=y;while(p!==null)}}function Gv(p){var y=p.deletions;if((p.flags&16)!==0){if(y!==null)for(var S=0;S<y.length;S++){var R=y[S];ps=R,Ky(R,p)}yE(p)}if(p.subtreeFlags&10256)for(p=p.child;p!==null;)vE(p),p=p.sibling}function vE(p){switch(p.tag){case 0:case 11:case 15:Gv(p),p.flags&2048&&qd(9,p,p.return);break;case 3:Gv(p);break;case 12:Gv(p);break;case 22:var y=p.stateNode;p.memoizedState!==null&&y._visibility&2&&(p.return===null||p.return.tag!==13)?(y._visibility&=-3,Rb(p)):Gv(p);break;default:Gv(p)}}function Rb(p){var y=p.deletions;if((p.flags&16)!==0){if(y!==null)for(var S=0;S<y.length;S++){var R=y[S];ps=R,Ky(R,p)}yE(p)}for(p=p.child;p!==null;){switch(y=p,y.tag){case 0:case 11:case 15:qd(8,y,y.return),Rb(y);break;case 22:S=y.stateNode,S._visibility&2&&(S._visibility&=-3,Rb(y));break;default:Rb(y)}p=p.sibling}}function Ky(p,y){for(;ps!==null;){var S=ps;switch(S.tag){case 0:case 11:case 15:qd(8,S,y);break;case 23:case 22:if(S.memoizedState!==null&&S.memoizedState.cachePool!==null){var R=S.memoizedState.cachePool.pool;R!=null&&R.refCount++}break;case 24:sp(S.memoizedState.cache)}if(R=S.child,R!==null)R.return=S,ps=R;else e:for(S=p;ps!==null;){R=ps;var Q=R.sibling,G=R.return;if(Xy(R),R===S){ps=null;break e}if(Q!==null){Q.return=G,ps=Q;break e}ps=G}}}var hD={getCacheForType:function(p){var y=Lo(bo),S=y.data.get(p);return S===void 0&&(S=p(),y.data.set(p,S)),S},cacheSignal:function(){return Lo(bo).controller.signal}},_E=typeof WeakMap=="function"?WeakMap:Map,mi=0,ji=null,$r=null,zr=0,Oi=0,Ga=null,Uc=!1,mp=!1,SS=!1,Xd=0,zo=0,Yd=0,pg=0,CS=0,fa=0,mg=0,Xv=null,Cl=null,TS=!1,Ib=0,xE=0,Yv=1/0,Jy=null,Kd=null,ms=0,Jd=null,e0=null,Zc=0,kS=0,Db=null,bE=null,Kv=0,ES=null;function Tl(){return(mi&2)!==0&&zr!==0?zr&-zr:_e.T!==null?zS():$s()}function wE(){if(fa===0)if((zr&536870912)===0||Er){var p=Ar;Ar<<=1,(Ar&3932160)===0&&(Ar=262144),fa=p}else fa=536870912;return p=xn.current,p!==null&&(p.flags|=32),fa}function kl(p,y,S){(p===ji&&(Oi===2||Oi===9)||p.cancelPendingCommit!==null)&&(n0(p,0),gp(p,zr,fa,!1)),ri(p,S),((mi&2)===0||p!==ji)&&(p===ji&&((mi&2)===0&&(pg|=S),zo===4&&gp(p,zr,fa,!1)),Ru(p))}function ts(p,y,S){if((mi&6)!==0)throw Error(r(327));var R=!S&&(y&127)===0&&(y&p.expiredLanes)===0||ro(p,y),Q=R?r0(p,y):zb(p,y,!0),G=R;do{if(Q===0){mp&&!R&&gp(p,y,0,!1);break}else{if(S=p.current.alternate,G&&!dD(S)){Q=zb(p,y,!1),G=!1;continue}if(Q===2){if(G=y,p.errorRecoveryDisabledLanes&G)var de=0;else de=p.pendingLanes&-536870913,de=de!==0?de:de&536870912?536870912:0;if(de!==0){y=de;e:{var Ae=p;Q=Xv;var et=Ae.current.memoizedState.isDehydrated;if(et&&(n0(Ae,de).flags|=256),de=zb(Ae,de,!1),de!==2){if(SS&&!et){Ae.errorRecoveryDisabledLanes|=G,pg|=G,Q=4;break e}G=Cl,Cl=Q,G!==null&&(Cl===null?Cl=G:Cl.push.apply(Cl,G))}Q=de}if(G=!1,Q!==2)continue}}if(Q===1){n0(p,0),gp(p,y,0,!0);break}e:{switch(R=p,G=Q,G){case 0:case 1:throw Error(r(345));case 4:if((y&4194048)!==y)break;case 6:gp(R,y,fa,!Uc);break e;case 2:Cl=null;break;case 3:case 5:break;default:throw Error(r(329))}if((y&62914560)===y&&(Q=Ib+300-kt(),10<Q)){if(gp(R,y,fa,!Uc),qr(R,0,!0)!==0)break e;Zc=y,R.timeoutHandle=e1(t0.bind(null,R,S,Cl,Jy,TS,y,fa,pg,mg,Uc,G,"Throttled",-0,0),Q);break e}t0(R,S,Cl,Jy,TS,y,fa,pg,mg,Uc,G,null,-0,0)}}break}while(!0);Ru(p)}function t0(p,y,S,R,Q,G,de,Ae,et,wt,$t,Ht,Ct,Mt){if(p.timeoutHandle=-1,Ht=y.subtreeFlags,Ht&8192||(Ht&16785408)===16785408){Ht={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zl},gE(y,G,Ht);var Ln=(G&62914560)===G?Ib-kt():(G&4194048)===G?xE-kt():0;if(Ln=i2(Ht,Ln),Ln!==null){Zc=G,p.cancelPendingCommit=Ln(kE.bind(null,p,y,G,S,R,Q,de,Ae,et,$t,Ht,null,Ct,Mt)),gp(p,G,de,!wt);return}}kE(p,y,G,S,R,Q,de,Ae,et)}function dD(p){for(var y=p;;){var S=y.tag;if((S===0||S===11||S===15)&&y.flags&16384&&(S=y.updateQueue,S!==null&&(S=S.stores,S!==null)))for(var R=0;R<S.length;R++){var Q=S[R],G=Q.getSnapshot;Q=Q.value;try{if(!va(G(),Q))return!1}catch{return!1}}if(S=y.child,y.subtreeFlags&16384&&S!==null)S.return=y,y=S;else{if(y===p)break;for(;y.sibling===null;){if(y.return===null||y.return===p)return!0;y=y.return}y.sibling.return=y.return,y=y.sibling}}return!0}function gp(p,y,S,R){y&=~CS,y&=~pg,p.suspendedLanes|=y,p.pingedLanes&=~y,R&&(p.warmLanes|=y),R=p.expirationTimes;for(var Q=y;0<Q;){var G=31-St(Q),de=1<<G;R[G]=-1,Q&=~de}S!==0&&ui(p,S,y)}function Jv(){return(mi&6)===0?(rc(0),!1):!0}function Lb(){if($r!==null){if(Oi===0)var p=$r.return;else p=$r,Ic=gl=null,ku(p),$c=null,zd=0,p=$r;for(;p!==null;)Tb(p.alternate,p),p=p.return;$r=null}}function n0(p,y){var S=p.timeoutHandle;S!==-1&&(p.timeoutHandle=-1,ZS(S)),S=p.cancelPendingCommit,S!==null&&(p.cancelPendingCommit=null,S()),Zc=0,Lb(),ji=p,$r=S=ja(p.current,null),zr=y,Oi=0,Ga=null,Uc=!1,mp=ro(p,y),SS=!1,mg=fa=CS=pg=Yd=zo=0,Cl=Xv=null,TS=!1,(y&8)!==0&&(y|=y&32);var R=p.entangledLanes;if(R!==0)for(p=p.entanglements,R&=y;0<R;){var Q=31-St(R),G=1<<Q;y|=p[Q],R&=~G}return Xd=y,Id(),S}function AS(p,y){_r=null,_e.H=Jr,y===Hl||y===wa?(y=lp(),Oi=3):y===Ph?(y=lp(),Oi=4):Oi=y===yb?8:y!==null&&typeof y=="object"&&typeof y.then=="function"?6:1,Ga=y,$r===null&&(zo=1,tc(p,da(y,p.current)))}function PS(){var p=xn.current;return p===null?!0:(zr&4194048)===zr?An===null:(zr&62914560)===zr||(zr&536870912)!==0?p===An:!1}function gg(){var p=_e.H;return _e.H=Jr,p===null?Jr:p}function $b(){var p=_e.A;return _e.A=hD,p}function e_(){zo=4,Uc||(zr&4194048)!==zr&&xn.current!==null||(mp=!0),(Yd&134217727)===0&&(pg&134217727)===0||ji===null||gp(ji,zr,fa,!1)}function zb(p,y,S){var R=mi;mi|=2;var Q=gg(),G=$b();(ji!==p||zr!==y)&&(Jy=null,n0(p,y)),y=!1;var de=zo;e:do try{if(Oi!==0&&$r!==null){var Ae=$r,et=Ga;switch(Oi){case 8:Lb(),de=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(y=!0);var wt=Oi;if(Oi=0,Ga=null,i0(p,Ae,et,wt),S&&mp){de=0;break e}break;default:wt=Oi,Oi=0,Ga=null,i0(p,Ae,et,wt)}}Nb(),de=zo;break}catch($t){AS(p,$t)}while(!0);return y&&p.shellSuspendCounter++,Ic=gl=null,mi=R,_e.H=Q,_e.A=G,$r===null&&(ji=null,zr=0,Id()),de}function Nb(){for(;$r!==null;)SE($r)}function r0(p,y){var S=mi;mi|=2;var R=gg(),Q=$b();ji!==p||zr!==y?(Jy=null,Yv=kt()+500,n0(p,y)):mp=ro(p,y);e:do try{if(Oi!==0&&$r!==null){y=$r;var G=Ga;t:switch(Oi){case 1:Oi=0,Ga=null,i0(p,y,G,1);break;case 2:case 9:if(Ym(G)){Oi=0,Ga=null,CE(y);break}y=function(){Oi!==2&&Oi!==9||ji!==p||(Oi=7),Ru(p)},G.then(y,y);break e;case 3:Oi=7;break e;case 4:Oi=5;break e;case 7:Ym(G)?(Oi=0,Ga=null,CE(y)):(Oi=0,Ga=null,i0(p,y,G,7));break;case 5:var de=null;switch($r.tag){case 26:de=$r.memoizedState;case 5:case 27:var Ae=$r;if(de?u_(de):Ae.stateNode.complete){Oi=0,Ga=null;var et=Ae.sibling;if(et!==null)$r=et;else{var wt=Ae.return;wt!==null?($r=wt,Bb(wt)):$r=null}break t}}Oi=0,Ga=null,i0(p,y,G,5);break;case 6:Oi=0,Ga=null,i0(p,y,G,6);break;case 8:Lb(),zo=6;break e;default:throw Error(r(462))}}OE();break}catch($t){AS(p,$t)}while(!0);return Ic=gl=null,_e.H=R,_e.A=Q,mi=S,$r!==null?0:(ji=null,zr=0,Id(),zo)}function OE(){for(;$r!==null&&!Ye();)SE($r)}function SE(p){var y=Ca(p.alternate,p,Xd);p.memoizedProps=p.pendingProps,y===null?Bb(p):$r=y}function CE(p){var y=p,S=y.alternate;switch(y.tag){case 15:case 0:y=aE(S,y,y.pendingProps,y.type,void 0,zr);break;case 11:y=aE(S,y,y.pendingProps,y.type.render,y.ref,zr);break;case 5:ku(y);default:Tb(S,y),y=$r=db(y,Xd),y=Ca(S,y,Xd)}p.memoizedProps=p.pendingProps,y===null?Bb(p):$r=y}function i0(p,y,S,R){Ic=gl=null,ku(y),$c=null,zd=0;var Q=y.return;try{if(gb(p,Q,y,S,zr)){zo=1,tc(p,da(S,p.current)),$r=null;return}}catch(G){if(Q!==null)throw $r=Q,G;zo=1,tc(p,da(S,p.current)),$r=null;return}y.flags&32768?(Er||R===1?p=!0:mp||(zr&536870912)!==0?p=!1:(Uc=p=!0,(R===2||R===9||R===3||R===6)&&(R=xn.current,R!==null&&R.tag===13&&(R.flags|=16384))),TE(y,p)):Bb(y)}function Bb(p){var y=p;do{if((y.flags&32768)!==0){TE(y,Uc);return}p=y.return;var S=hE(y.alternate,y,Xd);if(S!==null){$r=S;return}if(y=y.sibling,y!==null){$r=y;return}$r=y=p}while(y!==null);zo===0&&(zo=5)}function TE(p,y){do{var S=cD(p.alternate,p);if(S!==null){S.flags&=32767,$r=S;return}if(S=p.return,S!==null&&(S.flags|=32768,S.subtreeFlags=0,S.deletions=null),!y&&(p=p.sibling,p!==null)){$r=p;return}$r=p=S}while(p!==null);zo=6,$r=null}function kE(p,y,S,R,Q,G,de,Ae,et){p.cancelPendingCommit=null;do Fb();while(ms!==0);if((mi&6)!==0)throw Error(r(327));if(y!==null){if(y===p.current)throw Error(r(177));if(G=y.lanes|y.childLanes,G|=Rd,io(p,S,G,de,Ae,et),p===ji&&($r=ji=null,zr=0),e0=y,Jd=p,Zc=S,kS=G,Db=Q,bE=R,(y.subtreeFlags&10256)!==0||(y.flags&10256)!==0?(p.callbackNode=null,p.callbackPriority=0,IE(K,function(){return RE(),null})):(p.callbackNode=null,p.callbackPriority=0),R=(y.flags&13878)!==0,(y.subtreeFlags&13878)!==0||R){R=_e.T,_e.T=null,Q=Me.p,Me.p=2,de=mi,mi|=4;try{uD(p,y,S)}finally{mi=de,Me.p=Q,_e.T=R}}ms=1,EE(),AE(),PE()}}function EE(){if(ms===1){ms=0;var p=Jd,y=e0,S=(y.flags&13878)!==0;if((y.subtreeFlags&13878)!==0||S){S=_e.T,_e.T=null;var R=Me.p;Me.p=2;var Q=mi;mi|=4;try{Pb(y,p);var G=QS,de=Ty(p.containerInfo),Ae=G.focusedElem,et=G.selectionRange;if(de!==Ae&&Ae&&Ae.ownerDocument&&Cy(Ae.ownerDocument.documentElement,Ae)){if(et!==null&&jm(Ae)){var wt=et.start,$t=et.end;if($t===void 0&&($t=wt),"selectionStart"in Ae)Ae.selectionStart=wt,Ae.selectionEnd=Math.min($t,Ae.value.length);else{var Ht=Ae.ownerDocument||document,Ct=Ht&&Ht.defaultView||window;if(Ct.getSelection){var Mt=Ct.getSelection(),Ln=Ae.textContent.length,Xn=Math.min(et.start,Ln),Si=et.end===void 0?Xn:Math.min(et.end,Ln);!Mt.extend&&Xn>Si&&(de=Si,Si=Xn,Xn=de);var lt=Fm(Ae,Xn),it=Fm(Ae,Si);if(lt&&it&&(Mt.rangeCount!==1||Mt.anchorNode!==lt.node||Mt.anchorOffset!==lt.offset||Mt.focusNode!==it.node||Mt.focusOffset!==it.offset)){var _t=Ht.createRange();_t.setStart(lt.node,lt.offset),Mt.removeAllRanges(),Xn>Si?(Mt.addRange(_t),Mt.extend(it.node,it.offset)):(_t.setEnd(it.node,it.offset),Mt.addRange(_t))}}}}for(Ht=[],Mt=Ae;Mt=Mt.parentNode;)Mt.nodeType===1&&Ht.push({element:Mt,left:Mt.scrollLeft,top:Mt.scrollTop});for(typeof Ae.focus=="function"&&Ae.focus(),Ae=0;Ae<Ht.length;Ae++){var Ut=Ht[Ae];Ut.element.scrollLeft=Ut.left,Ut.element.scrollTop=Ut.top}}m_=!!o_,QS=o_=null}finally{mi=Q,Me.p=R,_e.T=S}}p.current=y,ms=2}}function AE(){if(ms===2){ms=0;var p=Jd,y=e0,S=(y.flags&8772)!==0;if((y.subtreeFlags&8772)!==0||S){S=_e.T,_e.T=null;var R=Me.p;Me.p=2;var Q=mi;mi|=4;try{bS(p,y.alternate,y)}finally{mi=Q,Me.p=R,_e.T=S}}ms=3}}function PE(){if(ms===4||ms===3){ms=0,bt();var p=Jd,y=e0,S=Zc,R=bE;(y.subtreeFlags&10256)!==0||(y.flags&10256)!==0?ms=5:(ms=0,e0=Jd=null,ME(p,p.pendingLanes));var Q=p.pendingLanes;if(Q===0&&(Kd=null),Kt(S),y=y.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(tt,y,void 0,(y.current.flags&128)===128)}catch{}if(R!==null){y=_e.T,Q=Me.p,Me.p=2,_e.T=null;try{for(var G=p.onRecoverableError,de=0;de<R.length;de++){var Ae=R[de];G(Ae.value,{componentStack:Ae.stack})}}finally{_e.T=y,Me.p=Q}}(Zc&3)!==0&&Fb(),Ru(p),Q=p.pendingLanes,(S&261930)!==0&&(Q&42)!==0?p===ES?Kv++:(Kv=0,ES=p):Kv=0,rc(0)}}function ME(p,y){(p.pooledCacheLanes&=y)===0&&(y=p.pooledCache,y!=null&&(p.pooledCache=null,sp(y)))}function Fb(){return EE(),AE(),PE(),RE()}function RE(){if(ms!==5)return!1;var p=Jd,y=kS;kS=0;var S=Kt(Zc),R=_e.T,Q=Me.p;try{Me.p=32>S?32:S,_e.T=null,S=Db,Db=null;var G=Jd,de=Zc;if(ms=0,e0=Jd=null,Zc=0,(mi&6)!==0)throw Error(r(331));var Ae=mi;if(mi|=4,vE(G.current),OS(G,G.current,de,S),mi=Ae,rc(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(tt,G)}catch{}return!0}finally{Me.p=Q,_e.T=R,ME(p,y)}}function MS(p,y,S){y=da(S,y),y=lg(p.stateNode,y,2),p=Ou(p,y,2),p!==null&&(ri(p,2),Ru(p))}function gi(p,y,S){if(p.tag===3)MS(p,p,S);else for(;y!==null;){if(y.tag===3){MS(y,p,S);break}else if(y.tag===1){var R=y.stateNode;if(typeof y.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(Kd===null||!Kd.has(R))){p=da(S,p),S=cg(2),R=Ou(y,S,2),R!==null&&(ug(S,R,y,p),ri(R,2),Ru(R));break}}y=y.return}}function jb(p,y,S){var R=p.pingCache;if(R===null){R=p.pingCache=new _E;var Q=new Set;R.set(y,Q)}else Q=R.get(y),Q===void 0&&(Q=new Set,R.set(y,Q));Q.has(S)||(SS=!0,Q.add(S),p=yp.bind(null,p,y,S),y.then(p,p))}function yp(p,y,S){var R=p.pingCache;R!==null&&R.delete(y),p.pingedLanes|=p.suspendedLanes&S,p.warmLanes&=~S,ji===p&&(zr&S)===S&&(zo===4||zo===3&&(zr&62914560)===zr&&300>kt()-Ib?(mi&2)===0&&n0(p,0):CS|=S,mg===zr&&(mg=0)),Ru(p)}function t_(p,y){y===0&&(y=En()),p=ml(p,y),p!==null&&(ri(p,y),Ru(p))}function RS(p){var y=p.memoizedState,S=0;y!==null&&(S=y.retryLane),t_(p,S)}function fD(p,y){var S=0;switch(p.tag){case 31:case 13:var R=p.stateNode,Q=p.memoizedState;Q!==null&&(S=Q.retryLane);break;case 19:R=p.stateNode;break;case 22:R=p.stateNode._retryCache;break;default:throw Error(r(314))}R!==null&&R.delete(y),t_(p,S)}function IE(p,y){return Vn(p,y)}var Vb=null,o0=null,IS=!1,Qb=!1,DS=!1,ef=0;function Ru(p){p!==o0&&p.next===null&&(o0===null?Vb=o0=p:o0=o0.next=p),Qb=!0,IS||(IS=!0,$S())}function rc(p,y){if(!DS&&Qb){DS=!0;do for(var S=!1,R=Vb;R!==null;){if(p!==0){var Q=R.pendingLanes;if(Q===0)var G=0;else{var de=R.suspendedLanes,Ae=R.pingedLanes;G=(1<<31-St(42|p)+1)-1,G&=Q&~(de&~Ae),G=G&201326741?G&201326741|1:G?G|2:0}G!==0&&(S=!0,n_(R,G))}else G=zr,G=qr(R,R===ji?G:0,R.cancelPendingCommit!==null||R.timeoutHandle!==-1),(G&3)===0||ro(R,G)||(S=!0,n_(R,G));R=R.next}while(S);DS=!1}}function vp(){LS()}function LS(){Qb=IS=!1;var p=0;ef!==0&&Jb()&&(p=ef);for(var y=kt(),S=null,R=Vb;R!==null;){var Q=R.next,G=Ub(R,y);G===0?(R.next=null,S===null?Vb=Q:S.next=Q,Q===null&&(o0=S)):(S=R,(p!==0||(G&3)!==0)&&(Qb=!0)),R=Q}ms!==0&&ms!==5||rc(p),ef!==0&&(ef=0)}function Ub(p,y){for(var S=p.suspendedLanes,R=p.pingedLanes,Q=p.expirationTimes,G=p.pendingLanes&-62914561;0<G;){var de=31-St(G),Ae=1<<de,et=Q[de];et===-1?((Ae&S)===0||(Ae&R)!==0)&&(Q[de]=Jn(Ae,y)):et<=y&&(p.expiredLanes|=Ae),G&=~Ae}if(y=ji,S=zr,S=qr(p,p===y?S:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),R=p.callbackNode,S===0||p===y&&(Oi===2||Oi===9)||p.cancelPendingCommit!==null)return R!==null&&R!==null&&Qe(R),p.callbackNode=null,p.callbackPriority=0;if((S&3)===0||ro(p,S)){if(y=S&-S,y===p.callbackPriority)return y;switch(R!==null&&Qe(R),Kt(S)){case 2:case 8:S=se;break;case 32:S=K;break;case 268435456:S=$e;break;default:S=K}return R=DE.bind(null,p),S=Vn(S,R),p.callbackPriority=y,p.callbackNode=S,y}return R!==null&&R!==null&&Qe(R),p.callbackPriority=2,p.callbackNode=null,2}function DE(p,y){if(ms!==0&&ms!==5)return p.callbackNode=null,p.callbackPriority=0,null;var S=p.callbackNode;if(Fb()&&p.callbackNode!==S)return null;var R=zr;return R=qr(p,p===ji?R:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),R===0?null:(ts(p,R,y),Ub(p,kt()),p.callbackNode!=null&&p.callbackNode===S?DE.bind(null,p):null)}function n_(p,y){if(Fb())return null;ts(p,y,!0)}function $S(){WS(function(){(mi&6)!==0?Vn(Oe,vp):LS()})}function zS(){if(ef===0){var p=$d;p===0&&(p=Nn,Nn<<=1,(Nn&261888)===0&&(Nn=256)),ef=p}return ef}function Zb(p){return p==null||typeof p=="symbol"||typeof p=="boolean"?null:typeof p=="function"?p:ur(""+p)}function qb(p,y){var S=y.ownerDocument.createElement("input");return S.name=y.name,S.value=y.value,p.id&&S.setAttribute("form",p.id),y.parentNode.insertBefore(S,y),p=new FormData(p),S.parentNode.removeChild(S),p}function s0(p,y,S,R,Q){if(y==="submit"&&S&&S.stateNode===Q){var G=Zb((Q[rn]||null).action),de=R.submitter;de&&(y=(y=de[rn]||null)?Zb(y.formAction):de.getAttribute("formAction"),y!==null&&(G=y,de=null));var Ae=new Am("action","action",null,R,Q);p.push({event:Ae,listeners:[{instance:null,listener:function(){if(R.defaultPrevented){if(ef!==0){var et=de?qb(Q,de):new FormData(Q);co(S,{pending:!0,data:et,method:Q.method,action:G},null,et)}}else typeof G=="function"&&(Ae.preventDefault(),et=de?qb(Q,de):new FormData(Q),co(S,{pending:!0,data:et,method:Q.method,action:G},G,et))},currentTarget:Q}]})}}for(var Wb=0;Wb<Py.length;Wb++){var Hb=Py[Wb],NS=Hb.toLowerCase(),LE=Hb[0].toUpperCase()+Hb.slice(1);Ba(NS,"on"+LE)}Ba(Um,"onAnimationEnd"),Ba(Zm,"onAnimationIteration"),Ba(Ay,"onAnimationStart"),Ba("dblclick","onDoubleClick"),Ba("focusin","onFocus"),Ba("focusout","onBlur"),Ba(Md,"onTransitionRun"),Ba(qm,"onTransitionStart"),Ba(tp,"onTransitionCancel"),Ba(Na,"onTransitionEnd"),pu("onMouseEnter",["mouseout","mouseover"]),pu("onMouseLeave",["mouseout","mouseover"]),pu("onPointerEnter",["pointerout","pointerover"]),pu("onPointerLeave",["pointerout","pointerover"]),Ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ir("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _p="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$E=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_p));function zE(p,y){y=(y&4)!==0;for(var S=0;S<p.length;S++){var R=p[S],Q=R.event;R=R.listeners;e:{var G=void 0;if(y)for(var de=R.length-1;0<=de;de--){var Ae=R[de],et=Ae.instance,wt=Ae.currentTarget;if(Ae=Ae.listener,et!==G&&Q.isPropagationStopped())break e;G=Ae,Q.currentTarget=wt;try{G(Q)}catch($t){kc($t)}Q.currentTarget=null,G=et}else for(de=0;de<R.length;de++){if(Ae=R[de],et=Ae.instance,wt=Ae.currentTarget,Ae=Ae.listener,et!==G&&Q.isPropagationStopped())break e;G=Ae,Q.currentTarget=wt;try{G(Q)}catch($t){kc($t)}Q.currentTarget=null,G=et}}}}function Nr(p,y){var S=y[fr];S===void 0&&(S=y[fr]=new Set);var R=p+"__bubble";S.has(R)||(Xb(y,p,2,!1),S.add(R))}function BS(p,y,S){var R=0;y&&(R|=4),Xb(S,p,R,y)}var Gb="_reactListening"+Math.random().toString(36).slice(2);function FS(p){if(!p[Gb]){p[Gb]=!0,Vf.forEach(function(S){S!=="selectionchange"&&($E.has(S)||BS(S,!1,p),BS(S,!0,p))});var y=p.nodeType===9?p:p.ownerDocument;y===null||y[Gb]||(y[Gb]=!0,BS("selectionchange",!1,y))}}function Xb(p,y,S,R){switch(_g(y)){case 2:var Q=g_;break;case 8:Q=YE;break;default:Q=s2}S=Q.bind(null,y,S,p),Q=void 0,!aa||y!=="touchstart"&&y!=="touchmove"&&y!=="wheel"||(Q=!0),R?Q!==void 0?p.addEventListener(y,S,{capture:!0,passive:Q}):p.addEventListener(y,S,!0):Q!==void 0?p.addEventListener(y,S,{passive:Q}):p.addEventListener(y,S,!1)}function Bh(p,y,S,R,Q){var G=R;if((y&1)===0&&(y&2)===0&&R!==null)e:for(;;){if(R===null)return;var de=R.tag;if(de===3||de===4){var Ae=R.stateNode.containerInfo;if(Ae===Q)break;if(de===4)for(de=R.return;de!==null;){var et=de.tag;if((et===3||et===4)&&de.stateNode.containerInfo===Q)return;de=de.return}for(;Ae!==null;){if(de=xc(Ae),de===null)return;if(et=de.tag,et===5||et===6||et===26||et===27){R=G=de;continue e}Ae=Ae.parentNode}}R=R.return}hi(function(){var wt=G,$t=Em(S),Ht=[];e:{var Ct=Cv.get(p);if(Ct!==void 0){var Mt=Am,Ln=p;switch(p){case"keypress":if(za(S)===0)break e;case"keydown":case"keyup":Mt=ao;break;case"focusin":Ln="focus",Mt=vh;break;case"focusout":Ln="blur",Mt=vh;break;case"beforeblur":case"afterblur":Mt=vh;break;case"click":if(S.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Mt=Td;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Mt=Pm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Mt=cS;break;case Um:case Zm:case Ay:Mt=eb;break;case Na:Mt=by;break;case"scroll":case"scrollend":Mt=Cd;break;case"wheel":Mt=xv;break;case"copy":case"cut":case"paste":Mt=vv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Mt=xy;break;case"toggle":case"beforetoggle":Mt=Gf}var Xn=(y&4)!==0,Si=!Xn&&(p==="scroll"||p==="scrollend"),lt=Xn?Ct!==null?Ct+"Capture":null:Ct;Xn=[];for(var it=wt,_t;it!==null;){var Ut=it;if(_t=Ut.stateNode,Ut=Ut.tag,Ut!==5&&Ut!==26&&Ut!==27||_t===null||lt===null||(Ut=hl(it,lt),Ut!=null&&Xn.push(a0(it,Ut,_t))),Si)break;it=it.return}0<Xn.length&&(Ct=new Mt(Ct,Ln,null,S,$t),Ht.push({event:Ct,listeners:Xn}))}}if((y&7)===0){e:{if(Ct=p==="mouseover"||p==="pointerover",Mt=p==="mouseout"||p==="pointerout",Ct&&S!==yv&&(Ln=S.relatedTarget||S.fromElement)&&(xc(Ln)||Ln[sr]))break e;if((Mt||Ct)&&(Ct=$t.window===$t?$t:(Ct=$t.ownerDocument)?Ct.defaultView||Ct.parentWindow:window,Mt?(Ln=S.relatedTarget||S.toElement,Mt=wt,Ln=Ln?xc(Ln):null,Ln!==null&&(Si=o(Ln),Xn=Ln.tag,Ln!==Si||Xn!==5&&Xn!==27&&Xn!==6)&&(Ln=null)):(Mt=null,Ln=wt),Mt!==Ln)){if(Xn=Td,Ut="onMouseLeave",lt="onMouseEnter",it="mouse",(p==="pointerout"||p==="pointerover")&&(Xn=xy,Ut="onPointerLeave",lt="onPointerEnter",it="pointer"),Si=Mt==null?Ct:bc(Mt),_t=Ln==null?Ct:bc(Ln),Ct=new Xn(Ut,it+"leave",Mt,S,$t),Ct.target=Si,Ct.relatedTarget=_t,Ut=null,xc($t)===wt&&(Xn=new Xn(lt,it+"enter",Ln,S,$t),Xn.target=_t,Xn.relatedTarget=Si,Ut=Xn),Si=Ut,Mt&&Ln)t:{for(Xn=NE,lt=Mt,it=Ln,_t=0,Ut=lt;Ut;Ut=Xn(Ut))_t++;Ut=0;for(var Wn=it;Wn;Wn=Xn(Wn))Ut++;for(;0<_t-Ut;)lt=Xn(lt),_t--;for(;0<Ut-_t;)it=Xn(it),Ut--;for(;_t--;){if(lt===it||it!==null&&lt===it.alternate){Xn=lt;break t}lt=Xn(lt),it=Xn(it)}Xn=null}else Xn=null;Mt!==null&&jS(Ht,Ct,Mt,Xn,!1),Ln!==null&&Si!==null&&jS(Ht,Si,Ln,Xn,!0)}}e:{if(Ct=wt?bc(wt):window,Mt=Ct.nodeName&&Ct.nodeName.toLowerCase(),Mt==="select"||Mt==="input"&&Ct.type==="file")var ai=bh;else if(Oy(Ct))if(bv)ai=ub;else{ai=cb;var $n=uS}else Mt=Ct.nodeName,!Mt||Mt.toLowerCase()!=="input"||Ct.type!=="checkbox"&&Ct.type!=="radio"?wt&&wd(wt.elementType)&&(ai=bh):ai=Bm;if(ai&&(ai=ai(p,wt))){Sy(Ht,ai,S,$t);break e}$n&&$n(p,Ct,wt),p==="focusout"&&wt&&Ct.type==="number"&&wt.memoizedProps.value!=null&&km(Ct,"number",Ct.value)}switch($n=wt?bc(wt):window,p){case"focusin":(Oy($n)||$n.contentEditable==="true")&&(pl=$n,Vm=wt,Qm=null);break;case"focusout":Qm=Vm=pl=null;break;case"mousedown":Ey=!0;break;case"contextmenu":case"mouseup":case"dragend":Ey=!1,hb(Ht,S,$t);break;case"selectionchange":if(ky)break;case"keydown":case"keyup":hb(Ht,S,$t)}var jn;if(xo)e:{switch(p){case"compositionstart":var Lr="onCompositionStart";break e;case"compositionend":Lr="onCompositionEnd";break e;case"compositionupdate":Lr="onCompositionUpdate";break e}Lr=void 0}else ql?Lm(p,S)&&(Lr="onCompositionEnd"):p==="keydown"&&S.keyCode===229&&(Lr="onCompositionStart");Lr&&(Jf&&S.locale!=="ko"&&(ql||Lr!=="onCompositionStart"?Lr==="onCompositionEnd"&&ql&&(jn=gh()):($a=$t,Sc="value"in $a?$a.value:$a.textContent,ql=!0)),$n=r_(wt,Lr),0<$n.length&&(Lr=new _v(Lr,p,null,S,$t),Ht.push({event:Lr,listeners:$n}),jn?Lr.data=jn:(jn=ib(S),jn!==null&&(Lr.data=jn)))),(jn=Kf?wy(p,S):ob(p,S))&&(Lr=r_(wt,"onBeforeInput"),0<Lr.length&&($n=new _v("onBeforeInput","beforeinput",null,S,$t),Ht.push({event:$n,listeners:Lr}),$n.data=jn)),s0(Ht,p,wt,S,$t)}zE(Ht,y)})}function a0(p,y,S){return{instance:p,listener:y,currentTarget:S}}function r_(p,y){for(var S=y+"Capture",R=[];p!==null;){var Q=p,G=Q.stateNode;if(Q=Q.tag,Q!==5&&Q!==26&&Q!==27||G===null||(Q=hl(p,S),Q!=null&&R.unshift(a0(p,Q,G)),Q=hl(p,y),Q!=null&&R.push(a0(p,Q,G))),p.tag===3)return R;p=p.return}return[]}function NE(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5&&p.tag!==27);return p||null}function jS(p,y,S,R,Q){for(var G=y._reactName,de=[];S!==null&&S!==R;){var Ae=S,et=Ae.alternate,wt=Ae.stateNode;if(Ae=Ae.tag,et!==null&&et===R)break;Ae!==5&&Ae!==26&&Ae!==27||wt===null||(et=wt,Q?(wt=hl(S,G),wt!=null&&de.unshift(a0(S,wt,et))):Q||(wt=hl(S,G),wt!=null&&de.push(a0(S,wt,et)))),S=S.return}de.length!==0&&p.push({event:y,listeners:de})}var BE=/\r\n?/g,FE=/\u0000|\uFFFD/g;function i_(p){return(typeof p=="string"?p:""+p).replace(BE,`
`).replace(FE,"")}function VS(p,y){return y=i_(y),i_(p)===y}function si(p,y,S,R,Q,G){switch(S){case"children":typeof R=="string"?y==="body"||y==="textarea"&&R===""||mu(p,R):(typeof R=="number"||typeof R=="bigint")&&y!=="body"&&mu(p,""+R);break;case"className":Oc(p,"class",R);break;case"tabIndex":Oc(p,"tabindex",R);break;case"dir":case"role":case"viewBox":case"width":case"height":Oc(p,S,R);break;case"style":_y(p,R,G);break;case"data":if(y!=="object"){Oc(p,"data",R);break}case"src":case"href":if(R===""&&(y!=="a"||S!=="href")){p.removeAttribute(S);break}if(R==null||typeof R=="function"||typeof R=="symbol"||typeof R=="boolean"){p.removeAttribute(S);break}R=ur(""+R),p.setAttribute(S,R);break;case"action":case"formAction":if(typeof R=="function"){p.setAttribute(S,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof G=="function"&&(S==="formAction"?(y!=="input"&&si(p,y,"name",Q.name,Q,null),si(p,y,"formEncType",Q.formEncType,Q,null),si(p,y,"formMethod",Q.formMethod,Q,null),si(p,y,"formTarget",Q.formTarget,Q,null)):(si(p,y,"encType",Q.encType,Q,null),si(p,y,"method",Q.method,Q,null),si(p,y,"target",Q.target,Q,null)));if(R==null||typeof R=="symbol"||typeof R=="boolean"){p.removeAttribute(S);break}R=ur(""+R),p.setAttribute(S,R);break;case"onClick":R!=null&&(p.onclick=Zl);break;case"onScroll":R!=null&&Nr("scroll",p);break;case"onScrollEnd":R!=null&&Nr("scrollend",p);break;case"dangerouslySetInnerHTML":if(R!=null){if(typeof R!="object"||!("__html"in R))throw Error(r(61));if(S=R.__html,S!=null){if(Q.children!=null)throw Error(r(60));p.innerHTML=S}}break;case"multiple":p.multiple=R&&typeof R!="function"&&typeof R!="symbol";break;case"muted":p.muted=R&&typeof R!="function"&&typeof R!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(R==null||typeof R=="function"||typeof R=="boolean"||typeof R=="symbol"){p.removeAttribute("xlink:href");break}S=ur(""+R),p.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",S);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":R!=null&&typeof R!="function"&&typeof R!="symbol"?p.setAttribute(S,""+R):p.removeAttribute(S);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":R&&typeof R!="function"&&typeof R!="symbol"?p.setAttribute(S,""):p.removeAttribute(S);break;case"capture":case"download":R===!0?p.setAttribute(S,""):R!==!1&&R!=null&&typeof R!="function"&&typeof R!="symbol"?p.setAttribute(S,R):p.removeAttribute(S);break;case"cols":case"rows":case"size":case"span":R!=null&&typeof R!="function"&&typeof R!="symbol"&&!isNaN(R)&&1<=R?p.setAttribute(S,R):p.removeAttribute(S);break;case"rowSpan":case"start":R==null||typeof R=="function"||typeof R=="symbol"||isNaN(R)?p.removeAttribute(S):p.setAttribute(S,R);break;case"popover":Nr("beforetoggle",p),Nr("toggle",p),Sm(p,"popover",R);break;case"xlinkActuate":ul(p,"http://www.w3.org/1999/xlink","xlink:actuate",R);break;case"xlinkArcrole":ul(p,"http://www.w3.org/1999/xlink","xlink:arcrole",R);break;case"xlinkRole":ul(p,"http://www.w3.org/1999/xlink","xlink:role",R);break;case"xlinkShow":ul(p,"http://www.w3.org/1999/xlink","xlink:show",R);break;case"xlinkTitle":ul(p,"http://www.w3.org/1999/xlink","xlink:title",R);break;case"xlinkType":ul(p,"http://www.w3.org/1999/xlink","xlink:type",R);break;case"xmlBase":ul(p,"http://www.w3.org/XML/1998/namespace","xml:base",R);break;case"xmlLang":ul(p,"http://www.w3.org/XML/1998/namespace","xml:lang",R);break;case"xmlSpace":ul(p,"http://www.w3.org/XML/1998/namespace","xml:space",R);break;case"is":Sm(p,"is",R);break;case"innerText":case"textContent":break;default:(!(2<S.length)||S[0]!=="o"&&S[0]!=="O"||S[1]!=="n"&&S[1]!=="N")&&(S=mh.get(S)||S,Sm(p,S,R))}}function Yb(p,y,S,R,Q,G){switch(S){case"style":_y(p,R,G);break;case"dangerouslySetInnerHTML":if(R!=null){if(typeof R!="object"||!("__html"in R))throw Error(r(61));if(S=R.__html,S!=null){if(Q.children!=null)throw Error(r(60));p.innerHTML=S}}break;case"children":typeof R=="string"?mu(p,R):(typeof R=="number"||typeof R=="bigint")&&mu(p,""+R);break;case"onScroll":R!=null&&Nr("scroll",p);break;case"onScrollEnd":R!=null&&Nr("scrollend",p);break;case"onClick":R!=null&&(p.onclick=Zl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ns.hasOwnProperty(S))e:{if(S[0]==="o"&&S[1]==="n"&&(Q=S.endsWith("Capture"),y=S.slice(2,Q?S.length-7:void 0),G=p[rn]||null,G=G!=null?G[S]:null,typeof G=="function"&&p.removeEventListener(y,G,Q),typeof R=="function")){typeof G!="function"&&G!==null&&(S in p?p[S]=null:p.hasAttribute(S)&&p.removeAttribute(S)),p.addEventListener(y,R,Q);break e}S in p?p[S]=R:R===!0?p.setAttribute(S,""):Sm(p,S,R)}}}function Es(p,y,S){switch(y){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nr("error",p),Nr("load",p);var R=!1,Q=!1,G;for(G in S)if(S.hasOwnProperty(G)){var de=S[G];if(de!=null)switch(G){case"src":R=!0;break;case"srcSet":Q=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,y));default:si(p,y,G,de,S,null)}}Q&&si(p,y,"srcSet",S.srcSet,S,null),R&&si(p,y,"src",S.src,S,null);return;case"input":Nr("invalid",p);var Ae=G=de=Q=null,et=null,wt=null;for(R in S)if(S.hasOwnProperty(R)){var $t=S[R];if($t!=null)switch(R){case"name":Q=$t;break;case"type":de=$t;break;case"checked":et=$t;break;case"defaultChecked":wt=$t;break;case"value":G=$t;break;case"defaultValue":Ae=$t;break;case"children":case"dangerouslySetInnerHTML":if($t!=null)throw Error(r(137,y));break;default:si(p,y,R,$t,S,null)}}vy(p,G,Ae,et,wt,de,Q,!1);return;case"select":Nr("invalid",p),R=de=G=null;for(Q in S)if(S.hasOwnProperty(Q)&&(Ae=S[Q],Ae!=null))switch(Q){case"value":G=Ae;break;case"defaultValue":de=Ae;break;case"multiple":R=Ae;default:si(p,y,Q,Ae,S,null)}y=G,S=de,p.multiple=!!R,y!=null?ph(p,!!R,y,!1):S!=null&&ph(p,!!R,S,!0);return;case"textarea":Nr("invalid",p),G=Q=R=null;for(de in S)if(S.hasOwnProperty(de)&&(Ae=S[de],Ae!=null))switch(de){case"value":R=Ae;break;case"defaultValue":Q=Ae;break;case"children":G=Ae;break;case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(r(91));break;default:si(p,y,de,Ae,S,null)}Zf(p,R,Q,G);return;case"option":for(et in S)S.hasOwnProperty(et)&&(R=S[et],R!=null)&&(et==="selected"?p.selected=R&&typeof R!="function"&&typeof R!="symbol":si(p,y,et,R,S,null));return;case"dialog":Nr("beforetoggle",p),Nr("toggle",p),Nr("cancel",p),Nr("close",p);break;case"iframe":case"object":Nr("load",p);break;case"video":case"audio":for(R=0;R<_p.length;R++)Nr(_p[R],p);break;case"image":Nr("error",p),Nr("load",p);break;case"details":Nr("toggle",p);break;case"embed":case"source":case"link":Nr("error",p),Nr("load",p);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(wt in S)if(S.hasOwnProperty(wt)&&(R=S[wt],R!=null))switch(wt){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,y));default:si(p,y,wt,R,S,null)}return;default:if(wd(y)){for($t in S)S.hasOwnProperty($t)&&(R=S[$t],R!==void 0&&Yb(p,y,$t,R,S,void 0));return}}for(Ae in S)S.hasOwnProperty(Ae)&&(R=S[Ae],R!=null&&si(p,y,Ae,R,S,null))}function jE(p,y,S,R){switch(y){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var Q=null,G=null,de=null,Ae=null,et=null,wt=null,$t=null;for(Mt in S){var Ht=S[Mt];if(S.hasOwnProperty(Mt)&&Ht!=null)switch(Mt){case"checked":break;case"value":break;case"defaultValue":et=Ht;default:R.hasOwnProperty(Mt)||si(p,y,Mt,null,R,Ht)}}for(var Ct in R){var Mt=R[Ct];if(Ht=S[Ct],R.hasOwnProperty(Ct)&&(Mt!=null||Ht!=null))switch(Ct){case"type":G=Mt;break;case"name":Q=Mt;break;case"checked":wt=Mt;break;case"defaultChecked":$t=Mt;break;case"value":de=Mt;break;case"defaultValue":Ae=Mt;break;case"children":case"dangerouslySetInnerHTML":if(Mt!=null)throw Error(r(137,y));break;default:Mt!==Ht&&si(p,y,Ct,Mt,R,Ht)}}Tm(p,de,Ae,et,wt,$t,G,Q);return;case"select":Mt=de=Ae=Ct=null;for(G in S)if(et=S[G],S.hasOwnProperty(G)&&et!=null)switch(G){case"value":break;case"multiple":Mt=et;default:R.hasOwnProperty(G)||si(p,y,G,null,R,et)}for(Q in R)if(G=R[Q],et=S[Q],R.hasOwnProperty(Q)&&(G!=null||et!=null))switch(Q){case"value":Ct=G;break;case"defaultValue":Ae=G;break;case"multiple":de=G;default:G!==et&&si(p,y,Q,G,R,et)}y=Ae,S=de,R=Mt,Ct!=null?ph(p,!!S,Ct,!1):!!R!=!!S&&(y!=null?ph(p,!!S,y,!0):ph(p,!!S,S?[]:"",!1));return;case"textarea":Mt=Ct=null;for(Ae in S)if(Q=S[Ae],S.hasOwnProperty(Ae)&&Q!=null&&!R.hasOwnProperty(Ae))switch(Ae){case"value":break;case"children":break;default:si(p,y,Ae,null,R,Q)}for(de in R)if(Q=R[de],G=S[de],R.hasOwnProperty(de)&&(Q!=null||G!=null))switch(de){case"value":Ct=Q;break;case"defaultValue":Mt=Q;break;case"children":break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(91));break;default:Q!==G&&si(p,y,de,Q,R,G)}Kx(p,Ct,Mt);return;case"option":for(var Ln in S)Ct=S[Ln],S.hasOwnProperty(Ln)&&Ct!=null&&!R.hasOwnProperty(Ln)&&(Ln==="selected"?p.selected=!1:si(p,y,Ln,null,R,Ct));for(et in R)Ct=R[et],Mt=S[et],R.hasOwnProperty(et)&&Ct!==Mt&&(Ct!=null||Mt!=null)&&(et==="selected"?p.selected=Ct&&typeof Ct!="function"&&typeof Ct!="symbol":si(p,y,et,Ct,R,Mt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xn in S)Ct=S[Xn],S.hasOwnProperty(Xn)&&Ct!=null&&!R.hasOwnProperty(Xn)&&si(p,y,Xn,null,R,Ct);for(wt in R)if(Ct=R[wt],Mt=S[wt],R.hasOwnProperty(wt)&&Ct!==Mt&&(Ct!=null||Mt!=null))switch(wt){case"children":case"dangerouslySetInnerHTML":if(Ct!=null)throw Error(r(137,y));break;default:si(p,y,wt,Ct,R,Mt)}return;default:if(wd(y)){for(var Si in S)Ct=S[Si],S.hasOwnProperty(Si)&&Ct!==void 0&&!R.hasOwnProperty(Si)&&Yb(p,y,Si,void 0,R,Ct);for($t in R)Ct=R[$t],Mt=S[$t],!R.hasOwnProperty($t)||Ct===Mt||Ct===void 0&&Mt===void 0||Yb(p,y,$t,Ct,R,Mt);return}}for(var lt in S)Ct=S[lt],S.hasOwnProperty(lt)&&Ct!=null&&!R.hasOwnProperty(lt)&&si(p,y,lt,null,R,Ct);for(Ht in R)Ct=R[Ht],Mt=S[Ht],!R.hasOwnProperty(Ht)||Ct===Mt||Ct==null&&Mt==null||si(p,y,Ht,Ct,R,Mt)}function El(p){switch(p){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function l0(){if(typeof performance.getEntriesByType=="function"){for(var p=0,y=0,S=performance.getEntriesByType("resource"),R=0;R<S.length;R++){var Q=S[R],G=Q.transferSize,de=Q.initiatorType,Ae=Q.duration;if(G&&Ae&&El(de)){for(de=0,Ae=Q.responseEnd,R+=1;R<S.length;R++){var et=S[R],wt=et.startTime;if(wt>Ae)break;var $t=et.transferSize,Ht=et.initiatorType;$t&&El(Ht)&&(et=et.responseEnd,de+=$t*(et<Ae?1:(Ae-wt)/(et-wt)))}if(--R,y+=8*(G+de)/(Q.duration/1e3),p++,10<p)break}}if(0<p)return y/p/1e6}return navigator.connection&&(p=navigator.connection.downlink,typeof p=="number")?p:5}var o_=null,QS=null;function s_(p){return p.nodeType===9?p:p.ownerDocument}function xp(p){switch(p){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function US(p,y){if(p===0)switch(y){case"svg":return 1;case"math":return 2;default:return 0}return p===1&&y==="foreignObject"?0:p}function Kb(p,y){return p==="textarea"||p==="noscript"||typeof y.children=="string"||typeof y.children=="number"||typeof y.children=="bigint"||typeof y.dangerouslySetInnerHTML=="object"&&y.dangerouslySetInnerHTML!==null&&y.dangerouslySetInnerHTML.__html!=null}var bp=null;function Jb(){var p=window.event;return p&&p.type==="popstate"?p===bp?!1:(bp=p,!0):(bp=null,!1)}var e1=typeof setTimeout=="function"?setTimeout:void 0,ZS=typeof clearTimeout=="function"?clearTimeout:void 0,qS=typeof Promise=="function"?Promise:void 0,WS=typeof queueMicrotask=="function"?queueMicrotask:typeof qS<"u"?function(p){return qS.resolve(null).then(p).catch(HS)}:e1;function HS(p){setTimeout(function(){throw p})}function wp(p){return p==="head"}function VE(p,y){var S=y,R=0;do{var Q=S.nextSibling;if(p.removeChild(S),Q&&Q.nodeType===8)if(S=Q.data,S==="/$"||S==="/&"){if(R===0){p.removeChild(Q),Ep(y);return}R--}else if(S==="$"||S==="$?"||S==="$~"||S==="$!"||S==="&")R++;else if(S==="html")c0(p.ownerDocument.documentElement);else if(S==="head"){S=p.ownerDocument.head,c0(S);for(var G=S.firstChild;G;){var de=G.nextSibling,Ae=G.nodeName;G[or]||Ae==="SCRIPT"||Ae==="STYLE"||Ae==="LINK"&&G.rel.toLowerCase()==="stylesheet"||S.removeChild(G),G=de}}else S==="body"&&c0(p.ownerDocument.body);S=Q}while(S);Ep(y)}function br(p,y){var S=p;p=0;do{var R=S.nextSibling;if(S.nodeType===1?y?(S._stashedDisplay=S.style.display,S.style.display="none"):(S.style.display=S._stashedDisplay||"",S.getAttribute("style")===""&&S.removeAttribute("style")):S.nodeType===3&&(y?(S._stashedText=S.nodeValue,S.nodeValue=""):S.nodeValue=S._stashedText||""),R&&R.nodeType===8)if(S=R.data,S==="/$"){if(p===0)break;p--}else S!=="$"&&S!=="$?"&&S!=="$~"&&S!=="$!"||p++;S=R}while(S)}function Iu(p){var y=p.firstChild;for(y&&y.nodeType===10&&(y=y.nextSibling);y;){var S=y;switch(y=y.nextSibling,S.nodeName){case"HTML":case"HEAD":case"BODY":Iu(S),_d(S);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(S.rel.toLowerCase()==="stylesheet")continue}p.removeChild(S)}}function js(p,y,S,R){for(;p.nodeType===1;){var Q=S;if(p.nodeName.toLowerCase()!==y.toLowerCase()){if(!R&&(p.nodeName!=="INPUT"||p.type!=="hidden"))break}else if(R){if(!p[or])switch(y){case"meta":if(!p.hasAttribute("itemprop"))break;return p;case"link":if(G=p.getAttribute("rel"),G==="stylesheet"&&p.hasAttribute("data-precedence"))break;if(G!==Q.rel||p.getAttribute("href")!==(Q.href==null||Q.href===""?null:Q.href)||p.getAttribute("crossorigin")!==(Q.crossOrigin==null?null:Q.crossOrigin)||p.getAttribute("title")!==(Q.title==null?null:Q.title))break;return p;case"style":if(p.hasAttribute("data-precedence"))break;return p;case"script":if(G=p.getAttribute("src"),(G!==(Q.src==null?null:Q.src)||p.getAttribute("type")!==(Q.type==null?null:Q.type)||p.getAttribute("crossorigin")!==(Q.crossOrigin==null?null:Q.crossOrigin))&&G&&p.hasAttribute("async")&&!p.hasAttribute("itemprop"))break;return p;default:return p}}else if(y==="input"&&p.type==="hidden"){var G=Q.name==null?null:""+Q.name;if(Q.type==="hidden"&&p.getAttribute("name")===G)return p}else return p;if(p=ic(p.nextSibling),p===null)break}return null}function Du(p,y,S){if(y==="")return null;for(;p.nodeType!==3;)if((p.nodeType!==1||p.nodeName!=="INPUT"||p.type!=="hidden")&&!S||(p=ic(p.nextSibling),p===null))return null;return p}function Op(p,y){for(;p.nodeType!==8;)if((p.nodeType!==1||p.nodeName!=="INPUT"||p.type!=="hidden")&&!y||(p=ic(p.nextSibling),p===null))return null;return p}function Ta(p){return p.data==="$?"||p.data==="$~"}function Zo(p){return p.data==="$!"||p.data==="$?"&&p.ownerDocument.readyState!=="loading"}function gs(p,y){var S=p.ownerDocument;if(p.data==="$~")p._reactRetry=y;else if(p.data!=="$?"||S.readyState!=="loading")y();else{var R=function(){y(),S.removeEventListener("DOMContentLoaded",R)};S.addEventListener("DOMContentLoaded",R),p._reactRetry=R}}function ic(p){for(;p!=null;p=p.nextSibling){var y=p.nodeType;if(y===1||y===3)break;if(y===8){if(y=p.data,y==="$"||y==="$!"||y==="$?"||y==="$~"||y==="&"||y==="F!"||y==="F")break;if(y==="/$"||y==="/&")return null}}return p}var Xa=null;function ys(p){p=p.nextSibling;for(var y=0;p;){if(p.nodeType===8){var S=p.data;if(S==="/$"||S==="/&"){if(y===0)return ic(p.nextSibling);y--}else S!=="$"&&S!=="$!"&&S!=="$?"&&S!=="$~"&&S!=="&"||y++}p=p.nextSibling}return null}function a_(p){p=p.previousSibling;for(var y=0;p;){if(p.nodeType===8){var S=p.data;if(S==="$"||S==="$!"||S==="$?"||S==="$~"||S==="&"){if(y===0)return p;y--}else S!=="/$"&&S!=="/&"||y++}p=p.previousSibling}return null}function QE(p,y,S){switch(y=s_(S),p){case"html":if(p=y.documentElement,!p)throw Error(r(452));return p;case"head":if(p=y.head,!p)throw Error(r(453));return p;case"body":if(p=y.body,!p)throw Error(r(454));return p;default:throw Error(r(451))}}function c0(p){for(var y=p.attributes;y.length;)p.removeAttributeNode(y[0]);_d(p)}var Vs=new Map,yg=new Set;function t1(p){return typeof p.getRootNode=="function"?p.getRootNode():p.nodeType===9?p:p.ownerDocument}var Fh=Me.d;Me.d={f:UE,r:ZE,D:XS,C:ka,L:Lu,m:Ea,X:n1,S:Cp,M:YS};function UE(){var p=Fh.f(),y=Jv();return p||y}function ZE(p){var y=fu(p);y!==null&&y.tag===5&&y.type==="form"?hs(y):Fh.r(p)}var Sp=typeof document>"u"?null:document;function GS(p,y,S){var R=Sp;if(R&&typeof y=="string"&&y){var Q=sa(y);Q='link[rel="'+p+'"][href="'+Q+'"]',typeof S=="string"&&(Q+='[crossorigin="'+S+'"]'),yg.has(Q)||(yg.add(Q),p={rel:p,crossOrigin:S,href:y},R.querySelector(Q)===null&&(y=R.createElement("link"),Es(y,"link",p),oo(y),R.head.appendChild(y)))}}function XS(p){Fh.D(p),GS("dns-prefetch",p,null)}function ka(p,y){Fh.C(p,y),GS("preconnect",p,y)}function Lu(p,y,S){Fh.L(p,y,S);var R=Sp;if(R&&p&&y){var Q='link[rel="preload"][as="'+sa(y)+'"]';y==="image"&&S&&S.imageSrcSet?(Q+='[imagesrcset="'+sa(S.imageSrcSet)+'"]',typeof S.imageSizes=="string"&&(Q+='[imagesizes="'+sa(S.imageSizes)+'"]')):Q+='[href="'+sa(p)+'"]';var G=Q;switch(y){case"style":G=vg(p);break;case"script":G=tf(p)}Vs.has(G)||(p=v({rel:"preload",href:y==="image"&&S&&S.imageSrcSet?void 0:p,as:y},S),Vs.set(G,p),R.querySelector(Q)!==null||y==="style"&&R.querySelector(u0(G))||y==="script"&&R.querySelector(h0(G))||(y=R.createElement("link"),Es(y,"link",p),oo(y),R.head.appendChild(y)))}}function Ea(p,y){Fh.m(p,y);var S=Sp;if(S&&p){var R=y&&typeof y.as=="string"?y.as:"script",Q='link[rel="modulepreload"][as="'+sa(R)+'"][href="'+sa(p)+'"]',G=Q;switch(R){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":G=tf(p)}if(!Vs.has(G)&&(p=v({rel:"modulepreload",href:p},y),Vs.set(G,p),S.querySelector(Q)===null)){switch(R){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(S.querySelector(h0(G)))return}R=S.createElement("link"),Es(R,"link",p),oo(R),S.head.appendChild(R)}}}function Cp(p,y,S){Fh.S(p,y,S);var R=Sp;if(R&&p){var Q=wc(R).hoistableStyles,G=vg(p);y=y||"default";var de=Q.get(G);if(!de){var Ae={loading:0,preload:null};if(de=R.querySelector(u0(G)))Ae.loading=5;else{p=v({rel:"stylesheet",href:p,"data-precedence":y},S),(S=Vs.get(G))&&l_(p,S);var et=de=R.createElement("link");oo(et),Es(et,"link",p),et._p=new Promise(function(wt,$t){et.onload=wt,et.onerror=$t}),et.addEventListener("load",function(){Ae.loading|=1}),et.addEventListener("error",function(){Ae.loading|=2}),Ae.loading|=4,nf(de,y,R)}de={type:"stylesheet",instance:de,count:1,state:Ae},Q.set(G,de)}}}function n1(p,y){Fh.X(p,y);var S=Sp;if(S&&p){var R=wc(S).hoistableScripts,Q=tf(p),G=R.get(Q);G||(G=S.querySelector(h0(Q)),G||(p=v({src:p,async:!0},y),(y=Vs.get(Q))&&r1(p,y),G=S.createElement("script"),oo(G),Es(G,"link",p),S.head.appendChild(G)),G={type:"script",instance:G,count:1,state:null},R.set(Q,G))}}function YS(p,y){Fh.M(p,y);var S=Sp;if(S&&p){var R=wc(S).hoistableScripts,Q=tf(p),G=R.get(Q);G||(G=S.querySelector(h0(Q)),G||(p=v({src:p,async:!0,type:"module"},y),(y=Vs.get(Q))&&r1(p,y),G=S.createElement("script"),oo(G),Es(G,"link",p),S.head.appendChild(G)),G={type:"script",instance:G,count:1,state:null},R.set(Q,G))}}function KS(p,y,S,R){var Q=(Q=ct.current)?t1(Q):null;if(!Q)throw Error(r(446));switch(p){case"meta":case"title":return null;case"style":return typeof S.precedence=="string"&&typeof S.href=="string"?(y=vg(S.href),S=wc(Q).hoistableStyles,R=S.get(y),R||(R={type:"style",instance:null,count:0,state:null},S.set(y,R)),R):{type:"void",instance:null,count:0,state:null};case"link":if(S.rel==="stylesheet"&&typeof S.href=="string"&&typeof S.precedence=="string"){p=vg(S.href);var G=wc(Q).hoistableStyles,de=G.get(p);if(de||(Q=Q.ownerDocument||Q,de={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},G.set(p,de),(G=Q.querySelector(u0(p)))&&!G._p&&(de.instance=G,de.state.loading=5),Vs.has(p)||(S={rel:"preload",as:"style",href:S.href,crossOrigin:S.crossOrigin,integrity:S.integrity,media:S.media,hrefLang:S.hrefLang,referrerPolicy:S.referrerPolicy},Vs.set(p,S),G||e2(Q,p,S,de.state))),y&&R===null)throw Error(r(528,""));return de}if(y&&R!==null)throw Error(r(529,""));return null;case"script":return y=S.async,S=S.src,typeof S=="string"&&y&&typeof y!="function"&&typeof y!="symbol"?(y=tf(S),S=wc(Q).hoistableScripts,R=S.get(y),R||(R={type:"script",instance:null,count:0,state:null},S.set(y,R)),R):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,p))}}function vg(p){return'href="'+sa(p)+'"'}function u0(p){return'link[rel="stylesheet"]['+p+"]"}function JS(p){return v({},p,{"data-precedence":p.precedence,precedence:null})}function e2(p,y,S,R){p.querySelector('link[rel="preload"][as="style"]['+y+"]")?R.loading=1:(y=p.createElement("link"),R.preload=y,y.addEventListener("load",function(){return R.loading|=1}),y.addEventListener("error",function(){return R.loading|=2}),Es(y,"link",S),oo(y),p.head.appendChild(y))}function tf(p){return'[src="'+sa(p)+'"]'}function h0(p){return"script[async]"+p}function t2(p,y,S){if(y.count++,y.instance===null)switch(y.type){case"style":var R=p.querySelector('style[data-href~="'+sa(S.href)+'"]');if(R)return y.instance=R,oo(R),R;var Q=v({},S,{"data-href":S.href,"data-precedence":S.precedence,href:null,precedence:null});return R=(p.ownerDocument||p).createElement("style"),oo(R),Es(R,"style",Q),nf(R,S.precedence,p),y.instance=R;case"stylesheet":Q=vg(S.href);var G=p.querySelector(u0(Q));if(G)return y.state.loading|=4,y.instance=G,oo(G),G;R=JS(S),(Q=Vs.get(Q))&&l_(R,Q),G=(p.ownerDocument||p).createElement("link"),oo(G);var de=G;return de._p=new Promise(function(Ae,et){de.onload=Ae,de.onerror=et}),Es(G,"link",R),y.state.loading|=4,nf(G,S.precedence,p),y.instance=G;case"script":return G=tf(S.src),(Q=p.querySelector(h0(G)))?(y.instance=Q,oo(Q),Q):(R=S,(Q=Vs.get(G))&&(R=v({},S),r1(R,Q)),p=p.ownerDocument||p,Q=p.createElement("script"),oo(Q),Es(Q,"link",R),p.head.appendChild(Q),y.instance=Q);case"void":return null;default:throw Error(r(443,y.type))}else y.type==="stylesheet"&&(y.state.loading&4)===0&&(R=y.instance,y.state.loading|=4,nf(R,S.precedence,p));return y.instance}function nf(p,y,S){for(var R=S.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),Q=R.length?R[R.length-1]:null,G=Q,de=0;de<R.length;de++){var Ae=R[de];if(Ae.dataset.precedence===y)G=Ae;else if(G!==Q)break}G?G.parentNode.insertBefore(p,G.nextSibling):(y=S.nodeType===9?S.head:S,y.insertBefore(p,y.firstChild))}function l_(p,y){p.crossOrigin==null&&(p.crossOrigin=y.crossOrigin),p.referrerPolicy==null&&(p.referrerPolicy=y.referrerPolicy),p.title==null&&(p.title=y.title)}function r1(p,y){p.crossOrigin==null&&(p.crossOrigin=y.crossOrigin),p.referrerPolicy==null&&(p.referrerPolicy=y.referrerPolicy),p.integrity==null&&(p.integrity=y.integrity)}var i1=null;function n2(p,y,S){if(i1===null){var R=new Map,Q=i1=new Map;Q.set(S,R)}else Q=i1,R=Q.get(S),R||(R=new Map,Q.set(S,R));if(R.has(p))return R;for(R.set(p,null),S=S.getElementsByTagName(p),Q=0;Q<S.length;Q++){var G=S[Q];if(!(G[or]||G[_i]||p==="link"&&G.getAttribute("rel")==="stylesheet")&&G.namespaceURI!=="http://www.w3.org/2000/svg"){var de=G.getAttribute(y)||"";de=p+de;var Ae=R.get(de);Ae?Ae.push(G):R.set(de,[G])}}return R}function c_(p,y,S){p=p.ownerDocument||p,p.head.insertBefore(S,y==="title"?p.querySelector("head > title"):null)}function o1(p,y,S){if(S===1||y.itemProp!=null)return!1;switch(p){case"meta":case"title":return!0;case"style":if(typeof y.precedence!="string"||typeof y.href!="string"||y.href==="")break;return!0;case"link":if(typeof y.rel!="string"||typeof y.href!="string"||y.href===""||y.onLoad||y.onError)break;return y.rel==="stylesheet"?(p=y.disabled,typeof y.precedence=="string"&&p==null):!0;case"script":if(y.async&&typeof y.async!="function"&&typeof y.async!="symbol"&&!y.onLoad&&!y.onError&&y.src&&typeof y.src=="string")return!0}return!1}function u_(p){return!(p.type==="stylesheet"&&(p.state.loading&3)===0)}function r2(p,y,S,R){if(S.type==="stylesheet"&&(typeof R.media!="string"||matchMedia(R.media).matches!==!1)&&(S.state.loading&4)===0){if(S.instance===null){var Q=vg(R.href),G=y.querySelector(u0(Q));if(G){y=G._p,y!==null&&typeof y=="object"&&typeof y.then=="function"&&(p.count++,p=d_.bind(p),y.then(p,p)),S.state.loading|=4,S.instance=G,oo(G);return}G=y.ownerDocument||y,R=JS(R),(Q=Vs.get(Q))&&l_(R,Q),G=G.createElement("link"),oo(G);var de=G;de._p=new Promise(function(Ae,et){de.onload=Ae,de.onerror=et}),Es(G,"link",R),S.instance=G}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(S,y),(y=S.state.preload)&&(S.state.loading&3)===0&&(p.count++,S=d_.bind(p),y.addEventListener("load",S),y.addEventListener("error",S))}}var h_=0;function i2(p,y){return p.stylesheets&&p.count===0&&p_(p,p.stylesheets),0<p.count||0<p.imgCount?function(S){var R=setTimeout(function(){if(p.stylesheets&&p_(p,p.stylesheets),p.unsuspend){var G=p.unsuspend;p.unsuspend=null,G()}},6e4+y);0<p.imgBytes&&h_===0&&(h_=62500*l0());var Q=setTimeout(function(){if(p.waitingForImages=!1,p.count===0&&(p.stylesheets&&p_(p,p.stylesheets),p.unsuspend)){var G=p.unsuspend;p.unsuspend=null,G()}},(p.imgBytes>h_?50:800)+y);return p.unsuspend=S,function(){p.unsuspend=null,clearTimeout(R),clearTimeout(Q)}}:null}function d_(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)p_(this,this.stylesheets);else if(this.unsuspend){var p=this.unsuspend;this.unsuspend=null,p()}}}var f_=null;function p_(p,y){p.stylesheets=null,p.unsuspend!==null&&(p.count++,f_=new Map,y.forEach(qE,p),f_=null,d_.call(p))}function qE(p,y){if(!(y.state.loading&4)){var S=f_.get(p);if(S)var R=S.get(null);else{S=new Map,f_.set(p,S);for(var Q=p.querySelectorAll("link[data-precedence],style[data-precedence]"),G=0;G<Q.length;G++){var de=Q[G];(de.nodeName==="LINK"||de.getAttribute("media")!=="not all")&&(S.set(de.dataset.precedence,de),R=de)}R&&S.set(null,R)}Q=y.instance,de=Q.getAttribute("data-precedence"),G=S.get(de)||R,G===R&&S.set(null,Q),S.set(de,Q),this.count++,R=d_.bind(this),Q.addEventListener("load",R),Q.addEventListener("error",R),G?G.parentNode.insertBefore(Q,G.nextSibling):(p=p.nodeType===9?p.head:p,p.insertBefore(Q,p.firstChild)),y.state.loading|=4}}var d0={$$typeof:N,Provider:null,Consumer:null,_currentValue:Be,_currentValue2:Be,_threadCount:0};function pD(p,y,S,R,Q,G,de,Ae,et){this.tag=1,this.containerInfo=p,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=R,this.onUncaughtError=Q,this.onCaughtError=G,this.onRecoverableError=de,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=et,this.incompleteTransitions=new Map}function o2(p,y,S,R,Q,G,de,Ae,et,wt,$t,Ht){return p=new pD(p,y,S,de,et,wt,$t,Ht,Ae),y=1,G===!0&&(y|=24),G=Fa(3,null,null,y),p.current=G,G.stateNode=p,y=Lc(),y.refCount++,p.pooledCache=y,y.refCount++,G.memoizedState={element:R,isDehydrated:S,cache:y},Qy(G),p}function WE(p){return p?(p=lr,p):lr}function HE(p,y,S,R,Q,G){Q=WE(Q),R.context===null?R.context=Q:R.pendingContext=Q,R=Fc(y),R.payload={element:S},G=G===void 0?null:G,G!==null&&(R.callback=G),S=Ou(p,R,y),S!==null&&(kl(S,p,y),vl(S,p,y))}function s1(p,y){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var S=p.retryLane;p.retryLane=S!==0&&S<y?S:y}}function a1(p,y){s1(p,y),(p=p.alternate)&&s1(p,y)}function GE(p){if(p.tag===13||p.tag===31){var y=ml(p,67108864);y!==null&&kl(y,p,67108864),a1(p,67108864)}}function XE(p){if(p.tag===13||p.tag===31){var y=Tl();y=vd(y);var S=ml(p,y);S!==null&&kl(S,p,y),a1(p,y)}}var m_=!0;function g_(p,y,S,R){var Q=_e.T;_e.T=null;var G=Me.p;try{Me.p=2,s2(p,y,S,R)}finally{Me.p=G,_e.T=Q}}function YE(p,y,S,R){var Q=_e.T;_e.T=null;var G=Me.p;try{Me.p=8,s2(p,y,S,R)}finally{Me.p=G,_e.T=Q}}function s2(p,y,S,R){if(m_){var Q=y_(R);if(Q===null)Bh(p,y,R,f0,S),KE(p,R);else if(gD(Q,p,y,S,R))R.stopPropagation();else if(KE(p,R),y&4&&-1<mD.indexOf(p)){for(;Q!==null;){var G=fu(Q);if(G!==null)switch(G.tag){case 3:if(G=G.stateNode,G.current.memoizedState.isDehydrated){var de=ut(G.pendingLanes);if(de!==0){var Ae=G;for(Ae.pendingLanes|=2,Ae.entangledLanes|=2;de;){var et=1<<31-St(de);Ae.entanglements[1]|=et,de&=~et}Ru(G),(mi&6)===0&&(Yv=kt()+500,rc(0))}}break;case 31:case 13:Ae=ml(G,2),Ae!==null&&kl(Ae,G,2),Jv(),a1(G,2)}if(G=y_(R),G===null&&Bh(p,y,R,f0,S),G===Q)break;Q=G}Q!==null&&R.stopPropagation()}else Bh(p,y,R,null,S)}}function y_(p){return p=Em(p),l1(p)}var f0=null;function l1(p){if(f0=null,p=xc(p),p!==null){var y=o(p);if(y===null)p=null;else{var S=y.tag;if(S===13){if(p=a(y),p!==null)return p;p=null}else if(S===31){if(p=s(y),p!==null)return p;p=null}else if(S===3){if(y.stateNode.current.memoizedState.isDehydrated)return y.tag===3?y.stateNode.containerInfo:null;p=null}else y!==p&&(p=null)}}return f0=p,null}function _g(p){switch(p){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vt()){case Oe:return 2;case se:return 8;case K:case xe:return 32;case $e:return 268435456;default:return 32}default:return 32}}var c1=!1,Tp=null,qc=null,kp=null,v_=new Map,p0=new Map,rf=[],mD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function KE(p,y){switch(p){case"focusin":case"focusout":Tp=null;break;case"dragenter":case"dragleave":qc=null;break;case"mouseover":case"mouseout":kp=null;break;case"pointerover":case"pointerout":v_.delete(y.pointerId);break;case"gotpointercapture":case"lostpointercapture":p0.delete(y.pointerId)}}function __(p,y,S,R,Q,G){return p===null||p.nativeEvent!==G?(p={blockedOn:y,domEventName:S,eventSystemFlags:R,nativeEvent:G,targetContainers:[Q]},y!==null&&(y=fu(y),y!==null&&GE(y)),p):(p.eventSystemFlags|=R,y=p.targetContainers,Q!==null&&y.indexOf(Q)===-1&&y.push(Q),p)}function gD(p,y,S,R,Q){switch(y){case"focusin":return Tp=__(Tp,p,y,S,R,Q),!0;case"dragenter":return qc=__(qc,p,y,S,R,Q),!0;case"mouseover":return kp=__(kp,p,y,S,R,Q),!0;case"pointerover":var G=Q.pointerId;return v_.set(G,__(v_.get(G)||null,p,y,S,R,Q)),!0;case"gotpointercapture":return G=Q.pointerId,p0.set(G,__(p0.get(G)||null,p,y,S,R,Q)),!0}return!1}function JE(p){var y=xc(p.target);if(y!==null){var S=o(y);if(S!==null){if(y=S.tag,y===13){if(y=a(S),y!==null){p.blockedOn=y,zs(p.priority,function(){XE(S)});return}}else if(y===31){if(y=s(S),y!==null){p.blockedOn=y,zs(p.priority,function(){XE(S)});return}}else if(y===3&&S.stateNode.current.memoizedState.isDehydrated){p.blockedOn=S.tag===3?S.stateNode.containerInfo:null;return}}}p.blockedOn=null}function x_(p){if(p.blockedOn!==null)return!1;for(var y=p.targetContainers;0<y.length;){var S=y_(p.nativeEvent);if(S===null){S=p.nativeEvent;var R=new S.constructor(S.type,S);yv=R,S.target.dispatchEvent(R),yv=null}else return y=fu(S),y!==null&&GE(y),p.blockedOn=S,!1;y.shift()}return!0}function eA(p,y,S){x_(p)&&S.delete(y)}function b_(){c1=!1,Tp!==null&&x_(Tp)&&(Tp=null),qc!==null&&x_(qc)&&(qc=null),kp!==null&&x_(kp)&&(kp=null),v_.forEach(eA),p0.forEach(eA)}function u1(p,y){p.blockedOn===y&&(p.blockedOn=null,c1||(c1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,b_)))}var h1=null;function tA(p){h1!==p&&(h1=p,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){h1===p&&(h1=null);for(var y=0;y<p.length;y+=3){var S=p[y],R=p[y+1],Q=p[y+2];if(typeof R!="function"){if(l1(R||S)===null)continue;break}var G=fu(S);G!==null&&(p.splice(y,3),y-=3,co(G,{pending:!0,data:Q,method:S.method,action:R},R,Q))}}))}function Ep(p){function y(et){return u1(et,p)}Tp!==null&&u1(Tp,p),qc!==null&&u1(qc,p),kp!==null&&u1(kp,p),v_.forEach(y),p0.forEach(y);for(var S=0;S<rf.length;S++){var R=rf[S];R.blockedOn===p&&(R.blockedOn=null)}for(;0<rf.length&&(S=rf[0],S.blockedOn===null);)JE(S),S.blockedOn===null&&rf.shift();if(S=(p.ownerDocument||p).$$reactFormReplay,S!=null)for(R=0;R<S.length;R+=3){var Q=S[R],G=S[R+1],de=Q[rn]||null;if(typeof G=="function")de||tA(S);else if(de){var Ae=null;if(G&&G.hasAttribute("formAction")){if(Q=G,de=G[rn]||null)Ae=de.formAction;else if(l1(Q)!==null)continue}else Ae=de.action;typeof Ae=="function"?S[R+1]=Ae:(S.splice(R,3),R-=3),tA(S)}}}function a2(){function p(G){G.canIntercept&&G.info==="react-transition"&&G.intercept({handler:function(){return new Promise(function(de){return Q=de})},focusReset:"manual",scroll:"manual"})}function y(){Q!==null&&(Q(),Q=null),R||setTimeout(S,20)}function S(){if(!R&&!navigation.transition){var G=navigation.currentEntry;G&&G.url!=null&&navigation.navigate(G.url,{state:G.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var R=!1,Q=null;return navigation.addEventListener("navigate",p),navigation.addEventListener("navigatesuccess",y),navigation.addEventListener("navigateerror",y),setTimeout(S,100),function(){R=!0,navigation.removeEventListener("navigate",p),navigation.removeEventListener("navigatesuccess",y),navigation.removeEventListener("navigateerror",y),Q!==null&&(Q(),Q=null)}}}function l2(p){this._internalRoot=p}d1.prototype.render=l2.prototype.render=function(p){var y=this._internalRoot;if(y===null)throw Error(r(409));var S=y.current,R=Tl();HE(S,R,p,y,null,null)},d1.prototype.unmount=l2.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var y=p.containerInfo;HE(p.current,2,null,p,null,null),Jv(),y[sr]=null}};function d1(p){this._internalRoot=p}d1.prototype.unstable_scheduleHydration=function(p){if(p){var y=$s();p={blockedOn:null,target:p,priority:y};for(var S=0;S<rf.length&&y!==0&&y<rf[S].priority;S++);rf.splice(S,0,p),S===0&&JE(p)}};var c2=e.version;if(c2!=="19.2.3")throw Error(r(527,c2,"19.2.3"));Me.findDOMNode=function(p){var y=p._reactInternals;if(y===void 0)throw typeof p.render=="function"?Error(r(188)):(p=Object.keys(p).join(","),Error(r(268,p)));return p=d(y),p=p!==null?g(p):null,p=p===null?null:p.stateNode,p};var nA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:_e,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var f1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!f1.isDisabled&&f1.supportsFiber)try{tt=f1.inject(nA),Ke=f1}catch{}}return m2.createRoot=function(p,y){if(!i(p))throw Error(r(299));var S=!1,R="",Q=Wy,G=Eu,de=Au;return y!=null&&(y.unstable_strictMode===!0&&(S=!0),y.identifierPrefix!==void 0&&(R=y.identifierPrefix),y.onUncaughtError!==void 0&&(Q=y.onUncaughtError),y.onCaughtError!==void 0&&(G=y.onCaughtError),y.onRecoverableError!==void 0&&(de=y.onRecoverableError)),y=o2(p,1,!1,null,null,S,R,null,Q,G,de,a2),p[sr]=y.current,FS(p),new l2(y)},m2.hydrateRoot=function(p,y,S){if(!i(p))throw Error(r(299));var R=!1,Q="",G=Wy,de=Eu,Ae=Au,et=null;return S!=null&&(S.unstable_strictMode===!0&&(R=!0),S.identifierPrefix!==void 0&&(Q=S.identifierPrefix),S.onUncaughtError!==void 0&&(G=S.onUncaughtError),S.onCaughtError!==void 0&&(de=S.onCaughtError),S.onRecoverableError!==void 0&&(Ae=S.onRecoverableError),S.formState!==void 0&&(et=S.formState)),y=o2(p,1,!0,y,S??null,R,Q,et,G,de,Ae,a2),y.context=WE(null),S=y.current,R=Tl(),R=vd(R),Q=Fc(R),Q.callback=null,Ou(S,Q,R),S=R,y.current.lanes=S,ri(y,S),Ru(y),p[sr]=y.current,FS(p),new d1(y)},m2.version="19.2.3",m2}var R7;function mde(){if(R7)return ED.exports;R7=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ED.exports=pde(),ED.exports}var gde=mde();var I7="popstate";function yde(t={}){function e(r,i){let{pathname:o,search:a,hash:s}=r.location;return P$("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:UC(i)}return _de(e,n,null,t)}function Go(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function oh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vde(){return Math.random().toString(36).substring(2,10)}function D7(t,e){return{usr:t.state,key:t.key,idx:e}}function P$(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?SO(e):e,state:n,key:e&&e.key||r||vde()}}function UC({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function SO(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function _de(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s="POP",u=null,d=g();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function g(){return(a.state||{idx:null}).idx}function v(){s="POP";let M=g(),L=M==null?null:M-d;d=M,u&&u({action:s,location:A.location,delta:L})}function x(M,L){s="PUSH";let $=P$(A.location,M,L);d=g()+1;let N=D7($,d),F=A.createHref($);try{a.pushState(N,"",F)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(F)}o&&u&&u({action:s,location:A.location,delta:1})}function O(M,L){s="REPLACE";let $=P$(A.location,M,L);d=g();let N=D7($,d),F=A.createHref($);a.replaceState(N,"",F),o&&u&&u({action:s,location:A.location,delta:0})}function E(M){return xde(M)}let A={get action(){return s},get location(){return t(i,a)},listen(M){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(I7,v),u=M,()=>{i.removeEventListener(I7,v),u=null}},createHref(M){return e(i,M)},createURL:E,encodeLocation(M){let L=E(M);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:x,replace:O,go(M){return a.go(M)}};return A}function xde(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Go(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:UC(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function MX(t,e,n="/"){return bde(t,e,n,!1)}function bde(t,e,n,r){let i=typeof e=="string"?SO(e):e,o=Hg(i.pathname||"/",n);if(o==null)return null;let a=RX(t);wde(a);let s=null;for(let u=0;s==null&&u<a.length;++u){let d=Ide(o);s=Mde(a[u],d,r)}return s}function RX(t,e=[],n=[],r="",i=!1){let o=(a,s,u=i,d)=>{let g={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&u)return;Go(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let v=Ug([r,g.relativePath]),x=n.concat(g);a.children&&a.children.length>0&&(Go(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),RX(a.children,e,x,v,u)),!(a.path==null&&!a.index)&&e.push({path:v,score:Ade(v,a.index),routesMeta:x})};return t.forEach((a,s)=>{if(a.path===""||!a.path?.includes("?"))o(a,s);else for(let u of IX(a.path))o(a,s,!0,u)}),e}function IX(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=IX(r.join("/")),s=[];return s.push(...a.map(u=>u===""?o:[o,u].join("/"))),i&&s.push(...a),s.map(u=>t.startsWith("/")&&u===""?"/":u)}function wde(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Pde(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Ode=/^:[\w-]+$/,Sde=3,Cde=2,Tde=1,kde=10,Ede=-2,L7=t=>t==="*";function Ade(t,e){let n=t.split("/"),r=n.length;return n.some(L7)&&(r+=Ede),e&&(r+=Cde),n.filter(i=>!L7(i)).reduce((i,o)=>i+(Ode.test(o)?Sde:o===""?Tde:kde),r)}function Pde(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Mde(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let u=r[s],d=s===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=u5({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},g),x=u.route;if(!v&&d&&n&&!r[r.length-1].route.index&&(v=u5({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},g)),!v)return null;Object.assign(i,v.params),a.push({params:i,pathname:Ug([o,v.pathname]),pathnameBase:zde(Ug([o,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(o=Ug([o,v.pathnameBase]))}return a}function u5(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Rde(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((d,{paramName:g,isOptional:v},x)=>{if(g==="*"){let E=s[x]||"";a=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const O=s[x];return v&&!O?d[g]=void 0:d[g]=(O||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:a,pattern:t}}function Rde(t,e=!1,n=!0){oh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,u)=>(r.push({paramName:s,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Ide(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oh(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Hg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var DX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dde=t=>DX.test(t);function Lde(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?SO(t):t,o;if(n)if(Dde(n))o=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),oh(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${n}`)}n.startsWith("/")?o=$7(n.substring(1),"/"):o=$7(n,e)}else o=e;return{pathname:o,search:Nde(r),hash:Bde(i)}}function $7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function RD(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $de(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function dN(t){let e=$de(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function fN(t,e,n,r=!1){let i;typeof t=="string"?i=SO(t):(i={...t},Go(!i.pathname||!i.pathname.includes("?"),RD("?","pathname","search",i)),Go(!i.pathname||!i.pathname.includes("#"),RD("#","pathname","hash",i)),Go(!i.search||!i.search.includes("#"),RD("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let v=e.length-1;if(!r&&a.startsWith("..")){let x=a.split("/");for(;x[0]==="..";)x.shift(),v-=1;i.pathname=x.join("/")}s=v>=0?e[v]:"/"}let u=Lde(i,s),d=a&&a!=="/"&&a.endsWith("/"),g=(o||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||g)&&(u.pathname+="/"),u}var Ug=t=>t.join("/").replace(/\/\/+/g,"/"),zde=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Nde=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Bde=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Fde=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function jde(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Vde(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var LX=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function $X(t,e){let n=t;if(typeof n!="string"||!DX.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(LX)try{let o=new URL(window.location.href),a=n.startsWith("//")?new URL(o.protocol+n):new URL(n),s=Hg(a.pathname,e);a.origin===o.origin&&s!=null?n=s+a.search+a.hash:i=!0}catch{oh(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var zX=["POST","PUT","PATCH","DELETE"];new Set(zX);var Qde=["GET",...zX];new Set(Qde);var CO=j.createContext(null);CO.displayName="DataRouter";var nR=j.createContext(null);nR.displayName="DataRouterState";var Ude=j.createContext(!1),NX=j.createContext({isTransitioning:!1});NX.displayName="ViewTransition";var Zde=j.createContext(new Map);Zde.displayName="Fetchers";var qde=j.createContext(null);qde.displayName="Await";var uh=j.createContext(null);uh.displayName="Navigation";var tk=j.createContext(null);tk.displayName="Location";var vm=j.createContext({outlet:null,matches:[],isDataRoute:!1});vm.displayName="Route";var pN=j.createContext(null);pN.displayName="RouteError";var BX="REACT_ROUTER_ERROR",Wde="REDIRECT",Hde="ROUTE_ERROR_RESPONSE";function Gde(t){if(t.startsWith(`${BX}:${Wde}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Xde(t){if(t.startsWith(`${BX}:${Hde}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Fde(e.status,e.statusText,e.data)}catch{}}function Yde(t,{relative:e}={}){Go(TO(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=j.useContext(uh),{hash:i,pathname:o,search:a}=rk(t,{relative:e}),s=o;return n!=="/"&&(s=o==="/"?n:Ug([n,o])),r.createHref({pathname:s,search:a,hash:i})}function TO(){return j.useContext(tk)!=null}function _m(){return Go(TO(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(tk).location}var FX="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jX(t){j.useContext(uh).static||j.useLayoutEffect(t)}function nk(){let{isDataRoute:t}=j.useContext(vm);return t?ufe():Kde()}function Kde(){Go(TO(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(CO),{basename:e,navigator:n}=j.useContext(uh),{matches:r}=j.useContext(vm),{pathname:i}=_m(),o=JSON.stringify(dN(r)),a=j.useRef(!1);return jX(()=>{a.current=!0}),j.useCallback((u,d={})=>{if(oh(a.current,FX),!a.current)return;if(typeof u=="number"){n.go(u);return}let g=fN(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ug([e,g.pathname])),(d.replace?n.replace:n.push)(g,d.state,d)},[e,n,o,i,t])}j.createContext(null);function rk(t,{relative:e}={}){let{matches:n}=j.useContext(vm),{pathname:r}=_m(),i=JSON.stringify(dN(n));return j.useMemo(()=>fN(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function Jde(t,e){return VX(t,e)}function VX(t,e,n,r,i){Go(TO(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=j.useContext(uh),{matches:a}=j.useContext(vm),s=a[a.length-1],u=s?s.params:{},d=s?s.pathname:"/",g=s?s.pathnameBase:"/",v=s&&s.route;{let $=v&&v.path||"";UX(d,!v||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let x=_m(),O;if(e){let $=typeof e=="string"?SO(e):e;Go(g==="/"||$.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${$.pathname}" was given in the \`location\` prop.`),O=$}else O=x;let E=O.pathname||"/",A=E;if(g!=="/"){let $=g.replace(/^\//,"").split("/");A="/"+E.replace(/^\//,"").split("/").slice($.length).join("/")}let M=MX(t,{pathname:A});oh(v||M!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),oh(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=ife(M&&M.map($=>Object.assign({},$,{params:Object.assign({},u,$.params),pathname:Ug([g,o.encodeLocation?o.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?g:Ug([g,o.encodeLocation?o.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),a,n,r,i);return e&&L?j.createElement(tk.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},L):L}function efe(){let t=cfe(),e=jde(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:o},"ErrorBoundary")," or"," ",j.createElement("code",{style:o},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:i},n):null,a)}var tfe=j.createElement(efe,null),QX=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=Xde(t.digest);n&&(t=n)}let e=t!==void 0?j.createElement(vm.Provider,{value:this.props.routeContext},j.createElement(pN.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?j.createElement(nfe,{error:t},e):e}};QX.contextType=Ude;var ID=new WeakMap;function nfe({children:t,error:e}){let{basename:n}=j.useContext(uh);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=Gde(e.digest);if(r){let i=ID.get(e);if(i)throw i;let o=$X(r.location,n);if(LX&&!ID.get(e))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw ID.set(e,a),a}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function rfe({routeContext:t,match:e,children:n}){let r=j.useContext(CO);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(vm.Provider,{value:t},n)}function ife(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=n?.errors;if(a!=null){let g=o.findIndex(v=>v.route.id&&a?.[v.route.id]!==void 0);Go(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let s=!1,u=-1;if(n)for(let g=0;g<o.length;g++){let v=o[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(u=g),v.route.id){let{loaderData:x,errors:O}=n,E=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!O||O[v.route.id]===void 0);if(v.route.lazy||E){s=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}let d=n&&r?(g,v)=>{r(g,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Vde(n.matches),errorInfo:v})}:void 0;return o.reduceRight((g,v,x)=>{let O,E=!1,A=null,M=null;n&&(O=a&&v.route.id?a[v.route.id]:void 0,A=v.route.errorElement||tfe,s&&(u<0&&x===0?(UX("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,M=null):u===x&&(E=!0,M=v.route.hydrateFallbackElement||null)));let L=e.concat(o.slice(0,x+1)),$=()=>{let N;return O?N=A:E?N=M:v.route.Component?N=j.createElement(v.route.Component,null):v.route.element?N=v.route.element:N=g,j.createElement(rfe,{match:v,routeContext:{outlet:g,matches:L,isDataRoute:n!=null},children:N})};return n&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?j.createElement(QX,{location:n.location,revalidation:n.revalidation,component:A,error:O,children:$(),routeContext:{outlet:null,matches:L,isDataRoute:!0},onError:d}):$()},null)}function mN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ofe(t){let e=j.useContext(CO);return Go(e,mN(t)),e}function sfe(t){let e=j.useContext(nR);return Go(e,mN(t)),e}function afe(t){let e=j.useContext(vm);return Go(e,mN(t)),e}function gN(t){let e=afe(t),n=e.matches[e.matches.length-1];return Go(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function lfe(){return gN("useRouteId")}function cfe(){let t=j.useContext(pN),e=sfe("useRouteError"),n=gN("useRouteError");return t!==void 0?t:e.errors?.[n]}function ufe(){let{router:t}=ofe("useNavigate"),e=gN("useNavigate"),n=j.useRef(!1);return jX(()=>{n.current=!0}),j.useCallback(async(i,o={})=>{oh(n.current,FX),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var z7={};function UX(t,e,n){!e&&!z7[t]&&(z7[t]=!0,oh(!1,n))}j.memo(hfe);function hfe({routes:t,future:e,state:n,onError:r}){return VX(t,void 0,n,r,e)}function dfe({to:t,replace:e,state:n,relative:r}){Go(TO(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=j.useContext(uh);oh(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=j.useContext(vm),{pathname:a}=_m(),s=nk(),u=fN(t,dN(o),a,r==="path"),d=JSON.stringify(u);return j.useEffect(()=>{s(JSON.parse(d),{replace:e,state:n,relative:r})},[s,d,r,e,n]),null}function Lp(t){Go(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ffe({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1,unstable_useTransitions:a}){Go(!TO(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:s,navigator:i,static:o,unstable_useTransitions:a,future:{}}),[s,i,o,a]);typeof n=="string"&&(n=SO(n));let{pathname:d="/",search:g="",hash:v="",state:x=null,key:O="default"}=n,E=j.useMemo(()=>{let A=Hg(d,s);return A==null?null:{location:{pathname:A,search:g,hash:v,state:x,key:O},navigationType:r}},[s,d,g,v,x,O,r]);return oh(E!=null,`<Router basename="${s}"> is not able to match the URL "${d}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:j.createElement(uh.Provider,{value:u},j.createElement(tk.Provider,{children:e,value:E}))}function N7({children:t,location:e}){return Jde(M$(t),e)}function M$(t,e=[]){let n=[];return j.Children.forEach(t,(r,i)=>{if(!j.isValidElement(r))return;let o=[...e,i];if(r.type===j.Fragment){n.push.apply(n,M$(r.props.children,o));return}Go(r.type===Lp,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Go(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=M$(r.props.children,o)),n.push(a)}),n}var CP="get",TP="application/x-www-form-urlencoded";function rR(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function pfe(t){return rR(t)&&t.tagName.toLowerCase()==="button"}function mfe(t){return rR(t)&&t.tagName.toLowerCase()==="form"}function gfe(t){return rR(t)&&t.tagName.toLowerCase()==="input"}function yfe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vfe(t,e){return t.button===0&&(!e||e==="_self")&&!yfe(t)}function R$(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function _fe(t,e){let n=R$(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(o=>{n.append(i,o)})}),n}var oA=null;function xfe(){if(oA===null)try{new FormData(document.createElement("form"),0),oA=!1}catch{oA=!0}return oA}var bfe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function DD(t){return t!=null&&!bfe.has(t)?(oh(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${TP}"`),null):t}function wfe(t,e){let n,r,i,o,a;if(mfe(t)){let s=t.getAttribute("action");r=s?Hg(s,e):null,n=t.getAttribute("method")||CP,i=DD(t.getAttribute("enctype"))||TP,o=new FormData(t)}else if(pfe(t)||gfe(t)&&(t.type==="submit"||t.type==="image")){let s=t.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||s.getAttribute("action");if(r=u?Hg(u,e):null,n=t.getAttribute("formmethod")||s.getAttribute("method")||CP,i=DD(t.getAttribute("formenctype"))||DD(s.getAttribute("enctype"))||TP,o=new FormData(s,t),!xfe()){let{name:d,type:g,value:v}=t;if(g==="image"){let x=d?`${d}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else d&&o.append(d,v)}}else{if(rR(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=CP,r=null,i=TP,a=t}return o&&i==="text/plain"&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yN(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ofe(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Hg(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Sfe(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Cfe(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Tfe(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let a=await Sfe(o,n);return a.links?a.links():[]}return[]}));return Pfe(r.flat(1).filter(Cfe).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function B7(t,e,n,r,i,o){let a=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,s=(u,d)=>n[d].pathname!==u.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==u.params["*"];return o==="assets"?e.filter((u,d)=>a(u,d)||s(u,d)):o==="data"?e.filter((u,d)=>{let g=r.routes[u.route.id];if(!g||!g.hasLoader)return!1;if(a(u,d)||s(u,d))return!0;if(u.route.shouldRevalidate){let v=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function kfe(t,e,{includeHydrateFallback:n}={}){return Efe(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function Efe(t){return[...new Set(t)]}function Afe(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Pfe(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(Afe(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function ZX(){let t=j.useContext(CO);return yN(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Mfe(){let t=j.useContext(nR);return yN(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var vN=j.createContext(void 0);vN.displayName="FrameworkContext";function qX(){let t=j.useContext(vN);return yN(t,"You must render this element inside a <HydratedRouter> element"),t}function Rfe(t,e){let n=j.useContext(vN),[r,i]=j.useState(!1),[o,a]=j.useState(!1),{onFocus:s,onBlur:u,onMouseEnter:d,onMouseLeave:g,onTouchStart:v}=e,x=j.useRef(null);j.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let A=L=>{L.forEach($=>{a($.isIntersecting)})},M=new IntersectionObserver(A,{threshold:.5});return x.current&&M.observe(x.current),()=>{M.disconnect()}}},[t]),j.useEffect(()=>{if(r){let A=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(A)}}},[r]);let O=()=>{i(!0)},E=()=>{i(!1),a(!1)};return n?t!=="intent"?[o,x,{}]:[o,x,{onFocus:g2(s,O),onBlur:g2(u,E),onMouseEnter:g2(d,O),onMouseLeave:g2(g,E),onTouchStart:g2(v,O)}]:[!1,x,{}]}function g2(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Ife({page:t,...e}){let{router:n}=ZX(),r=j.useMemo(()=>MX(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?j.createElement(Lfe,{page:t,matches:r,...e}):null}function Dfe(t){let{manifest:e,routeModules:n}=qX(),[r,i]=j.useState([]);return j.useEffect(()=>{let o=!1;return Tfe(t,e,n).then(a=>{o||i(a)}),()=>{o=!0}},[t,e,n]),r}function Lfe({page:t,matches:e,...n}){let r=_m(),{manifest:i,routeModules:o}=qX(),{basename:a}=ZX(),{loaderData:s,matches:u}=Mfe(),d=j.useMemo(()=>B7(t,e,u,i,r,"data"),[t,e,u,i,r]),g=j.useMemo(()=>B7(t,e,u,i,r,"assets"),[t,e,u,i,r]),v=j.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let E=new Set,A=!1;if(e.forEach(L=>{let $=i.routes[L.route.id];!$||!$.hasLoader||(!d.some(N=>N.route.id===L.route.id)&&L.route.id in s&&o[L.route.id]?.shouldRevalidate||$.hasClientLoader?A=!0:E.add(L.route.id))}),E.size===0)return[];let M=Ofe(t,a,"data");return A&&E.size>0&&M.searchParams.set("_routes",e.filter(L=>E.has(L.route.id)).map(L=>L.route.id).join(",")),[M.pathname+M.search]},[a,s,r,i,d,e,t,o]),x=j.useMemo(()=>kfe(g,i),[g,i]),O=Dfe(g);return j.createElement(j.Fragment,null,v.map(E=>j.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),x.map(E=>j.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),O.map(({key:E,link:A})=>j.createElement("link",{key:E,nonce:n.nonce,...A})))}function $fe(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var zfe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zfe&&(window.__reactRouterVersion="7.11.0")}catch{}function Nfe({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=j.useRef();i.current==null&&(i.current=yde({window:r,v5Compat:!0}));let o=i.current,[a,s]=j.useState({action:o.action,location:o.location}),u=j.useCallback(d=>{n===!1?s(d):j.startTransition(()=>s(d))},[n]);return j.useLayoutEffect(()=>o.listen(u),[o,u]),j.createElement(ffe,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o,unstable_useTransitions:n})}var WX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lc=j.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:a,state:s,target:u,to:d,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:x,...O},E){let{basename:A,unstable_useTransitions:M}=j.useContext(uh),L=typeof d=="string"&&WX.test(d),$=$X(d,A);d=$.to;let N=Yde(d,{relative:i}),[F,U,q]=Rfe(r,O),W=Vfe(d,{replace:a,state:s,target:u,preventScrollReset:g,relative:i,viewTransition:v,unstable_defaultShouldRevalidate:x,unstable_useTransitions:M});function te(ce){e&&e(ce),ce.defaultPrevented||W(ce)}let re=j.createElement("a",{...O,...q,href:$.absoluteURL||N,onClick:$.isExternal||o?e:te,ref:$fe(E,U),target:u,"data-discover":!L&&n==="render"?"true":void 0});return F&&!L?j.createElement(j.Fragment,null,re,j.createElement(Ife,{page:N})):re});lc.displayName="Link";var Bfe=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:a,viewTransition:s,children:u,...d},g){let v=rk(a,{relative:d.relative}),x=_m(),O=j.useContext(nR),{navigator:E,basename:A}=j.useContext(uh),M=O!=null&&Hfe(v)&&s===!0,L=E.encodeLocation?E.encodeLocation(v).pathname:v.pathname,$=x.pathname,N=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||($=$.toLowerCase(),N=N?N.toLowerCase():null,L=L.toLowerCase()),N&&A&&(N=Hg(N,A)||N);const F=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let U=$===L||!i&&$.startsWith(L)&&$.charAt(F)==="/",q=N!=null&&(N===L||!i&&N.startsWith(L)&&N.charAt(L.length)==="/"),W={isActive:U,isPending:q,isTransitioning:M},te=U?e:void 0,re;typeof r=="function"?re=r(W):re=[r,U?"active":null,q?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let ce=typeof o=="function"?o(W):o;return j.createElement(lc,{...d,"aria-current":te,className:re,ref:g,style:ce,to:a,viewTransition:s},typeof u=="function"?u(W):u)});Bfe.displayName="NavLink";var Ffe=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:a=CP,action:s,onSubmit:u,relative:d,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:x,...O},E)=>{let{unstable_useTransitions:A}=j.useContext(uh),M=qfe(),L=Wfe(s,{relative:d}),$=a.toLowerCase()==="get"?"get":"post",N=typeof s=="string"&&WX.test(s),F=U=>{if(u&&u(U),U.defaultPrevented)return;U.preventDefault();let q=U.nativeEvent.submitter,W=q?.getAttribute("formmethod")||a,te=()=>M(q||U.currentTarget,{fetcherKey:e,method:W,navigate:n,replace:i,state:o,relative:d,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:x});A&&n!==!1?j.startTransition(()=>te()):te()};return j.createElement("form",{ref:E,method:$,action:L,onSubmit:r?u:F,...O,"data-discover":!N&&t==="render"?"true":void 0})});Ffe.displayName="Form";function jfe(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HX(t){let e=j.useContext(CO);return Go(e,jfe(t)),e}function Vfe(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:a,unstable_defaultShouldRevalidate:s,unstable_useTransitions:u}={}){let d=nk(),g=_m(),v=rk(t,{relative:o});return j.useCallback(x=>{if(vfe(x,e)){x.preventDefault();let O=n!==void 0?n:UC(g)===UC(v),E=()=>d(t,{replace:O,state:r,preventScrollReset:i,relative:o,viewTransition:a,unstable_defaultShouldRevalidate:s});u?j.startTransition(()=>E()):E()}},[g,d,v,n,r,e,t,i,o,a,s,u])}function Qfe(t){oh(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=j.useRef(R$(t)),n=j.useRef(!1),r=_m(),i=j.useMemo(()=>_fe(r.search,n.current?null:e.current),[r.search]),o=nk(),a=j.useCallback((s,u)=>{const d=R$(typeof s=="function"?s(new URLSearchParams(i)):s);n.current=!0,o("?"+d,u)},[o,i]);return[i,a]}var Ufe=0,Zfe=()=>`__${String(++Ufe)}__`;function qfe(){let{router:t}=HX("useSubmit"),{basename:e}=j.useContext(uh),n=lfe(),r=t.fetch,i=t.navigate;return j.useCallback(async(o,a={})=>{let{action:s,method:u,encType:d,formData:g,body:v}=wfe(o,e);if(a.navigate===!1){let x=a.fetcherKey||Zfe();await r(x,n,a.action||s,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||u,formEncType:a.encType||d,flushSync:a.flushSync})}else await i(a.action||s,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||u,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,i,e,n])}function Wfe(t,{relative:e}={}){let{basename:n}=j.useContext(uh),r=j.useContext(vm);Go(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...rk(t||".",{relative:e})},a=_m();if(t==null){o.search=a.search;let s=new URLSearchParams(o.search),u=s.getAll("index");if(u.some(g=>g==="")){s.delete("index"),u.filter(v=>v).forEach(v=>s.append("index",v));let g=s.toString();o.search=g?`?${g}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Ug([n,o.pathname])),UC(o)}function Hfe(t,{relative:e}={}){let n=j.useContext(NX);Go(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=HX("useViewTransitionState"),i=rk(t,{relative:e});if(!n.isTransitioning)return!1;let o=Hg(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Hg(n.nextLocation.pathname,r)||n.nextLocation.pathname;return u5(i.pathname,a)!=null||u5(i.pathname,o)!=null}var um=PX();const H2=tv(um);var kP={exports:{}};var Gfe=kP.exports,F7;function Xfe(){return F7||(F7=1,(function(t,e){(function(n,r){t.exports=r()})(Gfe,(function(){var n={},r={};function i(a,s,u){if(r[a]=u,a==="index"){var d="var sharedModule = {}; ("+r.shared+")(sharedModule); ("+r.worker+")(sharedModule);",g={};return r.shared(g),r.index(n,g),typeof window<"u"&&n.setWorkerUrl(window.URL.createObjectURL(new Blob([d],{type:"text/javascript"}))),n}}i("shared",["exports"],(function(a){function s(f,l,h,_){return new(h||(h=Promise))((function(w,T){function k(Z){try{B(_.next(Z))}catch(X){T(X)}}function D(Z){try{B(_.throw(Z))}catch(X){T(X)}}function B(Z){var X;Z.done?w(Z.value):(X=Z.value,X instanceof h?X:new h((function(ee){ee(X)}))).then(k,D)}B((_=_.apply(f,l||[])).next())}))}function u(f,l){this.x=f,this.y=l}function d(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var g,v;typeof SuppressedError=="function"&&SuppressedError,u.prototype={clone(){return new u(this.x,this.y)},add(f){return this.clone()._add(f)},sub(f){return this.clone()._sub(f)},multByPoint(f){return this.clone()._multByPoint(f)},divByPoint(f){return this.clone()._divByPoint(f)},mult(f){return this.clone()._mult(f)},div(f){return this.clone()._div(f)},rotate(f){return this.clone()._rotate(f)},rotateAround(f,l){return this.clone()._rotateAround(f,l)},matMult(f){return this.clone()._matMult(f)},unit(){return this.clone()._unit()},perp(){return this.clone()._perp()},round(){return this.clone()._round()},mag(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals(f){return this.x===f.x&&this.y===f.y},dist(f){return Math.sqrt(this.distSqr(f))},distSqr(f){const l=f.x-this.x,h=f.y-this.y;return l*l+h*h},angle(){return Math.atan2(this.y,this.x)},angleTo(f){return Math.atan2(this.y-f.y,this.x-f.x)},angleWith(f){return this.angleWithSep(f.x,f.y)},angleWithSep(f,l){return Math.atan2(this.x*l-this.y*f,this.x*f+this.y*l)},_matMult(f){const l=f[2]*this.x+f[3]*this.y;return this.x=f[0]*this.x+f[1]*this.y,this.y=l,this},_add(f){return this.x+=f.x,this.y+=f.y,this},_sub(f){return this.x-=f.x,this.y-=f.y,this},_mult(f){return this.x*=f,this.y*=f,this},_div(f){return this.x/=f,this.y/=f,this},_multByPoint(f){return this.x*=f.x,this.y*=f.y,this},_divByPoint(f){return this.x/=f.x,this.y/=f.y,this},_unit(){return this._div(this.mag()),this},_perp(){const f=this.y;return this.y=this.x,this.x=-f,this},_rotate(f){const l=Math.cos(f),h=Math.sin(f),_=h*this.x+l*this.y;return this.x=l*this.x-h*this.y,this.y=_,this},_rotateAround(f,l){const h=Math.cos(f),_=Math.sin(f),w=l.y+_*(this.x-l.x)+h*(this.y-l.y);return this.x=l.x+h*(this.x-l.x)-_*(this.y-l.y),this.y=w,this},_round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},constructor:u},u.convert=function(f){if(f instanceof u)return f;if(Array.isArray(f))return new u(+f[0],+f[1]);if(f.x!==void 0&&f.y!==void 0)return new u(+f.x,+f.y);throw new Error("Expected [x, y] or {x, y} point format")};var x=(function(){if(v)return g;function f(l,h,_,w){this.cx=3*l,this.bx=3*(_-l)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*h,this.by=3*(w-h)-this.cy,this.ay=1-this.cy-this.by,this.p1x=l,this.p1y=h,this.p2x=_,this.p2y=w}return v=1,g=f,f.prototype={sampleCurveX:function(l){return((this.ax*l+this.bx)*l+this.cx)*l},sampleCurveY:function(l){return((this.ay*l+this.by)*l+this.cy)*l},sampleCurveDerivativeX:function(l){return(3*this.ax*l+2*this.bx)*l+this.cx},solveCurveX:function(l,h){if(h===void 0&&(h=1e-6),l<0)return 0;if(l>1)return 1;for(var _=l,w=0;w<8;w++){var T=this.sampleCurveX(_)-l;if(Math.abs(T)<h)return _;var k=this.sampleCurveDerivativeX(_);if(Math.abs(k)<1e-6)break;_-=T/k}var D=0,B=1;for(_=l,w=0;w<20&&(T=this.sampleCurveX(_),!(Math.abs(T-l)<h));w++)l>T?D=_:B=_,_=.5*(B-D)+D;return _},solve:function(l,h){return this.sampleCurveY(this.solveCurveX(l,h))}},g})(),O=d(x);let E,A;function M(){return E==null&&(E=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),E}function L(){if(A==null&&(A=!1,M())){const l=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(l){for(let _=0;_<25;_++){const w=4*_;l.fillStyle=`rgb(${w},${w+1},${w+2})`,l.fillRect(_%5,Math.floor(_/5),1,1)}const h=l.getImageData(0,0,5,5).data;for(let _=0;_<100;_++)if(_%4!=3&&h[_]!==_){A=!0;break}}}return A||!1}var $=1e-6,N=typeof Float32Array<"u"?Float32Array:Array;function F(){var f=new N(9);return N!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[5]=0,f[6]=0,f[7]=0),f[0]=1,f[4]=1,f[8]=1,f}function U(f){return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=1,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=1,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,f}function q(){var f=new N(3);return N!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0),f}function W(f){var l=f[0],h=f[1],_=f[2];return Math.sqrt(l*l+h*h+_*_)}function te(f,l,h){var _=new N(3);return _[0]=f,_[1]=l,_[2]=h,_}function re(f,l,h){return f[0]=l[0]+h[0],f[1]=l[1]+h[1],f[2]=l[2]+h[2],f}function ce(f,l,h){return f[0]=l[0]*h,f[1]=l[1]*h,f[2]=l[2]*h,f}function be(f,l,h){var _=l[0],w=l[1],T=l[2],k=h[0],D=h[1],B=h[2];return f[0]=w*B-T*D,f[1]=T*k-_*B,f[2]=_*D-w*k,f}var ie,me=W;function we(f,l,h){var _=l[0],w=l[1],T=l[2],k=l[3];return f[0]=h[0]*_+h[4]*w+h[8]*T+h[12]*k,f[1]=h[1]*_+h[5]*w+h[9]*T+h[13]*k,f[2]=h[2]*_+h[6]*w+h[10]*T+h[14]*k,f[3]=h[3]*_+h[7]*w+h[11]*T+h[15]*k,f}function pe(){var f=new N(4);return N!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0),f[3]=1,f}function _e(f,l,h,_){var w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"zyx",T=Math.PI/360;l*=T,_*=T,h*=T;var k=Math.sin(l),D=Math.cos(l),B=Math.sin(h),Z=Math.cos(h),X=Math.sin(_),ee=Math.cos(_);switch(w){case"xyz":f[0]=k*Z*ee+D*B*X,f[1]=D*B*ee-k*Z*X,f[2]=D*Z*X+k*B*ee,f[3]=D*Z*ee-k*B*X;break;case"xzy":f[0]=k*Z*ee-D*B*X,f[1]=D*B*ee-k*Z*X,f[2]=D*Z*X+k*B*ee,f[3]=D*Z*ee+k*B*X;break;case"yxz":f[0]=k*Z*ee+D*B*X,f[1]=D*B*ee-k*Z*X,f[2]=D*Z*X-k*B*ee,f[3]=D*Z*ee+k*B*X;break;case"yzx":f[0]=k*Z*ee+D*B*X,f[1]=D*B*ee+k*Z*X,f[2]=D*Z*X-k*B*ee,f[3]=D*Z*ee-k*B*X;break;case"zxy":f[0]=k*Z*ee-D*B*X,f[1]=D*B*ee+k*Z*X,f[2]=D*Z*X+k*B*ee,f[3]=D*Z*ee-k*B*X;break;case"zyx":f[0]=k*Z*ee-D*B*X,f[1]=D*B*ee+k*Z*X,f[2]=D*Z*X-k*B*ee,f[3]=D*Z*ee+k*B*X;break;default:throw new Error("Unknown angle order "+w)}return f}function Me(){var f=new N(2);return N!=Float32Array&&(f[0]=0,f[1]=0),f}function Be(f,l){var h=new N(2);return h[0]=f,h[1]=l,h}q(),ie=new N(4),N!=Float32Array&&(ie[0]=0,ie[1]=0,ie[2]=0,ie[3]=0),q(),te(1,0,0),te(0,1,0),pe(),pe(),F(),Me();const Ue=8192;function Ce(f,l,h){return l*(Ue/(f.tileSize*Math.pow(2,h-f.tileID.overscaledZ)))}function Pe(f,l){return(f%l+l)%l}function Xe(f,l,h){return f*(1-h)+l*h}function ke(f){if(f<=0)return 0;if(f>=1)return 1;const l=f*f,h=l*f;return 4*(f<.5?h:3*(f-l)+h-.75)}function mt(f,l,h,_){const w=new O(f,l,h,_);return T=>w.solve(T)}const gt=mt(.25,.1,.25,1);function ct(f,l,h){return Math.min(h,Math.max(l,f))}function ot(f,l,h){const _=h-l,w=((f-l)%_+_)%_+l;return w===l?h:w}function vt(f,...l){for(const h of l)for(const _ in h)f[_]=h[_];return f}let At=1;function Tt(f,l,h){const _={};for(const w in f)_[w]=l.call(this,f[w],w,f);return _}function Wt(f,l,h){const _={};for(const w in f)l.call(this,f[w],w,f)&&(_[w]=f[w]);return _}function Ot(f){return Array.isArray(f)?f.map(Ot):typeof f=="object"&&f?Tt(f,Ot):f}const hn={};function Gt(f){hn[f]||(typeof console<"u"&&console.warn(f),hn[f]=!0)}function Yt(f,l,h){return(h.y-f.y)*(l.x-f.x)>(l.y-f.y)*(h.x-f.x)}function Cn(f){return typeof WorkerGlobalScope<"u"&&f!==void 0&&f instanceof WorkerGlobalScope}let sn=null;function Rn(f){return typeof ImageBitmap<"u"&&f instanceof ImageBitmap}const Fn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Vn(f,l,h,_,w){return s(this,void 0,void 0,(function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const T=new VideoFrame(f,{timestamp:0});try{const k=T?.format;if(!k||!k.startsWith("BGR")&&!k.startsWith("RGB"))throw new Error(`Unrecognized format ${k}`);const D=k.startsWith("BGR"),B=new Uint8ClampedArray(_*w*4);if(yield T.copyTo(B,(function(Z,X,ee,oe,le){const fe=4*Math.max(-X,0),ge=(Math.max(0,ee)-ee)*oe*4+fe,ve=4*oe,Te=Math.max(0,X),Ve=Math.max(0,ee);return{rect:{x:Te,y:Ve,width:Math.min(Z.width,X+oe)-Te,height:Math.min(Z.height,ee+le)-Ve},layout:[{offset:ge,stride:ve}]}})(f,l,h,_,w)),D)for(let Z=0;Z<B.length;Z+=4){const X=B[Z];B[Z]=B[Z+2],B[Z+2]=X}return B}finally{T.close()}}))}let Qe,Ye;function bt(f,l,h,_){return f.addEventListener(l,h,_),{unsubscribe:()=>{f.removeEventListener(l,h,_)}}}function kt(f){return f*Math.PI/180}function Vt(f){return f/Math.PI*180}const Oe={touchstart:!0,touchmove:!0,touchmoveWindow:!0,touchend:!0,touchcancel:!0},se={dblclick:!0,click:!0,mouseover:!0,mouseout:!0,mousedown:!0,mousemove:!0,mousemoveWindow:!0,mouseup:!0,mouseupWindow:!0,contextmenu:!0,wheel:!0},K="AbortError";class xe extends Error{constructor(l=K){super(l instanceof Error?l.message:l),this.name=K,l instanceof Error&&l.stack&&(this.stack=l.stack)}}function $e(f){return f.name===K}const ze={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function rt(f){return ze.REGISTERED_PROTOCOLS[f.substring(0,f.indexOf("://"))]}const tt="global-dispatcher";class Ke extends Error{constructor(l,h,_,w){super(`AJAXError: ${h} (${l}): ${_}`),this.status=l,this.statusText=h,this.url=_,this.body=w}}const at=()=>Cn(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,St=function(f,l){if(/:\/\//.test(f.url)&&!/^https?:|^file:/.test(f.url)){const _=rt(f.url);if(_)return _(f,l);if(Cn(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:f,targetMapId:tt},l)}if(!(/^file:/.test(h=f.url)||/^file:/.test(at())&&!/^\w+:/.test(h))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return(function(_,w){return s(this,void 0,void 0,(function*(){const T=new Request(_.url,{method:_.method||"GET",body:_.body,credentials:_.credentials,headers:_.headers,cache:_.cache,referrer:at(),signal:w.signal});let k,D;_.type!=="json"||T.headers.has("Accept")||T.headers.set("Accept","application/json");try{k=yield fetch(T)}catch(Z){throw $e(Z)?Z:new Ke(0,Z.message,_.url,new Blob)}if(!k.ok){const Z=yield k.blob();throw new Ke(k.status,k.statusText,_.url,Z)}D=_.type==="arrayBuffer"||_.type==="image"?k.arrayBuffer():_.type==="json"?k.json():k.text();const B=yield D;return w.signal.throwIfAborted(),{data:B,cacheControl:k.headers.get("Cache-Control"),expires:k.headers.get("Expires")}}))})(f,l);if(Cn(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:f,mustQueue:!0,targetMapId:tt},l)}var h;return(function(_,w){return new Promise(((T,k)=>{var D;const B=new XMLHttpRequest;B.open(_.method||"GET",_.url,!0),_.type!=="arrayBuffer"&&_.type!=="image"||(B.responseType="arraybuffer");for(const Z in _.headers)B.setRequestHeader(Z,_.headers[Z]);_.type==="json"&&(B.responseType="text",!((D=_.headers)===null||D===void 0)&&D.Accept||B.setRequestHeader("Accept","application/json")),B.withCredentials=_.credentials==="include",B.onerror=()=>{k(new Error(B.statusText))},B.onload=()=>{if(!w.signal.aborted)if((B.status>=200&&B.status<300||B.status===0)&&B.response!==null){let Z=B.response;if(_.type==="json")try{Z=JSON.parse(B.response)}catch(X){return void k(X)}T({data:Z,cacheControl:B.getResponseHeader("Cache-Control"),expires:B.getResponseHeader("Expires")})}else{const Z=new Blob([B.response],{type:B.getResponseHeader("Content-Type")});k(new Ke(B.status,B.statusText,_.url,Z))}},w.signal.addEventListener("abort",(()=>{B.abort(),k(new xe(w.signal.reason))})),B.send(_.body)}))})(f,l)};function st(f){if(!f||f.indexOf("://")<=0||f.indexOf("data:image/")===0||f.indexOf("blob:")===0)return!0;const l=new URL(f),h=window.location;return l.protocol===h.protocol&&l.host===h.host}function zt(f,l,h){h[f]&&h[f].indexOf(l)!==-1||(h[f]=h[f]||[],h[f].push(l))}function ln(f,l,h){if(h&&h[f]){const _=h[f].indexOf(l);_!==-1&&h[f].splice(_,1)}}class Nn{constructor(l,h={}){vt(this,h),this.type=l}}class Ar extends Nn{constructor(l,h={}){super("error",vt({error:l},h))}}class kr{on(l,h){return this._listeners=this._listeners||{},zt(l,h,this._listeners),{unsubscribe:()=>{this.off(l,h)}}}off(l,h){return ln(l,h,this._listeners),ln(l,h,this._oneTimeListeners),this}once(l,h){return h?(this._oneTimeListeners=this._oneTimeListeners||{},zt(l,h,this._oneTimeListeners),this):new Promise((_=>this.once(l,_)))}fire(l,h){typeof l=="string"&&(l=new Nn(l,h||{}));const _=l.type;if(this.listens(_)){l.target=this;const w=this._listeners&&this._listeners[_]?this._listeners[_].slice():[];for(const D of w)D.call(this,l);const T=this._oneTimeListeners&&this._oneTimeListeners[_]?this._oneTimeListeners[_].slice():[];for(const D of T)ln(_,D,this._oneTimeListeners),D.call(this,l);const k=this._eventedParent;k&&(vt(l,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),k.fire(l))}else l instanceof Ar&&console.error(l.error);return this}listens(l){return this._listeners&&this._listeners[l]&&this._listeners[l].length>0||this._oneTimeListeners&&this._oneTimeListeners[l]&&this._oneTimeListeners[l].length>0||this._eventedParent&&this._eventedParent.listens(l)}setEventedParent(l,h){return this._eventedParent=l,this._eventedParentData=h,this}}var ut={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number",length:2},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},state:{type:"state",default:{}},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},"font-faces":{type:"fontFaces"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},encoding:{type:"enum",values:{mvt:{},mlt:{}},default:"mvt"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"filter"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},"color-relief":{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_color-relief","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},"layout_color-relief":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},filter:{type:"boolean",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"expression_name",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_color-relief","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{},basic:{},combined:{},igor:{},multidirectional:{}},default:"standard",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},"paint_color-relief":{"color-relief-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"color-relief-color":{type:"color",transition:!1,expression:{interpolated:!0,parameters:["elevation"]},"property-type":"color-ramp"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}},interpolation:{type:"array",value:"interpolation_name",minimum:1},interpolation_name:{type:"enum",values:{linear:{syntax:{overloads:[{parameters:[],"output-type":"interpolation"}],parameters:[]}},exponential:{syntax:{overloads:[{parameters:["base"],"output-type":"interpolation"}],parameters:[{name:"base",type:"number literal"}]}},"cubic-bezier":{syntax:{overloads:[{parameters:["x1","y1","x2","y2"],"output-type":"interpolation"}],parameters:[{name:"x1",type:"number literal"},{name:"y1",type:"number literal"},{name:"x2",type:"number literal"},{name:"y2",type:"number literal"}]}}}}};const qr=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function ro(f,l){const h={};for(const _ in f)_!=="ref"&&(h[_]=f[_]);return qr.forEach((_=>{_ in l&&(h[_]=l[_])})),h}function Jn(f,l){if(Array.isArray(f)){if(!Array.isArray(l)||f.length!==l.length)return!1;for(let h=0;h<f.length;h++)if(!Jn(f[h],l[h]))return!1;return!0}if(typeof f=="object"&&f!==null&&l!==null){if(typeof l!="object"||Object.keys(f).length!==Object.keys(l).length)return!1;for(const h in f)if(!Jn(f[h],l[h]))return!1;return!0}return f===l}function En(f,l){f.push(l)}function vi(f,l,h){En(h,{command:"addSource",args:[f,l[f]]})}function ri(f,l,h){En(l,{command:"removeSource",args:[f]}),h[f]=!0}function io(f,l,h,_){ri(f,h,_),vi(f,l,h)}function ui(f,l,h){let _;for(_ in f[h])if(Object.prototype.hasOwnProperty.call(f[h],_)&&_!=="data"&&!Jn(f[h][_],l[h][_]))return!1;for(_ in l[h])if(Object.prototype.hasOwnProperty.call(l[h],_)&&_!=="data"&&!Jn(f[h][_],l[h][_]))return!1;return!0}function Io(f,l,h,_,w,T){f=f||{},l=l||{};for(const k in f)Object.prototype.hasOwnProperty.call(f,k)&&(Jn(f[k],l[k])||h.push({command:T,args:[_,k,l[k],w]}));for(const k in l)Object.prototype.hasOwnProperty.call(l,k)&&!Object.prototype.hasOwnProperty.call(f,k)&&(Jn(f[k],l[k])||h.push({command:T,args:[_,k,l[k],w]}))}function jf(f){return f.id}function vd(f,l){return f[l.id]=l,f}class Kt{constructor(l,h,_,w){this.message=(l?`${l}: `:"")+_,w&&(this.identifier=w),h!=null&&h.__line__&&(this.line=h.__line__)}}function $s(f,...l){for(const h of l)for(const _ in h)f[_]=h[_];return f}class zs extends Error{constructor(l,h){super(h),this.message=h,this.key=l}}class Ql{constructor(l,h=[]){this.parent=l,this.bindings={};for(const[_,w]of h)this.bindings[_]=w}concat(l){return new Ql(this,l)}get(l){if(this.bindings[l])return this.bindings[l];if(this.parent)return this.parent.get(l);throw new Error(`${l} not found in scope.`)}has(l){return!!this.bindings[l]||!!this.parent&&this.parent.has(l)}}const _i={kind:"null"},rn={kind:"number"},sr={kind:"string"},fr={kind:"boolean"},La={kind:"color"},yy={kind:"projectionDefinition"},_c={kind:"object"},or={kind:"value"},_d={kind:"collator"},xc={kind:"formatted"},fu={kind:"padding"},bc={kind:"colorArray"},wc={kind:"numberArray"},oo={kind:"resolvedImage"},Vf={kind:"variableAnchorOffsetCollection"};function Ns(f,l){return{kind:"array",itemType:f,N:l}}function Ir(f){if(f.kind==="array"){const l=Ir(f.itemType);return typeof f.N=="number"?`array<${l}, ${f.N}>`:f.itemType.kind==="value"?"array":`array<${l}>`}return f.kind}const pu=[_i,rn,sr,fr,La,yy,xc,_c,Ns(or),fu,wc,bc,oo,Vf];function Qf(f,l){if(l.kind==="error")return null;if(f.kind==="array"){if(l.kind==="array"&&(l.N===0&&l.itemType.kind==="value"||!Qf(f.itemType,l.itemType))&&(typeof f.N!="number"||f.N===l.N))return null}else{if(f.kind===l.kind)return null;if(f.kind==="value"){for(const h of pu)if(!Qf(h,l))return null}}return`Expected ${Ir(f)} but found ${Ir(l)} instead.`}function Uf(f,l){return l.some((h=>h.kind===f.kind))}function fh(f,l){return l.some((h=>h==="null"?f===null:h==="array"?Array.isArray(f):h==="object"?f&&!Array.isArray(f)&&typeof f=="object":h===typeof f))}function Ul(f,l){return f.kind==="array"&&l.kind==="array"?f.itemType.kind===l.itemType.kind&&typeof f.N=="number":f.kind===l.kind}const Sm=.96422,Oc=.82521,ul=4/29,Fr=6/29,mv=3*Fr*Fr,Xx=Fr*Fr*Fr,xd=Math.PI/180,gv=180/Math.PI;function Cm(f){return(f%=360)<0&&(f+=360),f}function Yx([f,l,h,_]){let w,T;const k=Tm((.2225045*(f=sa(f))+.7168786*(l=sa(l))+.0606169*(h=sa(h)))/1);f===l&&l===h?w=T=k:(w=Tm((.4360747*f+.3850649*l+.1430804*h)/Sm),T=Tm((.0139322*f+.0971045*l+.7141733*h)/Oc));const D=116*k-16;return[D<0?0:D,500*(w-k),200*(k-T),_]}function sa(f){return f<=.04045?f/12.92:Math.pow((f+.055)/1.055,2.4)}function Tm(f){return f>Xx?Math.pow(f,1/3):f/mv+ul}function vy([f,l,h,_]){let w=(f+16)/116,T=isNaN(l)?w:w+l/500,k=isNaN(h)?w:w-h/200;return w=1*ph(w),T=Sm*ph(T),k=Oc*ph(k),[km(3.1338561*T-1.6168667*w-.4906146*k),km(-.9787684*T+1.9161415*w+.033454*k),km(.0719453*T-.2289914*w+1.4052427*k),_]}function km(f){return(f=f<=.00304?12.92*f:1.055*Math.pow(f,1/2.4)-.055)<0?0:f>1?1:f}function ph(f){return f>Fr?f*f*f:mv*(f-ul)}const Kx=Object.hasOwn||function(f,l){return Object.prototype.hasOwnProperty.call(f,l)};function Zf(f,l){return Kx(f,l)?f[l]:void 0}function mu(f){return parseInt(f.padEnd(2,f),16)/255}function Jx(f,l){return bd(l?f/100:f,0,1)}function bd(f,l,h){return Math.min(Math.max(l,f),h)}function _y(f){return!f.some(Number.isNaN)}const wd={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function mh(f,l,h){return f+h*(l-f)}function qf(f,l,h){return f.map(((_,w)=>mh(_,l[w],h)))}class ur{constructor(l,h,_,w=1,T=!0){this.r=l,this.g=h,this.b=_,this.a=w,T||(this.r*=w,this.g*=w,this.b*=w,w||this.overwriteGetter("rgb",[l,h,_,w]))}static parse(l){if(l instanceof ur)return l;if(typeof l!="string")return;const h=(function(_){if((_=_.toLowerCase().trim())==="transparent")return[0,0,0,0];const w=Zf(wd,_);if(w){const[k,D,B]=w;return[k/255,D/255,B/255,1]}if(_.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(_)){const k=_.length<6?1:2;let D=1;return[mu(_.slice(D,D+=k)),mu(_.slice(D,D+=k)),mu(_.slice(D,D+=k)),mu(_.slice(D,D+k)||"ff")]}if(_.startsWith("rgb")){const k=_.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(k){const[D,B,Z,X,ee,oe,le,fe,ge,ve,Te,Ve]=k,Ee=[X||" ",le||" ",ve].join("");if(Ee==="  "||Ee==="  /"||Ee===",,"||Ee===",,,"){const Re=[Z,oe,ge].join(""),qe=Re==="%%%"?100:Re===""?255:0;if(qe){const Ge=[bd(+B/qe,0,1),bd(+ee/qe,0,1),bd(+fe/qe,0,1),Te?Jx(+Te,Ve):1];if(_y(Ge))return Ge}}return}}const T=_.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(T){const[k,D,B,Z,X,ee,oe,le,fe]=T,ge=[B||" ",X||" ",oe].join("");if(ge==="  "||ge==="  /"||ge===",,"||ge===",,,"){const ve=[+D,bd(+Z,0,100),bd(+ee,0,100),le?Jx(+le,fe):1];if(_y(ve))return(function([Te,Ve,Ee,Re]){function qe(Ge){const dt=(Ge+Te/30)%12,Lt=Ve*Math.min(Ee,1-Ee);return Ee-Lt*Math.max(-1,Math.min(dt-3,9-dt,1))}return Te=Cm(Te),Ve/=100,Ee/=100,[qe(0),qe(8),qe(4),Re]})(ve)}}})(l);return h?new ur(...h,!1):void 0}get rgb(){const{r:l,g:h,b:_,a:w}=this,T=w||1/0;return this.overwriteGetter("rgb",[l/T,h/T,_/T,w])}get hcl(){return this.overwriteGetter("hcl",(function(l){const[h,_,w,T]=Yx(l),k=Math.sqrt(_*_+w*w);return[Math.round(1e4*k)?Cm(Math.atan2(w,_)*gv):NaN,k,h,T]})(this.rgb))}get lab(){return this.overwriteGetter("lab",Yx(this.rgb))}overwriteGetter(l,h){return Object.defineProperty(this,l,{value:h}),h}toString(){const[l,h,_,w]=this.rgb;return`rgba(${[l,h,_].map((T=>Math.round(255*T))).join(",")},${w})`}static interpolate(l,h,_,w="rgb"){switch(w){case"rgb":{const[T,k,D,B]=qf(l.rgb,h.rgb,_);return new ur(T,k,D,B,!1)}case"hcl":{const[T,k,D,B]=l.hcl,[Z,X,ee,oe]=h.hcl;let le,fe;if(isNaN(T)||isNaN(Z))isNaN(T)?isNaN(Z)?le=NaN:(le=Z,D!==1&&D!==0||(fe=X)):(le=T,ee!==1&&ee!==0||(fe=k));else{let Ee=Z-T;Z>T&&Ee>180?Ee-=360:Z<T&&T-Z>180&&(Ee+=360),le=T+_*Ee}const[ge,ve,Te,Ve]=(function([Ee,Re,qe,Ge]){return Ee=isNaN(Ee)?0:Ee*xd,vy([qe,Math.cos(Ee)*Re,Math.sin(Ee)*Re,Ge])})([le,fe??mh(k,X,_),mh(D,ee,_),mh(B,oe,_)]);return new ur(ge,ve,Te,Ve,!1)}case"lab":{const[T,k,D,B]=vy(qf(l.lab,h.lab,_));return new ur(T,k,D,B,!1)}}}}ur.black=new ur(0,0,0,1),ur.white=new ur(1,1,1,1),ur.transparent=new ur(0,0,0,0),ur.red=new ur(1,0,0,1);class Zl{constructor(l,h,_){this.sensitivity=l?h?"variant":"case":h?"accent":"base",this.locale=_,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(l,h){return this.collator.compare(l,h)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}const yv=["bottom","center","top"];class Em{constructor(l,h,_,w,T,k){this.text=l,this.image=h,this.scale=_,this.fontStack=w,this.textColor=T,this.verticalAlign=k}}class Yo{constructor(l){this.sections=l}static fromString(l){return new Yo([new Em(l,null,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some((l=>l.text.length!==0||l.image&&l.image.name.length!==0))}static factory(l){return l instanceof Yo?l:Yo.fromString(l)}toString(){return this.sections.length===0?"":this.sections.map((l=>l.text)).join("")}}class Do{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof Do)return l;if(typeof l=="number")return new Do([l,l,l,l]);if(Array.isArray(l)&&!(l.length<1||l.length>4)){for(const h of l)if(typeof h!="number")return;switch(l.length){case 1:l=[l[0],l[0],l[0],l[0]];break;case 2:l=[l[0],l[1],l[0],l[1]];break;case 3:l=[l[0],l[1],l[2],l[1]]}return new Do(l)}}toString(){return JSON.stringify(this.values)}static interpolate(l,h,_){return new Do(qf(l.values,h.values,_))}}class $i{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof $i)return l;if(typeof l=="number")return new $i([l]);if(Array.isArray(l)){for(const h of l)if(typeof h!="number")return;return new $i(l)}}toString(){return JSON.stringify(this.values)}static interpolate(l,h,_){return new $i(qf(l.values,h.values,_))}}class Qn{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof Qn)return l;if(typeof l=="string"){const _=ur.parse(l);return _?new Qn([_]):void 0}if(!Array.isArray(l))return;const h=[];for(const _ of l){if(typeof _!="string")return;const w=ur.parse(_);if(!w)return;h.push(w)}return new Qn(h)}toString(){return JSON.stringify(this.values)}static interpolate(l,h,_,w="rgb"){const T=[];if(l.values.length!=h.values.length)throw new Error(`colorArray: Arrays have mismatched length (${l.values.length} vs. ${h.values.length}), cannot interpolate.`);for(let k=0;k<l.values.length;k++)T.push(ur.interpolate(l.values[k],h.values[k],_,w));return new Qn(T)}}class hi extends Error{constructor(l){super(l),this.name="RuntimeError"}toJSON(){return this.message}}const hl=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class so{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof so)return l;if(Array.isArray(l)&&!(l.length<1)&&l.length%2==0){for(let h=0;h<l.length;h+=2){const _=l[h],w=l[h+1];if(typeof _!="string"||!hl.has(_)||!Array.isArray(w)||w.length!==2||typeof w[0]!="number"||typeof w[1]!="number")return}return new so(l)}}toString(){return JSON.stringify(this.values)}static interpolate(l,h,_){const w=l.values,T=h.values;if(w.length!==T.length)throw new hi(`Cannot interpolate values of different length. from: ${l.toString()}, to: ${h.toString()}`);const k=[];for(let D=0;D<w.length;D+=2){if(w[D]!==T[D])throw new hi(`Cannot interpolate values containing mismatched anchors. from[${D}]: ${w[D]}, to[${D}]: ${T[D]}`);k.push(w[D]);const[B,Z]=w[D+1],[X,ee]=T[D+1];k.push([mh(B,X,_),mh(Z,ee,_)])}return new so(k)}}class aa{constructor(l){this.name=l.name,this.available=l.available}toString(){return this.name}static fromString(l){return l?new aa({name:l,available:!1}):null}}class Ko{constructor(l,h,_){this.from=l,this.to=h,this.transition=_}static interpolate(l,h,_){return new Ko(l,h,_)}static parse(l){return l instanceof Ko?l:Array.isArray(l)&&l.length===3&&typeof l[0]=="string"&&typeof l[1]=="string"&&typeof l[2]=="number"?new Ko(l[0],l[1],l[2]):typeof l=="object"&&typeof l.from=="string"&&typeof l.to=="string"&&typeof l.transition=="number"?new Ko(l.from,l.to,l.transition):typeof l=="string"?new Ko(l,l,1):void 0}}function $a(f,l,h,_){return typeof f=="number"&&f>=0&&f<=255&&typeof l=="number"&&l>=0&&l<=255&&typeof h=="number"&&h>=0&&h<=255?_===void 0||typeof _=="number"&&_>=0&&_<=1?null:`Invalid rgba value [${[f,l,h,_].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof _=="number"?[f,l,h,_]:[f,l,h]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Sc(f){if(f===null||typeof f=="string"||typeof f=="boolean"||typeof f=="number"||f instanceof Ko||f instanceof ur||f instanceof Zl||f instanceof Yo||f instanceof Do||f instanceof $i||f instanceof Qn||f instanceof so||f instanceof aa)return!0;if(Array.isArray(f)){for(const l of f)if(!Sc(l))return!1;return!0}if(typeof f=="object"){for(const l in f)if(!Sc(f[l]))return!1;return!0}return!1}function zi(f){if(f===null)return _i;if(typeof f=="string")return sr;if(typeof f=="boolean")return fr;if(typeof f=="number")return rn;if(f instanceof ur)return La;if(f instanceof Ko)return yy;if(f instanceof Zl)return _d;if(f instanceof Yo)return xc;if(f instanceof Do)return fu;if(f instanceof $i)return wc;if(f instanceof Qn)return bc;if(f instanceof so)return Vf;if(f instanceof aa)return oo;if(Array.isArray(f)){const l=f.length;let h;for(const _ of f){const w=zi(_);if(h){if(h===w)continue;h=or;break}h=w}return Ns(h||or,l)}return _c}function gh(f){const l=typeof f;return f===null?"":l==="string"||l==="number"||l==="boolean"?String(f):f instanceof ur||f instanceof Ko||f instanceof Yo||f instanceof Do||f instanceof $i||f instanceof Qn||f instanceof so||f instanceof aa?f.toString():JSON.stringify(f)}class za{constructor(l,h){this.type=l,this.value=h}static parse(l,h){if(l.length!==2)return h.error(`'literal' expression requires exactly one argument, but found ${l.length-1} instead.`);if(!Sc(l[1]))return h.error("invalid value");const _=l[1];let w=zi(_);const T=h.expectedType;return w.kind!=="array"||w.N!==0||!T||T.kind!=="array"||typeof T.N=="number"&&T.N!==0||(w=T),new za(w,_)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}const Od={string:sr,number:rn,boolean:fr,object:_c};class la{constructor(l,h){this.type=l,this.args=h}static parse(l,h){if(l.length<2)return h.error("Expected at least one argument.");let _,w=1;const T=l[0];if(T==="array"){let D,B;if(l.length>2){const Z=l[1];if(typeof Z!="string"||!(Z in Od)||Z==="object")return h.error('The item type argument of "array" must be one of string, number, boolean',1);D=Od[Z],w++}else D=or;if(l.length>3){if(l[2]!==null&&(typeof l[2]!="number"||l[2]<0||l[2]!==Math.floor(l[2])))return h.error('The length argument to "array" must be a positive integer literal',2);B=l[2],w++}_=Ns(D,B)}else{if(!Od[T])throw new Error(`Types doesn't contain name = ${T}`);_=Od[T]}const k=[];for(;w<l.length;w++){const D=h.parse(l[w],w,or);if(!D)return null;k.push(D)}return new la(_,k)}evaluate(l){for(let h=0;h<this.args.length;h++){const _=this.args[h].evaluate(l);if(!Qf(this.type,zi(_)))return _;if(h===this.args.length-1)throw new hi(`Expected value to be of type ${Ir(this.type)}, but found ${Ir(zi(_))} instead.`)}throw new Error}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every((l=>l.outputDefined()))}}const Qo={"to-boolean":fr,"to-color":La,"to-number":rn,"to-string":sr};class ca{constructor(l,h){this.type=l,this.args=h}static parse(l,h){if(l.length<2)return h.error("Expected at least one argument.");const _=l[0];if(!Qo[_])throw new Error(`Can't parse ${_} as it is not part of the known types`);if((_==="to-boolean"||_==="to-string")&&l.length!==2)return h.error("Expected one argument.");const w=Qo[_],T=[];for(let k=1;k<l.length;k++){const D=h.parse(l[k],k,or);if(!D)return null;T.push(D)}return new ca(w,T)}evaluate(l){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(l);case"color":{let h,_;for(const w of this.args){if(h=w.evaluate(l),_=null,h instanceof ur)return h;if(typeof h=="string"){const T=l.parseColor(h);if(T)return T}else if(Array.isArray(h)&&(_=h.length<3||h.length>4?`Invalid rgba value ${JSON.stringify(h)}: expected an array containing either three or four numeric values.`:$a(h[0],h[1],h[2],h[3]),!_))return new ur(h[0]/255,h[1]/255,h[2]/255,h[3])}throw new hi(_||`Could not parse color from value '${typeof h=="string"?h:JSON.stringify(h)}'`)}case"padding":{let h;for(const _ of this.args){h=_.evaluate(l);const w=Do.parse(h);if(w)return w}throw new hi(`Could not parse padding from value '${typeof h=="string"?h:JSON.stringify(h)}'`)}case"numberArray":{let h;for(const _ of this.args){h=_.evaluate(l);const w=$i.parse(h);if(w)return w}throw new hi(`Could not parse numberArray from value '${typeof h=="string"?h:JSON.stringify(h)}'`)}case"colorArray":{let h;for(const _ of this.args){h=_.evaluate(l);const w=Qn.parse(h);if(w)return w}throw new hi(`Could not parse colorArray from value '${typeof h=="string"?h:JSON.stringify(h)}'`)}case"variableAnchorOffsetCollection":{let h;for(const _ of this.args){h=_.evaluate(l);const w=so.parse(h);if(w)return w}throw new hi(`Could not parse variableAnchorOffsetCollection from value '${typeof h=="string"?h:JSON.stringify(h)}'`)}case"number":{let h=null;for(const _ of this.args){if(h=_.evaluate(l),h===null)return 0;const w=Number(h);if(!isNaN(w))return w}throw new hi(`Could not convert ${JSON.stringify(h)} to number.`)}case"formatted":return Yo.fromString(gh(this.args[0].evaluate(l)));case"resolvedImage":return aa.fromString(gh(this.args[0].evaluate(l)));case"projectionDefinition":return this.args[0].evaluate(l);default:return gh(this.args[0].evaluate(l))}}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every((l=>l.outputDefined()))}}const Am=["Unknown","Point","LineString","Polygon"];class Sd{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache=new Map,this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Am[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(l){let h=this._parseColorCache.get(l);return h||(h=ur.parse(l),this._parseColorCache.set(l,h)),h}}class Cd{constructor(l,h,_=[],w,T=new Ql,k=[]){this.registry=l,this.path=_,this.key=_.map((D=>`[${D}]`)).join(""),this.scope=T,this.errors=k,this.expectedType=w,this._isConstant=h}parse(l,h,_,w,T={}){return h?this.concat(h,_,w)._parse(l,T):this._parse(l,T)}_parse(l,h){function _(w,T,k){return k==="assert"?new la(T,[w]):k==="coerce"?new ca(T,[w]):w}if(l!==null&&typeof l!="string"&&typeof l!="boolean"&&typeof l!="number"||(l=["literal",l]),Array.isArray(l)){if(l.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const w=l[0];if(typeof w!="string")return this.error(`Expression name must be a string, but found ${typeof w} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const T=this.registry[w];if(T){let k=T.parse(l,this);if(!k)return null;if(this.expectedType){const D=this.expectedType,B=k.type;if(D.kind!=="string"&&D.kind!=="number"&&D.kind!=="boolean"&&D.kind!=="object"&&D.kind!=="array"||B.kind!=="value"){if(D.kind==="projectionDefinition"&&["string","array"].includes(B.kind)||["color","formatted","resolvedImage"].includes(D.kind)&&["value","string"].includes(B.kind)||["padding","numberArray"].includes(D.kind)&&["value","number","array"].includes(B.kind)||D.kind==="colorArray"&&["value","string","array"].includes(B.kind)||D.kind==="variableAnchorOffsetCollection"&&["value","array"].includes(B.kind))k=_(k,D,h.typeAnnotation||"coerce");else if(this.checkSubtype(D,B))return null}else k=_(k,D,h.typeAnnotation||"assert")}if(!(k instanceof za)&&k.type.kind!=="resolvedImage"&&this._isConstant(k)){const D=new Sd;try{k=new za(k.type,k.evaluate(D))}catch(B){return this.error(B.message),null}}return k}return this.error(`Unknown expression "${w}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(l===void 0?"'undefined' value invalid. Use null instead.":typeof l=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof l} instead.`)}concat(l,h,_){const w=typeof l=="number"?this.path.concat(l):this.path,T=_?this.scope.concat(_):this.scope;return new Cd(this.registry,this._isConstant,w,h||null,T,this.errors)}error(l,...h){const _=`${this.key}${h.map((w=>`[${w}]`)).join("")}`;this.errors.push(new zs(_,l))}checkSubtype(l,h){const _=Qf(l,h);return _&&this.error(_),_}}class ii{constructor(l,h){this.type=h.type,this.bindings=[].concat(l),this.result=h}evaluate(l){return this.result.evaluate(l)}eachChild(l){for(const h of this.bindings)l(h[1]);l(this.result)}static parse(l,h){if(l.length<4)return h.error(`Expected at least 3 arguments, but found ${l.length-1} instead.`);const _=[];for(let T=1;T<l.length-1;T+=2){const k=l[T];if(typeof k!="string")return h.error(`Expected string, but found ${typeof k} instead.`,T);if(/[^a-zA-Z0-9_]/.test(k))return h.error("Variable names must contain only alphanumeric characters or '_'.",T);const D=h.parse(l[T+1],T+1);if(!D)return null;_.push([k,D])}const w=h.parse(l[l.length-1],l.length-1,h.expectedType,_);return w?new ii(_,w):null}outputDefined(){return this.result.outputDefined()}}class yh{constructor(l,h){this.type=h.type,this.name=l,this.boundExpression=h}static parse(l,h){if(l.length!==2||typeof l[1]!="string")return h.error("'var' expression requires exactly one string literal argument.");const _=l[1];return h.scope.has(_)?new yh(_,h.scope.get(_)):h.error(`Unknown variable "${_}". Make sure "${_}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(l){return this.boundExpression.evaluate(l)}eachChild(){}outputDefined(){return!1}}class xr{constructor(l,h,_){this.type=l,this.index=h,this.input=_}static parse(l,h){if(l.length!==3)return h.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const _=h.parse(l[1],1,rn),w=h.parse(l[2],2,Ns(h.expectedType||or));return _&&w?new xr(w.type.itemType,_,w):null}evaluate(l){const h=this.index.evaluate(l),_=this.input.evaluate(l);if(h<0)throw new hi(`Array index out of bounds: ${h} < 0.`);if(h>=_.length)throw new hi(`Array index out of bounds: ${h} > ${_.length-1}.`);if(h!==Math.floor(h))throw new hi(`Array index must be an integer, but found ${h} instead.`);return _[h]}eachChild(l){l(this.index),l(this.input)}outputDefined(){return!1}}class ar{constructor(l,h){this.type=fr,this.needle=l,this.haystack=h}static parse(l,h){if(l.length!==3)return h.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const _=h.parse(l[1],1,or),w=h.parse(l[2],2,or);return _&&w?Uf(_.type,[fr,sr,rn,_i,or])?new ar(_,w):h.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ir(_.type)} instead`):null}evaluate(l){const h=this.needle.evaluate(l),_=this.haystack.evaluate(l);if(!_)return!1;if(!fh(h,["boolean","string","number","null"]))throw new hi(`Expected first argument to be of type boolean, string, number or null, but found ${Ir(zi(h))} instead.`);if(!fh(_,["string","array"]))throw new hi(`Expected second argument to be of type array or string, but found ${Ir(zi(_))} instead.`);return _.indexOf(h)>=0}eachChild(l){l(this.needle),l(this.haystack)}outputDefined(){return!0}}class Td{constructor(l,h,_){this.type=rn,this.needle=l,this.haystack=h,this.fromIndex=_}static parse(l,h){if(l.length<=2||l.length>=5)return h.error(`Expected 2 or 3 arguments, but found ${l.length-1} instead.`);const _=h.parse(l[1],1,or),w=h.parse(l[2],2,or);if(!_||!w)return null;if(!Uf(_.type,[fr,sr,rn,_i,or]))return h.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ir(_.type)} instead`);if(l.length===4){const T=h.parse(l[3],3,rn);return T?new Td(_,w,T):null}return new Td(_,w)}evaluate(l){const h=this.needle.evaluate(l),_=this.haystack.evaluate(l);if(!fh(h,["boolean","string","number","null"]))throw new hi(`Expected first argument to be of type boolean, string, number or null, but found ${Ir(zi(h))} instead.`);let w;if(this.fromIndex&&(w=this.fromIndex.evaluate(l)),fh(_,["string"])){const T=_.indexOf(h,w);return T===-1?-1:[..._.slice(0,T)].length}if(fh(_,["array"]))return _.indexOf(h,w);throw new hi(`Expected second argument to be of type array or string, but found ${Ir(zi(_))} instead.`)}eachChild(l){l(this.needle),l(this.haystack),this.fromIndex&&l(this.fromIndex)}outputDefined(){return!1}}class Dr{constructor(l,h,_,w,T,k){this.inputType=l,this.type=h,this.input=_,this.cases=w,this.outputs=T,this.otherwise=k}static parse(l,h){if(l.length<5)return h.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if(l.length%2!=1)return h.error("Expected an even number of arguments.");let _,w;h.expectedType&&h.expectedType.kind!=="value"&&(w=h.expectedType);const T={},k=[];for(let Z=2;Z<l.length-1;Z+=2){let X=l[Z];const ee=l[Z+1];Array.isArray(X)||(X=[X]);const oe=h.concat(Z);if(X.length===0)return oe.error("Expected at least one branch label.");for(const fe of X){if(typeof fe!="number"&&typeof fe!="string")return oe.error("Branch labels must be numbers or strings.");if(typeof fe=="number"&&Math.abs(fe)>Number.MAX_SAFE_INTEGER)return oe.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof fe=="number"&&Math.floor(fe)!==fe)return oe.error("Numeric branch labels must be integer values.");if(_){if(oe.checkSubtype(_,zi(fe)))return null}else _=zi(fe);if(T[String(fe)]!==void 0)return oe.error("Branch labels must be unique.");T[String(fe)]=k.length}const le=h.parse(ee,Z,w);if(!le)return null;w=w||le.type,k.push(le)}const D=h.parse(l[1],1,or);if(!D)return null;const B=h.parse(l[l.length-1],l.length-1,w);return B?D.type.kind!=="value"&&h.concat(1).checkSubtype(_,D.type)?null:new Dr(_,w,D,T,k,B):null}evaluate(l){const h=this.input.evaluate(l);return(zi(h)===this.inputType&&this.outputs[this.cases[h]]||this.otherwise).evaluate(l)}eachChild(l){l(this.input),this.outputs.forEach(l),l(this.otherwise)}outputDefined(){return this.outputs.every((l=>l.outputDefined()))&&this.otherwise.outputDefined()}}class Pm{constructor(l,h,_){this.type=l,this.branches=h,this.otherwise=_}static parse(l,h){if(l.length<4)return h.error(`Expected at least 3 arguments, but found only ${l.length-1}.`);if(l.length%2!=0)return h.error("Expected an odd number of arguments.");let _;h.expectedType&&h.expectedType.kind!=="value"&&(_=h.expectedType);const w=[];for(let k=1;k<l.length-1;k+=2){const D=h.parse(l[k],k,fr);if(!D)return null;const B=h.parse(l[k+1],k+1,_);if(!B)return null;w.push([D,B]),_=_||B.type}const T=h.parse(l[l.length-1],l.length-1,_);if(!T)return null;if(!_)throw new Error("Can't infer output type");return new Pm(_,w,T)}evaluate(l){for(const[h,_]of this.branches)if(h.evaluate(l))return _.evaluate(l);return this.otherwise.evaluate(l)}eachChild(l){for(const[h,_]of this.branches)l(h),l(_);l(this.otherwise)}outputDefined(){return this.branches.every((([l,h])=>h.outputDefined()))&&this.otherwise.outputDefined()}}class dl{constructor(l,h,_,w){this.type=l,this.input=h,this.beginIndex=_,this.endIndex=w}static parse(l,h){if(l.length<=2||l.length>=5)return h.error(`Expected 2 or 3 arguments, but found ${l.length-1} instead.`);const _=h.parse(l[1],1,or),w=h.parse(l[2],2,rn);if(!_||!w)return null;if(!Uf(_.type,[Ns(or),sr,or]))return h.error(`Expected first argument to be of type array or string, but found ${Ir(_.type)} instead`);if(l.length===4){const T=h.parse(l[3],3,rn);return T?new dl(_.type,_,w,T):null}return new dl(_.type,_,w)}evaluate(l){const h=this.input.evaluate(l),_=this.beginIndex.evaluate(l);let w;if(this.endIndex&&(w=this.endIndex.evaluate(l)),fh(h,["string"]))return[...h].slice(_,w).join("");if(fh(h,["array"]))return h.slice(_,w);throw new hi(`Expected first argument to be of type array or string, but found ${Ir(zi(h))} instead.`)}eachChild(l){l(this.input),l(this.beginIndex),this.endIndex&&l(this.endIndex)}outputDefined(){return!1}}function vh(f,l){const h=f.length-1;let _,w,T=0,k=h,D=0;for(;T<=k;)if(D=Math.floor((T+k)/2),_=f[D],w=f[D+1],_<=l){if(D===h||l<w)return D;T=D+1}else{if(!(_>l))throw new hi("Input is not a number.");k=D-1}return 0}class _h{constructor(l,h,_){this.type=l,this.input=h,this.labels=[],this.outputs=[];for(const[w,T]of _)this.labels.push(w),this.outputs.push(T)}static parse(l,h){if(l.length-1<4)return h.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return h.error("Expected an even number of arguments.");const _=h.parse(l[1],1,rn);if(!_)return null;const w=[];let T=null;h.expectedType&&h.expectedType.kind!=="value"&&(T=h.expectedType);for(let k=1;k<l.length;k+=2){const D=k===1?-1/0:l[k],B=l[k+1],Z=k,X=k+1;if(typeof D!="number")return h.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Z);if(w.length&&w[w.length-1][0]>=D)return h.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Z);const ee=h.parse(B,X,T);if(!ee)return null;T=T||ee.type,w.push([D,ee])}return new _h(T,_,w)}evaluate(l){const h=this.labels,_=this.outputs;if(h.length===1)return _[0].evaluate(l);const w=this.input.evaluate(l);if(w<=h[0])return _[0].evaluate(l);const T=h.length;return w>=h[T-1]?_[T-1].evaluate(l):_[vh(h,w)].evaluate(l)}eachChild(l){l(this.input);for(const h of this.outputs)l(h)}outputDefined(){return this.outputs.every((l=>l.outputDefined()))}}function eb(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var Mm,vv,lS=(function(){if(vv)return Mm;function f(l,h,_,w){this.cx=3*l,this.bx=3*(_-l)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*h,this.by=3*(w-h)-this.cy,this.ay=1-this.cy-this.by,this.p1x=l,this.p1y=h,this.p2x=_,this.p2y=w}return vv=1,Mm=f,f.prototype={sampleCurveX:function(l){return((this.ax*l+this.bx)*l+this.cx)*l},sampleCurveY:function(l){return((this.ay*l+this.by)*l+this.cy)*l},sampleCurveDerivativeX:function(l){return(3*this.ax*l+2*this.bx)*l+this.cx},solveCurveX:function(l,h){if(h===void 0&&(h=1e-6),l<0)return 0;if(l>1)return 1;for(var _=l,w=0;w<8;w++){var T=this.sampleCurveX(_)-l;if(Math.abs(T)<h)return _;var k=this.sampleCurveDerivativeX(_);if(Math.abs(k)<1e-6)break;_-=T/k}var D=0,B=1;for(_=l,w=0;w<20&&(T=this.sampleCurveX(_),!(Math.abs(T-l)<h));w++)l>T?D=_:B=_,_=.5*(B-D)+D;return _},solve:function(l,h){return this.sampleCurveY(this.solveCurveX(l,h))}},Mm})(),_v=eb(lS);class ua{constructor(l,h,_,w,T){this.type=l,this.operator=h,this.interpolation=_,this.input=w,this.labels=[],this.outputs=[];for(const[k,D]of T)this.labels.push(k),this.outputs.push(D)}static interpolationFactor(l,h,_,w){let T=0;if(l.name==="exponential")T=Cc(h,l.base,_,w);else if(l.name==="linear")T=Cc(h,1,_,w);else if(l.name==="cubic-bezier"){const k=l.controlPoints;T=new _v(k[0],k[1],k[2],k[3]).solve(Cc(h,1,_,w))}return T}static parse(l,h){let[_,w,T,...k]=l;if(!Array.isArray(w)||w.length===0)return h.error("Expected an interpolation type expression.",1);if(w[0]==="linear")w={name:"linear"};else if(w[0]==="exponential"){const Z=w[1];if(typeof Z!="number")return h.error("Exponential interpolation requires a numeric base.",1,1);w={name:"exponential",base:Z}}else{if(w[0]!=="cubic-bezier")return h.error(`Unknown interpolation type ${String(w[0])}`,1,0);{const Z=w.slice(1);if(Z.length!==4||Z.some((X=>typeof X!="number"||X<0||X>1)))return h.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);w={name:"cubic-bezier",controlPoints:Z}}}if(l.length-1<4)return h.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return h.error("Expected an even number of arguments.");if(T=h.parse(T,2,rn),!T)return null;const D=[];let B=null;_!=="interpolate-hcl"&&_!=="interpolate-lab"||h.expectedType==bc?h.expectedType&&h.expectedType.kind!=="value"&&(B=h.expectedType):B=La;for(let Z=0;Z<k.length;Z+=2){const X=k[Z],ee=k[Z+1],oe=Z+3,le=Z+4;if(typeof X!="number")return h.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',oe);if(D.length&&D[D.length-1][0]>=X)return h.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',oe);const fe=h.parse(ee,le,B);if(!fe)return null;B=B||fe.type,D.push([X,fe])}return Ul(B,rn)||Ul(B,yy)||Ul(B,La)||Ul(B,fu)||Ul(B,wc)||Ul(B,bc)||Ul(B,Vf)||Ul(B,Ns(rn))?new ua(B,_,w,T,D):h.error(`Type ${Ir(B)} is not interpolatable.`)}evaluate(l){const h=this.labels,_=this.outputs;if(h.length===1)return _[0].evaluate(l);const w=this.input.evaluate(l);if(w<=h[0])return _[0].evaluate(l);const T=h.length;if(w>=h[T-1])return _[T-1].evaluate(l);const k=vh(h,w),D=ua.interpolationFactor(this.interpolation,w,h[k],h[k+1]),B=_[k].evaluate(l),Z=_[k+1].evaluate(l);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return mh(B,Z,D);case"color":return ur.interpolate(B,Z,D);case"padding":return Do.interpolate(B,Z,D);case"colorArray":return Qn.interpolate(B,Z,D);case"numberArray":return $i.interpolate(B,Z,D);case"variableAnchorOffsetCollection":return so.interpolate(B,Z,D);case"array":return qf(B,Z,D);case"projectionDefinition":return Ko.interpolate(B,Z,D)}case"interpolate-hcl":switch(this.type.kind){case"color":return ur.interpolate(B,Z,D,"hcl");case"colorArray":return Qn.interpolate(B,Z,D,"hcl")}case"interpolate-lab":switch(this.type.kind){case"color":return ur.interpolate(B,Z,D,"lab");case"colorArray":return Qn.interpolate(B,Z,D,"lab")}}}eachChild(l){l(this.input);for(const h of this.outputs)l(h)}outputDefined(){return this.outputs.every((l=>l.outputDefined()))}}function Cc(f,l,h,_){const w=_-h,T=f-h;return w===0?0:l===1?T/w:(Math.pow(l,T)-1)/(Math.pow(l,w)-1)}const Ni={color:ur.interpolate,number:mh,padding:Do.interpolate,numberArray:$i.interpolate,colorArray:Qn.interpolate,variableAnchorOffsetCollection:so.interpolate,array:qf};class kd{constructor(l,h){this.type=l,this.args=h}static parse(l,h){if(l.length<2)return h.error("Expected at least one argument.");let _=null;const w=h.expectedType;w&&w.kind!=="value"&&(_=w);const T=[];for(const D of l.slice(1)){const B=h.parse(D,1+T.length,_,void 0,{typeAnnotation:"omit"});if(!B)return null;_=_||B.type,T.push(B)}if(!_)throw new Error("No output type");const k=w&&T.some((D=>Qf(w,D.type)));return new kd(k?or:_,T)}evaluate(l){let h,_=null,w=0;for(const T of this.args)if(w++,_=T.evaluate(l),_&&_ instanceof aa&&!_.available&&(h||(h=_.name),_=null,w===this.args.length&&(_=h)),_!==null)break;return _}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every((l=>l.outputDefined()))}}function Rm(f,l){return f==="=="||f==="!="?l.kind==="boolean"||l.kind==="string"||l.kind==="number"||l.kind==="null"||l.kind==="value":l.kind==="string"||l.kind==="number"||l.kind==="value"}function Im(f,l,h,_){return _.compare(l,h)===0}function ao(f,l,h){const _=f!=="=="&&f!=="!=";return class GX{constructor(T,k,D){this.type=fr,this.lhs=T,this.rhs=k,this.collator=D,this.hasUntypedArgument=T.type.kind==="value"||k.type.kind==="value"}static parse(T,k){if(T.length!==3&&T.length!==4)return k.error("Expected two or three arguments.");const D=T[0];let B=k.parse(T[1],1,or);if(!B)return null;if(!Rm(D,B.type))return k.concat(1).error(`"${D}" comparisons are not supported for type '${Ir(B.type)}'.`);let Z=k.parse(T[2],2,or);if(!Z)return null;if(!Rm(D,Z.type))return k.concat(2).error(`"${D}" comparisons are not supported for type '${Ir(Z.type)}'.`);if(B.type.kind!==Z.type.kind&&B.type.kind!=="value"&&Z.type.kind!=="value")return k.error(`Cannot compare types '${Ir(B.type)}' and '${Ir(Z.type)}'.`);_&&(B.type.kind==="value"&&Z.type.kind!=="value"?B=new la(Z.type,[B]):B.type.kind!=="value"&&Z.type.kind==="value"&&(Z=new la(B.type,[Z])));let X=null;if(T.length===4){if(B.type.kind!=="string"&&Z.type.kind!=="string"&&B.type.kind!=="value"&&Z.type.kind!=="value")return k.error("Cannot use collator to compare non-string types.");if(X=k.parse(T[3],3,_d),!X)return null}return new GX(B,Z,X)}evaluate(T){const k=this.lhs.evaluate(T),D=this.rhs.evaluate(T);if(_&&this.hasUntypedArgument){const B=zi(k),Z=zi(D);if(B.kind!==Z.kind||B.kind!=="string"&&B.kind!=="number")throw new hi(`Expected arguments for "${f}" to be (string, string) or (number, number), but found (${B.kind}, ${Z.kind}) instead.`)}if(this.collator&&!_&&this.hasUntypedArgument){const B=zi(k),Z=zi(D);if(B.kind!=="string"||Z.kind!=="string")return l(T,k,D)}return this.collator?h(T,k,D,this.collator.evaluate(T)):l(T,k,D)}eachChild(T){T(this.lhs),T(this.rhs),this.collator&&T(this.collator)}outputDefined(){return!0}}}const tb=ao("==",(function(f,l,h){return l===h}),Im),xy=ao("!=",(function(f,l,h){return l!==h}),(function(f,l,h,_){return!Im(0,l,h,_)})),nb=ao("<",(function(f,l,h){return l<h}),(function(f,l,h,_){return _.compare(l,h)<0})),cS=ao(">",(function(f,l,h){return l>h}),(function(f,l,h,_){return _.compare(l,h)>0})),Wf=ao("<=",(function(f,l,h){return l<=h}),(function(f,l,h,_){return _.compare(l,h)<=0})),by=ao(">=",(function(f,l,h){return l>=h}),(function(f,l,h,_){return _.compare(l,h)>=0}));class Hf{constructor(l,h,_){this.type=_d,this.locale=_,this.caseSensitive=l,this.diacriticSensitive=h}static parse(l,h){if(l.length!==2)return h.error("Expected one argument.");const _=l[1];if(typeof _!="object"||Array.isArray(_))return h.error("Collator options argument must be an object.");const w=h.parse(_["case-sensitive"]!==void 0&&_["case-sensitive"],1,fr);if(!w)return null;const T=h.parse(_["diacritic-sensitive"]!==void 0&&_["diacritic-sensitive"],1,fr);if(!T)return null;let k=null;return _.locale&&(k=h.parse(_.locale,1,sr),!k)?null:new Hf(w,T,k)}evaluate(l){return new Zl(this.caseSensitive.evaluate(l),this.diacriticSensitive.evaluate(l),this.locale?this.locale.evaluate(l):null)}eachChild(l){l(this.caseSensitive),l(this.diacriticSensitive),this.locale&&l(this.locale)}outputDefined(){return!1}}class xv{constructor(l,h,_,w,T){this.type=sr,this.number=l,this.locale=h,this.currency=_,this.minFractionDigits=w,this.maxFractionDigits=T}static parse(l,h){if(l.length!==3)return h.error("Expected two arguments.");const _=h.parse(l[1],1,rn);if(!_)return null;const w=l[2];if(typeof w!="object"||Array.isArray(w))return h.error("NumberFormat options argument must be an object.");let T=null;if(w.locale&&(T=h.parse(w.locale,1,sr),!T))return null;let k=null;if(w.currency&&(k=h.parse(w.currency,1,sr),!k))return null;let D=null;if(w["min-fraction-digits"]&&(D=h.parse(w["min-fraction-digits"],1,rn),!D))return null;let B=null;return w["max-fraction-digits"]&&(B=h.parse(w["max-fraction-digits"],1,rn),!B)?null:new xv(_,T,k,D,B)}evaluate(l){return new Intl.NumberFormat(this.locale?this.locale.evaluate(l):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(l):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(l):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(l):void 0}).format(this.number.evaluate(l))}eachChild(l){l(this.number),this.locale&&l(this.locale),this.currency&&l(this.currency),this.minFractionDigits&&l(this.minFractionDigits),this.maxFractionDigits&&l(this.maxFractionDigits)}outputDefined(){return!1}}class Dm{constructor(l){this.type=xc,this.sections=l}static parse(l,h){if(l.length<2)return h.error("Expected at least one argument.");const _=l[1];if(!Array.isArray(_)&&typeof _=="object")return h.error("First argument must be an image or text section.");const w=[];let T=!1;for(let k=1;k<=l.length-1;++k){const D=l[k];if(T&&typeof D=="object"&&!Array.isArray(D)){T=!1;let B=null;if(D["font-scale"]&&(B=h.parse(D["font-scale"],1,rn),!B))return null;let Z=null;if(D["text-font"]&&(Z=h.parse(D["text-font"],1,Ns(sr)),!Z))return null;let X=null;if(D["text-color"]&&(X=h.parse(D["text-color"],1,La),!X))return null;let ee=null;if(D["vertical-align"]){if(typeof D["vertical-align"]=="string"&&!yv.includes(D["vertical-align"]))return h.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${D["vertical-align"]}' instead.`);if(ee=h.parse(D["vertical-align"],1,sr),!ee)return null}const oe=w[w.length-1];oe.scale=B,oe.font=Z,oe.textColor=X,oe.verticalAlign=ee}else{const B=h.parse(l[k],1,or);if(!B)return null;const Z=B.type.kind;if(Z!=="string"&&Z!=="value"&&Z!=="null"&&Z!=="resolvedImage")return h.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");T=!0,w.push({content:B,scale:null,font:null,textColor:null,verticalAlign:null})}}return new Dm(w)}evaluate(l){return new Yo(this.sections.map((h=>{const _=h.content.evaluate(l);return zi(_)===oo?new Em("",_,null,null,null,h.verticalAlign?h.verticalAlign.evaluate(l):null):new Em(gh(_),null,h.scale?h.scale.evaluate(l):null,h.font?h.font.evaluate(l).join(","):null,h.textColor?h.textColor.evaluate(l):null,h.verticalAlign?h.verticalAlign.evaluate(l):null)})))}eachChild(l){for(const h of this.sections)l(h.content),h.scale&&l(h.scale),h.font&&l(h.font),h.textColor&&l(h.textColor),h.verticalAlign&&l(h.verticalAlign)}outputDefined(){return!1}}class Gf{constructor(l){this.type=oo,this.input=l}static parse(l,h){if(l.length!==2)return h.error("Expected two arguments.");const _=h.parse(l[1],1,sr);return _?new Gf(_):h.error("No image name provided.")}evaluate(l){const h=this.input.evaluate(l),_=aa.fromString(h);return _&&l.availableImages&&(_.available=l.availableImages.indexOf(h)>-1),_}eachChild(l){l(this.input)}outputDefined(){return!1}}class Xf{constructor(l){this.type=rn,this.input=l}static parse(l,h){if(l.length!==2)return h.error(`Expected 1 argument, but found ${l.length-1} instead.`);const _=h.parse(l[1],1);return _?_.type.kind!=="array"&&_.type.kind!=="string"&&_.type.kind!=="value"?h.error(`Expected argument of type string or array, but found ${Ir(_.type)} instead.`):new Xf(_):null}evaluate(l){const h=this.input.evaluate(l);if(typeof h=="string")return[...h].length;if(Array.isArray(h))return h.length;throw new hi(`Expected value to be of type string or array, but found ${Ir(zi(h))} instead.`)}eachChild(l){l(this.input)}outputDefined(){return!1}}const xo=8192;function Yf(f,l){const h=(180+f[0])/360,_=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+f[1]*Math.PI/360)))/360,w=Math.pow(2,l.z);return[Math.round(h*w*xo),Math.round(_*w*xo)]}function Kf(f,l){const h=Math.pow(2,l.z);return[(w=(f[0]/xo+l.x)/h,360*w-180),(_=(f[1]/xo+l.y)/h,360/Math.PI*Math.atan(Math.exp((180-360*_)*Math.PI/180))-90)];var _,w}function Jf(f,l){f[0]=Math.min(f[0],l[0]),f[1]=Math.min(f[1],l[1]),f[2]=Math.max(f[2],l[0]),f[3]=Math.max(f[3],l[1])}function xh(f,l){return!(f[0]<=l[0]||f[2]>=l[2]||f[1]<=l[1]||f[3]>=l[3])}function rb(f,l,h){const _=f[0]-l[0],w=f[1]-l[1],T=f[0]-h[0],k=f[1]-h[1];return _*k-T*w==0&&_*T<=0&&w*k<=0}function Lm(f,l,h,_){return(w=[_[0]-h[0],_[1]-h[1]])[0]*(T=[l[0]-f[0],l[1]-f[1]])[1]-w[1]*T[0]!=0&&!(!Oy(f,l,h,_)||!Oy(h,_,f,l));var w,T}function ib(f,l,h){for(const _ of h)for(let w=0;w<_.length-1;++w)if(Lm(f,l,_[w],_[w+1]))return!0;return!1}function ql(f,l,h=!1){let _=!1;for(const D of l)for(let B=0;B<D.length-1;B++){if(rb(f,D[B],D[B+1]))return h;(T=D[B])[1]>(w=f)[1]!=(k=D[B+1])[1]>w[1]&&w[0]<(k[0]-T[0])*(w[1]-T[1])/(k[1]-T[1])+T[0]&&(_=!_)}var w,T,k;return _}function wy(f,l){for(const h of l)if(ql(f,h))return!0;return!1}function ob(f,l){for(const h of f)if(!ql(h,l))return!1;for(let h=0;h<f.length-1;++h)if(ib(f[h],f[h+1],l))return!1;return!0}function sb(f,l){for(const h of l)if(ob(f,h))return!0;return!1}function Oy(f,l,h,_){const w=_[0]-h[0],T=_[1]-h[1],k=(f[0]-h[0])*T-w*(f[1]-h[1]),D=(l[0]-h[0])*T-w*(l[1]-h[1]);return k>0&&D<0||k<0&&D>0}function Sy(f,l,h){const _=[];for(let w=0;w<f.length;w++){const T=[];for(let k=0;k<f[w].length;k++){const D=Yf(f[w][k],h);Jf(l,D),T.push(D)}_.push(T)}return _}function Ed(f,l,h){const _=[];for(let w=0;w<f.length;w++){const T=Sy(f[w],l,h);_.push(T)}return _}function ep(f,l,h,_){if(f[0]<h[0]||f[0]>h[2]){const w=.5*_;let T=f[0]-h[0]>w?-_:h[0]-f[0]>w?_:0;T===0&&(T=f[0]-h[2]>w?-_:h[2]-f[0]>w?_:0),f[0]+=T}Jf(l,f)}function ab(f,l,h,_){const w=Math.pow(2,_.z)*xo,T=[_.x*xo,_.y*xo],k=[];for(const D of f)for(const B of D){const Z=[B.x+T[0],B.y+T[1]];ep(Z,l,h,w),k.push(Z)}return k}function $m(f,l,h,_){const w=Math.pow(2,_.z)*xo,T=[_.x*xo,_.y*xo],k=[];for(const B of f){const Z=[];for(const X of B){const ee=[X.x+T[0],X.y+T[1]];Jf(l,ee),Z.push(ee)}k.push(Z)}if(l[2]-l[0]<=w/2){(D=l)[0]=D[1]=1/0,D[2]=D[3]=-1/0;for(const B of k)for(const Z of B)ep(Z,l,h,w)}var D;return k}class bh{constructor(l,h){this.type=fr,this.geojson=l,this.geometries=h}static parse(l,h){if(l.length!==2)return h.error(`'within' expression requires exactly one argument, but found ${l.length-1} instead.`);if(Sc(l[1])){const _=l[1];if(_.type==="FeatureCollection"){const w=[];for(const T of _.features){const{type:k,coordinates:D}=T.geometry;k==="Polygon"&&w.push(D),k==="MultiPolygon"&&w.push(...D)}if(w.length)return new bh(_,{type:"MultiPolygon",coordinates:w})}else if(_.type==="Feature"){const w=_.geometry.type;if(w==="Polygon"||w==="MultiPolygon")return new bh(_,_.geometry)}else if(_.type==="Polygon"||_.type==="MultiPolygon")return new bh(_,_)}return h.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return(function(h,_){const w=[1/0,1/0,-1/0,-1/0],T=[1/0,1/0,-1/0,-1/0],k=h.canonicalID();if(_.type==="Polygon"){const D=Sy(_.coordinates,T,k),B=ab(h.geometry(),w,T,k);if(!xh(w,T))return!1;for(const Z of B)if(!ql(Z,D))return!1}if(_.type==="MultiPolygon"){const D=Ed(_.coordinates,T,k),B=ab(h.geometry(),w,T,k);if(!xh(w,T))return!1;for(const Z of B)if(!wy(Z,D))return!1}return!0})(l,this.geometries);if(l.geometryType()==="LineString")return(function(h,_){const w=[1/0,1/0,-1/0,-1/0],T=[1/0,1/0,-1/0,-1/0],k=h.canonicalID();if(_.type==="Polygon"){const D=Sy(_.coordinates,T,k),B=$m(h.geometry(),w,T,k);if(!xh(w,T))return!1;for(const Z of B)if(!ob(Z,D))return!1}if(_.type==="MultiPolygon"){const D=Ed(_.coordinates,T,k),B=$m(h.geometry(),w,T,k);if(!xh(w,T))return!1;for(const Z of B)if(!sb(Z,D))return!1}return!0})(l,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let bv=class{constructor(f=[],l=(h,_)=>h<_?-1:h>_?1:0){if(this.data=f,this.length=this.data.length,this.compare=l,this.length>0)for(let h=(this.length>>1)-1;h>=0;h--)this._down(h)}push(f){this.data.push(f),this._up(this.length++)}pop(){if(this.length===0)return;const f=this.data[0],l=this.data.pop();return--this.length>0&&(this.data[0]=l,this._down(0)),f}peek(){return this.data[0]}_up(f){const{data:l,compare:h}=this,_=l[f];for(;f>0;){const w=f-1>>1,T=l[w];if(h(_,T)>=0)break;l[f]=T,f=w}l[f]=_}_down(f){const{data:l,compare:h}=this,_=this.length>>1,w=l[f];for(;f<_;){let T=1+(f<<1);const k=T+1;if(k<this.length&&h(l[k],l[T])<0&&(T=k),h(l[T],w)>=0)break;l[f]=l[T],f=T}l[f]=w}};function zm(f,l,h=0,_=f.length-1,w=wv){for(;_>h;){if(_-h>600){const B=_-h+1,Z=l-h+1,X=Math.log(B),ee=.5*Math.exp(2*X/3),oe=.5*Math.sqrt(X*ee*(B-ee)/B)*(Z-B/2<0?-1:1);zm(f,l,Math.max(h,Math.floor(l-Z*ee/B+oe)),Math.min(_,Math.floor(l+(B-Z)*ee/B+oe)),w)}const T=f[l];let k=h,D=_;for(wh(f,h,l),w(f[_],T)>0&&wh(f,h,_);k<D;){for(wh(f,k,D),k++,D--;w(f[k],T)<0;)k++;for(;w(f[D],T)>0;)D--}w(f[h],T)===0?wh(f,h,D):(D++,wh(f,D,_)),D<=l&&(h=D+1),l<=D&&(_=D-1)}}function wh(f,l,h){const _=f[l];f[l]=f[h],f[h]=_}function wv(f,l){return f<l?-1:f>l?1:0}function Nm(f,l){if(f.length<=1)return[f];const h=[];let _,w;for(const T of f){const k=uS(T);k!==0&&(T.area=Math.abs(k),w===void 0&&(w=k<0),w===k<0?(_&&h.push(_),_=[T]):_.push(T))}if(_&&h.push(_),l>1)for(let T=0;T<h.length;T++)h[T].length<=l||(zm(h[T],l,1,h[T].length-1,lb),h[T]=h[T].slice(0,l));return h}function lb(f,l){return l.area-f.area}function uS(f){let l=0;for(let h,_,w=0,T=f.length,k=T-1;w<T;k=w++)h=f[w],_=f[k],l+=(_.x-h.x)*(h.y+_.y);return l}const cb=1/298.257223563,Bm=cb*(2-cb),ub=Math.PI/180;class Ov{constructor(l){const h=6378.137*ub*1e3,_=Math.cos(l*ub),w=1/(1-Bm*(1-_*_)),T=Math.sqrt(w);this.kx=h*T*_,this.ky=h*T*w*(1-Bm)}distance(l,h){const _=this.wrap(l[0]-h[0])*this.kx,w=(l[1]-h[1])*this.ky;return Math.sqrt(_*_+w*w)}pointOnLine(l,h){let _,w,T,k,D=1/0;for(let B=0;B<l.length-1;B++){let Z=l[B][0],X=l[B][1],ee=this.wrap(l[B+1][0]-Z)*this.kx,oe=(l[B+1][1]-X)*this.ky,le=0;ee===0&&oe===0||(le=(this.wrap(h[0]-Z)*this.kx*ee+(h[1]-X)*this.ky*oe)/(ee*ee+oe*oe),le>1?(Z=l[B+1][0],X=l[B+1][1]):le>0&&(Z+=ee/this.kx*le,X+=oe/this.ky*le)),ee=this.wrap(h[0]-Z)*this.kx,oe=(h[1]-X)*this.ky;const fe=ee*ee+oe*oe;fe<D&&(D=fe,_=Z,w=X,T=B,k=le)}return{point:[_,w],index:T,t:Math.max(0,Math.min(1,k))}}wrap(l){for(;l<-180;)l+=360;for(;l>180;)l-=360;return l}}function va(f,l){return l[0]-f[0]}function Oh(f){return f[1]-f[0]+1}function fl(f,l){return f[1]>=f[0]&&f[1]<l}function Fm(f,l){if(f[0]>f[1])return[null,null];const h=Oh(f);if(l){if(h===2)return[f,null];const w=Math.floor(h/2);return[[f[0],f[0]+w],[f[0]+w,f[1]]]}if(h===1)return[f,null];const _=Math.floor(h/2)-1;return[[f[0],f[0]+_],[f[0]+_+1,f[1]]]}function Cy(f,l){if(!fl(l,f.length))return[1/0,1/0,-1/0,-1/0];const h=[1/0,1/0,-1/0,-1/0];for(let _=l[0];_<=l[1];++_)Jf(h,f[_]);return h}function Ty(f){const l=[1/0,1/0,-1/0,-1/0];for(const h of f)for(const _ of h)Jf(l,_);return l}function jm(f){return f[0]!==-1/0&&f[1]!==-1/0&&f[2]!==1/0&&f[3]!==1/0}function ky(f,l,h){if(!jm(f)||!jm(l))return NaN;let _=0,w=0;return f[2]<l[0]&&(_=l[0]-f[2]),f[0]>l[2]&&(_=f[0]-l[2]),f[1]>l[3]&&(w=f[1]-l[3]),f[3]<l[1]&&(w=l[1]-f[3]),h.distance([0,0],[_,w])}function pl(f,l,h){const _=h.pointOnLine(l,f);return h.distance(f,_.point)}function Vm(f,l,h,_,w){const T=Math.min(pl(f,[h,_],w),pl(l,[h,_],w)),k=Math.min(pl(h,[f,l],w),pl(_,[f,l],w));return Math.min(T,k)}function Qm(f,l,h,_,w){if(!fl(l,f.length)||!fl(_,h.length))return 1/0;let T=1/0;for(let k=l[0];k<l[1];++k){const D=f[k],B=f[k+1];for(let Z=_[0];Z<_[1];++Z){const X=h[Z],ee=h[Z+1];if(Lm(D,B,X,ee))return 0;T=Math.min(T,Vm(D,B,X,ee,w))}}return T}function Ey(f,l,h,_,w){if(!fl(l,f.length)||!fl(_,h.length))return NaN;let T=1/0;for(let k=l[0];k<=l[1];++k)for(let D=_[0];D<=_[1];++D)if(T=Math.min(T,w.distance(f[k],h[D])),T===0)return T;return T}function hb(f,l,h){if(ql(f,l,!0))return 0;let _=1/0;for(const w of l){const T=w[0],k=w[w.length-1];if(T!==k&&(_=Math.min(_,pl(f,[k,T],h)),_===0))return _;const D=h.pointOnLine(w,f);if(_=Math.min(_,h.distance(f,D.point)),_===0)return _}return _}function Ad(f,l,h,_){if(!fl(l,f.length))return NaN;for(let T=l[0];T<=l[1];++T)if(ql(f[T],h,!0))return 0;let w=1/0;for(let T=l[0];T<l[1];++T){const k=f[T],D=f[T+1];for(const B of h)for(let Z=0,X=B.length,ee=X-1;Z<X;ee=Z++){const oe=B[ee],le=B[Z];if(Lm(k,D,oe,le))return 0;w=Math.min(w,Vm(k,D,oe,le,_))}}return w}function Pd(f,l){for(const h of f)for(const _ of h)if(ql(_,l,!0))return!0;return!1}function Sv(f,l,h,_=1/0){const w=Ty(f),T=Ty(l);if(_!==1/0&&ky(w,T,h)>=_)return _;if(xh(w,T)){if(Pd(f,l))return 0}else if(Pd(l,f))return 0;let k=1/0;for(const D of f)for(let B=0,Z=D.length,X=Z-1;B<Z;X=B++){const ee=D[X],oe=D[B];for(const le of l)for(let fe=0,ge=le.length,ve=ge-1;fe<ge;ve=fe++){const Te=le[ve],Ve=le[fe];if(Lm(ee,oe,Te,Ve))return 0;k=Math.min(k,Vm(ee,oe,Te,Ve,h))}}return k}function jr(f,l,h,_,w,T){if(!T)return;const k=ky(Cy(_,T),w,h);k<l&&f.push([k,T,[0,0]])}function Tc(f,l,h,_,w,T,k){if(!T||!k)return;const D=ky(Cy(_,T),Cy(w,k),h);D<l&&f.push([D,T,k])}function Um(f,l,h,_,w=1/0){let T=Math.min(_.distance(f[0],h[0][0]),w);if(T===0)return T;const k=new bv([[0,[0,f.length-1],[0,0]]],va),D=Ty(h);for(;k.length>0;){const B=k.pop();if(B[0]>=T)continue;const Z=B[1],X=l?50:100;if(Oh(Z)<=X){if(!fl(Z,f.length))return NaN;if(l){const ee=Ad(f,Z,h,_);if(isNaN(ee)||ee===0)return ee;T=Math.min(T,ee)}else for(let ee=Z[0];ee<=Z[1];++ee){const oe=hb(f[ee],h,_);if(T=Math.min(T,oe),T===0)return 0}}else{const ee=Fm(Z,l);jr(k,T,_,f,D,ee[0]),jr(k,T,_,f,D,ee[1])}}return T}function Zm(f,l,h,_,w,T=1/0){let k=Math.min(T,w.distance(f[0],h[0]));if(k===0)return k;const D=new bv([[0,[0,f.length-1],[0,h.length-1]]],va);for(;D.length>0;){const B=D.pop();if(B[0]>=k)continue;const Z=B[1],X=B[2],ee=l?50:100,oe=_?50:100;if(Oh(Z)<=ee&&Oh(X)<=oe){if(!fl(Z,f.length)&&fl(X,h.length))return NaN;let le;if(l&&_)le=Qm(f,Z,h,X,w),k=Math.min(k,le);else if(l&&!_){const fe=f.slice(Z[0],Z[1]+1);for(let ge=X[0];ge<=X[1];++ge)if(le=pl(h[ge],fe,w),k=Math.min(k,le),k===0)return k}else if(!l&&_){const fe=h.slice(X[0],X[1]+1);for(let ge=Z[0];ge<=Z[1];++ge)if(le=pl(f[ge],fe,w),k=Math.min(k,le),k===0)return k}else le=Ey(f,Z,h,X,w),k=Math.min(k,le)}else{const le=Fm(Z,l),fe=Fm(X,_);Tc(D,k,w,f,h,le[0],fe[0]),Tc(D,k,w,f,h,le[0],fe[1]),Tc(D,k,w,f,h,le[1],fe[0]),Tc(D,k,w,f,h,le[1],fe[1])}}return k}function Ay(f){return f.type==="MultiPolygon"?f.coordinates.map((l=>({type:"Polygon",coordinates:l}))):f.type==="MultiLineString"?f.coordinates.map((l=>({type:"LineString",coordinates:l}))):f.type==="MultiPoint"?f.coordinates.map((l=>({type:"Point",coordinates:l}))):[f]}class Md{constructor(l,h){this.type=rn,this.geojson=l,this.geometries=h}static parse(l,h){if(l.length!==2)return h.error(`'distance' expression requires exactly one argument, but found ${l.length-1} instead.`);if(Sc(l[1])){const _=l[1];if(_.type==="FeatureCollection")return new Md(_,_.features.map((w=>Ay(w.geometry))).flat());if(_.type==="Feature")return new Md(_,Ay(_.geometry));if("type"in _&&"coordinates"in _)return new Md(_,Ay(_))}return h.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return(function(h,_){const w=h.geometry(),T=w.flat().map((B=>Kf([B.x,B.y],h.canonical)));if(w.length===0)return NaN;const k=new Ov(T[0][1]);let D=1/0;for(const B of _){switch(B.type){case"Point":D=Math.min(D,Zm(T,!1,[B.coordinates],!1,k,D));break;case"LineString":D=Math.min(D,Zm(T,!1,B.coordinates,!0,k,D));break;case"Polygon":D=Math.min(D,Um(T,!1,B.coordinates,k,D))}if(D===0)return D}return D})(l,this.geometries);if(l.geometryType()==="LineString")return(function(h,_){const w=h.geometry(),T=w.flat().map((B=>Kf([B.x,B.y],h.canonical)));if(w.length===0)return NaN;const k=new Ov(T[0][1]);let D=1/0;for(const B of _){switch(B.type){case"Point":D=Math.min(D,Zm(T,!0,[B.coordinates],!1,k,D));break;case"LineString":D=Math.min(D,Zm(T,!0,B.coordinates,!0,k,D));break;case"Polygon":D=Math.min(D,Um(T,!0,B.coordinates,k,D))}if(D===0)return D}return D})(l,this.geometries);if(l.geometryType()==="Polygon")return(function(h,_){const w=h.geometry();if(w.length===0||w[0].length===0)return NaN;const T=Nm(w,0).map((B=>B.map((Z=>Z.map((X=>Kf([X.x,X.y],h.canonical))))))),k=new Ov(T[0][0][0][1]);let D=1/0;for(const B of _)for(const Z of T){switch(B.type){case"Point":D=Math.min(D,Um([B.coordinates],!1,Z,k,D));break;case"LineString":D=Math.min(D,Um(B.coordinates,!0,Z,k,D));break;case"Polygon":D=Math.min(D,Sv(Z,B.coordinates,k,D))}if(D===0)return D}return D})(l,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}class qm{constructor(l){this.type=or,this.key=l}static parse(l,h){if(l.length!==2)return h.error(`Expected 1 argument, but found ${l.length-1} instead.`);const _=l[1];return _==null?h.error("Global state property must be defined."):typeof _!="string"?h.error(`Global state property must be string, but found ${typeof l[1]} instead.`):new qm(_)}evaluate(l){var h;const _=(h=l.globals)===null||h===void 0?void 0:h.globalState;return _&&Object.keys(_).length!==0?Zf(_,this.key):null}eachChild(){}outputDefined(){return!1}}const tp={"==":tb,"!=":xy,">":cS,"<":nb,">=":by,"<=":Wf,array:la,at:xr,boolean:la,case:Pm,coalesce:kd,collator:Hf,format:Dm,image:Gf,in:ar,"index-of":Td,interpolate:ua,"interpolate-hcl":ua,"interpolate-lab":ua,length:Xf,let:ii,literal:za,match:Dr,number:la,"number-format":xv,object:la,slice:dl,step:_h,string:la,"to-boolean":ca,"to-color":ca,"to-number":ca,"to-string":ca,var:yh,within:bh,distance:Md,"global-state":qm};class Na{constructor(l,h,_,w){this.name=l,this.type=h,this._evaluate=_,this.args=w}evaluate(l){return this._evaluate(l,this.args)}eachChild(l){this.args.forEach(l)}outputDefined(){return!1}static parse(l,h){const _=l[0],w=Na.definitions[_];if(!w)return h.error(`Unknown expression "${_}". If you wanted a literal array, use ["literal", [...]].`,0);const T=Array.isArray(w)?w[0]:w.type,k=Array.isArray(w)?[[w[1],w[2]]]:w.overloads,D=k.filter((([Z])=>!Array.isArray(Z)||Z.length===l.length-1));let B=null;for(const[Z,X]of D){B=new Cd(h.registry,ha,h.path,null,h.scope);const ee=[];let oe=!1;for(let le=1;le<l.length;le++){const fe=l[le],ge=Array.isArray(Z)?Z[le-1]:Z.type,ve=B.parse(fe,1+ee.length,ge);if(!ve){oe=!0;break}ee.push(ve)}if(!oe)if(Array.isArray(Z)&&Z.length!==ee.length)B.error(`Expected ${Z.length} arguments, but found ${ee.length} instead.`);else{for(let le=0;le<ee.length;le++){const fe=Array.isArray(Z)?Z[le]:Z.type,ge=ee[le];B.concat(le+1).checkSubtype(fe,ge.type)}if(B.errors.length===0)return new Na(_,T,X,ee)}}if(D.length===1)h.errors.push(...B.errors);else{const Z=(D.length?D:k).map((([ee])=>{return oe=ee,Array.isArray(oe)?`(${oe.map(Ir).join(", ")})`:`(${Ir(oe.type)}...)`;var oe})).join(" | "),X=[];for(let ee=1;ee<l.length;ee++){const oe=h.parse(l[ee],1+X.length);if(!oe)return null;X.push(Ir(oe.type))}h.error(`Expected arguments of type ${Z}, but found (${X.join(", ")}) instead.`)}return null}static register(l,h){Na.definitions=h;for(const _ in h)l[_]=Na}}function Cv(f,[l,h,_,w]){l=l.evaluate(f),h=h.evaluate(f),_=_.evaluate(f);const T=w?w.evaluate(f):1,k=$a(l,h,_,T);if(k)throw new hi(k);return new ur(l/255,h/255,_/255,T,!1)}function Py(f,l){return f in l}function Ba(f,l){const h=l[f];return h===void 0?null:h}function kc(f){return{type:f}}function ha(f){if(f instanceof yh)return ha(f.boundExpression);if(f instanceof Na&&f.name==="error"||f instanceof Hf||f instanceof bh||f instanceof Md||f instanceof qm)return!1;const l=f instanceof ca||f instanceof la;let h=!0;return f.eachChild((_=>{h=l?h&&ha(_):h&&_ instanceof za})),!!h&&gu(f)&&Id(f,["zoom","heatmap-density","elevation","line-progress","accumulated","is-supported-script"])}function gu(f){if(f instanceof Na&&(f.name==="get"&&f.args.length===1||f.name==="feature-state"||f.name==="has"&&f.args.length===1||f.name==="properties"||f.name==="geometry-type"||f.name==="id"||/^filter-/.test(f.name))||f instanceof bh||f instanceof Md)return!1;let l=!0;return f.eachChild((h=>{l&&!gu(h)&&(l=!1)})),l}function Rd(f){if(f instanceof Na&&f.name==="feature-state")return!1;let l=!0;return f.eachChild((h=>{l&&!Rd(h)&&(l=!1)})),l}function Id(f,l){if(f instanceof Na&&l.indexOf(f.name)>=0)return!1;let h=!0;return f.eachChild((_=>{h&&!Id(_,l)&&(h=!1)})),h}function Wm(f){return{result:"success",value:f}}function Sh(f){return{result:"error",value:f}}function ml(f){return f["property-type"]==="data-driven"||f["property-type"]==="cross-faded-data-driven"}function Tv(f){return!!f.expression&&f.expression.parameters.indexOf("zoom")>-1}function np(f){return!!f.expression&&f.expression.interpolated}function lr(f){return f instanceof Number?"number":f instanceof String?"string":f instanceof Boolean?"boolean":Array.isArray(f)?"array":f===null?"null":typeof f}function My(f){return typeof f=="object"&&f!==null&&!Array.isArray(f)&&zi(f)===_c}function Fa(f){return f}function Ry(f,l){const h=f.stops&&typeof f.stops[0][0]=="object",_=h||!(h||f.property!==void 0),w=f.type||(np(l)?"exponential":"interval"),T=(function(X){switch(X.type){case"color":return ur.parse;case"padding":return Do.parse;case"numberArray":return $i.parse;case"colorArray":return Qn.parse;default:return null}})(l);if(T&&((f=$s({},f)).stops&&(f.stops=f.stops.map((X=>[X[0],T(X[1])]))),f.default=T(f.default?f.default:l.default)),f.colorSpace&&(k=f.colorSpace)!=="rgb"&&k!=="hcl"&&k!=="lab")throw new Error(`Unknown color space: "${f.colorSpace}"`);var k;const D=(function(X){switch(X){case"exponential":return Ch;case"interval":return Iy;case"categorical":return db;case"identity":return kv;default:throw new Error(`Unknown function type "${X}"`)}})(w);let B,Z;if(w==="categorical"){B=Object.create(null);for(const X of f.stops)B[X[0]]=X[1];Z=typeof f.stops[0][0]}if(h){const X={},ee=[];for(let fe=0;fe<f.stops.length;fe++){const ge=f.stops[fe],ve=ge[0].zoom;X[ve]===void 0&&(X[ve]={zoom:ve,type:f.type,property:f.property,default:f.default,stops:[]},ee.push(ve)),X[ve].stops.push([ge[0].value,ge[1]])}const oe=[];for(const fe of ee)oe.push([X[fe].zoom,Ry(X[fe],l)]);const le={name:"linear"};return{kind:"composite",interpolationType:le,interpolationFactor:ua.interpolationFactor.bind(void 0,le),zoomStops:oe.map((fe=>fe[0])),evaluate:({zoom:fe},ge)=>Ch({stops:oe,base:f.base},l,fe).evaluate(fe,ge)}}if(_){const X=w==="exponential"?{name:"exponential",base:f.base!==void 0?f.base:1}:null;return{kind:"camera",interpolationType:X,interpolationFactor:ua.interpolationFactor.bind(void 0,X),zoomStops:f.stops.map((ee=>ee[0])),evaluate:({zoom:ee})=>D(f,l,ee,B,Z)}}return{kind:"source",evaluate(X,ee){const oe=ee&&ee.properties?ee.properties[f.property]:void 0;return oe===void 0?ja(f.default,l.default):D(f,l,oe,B,Z)}}}function ja(f,l,h){return f!==void 0?f:l!==void 0?l:h!==void 0?h:void 0}function db(f,l,h,_,w){return ja(typeof h===w?_[h]:void 0,f.default,l.default)}function Iy(f,l,h){if(lr(h)!=="number")return ja(f.default,l.default);const _=f.stops.length;if(_===1||h<=f.stops[0][0])return f.stops[0][1];if(h>=f.stops[_-1][0])return f.stops[_-1][1];const w=vh(f.stops.map((T=>T[0])),h);return f.stops[w][1]}function Ch(f,l,h){const _=f.base!==void 0?f.base:1;if(lr(h)!=="number")return ja(f.default,l.default);const w=f.stops.length;if(w===1||h<=f.stops[0][0])return f.stops[0][1];if(h>=f.stops[w-1][0])return f.stops[w-1][1];const T=vh(f.stops.map((X=>X[0])),h),k=(function(X,ee,oe,le){const fe=le-oe,ge=X-oe;return fe===0?0:ee===1?ge/fe:(Math.pow(ee,ge)-1)/(Math.pow(ee,fe)-1)})(h,_,f.stops[T][0],f.stops[T+1][0]),D=f.stops[T][1],B=f.stops[T+1][1],Z=Ni[l.type]||Fa;return typeof D.evaluate=="function"?{evaluate(...X){const ee=D.evaluate.apply(void 0,X),oe=B.evaluate.apply(void 0,X);if(ee!==void 0&&oe!==void 0)return Z(ee,oe,k,f.colorSpace)}}:Z(D,B,k,f.colorSpace)}function kv(f,l,h){switch(l.type){case"color":h=ur.parse(h);break;case"formatted":h=Yo.fromString(h.toString());break;case"resolvedImage":h=aa.fromString(h.toString());break;case"padding":h=Do.parse(h);break;case"colorArray":h=Qn.parse(h);break;case"numberArray":h=$i.parse(h);break;default:lr(h)===l.type||l.type==="enum"&&l.values[h]||(h=void 0)}return ja(h,f.default,l.default)}Na.register(tp,{error:[{kind:"error"},[sr],(f,[l])=>{throw new hi(l.evaluate(f))}],typeof:[sr,[or],(f,[l])=>Ir(zi(l.evaluate(f)))],"to-rgba":[Ns(rn,4),[La],(f,[l])=>{const[h,_,w,T]=l.evaluate(f).rgb;return[255*h,255*_,255*w,T]}],rgb:[La,[rn,rn,rn],Cv],rgba:[La,[rn,rn,rn,rn],Cv],has:{type:fr,overloads:[[[sr],(f,[l])=>Py(l.evaluate(f),f.properties())],[[sr,_c],(f,[l,h])=>Py(l.evaluate(f),h.evaluate(f))]]},get:{type:or,overloads:[[[sr],(f,[l])=>Ba(l.evaluate(f),f.properties())],[[sr,_c],(f,[l,h])=>Ba(l.evaluate(f),h.evaluate(f))]]},"feature-state":[or,[sr],(f,[l])=>Ba(l.evaluate(f),f.featureState||{})],properties:[_c,[],f=>f.properties()],"geometry-type":[sr,[],f=>f.geometryType()],id:[or,[],f=>f.id()],zoom:[rn,[],f=>f.globals.zoom],"heatmap-density":[rn,[],f=>f.globals.heatmapDensity||0],elevation:[rn,[],f=>f.globals.elevation||0],"line-progress":[rn,[],f=>f.globals.lineProgress||0],accumulated:[or,[],f=>f.globals.accumulated===void 0?null:f.globals.accumulated],"+":[rn,kc(rn),(f,l)=>{let h=0;for(const _ of l)h+=_.evaluate(f);return h}],"*":[rn,kc(rn),(f,l)=>{let h=1;for(const _ of l)h*=_.evaluate(f);return h}],"-":{type:rn,overloads:[[[rn,rn],(f,[l,h])=>l.evaluate(f)-h.evaluate(f)],[[rn],(f,[l])=>-l.evaluate(f)]]},"/":[rn,[rn,rn],(f,[l,h])=>l.evaluate(f)/h.evaluate(f)],"%":[rn,[rn,rn],(f,[l,h])=>l.evaluate(f)%h.evaluate(f)],ln2:[rn,[],()=>Math.LN2],pi:[rn,[],()=>Math.PI],e:[rn,[],()=>Math.E],"^":[rn,[rn,rn],(f,[l,h])=>Math.pow(l.evaluate(f),h.evaluate(f))],sqrt:[rn,[rn],(f,[l])=>Math.sqrt(l.evaluate(f))],log10:[rn,[rn],(f,[l])=>Math.log(l.evaluate(f))/Math.LN10],ln:[rn,[rn],(f,[l])=>Math.log(l.evaluate(f))],log2:[rn,[rn],(f,[l])=>Math.log(l.evaluate(f))/Math.LN2],sin:[rn,[rn],(f,[l])=>Math.sin(l.evaluate(f))],cos:[rn,[rn],(f,[l])=>Math.cos(l.evaluate(f))],tan:[rn,[rn],(f,[l])=>Math.tan(l.evaluate(f))],asin:[rn,[rn],(f,[l])=>Math.asin(l.evaluate(f))],acos:[rn,[rn],(f,[l])=>Math.acos(l.evaluate(f))],atan:[rn,[rn],(f,[l])=>Math.atan(l.evaluate(f))],min:[rn,kc(rn),(f,l)=>Math.min(...l.map((h=>h.evaluate(f))))],max:[rn,kc(rn),(f,l)=>Math.max(...l.map((h=>h.evaluate(f))))],abs:[rn,[rn],(f,[l])=>Math.abs(l.evaluate(f))],round:[rn,[rn],(f,[l])=>{const h=l.evaluate(f);return h<0?-Math.round(-h):Math.round(h)}],floor:[rn,[rn],(f,[l])=>Math.floor(l.evaluate(f))],ceil:[rn,[rn],(f,[l])=>Math.ceil(l.evaluate(f))],"filter-==":[fr,[sr,or],(f,[l,h])=>f.properties()[l.value]===h.value],"filter-id-==":[fr,[or],(f,[l])=>f.id()===l.value],"filter-type-==":[fr,[sr],(f,[l])=>f.geometryType()===l.value],"filter-<":[fr,[sr,or],(f,[l,h])=>{const _=f.properties()[l.value],w=h.value;return typeof _==typeof w&&_<w}],"filter-id-<":[fr,[or],(f,[l])=>{const h=f.id(),_=l.value;return typeof h==typeof _&&h<_}],"filter->":[fr,[sr,or],(f,[l,h])=>{const _=f.properties()[l.value],w=h.value;return typeof _==typeof w&&_>w}],"filter-id->":[fr,[or],(f,[l])=>{const h=f.id(),_=l.value;return typeof h==typeof _&&h>_}],"filter-<=":[fr,[sr,or],(f,[l,h])=>{const _=f.properties()[l.value],w=h.value;return typeof _==typeof w&&_<=w}],"filter-id-<=":[fr,[or],(f,[l])=>{const h=f.id(),_=l.value;return typeof h==typeof _&&h<=_}],"filter->=":[fr,[sr,or],(f,[l,h])=>{const _=f.properties()[l.value],w=h.value;return typeof _==typeof w&&_>=w}],"filter-id->=":[fr,[or],(f,[l])=>{const h=f.id(),_=l.value;return typeof h==typeof _&&h>=_}],"filter-has":[fr,[or],(f,[l])=>l.value in f.properties()],"filter-has-id":[fr,[],f=>f.id()!==null&&f.id()!==void 0],"filter-type-in":[fr,[Ns(sr)],(f,[l])=>l.value.indexOf(f.geometryType())>=0],"filter-id-in":[fr,[Ns(or)],(f,[l])=>l.value.indexOf(f.id())>=0],"filter-in-small":[fr,[sr,Ns(or)],(f,[l,h])=>h.value.indexOf(f.properties()[l.value])>=0],"filter-in-large":[fr,[sr,Ns(or)],(f,[l,h])=>(function(_,w,T,k){for(;T<=k;){const D=T+k>>1;if(w[D]===_)return!0;w[D]>_?k=D-1:T=D+1}return!1})(f.properties()[l.value],h.value,0,h.value.length-1)],all:{type:fr,overloads:[[[fr,fr],(f,[l,h])=>l.evaluate(f)&&h.evaluate(f)],[kc(fr),(f,l)=>{for(const h of l)if(!h.evaluate(f))return!1;return!0}]]},any:{type:fr,overloads:[[[fr,fr],(f,[l,h])=>l.evaluate(f)||h.evaluate(f)],[kc(fr),(f,l)=>{for(const h of l)if(h.evaluate(f))return!0;return!1}]]},"!":[fr,[fr],(f,[l])=>!l.evaluate(f)],"is-supported-script":[fr,[sr],(f,[l])=>{const h=f.globals&&f.globals.isSupportedScript;return!h||h(l.evaluate(f))}],upcase:[sr,[sr],(f,[l])=>l.evaluate(f).toUpperCase()],downcase:[sr,[sr],(f,[l])=>l.evaluate(f).toLowerCase()],concat:[sr,kc(or),(f,l)=>l.map((h=>gh(h.evaluate(f)))).join("")],"resolved-locale":[sr,[_d],(f,[l])=>l.evaluate(f).resolvedLocale()]});class Dy{constructor(l,h,_){this.expression=l,this._warningHistory={},this._evaluator=new Sd,this._defaultValue=h?(function(w){if(w.type==="color"&&My(w.default))return new ur(0,0,0,0);switch(w.type){case"color":return ur.parse(w.default)||null;case"padding":return Do.parse(w.default)||null;case"numberArray":return $i.parse(w.default)||null;case"colorArray":return Qn.parse(w.default)||null;case"variableAnchorOffsetCollection":return so.parse(w.default)||null;case"projectionDefinition":return Ko.parse(w.default)||null;default:return w.default===void 0?null:w.default}})(h):null,this._enumValues=h&&h.type==="enum"?h.values:null,this._globalState=_}evaluateWithoutErrorHandling(l,h,_,w,T,k){return this._globalState&&(l=ls(l,this._globalState)),this._evaluator.globals=l,this._evaluator.feature=h,this._evaluator.featureState=_,this._evaluator.canonical=w,this._evaluator.availableImages=T||null,this._evaluator.formattedSection=k,this.expression.evaluate(this._evaluator)}evaluate(l,h,_,w,T,k){this._globalState&&(l=ls(l,this._globalState)),this._evaluator.globals=l,this._evaluator.feature=h||null,this._evaluator.featureState=_||null,this._evaluator.canonical=w,this._evaluator.availableImages=T||null,this._evaluator.formattedSection=k||null;try{const D=this.expression.evaluate(this._evaluator);if(D==null||typeof D=="number"&&D!=D)return this._defaultValue;if(this._enumValues&&!(D in this._enumValues))throw new hi(`Expected value to be one of ${Object.keys(this._enumValues).map((B=>JSON.stringify(B))).join(", ")}, but found ${JSON.stringify(D)} instead.`);return D}catch(D){return this._warningHistory[D.message]||(this._warningHistory[D.message]=!0,typeof console<"u"&&console.warn(D.message)),this._defaultValue}}}function Th(f){return Array.isArray(f)&&f.length>0&&typeof f[0]=="string"&&f[0]in tp}function rp(f,l,h){const _=new Cd(tp,ha,[],l?(function(T){const k={color:La,string:sr,number:rn,enum:sr,boolean:fr,formatted:xc,padding:fu,numberArray:wc,colorArray:bc,projectionDefinition:yy,resolvedImage:oo,variableAnchorOffsetCollection:Vf};return T.type==="array"?Ns(k[T.value]||or,T.length):k[T.type]})(l):void 0),w=_.parse(f,void 0,void 0,void 0,l&&l.type==="string"?{typeAnnotation:"coerce"}:void 0);return w?Wm(new Dy(w,l,h)):Sh(_.errors)}class da{constructor(l,h,_){this.kind=l,this._styleExpression=h,this.isStateDependent=l!=="constant"&&!Rd(h.expression),this.globalStateRefs=Jo(h.expression),this._globalState=_}evaluateWithoutErrorHandling(l,h,_,w,T,k){return this._globalState&&(l=ls(l,this._globalState)),this._styleExpression.evaluateWithoutErrorHandling(l,h,_,w,T,k)}evaluate(l,h,_,w,T,k){return this._globalState&&(l=ls(l,this._globalState)),this._styleExpression.evaluate(l,h,_,w,T,k)}}class kh{constructor(l,h,_,w,T){this.kind=l,this.zoomStops=_,this._styleExpression=h,this.isStateDependent=l!=="camera"&&!Rd(h.expression),this.globalStateRefs=Jo(h.expression),this.interpolationType=w,this._globalState=T}evaluateWithoutErrorHandling(l,h,_,w,T,k){return this._globalState&&(l=ls(l,this._globalState)),this._styleExpression.evaluateWithoutErrorHandling(l,h,_,w,T,k)}evaluate(l,h,_,w,T,k){return this._globalState&&(l=ls(l,this._globalState)),this._styleExpression.evaluate(l,h,_,w,T,k)}interpolationFactor(l,h,_){return this.interpolationType?ua.interpolationFactor(this.interpolationType,l,h,_):0}}function Eh(f,l,h){const _=rp(f,l,h);if(_.result==="error")return _;const w=_.value.expression,T=gu(w);if(!T&&!ml(l))return Sh([new zs("","data expressions not supported")]);const k=Id(w,["zoom"]);if(!k&&!Tv(l))return Sh([new zs("","zoom expressions not supported")]);const D=Ah(w);return D||k?D instanceof zs?Sh([D]):D instanceof ua&&!np(l)?Sh([new zs("",'"interpolate" expressions cannot be used with this property')]):Wm(D?new kh(T?"camera":"composite",_.value,D.labels,D instanceof ua?D.interpolation:void 0,h):new da(T?"constant":"source",_.value,h)):Sh([new zs("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Dd{constructor(l,h){this._parameters=l,this._specification=h,$s(this,Ry(this._parameters,this._specification))}static deserialize(l){return new Dd(l._parameters,l._specification)}static serialize(l){return{_parameters:l._parameters,_specification:l._specification}}}function Ah(f){let l=null;if(f instanceof ii)l=Ah(f.result);else if(f instanceof kd){for(const h of f.args)if(l=Ah(h),l)break}else(f instanceof _h||f instanceof ua)&&f.input instanceof Na&&f.input.name==="zoom"&&(l=f);return l instanceof zs||f.eachChild((h=>{const _=Ah(h);_ instanceof zs?l=_:!l&&_?l=new zs("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):l&&_&&l!==_&&(l=new zs("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),l}function Jo(f,l=new Set){return f instanceof qm&&l.add(f.key),f.eachChild((h=>{Jo(h,l)})),l}function ls(f,l){const{zoom:h,heatmapDensity:_,elevation:w,lineProgress:T,isSupportedScript:k,accumulated:D}=f??{};return{zoom:h,heatmapDensity:_,elevation:w,lineProgress:T,isSupportedScript:k,accumulated:D,globalState:l}}function Ec(f){if(f===!0||f===!1)return!0;if(!Array.isArray(f)||f.length===0)return!1;switch(f[0]){case"has":return f.length>=2&&f[1]!=="$id"&&f[1]!=="$type";case"in":return f.length>=3&&(typeof f[1]!="string"||Array.isArray(f[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return f.length!==3||Array.isArray(f[1])||Array.isArray(f[2]);case"any":case"all":for(const l of f.slice(1))if(!Ec(l)&&typeof l!="boolean")return!1;return!0;default:return!0}}const Ac={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function _a(f,l){if(f==null)return{filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set};Ec(f)||(f=Ld(f));const h=rp(f,Ac,l);if(h.result==="error")throw new Error(h.value.map((_=>`${_.key}: ${_.message}`)).join(", "));return{filter:(_,w,T)=>h.value.evaluate(_,w,{},T),needGeometry:Ev(f),getGlobalStateRefs:()=>Jo(h.value.expression)}}function yu(f,l){return f<l?-1:f>l?1:0}function Ev(f){if(!Array.isArray(f))return!1;if(f[0]==="within"||f[0]==="distance")return!0;for(let l=1;l<f.length;l++)if(Ev(f[l]))return!0;return!1}function Ld(f){if(!f)return!0;const l=f[0];return f.length<=1?l!=="any":l==="=="?ip(f[1],f[2],"=="):l==="!="?di(ip(f[1],f[2],"==")):l==="<"||l===">"||l==="<="||l===">="?ip(f[1],f[2],l):l==="any"?(h=f.slice(1),["any"].concat(h.map(Ld))):l==="all"?["all"].concat(f.slice(1).map(Ld)):l==="none"?["all"].concat(f.slice(1).map(Ld).map(di)):l==="in"?Av(f[1],f.slice(2)):l==="!in"?di(Av(f[1],f.slice(2))):l==="has"?cs(f[1]):l!=="!has"||di(cs(f[1]));var h}function ip(f,l,h){switch(f){case"$type":return[`filter-type-${h}`,l];case"$id":return[`filter-id-${h}`,l];default:return[`filter-${h}`,f,l]}}function Av(f,l){if(l.length===0)return!1;switch(f){case"$type":return["filter-type-in",["literal",l]];case"$id":return["filter-id-in",["literal",l]];default:return l.length>200&&!l.some((h=>typeof h!=typeof l[0]))?["filter-in-large",f,["literal",l.sort(yu)]]:["filter-in-small",f,["literal",l]]}}function cs(f){switch(f){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",f]}}function di(f){return["!",f]}function Er(f){const l=typeof f;if(l==="number"||l==="boolean"||l==="string"||f==null)return JSON.stringify(f);if(Array.isArray(f)){let w="[";for(const T of f)w+=`${Er(T)},`;return`${w}]`}const h=Object.keys(f).sort();let _="{";for(let w=0;w<h.length;w++)_+=`${JSON.stringify(h[w])}:${Er(f[h[w]])},`;return`${_}}`}function vu(f){let l="";for(const h of qr)l+=`/${Er(f[h])}`;return l}function Va(f){const l=f.value;return l?[new Kt(f.key,l,"constants have been deprecated as of v8")]:[]}function Hi(f){return f instanceof Number||f instanceof String||f instanceof Boolean?f.valueOf():f}function xa(f){if(Array.isArray(f))return f.map(xa);if(f instanceof Object&&!(f instanceof Number||f instanceof String||f instanceof Boolean)){const l={};for(const h in f)l[h]=xa(f[h]);return l}return Hi(f)}function ba(f){const l=f.key,h=f.value,_=f.valueSpec||{},w=f.objectElementValidators||{},T=f.style,k=f.styleSpec,D=f.validateSpec;let B=[];const Z=lr(h);if(Z!=="object")return[new Kt(l,h,`object expected, ${Z} found`)];for(const X in h){const ee=X.split(".")[0],oe=Zf(_,ee)||_["*"];let le;if(Zf(w,ee))le=w[ee];else if(Zf(_,ee)){if(h[X]===void 0)continue;le=D}else if(w["*"])le=w["*"];else{if(!_["*"]){B.push(new Kt(l,h[X],`unknown property "${X}"`));continue}le=D}B=B.concat(le({key:(l&&`${l}.`)+X,value:h[X],valueSpec:oe,style:T,styleSpec:k,object:h,objectKey:X,validateSpec:D},h))}for(const X in _)w[X]||_[X].required&&_[X].default===void 0&&h[X]===void 0&&B.push(new Kt(l,h,`missing required property "${X}"`));return B}function Hm(f){const l=f.value,h=f.valueSpec,_=f.style,w=f.styleSpec,T=f.key,k=f.arrayElementValidator||f.validateSpec;if(lr(l)!=="array")return[new Kt(T,l,`array expected, ${lr(l)} found`)];if(h.length&&l.length!==h.length)return[new Kt(T,l,`array length ${h.length} expected, length ${l.length} found`)];let D={type:h.value,values:h.values};w.$version<7&&(D.function=h.function),lr(h.value)==="object"&&(D=h.value);let B=[];for(let Z=0;Z<l.length;Z++)B=B.concat(k({array:l,arrayIndex:Z,value:l[Z],valueSpec:D,validateSpec:f.validateSpec,style:_,styleSpec:w,key:`${T}[${Z}]`}));return B}function Pc(f){const l=f.key,h=f.value,_=f.valueSpec;let w=lr(h);return w==="number"&&h!=h&&(w="NaN"),w!=="number"?[new Kt(l,h,`number expected, ${w} found`)]:"minimum"in _&&h<_.minimum?[new Kt(l,h,`${h} is less than the minimum value ${_.minimum}`)]:"maximum"in _&&h>_.maximum?[new Kt(l,h,`${h} is greater than the maximum value ${_.maximum}`)]:[]}function Mc(f){const l=f.valueSpec,h=Hi(f.value.type);let _,w,T,k={};const D=h!=="categorical"&&f.value.property===void 0,B=!D,Z=lr(f.value.stops)==="array"&&lr(f.value.stops[0])==="array"&&lr(f.value.stops[0][0])==="object",X=ba({key:f.key,value:f.value,valueSpec:f.styleSpec.function,validateSpec:f.validateSpec,style:f.style,styleSpec:f.styleSpec,objectElementValidators:{stops:function(le){if(h==="identity")return[new Kt(le.key,le.value,'identity function may not have a "stops" property')];let fe=[];const ge=le.value;return fe=fe.concat(Hm({key:le.key,value:ge,valueSpec:le.valueSpec,validateSpec:le.validateSpec,style:le.style,styleSpec:le.styleSpec,arrayElementValidator:ee})),lr(ge)==="array"&&ge.length===0&&fe.push(new Kt(le.key,ge,"array must have at least one stop")),fe},default:function(le){return le.validateSpec({key:le.key,value:le.value,valueSpec:l,validateSpec:le.validateSpec,style:le.style,styleSpec:le.styleSpec})}}});return h==="identity"&&D&&X.push(new Kt(f.key,f.value,'missing required property "property"')),h==="identity"||f.value.stops||X.push(new Kt(f.key,f.value,'missing required property "stops"')),h==="exponential"&&f.valueSpec.expression&&!np(f.valueSpec)&&X.push(new Kt(f.key,f.value,"exponential functions not supported")),f.styleSpec.$version>=8&&(B&&!ml(f.valueSpec)?X.push(new Kt(f.key,f.value,"property functions not supported")):D&&!Tv(f.valueSpec)&&X.push(new Kt(f.key,f.value,"zoom functions not supported"))),h!=="categorical"&&!Z||f.value.property!==void 0||X.push(new Kt(f.key,f.value,'"property" property is required')),X;function ee(le){let fe=[];const ge=le.value,ve=le.key;if(lr(ge)!=="array")return[new Kt(ve,ge,`array expected, ${lr(ge)} found`)];if(ge.length!==2)return[new Kt(ve,ge,`array length 2 expected, length ${ge.length} found`)];if(Z){if(lr(ge[0])!=="object")return[new Kt(ve,ge,`object expected, ${lr(ge[0])} found`)];if(ge[0].zoom===void 0)return[new Kt(ve,ge,"object stop key must have zoom")];if(ge[0].value===void 0)return[new Kt(ve,ge,"object stop key must have value")];if(T&&T>Hi(ge[0].zoom))return[new Kt(ve,ge[0].zoom,"stop zoom values must appear in ascending order")];Hi(ge[0].zoom)!==T&&(T=Hi(ge[0].zoom),w=void 0,k={}),fe=fe.concat(ba({key:`${ve}[0]`,value:ge[0],valueSpec:{zoom:{}},validateSpec:le.validateSpec,style:le.style,styleSpec:le.styleSpec,objectElementValidators:{zoom:Pc,value:oe}}))}else fe=fe.concat(oe({key:`${ve}[0]`,value:ge[0],validateSpec:le.validateSpec,style:le.style,styleSpec:le.styleSpec},ge));return Th(xa(ge[1]))?fe.concat([new Kt(`${ve}[1]`,ge[1],"expressions are not allowed in function stops.")]):fe.concat(le.validateSpec({key:`${ve}[1]`,value:ge[1],valueSpec:l,validateSpec:le.validateSpec,style:le.style,styleSpec:le.styleSpec}))}function oe(le,fe){const ge=lr(le.value),ve=Hi(le.value),Te=le.value!==null?le.value:fe;if(_){if(ge!==_)return[new Kt(le.key,Te,`${ge} stop domain type must match previous stop domain type ${_}`)]}else _=ge;if(ge!=="number"&&ge!=="string"&&ge!=="boolean")return[new Kt(le.key,Te,"stop domain value must be a number, string, or boolean")];if(ge!=="number"&&h!=="categorical"){let Ve=`number expected, ${ge} found`;return ml(l)&&h===void 0&&(Ve+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Kt(le.key,Te,Ve)]}return h!=="categorical"||ge!=="number"||isFinite(ve)&&Math.floor(ve)===ve?h!=="categorical"&&ge==="number"&&w!==void 0&&ve<w?[new Kt(le.key,Te,"stop domain values must appear in ascending order")]:(w=ve,h==="categorical"&&ve in k?[new Kt(le.key,Te,"stop domain values must be unique")]:(k[ve]=!0,[])):[new Kt(le.key,Te,`integer expected, found ${ve}`)]}}function Rc(f){const l=(f.expressionContext==="property"?Eh:rp)(xa(f.value),f.valueSpec);if(l.result==="error")return l.value.map((_=>new Kt(`${f.key}${_.key}`,f.value,_.message)));const h=l.value.expression||l.value._styleExpression.expression;if(f.expressionContext==="property"&&f.propertyKey==="text-font"&&!h.outputDefined())return[new Kt(f.key,f.value,`Invalid data expression for "${f.propertyKey}". Output values must be contained as literals within the expression.`)];if(f.expressionContext==="property"&&f.propertyType==="layout"&&!Rd(h))return[new Kt(f.key,f.value,'"feature-state" data expressions are not supported with layout properties.')];if(f.expressionContext==="filter"&&!Rd(h))return[new Kt(f.key,f.value,'"feature-state" data expressions are not supported with filters.')];if(f.expressionContext&&f.expressionContext.indexOf("cluster")===0){if(!Id(h,["zoom","feature-state"]))return[new Kt(f.key,f.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(f.expressionContext==="cluster-initial"&&!gu(h))return[new Kt(f.key,f.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function _u(f){const l=f.key,h=f.value,_=lr(h);return _!=="string"?[new Kt(l,h,`color expected, ${_} found`)]:ur.parse(String(h))?[]:[new Kt(l,h,`color expected, "${h}" found`)]}function xu(f){const l=f.key,h=f.value,_=f.valueSpec,w=[];return Array.isArray(_.values)?_.values.indexOf(Hi(h))===-1&&w.push(new Kt(l,h,`expected one of [${_.values.join(", ")}], ${JSON.stringify(h)} found`)):Object.keys(_.values).indexOf(Hi(h))===-1&&w.push(new Kt(l,h,`expected one of [${Object.keys(_.values).join(", ")}], ${JSON.stringify(h)} found`)),w}function gl(f){return Ec(xa(f.value))?Rc($s({},f,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Ic(f)}function Ic(f){const l=f.value,h=f.key;if(lr(l)!=="array")return[new Kt(h,l,`array expected, ${lr(l)} found`)];const _=f.styleSpec;let w,T=[];if(l.length<1)return[new Kt(h,l,"filter array must have at least 1 element")];switch(T=T.concat(xu({key:`${h}[0]`,value:l[0],valueSpec:_.filter_operator,style:f.style,styleSpec:f.styleSpec})),Hi(l[0])){case"<":case"<=":case">":case">=":l.length>=2&&Hi(l[1])==="$type"&&T.push(new Kt(h,l,`"$type" cannot be use with operator "${l[0]}"`));case"==":case"!=":l.length!==3&&T.push(new Kt(h,l,`filter array for operator "${l[0]}" must have 3 elements`));case"in":case"!in":l.length>=2&&(w=lr(l[1]),w!=="string"&&T.push(new Kt(`${h}[1]`,l[1],`string expected, ${w} found`)));for(let k=2;k<l.length;k++)w=lr(l[k]),Hi(l[1])==="$type"?T=T.concat(xu({key:`${h}[${k}]`,value:l[k],valueSpec:_.geometry_type,style:f.style,styleSpec:f.styleSpec})):w!=="string"&&w!=="number"&&w!=="boolean"&&T.push(new Kt(`${h}[${k}]`,l[k],`string, number, or boolean expected, ${w} found`));break;case"any":case"all":case"none":for(let k=1;k<l.length;k++)T=T.concat(Ic({key:`${h}[${k}]`,value:l[k],style:f.style,styleSpec:f.styleSpec}));break;case"has":case"!has":w=lr(l[1]),l.length!==2?T.push(new Kt(h,l,`filter array for "${l[0]}" operator must have 2 elements`)):w!=="string"&&T.push(new Kt(`${h}[1]`,l[1],`string expected, ${w} found`))}return T}function bu(f,l){const h=f.key,_=f.validateSpec,w=f.style,T=f.styleSpec,k=f.value,D=f.objectKey,B=T[`${l}_${f.layerType}`];if(!B)return[];const Z=D.match(/^(.*)-transition$/);if(l==="paint"&&Z&&B[Z[1]]&&B[Z[1]].transition)return _({key:h,value:k,valueSpec:T.transition,style:w,styleSpec:T});const X=f.valueSpec||B[D];if(!X)return[new Kt(h,k,`unknown property "${D}"`)];let ee;if(lr(k)==="string"&&ml(X)&&!X.tokens&&(ee=/^{([^}]+)}$/.exec(k)))return[new Kt(h,k,`"${D}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(ee[1])} }\`.`)];const oe=[];return f.layerType==="symbol"&&D==="text-font"&&My(xa(k))&&Hi(k.type)==="identity"&&oe.push(new Kt(h,k,'"text-font" does not support identity functions')),oe.concat(_({key:f.key,value:k,valueSpec:X,style:w,styleSpec:T,expressionContext:"property",propertyType:l,propertyKey:D}))}function Dc(f){return bu(f,"paint")}function Ly(f){return bu(f,"layout")}function $y(f){let l=[];const h=f.value,_=f.key,w=f.style,T=f.styleSpec;if(lr(h)!=="object")return[new Kt(_,h,`object expected, ${lr(h)} found`)];h.type||h.ref||l.push(new Kt(_,h,'either "type" or "ref" is required'));let k=Hi(h.type);const D=Hi(h.ref);if(h.id){const B=Hi(h.id);for(let Z=0;Z<f.arrayIndex;Z++){const X=w.layers[Z];Hi(X.id)===B&&l.push(new Kt(_,h.id,`duplicate layer id "${h.id}", previously used at line ${X.id.__line__}`))}}if("ref"in h){let B;["type","source","source-layer","filter","layout"].forEach((Z=>{Z in h&&l.push(new Kt(_,h[Z],`"${Z}" is prohibited for ref layers`))})),w.layers.forEach((Z=>{Hi(Z.id)===D&&(B=Z)})),B?B.ref?l.push(new Kt(_,h.ref,"ref cannot reference another ref layer")):k=Hi(B.type):l.push(new Kt(_,h.ref,`ref layer "${D}" not found`))}else if(k!=="background")if(h.source){const B=w.sources&&w.sources[h.source],Z=B&&Hi(B.type);B?Z==="vector"&&k==="raster"?l.push(new Kt(_,h.source,`layer "${h.id}" requires a raster source`)):Z!=="raster-dem"&&k==="hillshade"||Z!=="raster-dem"&&k==="color-relief"?l.push(new Kt(_,h.source,`layer "${h.id}" requires a raster-dem source`)):Z==="raster"&&k!=="raster"?l.push(new Kt(_,h.source,`layer "${h.id}" requires a vector source`)):Z!=="vector"||h["source-layer"]?Z==="raster-dem"&&k!=="hillshade"&&k!=="color-relief"?l.push(new Kt(_,h.source,"raster-dem source can only be used with layer type 'hillshade' or 'color-relief'.")):k!=="line"||!h.paint||!h.paint["line-gradient"]||Z==="geojson"&&B.lineMetrics||l.push(new Kt(_,h,`layer "${h.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):l.push(new Kt(_,h,`layer "${h.id}" must specify a "source-layer"`)):l.push(new Kt(_,h.source,`source "${h.source}" not found`))}else l.push(new Kt(_,h,'missing required property "source"'));return l=l.concat(ba({key:_,value:h,valueSpec:T.layer,style:f.style,styleSpec:f.styleSpec,validateSpec:f.validateSpec,objectElementValidators:{"*":()=>[],type:()=>f.validateSpec({key:`${_}.type`,value:h.type,valueSpec:T.layer.type,style:f.style,styleSpec:f.styleSpec,validateSpec:f.validateSpec,object:h,objectKey:"type"}),filter:gl,layout:B=>ba({layer:h,key:B.key,value:B.value,style:B.style,styleSpec:B.styleSpec,validateSpec:B.validateSpec,objectElementValidators:{"*":Z=>Ly($s({layerType:k},Z))}}),paint:B=>ba({layer:h,key:B.key,value:B.value,style:B.style,styleSpec:B.styleSpec,validateSpec:B.validateSpec,objectElementValidators:{"*":Z=>Dc($s({layerType:k},Z))}})}})),l}function Qa(f){const l=f.value,h=f.key,_=lr(l);return _!=="string"?[new Kt(h,l,`string expected, ${_} found`)]:[]}const op={promoteId:function({key:f,value:l}){if(lr(l)==="string")return Qa({key:f,value:l});{const h=[];for(const _ in l)h.push(...Qa({key:`${f}.${_}`,value:l[_]}));return h}}};function wu(f){const l=f.value,h=f.key,_=f.styleSpec,w=f.style,T=f.validateSpec;if(!l.type)return[new Kt(h,l,'"type" is required')];const k=Hi(l.type);let D;switch(k){case"vector":case"raster":return D=ba({key:h,value:l,valueSpec:_[`source_${k.replace("-","_")}`],style:f.style,styleSpec:_,objectElementValidators:op,validateSpec:T}),D;case"raster-dem":return D=(function(B){var Z;const X=(Z=B.sourceName)!==null&&Z!==void 0?Z:"",ee=B.value,oe=B.styleSpec,le=oe.source_raster_dem,fe=B.style;let ge=[];const ve=lr(ee);if(ee===void 0)return ge;if(ve!=="object")return ge.push(new Kt("source_raster_dem",ee,`object expected, ${ve} found`)),ge;const Te=Hi(ee.encoding)==="custom",Ve=["redFactor","greenFactor","blueFactor","baseShift"],Ee=B.value.encoding?`"${B.value.encoding}"`:"Default";for(const Re in ee)!Te&&Ve.includes(Re)?ge.push(new Kt(Re,ee[Re],`In "${X}": "${Re}" is only valid when "encoding" is set to "custom". ${Ee} encoding found`)):le[Re]?ge=ge.concat(B.validateSpec({key:Re,value:ee[Re],valueSpec:le[Re],validateSpec:B.validateSpec,style:fe,styleSpec:oe})):ge.push(new Kt(Re,ee[Re],`unknown property "${Re}"`));return ge})({sourceName:h,value:l,style:f.style,styleSpec:_,validateSpec:T}),D;case"geojson":if(D=ba({key:h,value:l,valueSpec:_.source_geojson,style:w,styleSpec:_,validateSpec:T,objectElementValidators:op}),l.cluster)for(const B in l.clusterProperties){const[Z,X]=l.clusterProperties[B],ee=typeof Z=="string"?[Z,["accumulated"],["get",B]]:Z;D.push(...Rc({key:`${h}.${B}.map`,value:X,expressionContext:"cluster-map"})),D.push(...Rc({key:`${h}.${B}.reduce`,value:ee,expressionContext:"cluster-reduce"}))}return D;case"video":return ba({key:h,value:l,valueSpec:_.source_video,style:w,validateSpec:T,styleSpec:_});case"image":return ba({key:h,value:l,valueSpec:_.source_image,style:w,validateSpec:T,styleSpec:_});case"canvas":return[new Kt(h,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return xu({key:`${h}.type`,value:l.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function Lo(f){const l=f.value,h=f.styleSpec,_=h.light,w=f.style;let T=[];const k=lr(l);if(l===void 0)return T;if(k!=="object")return T=T.concat([new Kt("light",l,`object expected, ${k} found`)]),T;for(const D in l){const B=D.match(/^(.*)-transition$/);T=T.concat(B&&_[B[1]]&&_[B[1]].transition?f.validateSpec({key:D,value:l[D],valueSpec:h.transition,validateSpec:f.validateSpec,style:w,styleSpec:h}):_[D]?f.validateSpec({key:D,value:l[D],valueSpec:_[D],validateSpec:f.validateSpec,style:w,styleSpec:h}):[new Kt(D,l[D],`unknown property "${D}"`)])}return T}function Gm(f){const l=f.value,h=f.styleSpec,_=h.sky,w=f.style,T=lr(l);if(l===void 0)return[];if(T!=="object")return[new Kt("sky",l,`object expected, ${T} found`)];let k=[];for(const D in l)k=k.concat(_[D]?f.validateSpec({key:D,value:l[D],valueSpec:_[D],style:w,styleSpec:h}):[new Kt(D,l[D],`unknown property "${D}"`)]);return k}function zy(f){const l=f.value,h=f.styleSpec,_=h.terrain,w=f.style;let T=[];const k=lr(l);if(l===void 0)return T;if(k!=="object")return T=T.concat([new Kt("terrain",l,`object expected, ${k} found`)]),T;for(const D in l)T=T.concat(_[D]?f.validateSpec({key:D,value:l[D],valueSpec:_[D],validateSpec:f.validateSpec,style:w,styleSpec:h}):[new Kt(D,l[D],`unknown property "${D}"`)]);return T}function Pv(f){let l=[];const h=f.value,_=f.key;if(Array.isArray(h)){const w=[],T=[];for(const k in h)h[k].id&&w.includes(h[k].id)&&l.push(new Kt(_,h,`all the sprites' ids must be unique, but ${h[k].id} is duplicated`)),w.push(h[k].id),h[k].url&&T.includes(h[k].url)&&l.push(new Kt(_,h,`all the sprites' URLs must be unique, but ${h[k].url} is duplicated`)),T.push(h[k].url),l=l.concat(ba({key:`${_}[${k}]`,value:h[k],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:f.validateSpec}));return l}return Qa({key:_,value:h})}function fb(f){return!!f&&f.constructor===Object}function Mv(f){return fb(f.value)?[]:[new Kt(f.key,f.value,`object expected, ${lr(f.value)} found`)]}const bo={"*":()=>[],array:Hm,boolean:function(f){const l=f.value,h=f.key,_=lr(l);return _!=="boolean"?[new Kt(h,l,`boolean expected, ${_} found`)]:[]},number:Pc,color:_u,constants:Va,enum:xu,filter:gl,function:Mc,layer:$y,object:ba,source:wu,light:Lo,sky:Gm,terrain:zy,projection:function(f){const l=f.value,h=f.styleSpec,_=h.projection,w=f.style,T=lr(l);if(l===void 0)return[];if(T!=="object")return[new Kt("projection",l,`object expected, ${T} found`)];let k=[];for(const D in l)k=k.concat(_[D]?f.validateSpec({key:D,value:l[D],valueSpec:_[D],style:w,styleSpec:h}):[new Kt(D,l[D],`unknown property "${D}"`)]);return k},projectionDefinition:function(f){const l=f.key;let h=f.value;h=h instanceof String?h.valueOf():h;const _=lr(h);return _!=="array"||(function(w){return Array.isArray(w)&&w.length===3&&typeof w[0]=="string"&&typeof w[1]=="string"&&typeof w[2]=="number"})(h)||(function(w){return!!["interpolate","step","literal"].includes(w[0])})(h)?["array","string"].includes(_)?[]:[new Kt(l,h,`projection expected, invalid type "${_}" found`)]:[new Kt(l,h,`projection expected, invalid array ${JSON.stringify(h)} found`)]},string:Qa,formatted:function(f){return Qa(f).length===0?[]:Rc(f)},resolvedImage:function(f){return Qa(f).length===0?[]:Rc(f)},padding:function(f){const l=f.key,h=f.value;if(lr(h)==="array"){if(h.length<1||h.length>4)return[new Kt(l,h,`padding requires 1 to 4 values; ${h.length} values found`)];const _={type:"number"};let w=[];for(let T=0;T<h.length;T++)w=w.concat(f.validateSpec({key:`${l}[${T}]`,value:h[T],validateSpec:f.validateSpec,valueSpec:_}));return w}return Pc({key:l,value:h,valueSpec:{}})},numberArray:function(f){const l=f.key,h=f.value;if(lr(h)==="array"){const _={type:"number"};if(h.length<1)return[new Kt(l,h,"array length at least 1 expected, length 0 found")];let w=[];for(let T=0;T<h.length;T++)w=w.concat(f.validateSpec({key:`${l}[${T}]`,value:h[T],validateSpec:f.validateSpec,valueSpec:_}));return w}return Pc({key:l,value:h,valueSpec:{}})},colorArray:function(f){const l=f.key,h=f.value;if(lr(h)==="array"){if(h.length<1)return[new Kt(l,h,"array length at least 1 expected, length 0 found")];let _=[];for(let w=0;w<h.length;w++)_=_.concat(_u({key:`${l}[${w}]`,value:h[w]}));return _}return _u({key:l,value:h})},variableAnchorOffsetCollection:function(f){const l=f.key,h=f.value,_=lr(h),w=f.styleSpec;if(_!=="array"||h.length<1||h.length%2!=0)return[new Kt(l,h,"variableAnchorOffsetCollection requires a non-empty array of even length")];let T=[];for(let k=0;k<h.length;k+=2)T=T.concat(xu({key:`${l}[${k}]`,value:h[k],valueSpec:w.layout_symbol["text-anchor"]})),T=T.concat(Hm({key:`${l}[${k+1}]`,value:h[k+1],valueSpec:{length:2,value:"number"},validateSpec:f.validateSpec,style:f.style,styleSpec:w}));return T},sprite:Pv,state:Mv,fontFaces:function(f){const l=f.key,h=f.value,_=f.validateSpec,w=f.styleSpec,T=f.style;if(!fb(h))return[new Kt(l,h,`object expected, ${lr(h)} found`)];const k=[];for(const D in h){const B=h[D],Z=lr(B);if(Z==="string")k.push(...Qa({key:`${l}.${D}`,value:B}));else if(Z==="array"){const X={url:{type:"string",required:!0},"unicode-range":{type:"array",value:"string"}};for(const[ee,oe]of B.entries())k.push(...ba({key:`${l}.${D}[${ee}]`,value:oe,valueSpec:X,styleSpec:w,style:T,validateSpec:_}))}else k.push(new Kt(`${l}.${D}`,B,`string or array expected, ${Z} found`))}return k}};function Lc(f){const l=f.value,h=f.valueSpec,_=f.styleSpec;return f.validateSpec=Lc,h.expression&&My(Hi(l))?Mc(f):h.expression&&Th(xa(l))?Rc(f):h.type&&bo[h.type]?bo[h.type](f):ba($s({},f,{valueSpec:h.type?_[h.type]:h}))}function sp(f){const l=f.value,h=f.key,_=Qa(f);return _.length||(l.indexOf("{fontstack}")===-1&&_.push(new Kt(h,l,'"glyphs" url must include a "{fontstack}" token')),l.indexOf("{range}")===-1&&_.push(new Kt(h,l,'"glyphs" url must include a "{range}" token'))),_}function Bs(f,l=ut){let h=[];return h=h.concat(Lc({key:"",value:f,valueSpec:l.$root,styleSpec:l,style:f,validateSpec:Lc,objectElementValidators:{glyphs:sp,"*":()=>[]}})),f.constants&&(h=h.concat(Va({key:"constants",value:f.constants}))),$d(h)}function Ua(f){return function(l){return f(Object.assign({},l,{validateSpec:Lc}))}}function $d(f){return[].concat(f).sort(((l,h)=>l.line-h.line))}function Fs(f){return function(...l){return $d(f.apply(this,l))}}Bs.source=Fs(Ua(wu)),Bs.sprite=Fs(Ua(Pv)),Bs.glyphs=Fs(Ua(sp)),Bs.light=Fs(Ua(Lo)),Bs.sky=Fs(Ua(Gm)),Bs.terrain=Fs(Ua(zy)),Bs.state=Fs(Ua(Mv)),Bs.layer=Fs(Ua($y)),Bs.filter=Fs(Ua(gl)),Bs.paintProperty=Fs(Ua(Dc)),Bs.layoutProperty=Fs(Ua(Ly));const hS={type:"enum","property-type":"data-constant",expression:{interpolated:!1,parameters:["global-state"]},values:{visible:{},none:{}},transition:!1,default:"visible"};class ap{constructor(l,h){this._globalState=h,this.setValue(l)}evaluate(){var l;return(l=this._literalValue)!==null&&l!==void 0?l:this._compiledValue.evaluate({})}setValue(l){if(l==null||l==="visible"||l==="none")return this._literalValue=l==="none"?"none":"visible",this._compiledValue=void 0,void(this._globalStateRefs=new Set);const h=rp(l,hS,this._globalState);if(h.result==="error")throw this._literalValue="visible",this._compiledValue=void 0,new Error(h.value.map((_=>`${_.key}: ${_.message}`)).join(", "));this._literalValue=void 0,this._compiledValue=h.value,this._globalStateRefs=Jo(h.value.expression)}getGlobalStateRefs(){return this._globalStateRefs}}const Xm=ut,es=Bs,Wl=es.light,Ny=es.sky,By=es.paintProperty,pb=es.layoutProperty;function Hl(f,l){let h=!1;if(l&&l.length)for(const _ of l)f.fire(new Ar(new Error(_.message))),h=!0;return h}class Ph{constructor(l,h,_){const w=this.cells=[];if(l instanceof ArrayBuffer){this.arrayBuffer=l;const k=new Int32Array(this.arrayBuffer);l=k[0],this.d=(h=k[1])+2*(_=k[2]);for(let B=0;B<this.d*this.d;B++){const Z=k[3+B],X=k[3+B+1];w.push(Z===X?null:k.subarray(Z,X))}const D=k[3+w.length+1];this.keys=k.subarray(k[3+w.length],D),this.bboxes=k.subarray(D),this.insert=this._insertReadonly}else{this.d=h+2*_;for(let k=0;k<this.d*this.d;k++)w.push([]);this.keys=[],this.bboxes=[]}this.n=h,this.extent=l,this.padding=_,this.scale=h/l,this.uid=0;const T=_/h*l;this.min=-T,this.max=l+T}insert(l,h,_,w,T){this._forEachCell(h,_,w,T,this._insertCell,this.uid++,void 0,void 0),this.keys.push(l),this.bboxes.push(h),this.bboxes.push(_),this.bboxes.push(w),this.bboxes.push(T)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(l,h,_,w,T,k){this.cells[T].push(k)}query(l,h,_,w,T){const k=this.min,D=this.max;if(l<=k&&h<=k&&D<=_&&D<=w&&!T)return Array.prototype.slice.call(this.keys);{const B=[];return this._forEachCell(l,h,_,w,this._queryCell,B,{},T),B}}_queryCell(l,h,_,w,T,k,D,B){const Z=this.cells[T];if(Z!==null){const X=this.keys,ee=this.bboxes;for(let oe=0;oe<Z.length;oe++){const le=Z[oe];if(D[le]===void 0){const fe=4*le;(B?B(ee[fe+0],ee[fe+1],ee[fe+2],ee[fe+3]):l<=ee[fe+2]&&h<=ee[fe+3]&&_>=ee[fe+0]&&w>=ee[fe+1])?(D[le]=!0,k.push(X[le])):D[le]=!1}}}}_forEachCell(l,h,_,w,T,k,D,B){const Z=this._convertToCellCoord(l),X=this._convertToCellCoord(h),ee=this._convertToCellCoord(_),oe=this._convertToCellCoord(w);for(let le=Z;le<=ee;le++)for(let fe=X;fe<=oe;fe++){const ge=this.d*fe+le;if((!B||B(this._convertFromCellCoord(le),this._convertFromCellCoord(fe),this._convertFromCellCoord(le+1),this._convertFromCellCoord(fe+1)))&&T.call(this,l,h,_,w,ge,k,D,B))return}}_convertFromCellCoord(l){return(l-this.padding)/this.scale}_convertToCellCoord(l){return Math.max(0,Math.min(this.d-1,Math.floor(l*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const l=this.cells,h=3+this.cells.length+1+1;let _=0;for(let k=0;k<this.cells.length;k++)_+=this.cells[k].length;const w=new Int32Array(h+_+this.keys.length+this.bboxes.length);w[0]=this.extent,w[1]=this.n,w[2]=this.padding;let T=h;for(let k=0;k<l.length;k++){const D=l[k];w[3+k]=T,w.set(D,T),T+=D.length}return w[3+l.length]=T,w.set(this.keys,T),T+=this.keys.length,w[3+l.length+1]=T,w.set(this.bboxes,T),T+=this.bboxes.length,w.buffer}static serialize(l,h){const _=l.toArrayBuffer();return h&&h.push(_),{buffer:_}}static deserialize(l){return new Ph(l.buffer)}}const wa={};function yn(f,l,h={}){if(wa[f])throw new Error(`${f} is already registered.`);Object.defineProperty(l,"_classRegistryKey",{value:f,writeable:!1}),wa[f]={klass:l,omit:h.omit||[],shallow:h.shallow||[]}}yn("Object",Object),yn("Set",Set),yn("TransferableGridIndex",Ph),yn("Color",ur),yn("Error",Error),yn("AJAXError",Ke),yn("ResolvedImage",aa),yn("StylePropertyFunction",Dd),yn("StyleExpression",Dy,{omit:["_evaluator"]}),yn("ZoomDependentExpression",kh),yn("ZoomConstantExpression",da),yn("CompoundExpression",Na,{omit:["_evaluate"]});for(const f in tp)tp[f]._classRegistryKey||yn(`Expression_${f}`,tp[f]);function Ym(f){return f&&typeof ArrayBuffer<"u"&&(f instanceof ArrayBuffer||f.constructor&&f.constructor.name==="ArrayBuffer")}function Fy(f){return f.$name||f.constructor._classRegistryKey}function yl(f){return!(function(l){if(l===null||typeof l!="object")return!1;const h=Fy(l);return!(!h||h==="Object")})(f)&&(f==null||typeof f=="boolean"||typeof f=="number"||typeof f=="string"||f instanceof Boolean||f instanceof Number||f instanceof String||f instanceof Date||f instanceof RegExp||f instanceof Blob||f instanceof Error||Ym(f)||Rn(f)||ArrayBuffer.isView(f)||f instanceof ImageData)}function Gl(f,l){if(yl(f))return(Ym(f)||Rn(f))&&l&&l.push(f),ArrayBuffer.isView(f)&&l&&l.push(f.buffer),f instanceof ImageData&&l&&l.push(f.data.buffer),f;if(Array.isArray(f)){const T=[];for(const k of f)T.push(Gl(k,l));return T}if(typeof f!="object")throw new Error("can't serialize object of type "+typeof f);const h=Fy(f);if(!h)throw new Error(`can't serialize object of unregistered class ${f.constructor.name}`);if(!wa[h])throw new Error(`${h} is not registered.`);const{klass:_}=wa[h],w=_.serialize?_.serialize(f,l):{};if(_.serialize){if(l&&w===l[l.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const T in f){if(!f.hasOwnProperty(T)||wa[h].omit.indexOf(T)>=0)continue;const k=f[T];w[T]=wa[h].shallow.indexOf(T)>=0?k:Gl(k,l)}f instanceof Error&&(w.message=f.message)}if(w.$name)throw new Error("$name property is reserved for worker serialization logic.");return h!=="Object"&&(w.$name=h),w}function lp(f){if(yl(f))return f;if(Array.isArray(f))return f.map(lp);if(typeof f!="object")throw new Error("can't deserialize object of type "+typeof f);const l=Fy(f)||"Object";if(!wa[l])throw new Error(`can't deserialize unregistered class ${l}`);const{klass:h}=wa[l];if(!h)throw new Error(`can't deserialize unregistered class ${l}`);if(h.deserialize)return h.deserialize(f);const _=Object.create(h.prototype);for(const w of Object.keys(f)){if(w==="$name")continue;const T=f[w];_[w]=wa[l].shallow.indexOf(w)>=0?T:lp(T)}return _}class jy{constructor(){this.first=!0}update(l,h){const _=Math.floor(l);return this.first?(this.first=!1,this.lastIntegerZoom=_,this.lastIntegerZoomTime=0,this.lastZoom=l,this.lastFloorZoom=_,!0):(this.lastFloorZoom>_?(this.lastIntegerZoom=_+1,this.lastIntegerZoomTime=h):this.lastFloorZoom<_&&(this.lastIntegerZoom=_,this.lastIntegerZoomTime=h),l!==this.lastZoom&&(this.lastZoom=l,this.lastFloorZoom=_,!0))}}function $c(f){return/[\u02EA\u02EB\u2E80-\u2FDF\u2FF0-\u303F\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FD-\u30FF\u3105-\u312F\u31A0-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uF900-\uFA6D\uFA70-\uFAD9\uFE10-\uFE1F\uFE30-\uFE4F\uFF00-\uFFEF]|\uD81B[\uDFE0-\uDFFF]|[\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFFF]|\uD82C[\uDC00-\uDEFB]|\uD83C[\uDE00-\uDEFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]/gim.test(String.fromCodePoint(f))}function zd(f){return/[\u02EA\u02EB\u1100-\u11FF\u1400-\u167F\u18B0-\u18F5\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u3007\u3012\u3013\u3020-\u302F\u3031-\u303F\u3041-\u3096\u309D-\u30FB\u30FD-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFE10-\uFE1F\uFE30-\uFE48\uFE50-\uFE57\uFE5F-\uFE62\uFE67-\uFE6F\uFF00-\uFF07\uFF0A-\uFF0C\uFF0E-\uFF19\uFF1F-\uFF3A\uFF3C\uFF3E\uFF40-\uFF5A\uFFE0-\uFFE2\uFFE4-\uFFE7]|\uD802[\uDD80-\uDD9F]|\uD805[\uDD80-\uDDFF]|\uD806[\uDE00-\uDEBF]|\uD811[\uDC00-\uDE7F]|\uD81B[\uDFE0-\uDFE4\uDFF0-\uDFF6]|[\uD81C-\uD822\uD83D\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD30-\uDEFB]|\uD833[\uDEC0-\uDFCF]|\uD834[\uDC00-\uDDFF\uDEE0-\uDF7F]|\uD836[\uDC00-\uDEAF]|\uD83C[\uDC00-\uDE00\uDF00-\uDFFF]|\uD83E[\uDD00-\uDEFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]/gim.test(String.fromCodePoint(f))}function Km(f){return/\s/u.test(String.fromCodePoint(f))}function zc(f){for(const l of f)if(zd(l.codePointAt(0)))return!0;return!1}function Vy(f){for(const l of f)if(!Rv(l.codePointAt(0)))return!1;return!0}function Jm(f){const l=f.map((h=>{try{return new RegExp(`\\p{sc=${h}}`,"u").source}catch{return null}})).filter((h=>h));return new RegExp(l.join("|"),"u")}const Nc=Jm(["Arab","Dupl","Mong","Ougr","Syrc"]);function Rv(f){return!Nc.test(String.fromCodePoint(f))}function Bc(f){return!(zd(f)||(l=f,/[\xA7\xA9\xAE\xB1\xBC-\xBE\xD7\xF7\u2016\u2020\u2021\u2030\u2031\u203B\u203C\u2042\u2047-\u2049\u2051\u2100-\u218F\u221E\u2234\u2235\u2300-\u2307\u230C-\u231F\u2324-\u2328\u232B\u237D-\u239A\u23BE-\u23CD\u23CF\u23D1-\u23DB\u23E2-\u2422\u2424-\u24FF\u25A0-\u2619\u2620-\u2767\u2776-\u2793\u2B12-\u2B2F\u2B50-\u2B59\u2BB8-\u2BEB\u3000-\u303F\u30A0-\u30FF\uE000-\uF8FF\uFE30-\uFE6F\uFF00-\uFFEF\uFFFC\uFFFD]|[\uDB80-\uDBFF][\uDC00-\uDFFF]/gim.test(String.fromCodePoint(l))));var l}const Qy=Jm(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function eg(f){return Qy.test(String.fromCodePoint(f))}function Fc(f,l){return!(!l&&eg(f)||/[\u0900-\u0DFF\u0F00-\u109F\u1780-\u17FF]/gim.test(String.fromCodePoint(f)))}function Ou(f){for(const l of f)if(eg(l.codePointAt(0)))return!0;return!1}const vl=new class{constructor(){this.TIMEOUT=5e3,this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null,this.loadScriptResolve=()=>{}}setState(f){this.pluginStatus=f.pluginStatus,this.pluginURL=f.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(f){if(vl.isParsed())throw new Error("RTL text plugin already registered.");this.applyArabicShaping=f.applyArabicShaping,this.processBidirectionalText=f.processBidirectionalText,this.processStyledBidirectionalText=f.processStyledBidirectionalText,this.loadScriptResolve()}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getRTLTextPluginStatus(){return this.pluginStatus}syncState(f,l){return s(this,void 0,void 0,(function*(){if(this.isParsed())return this.getState();if(f.pluginStatus!=="loading")return this.setState(f),f;const h=f.pluginURL,_=new Promise((T=>{this.loadScriptResolve=T}));l(h);const w=new Promise((T=>setTimeout((()=>T()),this.TIMEOUT)));if(yield Promise.race([_,w]),this.isParsed()){const T={pluginStatus:"loaded",pluginURL:h};return this.setState(T),T}throw this.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${h}`)}))}};class Kr{constructor(l,h){this.isSupportedScript=Iv,this.zoom=l,h?(this.now=h.now||0,this.fadeDuration=h.fadeDuration||0,this.zoomHistory=h.zoomHistory||new jy,this.transition=h.transition||{}):(this.now=0,this.fadeDuration=0,this.zoomHistory=new jy,this.transition={})}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const l=this.zoom,h=l-Math.floor(l),_=this.crossFadingFactor();return l>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:h+(1-h)*_}:{fromScale:.5,toScale:1,t:1-(1-_)*h}}}function Iv(f){return(function(l,h){for(const _ of l)if(!Fc(_.codePointAt(0),h))return!1;return!0})(f,vl.getRTLTextPluginStatus()==="loaded")}const Su="-transition";class Mh{constructor(l,h,_){this.property=l,this.value=h,this.expression=(function(w,T,k){if(My(w))return new Dd(w,T);if(Th(w)){const D=Eh(w,T,k);if(D.result==="error")throw new Error(D.value.map((B=>`${B.key}: ${B.message}`)).join(", "));return D.value}{let D=w;return T.type==="color"&&typeof w=="string"?D=ur.parse(w):T.type!=="padding"||typeof w!="number"&&!Array.isArray(w)?T.type!=="numberArray"||typeof w!="number"&&!Array.isArray(w)?T.type!=="colorArray"||typeof w!="string"&&!Array.isArray(w)?T.type==="variableAnchorOffsetCollection"&&Array.isArray(w)?D=so.parse(w):T.type==="projectionDefinition"&&typeof w=="string"&&(D=Ko.parse(w)):D=Qn.parse(w):D=$i.parse(w):D=Do.parse(w),{globalStateRefs:new Set,_globalState:null,kind:"constant",evaluate:()=>D}}})(h===void 0?l.specification.default:h,l.specification,_)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}getGlobalStateRefs(){return this.expression.globalStateRefs||new Set}possiblyEvaluate(l,h,_){return this.property.possiblyEvaluate(this,l,h,_)}}class tg{constructor(l,h){this.property=l,this.value=new Mh(l,void 0,h)}transitioned(l,h){return new Nd(this.property,this.value,h,vt({},l.transition,this.transition),l.now)}untransitioned(){return new Nd(this.property,this.value,null,{},0)}}class Uy{constructor(l,h){this._properties=l,this._values=Object.create(l.defaultTransitionablePropertyValues),this._globalState=h}getValue(l){return Ot(this._values[l].value.value)}setValue(l,h){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new tg(this._values[l].property,this._globalState)),this._values[l].value=new Mh(this._values[l].property,h===null?void 0:Ot(h),this._globalState)}getTransition(l){return Ot(this._values[l].transition)}setTransition(l,h){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new tg(this._values[l].property,this._globalState)),this._values[l].transition=Ot(h)||void 0}serialize(){const l={};for(const h of Object.keys(this._values)){const _=this.getValue(h);_!==void 0&&(l[h]=_);const w=this.getTransition(h);w!==void 0&&(l[`${h}${Su}`]=w)}return l}transitioned(l,h){const _=new ng(this._properties);for(const w of Object.keys(this._values))_._values[w]=this._values[w].transitioned(l,h._values[w]);return _}untransitioned(){const l=new ng(this._properties);for(const h of Object.keys(this._values))l._values[h]=this._values[h].untransitioned();return l}}class Nd{constructor(l,h,_,w,T){this.property=l,this.value=h,this.begin=T+w.delay||0,this.end=this.begin+w.duration||0,l.specification.transition&&(w.delay||w.duration)&&(this.prior=_)}possiblyEvaluate(l,h,_){const w=l.now||0,T=this.value.possiblyEvaluate(l,h,_),k=this.prior;if(k){if(w>this.end)return this.prior=null,T;if(this.value.isDataDriven())return this.prior=null,T;if(w<this.begin)return k.possiblyEvaluate(l,h,_);{const D=(w-this.begin)/(this.end-this.begin);return this.property.interpolate(k.possiblyEvaluate(l,h,_),T,ke(D))}}return T}}class ng{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitioningPropertyValues)}possiblyEvaluate(l,h,_){const w=new Bd(this._properties);for(const T of Object.keys(this._values))w._values[T]=this._values[T].possiblyEvaluate(l,h,_);return w}hasTransition(){for(const l of Object.keys(this._values))if(this._values[l].prior)return!0;return!1}}class Dv{constructor(l,h){this._properties=l,this._values=Object.create(l.defaultPropertyValues),this._globalState=h}hasValue(l){return this._values[l].value!==void 0}getValue(l){return Ot(this._values[l].value)}setValue(l,h){this._values[l]=new Mh(this._values[l].property,h===null?void 0:Ot(h),this._globalState)}serialize(){const l={};for(const h of Object.keys(this._values)){const _=this.getValue(h);_!==void 0&&(l[h]=_)}return l}possiblyEvaluate(l,h,_){const w=new Bd(this._properties);for(const T of Object.keys(this._values))w._values[T]=this._values[T].possiblyEvaluate(l,h,_);return w}}class Za{constructor(l,h,_){this.property=l,this.value=h,this.parameters=_}isConstant(){return this.value.kind==="constant"}constantOr(l){return this.value.kind==="constant"?this.value.value:l}evaluate(l,h,_,w){return this.property.evaluate(this.value,this.parameters,l,h,_,w)}}class Bd{constructor(l){this._properties=l,this._values=Object.create(l.defaultPossiblyEvaluatedValues)}get(l){return this._values[l]}}class xn{constructor(l){this.specification=l}possiblyEvaluate(l,h){if(l.isDataDriven())throw new Error("Value should not be data driven");return l.expression.evaluate(h)}interpolate(l,h,_){const w=Ni[this.specification.type];return w?w(l,h,_):l}}class An{constructor(l,h){this.specification=l,this.overrides=h}possiblyEvaluate(l,h,_,w){return new Za(this,l.expression.kind==="constant"||l.expression.kind==="camera"?{kind:"constant",value:l.expression.evaluate(h,null,{},_,w)}:l.expression,h)}interpolate(l,h,_){if(l.value.kind!=="constant"||h.value.kind!=="constant")return l;if(l.value.value===void 0||h.value.value===void 0)return new Za(this,{kind:"constant",value:void 0},l.parameters);const w=Ni[this.specification.type];if(w){const T=w(l.value.value,h.value.value,_);return new Za(this,{kind:"constant",value:T},l.parameters)}return l}evaluate(l,h,_,w,T,k){return l.kind==="constant"?l.value:l.evaluate(h,_,w,T,k)}}class _l extends An{possiblyEvaluate(l,h,_,w){if(l.value===void 0)return new Za(this,{kind:"constant",value:void 0},h);if(l.expression.kind==="constant"){const T=l.expression.evaluate(h,null,{},_,w),k=l.property.specification.type==="resolvedImage"&&typeof T!="string"?T.name:T,D=this._calculate(k,k,k,h);return new Za(this,{kind:"constant",value:D},h)}if(l.expression.kind==="camera"){const T=this._calculate(l.expression.evaluate({zoom:h.zoom-1}),l.expression.evaluate({zoom:h.zoom}),l.expression.evaluate({zoom:h.zoom+1}),h);return new Za(this,{kind:"constant",value:T},h)}return new Za(this,l.expression,h)}evaluate(l,h,_,w,T,k){if(l.kind==="source"){const D=l.evaluate(h,_,w,T,k);return this._calculate(D,D,D,h)}return l.kind==="composite"?this._calculate(l.evaluate({zoom:Math.floor(h.zoom)-1},_,w),l.evaluate({zoom:Math.floor(h.zoom)},_,w),l.evaluate({zoom:Math.floor(h.zoom)+1},_,w),h):l.value}_calculate(l,h,_,w){return w.zoom>w.zoomHistory.lastIntegerZoom?{from:l,to:h}:{from:_,to:h}}interpolate(l){return l}}class cp{constructor(l){this.specification=l}possiblyEvaluate(l,h,_,w){if(l.value!==void 0){if(l.expression.kind==="constant"){const T=l.expression.evaluate(h,null,{},_,w);return this._calculate(T,T,T,h)}return this._calculate(l.expression.evaluate(new Kr(Math.floor(h.zoom-1),h)),l.expression.evaluate(new Kr(Math.floor(h.zoom),h)),l.expression.evaluate(new Kr(Math.floor(h.zoom+1),h)),h)}}_calculate(l,h,_,w){return w.zoom>w.zoomHistory.lastIntegerZoom?{from:l,to:h}:{from:_,to:h}}interpolate(l){return l}}class rg{constructor(l){this.specification=l}possiblyEvaluate(l,h,_,w){return!!l.expression.evaluate(h,null,{},_,w)}interpolate(){return!1}}class wo{constructor(l){this.properties=l,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const h in l){const _=l[h];_.specification.overridable&&this.overridableProperties.push(h);const w=this.defaultPropertyValues[h]=new Mh(_,void 0,void 0),T=this.defaultTransitionablePropertyValues[h]=new tg(_,void 0);this.defaultTransitioningPropertyValues[h]=T.untransitioned(),this.defaultPossiblyEvaluatedValues[h]=w.possiblyEvaluate({})}}}yn("DataDrivenProperty",An),yn("DataConstantProperty",xn),yn("CrossFadedDataDrivenProperty",_l),yn("CrossFadedProperty",cp),yn("ColorRampProperty",rg);class Gi extends kr{constructor(l,h,_){if(super(),this.id=l.id,this.type=l.type,this._globalState=_,this._featureFilter={filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set},l.type!=="custom"&&(this.metadata=l.metadata,this.minzoom=l.minzoom,this.maxzoom=l.maxzoom,this._visibilityExpression=(function(w,T){return new ap(w,T)})(this.visibility,_),l.type!=="background"&&(this.source=l.source,this.sourceLayer=l["source-layer"],this.filter=l.filter,this._featureFilter=_a(l.filter,_)),h.layout&&(this._unevaluatedLayout=new Dv(h.layout,_)),h.paint)){this._transitionablePaint=new Uy(h.paint,_);for(const w in l.paint)this.setPaintProperty(w,l.paint[w],{validate:!1});for(const w in l.layout)this.setLayoutProperty(w,l.layout[w],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Bd(h.paint)}}setFilter(l){this.filter=l,this._featureFilter=_a(l,this._globalState)}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(l){return l==="visibility"?this.visibility:this._unevaluatedLayout.getValue(l)}getLayoutAffectingGlobalStateRefs(){const l=new Set;for(const h of this._visibilityExpression.getGlobalStateRefs())l.add(h);if(this._unevaluatedLayout)for(const h in this._unevaluatedLayout._values){const _=this._unevaluatedLayout._values[h];for(const w of _.getGlobalStateRefs())l.add(w)}for(const h of this._featureFilter.getGlobalStateRefs())l.add(h);return l}getPaintAffectingGlobalStateRefs(){var l;const h=new globalThis.Map;if(this._transitionablePaint)for(const _ in this._transitionablePaint._values){const w=this._transitionablePaint._values[_].value;for(const T of w.getGlobalStateRefs()){const k=(l=h.get(T))!==null&&l!==void 0?l:[];k.push({name:_,value:w.value}),h.set(T,k)}}return h}getVisibilityAffectingGlobalStateRefs(){return this._visibilityExpression.getGlobalStateRefs()}setLayoutProperty(l,h,_={}){if(h==null||!this._validate(pb,`layers.${this.id}.layout.${l}`,l,h,_))return l==="visibility"?(this.visibility=h,this._visibilityExpression.setValue(h),void this.recalculateVisibility()):void this._unevaluatedLayout.setValue(l,h)}getPaintProperty(l){return l.endsWith(Su)?this._transitionablePaint.getTransition(l.slice(0,-11)):this._transitionablePaint.getValue(l)}setPaintProperty(l,h,_={}){if(h!=null&&this._validate(By,`layers.${this.id}.paint.${l}`,l,h,_))return!1;if(l.endsWith(Su))return this._transitionablePaint.setTransition(l.slice(0,-11),h||void 0),!1;{const w=this._transitionablePaint._values[l],T=w.property.specification["property-type"]==="cross-faded-data-driven",k=w.value.isDataDriven(),D=w.value;this._transitionablePaint.setValue(l,h),this._handleSpecialPaintPropertyUpdate(l);const B=this._transitionablePaint._values[l].value;return B.isDataDriven()||k||T||this._handleOverridablePaintPropertyUpdate(l,D,B)}}_handleSpecialPaintPropertyUpdate(l){}_handleOverridablePaintPropertyUpdate(l,h,_){return!1}isHidden(l=this.minzoom,h=!1){return!!(this.minzoom&&l<(h?Math.floor(this.minzoom):this.minzoom))||!!(this.maxzoom&&l>=this.maxzoom)||this._evaluatedVisibility==="none"}updateTransitions(l){this._transitioningPaint=this._transitionablePaint.transitioned(l,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculateVisibility(){this._evaluatedVisibility=this._visibilityExpression.evaluate()}recalculate(l,h){l.getCrossfadeParameters&&(this._crossfadeParameters=l.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(l,void 0,h)),this.paint=this._transitioningPaint.possiblyEvaluate(l,void 0,h)}serialize(){const l={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(l.layout=l.layout||{},l.layout.visibility=this.visibility),Wt(l,((h,_)=>!(h===void 0||_==="layout"&&!Object.keys(h).length||_==="paint"&&!Object.keys(h).length)))}_validate(l,h,_,w,T={}){return(!T||T.validate!==!1)&&Hl(this,l.call(es,{key:h,layerType:this.type,objectKey:_,value:w,styleSpec:ut,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const l in this.paint._values){const h=this.paint.get(l);if(h instanceof Za&&ml(h.property.specification)&&(h.value.kind==="source"||h.value.kind==="composite")&&h.value.isStateDependent)return!0}return!1}}let lo;var ig={get paint(){return lo=lo||new wo({"raster-opacity":new xn(ut.paint_raster["raster-opacity"]),"raster-hue-rotate":new xn(ut.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new xn(ut.paint_raster["raster-brightness-min"]),"raster-brightness-max":new xn(ut.paint_raster["raster-brightness-max"]),"raster-saturation":new xn(ut.paint_raster["raster-saturation"]),"raster-contrast":new xn(ut.paint_raster["raster-contrast"]),"raster-resampling":new xn(ut.paint_raster["raster-resampling"]),"raster-fade-duration":new xn(ut.paint_raster["raster-fade-duration"])})}};class Cu extends Gi{constructor(l,h){super(l,ig,h)}}const _r={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Gr{constructor(l,h){this._structArray=l,this._pos1=h*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class gr{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(l,h){return l._trim(),h&&(l.isTransferred=!0,h.push(l.arrayBuffer)),{length:l.length,arrayBuffer:l.arrayBuffer}}static deserialize(l){const h=Object.create(this.prototype);return h.arrayBuffer=l.arrayBuffer,h.length=l.length,h.capacity=l.arrayBuffer.byteLength/h.bytesPerElement,h._refreshViews(),h}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(l){this.reserve(l),this.length=l}reserve(l){if(l>this.capacity){this.capacity=Math.max(l,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const h=this.uint8;this._refreshViews(),h&&this.uint8.set(h)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Bi(f,l=1){let h=0,_=0;return{members:f.map((w=>{const T=_r[w.type].BYTES_PER_ELEMENT,k=h=xl(h,Math.max(l,T)),D=w.components||1;return _=Math.max(_,T),h+=T*D,{name:w.name,type:w.type,components:D,offset:k}})),size:xl(h,Math.max(_,l)),alignment:l}}function xl(f,l){return Math.ceil(f/l)*l}class Xl extends gr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h){const _=this.length;return this.resize(_+1),this.emplace(_,l,h)}emplace(l,h,_){const w=2*l;return this.int16[w+0]=h,this.int16[w+1]=_,l}}Xl.prototype.bytesPerElement=4,yn("StructArrayLayout2i4",Xl);class Fd extends gr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,_){const w=this.length;return this.resize(w+1),this.emplace(w,l,h,_)}emplace(l,h,_,w){const T=3*l;return this.int16[T+0]=h,this.int16[T+1]=_,this.int16[T+2]=w,l}}Fd.prototype.bytesPerElement=6,yn("StructArrayLayout3i6",Fd);class jd extends gr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,_,w){const T=this.length;return this.resize(T+1),this.emplace(T,l,h,_,w)}emplace(l,h,_,w,T){const k=4*l;return this.int16[k+0]=h,this.int16[k+1]=_,this.int16[k+2]=w,this.int16[k+3]=T,l}}jd.prototype.bytesPerElement=8,yn("StructArrayLayout4i8",jd);class Tu extends gr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,_,w,T,k){const D=this.length;return this.resize(D+1),this.emplace(D,l,h,_,w,T,k)}emplace(l,h,_,w,T,k,D){const B=6*l;return this.int16[B+0]=h,this.int16[B+1]=_,this.int16[B+2]=w,this.int16[B+3]=T,this.int16[B+4]=k,this.int16[B+5]=D,l}}Tu.prototype.bytesPerElement=12,yn("StructArrayLayout2i4i12",Tu);class Lv extends gr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,_,w,T,k){const D=this.length;return this.resize(D+1),this.emplace(D,l,h,_,w,T,k)}emplace(l,h,_,w,T,k,D){const B=4*l,Z=8*l;return this.int16[B+0]=h,this.int16[B+1]=_,this.uint8[Z+4]=w,this.uint8[Z+5]=T,this.uint8[Z+6]=k,this.uint8[Z+7]=D,l}}Lv.prototype.bytesPerElement=8,yn("StructArrayLayout2i4ub8",Lv);class Pi extends gr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h){const _=this.length;return this.resize(_+1),this.emplace(_,l,h)}emplace(l,h,_){const w=2*l;return this.float32[w+0]=h,this.float32[w+1]=_,l}}Pi.prototype.bytesPerElement=8,yn("StructArrayLayout2f8",Pi);class Yl extends gr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h,_,w,T,k,D,B,Z,X){const ee=this.length;return this.resize(ee+1),this.emplace(ee,l,h,_,w,T,k,D,B,Z,X)}emplace(l,h,_,w,T,k,D,B,Z,X,ee){const oe=10*l;return this.uint16[oe+0]=h,this.uint16[oe+1]=_,this.uint16[oe+2]=w,this.uint16[oe+3]=T,this.uint16[oe+4]=k,this.uint16[oe+5]=D,this.uint16[oe+6]=B,this.uint16[oe+7]=Z,this.uint16[oe+8]=X,this.uint16[oe+9]=ee,l}}Yl.prototype.bytesPerElement=20,yn("StructArrayLayout10ui20",Yl);class up extends gr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h,_,w,T,k,D,B){const Z=this.length;return this.resize(Z+1),this.emplace(Z,l,h,_,w,T,k,D,B)}emplace(l,h,_,w,T,k,D,B,Z){const X=8*l;return this.uint16[X+0]=h,this.uint16[X+1]=_,this.uint16[X+2]=w,this.uint16[X+3]=T,this.uint16[X+4]=k,this.uint16[X+5]=D,this.uint16[X+6]=B,this.uint16[X+7]=Z,l}}up.prototype.bytesPerElement=16,yn("StructArrayLayout8ui16",up);class hp extends gr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h,_,w,T,k,D,B,Z,X,ee,oe){const le=this.length;return this.resize(le+1),this.emplace(le,l,h,_,w,T,k,D,B,Z,X,ee,oe)}emplace(l,h,_,w,T,k,D,B,Z,X,ee,oe,le){const fe=12*l;return this.int16[fe+0]=h,this.int16[fe+1]=_,this.int16[fe+2]=w,this.int16[fe+3]=T,this.uint16[fe+4]=k,this.uint16[fe+5]=D,this.uint16[fe+6]=B,this.uint16[fe+7]=Z,this.int16[fe+8]=X,this.int16[fe+9]=ee,this.int16[fe+10]=oe,this.int16[fe+11]=le,l}}hp.prototype.bytesPerElement=24,yn("StructArrayLayout4i4ui4i24",hp);class og extends gr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h,_){const w=this.length;return this.resize(w+1),this.emplace(w,l,h,_)}emplace(l,h,_,w){const T=3*l;return this.float32[T+0]=h,this.float32[T+1]=_,this.float32[T+2]=w,l}}og.prototype.bytesPerElement=12,yn("StructArrayLayout3f12",og);class sg extends gr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(l){const h=this.length;return this.resize(h+1),this.emplace(h,l)}emplace(l,h){return this.uint32[1*l+0]=h,l}}sg.prototype.bytesPerElement=4,yn("StructArrayLayout1ul4",sg);class ag extends gr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h,_,w,T,k,D,B,Z){const X=this.length;return this.resize(X+1),this.emplace(X,l,h,_,w,T,k,D,B,Z)}emplace(l,h,_,w,T,k,D,B,Z,X){const ee=10*l,oe=5*l;return this.int16[ee+0]=h,this.int16[ee+1]=_,this.int16[ee+2]=w,this.int16[ee+3]=T,this.int16[ee+4]=k,this.int16[ee+5]=D,this.uint32[oe+3]=B,this.uint16[ee+8]=Z,this.uint16[ee+9]=X,l}}ag.prototype.bytesPerElement=20,yn("StructArrayLayout6i1ul2ui20",ag);class Rh extends gr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,_,w,T,k){const D=this.length;return this.resize(D+1),this.emplace(D,l,h,_,w,T,k)}emplace(l,h,_,w,T,k,D){const B=6*l;return this.int16[B+0]=h,this.int16[B+1]=_,this.int16[B+2]=w,this.int16[B+3]=T,this.int16[B+4]=k,this.int16[B+5]=D,l}}Rh.prototype.bytesPerElement=12,yn("StructArrayLayout2i2i2i12",Rh);class ku extends gr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,_,w,T){const k=this.length;return this.resize(k+1),this.emplace(k,l,h,_,w,T)}emplace(l,h,_,w,T,k){const D=4*l,B=8*l;return this.float32[D+0]=h,this.float32[D+1]=_,this.float32[D+2]=w,this.int16[B+6]=T,this.int16[B+7]=k,l}}ku.prototype.bytesPerElement=16,yn("StructArrayLayout2f1f2i16",ku);class Cs extends gr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,_,w,T,k){const D=this.length;return this.resize(D+1),this.emplace(D,l,h,_,w,T,k)}emplace(l,h,_,w,T,k,D){const B=16*l,Z=4*l,X=8*l;return this.uint8[B+0]=h,this.uint8[B+1]=_,this.float32[Z+1]=w,this.float32[Z+2]=T,this.int16[X+6]=k,this.int16[X+7]=D,l}}Cs.prototype.bytesPerElement=16,yn("StructArrayLayout2ub2f2i16",Cs);class Fi extends gr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h,_){const w=this.length;return this.resize(w+1),this.emplace(w,l,h,_)}emplace(l,h,_,w){const T=3*l;return this.uint16[T+0]=h,this.uint16[T+1]=_,this.uint16[T+2]=w,l}}Fi.prototype.bytesPerElement=6,yn("StructArrayLayout3ui6",Fi);class jc extends gr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h,_,w,T,k,D,B,Z,X,ee,oe,le,fe,ge,ve,Te){const Ve=this.length;return this.resize(Ve+1),this.emplace(Ve,l,h,_,w,T,k,D,B,Z,X,ee,oe,le,fe,ge,ve,Te)}emplace(l,h,_,w,T,k,D,B,Z,X,ee,oe,le,fe,ge,ve,Te,Ve){const Ee=24*l,Re=12*l,qe=48*l;return this.int16[Ee+0]=h,this.int16[Ee+1]=_,this.uint16[Ee+2]=w,this.uint16[Ee+3]=T,this.uint32[Re+2]=k,this.uint32[Re+3]=D,this.uint32[Re+4]=B,this.uint16[Ee+10]=Z,this.uint16[Ee+11]=X,this.uint16[Ee+12]=ee,this.float32[Re+7]=oe,this.float32[Re+8]=le,this.uint8[qe+36]=fe,this.uint8[qe+37]=ge,this.uint8[qe+38]=ve,this.uint32[Re+10]=Te,this.int16[Ee+22]=Ve,l}}jc.prototype.bytesPerElement=48,yn("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",jc);class Vd extends gr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h,_,w,T,k,D,B,Z,X,ee,oe,le,fe,ge,ve,Te,Ve,Ee,Re,qe,Ge,dt,Lt,Et,Ft,un,Zt){const Rt=this.length;return this.resize(Rt+1),this.emplace(Rt,l,h,_,w,T,k,D,B,Z,X,ee,oe,le,fe,ge,ve,Te,Ve,Ee,Re,qe,Ge,dt,Lt,Et,Ft,un,Zt)}emplace(l,h,_,w,T,k,D,B,Z,X,ee,oe,le,fe,ge,ve,Te,Ve,Ee,Re,qe,Ge,dt,Lt,Et,Ft,un,Zt,Rt){const xt=32*l,bn=16*l;return this.int16[xt+0]=h,this.int16[xt+1]=_,this.int16[xt+2]=w,this.int16[xt+3]=T,this.int16[xt+4]=k,this.int16[xt+5]=D,this.int16[xt+6]=B,this.int16[xt+7]=Z,this.uint16[xt+8]=X,this.uint16[xt+9]=ee,this.uint16[xt+10]=oe,this.uint16[xt+11]=le,this.uint16[xt+12]=fe,this.uint16[xt+13]=ge,this.uint16[xt+14]=ve,this.uint16[xt+15]=Te,this.uint16[xt+16]=Ve,this.uint16[xt+17]=Ee,this.uint16[xt+18]=Re,this.uint16[xt+19]=qe,this.uint16[xt+20]=Ge,this.uint16[xt+21]=dt,this.uint16[xt+22]=Lt,this.uint32[bn+12]=Et,this.float32[bn+13]=Ft,this.float32[bn+14]=un,this.uint16[xt+30]=Zt,this.uint16[xt+31]=Rt,l}}Vd.prototype.bytesPerElement=64,yn("StructArrayLayout8i15ui1ul2f2ui64",Vd);class Qd extends gr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l){const h=this.length;return this.resize(h+1),this.emplace(h,l)}emplace(l,h){return this.float32[1*l+0]=h,l}}Qd.prototype.bytesPerElement=4,yn("StructArrayLayout1f4",Qd);class dp extends gr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h,_){const w=this.length;return this.resize(w+1),this.emplace(w,l,h,_)}emplace(l,h,_,w){const T=3*l;return this.uint16[6*l+0]=h,this.float32[T+1]=_,this.float32[T+2]=w,l}}dp.prototype.bytesPerElement=12,yn("StructArrayLayout1ui2f12",dp);class Kl extends gr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h,_){const w=this.length;return this.resize(w+1),this.emplace(w,l,h,_)}emplace(l,h,_,w){const T=4*l;return this.uint32[2*l+0]=h,this.uint16[T+2]=_,this.uint16[T+3]=w,l}}Kl.prototype.bytesPerElement=8,yn("StructArrayLayout1ul2ui8",Kl);class P extends gr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h){const _=this.length;return this.resize(_+1),this.emplace(_,l,h)}emplace(l,h,_){const w=2*l;return this.uint16[w+0]=h,this.uint16[w+1]=_,l}}P.prototype.bytesPerElement=4,yn("StructArrayLayout2ui4",P);class c extends gr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l){const h=this.length;return this.resize(h+1),this.emplace(h,l)}emplace(l,h){return this.uint16[1*l+0]=h,l}}c.prototype.bytesPerElement=2,yn("StructArrayLayout1ui2",c);class m extends gr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h,_,w){const T=this.length;return this.resize(T+1),this.emplace(T,l,h,_,w)}emplace(l,h,_,w,T){const k=4*l;return this.float32[k+0]=h,this.float32[k+1]=_,this.float32[k+2]=w,this.float32[k+3]=T,l}}m.prototype.bytesPerElement=16,yn("StructArrayLayout4f16",m);class b extends Gr{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new u(this.anchorPointX,this.anchorPointY)}}b.prototype.size=20;class C extends ag{get(l){return new b(this,l)}}yn("CollisionBoxArray",C);class I extends Gr{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(l){this._structArray.uint8[this._pos1+37]=l}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(l){this._structArray.uint8[this._pos1+38]=l}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(l){this._structArray.uint32[this._pos4+10]=l}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}I.prototype.size=48;class z extends jc{get(l){return new I(this,l)}}yn("PlacedSymbolArray",z);class V extends Gr{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(l){this._structArray.uint32[this._pos4+12]=l}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}V.prototype.size=64;class H extends Vd{get(l){return new V(this,l)}}yn("SymbolInstanceArray",H);class J extends Qd{getoffsetX(l){return this.float32[1*l+0]}}yn("GlyphOffsetArray",J);class ne extends Fd{getx(l){return this.int16[3*l+0]}gety(l){return this.int16[3*l+1]}gettileUnitDistanceFromAnchor(l){return this.int16[3*l+2]}}yn("SymbolLineVertexArray",ne);class he extends Gr{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}he.prototype.size=12;class ue extends dp{get(l){return new he(this,l)}}yn("TextAnchorOffsetArray",ue);class ye extends Gr{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}ye.prototype.size=8;class Se extends Kl{get(l){return new ye(this,l)}}yn("FeatureIndexArray",Se);class Ie extends Xl{}class Le extends Xl{}class De extends Xl{}class je extends Tu{}class He extends Lv{}class Fe extends Pi{}class We extends Yl{}class Je extends up{}class Ze extends hp{}class nt extends og{}class yt extends sg{}class ht extends Rh{}class ft extends Cs{}class pt extends Fi{}class tn extends P{}const nn=Bi([{name:"a_pos",components:2,type:"Int16"}],4),{members:Nt}=nn;class cn{constructor(l=[]){this._forceNewSegmentOnNextPrepare=!1,this.segments=l}prepareSegment(l,h,_,w){const T=this.segments[this.segments.length-1];return l>cn.MAX_VERTEX_ARRAY_LENGTH&&Gt(`Max vertices per segment is ${cn.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${l}. Consider using the \`fillLargeMeshArrays\` function if you require meshes with more than ${cn.MAX_VERTEX_ARRAY_LENGTH} vertices.`),this._forceNewSegmentOnNextPrepare||!T||T.vertexLength+l>cn.MAX_VERTEX_ARRAY_LENGTH||T.sortKey!==w?this.createNewSegment(h,_,w):T}createNewSegment(l,h,_){const w={vertexOffset:l.length,primitiveOffset:h.length,vertexLength:0,primitiveLength:0,vaos:{}};return _!==void 0&&(w.sortKey=_),this._forceNewSegmentOnNextPrepare=!1,this.segments.push(w),w}getOrCreateLatestSegment(l,h,_){return this.prepareSegment(0,l,h,_)}forceNewSegmentOnNextPrepare(){this._forceNewSegmentOnNextPrepare=!0}get(){return this.segments}destroy(){for(const l of this.segments)for(const h in l.vaos)l.vaos[h].destroy()}static simpleSegment(l,h,_,w){return new cn([{vertexOffset:l,primitiveOffset:h,vertexLength:_,primitiveLength:w,vaos:{},sortKey:0}])}}function rr(f,l){return 256*(f=ct(Math.floor(f),0,255))+ct(Math.floor(l),0,255)}cn.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,yn("SegmentVector",cn);const Xr=Bi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),xi=Bi([{name:"a_dasharray_from",components:4,type:"Uint16"},{name:"a_dasharray_to",components:4,type:"Uint16"}]);var fi,Mi,oi,Xi={exports:{}},Ri={exports:{}},us={exports:{}},co=(function(){if(oi)return Xi.exports;oi=1;var f=(fi||(fi=1,Ri.exports=function(h,_){var w,T,k,D,B,Z,X,ee;for(T=h.length-(w=3&h.length),k=_,B=3432918353,Z=461845907,ee=0;ee<T;)X=255&h.charCodeAt(ee)|(255&h.charCodeAt(++ee))<<8|(255&h.charCodeAt(++ee))<<16|(255&h.charCodeAt(++ee))<<24,++ee,k=27492+(65535&(D=5*(65535&(k=(k^=X=(65535&(X=(X=(65535&X)*B+(((X>>>16)*B&65535)<<16)&4294967295)<<15|X>>>17))*Z+(((X>>>16)*Z&65535)<<16)&4294967295)<<13|k>>>19))+((5*(k>>>16)&65535)<<16)&4294967295))+((58964+(D>>>16)&65535)<<16);switch(X=0,w){case 3:X^=(255&h.charCodeAt(ee+2))<<16;case 2:X^=(255&h.charCodeAt(ee+1))<<8;case 1:k^=X=(65535&(X=(X=(65535&(X^=255&h.charCodeAt(ee)))*B+(((X>>>16)*B&65535)<<16)&4294967295)<<15|X>>>17))*Z+(((X>>>16)*Z&65535)<<16)&4294967295}return k^=h.length,k=2246822507*(65535&(k^=k>>>16))+((2246822507*(k>>>16)&65535)<<16)&4294967295,k=3266489909*(65535&(k^=k>>>13))+((3266489909*(k>>>16)&65535)<<16)&4294967295,(k^=k>>>16)>>>0}),Ri.exports),l=(Mi||(Mi=1,us.exports=function(h,_){for(var w,T=h.length,k=_^T,D=0;T>=4;)w=1540483477*(65535&(w=255&h.charCodeAt(D)|(255&h.charCodeAt(++D))<<8|(255&h.charCodeAt(++D))<<16|(255&h.charCodeAt(++D))<<24))+((1540483477*(w>>>16)&65535)<<16),k=1540483477*(65535&k)+((1540483477*(k>>>16)&65535)<<16)^(w=1540483477*(65535&(w^=w>>>24))+((1540483477*(w>>>16)&65535)<<16)),T-=4,++D;switch(T){case 3:k^=(255&h.charCodeAt(D+2))<<16;case 2:k^=(255&h.charCodeAt(D+1))<<8;case 1:k=1540483477*(65535&(k^=255&h.charCodeAt(D)))+((1540483477*(k>>>16)&65535)<<16)}return k=1540483477*(65535&(k^=k>>>13))+((1540483477*(k>>>16)&65535)<<16),(k^=k>>>15)>>>0}),us.exports);return Xi.exports=f,Xi.exports.murmur3=f,Xi.exports.murmur2=l,Xi.exports})(),uo=d(co);class hs{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(l,h,_,w){this.ids.push(Vc(l)),this.positions.push(h,_,w)}getPositions(l){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const h=Vc(l);let _=0,w=this.ids.length-1;for(;_<w;){const k=_+w>>1;this.ids[k]>=h?w=k:_=k+1}const T=[];for(;this.ids[_]===h;)T.push({index:this.positions[3*_],start:this.positions[3*_+1],end:this.positions[3*_+2]}),_++;return T}static serialize(l,h){const _=new Float64Array(l.ids),w=new Uint32Array(l.positions);return Qc(_,w,0,_.length-1),h&&h.push(_.buffer,w.buffer),{ids:_,positions:w}}static deserialize(l){const h=new hs;return h.ids=l.ids,h.positions=l.positions,h.indexed=!0,h}}function Vc(f){const l=+f;return!isNaN(l)&&l<=Number.MAX_SAFE_INTEGER?l:uo(String(f))}function Qc(f,l,h,_){for(;h<_;){const w=f[h+_>>1];let T=h-1,k=_+1;for(;;){do T++;while(f[T]<w);do k--;while(f[k]>w);if(T>=k)break;Jl(f,T,k),Jl(l,3*T,3*k),Jl(l,3*T+1,3*k+1),Jl(l,3*T+2,3*k+2)}k-h<_-k?(Qc(f,l,h,k),h=k+1):(Qc(f,l,k+1,_),_=k)}}function Jl(f,l,h){const _=f[l];f[l]=f[h],f[h]=_}yn("FeaturePositionMap",hs);class Oa{constructor(l,h){this.gl=l.gl,this.location=h}}class Ud extends Oa{constructor(l,h){super(l,h),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1f(this.location,l))}}class fp extends Oa{constructor(l,h){super(l,h),this.current=[0,0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]&&l[3]===this.current[3]||(this.current=l,this.gl.uniform4f(this.location,l[0],l[1],l[2],l[3]))}}class ec extends Oa{constructor(l,h){super(l,h),this.current=ur.transparent}set(l){l.r===this.current.r&&l.g===this.current.g&&l.b===this.current.b&&l.a===this.current.a||(this.current=l,this.gl.uniform4f(this.location,l.r,l.g,l.b,l.a))}}const Sa=new Float32Array(16);function qa(f){return[rr(255*f.r,255*f.g),rr(255*f.b,255*f.a)]}class bl{constructor(l,h,_){this.value=l,this.uniformNames=h.map((w=>`u_${w}`)),this.type=_}setUniform(l,h,_){l.set(_.constantOr(this.value))}getBinding(l,h,_){return this.type==="color"?new ec(l,h):new Ud(l,h)}}class wl{constructor(l,h){this.uniformNames=h.map((_=>`u_${_}`)),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(l,h){this.pixelRatioFrom=h.pixelRatio,this.pixelRatioTo=l.pixelRatio,this.patternFrom=h.tlbr,this.patternTo=l.tlbr}setConstantDashPositions(l,h){this.dashTo=[0,l.y,l.height,l.width],this.dashFrom=[0,h.y,h.height,h.width]}setUniform(l,h,_,w){let T=null;w==="u_pattern_to"?T=this.patternTo:w==="u_pattern_from"?T=this.patternFrom:w==="u_dasharray_to"?T=this.dashTo:w==="u_dasharray_from"?T=this.dashFrom:w==="u_pixel_ratio_to"?T=this.pixelRatioTo:w==="u_pixel_ratio_from"&&(T=this.pixelRatioFrom),T!==null&&l.set(T)}getBinding(l,h,_){return _.substr(0,9)==="u_pattern"||_.substr(0,12)==="u_dasharray_"?new fp(l,h):new Ud(l,h)}}class Jr{constructor(l,h,_,w){this.expression=l,this.type=_,this.maxValue=0,this.paintVertexAttributes=h.map((T=>({name:`a_${T}`,type:"Float32",components:_==="color"?2:1,offset:0}))),this.paintVertexArray=new w}populatePaintArray(l,h,_){const w=this.paintVertexArray.length,T=this.expression.evaluate(new Kr(0,_),h,{},_.canonical,[],_.formattedSection);this.paintVertexArray.resize(l),this._setPaintValue(w,l,T)}updatePaintArray(l,h,_,w,T){const k=this.expression.evaluate(new Kr(0,T),_,w);this._setPaintValue(l,h,k)}_setPaintValue(l,h,_){if(this.type==="color"){const w=qa(_);for(let T=l;T<h;T++)this.paintVertexArray.emplace(T,w[0],w[1])}else{for(let w=l;w<h;w++)this.paintVertexArray.emplace(w,_);this.maxValue=Math.max(this.maxValue,Math.abs(_))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class pi{constructor(l,h,_,w,T,k){this.expression=l,this.uniformNames=h.map((D=>`u_${D}_t`)),this.type=_,this.useIntegerZoom=w,this.zoom=T,this.maxValue=0,this.paintVertexAttributes=h.map((D=>({name:`a_${D}`,type:"Float32",components:_==="color"?4:2,offset:0}))),this.paintVertexArray=new k}populatePaintArray(l,h,_){const w=this.expression.evaluate(new Kr(this.zoom,_),h,{},_.canonical,[],_.formattedSection),T=this.expression.evaluate(new Kr(this.zoom+1,_),h,{},_.canonical,[],_.formattedSection),k=this.paintVertexArray.length;this.paintVertexArray.resize(l),this._setPaintValue(k,l,w,T)}updatePaintArray(l,h,_,w,T){const k=this.expression.evaluate(new Kr(this.zoom,T),_,w),D=this.expression.evaluate(new Kr(this.zoom+1,T),_,w);this._setPaintValue(l,h,k,D)}_setPaintValue(l,h,_,w){if(this.type==="color"){const T=qa(_),k=qa(w);for(let D=l;D<h;D++)this.paintVertexArray.emplace(D,T[0],T[1],k[0],k[1])}else{for(let T=l;T<h;T++)this.paintVertexArray.emplace(T,_,w);this.maxValue=Math.max(this.maxValue,Math.abs(_),Math.abs(w))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(l,h){const _=this.useIntegerZoom?Math.floor(h.zoom):h.zoom,w=ct(this.expression.interpolationFactor(_,this.zoom,this.zoom+1),0,1);l.set(w)}getBinding(l,h,_){return new Ud(l,h)}}class $o{constructor(l,h,_,w,T,k){this.expression=l,this.type=h,this.useIntegerZoom=_,this.zoom=w,this.layerId=k,this.zoomInPaintVertexArray=new T,this.zoomOutPaintVertexArray=new T}populatePaintArray(l,h,_){const w=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(l),this.zoomOutPaintVertexArray.resize(l),this._setPaintValues(w,l,this.getPositionIds(h),_)}updatePaintArray(l,h,_,w,T){this._setPaintValues(l,h,this.getPositionIds(_),T)}_setPaintValues(l,h,_,w){const T=this.getPositions(w);if(!T||!_)return;const k=T[_.min],D=T[_.mid],B=T[_.max];if(k&&D&&B)for(let Z=l;Z<h;Z++)this.emplace(this.zoomInPaintVertexArray,Z,D,k),this.emplace(this.zoomOutPaintVertexArray,Z,D,B)}upload(l){if(this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer){const h=this.getVertexAttributes();this.zoomInPaintVertexBuffer=l.createVertexBuffer(this.zoomInPaintVertexArray,h,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=l.createVertexBuffer(this.zoomOutPaintVertexArray,h,this.expression.isStateDependent)}}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Uo extends $o{getPositions(l){return l.imagePositions}getPositionIds(l){return l.patterns&&l.patterns[this.layerId]}getVertexAttributes(){return Xr.members}emplace(l,h,_,w){l.emplace(h,_.tlbr[0],_.tlbr[1],_.tlbr[2],_.tlbr[3],w.tlbr[0],w.tlbr[1],w.tlbr[2],w.tlbr[3],_.pixelRatio,w.pixelRatio)}}class Zy extends $o{getPositions(l){return l.dashPositions}getPositionIds(l){return l.dashes&&l.dashes[this.layerId]}getVertexAttributes(){return xi.members}emplace(l,h,_,w){l.emplace(h,0,_.y,_.height,_.width,0,w.y,w.height,w.width)}}class qy{constructor(l,h,_){this.binders={},this._buffers=[];const w=[];for(const T in l.paint._values){if(!_(T))continue;const k=l.paint.get(T);if(!(k instanceof Za&&ml(k.property.specification)))continue;const D=mb(T,l.type),B=k.value,Z=k.property.specification.type,X=k.property.useIntegerZoom,ee=k.property.specification["property-type"],oe=ee==="cross-faded"||ee==="cross-faded-data-driven";if(B.kind==="constant")this.binders[T]=oe?new wl(B.value,D):new bl(B.value,D,Z),w.push(`/u_${T}`);else if(B.kind==="source"||oe){const le=Dh(T,Z,"source");this.binders[T]=oe?T==="line-dasharray"?new Zy(B,Z,X,h,le,l.id):new Uo(B,Z,X,h,le,l.id):new Jr(B,D,Z,le),w.push(`/a_${T}`)}else{const le=Dh(T,Z,"composite");this.binders[T]=new pi(B,D,Z,X,h,le),w.push(`/z_${T}`)}}this.cacheKey=w.sort().join("")}getMaxValue(l){const h=this.binders[l];return h instanceof Jr||h instanceof pi?h.maxValue:0}populatePaintArrays(l,h,_){for(const w in this.binders){const T=this.binders[w];(T instanceof Jr||T instanceof pi||T instanceof $o)&&T.populatePaintArray(l,h,_)}}setConstantPatternPositions(l,h){for(const _ in this.binders){const w=this.binders[_];w instanceof wl&&w.setConstantPatternPositions(l,h)}}setConstantDashPositions(l,h){for(const _ in this.binders){const w=this.binders[_];w instanceof wl&&w.setConstantDashPositions(l,h)}}updatePaintArrays(l,h,_,w,T){let k=!1;for(const D in l){const B=h.getPositions(D);for(const Z of B){const X=_.feature(Z.index);for(const ee in this.binders){const oe=this.binders[ee];if((oe instanceof Jr||oe instanceof pi||oe instanceof $o)&&oe.expression.isStateDependent===!0){const le=w.paint.get(ee);oe.expression=le.value,oe.updatePaintArray(Z.start,Z.end,X,l[D],T),k=!0}}}}return k}defines(){const l=[];for(const h in this.binders){const _=this.binders[h];(_ instanceof bl||_ instanceof wl)&&l.push(..._.uniformNames.map((w=>`#define HAS_UNIFORM_${w}`)))}return l}getBinderAttributes(){const l=[];for(const h in this.binders){const _=this.binders[h];if(_ instanceof Jr||_ instanceof pi)for(let w=0;w<_.paintVertexAttributes.length;w++)l.push(_.paintVertexAttributes[w].name);else if(_ instanceof $o){const w=_.getVertexAttributes();for(const T of w)l.push(T.name)}}return l}getBinderUniforms(){const l=[];for(const h in this.binders){const _=this.binders[h];if(_ instanceof bl||_ instanceof wl||_ instanceof pi)for(const w of _.uniformNames)l.push(w)}return l}getPaintVertexBuffers(){return this._buffers}getUniforms(l,h){const _=[];for(const w in this.binders){const T=this.binders[w];if(T instanceof bl||T instanceof wl||T instanceof pi){for(const k of T.uniformNames)if(h[k]){const D=T.getBinding(l,h[k],k);_.push({name:k,property:w,binding:D})}}}return _}setUniforms(l,h,_,w){for(const{name:T,property:k,binding:D}of h)this.binders[k].setUniform(D,w,_.get(k),T)}updatePaintBuffers(l){this._buffers=[];for(const h in this.binders){const _=this.binders[h];if(l&&_ instanceof $o){const w=l.fromScale===2?_.zoomInPaintVertexBuffer:_.zoomOutPaintVertexBuffer;w&&this._buffers.push(w)}else(_ instanceof Jr||_ instanceof pi)&&_.paintVertexBuffer&&this._buffers.push(_.paintVertexBuffer)}}upload(l){for(const h in this.binders){const _=this.binders[h];(_ instanceof Jr||_ instanceof pi||_ instanceof $o)&&_.upload(l)}this.updatePaintBuffers()}destroy(){for(const l in this.binders){const h=this.binders[l];(h instanceof Jr||h instanceof pi||h instanceof $o)&&h.destroy()}}}class Ih{constructor(l,h,_=()=>!0){this.programConfigurations={};for(const w of l)this.programConfigurations[w.id]=new qy(w,h,_);this.needsUpload=!1,this._featureMap=new hs,this._bufferOffset=0}populatePaintArrays(l,h,_,w){for(const T in this.programConfigurations)this.programConfigurations[T].populatePaintArrays(l,h,w);h.id!==void 0&&this._featureMap.add(h.id,_,this._bufferOffset,l),this._bufferOffset=l,this.needsUpload=!0}updatePaintArrays(l,h,_,w){for(const T of _)this.needsUpload=this.programConfigurations[T.id].updatePaintArrays(l,this._featureMap,h,T,w)||this.needsUpload}get(l){return this.programConfigurations[l]}upload(l){if(this.needsUpload){for(const h in this.programConfigurations)this.programConfigurations[h].upload(l);this.needsUpload=!1}}destroy(){for(const l in this.programConfigurations)this.programConfigurations[l].destroy()}}function mb(f,l){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-dasharray":["dasharray_to","dasharray_from"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[f]||[f.replace(`${l}-`,"").replace(/-/g,"_")]}function Dh(f,l,h){const _={color:{source:Pi,composite:m},number:{source:Qd,composite:Pi}},w=(function(T){return{"line-pattern":{source:We,composite:We},"fill-pattern":{source:We,composite:We},"fill-extrusion-pattern":{source:We,composite:We},"line-dasharray":{source:Je,composite:Je}}[T]})(f);return w&&w[h]||_[l][h]}yn("ConstantBinder",bl),yn("CrossFadedConstantBinder",wl),yn("SourceExpressionBinder",Jr),yn("CrossFadedPatternBinder",Uo),yn("CrossFadedDasharrayBinder",Zy),yn("CompositeExpressionBinder",pi),yn("ProgramConfiguration",qy,{omit:["_buffers"]}),yn("ProgramConfigurationSet",Ih);const Wy=Math.pow(2,14)-1,Eu=-Wy-1;function Au(f){const l=Ue/f.extent,h=f.loadGeometry();for(let _=0;_<h.length;_++){const w=h[_];for(let T=0;T<w.length;T++){const k=w[T],D=Math.round(k.x*l),B=Math.round(k.y*l);k.x=ct(D,Eu,Wy),k.y=ct(B,Eu,Wy),(D<k.x||D>k.x+1||B<k.y||B>k.y+1)&&Gt("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return h}function tc(f,l){return{type:f.type,id:f.id,properties:f.properties,geometry:l?Au(f):[]}}const Hy=-32768;function lg(f,l,h,_,w){f.emplaceBack(Hy+8*l+_,Hy+8*h+w)}class cg{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map((h=>h.id)),this.index=l.index,this.hasDependencies=!1,this.layoutVertexArray=new Le,this.indexArray=new pt,this.segments=new cn,this.programConfigurations=new Ih(l.layers,l.zoom),this.stateDependentLayerIds=this.layers.filter((h=>h.isStateDependent())).map((h=>h.id))}populate(l,h,_){const w=this.layers[0],T=[];let k=null,D=!1,B=w.type==="heatmap";if(w.type==="circle"){const X=w;k=X.layout.get("circle-sort-key"),D=!k.isConstant(),B=B||X.paint.get("circle-pitch-alignment")==="map"}const Z=B?h.subdivisionGranularity.circle:1;for(const{feature:X,id:ee,index:oe,sourceLayerIndex:le}of l){const fe=this.layers[0]._featureFilter.needGeometry,ge=tc(X,fe);if(!this.layers[0]._featureFilter.filter(new Kr(this.zoom),ge,_))continue;const ve=D?k.evaluate(ge,{},_):void 0,Te={id:ee,properties:X.properties,type:X.type,sourceLayerIndex:le,index:oe,geometry:fe?ge.geometry:Au(X),patterns:{},sortKey:ve};T.push(Te)}D&&T.sort(((X,ee)=>X.sortKey-ee.sortKey));for(const X of T){const{geometry:ee,index:oe,sourceLayerIndex:le}=X,fe=l[oe].feature;this.addFeature(X,ee,oe,_,Z),h.featureIndex.insert(fe,ee,oe,le,this.index)}}update(l,h,_){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,h,this.stateDependentLayers,{imagePositions:_})}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,Nt),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(l,h,_,w,T=1){let k;switch(T){case 1:k=[0,7];break;case 3:k=[0,2,5,7];break;case 5:k=[0,1,3,4,6,7];break;case 7:k=[0,1,2,3,4,5,6,7];break;default:throw new Error(`Invalid circle bucket granularity: ${T}; valid values are 1, 3, 5, 7.`)}const D=k.length;for(const B of h)for(const Z of B){const X=Z.x,ee=Z.y;if(X<0||X>=Ue||ee<0||ee>=Ue)continue;const oe=this.segments.prepareSegment(D*D,this.layoutVertexArray,this.indexArray,l.sortKey),le=oe.vertexLength;for(let fe=0;fe<D;fe++)for(let ge=0;ge<D;ge++)lg(this.layoutVertexArray,X,ee,k[ge],k[fe]);for(let fe=0;fe<D-1;fe++)for(let ge=0;ge<D-1;ge++){const ve=le+fe*D+ge,Te=le+(fe+1)*D+ge;this.indexArray.emplaceBack(ve,Te+1,ve+1),this.indexArray.emplaceBack(ve,Te,Te+1)}oe.vertexLength+=D*D,oe.primitiveLength+=(D-1)*(D-1)*2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,_,{imagePositions:{},canonical:w})}}function ug(f,l){for(let h=0;h<f.length;h++)if(Lh(l,f[h]))return!0;for(let h=0;h<l.length;h++)if(Lh(f,l[h]))return!0;return!!Ts(f,l)}function gb(f,l,h){return!!Lh(f,l)||!!vb(l,f,h)}function yb(f,l){if(f.length===1)return fS(l,f[0]);for(let h=0;h<l.length;h++){const _=l[h];for(let w=0;w<_.length;w++)if(Lh(f,_[w]))return!0}for(let h=0;h<f.length;h++)if(fS(l,f[h]))return!0;for(let h=0;h<l.length;h++)if(Ts(f,l[h]))return!0;return!1}function ds(f,l,h){if(f.length>1){if(Ts(f,l))return!0;for(let _=0;_<l.length;_++)if(vb(l[_],f,h))return!0}for(let _=0;_<f.length;_++)if(vb(f[_],l,h))return!0;return!1}function Ts(f,l){if(f.length===0||l.length===0)return!1;for(let h=0;h<f.length-1;h++){const _=f[h],w=f[h+1];for(let T=0;T<l.length-1;T++)if(oE(_,w,l[T],l[T+1]))return!0}return!1}function oE(f,l,h,_){return Yt(f,h,_)!==Yt(l,h,_)&&Yt(f,l,h)!==Yt(f,l,_)}function vb(f,l,h){const _=h*h;if(l.length===1)return f.distSqr(l[0])<_;for(let w=1;w<l.length;w++)if(dS(f,l[w-1],l[w])<_)return!0;return!1}function dS(f,l,h){const _=l.distSqr(h);if(_===0)return f.distSqr(l);const w=((f.x-l.x)*(h.x-l.x)+(f.y-l.y)*(h.y-l.y))/_;return f.distSqr(w<0?l:w>1?h:h.sub(l)._mult(w)._add(l))}function fS(f,l){let h,_,w,T=!1;for(let k=0;k<f.length;k++){h=f[k];for(let D=0,B=h.length-1;D<h.length;B=D++)_=h[D],w=h[B],_.y>l.y!=w.y>l.y&&l.x<(w.x-_.x)*(l.y-_.y)/(w.y-_.y)+_.x&&(T=!T)}return T}function Lh(f,l){let h=!1;for(let _=0,w=f.length-1;_<f.length;w=_++){const T=f[_],k=f[w];T.y>l.y!=k.y>l.y&&l.x<(k.x-T.x)*(l.y-T.y)/(k.y-T.y)+T.x&&(h=!h)}return h}function sE(f,l,h){const _=h[0],w=h[2];if(f.x<_.x&&l.x<_.x||f.x>w.x&&l.x>w.x||f.y<_.y&&l.y<_.y||f.y>w.y&&l.y>w.y)return!1;const T=Yt(f,l,h[0]);return T!==Yt(f,l,h[1])||T!==Yt(f,l,h[2])||T!==Yt(f,l,h[3])}function Zd(f,l,h){const _=l.paint.get(f).value;return _.kind==="constant"?_.value:h.programConfigurations.get(l.id).getMaxValue(f)}function $v(f){return Math.sqrt(f[0]*f[0]+f[1]*f[1])}function _b(f,l,h,_,w){if(!l[0]&&!l[1])return f;const T=u.convert(l)._mult(w);h==="viewport"&&T._rotate(-_);const k=[];for(let D=0;D<f.length;D++)k.push(f[D].sub(T));return k}function xb(f){const l=[];for(let h=0;h<f.length;h++){const _=f[h],w=l.at(-1);(h===0||w&&!_.equals(w))&&l.push(_)}return l}function pS({queryGeometry:f,size:l},h){return gb(f,h,l)}function aE({queryGeometry:f,size:l,transform:h,unwrappedTileID:_,getElevation:w},T){return gb(f,T,l*(h.projectTileCoordinates(T.x,T.y,_,w).signedDistanceFromCamera/h.cameraToCenterDistance))}function lE({queryGeometry:f,size:l,transform:h,unwrappedTileID:_,getElevation:w},T){const k=h.projectTileCoordinates(T.x,T.y,_,w).signedDistanceFromCamera,D=l*(h.cameraToCenterDistance/k);return gb(f,zv(T,h,_,w),D)}function cE({queryGeometry:f,size:l,transform:h,unwrappedTileID:_,getElevation:w},T){return gb(f,zv(T,h,_,w),l)}function bb({queryGeometry:f,size:l,transform:h,unwrappedTileID:_,getElevation:w,pitchAlignment:T="map",pitchScale:k="map"},D){const B=T==="map"?k==="map"?pS:aE:k==="map"?lE:cE,Z={queryGeometry:f,size:l,transform:h,unwrappedTileID:_,getElevation:w};for(const X of D)for(const ee of X)if(B(Z,ee))return!0;return!1}function zv(f,l,h,_){const w=l.projectTileCoordinates(f.x,f.y,h,_).point;return new u((.5*w.x+.5)*l.width,(.5*-w.y+.5)*l.height)}let wb,mS;yn("CircleBucket",cg,{omit:["layers"]});var gS={get paint(){return mS=mS||new wo({"circle-radius":new An(ut.paint_circle["circle-radius"]),"circle-color":new An(ut.paint_circle["circle-color"]),"circle-blur":new An(ut.paint_circle["circle-blur"]),"circle-opacity":new An(ut.paint_circle["circle-opacity"]),"circle-translate":new xn(ut.paint_circle["circle-translate"]),"circle-translate-anchor":new xn(ut.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new xn(ut.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new xn(ut.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new An(ut.paint_circle["circle-stroke-width"]),"circle-stroke-color":new An(ut.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new An(ut.paint_circle["circle-stroke-opacity"])})},get layout(){return wb=wb||new wo({"circle-sort-key":new An(ut.layout_circle["circle-sort-key"])})}};class Ob extends Gi{constructor(l,h){super(l,gS,h)}createBucket(l){return new cg(l)}queryRadius(l){const h=l;return Zd("circle-radius",this,h)+Zd("circle-stroke-width",this,h)+$v(this.paint.get("circle-translate"))}queryIntersectsFeature({queryGeometry:l,feature:h,featureState:_,geometry:w,transform:T,pixelsToTileUnits:k,unwrappedTileID:D,getElevation:B}){const Z=_b(l,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),-T.bearingInRadians,k),X=this.paint.get("circle-radius").evaluate(h,_)+this.paint.get("circle-stroke-width").evaluate(h,_),ee=this.paint.get("circle-pitch-scale"),oe=this.paint.get("circle-pitch-alignment");let le,fe;return oe==="map"?(le=Z,fe=X*k):(le=(function(ge,ve,Te,Ve){return ge.map((Ee=>zv(Ee,ve,Te,Ve)))})(Z,T,D,B),fe=X),bb({queryGeometry:le,size:fe,transform:T,unwrappedTileID:D,getElevation:B,pitchAlignment:oe,pitchScale:ee},w)}}class Sb extends cg{}let yS;yn("HeatmapBucket",Sb,{omit:["layers"]});var vS={get paint(){return yS=yS||new wo({"heatmap-radius":new An(ut.paint_heatmap["heatmap-radius"]),"heatmap-weight":new An(ut.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new xn(ut.paint_heatmap["heatmap-intensity"]),"heatmap-color":new rg(ut.paint_heatmap["heatmap-color"]),"heatmap-opacity":new xn(ut.paint_heatmap["heatmap-opacity"])})}};function Cb(f,{width:l,height:h},_,w){if(w){if(w instanceof Uint8ClampedArray)w=new Uint8Array(w.buffer);else if(w.length!==l*h*_)throw new RangeError(`mismatched image size. expected: ${w.length} but got: ${l*h*_}`)}else w=new Uint8Array(l*h*_);return f.width=l,f.height=h,f.data=w,f}function $h(f,{width:l,height:h},_){if(l===f.width&&h===f.height)return;const w=Cb({},{width:l,height:h},_);Nv(f,w,{x:0,y:0},{x:0,y:0},{width:Math.min(f.width,l),height:Math.min(f.height,h)},_),f.width=l,f.height=h,f.data=w.data}function Nv(f,l,h,_,w,T){if(w.width===0||w.height===0)return l;if(w.width>f.width||w.height>f.height||h.x>f.width-w.width||h.y>f.height-w.height)throw new RangeError("out of range source coordinates for image copy");if(w.width>l.width||w.height>l.height||_.x>l.width-w.width||_.y>l.height-w.height)throw new RangeError("out of range destination coordinates for image copy");const k=f.data,D=l.data;if(k===D)throw new Error("srcData equals dstData, so image is already copied");for(let B=0;B<w.height;B++){const Z=((h.y+B)*f.width+h.x)*T,X=((_.y+B)*l.width+_.x)*T;for(let ee=0;ee<w.width*T;ee++)D[X+ee]=k[Z+ee]}return l}class Bv{constructor(l,h){Cb(this,l,1,h)}resize(l){$h(this,l,1)}clone(){return new Bv({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,h,_,w,T){Nv(l,h,_,w,T,1)}}class Ca{constructor(l,h){Cb(this,l,4,h)}resize(l){$h(this,l,4)}replace(l,h){h?this.data.set(l):this.data=l instanceof Uint8ClampedArray?new Uint8Array(l.buffer):l}clone(){return new Ca({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,h,_,w,T){Nv(l,h,_,w,T,4)}setPixel(l,h,_){const w=4*(l*this.width+h);this.data[w+0]=Math.round(255*_.r/_.a),this.data[w+1]=Math.round(255*_.g/_.a),this.data[w+2]=Math.round(255*_.b/_.a),this.data[w+3]=Math.round(255*_.a)}}function zh(f){const l={},h=f.resolution||256,_=f.clips?f.clips.length:1,w=f.image||new Ca({width:h,height:_});if(Math.log(h)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${h}`);const T=(k,D,B)=>{l[f.evaluationKey]=B;const Z=f.expression.evaluate(l);w.setPixel(k/4/h,D/4,Z)};if(f.clips)for(let k=0,D=0;k<_;++k,D+=4*h)for(let B=0,Z=0;B<h;B++,Z+=4){const X=B/(h-1),{start:ee,end:oe}=f.clips[k];T(D,Z,ee*(1-X)+oe*X)}else for(let k=0,D=0;k<h;k++,D+=4)T(0,D,k/(h-1));return w}yn("AlphaImage",Bv),yn("RGBAImage",Ca);const Fv="big-fb";class uE extends Gi{createBucket(l){return new Sb(l)}constructor(l,h){super(l,vS,h),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(l){l==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=zh({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(Fv)&&this.heatmapFbos.delete(Fv)}queryRadius(l){return Zd("heatmap-radius",this,l)}queryIntersectsFeature({queryGeometry:l,feature:h,featureState:_,geometry:w,transform:T,pixelsToTileUnits:k,unwrappedTileID:D,getElevation:B}){return bb({queryGeometry:l,size:this.paint.get("heatmap-radius").evaluate(h,_)*k,transform:T,unwrappedTileID:D,getElevation:B},w)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&!this.isHidden()}}let jv;var Vv={get paint(){return jv=jv||new wo({"hillshade-illumination-direction":new xn(ut.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-altitude":new xn(ut.paint_hillshade["hillshade-illumination-altitude"]),"hillshade-illumination-anchor":new xn(ut.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new xn(ut.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new xn(ut.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new xn(ut.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new xn(ut.paint_hillshade["hillshade-accent-color"]),"hillshade-method":new xn(ut.paint_hillshade["hillshade-method"])})}};class ho extends Gi{constructor(l,h){super(l,Vv,h),this.recalculate({zoom:0,zoomHistory:{}},void 0)}getIlluminationProperties(){let l=this.paint.get("hillshade-illumination-direction").values,h=this.paint.get("hillshade-illumination-altitude").values,_=this.paint.get("hillshade-highlight-color").values,w=this.paint.get("hillshade-shadow-color").values;const T=Math.max(l.length,h.length,_.length,w.length);l=l.concat(Array(T-l.length).fill(l.at(-1))),h=h.concat(Array(T-h.length).fill(h.at(-1))),_=_.concat(Array(T-_.length).fill(_.at(-1))),w=w.concat(Array(T-w.length).fill(w.at(-1)));const k=h.map(kt);return{directionRadians:l.map(kt),altitudeRadians:k,shadowColor:w,highlightColor:_}}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&!this.isHidden()}}let hE;var cD={get paint(){return hE=hE||new wo({"color-relief-opacity":new xn(ut["paint_color-relief"]["color-relief-opacity"]),"color-relief-color":new rg(ut["paint_color-relief"]["color-relief-color"])})}};class Tb{constructor(l,h,_,w){this.context=l,this.format=_,this.texture=l.gl.createTexture(),this.update(h,w)}update(l,h,_){const{width:w,height:T}=l,k=!(this.size&&this.size[0]===w&&this.size[1]===T||_),{context:D}=this,{gl:B}=D;if(this.useMipmap=!!(h&&h.useMipmap),B.bindTexture(B.TEXTURE_2D,this.texture),D.pixelStoreUnpackFlipY.set(!1),D.pixelStoreUnpack.set(1),D.pixelStoreUnpackPremultiplyAlpha.set(this.format===B.RGBA&&(!h||h.premultiply!==!1)),k)this.size=[w,T],l instanceof HTMLImageElement||l instanceof HTMLCanvasElement||l instanceof HTMLVideoElement||l instanceof ImageData||Rn(l)?B.texImage2D(B.TEXTURE_2D,0,this.format,this.format,B.UNSIGNED_BYTE,l):B.texImage2D(B.TEXTURE_2D,0,this.format,w,T,0,this.format,B.UNSIGNED_BYTE,l.data);else{const{x:Z,y:X}=_||{x:0,y:0};l instanceof HTMLImageElement||l instanceof HTMLCanvasElement||l instanceof HTMLVideoElement||l instanceof ImageData||Rn(l)?B.texSubImage2D(B.TEXTURE_2D,0,Z,X,B.RGBA,B.UNSIGNED_BYTE,l):B.texSubImage2D(B.TEXTURE_2D,0,Z,X,w,T,B.RGBA,B.UNSIGNED_BYTE,l.data)}this.useMipmap&&this.isSizePowerOfTwo()&&B.generateMipmap(B.TEXTURE_2D),D.pixelStoreUnpackFlipY.setDefault(),D.pixelStoreUnpack.setDefault(),D.pixelStoreUnpackPremultiplyAlpha.setDefault()}bind(l,h,_){const{context:w}=this,{gl:T}=w;T.bindTexture(T.TEXTURE_2D,this.texture),_!==T.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(_=T.LINEAR),l!==this.filter&&(T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MAG_FILTER,l),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MIN_FILTER,_||l),this.filter=l),h!==this.wrap&&(T.texParameteri(T.TEXTURE_2D,T.TEXTURE_WRAP_S,h),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_WRAP_T,h),this.wrap=h)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:l}=this.context;l.deleteTexture(this.texture),this.texture=null}}class Gy{constructor(l,h,_,w=1,T=1,k=1,D=0){if(this.uid=l,h.height!==h.width)throw new RangeError("DEM tiles must be square");if(_&&!["mapbox","terrarium","custom"].includes(_))return void Gt(`"${_}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=h.height;const B=this.dim=h.height-2;switch(this.data=new Uint32Array(h.data.buffer),_){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=w,this.greenFactor=T,this.blueFactor=k,this.baseShift=D;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let Z=0;Z<B;Z++)this.data[this._idx(-1,Z)]=this.data[this._idx(0,Z)],this.data[this._idx(B,Z)]=this.data[this._idx(B-1,Z)],this.data[this._idx(Z,-1)]=this.data[this._idx(Z,0)],this.data[this._idx(Z,B)]=this.data[this._idx(Z,B-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(B,-1)]=this.data[this._idx(B-1,0)],this.data[this._idx(-1,B)]=this.data[this._idx(0,B-1)],this.data[this._idx(B,B)]=this.data[this._idx(B-1,B-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let Z=0;Z<B;Z++)for(let X=0;X<B;X++){const ee=this.get(Z,X);ee>this.max&&(this.max=ee),ee<this.min&&(this.min=ee)}}get(l,h){const _=new Uint8Array(this.data.buffer),w=4*this._idx(l,h);return this.unpack(_[w],_[w+1],_[w+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(l,h){if(l<-1||l>=this.dim+1||h<-1||h>=this.dim+1)throw new RangeError(`Out of range source coordinates for DEM data. x: ${l}, y: ${h}, dim: ${this.dim}`);return(h+1)*this.stride+(l+1)}unpack(l,h,_){return l*this.redFactor+h*this.greenFactor+_*this.blueFactor-this.baseShift}pack(l){return qd(l,this.getUnpackVector())}getPixels(){return new Ca({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(l,h,_){if(this.dim!==l.dim)throw new Error("dem dimension mismatch");let w=h*this.dim,T=h*this.dim+this.dim,k=_*this.dim,D=_*this.dim+this.dim;switch(h){case-1:w=T-1;break;case 1:T=w+1}switch(_){case-1:k=D-1;break;case 1:D=k+1}const B=-h*this.dim,Z=-_*this.dim;for(let X=k;X<D;X++)for(let ee=w;ee<T;ee++)this.data[this._idx(ee,X)]=l.data[this._idx(ee+B,X+Z)]}}function qd(f,l){const h=l[0],_=l[1],w=l[2],T=l[3],k=Math.min(h,_,w),D=Math.round((f+T)/k);return{r:Math.floor(D*k/h)%256,g:Math.floor(D*k/_)%256,b:Math.floor(D*k/w)%256}}yn("DEMData",Gy);class dE extends Gi{constructor(l,h){super(l,cD,h)}_createColorRamp(l){const h={elevationStops:[],colorStops:[]},_=this._transitionablePaint._values["color-relief-color"].value.expression;if(_ instanceof da&&_._styleExpression.expression instanceof ua){this.colorRampExpression=_;const k=_._styleExpression.expression;h.elevationStops=k.labels,h.colorStops=[];for(const D of h.elevationStops)h.colorStops.push(k.evaluate({globals:{elevation:D}}))}if(h.elevationStops.length<1&&(h.elevationStops=[0],h.colorStops=[ur.transparent]),h.elevationStops.length<2&&(h.elevationStops.push(h.elevationStops[0]+1),h.colorStops.push(h.colorStops[0])),h.elevationStops.length<=l)return h;const w={elevationStops:[],colorStops:[]},T=(h.elevationStops.length-1)/(l-1);for(let k=0;k<h.elevationStops.length-.5;k+=T)w.elevationStops.push(h.elevationStops[Math.round(k)]),w.colorStops.push(h.colorStops[Math.round(k)]);return Gt(`Too many colors in specification of ${this.id} color-relief layer, may not render properly. Max possible colors: ${l}, provided: ${h.elevationStops.length}`),w}_colorRampChanged(){return this.colorRampExpression!=this._transitionablePaint._values["color-relief-color"].value.expression}getColorRampTextures(l,h,_){if(this.colorRampTextures&&!this._colorRampChanged())return this.colorRampTextures;const w=this._createColorRamp(h),T=new Ca({width:w.colorStops.length,height:1}),k=new Ca({width:w.colorStops.length,height:1});for(let D=0;D<w.elevationStops.length;D++){const B=qd(w.elevationStops[D],_);k.setPixel(0,D,new ur(B.r/255,B.g/255,B.b/255,1)),T.setPixel(0,D,w.colorStops[D])}return this.colorRampTextures={elevationTexture:new Tb(l,k,l.gl.RGBA),colorTexture:new Tb(l,T,l.gl.RGBA)},this.colorRampTextures}hasOffscreenPass(){return!this.isHidden()&&!!this.colorRampTextures}}const fE=Bi([{name:"a_pos",components:2,type:"Int16"}],4),{members:Qv}=fE;function nc(f,l,h){const _=h.patternDependencies;let w=!1;for(const T of l){const k=T.paint.get(`${f}-pattern`);k.isConstant()||(w=!0);const D=k.constantOr(null);D&&(w=!0,_[D.to]=!0,_[D.from]=!0)}return w}function kb(f,l,h,_,w){const{zoom:T}=_,k=w.patternDependencies;for(const D of l){const B=D.paint.get(`${f}-pattern`).value;if(B.kind!=="constant"){let Z=B.evaluate({zoom:T-1},h,{},w.availableImages),X=B.evaluate({zoom:T},h,{},w.availableImages),ee=B.evaluate({zoom:T+1},h,{},w.availableImages);Z=Z&&Z.name?Z.name:Z,X=X&&X.name?X.name:X,ee=ee&&ee.name?ee.name:ee,k[Z]=!0,k[X]=!0,k[ee]=!0,h.patterns[D.id]={min:Z,mid:X,max:ee}}}return h}function Eb(f,l,h,_,w){let T;if(w===(function(k,D,B,Z){let X=0;for(let ee=D,oe=B-Z;ee<B;ee+=Z)X+=(k[oe]-k[ee])*(k[ee+1]+k[oe+1]),oe=ee;return X})(f,l,h,_)>0)for(let k=l;k<h;k+=_)T=Wa(k/_|0,f[k],f[k+1],T);else for(let k=h-_;k>=l;k-=_)T=Wa(k/_|0,f[k],f[k+1],T);return T&&Ol(T,T.next)&&(Ha(T),T=T.next),T}function pp(f,l){if(!f)return f;l||(l=f);let h,_=f;do if(h=!1,_.steiner||!Ol(_,_.next)&&Vr(_.prev,_,_.next)!==0)_=_.next;else{if(Ha(_),_=l=_.prev,_===_.next)break;h=!0}while(h||_!==l);return l}function hg(f,l,h,_,w,T,k){if(!f)return;!k&&T&&(function(B,Z,X,ee){let oe=B;do oe.z===0&&(oe.z=ps(oe.x,oe.y,Z,X,ee)),oe.prevZ=oe.prev,oe.nextZ=oe.next,oe=oe.next;while(oe!==B);oe.prevZ.nextZ=null,oe.prevZ=null,(function(le){let fe,ge=1;do{let ve,Te=le;le=null;let Ve=null;for(fe=0;Te;){fe++;let Ee=Te,Re=0;for(let Ge=0;Ge<ge&&(Re++,Ee=Ee.nextZ,Ee);Ge++);let qe=ge;for(;Re>0||qe>0&&Ee;)Re!==0&&(qe===0||!Ee||Te.z<=Ee.z)?(ve=Te,Te=Te.nextZ,Re--):(ve=Ee,Ee=Ee.nextZ,qe--),Ve?Ve.nextZ=ve:le=ve,ve.prevZ=Ve,Ve=ve;Te=Ee}Ve.nextZ=null,ge*=2}while(fe>1)})(oe)})(f,_,w,T);let D=f;for(;f.prev!==f.next;){const B=f.prev,Z=f.next;if(T?Ab(f,_,w,T):_S(f))l.push(B.i,f.i,Z.i),Ha(f),f=Z.next,D=Z.next;else if((f=Z)===D){k?k===1?hg(f=pE(pp(f),l),l,h,_,w,T,2):k===2&&Wd(f,l,h,_,w,T):hg(pp(f),l,h,_,w,T,1);break}}}function _S(f){const l=f.prev,h=f,_=f.next;if(Vr(l,h,_)>=0)return!1;const w=l.x,T=h.x,k=_.x,D=l.y,B=h.y,Z=_.y,X=Math.min(w,T,k),ee=Math.min(D,B,Z),oe=Math.max(w,T,k),le=Math.max(D,B,Z);let fe=_.next;for(;fe!==l;){if(fe.x>=X&&fe.x<=oe&&fe.y>=ee&&fe.y<=le&&Xy(w,D,T,B,k,Z,fe.x,fe.y)&&Vr(fe.prev,fe,fe.next)>=0)return!1;fe=fe.next}return!0}function Ab(f,l,h,_){const w=f.prev,T=f,k=f.next;if(Vr(w,T,k)>=0)return!1;const D=w.x,B=T.x,Z=k.x,X=w.y,ee=T.y,oe=k.y,le=Math.min(D,B,Z),fe=Math.min(X,ee,oe),ge=Math.max(D,B,Z),ve=Math.max(X,ee,oe),Te=ps(le,fe,l,h,_),Ve=ps(ge,ve,l,h,_);let Ee=f.prevZ,Re=f.nextZ;for(;Ee&&Ee.z>=Te&&Re&&Re.z<=Ve;){if(Ee.x>=le&&Ee.x<=ge&&Ee.y>=fe&&Ee.y<=ve&&Ee!==w&&Ee!==k&&Xy(D,X,B,ee,Z,oe,Ee.x,Ee.y)&&Vr(Ee.prev,Ee,Ee.next)>=0||(Ee=Ee.prevZ,Re.x>=le&&Re.x<=ge&&Re.y>=fe&&Re.y<=ve&&Re!==w&&Re!==k&&Xy(D,X,B,ee,Z,oe,Re.x,Re.y)&&Vr(Re.prev,Re,Re.next)>=0))return!1;Re=Re.nextZ}for(;Ee&&Ee.z>=Te;){if(Ee.x>=le&&Ee.x<=ge&&Ee.y>=fe&&Ee.y<=ve&&Ee!==w&&Ee!==k&&Xy(D,X,B,ee,Z,oe,Ee.x,Ee.y)&&Vr(Ee.prev,Ee,Ee.next)>=0)return!1;Ee=Ee.prevZ}for(;Re&&Re.z<=Ve;){if(Re.x>=le&&Re.x<=ge&&Re.y>=fe&&Re.y<=ve&&Re!==w&&Re!==k&&Xy(D,X,B,ee,Z,oe,Re.x,Re.y)&&Vr(Re.prev,Re,Re.next)>=0)return!1;Re=Re.nextZ}return!0}function pE(f,l){let h=f;do{const _=h.prev,w=h.next.next;!Ol(_,w)&&wS(_,h,h.next,w)&&qv(_,w)&&qv(w,_)&&(l.push(_.i,h.i,w.i),Ha(h),Ha(h.next),h=f=w),h=h.next}while(h!==f);return pp(h)}function Wd(f,l,h,_,w,T){let k=f;do{let D=k.next.next;for(;D!==k.prev;){if(k.i!==D.i&&Oo(k,D)){let B=Wv(k,D);return k=pp(k,k.next),B=pp(B,B.next),hg(k,l,h,_,w,T,0),void hg(B,l,h,_,w,T,0)}D=D.next}k=k.next}while(k!==f)}function fs(f,l){let h=f.x-l.x;return h===0&&(h=f.y-l.y,h===0)&&(h=(f.next.y-f.y)/(f.next.x-f.x)-(l.next.y-l.y)/(l.next.x-l.x)),h}function xS(f,l){const h=(function(w,T){let k=T;const D=w.x,B=w.y;let Z,X=-1/0;if(Ol(w,k))return k;do{if(Ol(w,k.next))return k.next;if(B<=k.y&&B>=k.next.y&&k.next.y!==k.y){const ge=k.x+(B-k.y)*(k.next.x-k.x)/(k.next.y-k.y);if(ge<=D&&ge>X&&(X=ge,Z=k.x<k.next.x?k:k.next,ge===D))return Z}k=k.next}while(k!==T);if(!Z)return null;const ee=Z,oe=Z.x,le=Z.y;let fe=1/0;k=Z;do{if(D>=k.x&&k.x>=oe&&D!==k.x&&bS(B<le?D:X,B,oe,le,B<le?X:D,B,k.x,k.y)){const ge=Math.abs(B-k.y)/(D-k.x);qv(k,w)&&(ge<fe||ge===fe&&(k.x>Z.x||k.x===Z.x&&mE(Z,k)))&&(Z=k,fe=ge)}k=k.next}while(k!==ee);return Z})(f,l);if(!h)return l;const _=Wv(h,f);return pp(_,_.next),pp(h,h.next)}function mE(f,l){return Vr(f.prev,f,l.prev)<0&&Vr(l.next,f,f.next)<0}function ps(f,l,h,_,w){return(f=1431655765&((f=858993459&((f=252645135&((f=16711935&((f=(f-h)*w|0)|f<<8))|f<<4))|f<<2))|f<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-_)*w|0)|l<<8))|l<<4))|l<<2))|l<<1))<<1}function uD(f){let l=f,h=f;do(l.x<h.x||l.x===h.x&&l.y<h.y)&&(h=l),l=l.next;while(l!==f);return h}function bS(f,l,h,_,w,T,k,D){return(w-k)*(l-D)>=(f-k)*(T-D)&&(f-k)*(_-D)>=(h-k)*(l-D)&&(h-k)*(T-D)>=(w-k)*(_-D)}function Xy(f,l,h,_,w,T,k,D){return!(f===k&&l===D)&&bS(f,l,h,_,w,T,k,D)}function Oo(f,l){return f.next.i!==l.i&&f.prev.i!==l.i&&!(function(h,_){let w=h;do{if(w.i!==h.i&&w.next.i!==h.i&&w.i!==_.i&&w.next.i!==_.i&&wS(w,w.next,h,_))return!0;w=w.next}while(w!==h);return!1})(f,l)&&(qv(f,l)&&qv(l,f)&&(function(h,_){let w=h,T=!1;const k=(h.x+_.x)/2,D=(h.y+_.y)/2;do w.y>D!=w.next.y>D&&w.next.y!==w.y&&k<(w.next.x-w.x)*(D-w.y)/(w.next.y-w.y)+w.x&&(T=!T),w=w.next;while(w!==h);return T})(f,l)&&(Vr(f.prev,f,l.prev)||Vr(f,l.prev,l))||Ol(f,l)&&Vr(f.prev,f,f.next)>0&&Vr(l.prev,l,l.next)>0)}function Vr(f,l,h){return(l.y-f.y)*(h.x-l.x)-(l.x-f.x)*(h.y-l.y)}function Ol(f,l){return f.x===l.x&&f.y===l.y}function wS(f,l,h,_){const w=Zv(Vr(f,l,h)),T=Zv(Vr(f,l,_)),k=Zv(Vr(h,_,f)),D=Zv(Vr(h,_,l));return w!==T&&k!==D||!(w!==0||!Uv(f,h,l))||!(T!==0||!Uv(f,_,l))||!(k!==0||!Uv(h,f,_))||!(D!==0||!Uv(h,l,_))}function Uv(f,l,h){return l.x<=Math.max(f.x,h.x)&&l.x>=Math.min(f.x,h.x)&&l.y<=Math.max(f.y,h.y)&&l.y>=Math.min(f.y,h.y)}function Zv(f){return f>0?1:f<0?-1:0}function qv(f,l){return Vr(f.prev,f,f.next)<0?Vr(f,l,f.next)>=0&&Vr(f,f.prev,l)>=0:Vr(f,l,f.prev)<0||Vr(f,f.next,l)<0}function Wv(f,l){const h=Pb(f.i,f.x,f.y),_=Pb(l.i,l.x,l.y),w=f.next,T=l.prev;return f.next=l,l.prev=f,h.next=w,w.prev=h,_.next=h,h.prev=_,T.next=_,_.prev=T,_}function Wa(f,l,h,_){const w=Pb(f,l,h);return _?(w.next=_.next,w.prev=_,_.next.prev=w,_.next=w):(w.prev=w,w.next=w),w}function Ha(f){f.next.prev=f.prev,f.prev.next=f.next,f.prevZ&&(f.prevZ.nextZ=f.nextZ),f.nextZ&&(f.nextZ.prevZ=f.prevZ)}function Pb(f,l,h){return{i:f,x:l,y:h,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class ks{constructor(l,h){if(h>l)throw new Error("Min granularity must not be greater than base granularity.");this._baseZoomGranularity=l,this._minGranularity=h}getGranularityForZoomLevel(l){return Math.max(Math.floor(this._baseZoomGranularity/(1<<l)),this._minGranularity,1)}}class Hv{constructor(l){this.fill=l.fill,this.line=l.line,this.tile=l.tile,this.stencil=l.stencil,this.circle=l.circle}}Hv.noSubdivision=new Hv({fill:new ks(0,0),line:new ks(0,0),tile:new ks(0,0),stencil:new ks(0,0),circle:1}),yn("SubdivisionGranularityExpression",ks),yn("SubdivisionGranularitySetting",Hv);const Sl=-32768,Pu=32767;class Hd{constructor(l,h){this._vertexBuffer=[],this._vertexDictionary=new Map,this._used=!1,this._granularity=l,this._granularityCellSize=Ue/l,this._canonical=h}_getKey(l,h){return(l+=32768)<<16|h+32768}_vertexToIndex(l,h){if(l<-32768||h<-32768||l>32767||h>32767)throw new Error("Vertex coordinates are out of signed 16 bit integer range.");const _=0|Math.round(l),w=0|Math.round(h),T=this._getKey(_,w);if(this._vertexDictionary.has(T))return this._vertexDictionary.get(T);const k=this._vertexBuffer.length/2;return this._vertexDictionary.set(T,k),this._vertexBuffer.push(_,w),k}_subdivideTrianglesScanline(l){if(this._granularity<2)return(function(w,T){const k=[];for(let D=0;D<T.length;D+=3){const B=T[D],Z=T[D+1],X=T[D+2],ee=w[2*B],oe=w[2*B+1];(w[2*Z]-ee)*(w[2*X+1]-oe)-(w[2*Z+1]-oe)*(w[2*X]-ee)>0?(k.push(B),k.push(X),k.push(Z)):(k.push(B),k.push(Z),k.push(X))}return k})(this._vertexBuffer,l);const h=[],_=l.length;for(let w=0;w<_;w+=3){const T=[l[w+0],l[w+1],l[w+2]],k=[this._vertexBuffer[2*l[w+0]+0],this._vertexBuffer[2*l[w+0]+1],this._vertexBuffer[2*l[w+1]+0],this._vertexBuffer[2*l[w+1]+1],this._vertexBuffer[2*l[w+2]+0],this._vertexBuffer[2*l[w+2]+1]];let D=1/0,B=1/0,Z=-1/0,X=-1/0;for(let ge=0;ge<3;ge++){const ve=k[2*ge],Te=k[2*ge+1];D=Math.min(D,ve),Z=Math.max(Z,ve),B=Math.min(B,Te),X=Math.max(X,Te)}if(D===Z||B===X)continue;const ee=Math.floor(D/this._granularityCellSize),oe=Math.ceil(Z/this._granularityCellSize),le=Math.floor(B/this._granularityCellSize),fe=Math.ceil(X/this._granularityCellSize);if(ee!==oe||le!==fe)for(let ge=le;ge<fe;ge++){const ve=this._scanlineGenerateVertexRingForCellRow(ge,k,T);Mu(this._vertexBuffer,ve,h)}else h.push(...T)}return h}_scanlineGenerateVertexRingForCellRow(l,h,_){const w=l*this._granularityCellSize,T=w+this._granularityCellSize,k=[];for(let D=0;D<3;D++){const B=h[2*D],Z=h[2*D+1],X=h[2*(D+1)%6],ee=h[(2*(D+1)+1)%6],oe=h[2*(D+2)%6],le=h[(2*(D+2)+1)%6],fe=X-B,ge=ee-Z,ve=fe===0,Te=ge===0,Ve=(w-Z)/ge,Ee=(T-Z)/ge,Re=Math.min(Ve,Ee),qe=Math.max(Ve,Ee);if(!Te&&(Re>=1||qe<=0)||Te&&(Z<w||Z>T)){ee>=w&&ee<=T&&k.push(_[(D+1)%3]);continue}!Te&&Re>0&&k.push(this._vertexToIndex(B+fe*Re,Z+ge*Re));const Ge=B+fe*Math.max(Re,0),dt=B+fe*Math.min(qe,1);ve||this._generateIntraEdgeVertices(k,B,Z,X,ee,Ge,dt),!Te&&qe<1&&k.push(this._vertexToIndex(B+fe*qe,Z+ge*qe)),(Te||ee>=w&&ee<=T)&&k.push(_[(D+1)%3]),!Te&&(ee<=w||ee>=T)&&this._generateInterEdgeVertices(k,B,Z,X,ee,oe,le,dt,w,T)}return k}_generateIntraEdgeVertices(l,h,_,w,T,k,D){const B=w-h,Z=T-_,X=Z===0,ee=X?Math.min(h,w):Math.min(k,D),oe=X?Math.max(h,w):Math.max(k,D),le=Math.floor(ee/this._granularityCellSize)+1,fe=Math.ceil(oe/this._granularityCellSize)-1;if(X?h<w:k<D)for(let ge=le;ge<=fe;ge++){const ve=ge*this._granularityCellSize;l.push(this._vertexToIndex(ve,_+Z*(ve-h)/B))}else for(let ge=fe;ge>=le;ge--){const ve=ge*this._granularityCellSize;l.push(this._vertexToIndex(ve,_+Z*(ve-h)/B))}}_generateInterEdgeVertices(l,h,_,w,T,k,D,B,Z,X){const ee=T-_,oe=k-w,le=D-T,fe=(Z-T)/le,ge=(X-T)/le,ve=Math.min(fe,ge),Te=Math.max(fe,ge),Ve=w+oe*ve;let Ee=Math.floor(Math.min(Ve,B)/this._granularityCellSize)+1,Re=Math.ceil(Math.max(Ve,B)/this._granularityCellSize)-1,qe=B<Ve;const Ge=le===0;if(Ge&&(D===Z||D===X))return;if(Ge||ve>=1||Te<=0){const Lt=_-D,Et=k+(h-k)*Math.min((Z-D)/Lt,(X-D)/Lt);Ee=Math.floor(Math.min(Et,B)/this._granularityCellSize)+1,Re=Math.ceil(Math.max(Et,B)/this._granularityCellSize)-1,qe=B<Et}const dt=ee>0?X:Z;if(qe)for(let Lt=Ee;Lt<=Re;Lt++)l.push(this._vertexToIndex(Lt*this._granularityCellSize,dt));else for(let Lt=Re;Lt>=Ee;Lt--)l.push(this._vertexToIndex(Lt*this._granularityCellSize,dt))}_generateOutline(l){const h=[];for(const _ of l){const w=Gd(_,this._granularity,!0),T=this._pointArrayToIndices(w),k=[];for(let D=1;D<T.length;D++)k.push(T[D-1]),k.push(T[D]);h.push(k)}return h}_handlePoles(l){let h=!1,_=!1;this._canonical&&(this._canonical.y===0&&(h=!0),this._canonical.y===(1<<this._canonical.z)-1&&(_=!0)),(h||_)&&this._fillPoles(l,h,_)}_ensureNoPoleVertices(){const l=this._vertexBuffer;for(let h=0;h<l.length;h+=2){const _=l[h+1];_===Sl&&(l[h+1]=-32767),_===Pu&&(l[h+1]=32766)}}_generatePoleQuad(l,h,_,w,T,k){w>T!=(k===Sl)?(l.push(h),l.push(_),l.push(this._vertexToIndex(w,k)),l.push(_),l.push(this._vertexToIndex(T,k)),l.push(this._vertexToIndex(w,k))):(l.push(_),l.push(h),l.push(this._vertexToIndex(w,k)),l.push(this._vertexToIndex(T,k)),l.push(_),l.push(this._vertexToIndex(w,k)))}_fillPoles(l,h,_){const w=this._vertexBuffer,T=Ue,k=l.length;for(let D=2;D<k;D+=3){const B=l[D-2],Z=l[D-1],X=l[D],ee=w[2*B],oe=w[2*B+1],le=w[2*Z],fe=w[2*Z+1],ge=w[2*X],ve=w[2*X+1];h&&(oe===0&&fe===0&&this._generatePoleQuad(l,B,Z,ee,le,Sl),fe===0&&ve===0&&this._generatePoleQuad(l,Z,X,le,ge,Sl),ve===0&&oe===0&&this._generatePoleQuad(l,X,B,ge,ee,Sl)),_&&(oe===T&&fe===T&&this._generatePoleQuad(l,B,Z,ee,le,Pu),fe===T&&ve===T&&this._generatePoleQuad(l,Z,X,le,ge,Pu),ve===T&&oe===T&&this._generatePoleQuad(l,X,B,ge,ee,Pu))}}_initializeVertices(l){for(let h=0;h<l.length;h+=2)this._vertexToIndex(l[h],l[h+1])}subdividePolygonInternal(l,h){if(this._used)throw new Error("Subdivision: multiple use not allowed.");this._used=!0;const{flattened:_,holeIndices:w}=(function(D){const B=[],Z=[];for(const X of D)if(X.length!==0){X!==D[0]&&B.push(Z.length/2);for(let ee=0;ee<X.length;ee++)Z.push(X[ee].x),Z.push(X[ee].y)}return{flattened:Z,holeIndices:B}})(l);let T;this._initializeVertices(_);try{const D=(function(Z,X,ee=2){const oe=X&&X.length,le=oe?X[0]*ee:Z.length;let fe=Eb(Z,0,le,ee,!0);const ge=[];if(!fe||fe.next===fe.prev)return ge;let ve,Te,Ve;if(oe&&(fe=(function(Ee,Re,qe,Ge){const dt=[];for(let Lt=0,Et=Re.length;Lt<Et;Lt++){const Ft=Eb(Ee,Re[Lt]*Ge,Lt<Et-1?Re[Lt+1]*Ge:Ee.length,Ge,!1);Ft===Ft.next&&(Ft.steiner=!0),dt.push(uD(Ft))}dt.sort(fs);for(let Lt=0;Lt<dt.length;Lt++)qe=xS(dt[Lt],qe);return qe})(Z,X,fe,ee)),Z.length>80*ee){ve=Z[0],Te=Z[1];let Ee=ve,Re=Te;for(let qe=ee;qe<le;qe+=ee){const Ge=Z[qe],dt=Z[qe+1];Ge<ve&&(ve=Ge),dt<Te&&(Te=dt),Ge>Ee&&(Ee=Ge),dt>Re&&(Re=dt)}Ve=Math.max(Ee-ve,Re-Te),Ve=Ve!==0?32767/Ve:0}return hg(fe,ge,ee,ve,Te,Ve,0),ge})(_,w),B=this._convertIndices(_,D);T=this._subdivideTrianglesScanline(B)}catch(D){console.error(D)}let k=[];return h&&(k=this._generateOutline(l)),this._ensureNoPoleVertices(),this._handlePoles(T),{verticesFlattened:this._vertexBuffer,indicesTriangles:T,indicesLineList:k}}_convertIndices(l,h){const _=[];for(let w=0;w<h.length;w++)_.push(this._vertexToIndex(l[2*h[w]],l[2*h[w]+1]));return _}_pointArrayToIndices(l){const h=[];for(let _=0;_<l.length;_++){const w=l[_];h.push(this._vertexToIndex(w.x,w.y))}return h}}function Mb(f,l,h,_=!0){return new Hd(h,l).subdividePolygonInternal(f,_)}function Gd(f,l,h=!1){if(!f||f.length<1)return[];if(f.length<2)return[];const _=f[0],w=f[f.length-1],T=h&&(_.x!==w.x||_.y!==w.y);if(l<2)return T?[...f,f[0]]:[...f];const k=Math.floor(Ue/l),D=[];D.push(new u(f[0].x,f[0].y));const B=f.length,Z=T?B:B-1;for(let X=0;X<Z;X++){const ee=f[X],oe=X<B-1?f[X+1]:f[0],le=ee.x,fe=ee.y,ge=oe.x,ve=oe.y,Te=le!==ge,Ve=fe!==ve;if(!Te&&!Ve)continue;const Ee=ge-le,Re=ve-fe,qe=Math.abs(Ee),Ge=Math.abs(Re);let dt=le,Lt=fe;for(;;){const Ft=Ee>0?(Math.floor(dt/k)+1)*k:(Math.ceil(dt/k)-1)*k,un=Re>0?(Math.floor(Lt/k)+1)*k:(Math.ceil(Lt/k)-1)*k,Zt=Math.abs(dt-Ft),Rt=Math.abs(Lt-un),xt=Math.abs(dt-ge),bn=Math.abs(Lt-ve),vn=Te?Zt/qe:Number.POSITIVE_INFINITY,On=Ve?Rt/Ge:Number.POSITIVE_INFINITY;if((xt<=Zt||!Te)&&(bn<=Rt||!Ve))break;if(vn<On&&Te||!Ve){dt=Ft,Lt+=Re*vn;const mn=new u(dt,Math.round(Lt));D[D.length-1].x===mn.x&&D[D.length-1].y===mn.y||D.push(mn)}else{dt+=Ee*On,Lt=un;const mn=new u(Math.round(dt),Lt);D[D.length-1].x===mn.x&&D[D.length-1].y===mn.y||D.push(mn)}}const Et=new u(ge,ve);D[D.length-1].x===Et.x&&D[D.length-1].y===Et.y||D.push(Et)}return D}function Mu(f,l,h){if(l.length===0)throw new Error("Subdivision vertex ring is empty.");let _=0,w=f[2*l[0]];for(let B=1;B<l.length;B++){const Z=f[2*l[B]];Z<w&&(w=Z,_=B)}const T=l.length;let k=_,D=(k+1)%T;for(;;){const B=k-1>=0?k-1:T-1,Z=(D+1)%T,X=f[2*l[B]],ee=f[2*l[Z]],oe=f[2*l[k]],le=f[2*l[k]+1],fe=f[2*l[D]+1];let ge=!1;if(X<ee)ge=!0;else if(X>ee)ge=!1;else{const ve=fe-le,Te=-(f[2*l[D]]-oe),Ve=le<fe?1:-1;((X-oe)*ve+(f[2*l[B]+1]-le)*Te)*Ve>((ee-oe)*ve+(f[2*l[Z]+1]-le)*Te)*Ve&&(ge=!0)}if(ge){const ve=l[B],Te=l[k],Ve=l[D];ve!==Te&&ve!==Ve&&Te!==Ve&&h.push(Ve,Te,ve),k--,k<0&&(k=T-1)}else{const ve=l[Z],Te=l[k],Ve=l[D];ve!==Te&&ve!==Ve&&Te!==Ve&&h.push(Ve,Te,ve),D++,D>=T&&(D=0)}if(B===Z)break}}function OS(f,l,h,_,w,T,k,D,B){const Z=w.length/2,X=k&&D&&B;if(Z<cn.MAX_VERTEX_ARRAY_LENGTH){const ee=l.prepareSegment(Z,h,_),oe=ee.vertexLength;for(let ge=0;ge<T.length;ge+=3)_.emplaceBack(oe+T[ge],oe+T[ge+1],oe+T[ge+2]);let le,fe;ee.vertexLength+=Z,ee.primitiveLength+=T.length/3,X&&(fe=k.prepareSegment(Z,h,D),le=fe.vertexLength,fe.vertexLength+=Z);for(let ge=0;ge<w.length;ge+=2)f(w[ge],w[ge+1]);if(X)for(let ge=0;ge<B.length;ge++){const ve=B[ge];for(let Te=1;Te<ve.length;Te+=2)D.emplaceBack(le+ve[Te-1],le+ve[Te]);fe.primitiveLength+=ve.length/2}}else(function(ee,oe,le,fe,ge,ve){const Te=[];for(let Ge=0;Ge<fe.length/2;Ge++)Te.push(-1);const Ve={count:0};let Ee=0,Re=ee.getOrCreateLatestSegment(oe,le),qe=Re.vertexLength;for(let Ge=2;Ge<ge.length;Ge+=3){const dt=ge[Ge-2],Lt=ge[Ge-1],Et=ge[Ge];let Ft=Te[dt]<Ee,un=Te[Lt]<Ee,Zt=Te[Et]<Ee;Re.vertexLength+((Ft?1:0)+(un?1:0)+(Zt?1:0))>cn.MAX_VERTEX_ARRAY_LENGTH&&(Re=ee.createNewSegment(oe,le),Ee=Ve.count,Ft=!0,un=!0,Zt=!0,qe=0);const Rt=Nh(Te,fe,ve,Ve,dt,Ft,Re),xt=Nh(Te,fe,ve,Ve,Lt,un,Re),bn=Nh(Te,fe,ve,Ve,Et,Zt,Re);le.emplaceBack(qe+Rt-Ee,qe+xt-Ee,qe+bn-Ee),Re.primitiveLength++}})(l,h,_,w,T,f),X&&(function(ee,oe,le,fe,ge,ve){const Te=[];for(let Ge=0;Ge<fe.length/2;Ge++)Te.push(-1);const Ve={count:0};let Ee=0,Re=ee.getOrCreateLatestSegment(oe,le),qe=Re.vertexLength;for(let Ge=0;Ge<ge.length;Ge++){const dt=ge[Ge];for(let Lt=1;Lt<ge[Ge].length;Lt+=2){const Et=dt[Lt-1],Ft=dt[Lt];let un=Te[Et]<Ee,Zt=Te[Ft]<Ee;Re.vertexLength+((un?1:0)+(Zt?1:0))>cn.MAX_VERTEX_ARRAY_LENGTH&&(Re=ee.createNewSegment(oe,le),Ee=Ve.count,un=!0,Zt=!0,qe=0);const Rt=Nh(Te,fe,ve,Ve,Et,un,Re),xt=Nh(Te,fe,ve,Ve,Ft,Zt,Re);le.emplaceBack(qe+Rt-Ee,qe+xt-Ee),Re.primitiveLength++}}})(k,h,D,w,B,f),l.forceNewSegmentOnNextPrepare(),k?.forceNewSegmentOnNextPrepare()}function Nh(f,l,h,_,w,T,k){if(T){const D=_.count;return h(l[2*w],l[2*w+1]),f[w]=_.count,_.count++,k.vertexLength++,D}return f[w]}class dg{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map((h=>h.id)),this.index=l.index,this.hasDependencies=!1,this.patternFeatures=[],this.layoutVertexArray=new De,this.indexArray=new pt,this.indexArray2=new tn,this.programConfigurations=new Ih(l.layers,l.zoom),this.segments=new cn,this.segments2=new cn,this.stateDependentLayerIds=this.layers.filter((h=>h.isStateDependent())).map((h=>h.id))}populate(l,h,_){this.hasDependencies=nc("fill",this.layers,h);const w=this.layers[0].layout.get("fill-sort-key"),T=!w.isConstant(),k=[];for(const{feature:D,id:B,index:Z,sourceLayerIndex:X}of l){const ee=this.layers[0]._featureFilter.needGeometry,oe=tc(D,ee);if(!this.layers[0]._featureFilter.filter(new Kr(this.zoom),oe,_))continue;const le=T?w.evaluate(oe,{},_,h.availableImages):void 0,fe={id:B,properties:D.properties,type:D.type,sourceLayerIndex:X,index:Z,geometry:ee?oe.geometry:Au(D),patterns:{},sortKey:le};k.push(fe)}T&&k.sort(((D,B)=>D.sortKey-B.sortKey));for(const D of k){const{geometry:B,index:Z,sourceLayerIndex:X}=D;if(this.hasDependencies){const ee=kb("fill",this.layers,D,{zoom:this.zoom},h);this.patternFeatures.push(ee)}else this.addFeature(D,B,Z,_,{},h.subdivisionGranularity);h.featureIndex.insert(l[Z].feature,B,Z,X,this.index)}}update(l,h,_){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,h,this.stateDependentLayers,{imagePositions:_})}addFeatures(l,h,_){for(const w of this.patternFeatures)this.addFeature(w,w.geometry,w.index,h,_,l.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,Qv),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.indexBuffer2=l.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(l,h,_,w,T,k){for(const D of Nm(h,500)){const B=Mb(D,w,k.fill.getGranularityForZoomLevel(w.z)),Z=this.layoutVertexArray;OS(((X,ee)=>{Z.emplaceBack(X,ee)}),this.segments,this.layoutVertexArray,this.indexArray,B.verticesFlattened,B.indicesTriangles,this.segments2,this.indexArray2,B.indicesLineList)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,_,{imagePositions:T,canonical:w})}}let Yy,fg;yn("FillBucket",dg,{omit:["layers","patternFeatures"]});var gE={get paint(){return fg=fg||new wo({"fill-antialias":new xn(ut.paint_fill["fill-antialias"]),"fill-opacity":new An(ut.paint_fill["fill-opacity"]),"fill-color":new An(ut.paint_fill["fill-color"]),"fill-outline-color":new An(ut.paint_fill["fill-outline-color"]),"fill-translate":new xn(ut.paint_fill["fill-translate"]),"fill-translate-anchor":new xn(ut.paint_fill["fill-translate-anchor"]),"fill-pattern":new _l(ut.paint_fill["fill-pattern"])})},get layout(){return Yy=Yy||new wo({"fill-sort-key":new An(ut.layout_fill["fill-sort-key"])})}};class yE extends Gi{constructor(l,h){super(l,gE,h)}recalculate(l,h){super.recalculate(l,h);const _=this.paint._values["fill-outline-color"];_.value.kind==="constant"&&_.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(l){return new dg(l)}queryRadius(){return $v(this.paint.get("fill-translate"))}queryIntersectsFeature({queryGeometry:l,geometry:h,transform:_,pixelsToTileUnits:w}){return yb(_b(l,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),-_.bearingInRadians,w),h)}isTileClipped(){return!0}}const Gv=Bi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),vE=Bi([{name:"a_centroid",components:2,type:"Int16"}],4),{members:Rb}=Gv;class Ky{constructor(l,h,_,w,T){this.properties={},this.extent=_,this.type=0,this.id=void 0,this._pbf=l,this._geometry=-1,this._keys=w,this._values=T,l.readFields(hD,this,h)}loadGeometry(){const l=this._pbf;l.pos=this._geometry;const h=l.readVarint()+l.pos,_=[];let w,T=1,k=0,D=0,B=0;for(;l.pos<h;){if(k<=0){const Z=l.readVarint();T=7&Z,k=Z>>3}if(k--,T===1||T===2)D+=l.readSVarint(),B+=l.readSVarint(),T===1&&(w&&_.push(w),w=[]),w&&w.push(new u(D,B));else{if(T!==7)throw new Error(`unknown command ${T}`);w&&w.push(w[0].clone())}}return w&&_.push(w),_}bbox(){const l=this._pbf;l.pos=this._geometry;const h=l.readVarint()+l.pos;let _=1,w=0,T=0,k=0,D=1/0,B=-1/0,Z=1/0,X=-1/0;for(;l.pos<h;){if(w<=0){const ee=l.readVarint();_=7&ee,w=ee>>3}if(w--,_===1||_===2)T+=l.readSVarint(),k+=l.readSVarint(),T<D&&(D=T),T>B&&(B=T),k<Z&&(Z=k),k>X&&(X=k);else if(_!==7)throw new Error(`unknown command ${_}`)}return[D,Z,B,X]}toGeoJSON(l,h,_){const w=this.extent*Math.pow(2,_),T=this.extent*l,k=this.extent*h,D=this.loadGeometry();function B(oe){return[360*(oe.x+T)/w-180,360/Math.PI*Math.atan(Math.exp((1-2*(oe.y+k)/w)*Math.PI))-90]}function Z(oe){return oe.map(B)}let X;if(this.type===1){const oe=[];for(const fe of D)oe.push(fe[0]);const le=Z(oe);X=oe.length===1?{type:"Point",coordinates:le[0]}:{type:"MultiPoint",coordinates:le}}else if(this.type===2){const oe=D.map(Z);X=oe.length===1?{type:"LineString",coordinates:oe[0]}:{type:"MultiLineString",coordinates:oe}}else{if(this.type!==3)throw new Error("unknown feature type");{const oe=_E(D),le=[];for(const fe of oe)le.push(fe.map(Z));X=le.length===1?{type:"Polygon",coordinates:le[0]}:{type:"MultiPolygon",coordinates:le}}}const ee={type:"Feature",geometry:X,properties:this.properties};return this.id!=null&&(ee.id=this.id),ee}}function hD(f,l,h){f===1?l.id=h.readVarint():f===2?(function(_,w){const T=_.readVarint()+_.pos;for(;_.pos<T;){const k=w._keys[_.readVarint()],D=w._values[_.readVarint()];w.properties[k]=D}})(h,l):f===3?l.type=h.readVarint():f===4&&(l._geometry=h.pos)}function _E(f){const l=f.length;if(l<=1)return[f];const h=[];let _,w;for(let T=0;T<l;T++){const k=mi(f[T]);k!==0&&(w===void 0&&(w=k<0),w===k<0?(_&&h.push(_),_=[f[T]]):_&&_.push(f[T]))}return _&&h.push(_),h}function mi(f){let l=0;for(let h,_,w=0,T=f.length,k=T-1;w<T;k=w++)h=f[w],_=f[k],l+=(_.x-h.x)*(h.y+_.y);return l}Ky.types=["Unknown","Point","LineString","Polygon"];class ji{constructor(l,h){this.version=1,this.name="",this.extent=4096,this.length=0,this._pbf=l,this._keys=[],this._values=[],this._features=[],l.readFields($r,this,h),this.length=this._features.length}feature(l){if(l<0||l>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[l];const h=this._pbf.readVarint()+this._pbf.pos;return new Ky(this._pbf,h,this.extent,this._keys,this._values)}}function $r(f,l,h){f===15?l.version=h.readVarint():f===1?l.name=h.readString():f===5?l.extent=h.readVarint():f===2?l._features.push(h.pos):f===3?l._keys.push(h.readString()):f===4&&l._values.push((function(_){let w=null;const T=_.readVarint()+_.pos;for(;_.pos<T;){const k=_.readVarint()>>3;w=k===1?_.readString():k===2?_.readFloat():k===3?_.readDouble():k===4?_.readVarint64():k===5?_.readVarint():k===6?_.readSVarint():k===7?_.readBoolean():null}if(w==null)throw new Error("unknown feature value");return w})(h))}class zr{constructor(l,h){this.layers=l.readFields(Oi,{},h)}}function Oi(f,l,h){if(f===3){const _=new ji(h,h.readVarint()+h.pos);_.length&&(l[_.name]=_)}}const Ga=Math.pow(2,13);function Uc(f,l,h,_,w,T,k,D){f.emplaceBack(l,h,2*Math.floor(_*Ga)+k,w*Ga*2,T*Ga*2,Math.round(D))}class mp{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map((h=>h.id)),this.index=l.index,this.hasDependencies=!1,this.layoutVertexArray=new je,this.centroidVertexArray=new Ie,this.indexArray=new pt,this.programConfigurations=new Ih(l.layers,l.zoom),this.segments=new cn,this.stateDependentLayerIds=this.layers.filter((h=>h.isStateDependent())).map((h=>h.id))}populate(l,h,_){this.features=[],this.hasDependencies=nc("fill-extrusion",this.layers,h);for(const{feature:w,id:T,index:k,sourceLayerIndex:D}of l){const B=this.layers[0]._featureFilter.needGeometry,Z=tc(w,B);if(!this.layers[0]._featureFilter.filter(new Kr(this.zoom),Z,_))continue;const X={id:T,sourceLayerIndex:D,index:k,geometry:B?Z.geometry:Au(w),properties:w.properties,type:w.type,patterns:{}};this.hasDependencies?this.features.push(kb("fill-extrusion",this.layers,X,{zoom:this.zoom},h)):this.addFeature(X,X.geometry,k,_,{},h.subdivisionGranularity),h.featureIndex.insert(w,X.geometry,k,D,this.index,!0)}}addFeatures(l,h,_){for(const w of this.features){const{geometry:T}=w;this.addFeature(w,T,w.index,h,_,l.subdivisionGranularity)}}update(l,h,_){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,h,this.stateDependentLayers,{imagePositions:_})}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,Rb),this.centroidVertexBuffer=l.createVertexBuffer(this.centroidVertexArray,vE.members,!0),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(l,h,_,w,T,k){for(const D of Nm(h,500)){const B={x:0,y:0,sampleCount:0},Z=this.layoutVertexArray.length;this.processPolygon(B,w,l,D,k);const X=this.layoutVertexArray.length-Z,ee=Math.floor(B.x/B.sampleCount),oe=Math.floor(B.y/B.sampleCount);for(let le=0;le<X;le++)this.centroidVertexArray.emplaceBack(ee,oe)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,_,{imagePositions:T,canonical:w})}processPolygon(l,h,_,w,T){if(w.length<1||zo(w[0]))return;for(const ee of w)ee.length!==0&&SS(l,ee);const k={segment:this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray)},D=T.fill.getGranularityForZoomLevel(h.z),B=Ky.types[_.type]==="Polygon";for(const ee of w){if(ee.length===0||zo(ee))continue;const oe=Gd(ee,D,B);this._generateSideFaces(oe,k)}if(!B)return;const Z=Mb(w,h,D,!1),X=this.layoutVertexArray;OS(((ee,oe)=>{Uc(X,ee,oe,0,0,1,1,0)}),this.segments,this.layoutVertexArray,this.indexArray,Z.verticesFlattened,Z.indicesTriangles)}_generateSideFaces(l,h){let _=0;for(let w=1;w<l.length;w++){const T=l[w],k=l[w-1];if(Xd(T,k))continue;h.segment.vertexLength+4>cn.MAX_VERTEX_ARRAY_LENGTH&&(h.segment=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const D=T.sub(k)._perp()._unit(),B=k.dist(T);_+B>32768&&(_=0),Uc(this.layoutVertexArray,T.x,T.y,D.x,D.y,0,0,_),Uc(this.layoutVertexArray,T.x,T.y,D.x,D.y,0,1,_),_+=B,Uc(this.layoutVertexArray,k.x,k.y,D.x,D.y,0,0,_),Uc(this.layoutVertexArray,k.x,k.y,D.x,D.y,0,1,_);const Z=h.segment.vertexLength;this.indexArray.emplaceBack(Z,Z+2,Z+1),this.indexArray.emplaceBack(Z+1,Z+2,Z+3),h.segment.vertexLength+=4,h.segment.primitiveLength+=2}}}function SS(f,l){for(let h=0;h<l.length;h++){const _=l[h];h===l.length-1&&l[0].x===_.x&&l[0].y===_.y||(f.x+=_.x,f.y+=_.y,f.sampleCount++)}}function Xd(f,l){return f.x===l.x&&(f.x<0||f.x>Ue)||f.y===l.y&&(f.y<0||f.y>Ue)}function zo(f){return f.every((l=>l.x<0))||f.every((l=>l.x>Ue))||f.every((l=>l.y<0))||f.every((l=>l.y>Ue))}let Yd;yn("FillExtrusionBucket",mp,{omit:["layers","features"]});var pg={get paint(){return Yd=Yd||new wo({"fill-extrusion-opacity":new xn(ut["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new An(ut["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new xn(ut["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new xn(ut["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new _l(ut["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new An(ut["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new An(ut["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new xn(ut["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class CS extends Gi{constructor(l,h){super(l,pg,h)}createBucket(l){return new mp(l)}queryRadius(){return $v(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature({queryGeometry:l,feature:h,featureState:_,geometry:w,transform:T,pixelsToTileUnits:k,pixelPosMatrix:D}){const B=_b(l,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),-T.bearingInRadians,k),Z=this.paint.get("fill-extrusion-height").evaluate(h,_),X=this.paint.get("fill-extrusion-base").evaluate(h,_),ee=(function(le,fe){const ge=[];for(const ve of le){const Te=[ve.x,ve.y,0,1];we(Te,Te,fe),ge.push(new u(Te[0]/Te[3],Te[1]/Te[3]))}return ge})(B,D),oe=(function(le,fe,ge,ve){const Te=[],Ve=[],Ee=ve[8]*fe,Re=ve[9]*fe,qe=ve[10]*fe,Ge=ve[11]*fe,dt=ve[8]*ge,Lt=ve[9]*ge,Et=ve[10]*ge,Ft=ve[11]*ge;for(const un of le){const Zt=[],Rt=[];for(const xt of un){const bn=xt.x,vn=xt.y,On=ve[0]*bn+ve[4]*vn+ve[12],mn=ve[1]*bn+ve[5]*vn+ve[13],zn=ve[2]*bn+ve[6]*vn+ve[14],Qr=ve[3]*bn+ve[7]*vn+ve[15],Sr=zn+qe,fo=Qr+Ge,Aa=On+dt,vs=mn+Lt,po=zn+Et,Yi=Qr+Ft,li=new u((On+Ee)/fo,(mn+Re)/fo);li.z=Sr/fo,Zt.push(li);const No=new u(Aa/Yi,vs/Yi);No.z=po/Yi,Rt.push(No)}Te.push(Zt),Ve.push(Rt)}return[Te,Ve]})(w,X,Z,D);return(function(le,fe,ge){let ve=1/0;yb(ge,fe)&&(ve=mg(ge,fe[0]));for(let Te=0;Te<fe.length;Te++){const Ve=fe[Te],Ee=le[Te];for(let Re=0;Re<Ve.length-1;Re++){const qe=Ve[Re],Ge=[qe,Ve[Re+1],Ee[Re+1],Ee[Re],qe];ug(ge,Ge)&&(ve=Math.min(ve,mg(ge,Ge)))}}return ve!==1/0&&ve})(oe[0],oe[1],ee)}}function fa(f,l){return f.x*l.x+f.y*l.y}function mg(f,l){if(f.length===1){let h=0;const _=l[h++];let w;for(;!w||_.equals(w);)if(w=l[h++],!w)return 1/0;for(;h<l.length;h++){const T=l[h],k=f[0],D=w.sub(_),B=T.sub(_),Z=k.sub(_),X=fa(D,D),ee=fa(D,B),oe=fa(B,B),le=fa(Z,D),fe=fa(Z,B),ge=X*oe-ee*ee,ve=(oe*le-ee*fe)/ge,Te=(X*fe-ee*le)/ge,Ve=_.z*(1-ve-Te)+w.z*ve+T.z*Te;if(isFinite(Ve))return Ve}return 1/0}{let h=1/0;for(const _ of l)h=Math.min(h,_.z);return h}}const Xv=Bi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:Cl}=Xv,TS=Bi([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:Ib}=TS,xE=Math.cos(Math.PI/180*37.5),Yv=Math.pow(2,14)/.5;class Jy{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map((h=>h.id)),this.index=l.index,this.hasDependencies=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((h=>{this.gradients[h.id]={}})),this.layoutVertexArray=new He,this.layoutVertexArray2=new Fe,this.indexArray=new pt,this.programConfigurations=new Ih(l.layers,l.zoom),this.segments=new cn,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((h=>h.isStateDependent())).map((h=>h.id))}populate(l,h,_){this.hasDependencies=nc("line",this.layers,h)||this.hasLineDasharray(this.layers);const w=this.layers[0].layout.get("line-sort-key"),T=!w.isConstant(),k=[];for(const{feature:D,id:B,index:Z,sourceLayerIndex:X}of l){const ee=this.layers[0]._featureFilter.needGeometry,oe=tc(D,ee);if(!this.layers[0]._featureFilter.filter(new Kr(this.zoom),oe,_))continue;const le=T?w.evaluate(oe,{},_):void 0,fe={id:B,properties:D.properties,type:D.type,sourceLayerIndex:X,index:Z,geometry:ee?oe.geometry:Au(D),patterns:{},dashes:{},sortKey:le};k.push(fe)}T&&k.sort(((D,B)=>D.sortKey-B.sortKey));for(const D of k){const{geometry:B,index:Z,sourceLayerIndex:X}=D;this.hasDependencies?(nc("line",this.layers,h)?kb("line",this.layers,D,{zoom:this.zoom},h):this.hasLineDasharray(this.layers)&&this.addLineDashDependencies(this.layers,D,this.zoom,h),this.patternFeatures.push(D)):this.addFeature(D,B,Z,_,{},{},h.subdivisionGranularity),h.featureIndex.insert(l[Z].feature,B,Z,X,this.index)}}update(l,h,_,w){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,h,this.stateDependentLayers,{imagePositions:_,dashPositions:w})}addFeatures(l,h,_,w){for(const T of this.patternFeatures)this.addFeature(T,T.geometry,T.index,h,_,w,l.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=l.createVertexBuffer(this.layoutVertexArray2,Ib)),this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,Cl),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(l){if(l.properties&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_end"))return{start:+l.properties.mapbox_clip_start,end:+l.properties.mapbox_clip_end}}addFeature(l,h,_,w,T,k,D){const B=this.layers[0].layout,Z=B.get("line-join").evaluate(l,{}),X=B.get("line-cap"),ee=B.get("line-miter-limit"),oe=B.get("line-round-limit");this.lineClips=this.lineFeatureClips(l);for(const le of h)this.addLine(le,l,Z,X,ee,oe,w,D);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,_,{imagePositions:T,dashPositions:k,canonical:w})}addLine(l,h,_,w,T,k,D,B){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,l=Gd(l,D?B.line.getGranularityForZoomLevel(D.z):1),this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Ee=0;Ee<l.length-1;Ee++)this.totalDistance+=l[Ee].dist(l[Ee+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const Z=Ky.types[h.type]==="Polygon";let X=l.length;for(;X>=2&&l[X-1].equals(l[X-2]);)X--;let ee=0;for(;ee<X-1&&l[ee].equals(l[ee+1]);)ee++;if(X<(Z?3:2))return;_==="bevel"&&(T=1.05);const oe=this.overscaling<=16?122880/(512*this.overscaling):0,le=this.segments.prepareSegment(10*X,this.layoutVertexArray,this.indexArray);let fe,ge,ve,Te,Ve;this.e1=this.e2=-1,Z&&(fe=l[X-2],Ve=l[ee].sub(fe)._unit()._perp());for(let Ee=ee;Ee<X;Ee++){if(ve=Ee===X-1?Z?l[ee+1]:void 0:l[Ee+1],ve&&l[Ee].equals(ve))continue;Ve&&(Te=Ve),fe&&(ge=fe),fe=l[Ee],Ve=ve?ve.sub(fe)._unit()._perp():Te,Te=Te||Ve;let Re=Te.add(Ve);Re.x===0&&Re.y===0||Re._unit();const qe=Te.x*Ve.x+Te.y*Ve.y,Ge=Re.x*Ve.x+Re.y*Ve.y,dt=Ge!==0?1/Ge:1/0,Lt=2*Math.sqrt(2-2*Ge),Et=Ge<xE&&ge&&ve,Ft=Te.x*Ve.y-Te.y*Ve.x>0;if(Et&&Ee>ee){const Rt=fe.dist(ge);if(Rt>2*oe){const xt=fe.sub(fe.sub(ge)._mult(oe/Rt)._round());this.updateDistance(ge,xt),this.addCurrentVertex(xt,Te,0,0,le),ge=xt}}const un=ge&&ve;let Zt=un?_:Z?"butt":w;if(un&&Zt==="round"&&(dt<k?Zt="miter":dt<=2&&(Zt="fakeround")),Zt==="miter"&&dt>T&&(Zt="bevel"),Zt==="bevel"&&(dt>2&&(Zt="flipbevel"),dt<T&&(Zt="miter")),ge&&this.updateDistance(ge,fe),Zt==="miter")Re._mult(dt),this.addCurrentVertex(fe,Re,0,0,le);else if(Zt==="flipbevel"){if(dt>100)Re=Ve.mult(-1);else{const Rt=dt*Te.add(Ve).mag()/Te.sub(Ve).mag();Re._perp()._mult(Rt*(Ft?-1:1))}this.addCurrentVertex(fe,Re,0,0,le),this.addCurrentVertex(fe,Re.mult(-1),0,0,le)}else if(Zt==="bevel"||Zt==="fakeround"){const Rt=-Math.sqrt(dt*dt-1),xt=Ft?Rt:0,bn=Ft?0:Rt;if(ge&&this.addCurrentVertex(fe,Te,xt,bn,le),Zt==="fakeround"){const vn=Math.round(180*Lt/Math.PI/20);for(let On=1;On<vn;On++){let mn=On/vn;if(mn!==.5){const Qr=mn-.5;mn+=mn*Qr*(mn-1)*((1.0904+qe*(qe*(3.55645-1.43519*qe)-3.2452))*Qr*Qr+(.848013+qe*(.215638*qe-1.06021)))}const zn=Ve.sub(Te)._mult(mn)._add(Te)._unit()._mult(Ft?-1:1);this.addHalfVertex(fe,zn.x,zn.y,!1,Ft,0,le)}}ve&&this.addCurrentVertex(fe,Ve,-xt,-bn,le)}else if(Zt==="butt")this.addCurrentVertex(fe,Re,0,0,le);else if(Zt==="square"){const Rt=ge?1:-1;this.addCurrentVertex(fe,Re,Rt,Rt,le)}else Zt==="round"&&(ge&&(this.addCurrentVertex(fe,Te,0,0,le),this.addCurrentVertex(fe,Te,1,1,le,!0)),ve&&(this.addCurrentVertex(fe,Ve,-1,-1,le,!0),this.addCurrentVertex(fe,Ve,0,0,le)));if(Et&&Ee<X-1){const Rt=fe.dist(ve);if(Rt>2*oe){const xt=fe.add(ve.sub(fe)._mult(oe/Rt)._round());this.updateDistance(fe,xt),this.addCurrentVertex(xt,Ve,0,0,le),fe=xt}}}}addCurrentVertex(l,h,_,w,T,k=!1){const D=h.y*w-h.x,B=-h.y-h.x*w;this.addHalfVertex(l,h.x+h.y*_,h.y-h.x*_,k,!1,_,T),this.addHalfVertex(l,D,B,k,!0,-w,T),this.distance>Yv/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(l,h,_,w,T,k))}addHalfVertex({x:l,y:h},_,w,T,k,D,B){const Z=.5*(this.lineClips?this.scaledDistance*(Yv-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((l<<1)+(T?1:0),(h<<1)+(k?1:0),Math.round(63*_)+128,Math.round(63*w)+128,1+(D===0?0:D<0?-1:1)|(63&Z)<<2,Z>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const X=B.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,X,this.e2),B.primitiveLength++),k?this.e2=X:this.e1=X}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(l,h){this.distance+=l.dist(h),this.updateScaledDistance()}hasLineDasharray(l){for(const h of l){const _=h.paint.get("line-dasharray");if(_&&!_.isConstant())return!0}return!1}addLineDashDependencies(l,h,_,w){for(const T of l){const k=T.paint.get("line-dasharray");if(!k||k.value.kind==="constant")continue;const D=T.layout.get("line-cap")==="round",B={dasharray:k.value.evaluate({zoom:_-1},h,{}),round:D},Z={dasharray:k.value.evaluate({zoom:_},h,{}),round:D},X={dasharray:k.value.evaluate({zoom:_+1},h,{}),round:D},ee=`${B.dasharray.join(",")},${B.round}`,oe=`${Z.dasharray.join(",")},${Z.round}`,le=`${X.dasharray.join(",")},${X.round}`;w.dashDependencies[ee]=B,w.dashDependencies[oe]=Z,w.dashDependencies[le]=X,h.dashes[T.id]={min:ee,mid:oe,max:le}}}}let Kd,ms;yn("LineBucket",Jy,{omit:["layers","patternFeatures"]});var Jd={get paint(){return ms=ms||new wo({"line-opacity":new An(ut.paint_line["line-opacity"]),"line-color":new An(ut.paint_line["line-color"]),"line-translate":new xn(ut.paint_line["line-translate"]),"line-translate-anchor":new xn(ut.paint_line["line-translate-anchor"]),"line-width":new An(ut.paint_line["line-width"]),"line-gap-width":new An(ut.paint_line["line-gap-width"]),"line-offset":new An(ut.paint_line["line-offset"]),"line-blur":new An(ut.paint_line["line-blur"]),"line-dasharray":new _l(ut.paint_line["line-dasharray"]),"line-pattern":new _l(ut.paint_line["line-pattern"]),"line-gradient":new rg(ut.paint_line["line-gradient"])})},get layout(){return Kd=Kd||new wo({"line-cap":new xn(ut.layout_line["line-cap"]),"line-join":new An(ut.layout_line["line-join"]),"line-miter-limit":new xn(ut.layout_line["line-miter-limit"]),"line-round-limit":new xn(ut.layout_line["line-round-limit"]),"line-sort-key":new An(ut.layout_line["line-sort-key"])})}};class e0 extends An{possiblyEvaluate(l,h){return h=new Kr(Math.floor(h.zoom),{now:h.now,fadeDuration:h.fadeDuration,zoomHistory:h.zoomHistory,transition:h.transition}),super.possiblyEvaluate(l,h)}evaluate(l,h,_,w){return h=vt({},h,{zoom:Math.floor(h.zoom)}),super.evaluate(l,h,_,w)}}let Zc;class kS extends Gi{constructor(l,h){super(l,Jd,h),this.gradientVersion=0,Zc||(Zc=new e0(Jd.paint.properties["line-width"].specification),Zc.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(l){if(l==="line-gradient"){const h=this.gradientExpression();this.stepInterpolant=!!(function(_){return _._styleExpression!==void 0})(h)&&h._styleExpression.expression instanceof _h,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(l,h){super.recalculate(l,h),this.paint._values["line-floorwidth"]=Zc.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,l)}createBucket(l){return new Jy(l)}queryRadius(l){const h=l,_=Db(Zd("line-width",this,h),Zd("line-gap-width",this,h)),w=Zd("line-offset",this,h);return _/2+Math.abs(w)+$v(this.paint.get("line-translate"))}queryIntersectsFeature({queryGeometry:l,feature:h,featureState:_,geometry:w,transform:T,pixelsToTileUnits:k}){const D=_b(l,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),-T.bearingInRadians,k),B=k/2*Db(this.paint.get("line-width").evaluate(h,_),this.paint.get("line-gap-width").evaluate(h,_)),Z=this.paint.get("line-offset").evaluate(h,_);return Z&&(w=(function(X,ee){const oe=[];for(let le=0;le<X.length;le++){const fe=xb(X[le]),ge=[];for(let ve=0;ve<fe.length;ve++){const Te=fe[ve],Ve=fe[ve-1],Ee=fe[ve+1],Re=ve===0?new u(0,0):Te.sub(Ve)._unit()._perp(),qe=ve===fe.length-1?new u(0,0):Ee.sub(Te)._unit()._perp(),Ge=Re._add(qe)._unit(),dt=Ge.x*qe.x+Ge.y*qe.y;dt!==0&&Ge._mult(1/dt),ge.push(Ge._mult(ee)._add(Te))}oe.push(ge)}return oe})(w,Z*k)),(function(X,ee,oe){for(let le=0;le<ee.length;le++){const fe=ee[le];if(X.length>=3){for(let ge=0;ge<fe.length;ge++)if(Lh(X,fe[ge]))return!0}if(ds(X,fe,oe))return!0}return!1})(D,w,B)}isTileClipped(){return!0}}function Db(f,l){return l>0?l+2*f:f}const bE=Bi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Kv=Bi([{name:"a_projected_pos",components:3,type:"Float32"}],4);Bi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const ES=Bi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);Bi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Tl=Bi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),wE=Bi([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function kl(f,l,h){return f.sections.forEach((_=>{_.text=(function(w,T,k){const D=T.layout.get("text-transform").evaluate(k,{});return D==="uppercase"?w=w.toLocaleUpperCase():D==="lowercase"&&(w=w.toLocaleLowerCase()),vl.applyArabicShaping&&(w=vl.applyArabicShaping(w)),w})(_.text,l,h)})),f}Bi([{name:"triangle",components:3,type:"Uint16"}]),Bi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Bi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Bi([{type:"Float32",name:"offsetX"}]),Bi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Bi([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);var ts=24;const t0={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},dD={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},gp={40:!0};function Jv(f,l,h,_,w,T){if("fontStack"in l){const k=h[l.fontStack],D=k&&k[f];return D?D.metrics.advance*l.scale+w:0}{const k=_[l.imageName];return k?k.displaySize[0]*l.scale*ts/T+w:0}}function Lb(f,l,h,_){const w=Math.pow(f-l,2);return _?f<l?w/2:2*w:w+Math.abs(h)*h}function n0(f,l,h){let _=0;return f===10&&(_-=1e4),h&&(_+=150),f!==40&&f!==65288||(_+=50),l!==41&&l!==65289||(_+=50),_}function AS(f,l,h,_,w,T){let k=null,D=Lb(l,h,w,T);for(const B of _){const Z=Lb(l-B.x,h,w,T)+B.badness;Z<=D&&(k=B,D=Z)}return{index:f,x:l,priorBreak:k,badness:D}}function PS(f){return f?PS(f.priorBreak).concat(f.index):[]}class gg{constructor(l="",h=[],_=[]){this.text=l,this.sections=h,this.sectionIndex=_,this.imageSectionID=null}static fromFeature(l,h){const _=new gg;for(let w=0;w<l.sections.length;w++){const T=l.sections[w];T.image?_.addImageSection(T):_.addTextSection(T,h)}return _}length(){return[...this.text].length}getSection(l){return this.sections[this.sectionIndex[l]]}getSectionIndex(l){return this.sectionIndex[l]}verticalizePunctuation(){this.text=(function(l){let h="",_={premature:!0,value:void 0};const w=l[Symbol.iterator]();let T=w.next();const k=l[Symbol.iterator]();k.next();let D=k.next();for(;!T.done;)h+=!D.done&&Bc(D.value.codePointAt(0))&&!t0[D.value]||!_.premature&&Bc(_.value.codePointAt(0))&&!t0[_.value]||!t0[T.value]?T.value:t0[T.value],_={value:T.value,premature:!1},T=w.next(),D=k.next();return h})(this.text)}hasZeroWidthSpaces(){return this.text.includes("")}trim(){const l=this.text.match(/^\s*/),h=l?l[0].length:0,_=this.text.match(/\S\s*$/),w=_?_[0].length-1:0;this.text=this.text.substring(h,this.text.length-w),this.sectionIndex=this.sectionIndex.slice(h,this.sectionIndex.length-w)}substring(l,h){const _=[...this.text].slice(l,h).join(""),w=this.sectionIndex.slice(l,h);return new gg(_,this.sections,w)}toCodeUnitIndex(l){return[...this.text].slice(0,l).join("").length}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce(((l,h)=>Math.max(l,this.sections[h].scale)),0)}getMaxImageSize(l){let h=0,_=0;for(let w=0;w<this.length();w++){const T=this.getSection(w);if("imageName"in T){const k=l[T.imageName];if(!k)continue;const D=k.displaySize;h=Math.max(h,D[0]),_=Math.max(_,D[1])}}return{maxImageWidth:h,maxImageHeight:_}}addTextSection(l,h){this.text+=l.text,this.sections.push({scale:l.scale||1,verticalAlign:l.verticalAlign||"bottom",fontStack:l.fontStack||h});const _=this.sections.length-1;this.sectionIndex.push(...[...l.text].map((()=>_)))}addImageSection(l){const h=l.image?l.image.name:"";if(h.length===0)return void Gt("Can't add FormattedSection with an empty image.");const _=this.getNextImageSectionCharCode();_?(this.text+=String.fromCharCode(_),this.sections.push({scale:1,verticalAlign:l.verticalAlign||"bottom",imageName:h}),this.sectionIndex.push(this.sections.length-1)):Gt("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}determineLineBreaks(l,h,_,w,T){const k=[],D=this.determineAverageLineWidth(l,h,_,w,T),B=this.hasZeroWidthSpaces();let Z=0,X=0;const ee=this.text[Symbol.iterator]();let oe=ee.next();const le=this.text[Symbol.iterator]();le.next();let fe=le.next();const ge=this.text[Symbol.iterator]();ge.next(),ge.next();let ve=ge.next();for(;!oe.done;){const Te=this.getSection(X),Ve=oe.value.codePointAt(0);if(Km(Ve)||(Z+=Jv(Ve,Te,_,w,l,T)),!fe.done){const Ee=$c(Ve),Re=fe.value.codePointAt(0);(dD[Ve]||Ee||"imageName"in Te||!ve.done&&gp[Re])&&k.push(AS(X+1,Z,D,k,n0(Ve,Re,Ee&&B),!1))}X++,oe=ee.next(),fe=le.next(),ve=ge.next()}return PS(AS(this.length(),Z,D,k,0,!0))}determineAverageLineWidth(l,h,_,w,T){let k=0,D=0;for(const B of this.text){const Z=this.getSection(D);k+=Jv(B.codePointAt(0),Z,_,w,l,T),D++}return k/Math.max(1,Math.ceil(k/h))}}const $b=4294967296,e_=1/$b,zb=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");class Nb{constructor(l=new Uint8Array(16)){this.buf=ArrayBuffer.isView(l)?l:new Uint8Array(l),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(l,h,_=this.length){for(;this.pos<_;){const w=this.readVarint(),T=w>>3,k=this.pos;this.type=7&w,l(T,h,this),this.pos===k&&this.skip(w)}return h}readMessage(l,h){return this.readFields(l,h,this.readVarint()+this.pos)}readFixed32(){const l=this.dataView.getUint32(this.pos,!0);return this.pos+=4,l}readSFixed32(){const l=this.dataView.getInt32(this.pos,!0);return this.pos+=4,l}readFixed64(){const l=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*$b;return this.pos+=8,l}readSFixed64(){const l=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*$b;return this.pos+=8,l}readFloat(){const l=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,l}readDouble(){const l=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,l}readVarint(l){const h=this.buf;let _,w;return w=h[this.pos++],_=127&w,w<128?_:(w=h[this.pos++],_|=(127&w)<<7,w<128?_:(w=h[this.pos++],_|=(127&w)<<14,w<128?_:(w=h[this.pos++],_|=(127&w)<<21,w<128?_:(w=h[this.pos],_|=(15&w)<<28,(function(T,k,D){const B=D.buf;let Z,X;if(X=B[D.pos++],Z=(112&X)>>4,X<128||(X=B[D.pos++],Z|=(127&X)<<3,X<128)||(X=B[D.pos++],Z|=(127&X)<<10,X<128)||(X=B[D.pos++],Z|=(127&X)<<17,X<128)||(X=B[D.pos++],Z|=(127&X)<<24,X<128)||(X=B[D.pos++],Z|=(1&X)<<31,X<128))return r0(T,Z,k);throw new Error("Expected varint not more than 10 bytes")})(_,l,this)))))}readVarint64(){return this.readVarint(!0)}readSVarint(){const l=this.readVarint();return l%2==1?(l+1)/-2:l/2}readBoolean(){return!!this.readVarint()}readString(){const l=this.readVarint()+this.pos,h=this.pos;return this.pos=l,l-h>=12&&zb?zb.decode(this.buf.subarray(h,l)):(function(_,w,T){let k="",D=w;for(;D<T;){const B=_[D];let Z,X,ee,oe=null,le=B>239?4:B>223?3:B>191?2:1;if(D+le>T)break;le===1?B<128&&(oe=B):le===2?(Z=_[D+1],(192&Z)==128&&(oe=(31&B)<<6|63&Z,oe<=127&&(oe=null))):le===3?(Z=_[D+1],X=_[D+2],(192&Z)==128&&(192&X)==128&&(oe=(15&B)<<12|(63&Z)<<6|63&X,(oe<=2047||oe>=55296&&oe<=57343)&&(oe=null))):le===4&&(Z=_[D+1],X=_[D+2],ee=_[D+3],(192&Z)==128&&(192&X)==128&&(192&ee)==128&&(oe=(15&B)<<18|(63&Z)<<12|(63&X)<<6|63&ee,(oe<=65535||oe>=1114112)&&(oe=null))),oe===null?(oe=65533,le=1):oe>65535&&(oe-=65536,k+=String.fromCharCode(oe>>>10&1023|55296),oe=56320|1023&oe),k+=String.fromCharCode(oe),D+=le}return k})(this.buf,h,l)}readBytes(){const l=this.readVarint()+this.pos,h=this.buf.subarray(this.pos,l);return this.pos=l,h}readPackedVarint(l=[],h){const _=this.readPackedEnd();for(;this.pos<_;)l.push(this.readVarint(h));return l}readPackedSVarint(l=[]){const h=this.readPackedEnd();for(;this.pos<h;)l.push(this.readSVarint());return l}readPackedBoolean(l=[]){const h=this.readPackedEnd();for(;this.pos<h;)l.push(this.readBoolean());return l}readPackedFloat(l=[]){const h=this.readPackedEnd();for(;this.pos<h;)l.push(this.readFloat());return l}readPackedDouble(l=[]){const h=this.readPackedEnd();for(;this.pos<h;)l.push(this.readDouble());return l}readPackedFixed32(l=[]){const h=this.readPackedEnd();for(;this.pos<h;)l.push(this.readFixed32());return l}readPackedSFixed32(l=[]){const h=this.readPackedEnd();for(;this.pos<h;)l.push(this.readSFixed32());return l}readPackedFixed64(l=[]){const h=this.readPackedEnd();for(;this.pos<h;)l.push(this.readFixed64());return l}readPackedSFixed64(l=[]){const h=this.readPackedEnd();for(;this.pos<h;)l.push(this.readSFixed64());return l}readPackedEnd(){return this.type===2?this.readVarint()+this.pos:this.pos+1}skip(l){const h=7&l;if(h===0)for(;this.buf[this.pos++]>127;);else if(h===2)this.pos=this.readVarint()+this.pos;else if(h===5)this.pos+=4;else{if(h!==1)throw new Error(`Unimplemented type: ${h}`);this.pos+=8}}writeTag(l,h){this.writeVarint(l<<3|h)}realloc(l){let h=this.length||16;for(;h<this.pos+l;)h*=2;if(h!==this.length){const _=new Uint8Array(h);_.set(this.buf),this.buf=_,this.dataView=new DataView(_.buffer),this.length=h}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(l){this.realloc(4),this.dataView.setInt32(this.pos,l,!0),this.pos+=4}writeSFixed32(l){this.realloc(4),this.dataView.setInt32(this.pos,l,!0),this.pos+=4}writeFixed64(l){this.realloc(8),this.dataView.setInt32(this.pos,-1&l,!0),this.dataView.setInt32(this.pos+4,Math.floor(l*e_),!0),this.pos+=8}writeSFixed64(l){this.realloc(8),this.dataView.setInt32(this.pos,-1&l,!0),this.dataView.setInt32(this.pos+4,Math.floor(l*e_),!0),this.pos+=8}writeVarint(l){(l=+l||0)>268435455||l<0?(function(h,_){let w,T;if(h>=0?(w=h%4294967296|0,T=h/4294967296|0):(w=~(-h%4294967296),T=~(-h/4294967296),4294967295^w?w=w+1|0:(w=0,T=T+1|0)),h>=18446744073709552e3||h<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");_.realloc(10),(function(k,D,B){B.buf[B.pos++]=127&k|128,k>>>=7,B.buf[B.pos++]=127&k|128,k>>>=7,B.buf[B.pos++]=127&k|128,k>>>=7,B.buf[B.pos++]=127&k|128,B.buf[B.pos]=127&(k>>>=7)})(w,0,_),(function(k,D){const B=(7&k)<<4;D.buf[D.pos++]|=B|((k>>>=3)?128:0),k&&(D.buf[D.pos++]=127&k|((k>>>=7)?128:0),k&&(D.buf[D.pos++]=127&k|((k>>>=7)?128:0),k&&(D.buf[D.pos++]=127&k|((k>>>=7)?128:0),k&&(D.buf[D.pos++]=127&k|((k>>>=7)?128:0),k&&(D.buf[D.pos++]=127&k)))))})(T,_)})(l,this):(this.realloc(4),this.buf[this.pos++]=127&l|(l>127?128:0),l<=127||(this.buf[this.pos++]=127&(l>>>=7)|(l>127?128:0),l<=127||(this.buf[this.pos++]=127&(l>>>=7)|(l>127?128:0),l<=127||(this.buf[this.pos++]=l>>>7&127))))}writeSVarint(l){this.writeVarint(l<0?2*-l-1:2*l)}writeBoolean(l){this.writeVarint(+l)}writeString(l){l=String(l),this.realloc(4*l.length),this.pos++;const h=this.pos;this.pos=(function(w,T,k){for(let D,B,Z=0;Z<T.length;Z++){if(D=T.charCodeAt(Z),D>55295&&D<57344){if(!B){D>56319||Z+1===T.length?(w[k++]=239,w[k++]=191,w[k++]=189):B=D;continue}if(D<56320){w[k++]=239,w[k++]=191,w[k++]=189,B=D;continue}D=B-55296<<10|D-56320|65536,B=null}else B&&(w[k++]=239,w[k++]=191,w[k++]=189,B=null);D<128?w[k++]=D:(D<2048?w[k++]=D>>6|192:(D<65536?w[k++]=D>>12|224:(w[k++]=D>>18|240,w[k++]=D>>12&63|128),w[k++]=D>>6&63|128),w[k++]=63&D|128)}return k})(this.buf,l,this.pos);const _=this.pos-h;_>=128&&OE(h,_,this),this.pos=h-1,this.writeVarint(_),this.pos+=_}writeFloat(l){this.realloc(4),this.dataView.setFloat32(this.pos,l,!0),this.pos+=4}writeDouble(l){this.realloc(8),this.dataView.setFloat64(this.pos,l,!0),this.pos+=8}writeBytes(l){const h=l.length;this.writeVarint(h),this.realloc(h);for(let _=0;_<h;_++)this.buf[this.pos++]=l[_]}writeRawMessage(l,h){this.pos++;const _=this.pos;l(h,this);const w=this.pos-_;w>=128&&OE(_,w,this),this.pos=_-1,this.writeVarint(w),this.pos+=w}writeMessage(l,h,_){this.writeTag(l,2),this.writeRawMessage(h,_)}writePackedVarint(l,h){h.length&&this.writeMessage(l,SE,h)}writePackedSVarint(l,h){h.length&&this.writeMessage(l,CE,h)}writePackedBoolean(l,h){h.length&&this.writeMessage(l,TE,h)}writePackedFloat(l,h){h.length&&this.writeMessage(l,i0,h)}writePackedDouble(l,h){h.length&&this.writeMessage(l,Bb,h)}writePackedFixed32(l,h){h.length&&this.writeMessage(l,kE,h)}writePackedSFixed32(l,h){h.length&&this.writeMessage(l,EE,h)}writePackedFixed64(l,h){h.length&&this.writeMessage(l,AE,h)}writePackedSFixed64(l,h){h.length&&this.writeMessage(l,PE,h)}writeBytesField(l,h){this.writeTag(l,2),this.writeBytes(h)}writeFixed32Field(l,h){this.writeTag(l,5),this.writeFixed32(h)}writeSFixed32Field(l,h){this.writeTag(l,5),this.writeSFixed32(h)}writeFixed64Field(l,h){this.writeTag(l,1),this.writeFixed64(h)}writeSFixed64Field(l,h){this.writeTag(l,1),this.writeSFixed64(h)}writeVarintField(l,h){this.writeTag(l,0),this.writeVarint(h)}writeSVarintField(l,h){this.writeTag(l,0),this.writeSVarint(h)}writeStringField(l,h){this.writeTag(l,2),this.writeString(h)}writeFloatField(l,h){this.writeTag(l,5),this.writeFloat(h)}writeDoubleField(l,h){this.writeTag(l,1),this.writeDouble(h)}writeBooleanField(l,h){this.writeVarintField(l,+h)}}function r0(f,l,h){return h?4294967296*l+(f>>>0):4294967296*(l>>>0)+(f>>>0)}function OE(f,l,h){const _=l<=16383?1:l<=2097151?2:l<=268435455?3:Math.floor(Math.log(l)/(7*Math.LN2));h.realloc(_);for(let w=h.pos-1;w>=f;w--)h.buf[w+_]=h.buf[w]}function SE(f,l){for(let h=0;h<f.length;h++)l.writeVarint(f[h])}function CE(f,l){for(let h=0;h<f.length;h++)l.writeSVarint(f[h])}function i0(f,l){for(let h=0;h<f.length;h++)l.writeFloat(f[h])}function Bb(f,l){for(let h=0;h<f.length;h++)l.writeDouble(f[h])}function TE(f,l){for(let h=0;h<f.length;h++)l.writeBoolean(f[h])}function kE(f,l){for(let h=0;h<f.length;h++)l.writeFixed32(f[h])}function EE(f,l){for(let h=0;h<f.length;h++)l.writeSFixed32(f[h])}function AE(f,l){for(let h=0;h<f.length;h++)l.writeFixed64(f[h])}function PE(f,l){for(let h=0;h<f.length;h++)l.writeSFixed64(f[h])}function ME(f,l,h){f===1&&h.readMessage(Fb,l)}function Fb(f,l,h){if(f===3){const{id:_,bitmap:w,width:T,height:k,left:D,top:B,advance:Z}=h.readMessage(RE,{});l.push({id:_,bitmap:new Bv({width:T+6,height:k+6},w),metrics:{width:T,height:k,left:D,top:B,advance:Z}})}}function RE(f,l,h){f===1?l.id=h.readVarint():f===2?l.bitmap=h.readBytes():f===3?l.width=h.readVarint():f===4?l.height=h.readVarint():f===5?l.left=h.readSVarint():f===6?l.top=h.readSVarint():f===7&&(l.advance=h.readVarint())}function MS(f){let l=0,h=0;for(const k of f)l+=k.w*k.h,h=Math.max(h,k.w);f.sort(((k,D)=>D.h-k.h));const _=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(l/.95)),h),h:1/0}];let w=0,T=0;for(const k of f)for(let D=_.length-1;D>=0;D--){const B=_[D];if(!(k.w>B.w||k.h>B.h)){if(k.x=B.x,k.y=B.y,T=Math.max(T,k.y+k.h),w=Math.max(w,k.x+k.w),k.w===B.w&&k.h===B.h){const Z=_.pop();Z&&D<_.length&&(_[D]=Z)}else k.h===B.h?(B.x+=k.w,B.w-=k.w):k.w===B.w?(B.y+=k.h,B.h-=k.h):(_.push({x:B.x+k.w,y:B.y,w:B.w-k.w,h:k.h}),B.y+=k.h,B.h-=k.h);break}}return{w,h:T,fill:l/(w*T)||0}}class gi{constructor(l,{pixelRatio:h,version:_,stretchX:w,stretchY:T,content:k,textFitWidth:D,textFitHeight:B}){this.paddedRect=l,this.pixelRatio=h,this.stretchX=w,this.stretchY=T,this.content=k,this.version=_,this.textFitWidth=D,this.textFitHeight=B}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class jb{constructor(l,h){const _={},w={};this.haveRenderCallbacks=[];const T=[];this.addImages(l,_,T),this.addImages(h,w,T);const{w:k,h:D}=MS(T),B=new Ca({width:k||1,height:D||1});for(const Z in l){const X=l[Z],ee=_[Z].paddedRect;Ca.copy(X.data,B,{x:0,y:0},{x:ee.x+1,y:ee.y+1},X.data)}for(const Z in h){const X=h[Z],ee=w[Z].paddedRect,oe=ee.x+1,le=ee.y+1,fe=X.data.width,ge=X.data.height;Ca.copy(X.data,B,{x:0,y:0},{x:oe,y:le},X.data),Ca.copy(X.data,B,{x:0,y:ge-1},{x:oe,y:le-1},{width:fe,height:1}),Ca.copy(X.data,B,{x:0,y:0},{x:oe,y:le+ge},{width:fe,height:1}),Ca.copy(X.data,B,{x:fe-1,y:0},{x:oe-1,y:le},{width:1,height:ge}),Ca.copy(X.data,B,{x:0,y:0},{x:oe+fe,y:le},{width:1,height:ge})}this.image=B,this.iconPositions=_,this.patternPositions=w}addImages(l,h,_){for(const w in l){const T=l[w],k={x:0,y:0,w:T.data.width+2,h:T.data.height+2};_.push(k),h[w]=new gi(k,T),T.hasRenderCallback&&this.haveRenderCallbacks.push(w)}}patchUpdatedImages(l,h){l.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const _ in l.updatedImages)this.patchUpdatedImage(this.iconPositions[_],l.getImage(_),h),this.patchUpdatedImage(this.patternPositions[_],l.getImage(_),h)}patchUpdatedImage(l,h,_){if(!l||!h||l.version===h.version)return;l.version=h.version;const[w,T]=l.tl;_.update(h.data,void 0,{x:w,y:T})}}var yp;function t_(f,l,h,_,w,T,k,D,B,Z,X,ee,oe,le,fe){const ge=gg.fromFeature(f,w);let ve;ee===a.az.vertical&&ge.verticalizePunctuation();let Te=ge.determineLineBreaks(Z,T,l,_,le);const{processBidirectionalText:Ve,processStyledBidirectionalText:Ee}=vl;if(Ve&&ge.sections.length===1){ve=[],Te=Te.map((dt=>ge.toCodeUnitIndex(dt)));const Ge=Ve(ge.toString(),Te);for(const dt of Ge){const Lt=[...dt].map((()=>0));ve.push(new gg(dt,ge.sections,Lt))}}else if(Ee){ve=[],Te=Te.map((Et=>ge.toCodeUnitIndex(Et)));let Ge=0;const dt=[];for(const Et of ge.text)dt.push(...Array(Et.length).fill(ge.sectionIndex[Ge])),Ge++;const Lt=Ee(ge.text,dt,Te);for(const Et of Lt){const Ft=[];let un="";for(const Zt of Et[0])Ft.push(Et[1][un.length]),un+=Zt;ve.push(new gg(Et[0],ge.sections,Ft))}}else ve=(function(Ge,dt){const Lt=[];let Et=0;for(const Ft of dt)Lt.push(Ge.substring(Et,Ft)),Et=Ft;return Et<Ge.length()&&Lt.push(Ge.substring(Et,Ge.length())),Lt})(ge,Te);const Re=[],qe={positionedLines:Re,text:ge.toString(),top:X[1],bottom:X[1],left:X[0],right:X[0],writingMode:ee,iconsInText:!1,verticalizable:!1};return(function(Ge,dt,Lt,Et,Ft,un,Zt,Rt,xt,bn,vn,On){let mn=0,zn=0,Qr=0,Sr=0;const fo=Rt==="right"?1:Rt==="left"?0:.5,Aa=ts/On;let vs=0;for(const li of Ft){li.trim();const No=li.getMaxScale(),qo={positionedGlyphs:[],lineOffset:0};Ge.positionedLines[vs]=qo;const Vi=qo.positionedGlyphs;let oc=0;if(!li.length()){zn+=un,++vs;continue}const Pa=fD(Et,li,Aa);let sc=0;for(const Qs of li.text){const So=li.getSection(sc),_s=Qs.codePointAt(0),Bo=Vb(xt,vn,_s),Us={glyph:_s,imageName:null,x:mn,y:zn+-17,vertical:Bo,scale:1,fontStack:"",sectionIndex:li.getSectionIndex(sc),metrics:null,rect:null};let xg;if("fontStack"in So){if(xg=o0(So,_s,Bo,Pa,dt,Lt),!xg)continue;Us.fontStack=So.fontStack}else{if(Ge.iconsInText=!0,So.scale*=Aa,xg=IS(So,Bo,No,Pa,Et),!xg)continue;oc=Math.max(oc,xg.imageOffset),Us.imageName=So.imageName}const{rect:sf,metrics:f2,baselineOffset:m0}=xg;Us.y+=m0,Us.scale=So.scale,Us.metrics=f2,Us.rect=sf,Vi.push(Us),Bo?(Ge.verticalizable=!0,mn+=("imageName"in So?f2.advance:ts)*So.scale+bn):mn+=f2.advance*So.scale+bn,sc++}Vi.length!==0&&(Qr=Math.max(mn-bn,Qr),Qb(Vi,0,Vi.length-1,fo)),mn=0,qo.lineOffset=Math.max(oc,(No-1)*ts);const jh=un*No+oc;zn+=jh,Sr=Math.max(jh,Sr),++vs}const{horizontalAlign:po,verticalAlign:Yi}=RS(Zt);(function(li,No,qo,Vi,oc,Pa,sc,jh,Qs){const So=(No-qo)*oc;let _s=0;_s=Pa!==sc?-jh*Vi- -17:-Vi*Qs*sc+.5*sc;for(const Bo of li)for(const Us of Bo.positionedGlyphs)Us.x+=So,Us.y+=_s})(Ge.positionedLines,fo,po,Yi,Qr,Sr,un,zn,Ft.length),Ge.top+=-Yi*zn,Ge.bottom=Ge.top+zn,Ge.left+=-po*Qr,Ge.right=Ge.left+Qr})(qe,l,h,_,ve,k,D,B,ee,Z,oe,fe),!(function(Ge){for(const dt of Ge)if(dt.positionedGlyphs.length!==0)return!1;return!0})(Re)&&qe}function RS(f){let l=.5,h=.5;switch(f){case"right":case"top-right":case"bottom-right":l=1;break;case"left":case"top-left":case"bottom-left":l=0}switch(f){case"bottom":case"bottom-right":case"bottom-left":h=1;break;case"top":case"top-right":case"top-left":h=0}return{horizontalAlign:l,verticalAlign:h}}function fD(f,l,h){const _=l.getMaxScale()*ts,{maxImageWidth:w,maxImageHeight:T}=l.getMaxImageSize(f),k=Math.max(_,T*h);return{verticalLineContentWidth:Math.max(_,w*h),horizontalLineContentHeight:k}}function IE(f){switch(f){case"top":return 0;case"center":return .5;default:return 1}}function Vb(f,l,h){return!(f===a.az.horizontal||!l&&!zd(h)||l&&(Km(h)||(_=h,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(_)))));var _}function o0(f,l,h,_,w,T){const k=T[f.fontStack],D=(function(Z,X,ee,oe){if(Z&&Z.rect)return Z;const le=X[ee.fontStack],fe=le&&le[oe];return fe?{rect:null,metrics:fe.metrics}:null})(k&&k[l],w,f,l);if(D===null)return null;let B;if(h)B=_.verticalLineContentWidth-f.scale*ts;else{const Z=IE(f.verticalAlign);B=(_.horizontalLineContentHeight-f.scale*ts)*Z}return{rect:D.rect,metrics:D.metrics,baselineOffset:B}}function IS(f,l,h,_,w){const T=w[f.imageName];if(!T)return null;const k=T.paddedRect,D=T.displaySize,B={width:D[0],height:D[1],left:1,top:-3,advance:l?D[1]:D[0]};let Z;if(l)Z=_.verticalLineContentWidth-D[1]*f.scale;else{const X=IE(f.verticalAlign);Z=(_.horizontalLineContentHeight-D[1]*f.scale)*X}return{rect:k,metrics:B,baselineOffset:Z,imageOffset:(l?D[0]:D[1])*f.scale-ts*h}}function Qb(f,l,h,_){if(_===0)return;const w=f[h],T=(f[h].x+w.metrics.advance*w.scale)*_;for(let k=l;k<=h;k++)f[k].x-=T}function DS(f,l,h){const{horizontalAlign:_,verticalAlign:w}=RS(h),T=l[0]-f.displaySize[0]*_,k=l[1]-f.displaySize[1]*w;return{image:f,top:k,bottom:k+f.displaySize[1],left:T,right:T+f.displaySize[0]}}function ef(f){var l,h;let _=f.left,w=f.top,T=f.right-_,k=f.bottom-w;const D=(l=f.image.textFitWidth)!==null&&l!==void 0?l:"stretchOrShrink",B=(h=f.image.textFitHeight)!==null&&h!==void 0?h:"stretchOrShrink",Z=(f.image.content[2]-f.image.content[0])/(f.image.content[3]-f.image.content[1]);if(B==="proportional"){if(D==="stretchOnly"&&T/k<Z||D==="proportional"){const X=Math.ceil(k*Z);_*=X/T,T=X}}else if(D==="proportional"&&B==="stretchOnly"&&Z!==0&&T/k>Z){const X=Math.ceil(T/Z);w*=X/k,k=X}return{x1:_,y1:w,x2:_+T,y2:w+k}}function Ru(f,l,h,_,w,T){const k=f.image;let D;if(k.content){const ve=k.content,Te=k.pixelRatio||1;D=[ve[0]/Te,ve[1]/Te,k.displaySize[0]-ve[2]/Te,k.displaySize[1]-ve[3]/Te]}const B=l.left*T,Z=l.right*T;let X,ee,oe,le;h==="width"||h==="both"?(le=w[0]+B-_[3],ee=w[0]+Z+_[1]):(le=w[0]+(B+Z-k.displaySize[0])/2,ee=le+k.displaySize[0]);const fe=l.top*T,ge=l.bottom*T;return h==="height"||h==="both"?(X=w[1]+fe-_[0],oe=w[1]+ge+_[2]):(X=w[1]+(fe+ge-k.displaySize[1])/2,oe=X+k.displaySize[1]),{image:k,top:X,right:ee,bottom:oe,left:le,collisionPadding:D}}yn("ImagePosition",gi),yn("ImageAtlas",jb),a.az=void 0,(yp=a.az||(a.az={}))[yp.none=0]="none",yp[yp.horizontal=1]="horizontal",yp[yp.vertical=2]="vertical",yp[yp.horizontalOnly=3]="horizontalOnly";const rc=128,vp=32640;function LS(f,l){const{expression:h}=l;if(h.kind==="constant")return{kind:"constant",layoutSize:h.evaluate(new Kr(f+1))};if(h.kind==="source")return{kind:"source"};{const{zoomStops:_,interpolationType:w}=h;let T=0;for(;T<_.length&&_[T]<=f;)T++;T=Math.max(0,T-1);let k=T;for(;k<_.length&&_[k]<f+1;)k++;k=Math.min(_.length-1,k);const D=_[T],B=_[k];return h.kind==="composite"?{kind:"composite",minZoom:D,maxZoom:B,interpolationType:w}:{kind:"camera",minZoom:D,maxZoom:B,minSize:h.evaluate(new Kr(D)),maxSize:h.evaluate(new Kr(B)),interpolationType:w}}}function Ub(f,l,h){let _="never";const w=f.get(l);return w?_=w:f.get(h)&&(_="always"),_}const DE=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function n_(f,l,h,_,w,T,k,D,B,Z,X,ee,oe){const le=D?Math.min(vp,Math.round(D[0])):0,fe=D?Math.min(vp,Math.round(D[1])):0;f.emplaceBack(l,h,Math.round(32*_),Math.round(32*w),T,k,(le<<1)+(B?1:0),fe,16*Z,16*X,256*ee,256*oe)}function $S(f,l,h){f.emplaceBack(l.x,l.y,h),f.emplaceBack(l.x,l.y,h),f.emplaceBack(l.x,l.y,h),f.emplaceBack(l.x,l.y,h)}function zS(f){for(const l of f.sections)if(Ou(l.text))return!0;return!1}class Zb{constructor(l){this.layoutVertexArray=new Ze,this.indexArray=new pt,this.programConfigurations=l,this.segments=new cn,this.dynamicLayoutVertexArray=new nt,this.opacityVertexArray=new yt,this.hasVisibleVertices=!1,this.placedSymbolArray=new z}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(l,h,_,w){this.isEmpty()||(_&&(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,bE.members),this.indexBuffer=l.createIndexBuffer(this.indexArray,h),this.dynamicLayoutVertexBuffer=l.createVertexBuffer(this.dynamicLayoutVertexArray,Kv.members,!0),this.opacityVertexBuffer=l.createVertexBuffer(this.opacityVertexArray,DE,!0),this.opacityVertexBuffer.itemSize=1),(_||w)&&this.programConfigurations.upload(l))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}yn("SymbolBuffers",Zb);class qb{constructor(l,h,_){this.layoutVertexArray=new l,this.layoutAttributes=h,this.indexArray=new _,this.segments=new cn,this.collisionVertexArray=new ft}upload(l){this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=l.createVertexBuffer(this.collisionVertexArray,ES.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}yn("CollisionBuffers",qb);class s0{constructor(l){this.collisionBoxArray=l.collisionBoxArray,this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map((k=>k.id)),this.index=l.index,this.pixelRatio=l.pixelRatio,this.sourceLayerIndex=l.sourceLayerIndex,this.hasDependencies=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[];const h=this.layers[0]._unevaluatedLayout._values;this.textSizeData=LS(this.zoom,h["text-size"]),this.iconSizeData=LS(this.zoom,h["icon-size"]);const _=this.layers[0].layout,w=_.get("symbol-sort-key"),T=_.get("symbol-z-order");this.canOverlap=Ub(_,"text-overlap","text-allow-overlap")!=="never"||Ub(_,"icon-overlap","icon-allow-overlap")!=="never"||_.get("text-ignore-placement")||_.get("icon-ignore-placement"),this.sortFeaturesByKey=T!=="viewport-y"&&!w.isConstant(),this.sortFeaturesByY=(T==="viewport-y"||T==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,_.get("symbol-placement")==="point"&&(this.writingModes=_.get("text-writing-mode").map((k=>a.az[k]))),this.stateDependentLayerIds=this.layers.filter((k=>k.isStateDependent())).map((k=>k.id)),this.sourceID=l.sourceID}createArrays(){this.text=new Zb(new Ih(this.layers,this.zoom,(l=>/^text/.test(l)))),this.icon=new Zb(new Ih(this.layers,this.zoom,(l=>/^icon/.test(l)))),this.glyphOffsetArray=new J,this.lineVertexArray=new ne,this.symbolInstances=new H,this.textAnchorOffsets=new ue}calculateGlyphDependencies(l,h,_,w,T){for(const k of l)if(h[k.codePointAt(0)]=!0,(_||w)&&T){const D=t0[k];D&&(h[D.codePointAt(0)]=!0)}}populate(l,h,_){const w=this.layers[0],T=w.layout,k=T.get("text-font"),D=T.get("text-field"),B=T.get("icon-image"),Z=(D.value.kind!=="constant"||D.value.value instanceof Yo&&!D.value.value.isEmpty()||D.value.value.toString().length>0)&&(k.value.kind!=="constant"||k.value.value.length>0),X=B.value.kind!=="constant"||!!B.value.value||Object.keys(B.parameters).length>0,ee=T.get("symbol-sort-key");if(this.features=[],!Z&&!X)return;const oe=h.iconDependencies,le=h.glyphDependencies,fe=h.availableImages,ge=new Kr(this.zoom);for(const{feature:ve,id:Te,index:Ve,sourceLayerIndex:Ee}of l){const Re=w._featureFilter.needGeometry,qe=tc(ve,Re);if(!w._featureFilter.filter(ge,qe,_))continue;let Ge,dt;if(Re||(qe.geometry=Au(ve)),Z){const Et=w.getValueAndResolveTokens("text-field",qe,_,fe),Ft=Yo.factory(Et),un=this.hasRTLText=this.hasRTLText||zS(Ft);(!un||vl.getRTLTextPluginStatus()==="unavailable"||un&&vl.isParsed())&&(Ge=kl(Ft,w,qe))}if(X){const Et=w.getValueAndResolveTokens("icon-image",qe,_,fe);dt=Et instanceof aa?Et:aa.fromString(Et)}if(!Ge&&!dt)continue;const Lt=this.sortFeaturesByKey?ee.evaluate(qe,{},_):void 0;if(this.features.push({id:Te,text:Ge,icon:dt,index:Ve,sourceLayerIndex:Ee,geometry:qe.geometry,properties:ve.properties,type:Ky.types[ve.type],sortKey:Lt}),dt&&(oe[dt.name]=!0),Ge){const Et=k.evaluate(qe,{},_).join(","),Ft=T.get("text-rotation-alignment")!=="viewport"&&T.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(a.az.vertical)>=0;for(const un of Ge.sections)if(un.image)oe[un.image.name]=!0;else{const Zt=zc(Ge.toString()),Rt=un.fontStack||Et,xt=le[Rt]=le[Rt]||{};this.calculateGlyphDependencies(un.text,xt,Ft,this.allowVerticalPlacement,Zt)}}}T.get("symbol-placement")==="line"&&(this.features=(function(ve){const Te={},Ve={},Ee=[];let Re=0;function qe(Et){Ee.push(ve[Et]),Re++}function Ge(Et,Ft,un){const Zt=Ve[Et];return delete Ve[Et],Ve[Ft]=Zt,Ee[Zt].geometry[0].pop(),Ee[Zt].geometry[0]=Ee[Zt].geometry[0].concat(un[0]),Zt}function dt(Et,Ft,un){const Zt=Te[Ft];return delete Te[Ft],Te[Et]=Zt,Ee[Zt].geometry[0].shift(),Ee[Zt].geometry[0]=un[0].concat(Ee[Zt].geometry[0]),Zt}function Lt(Et,Ft,un){const Zt=un?Ft[0][Ft[0].length-1]:Ft[0][0];return`${Et}:${Zt.x}:${Zt.y}`}for(let Et=0;Et<ve.length;Et++){const Ft=ve[Et],un=Ft.geometry,Zt=Ft.text?Ft.text.toString():null;if(!Zt){qe(Et);continue}const Rt=Lt(Zt,un),xt=Lt(Zt,un,!0);if(Rt in Ve&&xt in Te&&Ve[Rt]!==Te[xt]){const bn=dt(Rt,xt,un),vn=Ge(Rt,xt,Ee[bn].geometry);delete Te[Rt],delete Ve[xt],Ve[Lt(Zt,Ee[vn].geometry,!0)]=vn,Ee[bn].geometry=null}else Rt in Ve?Ge(Rt,xt,un):xt in Te?dt(Rt,xt,un):(qe(Et),Te[Rt]=Re-1,Ve[xt]=Re-1)}return Ee.filter((Et=>Et.geometry))})(this.features)),this.sortFeaturesByKey&&this.features.sort(((ve,Te)=>ve.sortKey-Te.sortKey))}update(l,h,_){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(l,h,this.layers,{imagePositions:_}),this.icon.programConfigurations.updatePaintArrays(l,h,this.layers,{imagePositions:_}))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(l){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(l),this.iconCollisionBox.upload(l)),this.text.upload(l,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(l,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(l,h){const _=this.lineVertexArray.length;if(l.segment!==void 0){let w=l.dist(h[l.segment+1]),T=l.dist(h[l.segment]);const k={};for(let D=l.segment+1;D<h.length;D++)k[D]={x:h[D].x,y:h[D].y,tileUnitDistanceFromAnchor:w},D<h.length-1&&(w+=h[D+1].dist(h[D]));for(let D=l.segment||0;D>=0;D--)k[D]={x:h[D].x,y:h[D].y,tileUnitDistanceFromAnchor:T},D>0&&(T+=h[D-1].dist(h[D]));for(let D=0;D<h.length;D++){const B=k[D];this.lineVertexArray.emplaceBack(B.x,B.y,B.tileUnitDistanceFromAnchor)}}return{lineStartIndex:_,lineLength:this.lineVertexArray.length-_}}addSymbols(l,h,_,w,T,k,D,B,Z,X,ee,oe){const le=l.indexArray,fe=l.layoutVertexArray,ge=l.segments.prepareSegment(4*h.length,fe,le,this.canOverlap?k.sortKey:void 0),ve=this.glyphOffsetArray.length,Te=ge.vertexLength,Ve=this.allowVerticalPlacement&&D===a.az.vertical?Math.PI/2:0,Ee=k.text&&k.text.sections;for(let Re=0;Re<h.length;Re++){const{tl:qe,tr:Ge,bl:dt,br:Lt,tex:Et,pixelOffsetTL:Ft,pixelOffsetBR:un,minFontScaleX:Zt,minFontScaleY:Rt,glyphOffset:xt,isSDF:bn,sectionIndex:vn}=h[Re],On=ge.vertexLength,mn=xt[1];n_(fe,B.x,B.y,qe.x,mn+qe.y,Et.x,Et.y,_,bn,Ft.x,Ft.y,Zt,Rt),n_(fe,B.x,B.y,Ge.x,mn+Ge.y,Et.x+Et.w,Et.y,_,bn,un.x,Ft.y,Zt,Rt),n_(fe,B.x,B.y,dt.x,mn+dt.y,Et.x,Et.y+Et.h,_,bn,Ft.x,un.y,Zt,Rt),n_(fe,B.x,B.y,Lt.x,mn+Lt.y,Et.x+Et.w,Et.y+Et.h,_,bn,un.x,un.y,Zt,Rt),$S(l.dynamicLayoutVertexArray,B,Ve),le.emplaceBack(On,On+2,On+1),le.emplaceBack(On+1,On+2,On+3),ge.vertexLength+=4,ge.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(xt[0]),Re!==h.length-1&&vn===h[Re+1].sectionIndex||l.programConfigurations.populatePaintArrays(fe.length,k,k.index,{imagePositions:{},canonical:oe,formattedSection:Ee&&Ee[vn]})}l.placedSymbolArray.emplaceBack(B.x,B.y,ve,this.glyphOffsetArray.length-ve,Te,Z,X,B.segment,_?_[0]:0,_?_[1]:0,w[0],w[1],D,0,!1,0,ee)}_addCollisionDebugVertex(l,h,_,w,T,k){return h.emplaceBack(0,0),l.emplaceBack(_.x,_.y,w,T,Math.round(k.x),Math.round(k.y))}addCollisionDebugVertices(l,h,_,w,T,k,D){const B=T.segments.prepareSegment(4,T.layoutVertexArray,T.indexArray),Z=B.vertexLength,X=T.layoutVertexArray,ee=T.collisionVertexArray,oe=D.anchorX,le=D.anchorY;this._addCollisionDebugVertex(X,ee,k,oe,le,new u(l,h)),this._addCollisionDebugVertex(X,ee,k,oe,le,new u(_,h)),this._addCollisionDebugVertex(X,ee,k,oe,le,new u(_,w)),this._addCollisionDebugVertex(X,ee,k,oe,le,new u(l,w)),B.vertexLength+=4;const fe=T.indexArray;fe.emplaceBack(Z,Z+1),fe.emplaceBack(Z+1,Z+2),fe.emplaceBack(Z+2,Z+3),fe.emplaceBack(Z+3,Z),B.primitiveLength+=4}addDebugCollisionBoxes(l,h,_,w){for(let T=l;T<h;T++){const k=this.collisionBoxArray.get(T);this.addCollisionDebugVertices(k.x1,k.y1,k.x2,k.y2,w?this.textCollisionBox:this.iconCollisionBox,k.anchorPoint,_)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new qb(ht,Tl.members,tn),this.iconCollisionBox=new qb(ht,Tl.members,tn);for(let l=0;l<this.symbolInstances.length;l++){const h=this.symbolInstances.get(l);this.addDebugCollisionBoxes(h.textBoxStartIndex,h.textBoxEndIndex,h,!0),this.addDebugCollisionBoxes(h.verticalTextBoxStartIndex,h.verticalTextBoxEndIndex,h,!0),this.addDebugCollisionBoxes(h.iconBoxStartIndex,h.iconBoxEndIndex,h,!1),this.addDebugCollisionBoxes(h.verticalIconBoxStartIndex,h.verticalIconBoxEndIndex,h,!1)}}_deserializeCollisionBoxesForSymbol(l,h,_,w,T,k,D,B,Z){const X={};for(let ee=h;ee<_;ee++){const oe=l.get(ee);X.textBox={x1:oe.x1,y1:oe.y1,x2:oe.x2,y2:oe.y2,anchorPointX:oe.anchorPointX,anchorPointY:oe.anchorPointY},X.textFeatureIndex=oe.featureIndex;break}for(let ee=w;ee<T;ee++){const oe=l.get(ee);X.verticalTextBox={x1:oe.x1,y1:oe.y1,x2:oe.x2,y2:oe.y2,anchorPointX:oe.anchorPointX,anchorPointY:oe.anchorPointY},X.verticalTextFeatureIndex=oe.featureIndex;break}for(let ee=k;ee<D;ee++){const oe=l.get(ee);X.iconBox={x1:oe.x1,y1:oe.y1,x2:oe.x2,y2:oe.y2,anchorPointX:oe.anchorPointX,anchorPointY:oe.anchorPointY},X.iconFeatureIndex=oe.featureIndex;break}for(let ee=B;ee<Z;ee++){const oe=l.get(ee);X.verticalIconBox={x1:oe.x1,y1:oe.y1,x2:oe.x2,y2:oe.y2,anchorPointX:oe.anchorPointX,anchorPointY:oe.anchorPointY},X.verticalIconFeatureIndex=oe.featureIndex;break}return X}deserializeCollisionBoxes(l){this.collisionArrays=[];for(let h=0;h<this.symbolInstances.length;h++){const _=this.symbolInstances.get(h);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(l,_.textBoxStartIndex,_.textBoxEndIndex,_.verticalTextBoxStartIndex,_.verticalTextBoxEndIndex,_.iconBoxStartIndex,_.iconBoxEndIndex,_.verticalIconBoxStartIndex,_.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(l,h){const _=l.placedSymbolArray.get(h),w=_.vertexStartIndex+4*_.numGlyphs;for(let T=_.vertexStartIndex;T<w;T+=4)l.indexArray.emplaceBack(T,T+2,T+1),l.indexArray.emplaceBack(T+1,T+2,T+3)}getSortedSymbolIndexes(l){if(this.sortedAngle===l&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const h=Math.sin(l),_=Math.cos(l),w=[],T=[],k=[];for(let D=0;D<this.symbolInstances.length;++D){k.push(D);const B=this.symbolInstances.get(D);w.push(0|Math.round(h*B.anchorX+_*B.anchorY)),T.push(B.featureIndex)}return k.sort(((D,B)=>w[D]-w[B]||T[B]-T[D])),k}addToSortKeyRanges(l,h){const _=this.sortKeyRanges[this.sortKeyRanges.length-1];_&&_.sortKey===h?_.symbolInstanceEnd=l+1:this.sortKeyRanges.push({sortKey:h,symbolInstanceStart:l,symbolInstanceEnd:l+1})}sortFeatures(l){if(this.sortFeaturesByY&&this.sortedAngle!==l&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(l),this.sortedAngle=l,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const h of this.symbolInstanceIndexes){const _=this.symbolInstances.get(h);this.featureSortOrder.push(_.featureIndex),[_.rightJustifiedTextSymbolIndex,_.centerJustifiedTextSymbolIndex,_.leftJustifiedTextSymbolIndex].forEach(((w,T,k)=>{w>=0&&k.indexOf(w)===T&&this.addIndicesForPlacedSymbol(this.text,w)})),_.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,_.verticalPlacedTextSymbolIndex),_.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,_.placedIconSymbolIndex),_.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,_.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let Wb,Hb;yn("SymbolBucket",s0,{omit:["layers","collisionBoxArray","features","compareText"]}),s0.MAX_GLYPHS=65535,s0.addDynamicAttributes=$S;var NS={get paint(){return Hb=Hb||new wo({"icon-opacity":new An(ut.paint_symbol["icon-opacity"]),"icon-color":new An(ut.paint_symbol["icon-color"]),"icon-halo-color":new An(ut.paint_symbol["icon-halo-color"]),"icon-halo-width":new An(ut.paint_symbol["icon-halo-width"]),"icon-halo-blur":new An(ut.paint_symbol["icon-halo-blur"]),"icon-translate":new xn(ut.paint_symbol["icon-translate"]),"icon-translate-anchor":new xn(ut.paint_symbol["icon-translate-anchor"]),"text-opacity":new An(ut.paint_symbol["text-opacity"]),"text-color":new An(ut.paint_symbol["text-color"],{runtimeType:La,getOverride:f=>f.textColor,hasOverride:f=>!!f.textColor}),"text-halo-color":new An(ut.paint_symbol["text-halo-color"]),"text-halo-width":new An(ut.paint_symbol["text-halo-width"]),"text-halo-blur":new An(ut.paint_symbol["text-halo-blur"]),"text-translate":new xn(ut.paint_symbol["text-translate"]),"text-translate-anchor":new xn(ut.paint_symbol["text-translate-anchor"])})},get layout(){return Wb=Wb||new wo({"symbol-placement":new xn(ut.layout_symbol["symbol-placement"]),"symbol-spacing":new xn(ut.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new xn(ut.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new An(ut.layout_symbol["symbol-sort-key"]),"symbol-z-order":new xn(ut.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new xn(ut.layout_symbol["icon-allow-overlap"]),"icon-overlap":new xn(ut.layout_symbol["icon-overlap"]),"icon-ignore-placement":new xn(ut.layout_symbol["icon-ignore-placement"]),"icon-optional":new xn(ut.layout_symbol["icon-optional"]),"icon-rotation-alignment":new xn(ut.layout_symbol["icon-rotation-alignment"]),"icon-size":new An(ut.layout_symbol["icon-size"]),"icon-text-fit":new xn(ut.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new xn(ut.layout_symbol["icon-text-fit-padding"]),"icon-image":new An(ut.layout_symbol["icon-image"]),"icon-rotate":new An(ut.layout_symbol["icon-rotate"]),"icon-padding":new An(ut.layout_symbol["icon-padding"]),"icon-keep-upright":new xn(ut.layout_symbol["icon-keep-upright"]),"icon-offset":new An(ut.layout_symbol["icon-offset"]),"icon-anchor":new An(ut.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new xn(ut.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new xn(ut.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new xn(ut.layout_symbol["text-rotation-alignment"]),"text-field":new An(ut.layout_symbol["text-field"]),"text-font":new An(ut.layout_symbol["text-font"]),"text-size":new An(ut.layout_symbol["text-size"]),"text-max-width":new An(ut.layout_symbol["text-max-width"]),"text-line-height":new xn(ut.layout_symbol["text-line-height"]),"text-letter-spacing":new An(ut.layout_symbol["text-letter-spacing"]),"text-justify":new An(ut.layout_symbol["text-justify"]),"text-radial-offset":new An(ut.layout_symbol["text-radial-offset"]),"text-variable-anchor":new xn(ut.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new An(ut.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new An(ut.layout_symbol["text-anchor"]),"text-max-angle":new xn(ut.layout_symbol["text-max-angle"]),"text-writing-mode":new xn(ut.layout_symbol["text-writing-mode"]),"text-rotate":new An(ut.layout_symbol["text-rotate"]),"text-padding":new xn(ut.layout_symbol["text-padding"]),"text-keep-upright":new xn(ut.layout_symbol["text-keep-upright"]),"text-transform":new An(ut.layout_symbol["text-transform"]),"text-offset":new An(ut.layout_symbol["text-offset"]),"text-allow-overlap":new xn(ut.layout_symbol["text-allow-overlap"]),"text-overlap":new xn(ut.layout_symbol["text-overlap"]),"text-ignore-placement":new xn(ut.layout_symbol["text-ignore-placement"]),"text-optional":new xn(ut.layout_symbol["text-optional"])})}};class LE{constructor(l){if(l.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=l.property.overrides?l.property.overrides.runtimeType:_i,this.defaultValue=l}evaluate(l){if(l.formattedSection){const h=this.defaultValue.property.overrides;if(h&&h.hasOverride(l.formattedSection))return h.getOverride(l.formattedSection)}return l.feature&&l.featureState?this.defaultValue.evaluate(l.feature,l.featureState):this.defaultValue.property.specification.default}eachChild(l){this.defaultValue.isConstant()||l(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}yn("FormatSectionOverride",LE,{omit:["defaultValue"]});class _p extends Gi{constructor(l,h){super(l,NS,h)}recalculate(l,h){if(super.recalculate(l,h),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const _=this.layout.get("text-writing-mode");if(_){const w=[];for(const T of _)w.indexOf(T)<0&&w.push(T);this.layout._values["text-writing-mode"]=w}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(l,h,_,w){const T=this.layout.get(l).evaluate(h,{},_,w),k=this._unevaluatedLayout._values[l];return k.isDataDriven()||Th(k.value)||!T?T:(function(D,B){return B.replace(/{([^{}]+)}/g,((Z,X)=>D&&X in D?String(D[X]):""))})(h.properties,T)}createBucket(l){return new s0(l)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const l of NS.paint.overridableProperties){if(!_p.hasPaintOverride(this.layout,l))continue;const h=this.paint.get(l),_=new LE(h),w=new Dy(_,h.property.specification);let T=null;T=h.value.kind==="constant"||h.value.kind==="source"?new da("source",w):new kh("composite",w,h.value.zoomStops),this.paint._values[l]=new Za(h.property,T,h.parameters)}}_handleOverridablePaintPropertyUpdate(l,h,_){return!(!this.layout||h.isDataDriven()||_.isDataDriven())&&_p.hasPaintOverride(this.layout,l)}static hasPaintOverride(l,h){const _=l.get("text-field"),w=NS.paint.properties[h];let T=!1;const k=D=>{for(const B of D)if(w.overrides&&w.overrides.hasOverride(B))return void(T=!0)};if(_.value.kind==="constant"&&_.value.value instanceof Yo)k(_.value.value.sections);else if(_.value.kind==="source"||_.value.kind==="composite"){const D=Z=>{T||(Z instanceof za&&zi(Z.value)===xc?k(Z.value.sections):Z instanceof Dm?k(Z.sections):Z.eachChild(D))},B=_.value;B._styleExpression&&D(B._styleExpression.expression)}return T}}let $E;var zE={get paint(){return $E=$E||new wo({"background-color":new xn(ut.paint_background["background-color"]),"background-pattern":new cp(ut.paint_background["background-pattern"]),"background-opacity":new xn(ut.paint_background["background-opacity"])})}};class Nr extends Gi{constructor(l,h){super(l,zE,h)}}class BS extends Gi{constructor(l,h){super(l,{},h),this.onAdd=_=>{this.implementation.onAdd&&this.implementation.onAdd(_,_.painter.context.gl)},this.onRemove=_=>{this.implementation.onRemove&&this.implementation.onRemove(_,_.painter.context.gl)},this.implementation=l}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class Gb{constructor(l){this._methodToThrottle=l,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((()=>{this._triggered=!1,this._methodToThrottle()}),0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const FS={once:!0},Xb=63710088e-1;class Bh{constructor(l,h){if(isNaN(l)||isNaN(h))throw new Error(`Invalid LngLat object: (${l}, ${h})`);if(this.lng=+l,this.lat=+h,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Bh(ot(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(l){const h=Math.PI/180,_=this.lat*h,w=l.lat*h,T=Math.sin(_)*Math.sin(w)+Math.cos(_)*Math.cos(w)*Math.cos((l.lng-this.lng)*h);return Xb*Math.acos(Math.min(T,1))}static convert(l){if(l instanceof Bh)return l;if(Array.isArray(l)&&(l.length===2||l.length===3))return new Bh(Number(l[0]),Number(l[1]));if(!Array.isArray(l)&&typeof l=="object"&&l!==null)return new Bh(Number("lng"in l?l.lng:l.lon),Number(l.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const a0=2*Math.PI*Xb;function r_(f){return a0*Math.cos(f*Math.PI/180)}function NE(f){return(180+f)/360}function jS(f){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+f*Math.PI/360)))/360}function BE(f,l){return f/r_(l)}function FE(f){return 360*f-180}function i_(f){return 360/Math.PI*Math.atan(Math.exp((180-360*f)*Math.PI/180))-90}function VS(f,l){return f*r_(i_(l))}class si{constructor(l,h,_=0){this.x=+l,this.y=+h,this.z=+_}static fromLngLat(l,h=0){const _=Bh.convert(l);return new si(NE(_.lng),jS(_.lat),BE(h,_.lat))}toLngLat(){return new Bh(FE(this.x),i_(this.y))}toAltitude(){return VS(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/a0*(l=i_(this.y),1/Math.cos(l*Math.PI/180));var l}}function Yb(f,l,h){var _=2*Math.PI*6378137/256/Math.pow(2,h);return[f*_-2*Math.PI*6378137/2,l*_-2*Math.PI*6378137/2]}class Es{constructor(l,h,_){if(!(function(w,T,k){return!(w<0||w>25||k<0||k>=Math.pow(2,w)||T<0||T>=Math.pow(2,w))})(l,h,_))throw new Error(`x=${h}, y=${_}, z=${l} outside of bounds. 0<=x<${Math.pow(2,l)}, 0<=y<${Math.pow(2,l)} 0<=z<=25 `);this.z=l,this.x=h,this.y=_,this.key=l0(0,l,l,h,_)}equals(l){return this.z===l.z&&this.x===l.x&&this.y===l.y}url(l,h,_){const w=(function(k,D,B){var Z=Yb(256*k,256*(D=Math.pow(2,B)-D-1),B),X=Yb(256*(k+1),256*(D+1),B);return Z[0]+","+Z[1]+","+X[0]+","+X[1]})(this.x,this.y,this.z),T=(function(k,D,B){let Z,X="";for(let ee=k;ee>0;ee--)Z=1<<ee-1,X+=(D&Z?1:0)+(B&Z?2:0);return X})(this.z,this.x,this.y);return l[(this.x+this.y)%l.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(_==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,h>1?"@2x":"").replace(/{quadkey}/g,T).replace(/{bbox-epsg-3857}/g,w)}isChildOf(l){const h=this.z-l.z;return h>0&&l.x===this.x>>h&&l.y===this.y>>h}getTilePoint(l){const h=Math.pow(2,this.z);return new u((l.x*h-this.x)*Ue,(l.y*h-this.y)*Ue)}toString(){return`${this.z}/${this.x}/${this.y}`}}class jE{constructor(l,h){this.wrap=l,this.canonical=h,this.key=l0(l,h.z,h.z,h.x,h.y)}}class El{constructor(l,h,_,w,T){if(this.terrainRttPosMatrix32f=null,l<_)throw new Error(`overscaledZ should be >= z; overscaledZ = ${l}; z = ${_}`);this.overscaledZ=l,this.wrap=h,this.canonical=new Es(_,+w,+T),this.key=l0(h,l,_,w,T)}clone(){return new El(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(l){return this.overscaledZ===l.overscaledZ&&this.wrap===l.wrap&&this.canonical.equals(l.canonical)}scaledTo(l){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const h=this.canonical.z-l;return l>this.canonical.z?new El(l,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new El(l,this.wrap,l,this.canonical.x>>h,this.canonical.y>>h)}isOverscaled(){return this.overscaledZ>this.canonical.z}calculateScaledKey(l,h){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const _=this.canonical.z-l;return l>this.canonical.z?l0(this.wrap*+h,l,this.canonical.z,this.canonical.x,this.canonical.y):l0(this.wrap*+h,l,l,this.canonical.x>>_,this.canonical.y>>_)}isChildOf(l){if(l.wrap!==this.wrap||this.overscaledZ-l.overscaledZ<=0)return!1;if(l.overscaledZ===0)return this.overscaledZ>0;const h=this.canonical.z-l.canonical.z;return!(h<0)&&l.canonical.x===this.canonical.x>>h&&l.canonical.y===this.canonical.y>>h}children(l){if(this.overscaledZ>=l)return[new El(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const h=this.canonical.z+1,_=2*this.canonical.x,w=2*this.canonical.y;return[new El(h,this.wrap,h,_,w),new El(h,this.wrap,h,_+1,w),new El(h,this.wrap,h,_,w+1),new El(h,this.wrap,h,_+1,w+1)]}isLessThan(l){return this.wrap<l.wrap||!(this.wrap>l.wrap)&&(this.overscaledZ<l.overscaledZ||!(this.overscaledZ>l.overscaledZ)&&(this.canonical.x<l.canonical.x||!(this.canonical.x>l.canonical.x)&&this.canonical.y<l.canonical.y))}wrapped(){return new El(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(l){return new El(this.overscaledZ,l,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new jE(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(l){return this.canonical.getTilePoint(new si(l.x-this.wrap,l.y))}}function l0(f,l,h,_,w){(f*=2)<0&&(f=-1*f-1);const T=1<<h;return(T*T*f+T*w+_).toString(36)+h.toString(36)+l.toString(36)}function o_(f,l){return l?f.properties[l]:f.id}function QS(f,l){const h={id:f.id};if(l.removeAllProperties&&(delete f.removeProperties,delete f.addOrUpdateProperties,delete l.removeProperties),l.removeProperties)for(const _ of l.removeProperties){const w=f.addOrUpdateProperties.findIndex((T=>T.key===_));w>-1&&f.addOrUpdateProperties.splice(w,1)}return(f.removeAllProperties||l.removeAllProperties)&&(h.removeAllProperties=!0),(f.removeProperties||l.removeProperties)&&(h.removeProperties=[...f.removeProperties||[],...l.removeProperties||[]]),(f.addOrUpdateProperties||l.addOrUpdateProperties)&&(h.addOrUpdateProperties=[...f.addOrUpdateProperties||[],...l.addOrUpdateProperties||[]]),(f.newGeometry||l.newGeometry)&&(h.newGeometry=l.newGeometry||f.newGeometry),h}function s_(f){var l,h;if(!f)return{};const _={};return _.removeAll=f.removeAll,_.remove=new Set(f.remove||[]),_.add=new Map((l=f.add)===null||l===void 0?void 0:l.map((w=>[w.id,w]))),_.update=new Map((h=f.update)===null||h===void 0?void 0:h.map((w=>[w.id,w]))),_}yn("CanonicalTileID",Es),yn("OverscaledTileID",El,{omit:["terrainRttPosMatrix32f"]});class xp{constructor(){this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0}extend(l){return this.minX=Math.min(this.minX,l.x),this.minY=Math.min(this.minY,l.y),this.maxX=Math.max(this.maxX,l.x),this.maxY=Math.max(this.maxY,l.y),this}expandBy(l){return this.minX-=l,this.minY-=l,this.maxX+=l,this.maxY+=l,(this.minX>this.maxX||this.minY>this.maxY)&&(this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0),this}shrinkBy(l){return this.expandBy(-l)}map(l){const h=new xp;return h.extend(l(new u(this.minX,this.minY))),h.extend(l(new u(this.maxX,this.minY))),h.extend(l(new u(this.minX,this.maxY))),h.extend(l(new u(this.maxX,this.maxY))),h}static fromPoints(l){const h=new xp;for(const _ of l)h.extend(_);return h}contains(l){return l.x>=this.minX&&l.x<=this.maxX&&l.y>=this.minY&&l.y<=this.maxY}empty(){return this.minX>this.maxX}width(){return this.maxX-this.minX}height(){return this.maxY-this.minY}covers(l){return!this.empty()&&!l.empty()&&l.minX>=this.minX&&l.maxX<=this.maxX&&l.minY>=this.minY&&l.maxY<=this.maxY}intersects(l){return!this.empty()&&!l.empty()&&l.minX<=this.maxX&&l.maxX>=this.minX&&l.minY<=this.maxY&&l.maxY>=this.minY}}class US{constructor(l){this._stringToNumber={},this._numberToString=[];for(let h=0;h<l.length;h++){const _=l[h];this._stringToNumber[_]=h,this._numberToString[h]=_}}encode(l){return this._stringToNumber[l]}decode(l){if(l>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${l} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[l]}}class Kb{constructor(l,h,_,w,T){this.type="Feature",this._vectorTileFeature=l,this._x=_,this._y=w,this._z=h,this.properties=l.properties,this.id=T}projectPoint(l,h,_,w){return[360*(l.x+h)/w-180,360/Math.PI*Math.atan(Math.exp((1-2*(l.y+_)/w)*Math.PI))-90]}projectLine(l,h,_,w){return l.map((T=>this.projectPoint(T,h,_,w)))}get geometry(){if(this._geometry)return this._geometry;const l=this._vectorTileFeature,h=l.extent*Math.pow(2,this._z),_=l.extent*this._x,w=l.extent*this._y,T=l.loadGeometry();switch(l.type){case 1:{const k=[];for(const B of T)k.push(B[0]);const D=this.projectLine(k,_,w,h);this._geometry=k.length===1?{type:"Point",coordinates:D[0]}:{type:"MultiPoint",coordinates:D};break}case 2:{const k=T.map((D=>this.projectLine(D,_,w,h)));this._geometry=k.length===1?{type:"LineString",coordinates:k[0]}:{type:"MultiLineString",coordinates:k};break}case 3:{const k=_E(T),D=[];for(const B of k)D.push(B.map((Z=>this.projectLine(Z,_,w,h))));this._geometry=D.length===1?{type:"Polygon",coordinates:D[0]}:{type:"MultiPolygon",coordinates:D};break}default:throw new Error(`unknown feature type: ${l.type}`)}return this._geometry}set geometry(l){this._geometry=l}toJSON(){const l={geometry:this.geometry};for(const h in this)h!=="_geometry"&&h!=="_vectorTileFeature"&&h!=="_x"&&h!=="_y"&&h!=="_z"&&(l[h]=this[h]);return l}}class bp{_name;dataBuffer;nullabilityBuffer;_size;constructor(l,h,_){this._name=l,this.dataBuffer=h,typeof _=="number"?this._size=_:(this.nullabilityBuffer=_,this._size=_.size())}getValue(l){return this.nullabilityBuffer&&!this.nullabilityBuffer.get(l)?null:this.getValueFromBuffer(l)}has(l){return this.nullabilityBuffer&&this.nullabilityBuffer.get(l)||!this.nullabilityBuffer}get name(){return this._name}get size(){return this._size}}class Jb extends bp{}class e1 extends Jb{getValueFromBuffer(l){return this.dataBuffer[l]}}class ZS extends Jb{getValueFromBuffer(l){return this.dataBuffer[l]}}class qS extends bp{delta;constructor(l,h,_,w){super(l,h,w),this.delta=_}}class WS extends qS{constructor(l,h,_,w){super(l,Int32Array.of(h),_,w)}getValueFromBuffer(l){return this.dataBuffer[0]+l*this.delta}}class HS extends bp{constructor(l,h,_){super(l,Int32Array.of(h),_)}getValueFromBuffer(l){return this.dataBuffer[0]}}class wp{_name;_geometryVector;_idVector;_propertyVectors;_extent;propertyVectorsMap;constructor(l,h,_,w,T=4096){this._name=l,this._geometryVector=h,this._idVector=_,this._propertyVectors=w,this._extent=T}get name(){return this._name}get idVector(){return this._idVector}get geometryVector(){return this._geometryVector}get propertyVectors(){return this._propertyVectors}getPropertyVector(l){return this.propertyVectorsMap||(this.propertyVectorsMap=new Map(this._propertyVectors.map((h=>[h.name,h])))),this.propertyVectorsMap.get(l)}*[Symbol.iterator](){const l=this.geometryVector[Symbol.iterator]();let h=0;for(;h<this.numFeatures;){let _;this.idVector&&(_=this.containsMaxSaveIntegerValues(this.idVector)?Number(this.idVector.getValue(h)):this.idVector.getValue(h));const w=l?.next().value,T={};for(const k of this.propertyVectors){if(!k)continue;const D=k.name,B=k.getValue(h);B!==null&&(T[D]=B)}h++,yield{id:_,geometry:w,properties:T}}}get numFeatures(){return this.geometryVector.numGeometries}get extent(){return this._extent}getFeatures(){const l=[],h=this.geometryVector.getGeometries();for(let _=0;_<this.numFeatures;_++){let w;this.idVector&&(w=this.containsMaxSaveIntegerValues(this.idVector)?Number(this.idVector.getValue(_)):this.idVector.getValue(_));const T={coordinates:h[_],type:this.geometryVector.geometryType(_)},k={};for(const D of this.propertyVectors){if(!D)continue;const B=D.name,Z=D.getValue(_);Z!==null&&(k[B]=Z)}l.push({id:w,geometry:T,properties:k})}return l}containsMaxSaveIntegerValues(l){return l instanceof e1||l instanceof HS&&l instanceof WS||l instanceof ZS}}class VE{value;constructor(l){this.value=l}get(){return this.value}set(l){this.value=l}increment(){return this.value++}add(l){this.value+=l}}var br,Iu,js,Du,Op,Ta,Zo,gs,ic,Xa;function ys(f,l,h){const _=new Int32Array(h);let w=0,T=l.get();for(let k=0;k<_.length;k++){let D=f[T++],B=127&D;D<128||(D=f[T++],B|=(127&D)<<7,D<128||(D=f[T++],B|=(127&D)<<14,D<128||(D=f[T++],B|=(127&D)<<21,D<128||(D=f[T++],B|=(15&D)<<28)))),_[w++]=B}return l.set(T),_}function a_(f,l,h){const _=new BigInt64Array(h);for(let w=0;w<_.length;w++)_[w]=t1(f,l);return _}function QE(f,l){let h,_;return _=f[l.get()],l.increment(),h=127&_,_<128?h:(_=f[l.get()],l.increment(),h|=(127&_)<<7,_<128?h:(_=f[l.get()],l.increment(),h|=(127&_)<<14,_<128?h:(_=f[l.get()],l.increment(),h|=(127&_)<<21,_<128?h:(_=f[l.get()],h|=(15&_)<<28,(function(w,T,k){let D,B;if(B=T[k.get()],k.increment(),D=(112&B)>>4,B<128||(B=T[k.get()],k.increment(),D|=(127&B)<<3,B<128)||(B=T[k.get()],k.increment(),D|=(127&B)<<10,B<128)||(B=T[k.get()],k.increment(),D|=(127&B)<<17,B<128)||(B=T[k.get()],k.increment(),D|=(127&B)<<24,B<128)||(B=T[k.get()],k.increment(),D|=(1&B)<<31,B<128))return 4294967296*D+(w>>>0);throw new Error("Expected varint not more than 10 bytes")})(h,f,l)))))}function c0(f,l,h,_){throw new Error("FastPFor is not implemented yet.")}function Vs(f){return f>>>1^-(1&f)}function yg(f){return f>>1n^-(1n&f)}function t1(f,l){let h=0n,_=0,w=l.get();for(;w<f.length;){const T=f[w++];if(h|=BigInt(127&T)<<BigInt(_),!(128&T))break;if(_+=7,_>=64)throw new Error("Varint too long")}return l.set(w),h}function Fh(f,l,h){const _=new Int32Array(h);let w=0;for(let T=0;T<l;T++){const k=f[T];_.fill(f[T+l],w,w+k),w+=k}return _}function UE(f,l,h){const _=new BigInt64Array(h);let w=0;for(let T=0;T<l;T++){const k=Number(f[T]);_.fill(f[T+l],w,w+k),w+=k}return _}function ZE(f,l,h){const _=new Float64Array(h);let w=0;for(let T=0;T<l;T++){const k=f[T];_.fill(f[T+l],w,w+k),w+=k}return _}function Sp(f){const l=f.length/4*4;let h=1;if(l>=4)for(let _=f[0];h<l-4;h+=4)_=f[h]+=_,_=f[h+1]+=_,_=f[h+2]+=_,_=f[h+3]+=_;for(;h!=f.length;)f[h]+=f[h-1],++h}function GS(f){f[0]=f[0]>>>1^-(1&f[0]),f[1]=f[1]>>>1^-(1&f[1]);const l=f.length/4*4;let h=2;if(l>=4)for(;h<l-4;h+=4){const _=f[h],w=f[h+1],T=f[h+2],k=f[h+3];f[h]=(_>>>1^-(1&_))+f[h-2],f[h+1]=(w>>>1^-(1&w))+f[h-1],f[h+2]=(T>>>1^-(1&T))+f[h],f[h+3]=(k>>>1^-(1&k))+f[h+1]}for(;h!=f.length;h+=2)f[h]=(f[h]>>>1^-(1&f[h]))+f[h-2],f[h+1]=(f[h+1]>>>1^-(1&f[h+1]))+f[h-1]}(function(f){f.NONE="NONE",f.DELTA="DELTA",f.COMPONENTWISE_DELTA="COMPONENTWISE_DELTA",f.RLE="RLE",f.MORTON="MORTON",f.PDE="PDE"})(br||(br={})),(function(f){f.NONE="NONE",f.FAST_PFOR="FAST_PFOR",f.VARINT="VARINT",f.ALP="ALP"})(Iu||(Iu={})),(function(f){f.PRESENT="PRESENT",f.DATA="DATA",f.OFFSET="OFFSET",f.LENGTH="LENGTH"})(js||(js={}));class XS{_dictionaryType;_offsetType;_lengthType;constructor(l,h,_){this._dictionaryType=l,this._offsetType=h,this._lengthType=_}get dictionaryType(){return this._dictionaryType}get offsetType(){return this._offsetType}get lengthType(){return this._lengthType}}function ka(f,l){const h=(function(_,w){const T=_[w.get()],k=Object.values(js)[T>>4];let D=null;switch(k){case js.DATA:D=new XS(Object.values(Du)[15&T]);break;case js.OFFSET:D=new XS(null,Object.values(Op)[15&T]);break;case js.LENGTH:D=new XS(null,null,Object.values(Ta)[15&T])}w.increment();const B=_[w.get()],Z=Object.values(br)[B>>5],X=Object.values(br)[B>>2&7],ee=Object.values(Iu)[3&B];w.increment();const oe=ys(_,w,2),le=oe[0];return{physicalStreamType:k,logicalStreamType:D,logicalLevelTechnique1:Z,logicalLevelTechnique2:X,physicalLevelTechnique:ee,numValues:le,byteLength:oe[1],decompressedCount:le}})(f,l);return h.logicalLevelTechnique1===br.MORTON?(function(_,w,T){const k=ys(w,T,2);return{physicalStreamType:_.physicalStreamType,logicalStreamType:_.logicalStreamType,logicalLevelTechnique1:_.logicalLevelTechnique1,logicalLevelTechnique2:_.logicalLevelTechnique2,physicalLevelTechnique:_.physicalLevelTechnique,numValues:_.numValues,byteLength:_.byteLength,decompressedCount:_.decompressedCount,numBits:k[0],coordinateShift:k[1]}})(h,f,l):br.RLE!==h.logicalLevelTechnique1&&br.RLE!==h.logicalLevelTechnique2||Iu.NONE===h.physicalLevelTechnique?h:(function(_,w,T){const k=ys(w,T,2);return{physicalStreamType:_.physicalStreamType,logicalStreamType:_.logicalStreamType,logicalLevelTechnique1:_.logicalLevelTechnique1,logicalLevelTechnique2:_.logicalLevelTechnique2,physicalLevelTechnique:_.physicalLevelTechnique,numValues:_.numValues,byteLength:_.byteLength,decompressedCount:k[1],runs:k[0],numRleValues:k[1]}})(h,f,l)}(function(f){f.NONE="NONE",f.SINGLE="SINGLE",f.SHARED="SHARED",f.VERTEX="VERTEX",f.MORTON="MORTON",f.FSST="FSST"})(Du||(Du={})),(function(f){f.VERTEX="VERTEX",f.INDEX="INDEX",f.STRING="STRING",f.KEY="KEY"})(Op||(Op={})),(function(f){f.VAR_BINARY="VAR_BINARY",f.GEOMETRIES="GEOMETRIES",f.PARTS="PARTS",f.RINGS="RINGS",f.TRIANGLES="TRIANGLES",f.SYMBOL="SYMBOL",f.DICTIONARY="DICTIONARY"})(Ta||(Ta={})),(function(f){f[f.FLAT=0]="FLAT",f[f.CONST=1]="CONST",f[f.SEQUENCE=2]="SEQUENCE",f[f.DICTIONARY=3]="DICTIONARY",f[f.FSST_DICTIONARY=4]="FSST_DICTIONARY"})(Zo||(Zo={}));class Lu{values;_size;constructor(l,h){this.values=l,this._size=h}get(l){const h=Math.floor(l/8);return(this.values[h]>>l%8&1)==1}set(l,h){const _=Math.floor(l/8);this.values[_]=this.values[_]|(h?1:0)<<l%8}getInt(l){const h=Math.floor(l/8);return this.values[h]>>l%8&1}size(){return this._size}getBuffer(){return this.values}}function Ea(f,l,h,_,w){return(function(T,k,D){switch(k.logicalLevelTechnique1){case br.DELTA:return k.logicalLevelTechnique2===br.RLE?(function(B,Z,X){const ee=new Int32Array(X);let oe=0,le=0;for(let fe=0;fe<Z;fe++){const ge=B[fe],ve=Vs(B[fe+Z]);for(let Te=0;Te<ge;Te++)le+=ve,ee[oe++]=le}return ee})(T,k.runs,k.numRleValues):((function(B){B[0]=B[0]>>>1^-(1&B[0]);const Z=B.length/4*4;let X=1;if(Z>=4)for(;X<Z-4;X+=4){const ee=B[X],oe=B[X+1],le=B[X+2],fe=B[X+3];B[X]=(ee>>>1^-(1&ee))+B[X-1],B[X+1]=(oe>>>1^-(1&oe))+B[X],B[X+2]=(le>>>1^-(1&le))+B[X+1],B[X+3]=(fe>>>1^-(1&fe))+B[X+2]}for(;X!=B.length;++X)B[X]=(B[X]>>>1^-(1&B[X]))+B[X-1]})(T),T);case br.RLE:return(function(B,Z,X){return X?(function(ee,oe,le){const fe=new Int32Array(le);let ge=0;for(let ve=0;ve<oe;ve++){const Te=ee[ve];let Ve=ee[ve+oe];Ve=Ve>>>1^-(1&Ve),fe.fill(Ve,ge,ge+Te),ge+=Te}return fe})(B,Z.runs,Z.numRleValues):Fh(B,Z.runs,Z.numRleValues)})(T,k,D);case br.MORTON:return Sp(T),T;case br.COMPONENTWISE_DELTA:return GS(T),T;case br.NONE:return D&&(function(B){for(let Z=0;Z<B.length;Z++){const X=B[Z];B[Z]=X>>>1^-(1&X)}})(T),T;default:throw new Error(`The specified Logical level technique is not supported: ${k.logicalLevelTechnique1}`)}})(n1(f,l,h),h,_)}function Cp(f,l,h){return(function(_,w){if(w.logicalLevelTechnique1===br.DELTA&&w.logicalLevelTechnique2===br.NONE)return(function(k){const D=new Int32Array(k.length+1);D[0]=0,D[1]=Vs(k[0]);let B=D[1],Z=2;for(;Z!=D.length;++Z){const X=k[Z-1];B+=X>>>1^-(1&X),D[Z]=D[Z-1]+B}return D})(_);if(w.logicalLevelTechnique1===br.RLE&&w.logicalLevelTechnique2===br.NONE)return(function(k,D,B){const Z=new Int32Array(B+1);Z[0]=0;let X=1,ee=Z[0];for(let oe=0;oe<D;oe++){const le=k[oe],fe=k[oe+D];for(let ge=X;ge<X+le;ge++)Z[ge]=fe+ee,ee=Z[ge];X+=le}return Z})(_,w.runs,w.numRleValues);if(w.logicalLevelTechnique1===br.NONE&&w.logicalLevelTechnique2===br.NONE){(function(k){let D=0;for(let B=0;B<k.length;B++)k[B]+=D,D=k[B]})(_);const T=new Int32Array(w.numValues+1);return T[0]=0,T.set(_,1),T}if(w.logicalLevelTechnique1===br.DELTA&&w.logicalLevelTechnique2===br.RLE){const T=(function(k,D,B){const Z=new Int32Array(B+1);Z[0]=0;let X=1,ee=Z[0];for(let oe=0;oe<D;oe++){const le=k[oe];let fe=k[oe+D];fe=fe>>>1^-(1&fe);for(let ge=X;ge<X+le;ge++)Z[ge]=fe+ee,ee=Z[ge];X+=le}return Z})(_,w.runs,w.numRleValues);return Sp(T),T}throw new Error("Only delta encoding is supported for transforming length to offset streams yet.")})(n1(f,l,h),h)}function n1(f,l,h){const _=h.physicalLevelTechnique;if(_===Iu.FAST_PFOR)return c0();if(_===Iu.VARINT)return ys(f,l,h.numValues);if(_===Iu.NONE){const w=l.get();l.add(h.byteLength);const T=f.subarray(w,l.get());return new Int32Array(T)}throw new Error("Specified physicalLevelTechnique is not supported (yet).")}function YS(f,l,h,_){const w=n1(f,l,h);if(w.length===1){const T=w[0];return _?Vs(T):T}return _?(function(T){return Vs(T[1])})(w):(function(T){return T[1]})(w)}function KS(f,l,h){return(function(_){if(_.length==2){const w=Vs(_[1]);return[w,w]}return[Vs(_[2]),Vs(_[3])]})(n1(f,l,h))}function vg(f,l,h){return(function(_){if(_.length==2){const w=yg(_[1]);return[w,w]}return[yg(_[2]),yg(_[3])]})(a_(f,l,h.numValues))}function u0(f,l,h,_){return(function(w,T,k){switch(T.logicalLevelTechnique1){case br.DELTA:return T.logicalLevelTechnique2===br.RLE?(function(D,B,Z){const X=new BigInt64Array(Z);let ee=0,oe=0n;for(let le=0;le<B;le++){const fe=Number(D[le]),ge=yg(D[le+B]);for(let ve=0;ve<fe;ve++)oe+=ge,X[ee++]=oe}return X})(w,T.runs,T.numRleValues):((function(D){D[0]=D[0]>>1n^-(1n&D[0]);const B=D.length/4*4;let Z=1;if(B>=4)for(;Z<B-4;Z+=4){const X=D[Z],ee=D[Z+1],oe=D[Z+2],le=D[Z+3];D[Z]=(X>>1n^-(1n&X))+D[Z-1],D[Z+1]=(ee>>1n^-(1n&ee))+D[Z],D[Z+2]=(oe>>1n^-(1n&oe))+D[Z+1],D[Z+3]=(le>>1n^-(1n&le))+D[Z+2]}for(;Z!=D.length;++Z)D[Z]=(D[Z]>>1n^-(1n&D[Z]))+D[Z-1]})(w),w);case br.RLE:return(function(D,B,Z){return Z?(function(X,ee,oe){const le=new BigInt64Array(oe);let fe=0;for(let ge=0;ge<ee;ge++){const ve=Number(X[ge]);let Te=X[ge+ee];Te=Te>>1n^-(1n&Te),le.fill(Te,fe,fe+ve),fe+=ve}return le})(D,B.runs,B.numRleValues):UE(D,B.runs,B.numRleValues)})(w,T,k);case br.NONE:return k&&(function(D){for(let B=0;B<D.length;B++){const Z=D[B];D[B]=Z>>1n^-(1n&Z)}})(w),w;default:throw new Error(`The specified Logical level technique is not supported: ${T.logicalLevelTechnique1}`)}})(a_(f,l,h.numValues),h,_)}function JS(f,l,h,_){const w=a_(f,l,h.numValues);if(w.length===1){const T=w[0];return _?yg(T):T}return _?(function(T){return yg(T[1])})(w):(function(T){return T[1]})(w)}function e2(f,l,h,_,w){return(function(T,k,D,B){switch(k.logicalLevelTechnique1){case br.DELTA:return k.logicalLevelTechnique2===br.RLE&&(T=Fh(T,k.runs,k.numRleValues)),(function(Z,X){const ee=new Int32Array(Z.size());let oe=0;Z.get(0)?(ee[0]=Z.get(0)?X[0]>>>1^-(1&X[0]):0,oe=1):ee[0]=0;let le=1;for(;le!=ee.length;++le)ee[le]=Z.get(le)?ee[le-1]+(X[oe]>>>1^-(1&X[oe++])):ee[le-1];return ee})(B,T);case br.RLE:return(function(Z,X,ee,oe){const le=X;return ee?(function(fe,ge,ve){const Te=new Int32Array(fe.size());let Ve=0;for(let Ee=0;Ee<ve;Ee++){const Re=ge[Ee];let qe=ge[Ee+ve];qe=qe>>>1^-(1&qe);for(let Ge=Ve;Ge<Ve+Re;Ge++)fe.get(Ge)?Te[Ge]=qe:(Te[Ge]=0,Ve++);Ve+=Re}return Te})(oe,Z,le.runs):(function(fe,ge,ve){const Te=new Int32Array(fe.size());let Ve=0;for(let Ee=0;Ee<ve;Ee++){const Re=ge[Ee],qe=ge[Ee+ve];for(let Ge=Ve;Ge<Ve+Re;Ge++)fe.get(Ge)?Te[Ge]=qe:(Te[Ge]=0,Ve++);Ve+=Re}return Te})(oe,Z,le.runs)})(T,k,D,B);case br.MORTON:return Sp(T),T;case br.COMPONENTWISE_DELTA:return GS(T),T;case br.NONE:return T=D?(function(Z,X){const ee=new Int32Array(Z.size());let oe=0,le=0;for(;le!=ee.length;++le)if(Z.get(le)){const fe=X[oe++];ee[le]=fe>>>1^-(1&fe)}else ee[le]=0;return ee})(B,T):(function(Z,X){const ee=new Int32Array(Z.size());let oe=0,le=0;for(;le!=ee.length;++le)ee[le]=Z.get(le)?X[oe++]:0;return ee})(B,T),T;default:throw new Error("The specified Logical level technique is not supported")}})(h.physicalLevelTechnique===Iu.FAST_PFOR?c0():ys(f,l,h.numValues),h,_,w)}function tf(f,l,h,_){const w=f.logicalLevelTechnique1;if(w===br.RLE)return f.runs===1?Zo.CONST:Zo.FLAT;const T=l instanceof Lu?l.size():l;if(w===br.DELTA&&f.logicalLevelTechnique2===br.RLE){const k=f.runs,D=2;if(f.numRleValues!==T)return Zo.FLAT;if(k===1)return Zo.SEQUENCE;if(k===2){const B=_.get();let Z;if(f.physicalLevelTechnique===Iu.VARINT)Z=ys(h,_,4);else{const X=_.get();Z=new Int32Array(h.buffer,h.byteOffset+X,4)}if(_.set(B),Z[2]===D&&Z[3]===D)return Zo.SEQUENCE}}return f.numValues===1?Zo.CONST:Zo.FLAT}class h0 extends Jb{getValueFromBuffer(l){return this.dataBuffer[l]}}class t2 extends qS{constructor(l,h,_,w){super(l,BigInt64Array.of(h),_,w)}getValueFromBuffer(l){return this.dataBuffer[0]+BigInt(l)*this.delta}}class nf{_geometryOffsets;_partOffsets;_ringOffsets;constructor(l,h,_){this._geometryOffsets=l,this._partOffsets=h,this._ringOffsets=_}get geometryOffsets(){return this._geometryOffsets}get partOffsets(){return this._partOffsets}get ringOffsets(){return this._ringOffsets}}function l_(f,l,h){return{x:r1(f,l)-h,y:r1(f>>1,l)-h}}function r1(f,l){let h=0;for(let _=0;_<l;_++)h|=(f&1<<2*_)>>_;return h}(function(f){f[f.POINT=0]="POINT",f[f.LINESTRING=1]="LINESTRING",f[f.POLYGON=2]="POLYGON",f[f.MULTIPOINT=3]="MULTIPOINT",f[f.MULTILINESTRING=4]="MULTILINESTRING",f[f.MULTIPOLYGON=5]="MULTIPOLYGON"})(gs||(gs={})),(function(f){f[f.POINT=0]="POINT",f[f.LINESTRING=1]="LINESTRING",f[f.POLYGON=2]="POLYGON"})(ic||(ic={})),(function(f){f[f.MORTON=0]="MORTON",f[f.VEC_2=1]="VEC_2",f[f.VEC_3=2]="VEC_3"})(Xa||(Xa={}));class i1{createPoint(l){return[[l]]}createMultiPoint(l){return l.map((h=>[h]))}createLineString(l){return[l]}createMultiLineString(l){return l}createPolygon(l,h){return[l].concat(h)}createMultiPolygon(l){return l.flat()}}function n2(f){const l=new Array(f.numGeometries);let h=1,_=1,w=1,T=0;const k=new i1;let D=0,B=0;const Z=f.mortonSettings,X=f.topologyVector,ee=X.geometryOffsets,oe=X.partOffsets,le=X.ringOffsets,fe=f.vertexOffsets,ge=f.containsPolygonGeometry(),ve=f.vertexBuffer;for(let Te=0;Te<f.numGeometries;Te++){const Ve=f.geometryType(Te);if(Ve===gs.POINT){if(fe&&fe.length!==0)if(f.vertexBufferType===Xa.VEC_2){const Ee=2*fe[B++],Re=new u(ve[Ee],ve[Ee+1]);l[T++]=k.createPoint(Re)}else{const Ee=l_(ve[fe[B++]],Z.numBits,Z.coordinateShift),Re=new u(Ee.x,Ee.y);l[T++]=k.createPoint(Re)}else{const Ee=new u(ve[D++],ve[D++]);l[T++]=k.createPoint(Ee)}ee&&w++,oe&&h++,le&&_++}else if(Ve===gs.MULTIPOINT){const Ee=ee[w]-ee[w-1];w++;const Re=new Array(Ee);if(fe&&fe.length!==0){for(let qe=0;qe<Ee;qe++){const Ge=2*fe[B++];Re[qe]=new u(ve[Ge],ve[Ge+1])}l[T++]=k.createMultiPoint(Re)}else{for(let qe=0;qe<Ee;qe++){const Ge=ve[D++],dt=ve[D++];Re[qe]=new u(Ge,dt)}l[T++]=k.createMultiPoint(Re)}}else if(Ve===gs.LINESTRING){let Ee,Re=0;ge?(Re=le[_]-le[_-1],_++):Re=oe[h]-oe[h-1],h++,fe&&fe.length!==0?(Ee=f.vertexBufferType===Xa.VEC_2?h_(ve,fe,B,Re,!1):i2(ve,fe,B,Re,!1,Z),B+=Re):(Ee=r2(ve,D,Re,!1),D+=2*Re),l[T++]=k.createLineString(Ee),ee&&w++}else if(Ve===gs.POLYGON){const Ee=oe[h]-oe[h-1];h++;const Re=new Array(Ee-1);let qe=le[_]-le[_-1];if(_++,fe&&fe.length!==0){const Ge=f.vertexBufferType===Xa.VEC_2?o1(ve,fe,B,qe):u_(ve,fe,B,qe,0,Z);B+=qe;for(let dt=0;dt<Re.length;dt++)qe=le[_]-le[_-1],_++,Re[dt]=f.vertexBufferType===Xa.VEC_2?o1(ve,fe,B,qe):u_(ve,fe,B,qe,0,Z),B+=qe;l[T++]=k.createPolygon(Ge,Re)}else{const Ge=c_(ve,D,qe);D+=2*qe;for(let dt=0;dt<Re.length;dt++)qe=le[_]-le[_-1],_++,Re[dt]=c_(ve,D,qe),D+=2*qe;l[T++]=k.createPolygon(Ge,Re)}ee&&w++}else if(Ve===gs.MULTILINESTRING){const Ee=ee[w]-ee[w-1];w++;const Re=new Array(Ee);if(fe&&fe.length!==0){for(let qe=0;qe<Ee;qe++){let Ge=0;ge?(Ge=le[_]-le[_-1],_++):Ge=oe[h]-oe[h-1],h++;const dt=f.vertexBufferType===Xa.VEC_2?h_(ve,fe,B,Ge,!1):i2(ve,fe,B,Ge,!1,Z);Re[qe]=dt,B+=Ge}l[T++]=k.createMultiLineString(Re)}else{for(let qe=0;qe<Ee;qe++){let Ge=0;ge?(Ge=le[_]-le[_-1],_++):Ge=oe[h]-oe[h-1],h++,Re[qe]=r2(ve,D,Ge,!1),D+=2*Ge}l[T++]=k.createMultiLineString(Re)}}else{if(Ve!==gs.MULTIPOLYGON)throw new Error("The specified geometry type is currently not supported.");{const Ee=ee[w]-ee[w-1];w++;const Re=new Array(Ee);let qe=0;if(fe&&fe.length!==0){for(let Ge=0;Ge<Ee;Ge++){const dt=oe[h]-oe[h-1];h++;const Lt=new Array(dt-1);qe=le[_]-le[_-1],_++;const Et=f.vertexBufferType===Xa.VEC_2?o1(ve,fe,B,qe):u_(ve,fe,B,qe,0,Z);B+=qe;for(let Ft=0;Ft<Lt.length;Ft++)qe=le[_]-le[_-1],_++,Lt[Ft]=f.vertexBufferType===Xa.VEC_2?o1(ve,fe,B,qe):u_(ve,fe,B,qe,0,Z),B+=qe;Re[Ge]=k.createPolygon(Et,Lt)}l[T++]=k.createMultiPolygon(Re)}else{for(let Ge=0;Ge<Ee;Ge++){const dt=oe[h]-oe[h-1];h++;const Lt=new Array(dt-1);qe=le[_]-le[_-1],_++;const Et=c_(ve,D,qe);D+=2*qe;for(let Ft=0;Ft<Lt.length;Ft++){const un=le[_]-le[_-1];_++,Lt[Ft]=c_(ve,D,un),D+=2*un}Re[Ge]=k.createPolygon(Et,Lt)}l[T++]=k.createMultiPolygon(Re)}}}}return l}function c_(f,l,h){return r2(f,l,h,!0)}function o1(f,l,h,_){return h_(f,l,h,_,!0)}function u_(f,l,h,_,w,T){return i2(f,l,h,_,!0,T)}function r2(f,l,h,_){const w=new Array(_?h+1:h);for(let T=0;T<2*h;T+=2)w[T/2]=new u(f[l+T],f[l+T+1]);return _&&(w[w.length-1]=w[0]),w}function h_(f,l,h,_,w){const T=new Array(w?_+1:_);for(let k=0;k<2*_;k+=2){const D=2*l[h+k/2];T[k/2]=new u(f[D],f[D+1])}return w&&(T[T.length-1]=T[0]),T}function i2(f,l,h,_,w,T){const k=new Array(w?_+1:_);for(let D=0;D<_;D++){const B=l_(f[l[h+D]],T.numBits,T.coordinateShift);k[D]=new u(B.x,B.y)}return w&&(k[k.length-1]=k[0]),k}class d_{_vertexBufferType;_topologyVector;_vertexOffsets;_vertexBuffer;_mortonSettings;constructor(l,h,_,w,T){this._vertexBufferType=l,this._topologyVector=h,this._vertexOffsets=_,this._vertexBuffer=w,this._mortonSettings=T}get vertexBufferType(){return this._vertexBufferType}get topologyVector(){return this._topologyVector}get vertexOffsets(){return this._vertexOffsets}get vertexBuffer(){return this._vertexBuffer}*[Symbol.iterator](){const l=n2(this);let h=0;for(;h<this.numGeometries;)yield{coordinates:l[h],type:this.geometryType(h)},h++}getSimpleEncodedVertex(l){const h=this.vertexOffsets?2*this.vertexOffsets[l]:2*l;return[this.vertexBuffer[h],this.vertexBuffer[h+1]]}getVertex(l){if(this.vertexOffsets&&this.mortonSettings){const _=l_(this.vertexBuffer[this.vertexOffsets[l]],this.mortonSettings.numBits,this.mortonSettings.coordinateShift);return[_.x,_.y]}const h=this.vertexOffsets?2*this.vertexOffsets[l]:2*l;return[this.vertexBuffer[h],this.vertexBuffer[h+1]]}getGeometries(){return n2(this)}get mortonSettings(){return this._mortonSettings}}class f_ extends d_{_numGeometries;_geometryType;constructor(l,h,_,w,T,k,D){super(_,w,T,k,D),this._numGeometries=l,this._geometryType=h}geometryType(l){return this._geometryType}get numGeometries(){return this._numGeometries}containsPolygonGeometry(){return this._geometryType===gs.POLYGON||this._geometryType===gs.MULTIPOLYGON}containsSingleGeometryType(){return!0}}class p_ extends d_{_geometryTypes;constructor(l,h,_,w,T,k){super(l,_,w,T,k),this._geometryTypes=h}geometryType(l){return this._geometryTypes[l]}get numGeometries(){return this._geometryTypes.length}containsPolygonGeometry(){for(let l=0;l<this.numGeometries;l++)if(this.geometryType(l)===gs.POLYGON||this.geometryType(l)===gs.MULTIPOLYGON)return!0;return!1}containsSingleGeometryType(){return!1}}class qE{_triangleOffsets;_indexBuffer;_vertexBuffer;_topologyVector;constructor(l,h,_,w){this._triangleOffsets=l,this._indexBuffer=h,this._vertexBuffer=_,this._topologyVector=w}get triangleOffsets(){return this._triangleOffsets}get indexBuffer(){return this._indexBuffer}get vertexBuffer(){return this._vertexBuffer}get topologyVector(){return this._topologyVector}getGeometries(){if(!this._topologyVector)throw new Error("Cannot convert GpuVector to coordinates without topology information");const l=new Array(this.numGeometries),h=this._topologyVector,_=h.partOffsets,w=h.ringOffsets,T=h.geometryOffsets;let k=0,D=1,B=1,Z=1;for(let X=0;X<this.numGeometries;X++)switch(this.geometryType(X)){case gs.POLYGON:{const ee=_[D]-_[D-1];D++;const oe=[];for(let le=0;le<ee;le++){const fe=w[B]-w[B-1];B++;const ge=[];for(let ve=0;ve<fe;ve++){const Te=this._vertexBuffer[k++],Ve=this._vertexBuffer[k++];ge.push(new u(Te,Ve))}ge.length>0&&ge.push(ge[0]),oe.push(ge)}l[X]=oe,T&&Z++}break;case gs.MULTIPOLYGON:{const ee=T[Z]-T[Z-1];Z++;const oe=[];for(let le=0;le<ee;le++){const fe=_[D]-_[D-1];D++;for(let ge=0;ge<fe;ge++){const ve=w[B]-w[B-1];B++;const Te=[];for(let Ve=0;Ve<ve;Ve++){const Ee=this._vertexBuffer[k++],Re=this._vertexBuffer[k++];Te.push(new u(Ee,Re))}Te.length>0&&Te.push(Te[0]),oe.push(Te)}}l[X]=oe}}return l}[Symbol.iterator](){return null}}function d0(f,l,h,_,w,T){return new pD(f,l,h,_,w,T)}class pD extends qE{_numGeometries;_geometryType;constructor(l,h,_,w,T,k){super(_,w,T,k),this._numGeometries=l,this._geometryType=h}geometryType(l){return this._geometryType}get numGeometries(){return this._numGeometries}containsSingleGeometryType(){return!0}}function o2(f,l,h,_,w){return new WE(f,l,h,_,w)}class WE extends qE{_geometryTypes;constructor(l,h,_,w,T){super(h,_,w,T),this._geometryTypes=l}geometryType(l){return this._geometryTypes[l]}get numGeometries(){return this._geometryTypes.length}containsSingleGeometryType(){return!1}}function HE(f,l,h,_,w){const T=ka(f,h);let k=null,D=null,B=null,Z=null,X=null,ee=null,oe=null,le=null;if(tf(T,_,f,h)===Zo.CONST){const ge=YS(f,h,T,!1);for(let ve=0;ve<l-1;ve++){const Te=ka(f,h);switch(Te.physicalStreamType){case js.LENGTH:switch(Te.logicalStreamType.lengthType){case Ta.GEOMETRIES:k=Cp(f,h,Te);break;case Ta.PARTS:D=Cp(f,h,Te);break;case Ta.RINGS:B=Cp(f,h,Te);break;case Ta.TRIANGLES:oe=Cp(f,h,Te)}break;case js.OFFSET:switch(Te.logicalStreamType.offsetType){case Op.VERTEX:Z=Ea(f,h,Te,!1);break;case Op.INDEX:le=Ea(f,h,Te,!1)}break;case js.DATA:Du.VERTEX===Te.logicalStreamType.dictionaryType?X=Ea(f,h,Te,!0):(ee={numBits:Te.numBits,coordinateShift:Te.coordinateShift},X=Ea(f,h,Te,!1))}}return le!==null?k!=null||D!=null?d0(_,ge,oe,le,X,new nf(k,D,B)):d0(_,ge,oe,le,X):ee===null?(function(ve,Te,Ve,Ee,Re){return new f_(ve,Te,Xa.VEC_2,Ve,Ee,Re)})(_,ge,new nf(k,D,B),Z,X):(function(ve,Te,Ve,Ee,Re,qe){return new f_(ve,Te,Xa.MORTON,Ve,Ee,Re,qe)})(_,ge,new nf(k,D,B),Z,X,ee)}const fe=Ea(f,h,T,!1);for(let ge=0;ge<l-1;ge++){const ve=ka(f,h);switch(ve.physicalStreamType){case js.LENGTH:switch(ve.logicalStreamType.lengthType){case Ta.GEOMETRIES:k=Ea(f,h,ve,!1);break;case Ta.PARTS:D=Ea(f,h,ve,!1);break;case Ta.RINGS:B=Ea(f,h,ve,!1);break;case Ta.TRIANGLES:oe=Cp(f,h,ve)}break;case js.OFFSET:switch(ve.logicalStreamType.offsetType){case Op.VERTEX:Z=Ea(f,h,ve,!1);break;case Op.INDEX:le=Ea(f,h,ve,!1)}break;case js.DATA:Du.VERTEX===ve.logicalStreamType.dictionaryType?X=Ea(f,h,ve,!0):(ee={numBits:ve.numBits,coordinateShift:ve.coordinateShift},X=Ea(f,h,ve,!1))}}return le!==null&&D===null?o2(fe,oe,le,X):(k!==null?(k=s1(fe,k,2),D!==null&&B!==null?(D=a1(fe,k,D,!1),B=(function(ge,ve,Te,Ve){const Ee=new Int32Array(Te[Te.length-1]+1);let Re=0;Ee[0]=Re;let qe=1,Ge=1,dt=0;for(let Lt=0;Lt<ge.length;Lt++){const Et=ge[Lt],Ft=ve[Lt+1]-ve[Lt];if(Et!==0&&Et!==3)for(let un=0;un<Ft;un++){const Zt=Te[qe]-Te[qe-1];qe++;for(let Rt=0;Rt<Zt;Rt++)Re=Ee[Ge++]=Re+Ve[dt++]}else for(let un=0;un<Ft;un++)Ee[Ge++]=++Re,qe++}return Ee})(fe,k,D,B)):D!==null&&(D=(function(ge,ve,Te){const Ve=new Int32Array(ve[ve.length-1]+1);let Ee=0;Ve[0]=Ee;let Re=1,qe=0;for(let Ge=0;Ge<ge.length;Ge++){const dt=ge[Ge],Lt=ve[Ge+1]-ve[Ge];if(dt===4||dt===1)for(let Et=0;Et<Lt;Et++)Ee=Ve[Re++]=Ee+Te[qe++];else for(let Et=0;Et<Lt;Et++)Ve[Re++]=++Ee}return Ve})(fe,k,D))):D!==null&&B!==null?(D=s1(fe,D,1),B=a1(fe,D,B,!0)):D!==null&&(D=s1(fe,D,0)),le!==null?o2(fe,oe,le,X,new nf(k,D,B)):ee===null?(function(ge,ve,Te,Ve){return new p_(Xa.VEC_2,ge,ve,Te,Ve)})(fe,new nf(k,D,B),Z,X):(function(ge,ve,Te,Ve,Ee){return new p_(Xa.MORTON,ge,ve,Te,Ve,Ee)})(fe,new nf(k,D,B),Z,X,ee))}function s1(f,l,h){const _=new Int32Array(f.length+1);let w=0;_[0]=w;let T=0;for(let k=0;k<f.length;k++)w=_[k+1]=w+(f[k]>h?l[T++]:1);return _}function a1(f,l,h,_){const w=new Int32Array(l[l.length-1]+1);let T=0;w[0]=T;let k=1,D=0;for(let B=0;B<f.length;B++){const Z=f[B],X=l[B+1]-l[B];if(Z===5||Z===2||_&&(Z===4||Z===1))for(let ee=0;ee<X;ee++)T=w[k++]=T+h[D++];else for(let ee=0;ee<X;ee++)w[k++]=++T}return w}class GE extends bp{dataVector;constructor(l,h,_){super(l,h.getBuffer(),_),this.dataVector=h}getValueFromBuffer(l){return this.dataVector.get(l)}}class XE extends Jb{getValueFromBuffer(l){return this.dataBuffer[l]}}class m_ extends bp{constructor(l,h,_){super(l,BigInt64Array.of(h),_)}getValueFromBuffer(l){return this.dataBuffer[0]}}function g_(f,l,h){return YE(f,Math.ceil(l/8),h)}function YE(f,l,h){const _=new Uint8Array(l);let w=0;for(;w<l;){const T=f[h.increment()];if(T<=127){const k=T+3,D=f[h.increment()],B=w+k;_.fill(D,w,B),w=B}else{const k=256-T;for(let D=0;D<k;D++)_[w++]=f[h.increment()]}}return _}const s2=new TextDecoder;function y_(f,l,h){return h-l>=12?s2.decode(f.subarray(l,h)):(function(_,w,T){let k="",D=w;for(;D<T;){const B=_[D];let Z,X,ee,oe=null,le=B>239?4:B>223?3:B>191?2:1;if(D+le>T)break;le===1?B<128&&(oe=B):le===2?(Z=_[D+1],(192&Z)==128&&(oe=(31&B)<<6|63&Z,oe<=127&&(oe=null))):le===3?(Z=_[D+1],X=_[D+2],(192&Z)==128&&(192&X)==128&&(oe=(15&B)<<12|(63&Z)<<6|63&X,(oe<=2047||oe>=55296&&oe<=57343)&&(oe=null))):le===4&&(Z=_[D+1],X=_[D+2],ee=_[D+3],(192&Z)==128&&(192&X)==128&&(192&ee)==128&&(oe=(15&B)<<18|(63&Z)<<12|(63&X)<<6|63&ee,(oe<=65535||oe>=1114112)&&(oe=null))),oe===null?(oe=65533,le=1):oe>65535&&(oe-=65536,k+=String.fromCharCode(oe>>>10&1023|55296),oe=56320|1023&oe),k+=String.fromCharCode(oe),D+=le}return k})(f,l,h)}class f0 extends bp{offsetBuffer;constructor(l,h,_,w){super(l,_,w),this.offsetBuffer=h}}class l1 extends f0{textEncoder;constructor(l,h,_,w){super(l,h,_,w??h.length-1),this.textEncoder=new TextEncoder}getValueFromBuffer(l){return y_(this.dataBuffer,this.offsetBuffer[l],this.offsetBuffer[l+1])}}class _g extends f0{indexBuffer;textEncoder;constructor(l,h,_,w,T){super(l,_,w,T??h.length),this.indexBuffer=h,this.indexBuffer=h,this.textEncoder=new TextEncoder}getValueFromBuffer(l){const h=this.indexBuffer[l];return y_(this.dataBuffer,this.offsetBuffer[h],this.offsetBuffer[h+1])}}class c1 extends f0{indexBuffer;symbolOffsetBuffer;symbolTableBuffer;textEncoder;symbolLengthBuffer;lengthBuffer;decodedDictionary;constructor(l,h,_,w,T,k,D){super(l,_,w,D),this.indexBuffer=h,this.symbolOffsetBuffer=T,this.symbolTableBuffer=k,this.textEncoder=new TextEncoder}getValueFromBuffer(l){this.decodedDictionary==null&&(this.symbolLengthBuffer==null&&(this.symbolLengthBuffer=this.offsetToLengthBuffer(this.symbolOffsetBuffer),this.lengthBuffer=this.offsetToLengthBuffer(this.offsetBuffer)),this.decodedDictionary=(function(_,w,T){const k=[],D=new Array(w.length).fill(0);for(let B=1;B<w.length;B++)D[B]=D[B-1]+w[B-1];for(let B=0;B<T.length;B++)if(T[B]===255)k.push(T[++B]);else{const Z=w[T[B]],X=D[T[B]];for(let ee=0;ee<Z;ee++)k.push(_[X+ee])}return new Uint8Array(k)})(this.symbolTableBuffer,this.symbolLengthBuffer,this.dataBuffer));const h=this.indexBuffer[l];return y_(this.decodedDictionary,this.offsetBuffer[h],this.offsetBuffer[h+1])}offsetToLengthBuffer(l){const h=new Uint32Array(l.length-1);let _=l[0];for(let w=1;w<l.length;w++){const T=l[w];h[w-1]=T-_,_=T}return h}}function Tp(f,l,h,_,w,T){return h.type==="scalarType"?(function(k,D,B,Z,X,ee){let oe=null,le=0;if(k===0)return null;if(ee.nullable){const ge=ka(D,B);le=ge.numValues;const ve=B.get(),Te=g_(D,le,B);B.set(ve+ge.byteLength),oe=new Lu(Te,ge.numValues)}const fe=oe??Z;switch(X.physicalType){case 4:case 3:return(function(ge,ve,Te,Ve,Ee){const Re=ka(ge,ve),qe=tf(Re,Ee,ge,ve),Ge=Ve.physicalType===3;if(qe===Zo.FLAT){const dt=qc(Ee)?e2(ge,ve,Re,Ge,Ee):Ea(ge,ve,Re,Ge);return new e1(Te.name,dt,Ee)}if(qe===Zo.SEQUENCE){const dt=KS(ge,ve,Re);return new WS(Te.name,dt[0],dt[1],Re.numRleValues)}{const dt=YS(ge,ve,Re,Ge);return new HS(Te.name,dt,Ee)}})(D,B,ee,X,fe);case 9:return(function(ge,ve,Te,Ve,Ee){let Re=null,qe=null,Ge=null,dt=null,Lt=null,Et=null,Ft=null,un=null;for(let Zt=0;Zt<Ve;Zt++){const Rt=ka(ve,Te);if(Rt.byteLength!==0)switch(Rt.physicalStreamType){case js.PRESENT:{const xt=g_(ve,Rt.numValues,Te);Et=new Lu(xt,Rt.numValues);break}case js.OFFSET:qe=Ee!=null||Et!=null?e2(ve,Te,Rt,!1,Ee??Et):Ea(ve,Te,Rt,!1);break;case js.LENGTH:{const xt=Cp(ve,Te,Rt);Ta.DICTIONARY===Rt.logicalStreamType.lengthType?Re=xt:Ta.SYMBOL===Rt.logicalStreamType.lengthType?dt=xt:Ft=xt;break}case js.DATA:{const xt=ve.subarray(Te.get(),Te.get()+Rt.byteLength);Te.add(Rt.byteLength);const bn=Rt.logicalStreamType.dictionaryType;Du.FSST===bn?Lt=xt:Du.SINGLE===bn||Du.SHARED===bn?Ge=xt:Du.NONE===bn&&(un=xt);break}}}return(function(Zt,Rt,xt,bn,vn,On,mn){return Rt?new c1(Zt,xt,bn,vn,On,Rt,mn):null})(ge,Lt,qe,Re,Ge,dt,Ee??Et)??(function(Zt,Rt,xt,bn,vn){return Rt?vn?new _g(Zt,xt,bn,Rt,vn):new _g(Zt,xt,bn,Rt):null})(ge,Ge,qe,Re,Ee??Et)??(function(Zt,Rt,xt,bn,vn){if(!Rt||!xt)return null;if(bn)return vn?new _g(Zt,bn,Rt,xt,vn):new _g(Zt,bn,Rt,xt);if(vn&&vn.size()!==Rt.length-1){const On=new Int32Array(vn.size());let mn=0;for(let zn=0;zn<vn.size();zn++)On[zn]=vn.get(zn)?mn++:0;return new _g(Zt,On,Rt,xt,vn)}return vn?new l1(Zt,Rt,xt,vn):new l1(Zt,Rt,xt)})(ge,Ft,un,qe,Ee??Et)})(ee.name,D,B,ee.nullable?k-1:k,oe);case 0:return(function(ge,ve,Te,Ve,Ee){const Re=ka(ge,ve),qe=Re.numValues,Ge=ve.get(),dt=qc(Ee)?(function(Et,Ft,un,Zt){const Rt=YE(Et,Math.ceil(Ft/8),un),xt=new Lu(Rt,Ft),bn=Zt.size(),vn=new Lu(new Uint8Array(bn),bn);let On=0;for(let mn=0;mn<Zt.size();mn++){const zn=!!Zt.get(mn)&&xt.get(On++);vn.set(mn,zn)}return vn.getBuffer()})(ge,qe,ve,Ee):g_(ge,qe,ve);ve.set(Ge+Re.byteLength);const Lt=new Lu(dt,qe);return new GE(Te.name,Lt,Ee)})(D,B,ee,0,fe);case 6:case 5:return(function(ge,ve,Te,Ve,Ee){const Re=ka(ge,ve),qe=tf(Re,Ve,ge,ve),Ge=Ee.physicalType===5;if(qe===Zo.FLAT){const dt=qc(Ve)?(function(Lt,Et,Ft,un,Zt){return(function(Rt,xt,bn,vn){switch(xt.logicalLevelTechnique1){case br.DELTA:return xt.logicalLevelTechnique2===br.RLE&&(Rt=UE(Rt,xt.runs,xt.numRleValues)),(function(On,mn){const zn=new BigInt64Array(On.size());let Qr=0;On.get(0)?(zn[0]=On.get(0)?mn[0]>>1n^-(1n&mn[0]):0n,Qr=1):zn[0]=0n;let Sr=1;for(;Sr!=zn.length;++Sr)zn[Sr]=On.get(Sr)?zn[Sr-1]+(mn[Qr]>>1n^-(1n&mn[Qr++])):zn[Sr-1];return zn})(vn,Rt);case br.RLE:return(function(On,mn,zn,Qr){const Sr=mn;return zn?(function(fo,Aa,vs){const po=new BigInt64Array(fo.size());let Yi=0;for(let li=0;li<vs;li++){const No=Number(Aa[li]);let qo=Aa[li+vs];qo=qo>>1n^-(1n&qo);for(let Vi=Yi;Vi<Yi+No;Vi++)fo.get(Vi)?po[Vi]=qo:(po[Vi]=0n,Yi++);Yi+=No}return po})(Qr,On,Sr.runs):(function(fo,Aa,vs){const po=new BigInt64Array(fo.size());let Yi=0;for(let li=0;li<vs;li++){const No=Number(Aa[li]),qo=Aa[li+vs];for(let Vi=Yi;Vi<Yi+No;Vi++)fo.get(Vi)?po[Vi]=qo:(po[Vi]=0n,Yi++);Yi+=No}return po})(Qr,On,Sr.runs)})(Rt,xt,bn,vn);case br.NONE:return Rt=bn?(function(On,mn){const zn=new BigInt64Array(On.size());let Qr=0,Sr=0;for(;Sr!=zn.length;++Sr)if(On.get(Sr)){const fo=mn[Qr++];zn[Sr]=fo>>1n^-(1n&fo)}else zn[Sr]=0n;return zn})(vn,Rt):(function(On,mn){const zn=new BigInt64Array(On.size());let Qr=0,Sr=0;for(;Sr!=zn.length;++Sr)zn[Sr]=On.get(Sr)?mn[Qr++]:0n;return zn})(vn,Rt),Rt;default:throw new Error("The specified Logical level technique is not supported")}})(a_(Lt,Et,Ft.numValues),Ft,un,Zt)})(ge,ve,Re,Ge,Ve):u0(ge,ve,Re,Ge);return new h0(Te.name,dt,Ve)}if(qe===Zo.SEQUENCE){const dt=vg(ge,ve,Re);return new t2(Te.name,dt[0],dt[1],Re.numRleValues)}{const dt=JS(ge,ve,Re,Ge);return new m_(Te.name,dt,Ve)}})(D,B,ee,fe,X);case 7:return(function(ge,ve,Te,Ve){const Ee=ka(ge,ve),Re=qc(Ve)?(function(qe,Ge,dt,Lt){const Et=Ge.get(),Ft=Et+Lt*Float32Array.BYTES_PER_ELEMENT,un=new Uint8Array(qe.subarray(Et,Ft)).buffer,Zt=new Float32Array(un);Ge.set(Ft);const Rt=dt.size(),xt=new Float32Array(Rt);let bn=0;for(let vn=0;vn<Rt;vn++)xt[vn]=dt.get(vn)?Zt[bn++]:0;return xt})(ge,ve,Ve,Ee.numValues):(function(qe,Ge,dt){const Lt=Ge.get(),Et=Lt+dt*Float32Array.BYTES_PER_ELEMENT,Ft=new Uint8Array(qe.subarray(Lt,Et)).buffer,un=new Float32Array(Ft);return Ge.set(Et),un})(ge,ve,Ee.numValues);return new XE(Te.name,Re,Ve)})(D,B,ee,fe);case 8:return(function(ge,ve,Te,Ve){const Ee=ka(ge,ve),Re=qc(Ve)?(function(qe,Ge,dt,Lt){const Et=Ge.get(),Ft=Et+Lt*Float64Array.BYTES_PER_ELEMENT,un=new Uint8Array(qe.subarray(Et,Ft)).buffer,Zt=new Float64Array(un);Ge.set(Ft);const Rt=dt.size(),xt=new Float64Array(Rt);let bn=0;for(let vn=0;vn<Rt;vn++)xt[vn]=dt.get(vn)?Zt[bn++]:0;return xt})(ge,ve,Ve,Ee.numValues):(function(qe,Ge,dt){const Lt=Ge.get(),Et=Lt+dt*Float64Array.BYTES_PER_ELEMENT,Ft=new Uint8Array(qe.subarray(Lt,Et)).buffer,un=new Float64Array(Ft);return Ge.set(Et),un})(ge,ve,Ee.numValues);return new ZS(Te.name,Re,Ve)})(D,B,ee,fe);default:throw new Error(`The specified data type for the field is currently not supported: ${X}`)}})(_,f,l,w,h.scalarType,h):_!=1?null:(function(k,D,B,Z){let X=null,ee=null,oe=null,le=null,fe=!1;for(;!fe;){const Ve=ka(k,D);switch(Ve.physicalStreamType){case js.LENGTH:Ta.DICTIONARY===Ve.logicalStreamType.lengthType?X=Cp(k,D,Ve):oe=Cp(k,D,Ve);break;case js.DATA:Du.SINGLE===Ve.logicalStreamType.dictionaryType||Du.SHARED===Ve.logicalStreamType.dictionaryType?(ee=k.subarray(D.get(),D.get()+Ve.byteLength),fe=!0):le=k.subarray(D.get(),D.get()+Ve.byteLength),D.add(Ve.byteLength)}}const ge=B.complexType.children,ve=[];let Te=0;for(const Ve of ge){const Ee=ys(k,D,1)[0];if(Ee==0)continue;const Re=`${B.name}${Ve.name==="default"?"":":"+Ve.name}`;if(Ee!==2||Ve.type!=="scalarField"||Ve.scalarField.physicalType!==9)throw new Error("Currently only optional string fields are implemented for a struct.");const qe=ka(k,D),Ge=g_(k,qe.numValues,D),dt=ka(k,D),Lt=dt.decompressedCount!==Z?e2(k,D,dt,!1,new Lu(Ge,qe.numValues)):Ea(k,D,dt,!1);ve[Te++]=le?new c1(Re,Lt,X,ee,oe,le,new Lu(Ge,qe.numValues)):new _g(Re,Lt,X,ee,new Lu(Ge,qe.numValues))}return ve})(f,l,h,w)}function qc(f){return f instanceof Lu}function kp(f){if(f.name==="id")return!1;if(f.type==="scalarType"){const l=f.scalarType;if(l.type==="physicalType")switch(l.physicalType){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:default:return!1;case 9:return!0}else if(l.type==="logicalType")return!1}else if(f.type==="complexType"){const l=f.complexType;if(l.type==="physicalType")switch(l.physicalType){case 0:case 1:return!0;default:return!1}}return console.warn("Unexpected column type in hasStreamCount",f),!1}const v_=new TextDecoder;function p0(f,l){const h=ys(f,l,1)[0];if(h===0)return"";const _=l.get(),w=f.subarray(_,_+h);return l.add(h),v_.decode(w)}function rf(f,l){const h=ys(f,l,1)[0]>>>0,_=!!(4&h),w=!!(2&h),T=ys(f,l,1)[0]>>>0,k={};if(1&h&&(k.nullable=!0),w){const D={};if(_?(D.type="logicalType",D.logicalType=T):(D.type="physicalType",D.physicalType=T),8&h){const B=ys(f,l,1)[0]>>>0;D.children=new Array(B);for(let Z=0;Z<B;Z++)D.children[Z]=rf(f,l)}k.type="complexField",k.complexField=D}else{const D={};_?(D.type="logicalType",D.logicalType=T):(D.type="physicalType",D.physicalType=T),k.type="scalarField",k.scalarField=D}return k}function mD(f,l){const h=ys(f,l,1)[0]>>>0,_=(function(w){switch(w){case 0:case 1:case 2:case 3:{const T={};T.nullable=!!(1&w),T.columnScope=0;const k={};return k.physicalType=w>1?6:4,k.type="physicalType",T.scalarType=k,T.type="scalarType",T}case 4:{const T={nullable:!1,columnScope:0},k={type:"physicalType",physicalType:0};return T.type="complexType",T.complexType=k,T}case 30:{const T={nullable:!1,columnScope:0},k={type:"physicalType",physicalType:1};return T.type="complexType",T.complexType=k,T}default:return(function(T){let k=null;switch(T){case 10:case 11:k=0;break;case 12:case 13:k=1;break;case 14:case 15:k=2;break;case 16:case 17:k=3;break;case 18:case 19:k=4;break;case 20:case 21:k=5;break;case 22:case 23:k=6;break;case 24:case 25:k=7;break;case 26:case 27:k=8;break;case 28:case 29:k=9;break;default:return null}const D={};D.nullable=!!(1&T),D.columnScope=0;const B={type:"physicalType"};return B.physicalType=k,D.type="scalarType",D.scalarType=B,D})(w)}})(h);if(!_)throw new Error(`Unsupported column type code: ${h}`);if((function(w){return w>=10})(h)?_.name=p0(f,l):h>=0&&h<=3?_.name="id":h===4&&(_.name="geometry"),(function(w){return w===30})(h)){const w=ys(f,l,1)[0]>>>0,T=_.complexType;T.children=new Array(w);for(let k=0;k<w;k++)T.children[k]=rf(f,l)}return _}function KE(f,l){const h={featureTables:[]},_={};_.name=p0(f,l);const w=ys(f,l,1)[0]>>>0,T=ys(f,l,1)[0]>>>0;_.columns=new Array(T);for(let k=0;k<T;k++)_.columns[k]=mD(f,l);return h.featureTables.push(_),[h,w]}function __(f,l,h,_,w,T,k=!1){const D=l.scalarType.physicalType,B=tf(w,T,f,h);if(D===4)switch(B){case Zo.FLAT:{const Z=Ea(f,h,w,!1);return new e1(_,Z,T)}case Zo.SEQUENCE:{const Z=KS(f,h,w);return new WS(_,Z[0],Z[1],w.numRleValues)}case Zo.CONST:{const Z=YS(f,h,w,!1);return new HS(_,Z,T)}}else switch(B){case Zo.FLAT:{if(k){const X=(function(ee,oe,le,fe){const ge=(function(ve,Te,Ve){const Ee=new Float64Array(Te);for(let Re=0;Re<Te;Re++)Ee[Re]=QE(ve,Ve);return Ee})(ee,le.numValues,oe);return(function(ve,Te,Ve){switch(Te.logicalLevelTechnique1){case br.DELTA:return Te.logicalLevelTechnique2===br.RLE&&(ve=ZE(ve,Te.runs,Te.numRleValues)),(function(Ee){Ee[0]=Ee[0]%2==1?(Ee[0]+1)/-2:Ee[0]/2;const Re=Ee.length/4*4;let qe=1;if(Re>=4)for(;qe<Re-4;qe+=4){const Ge=Ee[qe],dt=Ee[qe+1],Lt=Ee[qe+2],Et=Ee[qe+3];Ee[qe]=(Ge%2==1?(Ge+1)/-2:Ge/2)+Ee[qe-1],Ee[qe+1]=(dt%2==1?(dt+1)/-2:dt/2)+Ee[qe],Ee[qe+2]=(Lt%2==1?(Lt+1)/-2:Lt/2)+Ee[qe+1],Ee[qe+3]=(Et%2==1?(Et+1)/-2:Et/2)+Ee[qe+2]}for(;qe!=Ee.length;++qe)Ee[qe]=(Ee[qe]%2==1?(Ee[qe]+1)/-2:Ee[qe]/2)+Ee[qe-1]})(ve),ve;case br.RLE:return(function(Ee,Re,qe){return ZE(Ee,Re.runs,Re.numRleValues)})(ve,Te);case br.NONE:return ve;default:throw new Error(`The specified Logical level technique is not supported: ${Te.logicalLevelTechnique1}`)}})(ge,le)})(f,h,w);return new ZS(_,X,T)}const Z=u0(f,h,w,!1);return new h0(_,Z,T)}case Zo.SEQUENCE:{const Z=vg(f,h,w);return new t2(_,Z[0],Z[1],w.numRleValues)}case Zo.CONST:{const Z=JS(f,h,w,!1);return new m_(_,Z,T)}}throw new Error("Vector type not supported for id column.")}class gD{constructor(l,h){var _;switch(this._featureData=l,this.properties=this._featureData.properties||{},(_=this._featureData.geometry)===null||_===void 0?void 0:_.type){case gs.POINT:case gs.MULTIPOINT:this.type=1;break;case gs.LINESTRING:case gs.MULTILINESTRING:this.type=2;break;case gs.POLYGON:case gs.MULTIPOLYGON:this.type=3;break;default:this.type=0}this.extent=h,this.id=Number(this._featureData.id)}loadGeometry(){const l=[];for(const h of this._featureData.geometry.coordinates){const _=[];for(const w of h)_.push(new u(w.x,w.y));l.push(_)}return l}}class JE{constructor(l){this.features=[],this.featureTable=l,this.name=l.name,this.extent=l.extent,this.version=2,this.features=l.getFeatures(),this.length=this.features.length}feature(l){return new gD(this.features[l],this.extent)}}class x_{constructor(l){this.layers={};const h=(function(_,w,T=!0){const k=new VE(0),D=[];for(;k.get()<_.length;){const B=ys(_,k,1)[0]>>>0,Z=k.get()+B;if(Z>_.length)throw new Error(`Block overruns tile: ${Z} > ${_.length}`);if(ys(_,k,1)[0]>>>0!=1){k.set(Z);continue}const X=KE(_,k),ee=X[1],oe=X[0].featureTables[0];let le=null,fe=null;const ge=[];let ve=0;for(const Ve of oe.columns){const Ee=Ve.name;if(Ee==="id"){let Re=null;if(Ve.nullable){const Ge=ka(_,k),dt=k.get(),Lt=g_(_,Ge.numValues,k);k.set(dt+Ge.byteLength),Re=new Lu(Lt,Ge.numValues)}const qe=ka(_,k);ve=qe.decompressedCount,le=__(_,Ve,k,Ee,qe,Re??ve,T)}else if(Ee==="geometry"){const Re=ys(_,k,1)[0];if(ve===0){const qe=k.get();ve=ka(_,k).decompressedCount,k.set(qe)}fe=HE(_,Re,k,ve)}else{const Re=kp(Ve)?ys(_,k,1)[0]:1;if(Re===0&&Ve.type==="scalarType")continue;const qe=Tp(_,k,Ve,Re,ve);if(qe)if(Array.isArray(qe))for(const Ge of qe)ge.push(Ge);else ge.push(qe)}}const Te=new wp(oe.name,fe,le,ge,ee);D.push(Te),k.set(Z)}return D})(new Uint8Array(l));this.layers=h.reduce(((_,w)=>Object.assign(Object.assign({},_),{[w.name]:new JE(w)})),{})}}class eA{constructor(l,h){this.feature=l,this.type=l.type,this.properties=l.tags?l.tags:{},this.extent=h,"id"in l&&(typeof l.id=="string"?this.id=parseInt(l.id,10):typeof l.id!="number"||isNaN(l.id)||(this.id=l.id))}loadGeometry(){const l=[],h=this.feature.type===1?[this.feature.geometry]:this.feature.geometry;for(const _ of h){const w=[];for(const T of _)w.push(new u(T[0],T[1]));l.push(w)}return l}}const b_="_geojsonTileLayer";function u1(f,l){l.writeVarintField(15,f.version||1),l.writeStringField(1,f.name||""),l.writeVarintField(5,f.extent||4096);const h={keys:[],values:[],keycache:{},valuecache:{}};for(let T=0;T<f.length;T++)h.feature=f.feature(T),l.writeMessage(2,h1,h);const _=h.keys;for(const T of _)l.writeStringField(3,T);const w=h.values;for(const T of w)l.writeMessage(4,d1,T)}function h1(f,l){if(!f.feature)return;const h=f.feature;h.id!==void 0&&l.writeVarintField(1,h.id),l.writeMessage(2,tA,f),l.writeVarintField(3,h.type),l.writeMessage(4,l2,h)}function tA(f,l){for(const h in f.feature?.properties){let _=f.feature.properties[h],w=f.keycache[h];if(_==null)continue;w===void 0&&(f.keys.push(h),w=f.keys.length-1,f.keycache[h]=w),l.writeVarint(w),typeof _!="string"&&typeof _!="boolean"&&typeof _!="number"&&(_=JSON.stringify(_));const T=typeof _+":"+_;let k=f.valuecache[T];k===void 0&&(f.values.push(_),k=f.values.length-1,f.valuecache[T]=k),l.writeVarint(k)}}function Ep(f,l){return(l<<3)+(7&f)}function a2(f){return f<<1^f>>31}function l2(f,l){const h=f.loadGeometry(),_=f.type;let w=0,T=0;for(const k of h){let D=1;_===1&&(D=k.length),l.writeVarint(Ep(1,D));const B=_===3?k.length-1:k.length;for(let Z=0;Z<B;Z++){Z===1&&_!==1&&l.writeVarint(Ep(2,B-1));const X=k[Z].x-w,ee=k[Z].y-T;l.writeVarint(a2(X)),l.writeVarint(a2(ee)),w+=X,T+=ee}f.type===3&&l.writeVarint(Ep(7,1))}}function d1(f,l){const h=typeof f;h==="string"?l.writeStringField(1,f):h==="boolean"?l.writeBooleanField(7,f):h==="number"&&(f%1!=0?l.writeDoubleField(3,f):f<0?l.writeSVarintField(6,f):l.writeVarintField(5,f))}class c2{constructor(l,h){this.tileID=l,this.x=l.canonical.x,this.y=l.canonical.y,this.z=l.canonical.z,this.grid=new Ph(Ue,16,0),this.grid3D=new Ph(Ue,16,0),this.featureIndexArray=new Se,this.promoteId=h}insert(l,h,_,w,T,k){const D=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(_,w,T);const B=k?this.grid3D:this.grid;for(let Z=0;Z<h.length;Z++){const X=h[Z],ee=[1/0,1/0,-1/0,-1/0];for(let oe=0;oe<X.length;oe++){const le=X[oe];ee[0]=Math.min(ee[0],le.x),ee[1]=Math.min(ee[1],le.y),ee[2]=Math.max(ee[2],le.x),ee[3]=Math.max(ee[3],le.y)}ee[0]<Ue&&ee[1]<Ue&&ee[2]>=0&&ee[3]>=0&&B.insert(D,ee[0],ee[1],ee[2],ee[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=this.encoding!=="mlt"?new zr(new Nb(this.rawTileData)).layers:new x_(this.rawTileData).layers,this.sourceLayerCoder=new US(this.vtLayers?Object.keys(this.vtLayers).sort():[b_])),this.vtLayers}query(l,h,_,w){this.loadVTLayers();const T=l.params,k=Ue/l.tileSize/l.scale,D=_a(T.filter,T.globalState),B=l.queryGeometry,Z=l.queryPadding*k,X=xp.fromPoints(B),ee=this.grid.query(X.minX-Z,X.minY-Z,X.maxX+Z,X.maxY+Z),oe=xp.fromPoints(l.cameraQueryGeometry).expandBy(Z),le=this.grid3D.query(oe.minX,oe.minY,oe.maxX,oe.maxY,((ve,Te,Ve,Ee)=>(function(Re,qe,Ge,dt,Lt){for(const Ft of Re)if(qe<=Ft.x&&Ge<=Ft.y&&dt>=Ft.x&&Lt>=Ft.y)return!0;const Et=[new u(qe,Ge),new u(qe,Lt),new u(dt,Lt),new u(dt,Ge)];if(Re.length>2){for(const Ft of Et)if(Lh(Re,Ft))return!0}for(let Ft=0;Ft<Re.length-1;Ft++)if(sE(Re[Ft],Re[Ft+1],Et))return!0;return!1})(l.cameraQueryGeometry,ve-Z,Te-Z,Ve+Z,Ee+Z)));for(const ve of le)ee.push(ve);ee.sort(f1);const fe={};let ge;for(let ve=0;ve<ee.length;ve++){const Te=ee[ve];if(Te===ge)continue;ge=Te;const Ve=this.featureIndexArray.get(Te);let Ee=null;this.loadMatchingFeature(fe,Ve.bucketIndex,Ve.sourceLayerIndex,Ve.featureIndex,D,T.layers,T.availableImages,h,_,w,((Re,qe,Ge)=>(Ee||(Ee=Au(Re)),qe.queryIntersectsFeature({queryGeometry:B,feature:Re,featureState:Ge,geometry:Ee,zoom:this.z,transform:l.transform,pixelsToTileUnits:k,pixelPosMatrix:l.pixelPosMatrix,unwrappedTileID:this.tileID.toUnwrapped(),getElevation:l.getElevation}))))}return fe}loadMatchingFeature(l,h,_,w,T,k,D,B,Z,X,ee){const oe=this.bucketLayerIDs[h];if(k&&!oe.some((ve=>k.has(ve))))return;const le=this.sourceLayerCoder.decode(_),fe=this.vtLayers[le].feature(w);if(T.needGeometry){const ve=tc(fe,!0);if(!T.filter(new Kr(this.tileID.overscaledZ),ve,this.tileID.canonical))return}else if(!T.filter(new Kr(this.tileID.overscaledZ),fe))return;const ge=this.getId(fe,le);for(let ve=0;ve<oe.length;ve++){const Te=oe[ve];if(k&&!k.has(Te))continue;const Ve=B[Te];if(!Ve)continue;let Ee={};ge&&X&&(Ee=X.getState(Ve.sourceLayer||b_,ge));const Re=vt({},Z[Te]);Re.paint=nA(Re.paint,Ve.paint,fe,Ee,D),Re.layout=nA(Re.layout,Ve.layout,fe,Ee,D);const qe=!ee||ee(fe,Ve,Ee);if(!qe)continue;const Ge=new Kb(fe,this.z,this.x,this.y,ge);Ge.layer=Re;let dt=l[Te];dt===void 0&&(dt=l[Te]=[]),dt.push({featureIndex:w,feature:Ge,intersectionZ:qe})}}lookupSymbolFeatures(l,h,_,w,T,k,D,B){const Z={};this.loadVTLayers();const X=_a(T.filterSpec,T.globalState);for(const ee of l)this.loadMatchingFeature(Z,_,w,ee,X,k,D,B,h);return Z}hasLayer(l){for(const h of this.bucketLayerIDs)for(const _ of h)if(l===_)return!0;return!1}getId(l,h){var _;let w=l.id;return this.promoteId&&(w=l.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[h]],typeof w=="boolean"&&(w=Number(w)),w===void 0&&(!((_=l.properties)===null||_===void 0)&&_.cluster)&&this.promoteId&&(w=Number(l.properties.cluster_id))),w}}function nA(f,l,h,_,w){return Tt(f,((T,k)=>{const D=l instanceof Bd?l.get(k):null;return D&&D.evaluate?D.evaluate(h,_,w):D}))}function f1(f,l){return l-f}function p(f,l,h,_,w){const T=[];for(let k=0;k<f.length;k++){const D=f[k];let B;for(let Z=0;Z<D.length-1;Z++){let X=D[Z],ee=D[Z+1];X.x<l&&ee.x<l||(X.x<l?X=new u(l,X.y+(l-X.x)/(ee.x-X.x)*(ee.y-X.y))._round():ee.x<l&&(ee=new u(l,X.y+(l-X.x)/(ee.x-X.x)*(ee.y-X.y))._round()),X.y<h&&ee.y<h||(X.y<h?X=new u(X.x+(h-X.y)/(ee.y-X.y)*(ee.x-X.x),h)._round():ee.y<h&&(ee=new u(X.x+(h-X.y)/(ee.y-X.y)*(ee.x-X.x),h)._round()),X.x>=_&&ee.x>=_||(X.x>=_?X=new u(_,X.y+(_-X.x)/(ee.x-X.x)*(ee.y-X.y))._round():ee.x>=_&&(ee=new u(_,X.y+(_-X.x)/(ee.x-X.x)*(ee.y-X.y))._round()),X.y>=w&&ee.y>=w||(X.y>=w?X=new u(X.x+(w-X.y)/(ee.y-X.y)*(ee.x-X.x),w)._round():ee.y>=w&&(ee=new u(X.x+(w-X.y)/(ee.y-X.y)*(ee.x-X.x),w)._round()),B&&X.equals(B[B.length-1])||(B=[X],T.push(B)),B.push(ee)))))}}return T}function y(f,l,h,_,w){switch(l){case 1:return(function(T,k,D,B){const Z=[];for(const X of T)for(const ee of X){const oe=B===0?ee.x:ee.y;oe>=k&&oe<=D&&Z.push([ee])}return Z})(f,h,_,w);case 2:return R(f,h,_,w,!1);case 3:return R(f,h,_,w,!0)}return[]}function S(f,l,h,_,w){const T=_===0?Q:G;let k=[];const D=[];for(let X=0;X<f.length-1;X++){const ee=f[X],oe=f[X+1],le=_===0?ee.x:ee.y,fe=_===0?oe.x:oe.y;let ge=!1;le<l?fe>l&&k.push(T(ee,oe,l)):le>h?fe<h&&k.push(T(ee,oe,h)):k.push(ee),fe<l&&le>=l&&(k.push(T(ee,oe,l)),ge=!0),fe>h&&le<=h&&(k.push(T(ee,oe,h)),ge=!0),!w&&ge&&(D.push(k),k=[])}const B=f.length-1,Z=_===0?f[B].x:f[B].y;return Z>=l&&Z<=h&&k.push(f[B]),w&&k.length>0&&!k[0].equals(k[k.length-1])&&k.push(new u(k[0].x,k[0].y)),k.length>0&&D.push(k),D}function R(f,l,h,_,w){const T=[];for(const k of f){const D=S(k,l,h,_,w);D.length>0&&T.push(...D)}return T}function Q(f,l,h){return new u(h,f.y+(h-f.x)/(l.x-f.x)*(l.y-f.y))}function G(f,l,h){return new u(f.x+(h-f.y)/(l.y-f.y)*(l.x-f.x),h)}yn("FeatureIndex",c2,{omit:["rawTileData","sourceLayerCoder"]});class de extends u{constructor(l,h,_,w){super(l,h),this.angle=_,w!==void 0&&(this.segment=w)}clone(){return new de(this.x,this.y,this.angle,this.segment)}}function Ae(f,l,h,_,w){if(l.segment===void 0||h===0)return!0;let T=l,k=l.segment+1,D=0;for(;D>-h/2;){if(k--,k<0)return!1;D-=f[k].dist(T),T=f[k]}D+=f[k].dist(f[k+1]),k++;const B=[];let Z=0;for(;D<h/2;){const X=f[k],ee=f[k+1];if(!ee)return!1;let oe=f[k-1].angleTo(X)-X.angleTo(ee);for(oe=Math.abs((oe+3*Math.PI)%(2*Math.PI)-Math.PI),B.push({distance:D,angleDelta:oe}),Z+=oe;D-B[0].distance>_;)Z-=B.shift().angleDelta;if(Z>w)return!1;k++,D+=X.dist(ee)}return!0}function et(f){let l=0;for(let h=0;h<f.length-1;h++)l+=f[h].dist(f[h+1]);return l}function wt(f,l,h){return f?.6*l*h:0}function $t(f,l){return Math.max(f?f.right-f.left:0,l?l.right-l.left:0)}function Ht(f,l,h,_,w,T){const k=wt(h,w,T),D=$t(h,_)*T;let B=0;const Z=et(f)/2;for(let X=0;X<f.length-1;X++){const ee=f[X],oe=f[X+1],le=ee.dist(oe);if(B+le>Z){const fe=(Z-B)/le,ge=Ni.number(ee.x,oe.x,fe),ve=Ni.number(ee.y,oe.y,fe),Te=new de(ge,ve,oe.angleTo(ee),X);return Te._round(),!k||Ae(f,Te,D,k,l)?Te:void 0}B+=le}}function Ct(f,l,h,_,w,T,k,D,B){const Z=wt(_,T,k),X=$t(_,w),ee=X*k,oe=f[0].x===0||f[0].x===B||f[0].y===0||f[0].y===B;return l-ee<l/4&&(l=ee+l/4),Mt(f,oe?l/2*D%l:(X/2+2*T)*k*D%l,l,Z,h,ee,oe,!1,B)}function Mt(f,l,h,_,w,T,k,D,B){const Z=T/2,X=et(f);let ee=0,oe=l-h,le=[];for(let fe=0;fe<f.length-1;fe++){const ge=f[fe],ve=f[fe+1],Te=ge.dist(ve),Ve=ve.angleTo(ge);for(;oe+h<ee+Te;){oe+=h;const Ee=(oe-ee)/Te,Re=Ni.number(ge.x,ve.x,Ee),qe=Ni.number(ge.y,ve.y,Ee);if(Re>=0&&Re<B&&qe>=0&&qe<B&&oe-Z>=0&&oe+Z<=X){const Ge=new de(Re,qe,Ve,fe);Ge._round(),_&&!Ae(f,Ge,T,_,w)||le.push(Ge)}}ee+=Te}return D||le.length||k||(le=Mt(f,ee/2,h,_,w,T,k,!0,B)),le}function Ln(f,l,h,_){const w=[],T=f.image,k=T.pixelRatio,D=T.paddedRect.w-2,B=T.paddedRect.h-2;let Z={x1:f.left,y1:f.top,x2:f.right,y2:f.bottom};const X=T.stretchX||[[0,D]],ee=T.stretchY||[[0,B]],oe=(xt,bn)=>xt+bn[1]-bn[0],le=X.reduce(oe,0),fe=ee.reduce(oe,0),ge=D-le,ve=B-fe;let Te=0,Ve=le,Ee=0,Re=fe,qe=0,Ge=ge,dt=0,Lt=ve;if(T.content&&_){const xt=T.content,bn=xt[2]-xt[0],vn=xt[3]-xt[1];(T.textFitWidth||T.textFitHeight)&&(Z=ef(f)),Te=Xn(X,0,xt[0]),Ee=Xn(ee,0,xt[1]),Ve=Xn(X,xt[0],xt[2]),Re=Xn(ee,xt[1],xt[3]),qe=xt[0]-Te,dt=xt[1]-Ee,Ge=bn-Ve,Lt=vn-Re}const Et=Z.x1,Ft=Z.y1,un=Z.x2-Et,Zt=Z.y2-Ft,Rt=(xt,bn,vn,On)=>{const mn=lt(xt.stretch-Te,Ve,un,Et),zn=it(xt.fixed-qe,Ge,xt.stretch,le),Qr=lt(bn.stretch-Ee,Re,Zt,Ft),Sr=it(bn.fixed-dt,Lt,bn.stretch,fe),fo=lt(vn.stretch-Te,Ve,un,Et),Aa=it(vn.fixed-qe,Ge,vn.stretch,le),vs=lt(On.stretch-Ee,Re,Zt,Ft),po=it(On.fixed-dt,Lt,On.stretch,fe),Yi=new u(mn,Qr),li=new u(fo,Qr),No=new u(fo,vs),qo=new u(mn,vs),Vi=new u(zn/k,Sr/k),oc=new u(Aa/k,po/k),Pa=l*Math.PI/180;if(Pa){const Qs=Math.sin(Pa),So=Math.cos(Pa),_s=[So,-Qs,Qs,So];Yi._matMult(_s),li._matMult(_s),qo._matMult(_s),No._matMult(_s)}const sc=xt.stretch+xt.fixed,jh=bn.stretch+bn.fixed;return{tl:Yi,tr:li,bl:qo,br:No,tex:{x:T.paddedRect.x+1+sc,y:T.paddedRect.y+1+jh,w:vn.stretch+vn.fixed-sc,h:On.stretch+On.fixed-jh},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Vi,pixelOffsetBR:oc,minFontScaleX:Ge/k/un,minFontScaleY:Lt/k/Zt,isSDF:h}};if(_&&(T.stretchX||T.stretchY)){const xt=Si(X,ge,le),bn=Si(ee,ve,fe);for(let vn=0;vn<xt.length-1;vn++){const On=xt[vn],mn=xt[vn+1];for(let zn=0;zn<bn.length-1;zn++)w.push(Rt(On,bn[zn],mn,bn[zn+1]))}}else w.push(Rt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:D+1},{fixed:0,stretch:B+1}));return w}function Xn(f,l,h){let _=0;for(const w of f)_+=Math.max(l,Math.min(h,w[1]))-Math.max(l,Math.min(h,w[0]));return _}function Si(f,l,h){const _=[{fixed:-1,stretch:0}];for(const[w,T]of f){const k=_[_.length-1];_.push({fixed:w-k.stretch,stretch:k.stretch}),_.push({fixed:w-k.stretch,stretch:k.stretch+(T-w)})}return _.push({fixed:l+1,stretch:h}),_}function lt(f,l,h,_){return f/l*h+_}function it(f,l,h,_){return f-l*h/_}yn("Anchor",de);class _t{constructor(l,h,_,w,T,k,D,B,Z,X){var ee;if(this.boxStartIndex=l.length,Z){let oe=k.top,le=k.bottom;const fe=k.collisionPadding;fe&&(oe-=fe[1],le+=fe[3]);let ge=le-oe;ge>0&&(ge=Math.max(10,ge),this.circleDiameter=ge)}else{const oe=!((ee=k.image)===null||ee===void 0)&&ee.content&&(k.image.textFitWidth||k.image.textFitHeight)?ef(k):{x1:k.left,y1:k.top,x2:k.right,y2:k.bottom};oe.y1=oe.y1*D-B[0],oe.y2=oe.y2*D+B[2],oe.x1=oe.x1*D-B[3],oe.x2=oe.x2*D+B[1];const le=k.collisionPadding;if(le&&(oe.x1-=le[0]*D,oe.y1-=le[1]*D,oe.x2+=le[2]*D,oe.y2+=le[3]*D),X){const fe=new u(oe.x1,oe.y1),ge=new u(oe.x2,oe.y1),ve=new u(oe.x1,oe.y2),Te=new u(oe.x2,oe.y2),Ve=X*Math.PI/180;fe._rotate(Ve),ge._rotate(Ve),ve._rotate(Ve),Te._rotate(Ve),oe.x1=Math.min(fe.x,ge.x,ve.x,Te.x),oe.x2=Math.max(fe.x,ge.x,ve.x,Te.x),oe.y1=Math.min(fe.y,ge.y,ve.y,Te.y),oe.y2=Math.max(fe.y,ge.y,ve.y,Te.y)}l.emplaceBack(h.x,h.y,oe.x1,oe.y1,oe.x2,oe.y2,_,w,T)}this.boxEndIndex=l.length}}class Ut{constructor(l=[],h=(_,w)=>_<w?-1:_>w?1:0){if(this.data=l,this.length=this.data.length,this.compare=h,this.length>0)for(let _=(this.length>>1)-1;_>=0;_--)this._down(_)}push(l){this.data.push(l),this._up(this.length++)}pop(){if(this.length===0)return;const l=this.data[0],h=this.data.pop();return--this.length>0&&(this.data[0]=h,this._down(0)),l}peek(){return this.data[0]}_up(l){const{data:h,compare:_}=this,w=h[l];for(;l>0;){const T=l-1>>1,k=h[T];if(_(w,k)>=0)break;h[l]=k,l=T}h[l]=w}_down(l){const{data:h,compare:_}=this,w=this.length>>1,T=h[l];for(;l<w;){let k=1+(l<<1);const D=k+1;if(D<this.length&&_(h[D],h[k])<0&&(k=D),_(h[k],T)>=0)break;h[l]=h[k],l=k}h[l]=T}}function Wn(f,l=1,h=!1){const _=xp.fromPoints(f[0]),w=Math.min(_.width(),_.height());let T=w/2;const k=new Ut([],ai),{minX:D,minY:B,maxX:Z,maxY:X}=_;if(w===0)return new u(D,B);for(let le=D;le<Z;le+=w)for(let fe=B;fe<X;fe+=w)k.push(new $n(le+T,fe+T,T,f));let ee=(function(le){let fe=0,ge=0,ve=0;const Te=le[0];for(let Ve=0,Ee=Te.length,Re=Ee-1;Ve<Ee;Re=Ve++){const qe=Te[Ve],Ge=Te[Re],dt=qe.x*Ge.y-Ge.x*qe.y;ge+=(qe.x+Ge.x)*dt,ve+=(qe.y+Ge.y)*dt,fe+=3*dt}return new $n(ge/fe,ve/fe,0,le)})(f),oe=k.length;for(;k.length;){const le=k.pop();(le.d>ee.d||!ee.d)&&(ee=le,h&&console.log("found best %d after %d probes",Math.round(1e4*le.d)/1e4,oe)),le.max-ee.d<=l||(T=le.h/2,k.push(new $n(le.p.x-T,le.p.y-T,T,f)),k.push(new $n(le.p.x+T,le.p.y-T,T,f)),k.push(new $n(le.p.x-T,le.p.y+T,T,f)),k.push(new $n(le.p.x+T,le.p.y+T,T,f)),oe+=4)}return h&&(console.log(`num probes: ${oe}`),console.log(`best distance: ${ee.d}`)),ee.p}function ai(f,l){return l.max-f.max}function $n(f,l,h,_){this.p=new u(f,l),this.h=h,this.d=(function(w,T){let k=!1,D=1/0;for(let B=0;B<T.length;B++){const Z=T[B];for(let X=0,ee=Z.length,oe=ee-1;X<ee;oe=X++){const le=Z[X],fe=Z[oe];le.y>w.y!=fe.y>w.y&&w.x<(fe.x-le.x)*(w.y-le.y)/(fe.y-le.y)+le.x&&(k=!k),D=Math.min(D,dS(w,le,fe))}}return(k?1:-1)*Math.sqrt(D)})(this.p,_),this.max=this.d+this.h*Math.SQRT2}var jn;a.aP=void 0,(jn=a.aP||(a.aP={}))[jn.center=1]="center",jn[jn.left=2]="left",jn[jn.right=3]="right",jn[jn.top=4]="top",jn[jn.bottom=5]="bottom",jn[jn["top-left"]=6]="top-left",jn[jn["top-right"]=7]="top-right",jn[jn["bottom-left"]=8]="bottom-left",jn[jn["bottom-right"]=9]="bottom-right";const Lr=Number.POSITIVE_INFINITY;function ei(f,l){return l[1]!==Lr?(function(h,_,w){let T=0,k=0;switch(_=Math.abs(_),w=Math.abs(w),h){case"top-right":case"top-left":case"top":k=w-7;break;case"bottom-right":case"bottom-left":case"bottom":k=7-w}switch(h){case"top-right":case"bottom-right":case"right":T=-_;break;case"top-left":case"bottom-left":case"left":T=_}return[T,k]})(f,l[0],l[1]):(function(h,_){let w=0,T=0;_<0&&(_=0);const k=_/Math.SQRT2;switch(h){case"top-right":case"top-left":T=k-7;break;case"bottom-right":case"bottom-left":T=7-k;break;case"bottom":T=7-_;break;case"top":T=_-7}switch(h){case"top-right":case"bottom-right":w=-k;break;case"top-left":case"bottom-left":w=k;break;case"left":w=_;break;case"right":w=-_}return[w,T]})(f,l[0])}function of(f,l,h){var _;const w=f.layout,T=(_=w.get("text-variable-anchor-offset"))===null||_===void 0?void 0:_.evaluate(l,{},h);if(T){const D=T.values,B=[];for(let Z=0;Z<D.length;Z+=2){const X=B[Z]=D[Z],ee=D[Z+1].map((oe=>oe*ts));X.startsWith("top")?ee[1]-=7:X.startsWith("bottom")&&(ee[1]+=7),B[Z+1]=ee}return new so(B)}const k=w.get("text-variable-anchor");if(k){let D;D=f._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[w.get("text-radial-offset").evaluate(l,{},h)*ts,Lr]:w.get("text-offset").evaluate(l,{},h).map((Z=>Z*ts));const B=[];for(const Z of k)B.push(Z,ei(Z,D));return new so(B)}return null}function u2(f){switch(f){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Hhe(f,l,h,_,w,T,k,D,B,Z,X,ee){let oe=T.textMaxSize.evaluate(l,{});oe===void 0&&(oe=k);const le=f.layers[0].layout,fe=le.get("icon-offset").evaluate(l,{},X),ge=h7(h.horizontal),ve=k/24,Te=f.tilePixelRatio*ve,Ve=f.tilePixelRatio*oe/24,Ee=f.tilePixelRatio*D,Re=f.tilePixelRatio*le.get("symbol-spacing"),qe=le.get("text-padding")*f.tilePixelRatio,Ge=(function(vn,On,mn,zn=1){const Qr=vn.get("icon-padding").evaluate(On,{},mn),Sr=Qr&&Qr.values;return[Sr[0]*zn,Sr[1]*zn,Sr[2]*zn,Sr[3]*zn]})(le,l,X,f.tilePixelRatio),dt=le.get("text-max-angle")/180*Math.PI,Lt=le.get("text-rotation-alignment")!=="viewport"&&le.get("symbol-placement")!=="point",Et=le.get("icon-rotation-alignment")==="map"&&le.get("symbol-placement")!=="point",Ft=le.get("symbol-placement"),un=Re/2,Zt=le.get("icon-text-fit");let Rt;_&&Zt!=="none"&&(f.allowVerticalPlacement&&h.vertical&&(Rt=Ru(_,h.vertical,Zt,le.get("icon-text-fit-padding"),fe,ve)),ge&&(_=Ru(_,ge,Zt,le.get("icon-text-fit-padding"),fe,ve)));const xt=X?ee.line.getGranularityForZoomLevel(X.z):1,bn=(vn,On)=>{On.x<0||On.x>=Ue||On.y<0||On.y>=Ue||(function(mn,zn,Qr,Sr,fo,Aa,vs,po,Yi,li,No,qo,Vi,oc,Pa,sc,jh,Qs,So,_s,Bo,Us,xg,sf,f2){const m0=mn.addToLineVertexArray(zn,Qr);let w_,p1,m1,g1,m7=0,g7=0,y7=0,v7=0,SD=-1,CD=-1;const bg={};let _7=uo("");if(mn.allowVerticalPlacement&&Sr.vertical){const Ya=po.layout.get("text-rotate").evaluate(Bo,{},sf)+90;m1=new _t(Yi,zn,li,No,qo,Sr.vertical,Vi,oc,Pa,Ya),vs&&(g1=new _t(Yi,zn,li,No,qo,vs,jh,Qs,Pa,Ya))}if(fo){const Ya=po.layout.get("icon-rotate").evaluate(Bo,{}),$u=po.layout.get("icon-text-fit")!=="none",O_=Ln(fo,Ya,xg,$u),lf=vs?Ln(vs,Ya,xg,$u):void 0;p1=new _t(Yi,zn,li,No,qo,fo,jh,Qs,!1,Ya),m7=4*O_.length;const S_=mn.iconSizeData;let Ap=null;S_.kind==="source"?(Ap=[rc*po.layout.get("icon-size").evaluate(Bo,{})],Ap[0]>vp&&Gt(`${mn.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):S_.kind==="composite"&&(Ap=[rc*Us.compositeIconSizes[0].evaluate(Bo,{},sf),rc*Us.compositeIconSizes[1].evaluate(Bo,{},sf)],(Ap[0]>vp||Ap[1]>vp)&&Gt(`${mn.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),mn.addSymbols(mn.icon,O_,Ap,_s,So,Bo,a.az.none,zn,m0.lineStartIndex,m0.lineLength,-1,sf),SD=mn.icon.placedSymbolArray.length-1,lf&&(g7=4*lf.length,mn.addSymbols(mn.icon,lf,Ap,_s,So,Bo,a.az.vertical,zn,m0.lineStartIndex,m0.lineLength,-1,sf),CD=mn.icon.placedSymbolArray.length-1)}const x7=Object.keys(Sr.horizontal);for(const Ya of x7){const $u=Sr.horizontal[Ya];if(!w_){_7=uo($u.text);const lf=po.layout.get("text-rotate").evaluate(Bo,{},sf);w_=new _t(Yi,zn,li,No,qo,$u,Vi,oc,Pa,lf)}const O_=$u.positionedLines.length===1;if(y7+=u7(mn,zn,$u,Aa,po,Pa,Bo,sc,m0,Sr.vertical?a.az.horizontal:a.az.horizontalOnly,O_?x7:[Ya],bg,SD,Us,sf),O_)break}Sr.vertical&&(v7+=u7(mn,zn,Sr.vertical,Aa,po,Pa,Bo,sc,m0,a.az.vertical,["vertical"],bg,CD,Us,sf));const Yhe=w_?w_.boxStartIndex:mn.collisionBoxArray.length,Khe=w_?w_.boxEndIndex:mn.collisionBoxArray.length,Jhe=m1?m1.boxStartIndex:mn.collisionBoxArray.length,ede=m1?m1.boxEndIndex:mn.collisionBoxArray.length,tde=p1?p1.boxStartIndex:mn.collisionBoxArray.length,nde=p1?p1.boxEndIndex:mn.collisionBoxArray.length,rde=g1?g1.boxStartIndex:mn.collisionBoxArray.length,ide=g1?g1.boxEndIndex:mn.collisionBoxArray.length;let af=-1;const iA=(Ya,$u)=>Ya&&Ya.circleDiameter?Math.max(Ya.circleDiameter,$u):$u;af=iA(w_,af),af=iA(m1,af),af=iA(p1,af),af=iA(g1,af);const b7=af>-1?1:0;b7&&(af*=f2/ts),mn.glyphOffsetArray.length>=s0.MAX_GLYPHS&&Gt("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Bo.sortKey!==void 0&&mn.addToSortKeyRanges(mn.symbolInstances.length,Bo.sortKey);const ode=of(po,Bo,sf),[sde,ade]=(function(Ya,$u){const O_=Ya.length,lf=$u?.values;if(lf?.length>0)for(let S_=0;S_<lf.length;S_+=2){const Ap=lf[S_+1];Ya.emplaceBack(a.aP[lf[S_]],Ap[0],Ap[1])}return[O_,Ya.length]})(mn.textAnchorOffsets,ode);mn.symbolInstances.emplaceBack(zn.x,zn.y,bg.right>=0?bg.right:-1,bg.center>=0?bg.center:-1,bg.left>=0?bg.left:-1,bg.vertical||-1,SD,CD,_7,Yhe,Khe,Jhe,ede,tde,nde,rde,ide,li,y7,v7,m7,g7,b7,0,Vi,af,sde,ade)})(f,On,vn,h,_,w,Rt,f.layers[0],f.collisionBoxArray,l.index,l.sourceLayerIndex,f.index,Te,[qe,qe,qe,qe],Lt,B,Ee,Ge,Et,fe,l,T,Z,X,k)};if(Ft==="line")for(const vn of p(l.geometry,0,0,Ue,Ue)){const On=Gd(vn,xt),mn=Ct(On,Re,dt,h.vertical||ge,_,24,Ve,f.overscaling,Ue);for(const zn of mn)ge&&Ghe(f,ge.text,un,zn)||bn(On,zn)}else if(Ft==="line-center"){for(const vn of l.geometry)if(vn.length>1){const On=Gd(vn,xt),mn=Ht(On,dt,h.vertical||ge,_,24,Ve);mn&&bn(On,mn)}}else if(l.type==="Polygon")for(const vn of Nm(l.geometry,0)){const On=Wn(vn,16);bn(Gd(vn[0],xt,!0),new de(On.x,On.y,0))}else if(l.type==="LineString")for(const vn of l.geometry){const On=Gd(vn,xt);bn(On,new de(On[0].x,On[0].y,0))}else if(l.type==="Point")for(const vn of l.geometry)for(const On of vn)bn([On],new de(On.x,On.y,0))}function u7(f,l,h,_,w,T,k,D,B,Z,X,ee,oe,le,fe){const ge=(function(Ve,Ee,Re,qe,Ge,dt,Lt,Et){const Ft=qe.layout.get("text-rotate").evaluate(dt,{})*Math.PI/180,un=[];for(const Zt of Ee.positionedLines)for(const Rt of Zt.positionedGlyphs){if(!Rt.rect)continue;const xt=Rt.rect||{};let bn=4,vn=!0,On=1,mn=0;const zn=(Ge||Et)&&Rt.vertical,Qr=Rt.metrics.advance*Rt.scale/2;if(Et&&Ee.verticalizable&&(mn=Zt.lineOffset/2-(Rt.imageName?-(ts-Rt.metrics.width*Rt.scale)/2:(Rt.scale-1)*ts)),Rt.imageName){const Qs=Lt[Rt.imageName];vn=Qs.sdf,On=Qs.pixelRatio,bn=1/On}const Sr=Ge?[Rt.x+Qr,Rt.y]:[0,0];let fo=Ge?[0,0]:[Rt.x+Qr+Re[0],Rt.y+Re[1]-mn],Aa=[0,0];zn&&(Aa=fo,fo=[0,0]);const vs=Rt.metrics.isDoubleResolution?2:1,po=(Rt.metrics.left-bn)*Rt.scale-Qr+fo[0],Yi=(-Rt.metrics.top-bn)*Rt.scale+fo[1],li=po+xt.w/vs*Rt.scale/On,No=Yi+xt.h/vs*Rt.scale/On,qo=new u(po,Yi),Vi=new u(li,Yi),oc=new u(po,No),Pa=new u(li,No);if(zn){const Qs=new u(-Qr,Qr- -17),So=-Math.PI/2,_s=12-Qr,Bo=new u(22-_s,-(Rt.imageName?_s:0)),Us=new u(...Aa);qo._rotateAround(So,Qs)._add(Bo)._add(Us),Vi._rotateAround(So,Qs)._add(Bo)._add(Us),oc._rotateAround(So,Qs)._add(Bo)._add(Us),Pa._rotateAround(So,Qs)._add(Bo)._add(Us)}if(Ft){const Qs=Math.sin(Ft),So=Math.cos(Ft),_s=[So,-Qs,Qs,So];qo._matMult(_s),Vi._matMult(_s),oc._matMult(_s),Pa._matMult(_s)}const sc=new u(0,0),jh=new u(0,0);un.push({tl:qo,tr:Vi,bl:oc,br:Pa,tex:xt,writingMode:Ee.writingMode,glyphOffset:Sr,sectionIndex:Rt.sectionIndex,isSDF:vn,pixelOffsetTL:sc,pixelOffsetBR:jh,minFontScaleX:0,minFontScaleY:0})}return un})(0,h,D,w,T,k,_,f.allowVerticalPlacement),ve=f.textSizeData;let Te=null;ve.kind==="source"?(Te=[rc*w.layout.get("text-size").evaluate(k,{})],Te[0]>vp&&Gt(`${f.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):ve.kind==="composite"&&(Te=[rc*le.compositeTextSizes[0].evaluate(k,{},fe),rc*le.compositeTextSizes[1].evaluate(k,{},fe)],(Te[0]>vp||Te[1]>vp)&&Gt(`${f.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),f.addSymbols(f.text,ge,Te,D,T,k,Z,l,B.lineStartIndex,B.lineLength,oe,fe);for(const Ve of X)ee[Ve]=f.text.placedSymbolArray.length-1;return 4*ge.length}function h7(f){for(const l in f)return f[l];return null}function Ghe(f,l,h,_){const w=f.compareText;if(l in w){const T=w[l];for(let k=T.length-1;k>=0;k--)if(_.dist(T[k])<h)return!0}else w[l]=[];return w[l].push(_),!1}const d7=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class yD{static from(l){if(!(l instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[h,_]=new Uint8Array(l,0,2);if(h!==219)throw new Error("Data does not appear to be in a KDBush format.");const w=_>>4;if(w!==1)throw new Error(`Got v${w} data when expected v1.`);const T=d7[15&_];if(!T)throw new Error("Unrecognized array type.");const[k]=new Uint16Array(l,2,1),[D]=new Uint32Array(l,4,1);return new yD(D,k,T,l)}constructor(l,h=64,_=Float64Array,w){if(isNaN(l)||l<0)throw new Error(`Unpexpected numItems value: ${l}.`);this.numItems=+l,this.nodeSize=Math.min(Math.max(+h,2),65535),this.ArrayType=_,this.IndexArrayType=l<65536?Uint16Array:Uint32Array;const T=d7.indexOf(this.ArrayType),k=2*l*this.ArrayType.BYTES_PER_ELEMENT,D=l*this.IndexArrayType.BYTES_PER_ELEMENT,B=(8-D%8)%8;if(T<0)throw new Error(`Unexpected typed array class: ${_}.`);w&&w instanceof ArrayBuffer?(this.data=w,this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+D+B,2*l),this._pos=2*l,this._finished=!0):(this.data=new ArrayBuffer(8+k+D+B),this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+D+B,2*l),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+T]),new Uint16Array(this.data,2,1)[0]=h,new Uint32Array(this.data,4,1)[0]=l)}add(l,h){const _=this._pos>>1;return this.ids[_]=_,this.coords[this._pos++]=l,this.coords[this._pos++]=h,_}finish(){const l=this._pos>>1;if(l!==this.numItems)throw new Error(`Added ${l} items when expected ${this.numItems}.`);return vD(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(l,h,_,w){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:T,coords:k,nodeSize:D}=this,B=[0,T.length-1,0],Z=[];for(;B.length;){const X=B.pop()||0,ee=B.pop()||0,oe=B.pop()||0;if(ee-oe<=D){for(let ve=oe;ve<=ee;ve++){const Te=k[2*ve],Ve=k[2*ve+1];Te>=l&&Te<=_&&Ve>=h&&Ve<=w&&Z.push(T[ve])}continue}const le=oe+ee>>1,fe=k[2*le],ge=k[2*le+1];fe>=l&&fe<=_&&ge>=h&&ge<=w&&Z.push(T[le]),(X===0?l<=fe:h<=ge)&&(B.push(oe),B.push(le-1),B.push(1-X)),(X===0?_>=fe:w>=ge)&&(B.push(le+1),B.push(ee),B.push(1-X))}return Z}within(l,h,_){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:w,coords:T,nodeSize:k}=this,D=[0,w.length-1,0],B=[],Z=_*_;for(;D.length;){const X=D.pop()||0,ee=D.pop()||0,oe=D.pop()||0;if(ee-oe<=k){for(let ve=oe;ve<=ee;ve++)p7(T[2*ve],T[2*ve+1],l,h)<=Z&&B.push(w[ve]);continue}const le=oe+ee>>1,fe=T[2*le],ge=T[2*le+1];p7(fe,ge,l,h)<=Z&&B.push(w[le]),(X===0?l-_<=fe:h-_<=ge)&&(D.push(oe),D.push(le-1),D.push(1-X)),(X===0?l+_>=fe:h+_>=ge)&&(D.push(le+1),D.push(ee),D.push(1-X))}return B}}function vD(f,l,h,_,w,T){if(w-_<=h)return;const k=_+w>>1;f7(f,l,k,_,w,T),vD(f,l,h,_,k-1,1-T),vD(f,l,h,k+1,w,1-T)}function f7(f,l,h,_,w,T){for(;w>_;){if(w-_>600){const Z=w-_+1,X=h-_+1,ee=Math.log(Z),oe=.5*Math.exp(2*ee/3),le=.5*Math.sqrt(ee*oe*(Z-oe)/Z)*(X-Z/2<0?-1:1);f7(f,l,h,Math.max(_,Math.floor(h-X*oe/Z+le)),Math.min(w,Math.floor(h+(Z-X)*oe/Z+le)),T)}const k=l[2*h+T];let D=_,B=w;for(h2(f,l,_,h),l[2*w+T]>k&&h2(f,l,_,w);D<B;){for(h2(f,l,D,B),D++,B--;l[2*D+T]<k;)D++;for(;l[2*B+T]>k;)B--}l[2*_+T]===k?h2(f,l,_,B):(B++,h2(f,l,B,w)),B<=h&&(_=B+1),h<=B&&(w=B-1)}}function h2(f,l,h,_){_D(f,h,_),_D(l,2*h,2*_),_D(l,2*h+1,2*_+1)}function _D(f,l,h){const _=f[l];f[l]=f[h],f[h]=_}function p7(f,l,h,_){const w=f-h,T=l-_;return w*w+T*T}var xD;a.cH=void 0,(xD=a.cH||(a.cH={})).create="create",xD.load="load",xD.fullLoad="fullLoad";let rA=null,d2=[];const bD=1e3/60,wD="loadTime",OD="fullLoadTime",Xhe={mark(f){performance.mark(f)},frame(f){const l=f;rA!=null&&d2.push(l-rA),rA=l},clearMetrics(){rA=null,d2=[],performance.clearMeasures(wD),performance.clearMeasures(OD);for(const f in a.cH)performance.clearMarks(a.cH[f])},getPerformanceMetrics(){performance.measure(wD,a.cH.create,a.cH.load),performance.measure(OD,a.cH.create,a.cH.fullLoad);const f=performance.getEntriesByName(wD)[0].duration,l=performance.getEntriesByName(OD)[0].duration,h=d2.length,_=1/(d2.reduce(((T,k)=>T+k),0)/h/1e3),w=d2.filter((T=>T>bD)).reduce(((T,k)=>T+(k-bD)/bD),0);return{loadTime:f,fullLoadTime:l,fps:_,percentDroppedFrames:w/(h+w)*100,totalFrames:h}}};a.$=M,a.A=N,a.B=Hl,a.C=es,a.D=xn,a.E=kr,a.F=function([f,l,h]){return l+=90,l*=Math.PI/180,h*=Math.PI/180,{x:f*Math.cos(l)*Math.sin(h),y:f*Math.sin(l)*Math.sin(h),z:f*Math.cos(h)}},a.G=Ni,a.H=Kr,a.I=gi,a.J=Ny,a.K=function(f){if(sn==null){const l=f.navigator?f.navigator.userAgent:null;sn=!!f.safari||!(!l||!(/\b(iPad|iPhone|iPod)\b/.test(l)||l.match("Safari")&&!l.match("Chrome")))}return sn},a.L=class{constructor(f,l){this.target=f,this.mapId=l,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new Gb((()=>this.process())),this.subscription=bt(this.target,"message",(h=>this.receive(h)),!1),this.globalScope=Cn(self)?f:window}registerMessageHandler(f,l){this.messageHandlers[f]=l}unregisterMessageHandler(f){delete this.messageHandlers[f]}sendAsync(f,l){return new Promise(((h,_)=>{const w=Math.round(1e18*Math.random()).toString(36).substring(0,10),T=l?bt(l.signal,"abort",(()=>{T?.unsubscribe(),delete this.resolveRejects[w];const B={id:w,type:"<cancel>",origin:location.origin,targetMapId:f.targetMapId,sourceMapId:this.mapId};this.target.postMessage(B)}),FS):null;this.resolveRejects[w]={resolve:B=>{T?.unsubscribe(),h(B)},reject:B=>{T?.unsubscribe(),_(B)}};const k=[],D=Object.assign(Object.assign({},f),{id:w,sourceMapId:this.mapId,origin:location.origin,data:Gl(f.data,k)});this.target.postMessage(D,{transfer:k})}))}receive(f){const l=f.data,h=l.id;if(!(l.origin!=="file://"&&location.origin!=="file://"&&l.origin!=="resource://android"&&location.origin!=="resource://android"&&l.origin!==location.origin||l.targetMapId&&this.mapId!==l.targetMapId)){if(l.type==="<cancel>"){delete this.tasks[h];const _=this.abortControllers[h];return delete this.abortControllers[h],void(_&&_.abort())}if(Cn(self)||l.mustQueue)return this.tasks[h]=l,this.taskQueue.push(h),void this.invoker.trigger();this.processTask(h,l)}}process(){if(this.taskQueue.length===0)return;const f=this.taskQueue.shift(),l=this.tasks[f];delete this.tasks[f],this.taskQueue.length>0&&this.invoker.trigger(),l&&this.processTask(f,l)}processTask(f,l){return s(this,void 0,void 0,(function*(){if(l.type==="<response>"){const w=this.resolveRejects[f];return delete this.resolveRejects[f],w?void(l.error?w.reject(lp(l.error)):w.resolve(lp(l.data))):void 0}if(!this.messageHandlers[l.type])return void this.completeTask(f,new Error(`Could not find a registered handler for ${l.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const h=lp(l.data),_=new AbortController;this.abortControllers[f]=_;try{const w=yield this.messageHandlers[l.type](l.sourceMapId,h,_);this.completeTask(f,null,w)}catch(w){this.completeTask(f,w)}}))}completeTask(f,l,h){const _=[];delete this.abortControllers[f];const w={id:f,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:l?Gl(l):null,data:Gl(h,_)};this.target.postMessage(w,{transfer:_})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},a.M=tt,a.N=function(){var f=new N(16);return N!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=0,f[12]=0,f[13]=0,f[14]=0),f[0]=1,f[5]=1,f[10]=1,f[15]=1,f},a.O=function(f,l,h){var _,w,T,k,D,B,Z,X,ee,oe,le,fe,ge=h[0],ve=h[1],Te=h[2];return l===f?(f[12]=l[0]*ge+l[4]*ve+l[8]*Te+l[12],f[13]=l[1]*ge+l[5]*ve+l[9]*Te+l[13],f[14]=l[2]*ge+l[6]*ve+l[10]*Te+l[14],f[15]=l[3]*ge+l[7]*ve+l[11]*Te+l[15]):(w=l[1],T=l[2],k=l[3],D=l[4],B=l[5],Z=l[6],X=l[7],ee=l[8],oe=l[9],le=l[10],fe=l[11],f[0]=_=l[0],f[1]=w,f[2]=T,f[3]=k,f[4]=D,f[5]=B,f[6]=Z,f[7]=X,f[8]=ee,f[9]=oe,f[10]=le,f[11]=fe,f[12]=_*ge+D*ve+ee*Te+l[12],f[13]=w*ge+B*ve+oe*Te+l[13],f[14]=T*ge+Z*ve+le*Te+l[14],f[15]=k*ge+X*ve+fe*Te+l[15]),f},a.P=u,a.Q=function(f,l,h){var _=h[0],w=h[1],T=h[2];return f[0]=l[0]*_,f[1]=l[1]*_,f[2]=l[2]*_,f[3]=l[3]*_,f[4]=l[4]*w,f[5]=l[5]*w,f[6]=l[6]*w,f[7]=l[7]*w,f[8]=l[8]*T,f[9]=l[9]*T,f[10]=l[10]*T,f[11]=l[11]*T,f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15],f},a.R=Ca,a.S=function(f,l,h){var _=l[0],w=l[1],T=l[2],k=l[3],D=l[4],B=l[5],Z=l[6],X=l[7],ee=l[8],oe=l[9],le=l[10],fe=l[11],ge=l[12],ve=l[13],Te=l[14],Ve=l[15],Ee=h[0],Re=h[1],qe=h[2],Ge=h[3];return f[0]=Ee*_+Re*D+qe*ee+Ge*ge,f[1]=Ee*w+Re*B+qe*oe+Ge*ve,f[2]=Ee*T+Re*Z+qe*le+Ge*Te,f[3]=Ee*k+Re*X+qe*fe+Ge*Ve,f[4]=(Ee=h[4])*_+(Re=h[5])*D+(qe=h[6])*ee+(Ge=h[7])*ge,f[5]=Ee*w+Re*B+qe*oe+Ge*ve,f[6]=Ee*T+Re*Z+qe*le+Ge*Te,f[7]=Ee*k+Re*X+qe*fe+Ge*Ve,f[8]=(Ee=h[8])*_+(Re=h[9])*D+(qe=h[10])*ee+(Ge=h[11])*ge,f[9]=Ee*w+Re*B+qe*oe+Ge*ve,f[10]=Ee*T+Re*Z+qe*le+Ge*Te,f[11]=Ee*k+Re*X+qe*fe+Ge*Ve,f[12]=(Ee=h[12])*_+(Re=h[13])*D+(qe=h[14])*ee+(Ge=h[15])*ge,f[13]=Ee*w+Re*B+qe*oe+Ge*ve,f[14]=Ee*T+Re*Z+qe*le+Ge*Te,f[15]=Ee*k+Re*X+qe*fe+Ge*Ve,f},a.T=Tb,a.U=function(f,l){const h={};for(let _=0;_<l.length;_++){const w=l[_];w in f&&(h[w]=f[w])}return h},a.V=Bh,a.W=ot,a.X=jS,a.Y=NE,a.Z=$e,a._=s,a.a=xe,a.a$=ce,a.a0=L,a.a1=Vn,a.a2=El,a.a3=FE,a.a4=i_,a.a5=Ue,a.a6=function(f,l,h){if(!f)return l||{};if(!l)return f||{};const _=s_(f),w=s_(l);(function(k,D){D.removeAll&&(k.add.clear(),k.update.clear(),k.remove.clear(),D.remove.clear());for(const B of D.remove)k.add.delete(B),k.update.delete(B);for(const[B,Z]of D.update){const X=k.update.get(B);X&&(D.update.set(B,QS(X,Z)),k.update.delete(B))}})(_,w);const T={};if((_.removeAll||w.removeAll)&&(T.removeAll=!0),T.remove=new Set([..._.remove,...w.remove]),T.add=new Map([..._.add,...w.add]),T.update=new Map([..._.update,...w.update]),T.remove.size&&T.add.size)for(const k of T.add.keys())T.remove.delete(k);return(function(k){const D={};return k.removeAll&&(D.removeAll=k.removeAll),k.remove&&(D.remove=Array.from(k.remove)),k.add&&(D.add=Array.from(k.add.values())),k.update&&(D.update=Array.from(k.update.values())),D})(T)},a.a7=function(f,l){const h=new Map;if(f==null||f.type==null)return h;if(f.type==="Feature"){const _=o_(f,l);return _==null?void 0:(h.set(_,f),h)}if(f.type==="FeatureCollection"){const _=new Set;for(const w of f.features){const T=o_(w,l);if(T==null||_.has(T))return;_.add(T),h.set(T,w)}return h}},a.a8=function(f,l,h){var _,w;const T=[];if(l.removeAll)f.clear();else if(l.remove)for(const k of l.remove){const D=f.get(k);D&&(T.push(D.geometry),f.delete(k))}if(l.add)for(const k of l.add){const D=o_(k,h);if(D==null)continue;const B=f.get(D);B&&T.push(B.geometry),T.push(k.geometry),f.set(D,k)}if(l.update)for(const k of l.update){const D=f.get(k.id);if(!D)continue;const B=!!k.newGeometry,Z=k.removeAllProperties||((_=k.removeProperties)===null||_===void 0?void 0:_.length)>0||((w=k.addOrUpdateProperties)===null||w===void 0?void 0:w.length)>0;if(!B&&!Z)continue;T.push(D.geometry);const X=Object.assign({},D);if(f.set(k.id,X),B&&(T.push(k.newGeometry),X.geometry=k.newGeometry),Z){if(X.properties=k.removeAllProperties?{}:Object.assign({},X.properties||{}),k.removeProperties)for(const ee of k.removeProperties)delete X.properties[ee];if(k.addOrUpdateProperties)for(const{key:ee,value:oe}of k.addOrUpdateProperties)X.properties[ee]=oe}}return T},a.a9=si,a.aA=function(f,{uSize:l,uSizeT:h},{lowerSize:_,upperSize:w}){return f.kind==="source"?_/rc:f.kind==="composite"?Ni.number(_/rc,w/rc,h):l},a.aB=function(f,l){var h=l[0],_=l[1],w=l[2],T=l[3],k=l[4],D=l[5],B=l[6],Z=l[7],X=l[8],ee=l[9],oe=l[10],le=l[11],fe=l[12],ge=l[13],ve=l[14],Te=l[15],Ve=h*D-_*k,Ee=h*B-w*k,Re=h*Z-T*k,qe=_*B-w*D,Ge=_*Z-T*D,dt=w*Z-T*B,Lt=X*ge-ee*fe,Et=X*ve-oe*fe,Ft=X*Te-le*fe,un=ee*ve-oe*ge,Zt=ee*Te-le*ge,Rt=oe*Te-le*ve,xt=Ve*Rt-Ee*Zt+Re*un+qe*Ft-Ge*Et+dt*Lt;return xt?(f[0]=(D*Rt-B*Zt+Z*un)*(xt=1/xt),f[1]=(w*Zt-_*Rt-T*un)*xt,f[2]=(ge*dt-ve*Ge+Te*qe)*xt,f[3]=(oe*Ge-ee*dt-le*qe)*xt,f[4]=(B*Ft-k*Rt-Z*Et)*xt,f[5]=(h*Rt-w*Ft+T*Et)*xt,f[6]=(ve*Re-fe*dt-Te*Ee)*xt,f[7]=(X*dt-oe*Re+le*Ee)*xt,f[8]=(k*Zt-D*Ft+Z*Lt)*xt,f[9]=(_*Ft-h*Zt-T*Lt)*xt,f[10]=(fe*Ge-ge*Re+Te*Ve)*xt,f[11]=(ee*Re-X*Ge-le*Ve)*xt,f[12]=(D*Et-k*un-B*Lt)*xt,f[13]=(h*un-_*Et+w*Lt)*xt,f[14]=(ge*Ee-fe*qe-ve*Ve)*xt,f[15]=(X*qe-ee*Ee+oe*Ve)*xt,f):null},a.aC=Me,a.aD=function(f){var l=f[0],h=f[1];return Math.sqrt(l*l+h*h)},a.aE=function(f){return f[0]=0,f[1]=0,f},a.aF=function(f,l,h){return f[0]=l[0]*h,f[1]=l[1]*h,f},a.aG=$S,a.aH=we,a.aI=function(f,l,h,_){const w=l.y-f.y,T=l.x-f.x,k=_.y-h.y,D=_.x-h.x,B=k*T-D*w;if(B===0)return null;const Z=(D*(f.y-h.y)-k*(f.x-h.x))/B;return new u(f.x+Z*T,f.y+Z*w)},a.aJ=p,a.aK=ug,a.aL=function(f){let l=1/0,h=1/0,_=-1/0,w=-1/0;for(const T of f)l=Math.min(l,T.x),h=Math.min(h,T.y),_=Math.max(_,T.x),w=Math.max(w,T.y);return[l,h,_,w]},a.aM=ts,a.aN=Ce,a.aO=function(f,l,h,_,w=!1){if(!h[0]&&!h[1])return[0,0];const T=w?_==="map"?-f.bearingInRadians:0:_==="viewport"?f.bearingInRadians:0;if(T){const k=Math.sin(T),D=Math.cos(T);h=[h[0]*D-h[1]*k,h[0]*k+h[1]*D]}return[w?h[0]:Ce(l,h[0],f.zoom),w?h[1]:Ce(l,h[1],f.zoom)]},a.aQ=Ub,a.aR=u2,a.aS=RS,a.aT=yD,a.aU=Bi,a.aV=Hv,a.aW=Ie,a.aX=cn,a.aY=pt,a.aZ=Vt,a.a_=VS,a.aa=xp,a.ab=25,a.ac=Es,a.ad=f=>{const l=window.document.createElement("video");return l.muted=!0,new Promise((h=>{l.onloadstart=()=>{h(l)};for(const _ of f){const w=window.document.createElement("source");st(_)||(l.crossOrigin="Anonymous"),w.src=_,l.appendChild(w)}}))},a.ae=Kt,a.af=function(){return At++},a.ag=C,a.ah=s0,a.ai=b_,a.aj=_a,a.ak=tc,a.al=Kb,a.am=function(f){const l={};if(f.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,((h,_,w,T)=>{const k=w||T;return l[_]=!k||k.toLowerCase(),""})),l["max-age"]){const h=parseInt(l["max-age"],10);isNaN(h)?delete l["max-age"]:l["max-age"]=h}return l},a.an=ct,a.ao=85.051129,a.ap=kt,a.aq=function(f){return Math.pow(2,f)},a.ar=U,a.as=BE,a.at=function(f){return Math.log(f)/Math.LN2},a.au=function(f){var l=f[0],h=f[1];return l*l+h*h},a.av=function(f){if(!f.length)return new Set;const l=Math.max(...f.map((B=>B.canonical.z)));let h=1/0,_=-1/0,w=1/0,T=-1/0;const k=[];for(const B of f){const{x:Z,y:X,z:ee}=B.canonical,oe=Math.pow(2,l-ee),le=Z*oe,fe=X*oe;k.push({id:B,x:le,y:fe}),le<h&&(h=le),le>_&&(_=le),fe<w&&(w=fe),fe>T&&(T=fe)}const D=new Set;for(const B of k)B.x!==h&&B.x!==_&&B.y!==w&&B.y!==T||D.add(B.id);return D},a.aw=function(f,l){const h=Math.abs(2*f.wrap)-+(f.wrap<0),_=Math.abs(2*l.wrap)-+(l.wrap<0);return f.overscaledZ-l.overscaledZ||_-h||l.canonical.y-f.canonical.y||l.canonical.x-f.canonical.x},a.ax=class{constructor(f,l){this.max=f,this.onRemove=l,this.reset()}reset(){for(const f in this.data)for(const l of this.data[f])l.timeout&&clearTimeout(l.timeout),this.onRemove(l.value);return this.data={},this.order=[],this}add(f,l,h){const _=f.wrapped().key;this.data[_]===void 0&&(this.data[_]=[]);const w={value:l,timeout:void 0};if(h!==void 0&&(w.timeout=setTimeout((()=>{this.remove(f,w)}),h)),this.data[_].push(w),this.order.push(_),this.order.length>this.max){const T=this._getAndRemoveByKey(this.order[0]);T&&this.onRemove(T)}return this}has(f){return f.wrapped().key in this.data}getAndRemove(f){return this.has(f)?this._getAndRemoveByKey(f.wrapped().key):null}_getAndRemoveByKey(f){const l=this.data[f].shift();return l.timeout&&clearTimeout(l.timeout),this.data[f].length===0&&delete this.data[f],this.order.splice(this.order.indexOf(f),1),l.value}getByKey(f){const l=this.data[f];return l?l[0].value:null}get(f){return this.has(f)?this.data[f.wrapped().key][0].value:null}remove(f,l){if(!this.has(f))return this;const h=f.wrapped().key,_=l===void 0?0:this.data[h].indexOf(l),w=this.data[h][_];return this.data[h].splice(_,1),w.timeout&&clearTimeout(w.timeout),this.data[h].length===0&&delete this.data[h],this.onRemove(w.value),this.order.splice(this.order.indexOf(h),1),this}setMaxSize(f){for(this.max=f;this.order.length>this.max;){const l=this._getAndRemoveByKey(this.order[0]);l&&this.onRemove(l)}return this}filter(f){const l=[];for(const h in this.data)for(const _ of this.data[h])f(_.value)||l.push(_);for(const h of l)this.remove(h.value.tileID,h)}},a.ay=function(f,l){let h=0,_=0;if(f.kind==="constant")_=f.layoutSize;else if(f.kind!=="source"){const{interpolationType:w,minZoom:T,maxZoom:k}=f,D=w?ct(ua.interpolationFactor(w,l,T,k),0,1):0;f.kind==="camera"?_=Ni.number(f.minSize,f.maxSize,D):h=D}return{uSizeT:h,uSize:_}},a.b=Rn,a.b$=ec,a.b0=re,a.b1=function(f){var l=new N(3);return l[0]=f[0],l[1]=f[1],l[2]=f[2],l},a.b2=function(f,l,h){return f[0]=l[0]-h[0],f[1]=l[1]-h[1],f[2]=l[2]-h[2],f},a.b3=function(f,l){var h=l[0],_=l[1],w=l[2],T=h*h+_*_+w*w;return T>0&&(T=1/Math.sqrt(T)),f[0]=l[0]*T,f[1]=l[1]*T,f[2]=l[2]*T,f},a.b4=be,a.b5=function(f,l){return f[0]*l[0]+f[1]*l[1]+f[2]*l[2]},a.b6=function(f,l,h){return f[0]=l[0]*h[0],f[1]=l[1]*h[1],f[2]=l[2]*h[2],f[3]=l[3]*h[3],f},a.b7=W,a.b8=function(f,l,h){const _=l[0]*h[0]+l[1]*h[1]+l[2]*h[2];return _===0?null:(-(f[0]*h[0]+f[1]*h[1]+f[2]*h[2])-h[3])/_},a.b9=me,a.bA=function(f,l,h,_){return f[0]=l[0]+h[0]*_,f[1]=l[1]+h[1]*_,f[2]=l[2]+h[2]*_,f},a.bB=_e,a.bC=function(f,l,h){var _=h[0],w=h[1],T=h[2],k=h[3],D=l[0],B=l[1],Z=l[2],X=w*Z-T*B,ee=T*D-_*Z,oe=_*B-w*D;return f[0]=D+k*(X+=X)+w*(oe+=oe)-T*(ee+=ee),f[1]=B+k*ee+T*X-_*oe,f[2]=Z+k*oe+_*ee-w*X,f},a.bD=function(f,l,h){const _=(function(B){var Z=B[3],X=B[4],ee=B[5],oe=B[6],le=B[7],fe=B[8];return B[0]*(fe*X-ee*le)+B[1]*(-fe*Z+ee*oe)+B[2]*(le*Z-X*oe)})([f[0],f[1],f[2],l[0],l[1],l[2],h[0],h[1],h[2]]);if(_===0)return null;const w=be([],[l[0],l[1],l[2]],[h[0],h[1],h[2]]),T=be([],[h[0],h[1],h[2]],[f[0],f[1],f[2]]),k=be([],[f[0],f[1],f[2]],[l[0],l[1],l[2]]),D=ce([],w,-f[3]);return re(D,D,ce([],T,-l[3])),re(D,D,ce([],k,-h[3])),ce(D,D,1/_),D},a.bE=Xb,a.bF=function(){return new Float64Array(4)},a.bG=function(f,l,h,_){var w=[],T=[];return w[0]=l[0]-h[0],w[1]=l[1]-h[1],w[2]=l[2]-h[2],T[0]=w[0]*Math.cos(_)-w[1]*Math.sin(_),T[1]=w[0]*Math.sin(_)+w[1]*Math.cos(_),T[2]=w[2],f[0]=T[0]+h[0],f[1]=T[1]+h[1],f[2]=T[2]+h[2],f},a.bH=function(f,l,h,_){var w=[],T=[];return w[0]=l[0]-h[0],w[1]=l[1]-h[1],w[2]=l[2]-h[2],T[0]=w[0],T[1]=w[1]*Math.cos(_)-w[2]*Math.sin(_),T[2]=w[1]*Math.sin(_)+w[2]*Math.cos(_),f[0]=T[0]+h[0],f[1]=T[1]+h[1],f[2]=T[2]+h[2],f},a.bI=function(f,l,h,_){var w=[],T=[];return w[0]=l[0]-h[0],w[1]=l[1]-h[1],w[2]=l[2]-h[2],T[0]=w[2]*Math.sin(_)+w[0]*Math.cos(_),T[1]=w[1],T[2]=w[2]*Math.cos(_)-w[0]*Math.sin(_),f[0]=T[0]+h[0],f[1]=T[1]+h[1],f[2]=T[2]+h[2],f},a.bJ=function(f,l,h){var _=Math.sin(h),w=Math.cos(h),T=l[0],k=l[1],D=l[2],B=l[3],Z=l[8],X=l[9],ee=l[10],oe=l[11];return l!==f&&(f[4]=l[4],f[5]=l[5],f[6]=l[6],f[7]=l[7],f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15]),f[0]=T*w-Z*_,f[1]=k*w-X*_,f[2]=D*w-ee*_,f[3]=B*w-oe*_,f[8]=T*_+Z*w,f[9]=k*_+X*w,f[10]=D*_+ee*w,f[11]=B*_+oe*w,f},a.bK=function(f,l){const h=Pe(f,360),_=Pe(l,360),w=_-h,T=_>h?w-360:w+360;return Math.abs(w)<Math.abs(T)?w:T},a.bL=function(f){return f[0]=0,f[1]=0,f[2]=0,f},a.bM=function(f,l,h,_){const w=Math.sqrt(f*f+l*l),T=Math.sqrt(h*h+_*_);f/=w,l/=w,h/=T,_/=T;const k=Math.acos(f*h+l*_);return-l*h+f*_>0?k:-k},a.bN=function(f,l){const h=Pe(f,2*Math.PI),_=Pe(l,2*Math.PI);return Math.min(Math.abs(h-_),Math.abs(h-_+2*Math.PI),Math.abs(h-_-2*Math.PI))},a.bO=function(){const f={},l=ut.$version;for(const h in ut.$root){const _=ut.$root[h];if(_.required){let w=null;w=h==="version"?l:_.type==="array"?[]:{},w!=null&&(f[h]=w)}}return f},a.bP=at,a.bQ=jy,a.bR=function f(l,h){if(Array.isArray(l)){if(!Array.isArray(h)||l.length!==h.length)return!1;for(let _=0;_<l.length;_++)if(!f(l[_],h[_]))return!1;return!0}if(typeof l=="object"&&l!==null&&h!==null){if(typeof h!="object"||Object.keys(l).length!==Object.keys(h).length)return!1;for(const _ in l)if(!f(l[_],h[_]))return!1;return!0}return l===h},a.bS=function(f){f=f.slice();const l=Object.create(null);for(let h=0;h<f.length;h++)l[f[h].id]=f[h];for(let h=0;h<f.length;h++)"ref"in f[h]&&(f[h]=ro(f[h],l[f[h].ref]));return f},a.bT=function(f,l){if(f.type==="custom")return new BS(f,l);switch(f.type){case"background":return new Nr(f,l);case"circle":return new Ob(f,l);case"color-relief":return new dE(f,l);case"fill":return new yE(f,l);case"fill-extrusion":return new CS(f,l);case"heatmap":return new uE(f,l);case"hillshade":return new ho(f,l);case"line":return new kS(f,l);case"raster":return new Cu(f,l);case"symbol":return new _p(f,l)}},a.bU=f=>f.type==="raster",a.bV=Ot,a.bW=function(f,l){if(!f)return[{command:"setStyle",args:[l]}];let h=[];try{if(!Jn(f.version,l.version))return[{command:"setStyle",args:[l]}];Jn(f.center,l.center)||h.push({command:"setCenter",args:[l.center]}),Jn(f.state,l.state)||h.push({command:"setGlobalState",args:[l.state]}),Jn(f.centerAltitude,l.centerAltitude)||h.push({command:"setCenterAltitude",args:[l.centerAltitude]}),Jn(f.zoom,l.zoom)||h.push({command:"setZoom",args:[l.zoom]}),Jn(f.bearing,l.bearing)||h.push({command:"setBearing",args:[l.bearing]}),Jn(f.pitch,l.pitch)||h.push({command:"setPitch",args:[l.pitch]}),Jn(f.roll,l.roll)||h.push({command:"setRoll",args:[l.roll]}),Jn(f.sprite,l.sprite)||h.push({command:"setSprite",args:[l.sprite]}),Jn(f.glyphs,l.glyphs)||h.push({command:"setGlyphs",args:[l.glyphs]}),Jn(f.transition,l.transition)||h.push({command:"setTransition",args:[l.transition]}),Jn(f.light,l.light)||h.push({command:"setLight",args:[l.light]}),Jn(f.terrain,l.terrain)||h.push({command:"setTerrain",args:[l.terrain]}),Jn(f.sky,l.sky)||h.push({command:"setSky",args:[l.sky]}),Jn(f.projection,l.projection)||h.push({command:"setProjection",args:[l.projection]});const _={},w=[];(function(k,D,B,Z){let X;for(X in D=D||{},k=k||{})Object.prototype.hasOwnProperty.call(k,X)&&(Object.prototype.hasOwnProperty.call(D,X)||ri(X,B,Z));for(X in D)Object.prototype.hasOwnProperty.call(D,X)&&(Object.prototype.hasOwnProperty.call(k,X)?Jn(k[X],D[X])||(k[X].type==="geojson"&&D[X].type==="geojson"&&ui(k,D,X)?En(B,{command:"setGeoJSONSourceData",args:[X,D[X].data]}):io(X,D,B,Z)):vi(X,D,B))})(f.sources,l.sources,w,_);const T=[];f.layers&&f.layers.forEach((k=>{"source"in k&&_[k.source]?h.push({command:"removeLayer",args:[k.id]}):T.push(k)})),h=h.concat(w),(function(k,D,B){D=D||[];const Z=(k=k||[]).map(jf),X=D.map(jf),ee=k.reduce(vd,{}),oe=D.reduce(vd,{}),le=Z.slice(),fe=Object.create(null);let ge,ve,Te,Ve,Ee;for(let Re=0,qe=0;Re<Z.length;Re++)ge=Z[Re],Object.prototype.hasOwnProperty.call(oe,ge)?qe++:(En(B,{command:"removeLayer",args:[ge]}),le.splice(le.indexOf(ge,qe),1));for(let Re=0,qe=0;Re<X.length;Re++)ge=X[X.length-1-Re],le[le.length-1-Re]!==ge&&(Object.prototype.hasOwnProperty.call(ee,ge)?(En(B,{command:"removeLayer",args:[ge]}),le.splice(le.lastIndexOf(ge,le.length-qe),1)):qe++,Ve=le[le.length-Re],En(B,{command:"addLayer",args:[oe[ge],Ve]}),le.splice(le.length-Re,0,ge),fe[ge]=!0);for(let Re=0;Re<X.length;Re++)if(ge=X[Re],ve=ee[ge],Te=oe[ge],!fe[ge]&&!Jn(ve,Te))if(Jn(ve.source,Te.source)&&Jn(ve["source-layer"],Te["source-layer"])&&Jn(ve.type,Te.type)){for(Ee in Io(ve.layout,Te.layout,B,ge,null,"setLayoutProperty"),Io(ve.paint,Te.paint,B,ge,null,"setPaintProperty"),Jn(ve.filter,Te.filter)||En(B,{command:"setFilter",args:[ge,Te.filter]}),Jn(ve.minzoom,Te.minzoom)&&Jn(ve.maxzoom,Te.maxzoom)||En(B,{command:"setLayerZoomRange",args:[ge,Te.minzoom,Te.maxzoom]}),ve)Object.prototype.hasOwnProperty.call(ve,Ee)&&Ee!=="layout"&&Ee!=="paint"&&Ee!=="filter"&&Ee!=="metadata"&&Ee!=="minzoom"&&Ee!=="maxzoom"&&(Ee.indexOf("paint.")===0?Io(ve[Ee],Te[Ee],B,ge,Ee.slice(6),"setPaintProperty"):Jn(ve[Ee],Te[Ee])||En(B,{command:"setLayerProperty",args:[ge,Ee,Te[Ee]]}));for(Ee in Te)Object.prototype.hasOwnProperty.call(Te,Ee)&&!Object.prototype.hasOwnProperty.call(ve,Ee)&&Ee!=="layout"&&Ee!=="paint"&&Ee!=="filter"&&Ee!=="metadata"&&Ee!=="minzoom"&&Ee!=="maxzoom"&&(Ee.indexOf("paint.")===0?Io(ve[Ee],Te[Ee],B,ge,Ee.slice(6),"setPaintProperty"):Jn(ve[Ee],Te[Ee])||En(B,{command:"setLayerProperty",args:[ge,Ee,Te[Ee]]}))}else En(B,{command:"removeLayer",args:[ge]}),Ve=le[le.lastIndexOf(ge)+1],En(B,{command:"addLayer",args:[Te,Ve]})})(T,l.layers,h)}catch(_){console.warn("Unable to compute style diff:",_),h=[{command:"setStyle",args:[l]}]}return h},a.bX=function(f){const l=[],h=f.id;return h===void 0&&l.push({message:`layers.${h}: missing required property "id"`}),f.render===void 0&&l.push({message:`layers.${h}: missing required method "render"`}),f.renderingMode&&f.renderingMode!=="2d"&&f.renderingMode!=="3d"&&l.push({message:`layers.${h}: property "renderingMode" must be either "2d" or "3d"`}),l},a.bY=Tt,a.bZ=Wt,a.b_=class extends Oa{constructor(f,l){super(f,l),this.current=0}set(f){this.current!==f&&(this.current=f,this.gl.uniform1i(this.location,f))}},a.ba=function(f,l,h){return f[0]=l[0]*h,f[1]=l[1]*h,f[2]=l[2]*h,f[3]=l[3]*h,f},a.bb=function(f,l){return f[0]*l[0]+f[1]*l[1]+f[2]*l[2]+f[3]},a.bc=jE,a.bd=l0,a.be=function(f,l,h,_,w){var T=1/Math.tan(l/2);if(f[0]=T/h,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=T,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=-1,f[12]=0,f[13]=0,f[15]=0,w!=null&&w!==1/0){var k=1/(_-w);f[10]=(w+_)*k,f[14]=2*w*_*k}else f[10]=-1,f[14]=-2*_;return f},a.bf=function(f){var l=new N(16);return l[0]=f[0],l[1]=f[1],l[2]=f[2],l[3]=f[3],l[4]=f[4],l[5]=f[5],l[6]=f[6],l[7]=f[7],l[8]=f[8],l[9]=f[9],l[10]=f[10],l[11]=f[11],l[12]=f[12],l[13]=f[13],l[14]=f[14],l[15]=f[15],l},a.bg=function(f,l,h){var _=Math.sin(h),w=Math.cos(h),T=l[0],k=l[1],D=l[2],B=l[3],Z=l[4],X=l[5],ee=l[6],oe=l[7];return l!==f&&(f[8]=l[8],f[9]=l[9],f[10]=l[10],f[11]=l[11],f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15]),f[0]=T*w+Z*_,f[1]=k*w+X*_,f[2]=D*w+ee*_,f[3]=B*w+oe*_,f[4]=Z*w-T*_,f[5]=X*w-k*_,f[6]=ee*w-D*_,f[7]=oe*w-B*_,f},a.bh=function(f,l,h){var _=Math.sin(h),w=Math.cos(h),T=l[4],k=l[5],D=l[6],B=l[7],Z=l[8],X=l[9],ee=l[10],oe=l[11];return l!==f&&(f[0]=l[0],f[1]=l[1],f[2]=l[2],f[3]=l[3],f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15]),f[4]=T*w+Z*_,f[5]=k*w+X*_,f[6]=D*w+ee*_,f[7]=B*w+oe*_,f[8]=Z*w-T*_,f[9]=X*w-k*_,f[10]=ee*w-D*_,f[11]=oe*w-B*_,f},a.bi=function(){const f=new Float32Array(16);return U(f),f},a.bj=function(){const f=new Float64Array(16);return U(f),f},a.bk=function(){return new Float64Array(16)},a.bl=function(f,l,h){const _=new Float64Array(4);return _e(_,f,l-90,h),_},a.bm=function(f,l,h,_){var w,T,k,D,B,Z=l[0],X=l[1],ee=l[2],oe=l[3],le=h[0],fe=h[1],ge=h[2],ve=h[3];return(T=Z*le+X*fe+ee*ge+oe*ve)<0&&(T=-T,le=-le,fe=-fe,ge=-ge,ve=-ve),1-T>$?(w=Math.acos(T),k=Math.sin(w),D=Math.sin((1-_)*w)/k,B=Math.sin(_*w)/k):(D=1-_,B=_),f[0]=D*Z+B*le,f[1]=D*X+B*fe,f[2]=D*ee+B*ge,f[3]=D*oe+B*ve,f},a.bn=function(f){const l=new Float64Array(9);(function(T,k){var D=k[0],B=k[1],Z=k[2],X=k[3],ee=D+D,oe=B+B,le=Z+Z,fe=D*ee,ge=B*ee,ve=B*oe,Te=Z*ee,Ve=Z*oe,Ee=Z*le,Re=X*ee,qe=X*oe,Ge=X*le;T[0]=1-ve-Ee,T[3]=ge-Ge,T[6]=Te+qe,T[1]=ge+Ge,T[4]=1-fe-Ee,T[7]=Ve-Re,T[2]=Te-qe,T[5]=Ve+Re,T[8]=1-fe-ve})(l,f);const h=Vt(-Math.asin(ct(l[2],-1,1)));let _,w;return Math.hypot(l[5],l[8])<.001?(_=0,w=-Vt(Math.atan2(l[3],l[4]))):(_=Vt(l[5]===0&&l[8]===0?0:Math.atan2(l[5],l[8])),w=Vt(l[1]===0&&l[0]===0?0:Math.atan2(l[1],l[0]))),{roll:_,pitch:h+90,bearing:w}},a.bo=function(f,l){return f.roll==l.roll&&f.pitch==l.pitch&&f.bearing==l.bearing},a.bp=ur,a.bq=Ud,a.br=Sl,a.bs=Pu,a.bt=ks,a.bu=Xe,a.bv=ke,a.bw=Ko,a.bx=function(f,l,h,_,w){return Xe(_,w,ct((f-l)/(h-l),0,1))},a.by=Pe,a.bz=function(){return new Float64Array(3)},a.c=ze,a.c$=function(f,l,h,_,w){return s(this,void 0,void 0,(function*(){if(L())try{return yield Vn(f,l,h,_,w)}catch{}return(function(T,k,D,B,Z){const X=T.width,ee=T.height;Qe&&Ye||(Qe=new OffscreenCanvas(X,ee),Ye=Qe.getContext("2d",{willReadFrequently:!0})),Qe.width=X,Qe.height=ee,Ye.drawImage(T,0,0,X,ee);const oe=Ye.getImageData(k,D,B,Z);return Ye.clearRect(0,0,X,ee),oe.data})(f,l,h,_,w)}))},a.c0=class extends Oa{constructor(f,l){super(f,l),this.current=Sa}set(f){if(f[12]!==this.current[12]||f[0]!==this.current[0])return this.current=f,void this.gl.uniformMatrix4fv(this.location,!1,f);for(let l=1;l<16;l++)if(f[l]!==this.current[l]){this.current=f,this.gl.uniformMatrix4fv(this.location,!1,f);break}}},a.c1=fp,a.c2=class extends Oa{constructor(f,l){super(f,l),this.current=[0,0,0]}set(f){f[0]===this.current[0]&&f[1]===this.current[1]&&f[2]===this.current[2]||(this.current=f,this.gl.uniform3f(this.location,f[0],f[1],f[2]))}},a.c3=class extends Oa{constructor(f,l){super(f,l),this.current=[0,0]}set(f){f[0]===this.current[0]&&f[1]===this.current[1]||(this.current=f,this.gl.uniform2f(this.location,f[0],f[1]))}},a.c4=F,a.c5=function(f,l){var h=Math.sin(l),_=Math.cos(l);return f[0]=_,f[1]=h,f[2]=0,f[3]=-h,f[4]=_,f[5]=0,f[6]=0,f[7]=0,f[8]=1,f},a.c6=function(f,l,h){var _=l[0],w=l[1],T=l[2];return f[0]=_*h[0]+w*h[3]+T*h[6],f[1]=_*h[1]+w*h[4]+T*h[7],f[2]=_*h[2]+w*h[5]+T*h[8],f},a.c7=function(f,l,h,_,w,T,k){var D=1/(l-h),B=1/(_-w),Z=1/(T-k);return f[0]=-2*D,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=-2*B,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=2*Z,f[11]=0,f[12]=(l+h)*D,f[13]=(w+_)*B,f[14]=(k+T)*Z,f[15]=1,f},a.c8=class extends Oa{constructor(f,l){super(f,l),this.current=new Array}set(f){if(f!=this.current){this.current=f;const l=new Float32Array(4*f.length);for(let h=0;h<f.length;h++)l[4*h]=f[h].r,l[4*h+1]=f[h].g,l[4*h+2]=f[h].b,l[4*h+3]=f[h].a;this.gl.uniform4fv(this.location,l)}}},a.c9=class extends Oa{constructor(f,l){super(f,l),this.current=new Array}set(f){if(f!=this.current){this.current=f;const l=new Float32Array(f);this.gl.uniform1fv(this.location,l)}}},a.cA=function(f,l){return Oe[l]&&"touches"in f},a.cB=function(f){return Oe[f]||se[f]},a.cC=function(f,l,h){var _=l[0],w=l[1];return f[0]=h[0]*_+h[4]*w+h[12],f[1]=h[1]*_+h[5]*w+h[13],f},a.cD=function(f,l){const{x:h,y:_}=si.fromLngLat(l);return!(f<0||f>25||_<0||_>=1||h<0||h>=1)},a.cE=function(f,l){return f[0]=l[0],f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=l[1],f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=l[2],f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,f},a.cF=class extends Fd{},a.cG=Xhe,a.cI=Ke,a.cJ=function(f,l){ze.REGISTERED_PROTOCOLS[f]=l},a.cK=function(f){delete ze.REGISTERED_PROTOCOLS[f]},a.cL=function(f,l){const h={};for(let w=0;w<f.length;w++){const T=l&&l[f[w].id]||vu(f[w]);l&&(l[f[w].id]=T);let k=h[T];k||(k=h[T]=[]),k.push(f[w])}const _=[];for(const w in h)_.push(h[w]);return _},a.cM=yn,a.cN=US,a.cO=c2,a.cP=jb,a.cQ=function(f){f.bucket.createArrays(),f.bucket.tilePixelRatio=Ue/(512*f.bucket.overscaling),f.bucket.compareText={},f.bucket.iconsNeedLinear=!1;const l=f.bucket.layers[0],h=l.layout,_=l._unevaluatedLayout._values,w={layoutIconSize:_["icon-size"].possiblyEvaluate(new Kr(f.bucket.zoom+1),f.canonical),layoutTextSize:_["text-size"].possiblyEvaluate(new Kr(f.bucket.zoom+1),f.canonical),textMaxSize:_["text-size"].possiblyEvaluate(new Kr(18))};if(f.bucket.textSizeData.kind==="composite"){const{minZoom:Z,maxZoom:X}=f.bucket.textSizeData;w.compositeTextSizes=[_["text-size"].possiblyEvaluate(new Kr(Z),f.canonical),_["text-size"].possiblyEvaluate(new Kr(X),f.canonical)]}if(f.bucket.iconSizeData.kind==="composite"){const{minZoom:Z,maxZoom:X}=f.bucket.iconSizeData;w.compositeIconSizes=[_["icon-size"].possiblyEvaluate(new Kr(Z),f.canonical),_["icon-size"].possiblyEvaluate(new Kr(X),f.canonical)]}const T=h.get("text-line-height")*ts,k=h.get("text-rotation-alignment")!=="viewport"&&h.get("symbol-placement")!=="point",D=h.get("text-keep-upright"),B=h.get("text-size");for(const Z of f.bucket.features){const X=h.get("text-font").evaluate(Z,{},f.canonical).join(","),ee=B.evaluate(Z,{},f.canonical),oe=w.layoutTextSize.evaluate(Z,{},f.canonical),le=w.layoutIconSize.evaluate(Z,{},f.canonical),fe={horizontal:{},vertical:void 0},ge=Z.text;let ve,Te=[0,0];if(ge){const Re=ge.toString(),qe=h.get("text-letter-spacing").evaluate(Z,{},f.canonical)*ts,Ge=Vy(Re)?qe:0,dt=h.get("text-anchor").evaluate(Z,{},f.canonical),Lt=of(l,Z,f.canonical);if(!Lt){const Zt=h.get("text-radial-offset").evaluate(Z,{},f.canonical);Te=Zt?ei(dt,[Zt*ts,Lr]):h.get("text-offset").evaluate(Z,{},f.canonical).map((Rt=>Rt*ts))}let Et=k?"center":h.get("text-justify").evaluate(Z,{},f.canonical);const Ft=h.get("symbol-placement")==="point"?h.get("text-max-width").evaluate(Z,{},f.canonical)*ts:1/0,un=()=>{f.bucket.allowVerticalPlacement&&zc(Re)&&(fe.vertical=t_(ge,f.glyphMap,f.glyphPositions,f.imagePositions,X,Ft,T,dt,"left",Ge,Te,a.az.vertical,!0,oe,ee))};if(!k&&Lt){const Zt=new Set;if(Et==="auto")for(let xt=0;xt<Lt.values.length;xt+=2)Zt.add(u2(Lt.values[xt]));else Zt.add(Et);let Rt=!1;for(const xt of Zt)if(!fe.horizontal[xt])if(Rt)fe.horizontal[xt]=fe.horizontal[0];else{const bn=t_(ge,f.glyphMap,f.glyphPositions,f.imagePositions,X,Ft,T,"center",xt,Ge,Te,a.az.horizontal,!1,oe,ee);bn&&(fe.horizontal[xt]=bn,Rt=bn.positionedLines.length===1)}un()}else{Et==="auto"&&(Et=u2(dt));const Zt=t_(ge,f.glyphMap,f.glyphPositions,f.imagePositions,X,Ft,T,dt,Et,Ge,Te,a.az.horizontal,!1,oe,ee);Zt&&(fe.horizontal[Et]=Zt),un(),zc(Re)&&k&&D&&(fe.vertical=t_(ge,f.glyphMap,f.glyphPositions,f.imagePositions,X,Ft,T,dt,Et,Ge,Te,a.az.vertical,!1,oe,ee))}}let Ve=!1;if(Z.icon&&Z.icon.name){const Re=f.imageMap[Z.icon.name];Re&&(ve=DS(f.imagePositions[Z.icon.name],h.get("icon-offset").evaluate(Z,{},f.canonical),h.get("icon-anchor").evaluate(Z,{},f.canonical)),Ve=!!Re.sdf,f.bucket.sdfIcons===void 0?f.bucket.sdfIcons=Ve:f.bucket.sdfIcons!==Ve&&Gt("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Re.pixelRatio!==f.bucket.pixelRatio||h.get("icon-rotate").constantOr(1)!==0)&&(f.bucket.iconsNeedLinear=!0))}const Ee=h7(fe.horizontal)||fe.vertical;f.bucket.iconsInText=!!Ee&&Ee.iconsInText,(Ee||ve)&&Hhe(f.bucket,Z,fe,ve,f.imageMap,w,oe,le,Te,Ve,f.canonical,f.subdivisionGranularity)}f.showCollisionBoxes&&f.bucket.generateCollisionDebugBuffers()},a.cR=dg,a.cS=mp,a.cT=Jy,a.cU=function(f){const l=new Nb;return(function(h,_){for(const w in h.layers)_.writeMessage(3,u1,h.layers[w])})(f,l),l.finish()},a.cV=function(f,l,h,_,w,T){let k=y(f,l,h,w,0);return k=y(k,l,_,T,1),k},a.cW=class{constructor(f){this.maxEntries=f,this.map=new Map}get(f){const l=this.map.get(f);return l!==void 0&&(this.map.delete(f),this.map.set(f,l)),l}set(f,l){if(this.map.has(f))this.map.delete(f);else if(this.map.size>=this.maxEntries){const h=this.map.keys().next().value;this.map.delete(h)}this.map.set(f,l)}clear(){this.map.clear()}},a.cX=zr,a.cY=Nb,a.cZ=x_,a.c_=class{constructor(f){this._marks={start:[f.url,"start"].join("#"),end:[f.url,"end"].join("#"),measure:f.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let f=performance.getEntriesByName(this._marks.measure);return f.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),f=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),f}},a.ca=class extends ku{},a.cb=wE,a.cc=class extends Fi{},a.cd=Fv,a.ce=function(f){return f<=1?1:Math.pow(2,Math.ceil(Math.log(f)/Math.LN2))},a.cf=zh,a.cg=function(f,l,h){var _=l[0],w=l[1],T=l[2],k=h[3]*_+h[7]*w+h[11]*T+h[15];return f[0]=(h[0]*_+h[4]*w+h[8]*T+h[12])/(k=k||1),f[1]=(h[1]*_+h[5]*w+h[9]*T+h[13])/k,f[2]=(h[2]*_+h[6]*w+h[10]*T+h[14])/k,f},a.ch=class extends jd{},a.ci=class extends c{},a.cj=function(f,l){return f[0]===l[0]&&f[1]===l[1]&&f[2]===l[2]&&f[3]===l[3]&&f[4]===l[4]&&f[5]===l[5]&&f[6]===l[6]&&f[7]===l[7]&&f[8]===l[8]&&f[9]===l[9]&&f[10]===l[10]&&f[11]===l[11]&&f[12]===l[12]&&f[13]===l[13]&&f[14]===l[14]&&f[15]===l[15]},a.ck=function(f,l){var h=f[0],_=f[1],w=f[2],T=f[3],k=f[4],D=f[5],B=f[6],Z=f[7],X=f[8],ee=f[9],oe=f[10],le=f[11],fe=f[12],ge=f[13],ve=f[14],Te=f[15],Ve=l[0],Ee=l[1],Re=l[2],qe=l[3],Ge=l[4],dt=l[5],Lt=l[6],Et=l[7],Ft=l[8],un=l[9],Zt=l[10],Rt=l[11],xt=l[12],bn=l[13],vn=l[14],On=l[15];return Math.abs(h-Ve)<=$*Math.max(1,Math.abs(h),Math.abs(Ve))&&Math.abs(_-Ee)<=$*Math.max(1,Math.abs(_),Math.abs(Ee))&&Math.abs(w-Re)<=$*Math.max(1,Math.abs(w),Math.abs(Re))&&Math.abs(T-qe)<=$*Math.max(1,Math.abs(T),Math.abs(qe))&&Math.abs(k-Ge)<=$*Math.max(1,Math.abs(k),Math.abs(Ge))&&Math.abs(D-dt)<=$*Math.max(1,Math.abs(D),Math.abs(dt))&&Math.abs(B-Lt)<=$*Math.max(1,Math.abs(B),Math.abs(Lt))&&Math.abs(Z-Et)<=$*Math.max(1,Math.abs(Z),Math.abs(Et))&&Math.abs(X-Ft)<=$*Math.max(1,Math.abs(X),Math.abs(Ft))&&Math.abs(ee-un)<=$*Math.max(1,Math.abs(ee),Math.abs(un))&&Math.abs(oe-Zt)<=$*Math.max(1,Math.abs(oe),Math.abs(Zt))&&Math.abs(le-Rt)<=$*Math.max(1,Math.abs(le),Math.abs(Rt))&&Math.abs(fe-xt)<=$*Math.max(1,Math.abs(fe),Math.abs(xt))&&Math.abs(ge-bn)<=$*Math.max(1,Math.abs(ge),Math.abs(bn))&&Math.abs(ve-vn)<=$*Math.max(1,Math.abs(ve),Math.abs(vn))&&Math.abs(Te-On)<=$*Math.max(1,Math.abs(Te),Math.abs(On))},a.cl=function(f,l){return f[0]=l[0],f[1]=l[1],f[2]=l[2],f[3]=l[3],f[4]=l[4],f[5]=l[5],f[6]=l[6],f[7]=l[7],f[8]=l[8],f[9]=l[9],f[10]=l[10],f[11]=l[11],f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15],f},a.cm=f=>f.type==="symbol",a.cn=f=>f.type==="circle",a.co=f=>f.type==="heatmap",a.cp=f=>f.type==="line",a.cq=f=>f.type==="fill",a.cr=f=>f.type==="fill-extrusion",a.cs=f=>f.type==="hillshade",a.ct=f=>f.type==="color-relief",a.cu=f=>f.type==="background",a.cv=f=>f.type==="custom",a.cw=mt,a.cx=function(f,l,h){const _=Be(l.x-h.x,l.y-h.y),w=Be(f.x-h.x,f.y-h.y),T=Math.atan2(_[0]*w[1]-_[1]*w[0],(function(k,D){return k[0]*D[0]+k[1]*D[1]})(_,w));return Vt(T)},a.cy=gt,a.cz=function(f,l){return se[l]&&(f instanceof MouseEvent||f instanceof WheelEvent)},a.d=st,a.d0=Gy,a.d1=d,a.d2=class{constructor(f,l){this.layers={[b_]:this},this.name=b_,this.version=l?l.version:1,this.extent=l?l.extent:4096,this.length=f.length,this.features=f}feature(f){return new eA(this.features[f],this.extent)}},a.d3=rp,a.d4=vl,a.e=vt,a.f=f=>s(void 0,void 0,void 0,(function*(){if(f.byteLength===0)return createImageBitmap(new ImageData(1,1));const l=new Blob([new Uint8Array(f)],{type:"image/png"});try{return createImageBitmap(l)}catch(h){throw new Error(`Could not load image because of ${h.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}})),a.g=rt,a.h=f=>new Promise(((l,h)=>{const _=new Image;_.onload=()=>{l(_),URL.revokeObjectURL(_.src),_.onload=null,window.requestAnimationFrame((()=>{_.src=Fn}))},_.onerror=()=>h(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const w=new Blob([new Uint8Array(f)],{type:"image/png"});_.src=f.byteLength?URL.createObjectURL(w):Fn})),a.i=Cn,a.j=(f,l)=>St(vt(f,{type:"json"}),l),a.k=Ar,a.l=Nn,a.m=St,a.n=(f,l)=>St(vt(f,{type:"arrayBuffer"}),l),a.o=function(f){return new Nb(f).readFields(ME,[])},a.p=MS,a.q=function(f){return/[\u02EA\u02EB\u1100-\u11FF\u2E80-\u2FDF\u3000-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFE10-\uFE1F\uFE30-\uFE4F\uFF00-\uFFEF]|\uD81B[\uDFE0-\uDFFF]|[\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFFF]|\uD82C[\uDC00-\uDEFB]|\uD83C[\uDE00-\uDEFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]/gim.test(String.fromCodePoint(f))},a.r=Bv,a.s=bt,a.t=wo,a.u=ut,a.v=Xm,a.w=Gt,a.x=Uy,a.y=Wl,a.z=Su})),i("worker",["./shared"],(function(a){class s{constructor(se,K){this.keyCache={},se&&this.replace(se,K)}replace(se,K){this._layerConfigs={},this._layers={},this.update(se,[],K)}update(se,K,xe){for(const ze of se){this._layerConfigs[ze.id]=ze;const rt=this._layers[ze.id]=a.bT(ze,xe);rt._featureFilter=a.aj(rt.filter,xe),this.keyCache[ze.id]&&delete this.keyCache[ze.id]}for(const ze of K)delete this.keyCache[ze],delete this._layerConfigs[ze],delete this._layers[ze];this.familiesBySource={};const $e=a.cL(Object.values(this._layerConfigs),this.keyCache);for(const ze of $e){const rt=ze.map((zt=>this._layers[zt.id])),tt=rt[0];if(tt.isHidden())continue;const Ke=tt.source||"";let at=this.familiesBySource[Ke];at||(at=this.familiesBySource[Ke]={});const St=tt.sourceLayer||a.ai;let st=at[St];st||(st=at[St]=[]),st.push(rt)}}}class u{constructor(se){const K={},xe=[];for(const tt in se){const Ke=se[tt],at=K[tt]={};for(const St in Ke){const st=Ke[+St];if(!st||st.bitmap.width===0||st.bitmap.height===0)continue;const zt={x:0,y:0,w:st.bitmap.width+2,h:st.bitmap.height+2};xe.push(zt),at[St]={rect:zt,metrics:st.metrics}}}const{w:$e,h:ze}=a.p(xe),rt=new a.r({width:$e||1,height:ze||1});for(const tt in se){const Ke=se[tt];for(const at in Ke){const St=Ke[+at];if(!St||St.bitmap.width===0||St.bitmap.height===0)continue;const st=K[tt][at].rect;a.r.copy(St.bitmap,rt,{x:0,y:0},{x:st.x+1,y:st.y+1},St.bitmap)}}this.image=rt,this.positions=K}}a.cM("GlyphAtlas",u);class d{constructor(se){this.tileID=new a.a2(se.tileID.overscaledZ,se.tileID.wrap,se.tileID.canonical.z,se.tileID.canonical.x,se.tileID.canonical.y),this.uid=se.uid,this.zoom=se.zoom,this.pixelRatio=se.pixelRatio,this.tileSize=se.tileSize,this.source=se.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=se.showCollisionBoxes,this.collectResourceTiming=!!se.collectResourceTiming,this.returnDependencies=!!se.returnDependencies,this.promoteId=se.promoteId,this.inFlightDependencies=[]}parse(se,K,xe,$e,ze){return a._(this,void 0,void 0,(function*(){this.status="parsing",this.data=se,this.collisionBoxArray=new a.ag;const rt=new a.cN(Object.keys(se.layers).sort()),tt=new a.cO(this.tileID,this.promoteId);tt.bucketLayerIDs=[];const Ke={},at={featureIndex:tt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},dashDependencies:{},availableImages:xe,subdivisionGranularity:ze},St=K.familiesBySource[this.source];for(const ui in St){const Io=se.layers[ui];if(!Io)continue;Io.version===1&&a.w(`Vector tile source "${this.source}" layer "${ui}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const jf=rt.encode(ui),vd=[];for(let Kt=0;Kt<Io.length;Kt++){const $s=Io.feature(Kt),zs=tt.getId($s,ui);vd.push({feature:$s,id:zs,index:Kt,sourceLayerIndex:jf})}for(const Kt of St[ui]){const $s=Kt[0];$s.source!==this.source&&a.w(`layer.source = ${$s.source} does not equal this.source = ${this.source}`),$s.isHidden(this.zoom,!0)||(g(Kt,this.zoom,xe),(Ke[$s.id]=$s.createBucket({index:tt.bucketLayerIDs.length,layers:Kt,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:jf,sourceID:this.source})).populate(vd,at,this.tileID.canonical),tt.bucketLayerIDs.push(Kt.map((zs=>zs.id))))}}const st=a.bY(at.glyphDependencies,(ui=>Object.keys(ui).map(Number)));this.inFlightDependencies.forEach((ui=>ui?.abort())),this.inFlightDependencies=[];let zt=Promise.resolve({});if(Object.keys(st).length){const ui=new AbortController;this.inFlightDependencies.push(ui),zt=$e.sendAsync({type:"GG",data:{stacks:st,source:this.source,tileID:this.tileID,type:"glyphs"}},ui)}const ln=Object.keys(at.iconDependencies);let Nn=Promise.resolve({});if(ln.length){const ui=new AbortController;this.inFlightDependencies.push(ui),Nn=$e.sendAsync({type:"GI",data:{icons:ln,source:this.source,tileID:this.tileID,type:"icons"}},ui)}const Ar=Object.keys(at.patternDependencies);let kr=Promise.resolve({});if(Ar.length){const ui=new AbortController;this.inFlightDependencies.push(ui),kr=$e.sendAsync({type:"GI",data:{icons:Ar,source:this.source,tileID:this.tileID,type:"patterns"}},ui)}const ut=at.dashDependencies;let qr=Promise.resolve({});if(Object.keys(ut).length){const ui=new AbortController;this.inFlightDependencies.push(ui),qr=$e.sendAsync({type:"GDA",data:{dashes:ut}},ui)}const[ro,Jn,En,vi]=yield Promise.all([zt,Nn,kr,qr]),ri=new u(ro),io=new a.cP(Jn,En);for(const ui in Ke){const Io=Ke[ui];Io instanceof a.ah?(g(Io.layers,this.zoom,xe),a.cQ({bucket:Io,glyphMap:ro,glyphPositions:ri.positions,imageMap:Jn,imagePositions:io.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical,subdivisionGranularity:at.subdivisionGranularity})):Io.hasDependencies&&(Io instanceof a.cR||Io instanceof a.cS||Io instanceof a.cT)&&(g(Io.layers,this.zoom,xe),Io.addFeatures(at,this.tileID.canonical,io.patternPositions,vi))}return this.status="done",{buckets:Object.values(Ke).filter((ui=>!ui.isEmpty())),featureIndex:tt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:ri.image,imageAtlas:io,dashPositions:vi,glyphMap:this.returnDependencies?ro:null,iconMap:this.returnDependencies?Jn:null,glyphPositions:this.returnDependencies?ri.positions:null}}))}}function g(Oe,se,K){const xe=new a.H(se);for(const $e of Oe)$e.recalculate(xe,K)}class v{constructor(se,K,xe,$e,ze){this.type=se,this.properties=xe||{},this.extent=ze,this.pointsArray=K,this.id=$e}loadGeometry(){return this.pointsArray.map((se=>se.map((K=>new a.P(K.x,K.y)))))}}class x{constructor(se,K,xe){this.version=2,this._myFeatures=se,this.name=K,this.length=se.length,this.extent=xe}feature(se){return this._myFeatures[se]}}class O{constructor(){this.layers={}}addLayer(se){this.layers[se.name]=se}}function E(Oe){let se=a.cU(Oe);return se.byteOffset===0&&se.byteLength===se.buffer.byteLength||(se=new Uint8Array(se)),{vectorTile:Oe,rawData:se.buffer}}function A(Oe,se,K){const{extent:xe}=Oe,$e=Math.pow(2,K.z-se.z),ze=(K.x-se.x*$e)*xe,rt=(K.y-se.y*$e)*xe,tt=[];for(let Ke=0;Ke<Oe.length;Ke++){const at=Oe.feature(Ke);let St=at.loadGeometry();for(const zt of St)for(const ln of zt)ln.x=ln.x*$e-ze,ln.y=ln.y*$e-rt;const st=128;St=a.cV(St,at.type,-st,-st,xe+st,xe+st),St.length!==0&&tt.push(new v(at.type,St,at.properties,at.id,xe))}return new x(tt,Oe.name,xe)}class M{constructor(se,K,xe){this.actor=se,this.layerIndex=K,this.availableImages=xe,this.fetching={},this.loading={},this.loaded={},this.overzoomedTileResultCache=new a.cW(1e3)}loadVectorTile(se,K){return a._(this,void 0,void 0,(function*(){const xe=yield a.n(se.request,K);try{return{vectorTile:se.encoding!=="mlt"?new a.cX(new a.cY(xe.data)):new a.cZ(xe.data),rawData:xe.data,cacheControl:xe.cacheControl,expires:xe.expires}}catch($e){const ze=new Uint8Array(xe.data);let rt=`Unable to parse the tile at ${se.request.url}, `;throw rt+=ze[0]===31&&ze[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${$e.message}`,new Error(rt)}}))}loadTile(se){return a._(this,void 0,void 0,(function*(){const{uid:K,overzoomParameters:xe}=se;xe&&(se.request=xe.overzoomRequest);const $e=!!(se&&se.request&&se.request.collectResourceTiming)&&new a.c_(se.request),ze=new d(se);this.loading[K]=ze;const rt=new AbortController;ze.abort=rt;try{const tt=yield this.loadVectorTile(se,rt);if(delete this.loading[K],!tt)return null;if(xe){const zt=this._getOverzoomTile(se,tt.vectorTile);tt.rawData=zt.rawData,tt.vectorTile=zt.vectorTile}const Ke=tt.rawData,at={};tt.expires&&(at.expires=tt.expires),tt.cacheControl&&(at.cacheControl=tt.cacheControl);const St={};if($e){const zt=$e.finish();zt&&(St.resourceTiming=JSON.parse(JSON.stringify(zt)))}ze.vectorTile=tt.vectorTile;const st=ze.parse(tt.vectorTile,this.layerIndex,this.availableImages,this.actor,se.subdivisionGranularity);this.loaded[K]=ze,this.fetching[K]={rawTileData:Ke,cacheControl:at,resourceTiming:St};try{const zt=yield st;return a.e({rawTileData:Ke.slice(0),encoding:se.encoding},zt,at,St)}finally{delete this.fetching[K]}}catch(tt){throw delete this.loading[K],ze.status="done",this.loaded[K]=ze,tt}}))}_getOverzoomTile(se,K){const{tileID:xe,source:$e,overzoomParameters:ze}=se,{maxZoomTileID:rt}=ze,tt=`${rt.key}_${xe.key}`,Ke=this.overzoomedTileResultCache.get(tt);if(Ke)return Ke;const at=new O,St=this.layerIndex.familiesBySource[$e];for(const zt in St){const ln=K.layers[zt];if(!ln)continue;const Nn=A(ln,rt,xe.canonical);Nn.length>0&&at.addLayer(Nn)}const st=E(at);return this.overzoomedTileResultCache.set(tt,st),st}reloadTile(se){return a._(this,void 0,void 0,(function*(){const K=se.uid;if(!this.loaded||!this.loaded[K])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const xe=this.loaded[K];if(xe.showCollisionBoxes=se.showCollisionBoxes,xe.status==="parsing"){const $e=yield xe.parse(xe.vectorTile,this.layerIndex,this.availableImages,this.actor,se.subdivisionGranularity);let ze;if(this.fetching[K]){const{rawTileData:rt,cacheControl:tt,resourceTiming:Ke}=this.fetching[K];delete this.fetching[K],ze=a.e({rawTileData:rt.slice(0),encoding:se.encoding},$e,tt,Ke)}else ze=$e;return ze}if(xe.status==="done"&&xe.vectorTile)return xe.parse(xe.vectorTile,this.layerIndex,this.availableImages,this.actor,se.subdivisionGranularity)}))}abortTile(se){return a._(this,void 0,void 0,(function*(){const K=this.loading,xe=se.uid;K&&K[xe]&&K[xe].abort&&(K[xe].abort.abort(),delete K[xe])}))}removeTile(se){return a._(this,void 0,void 0,(function*(){this.loaded&&this.loaded[se.uid]&&delete this.loaded[se.uid]}))}}class L{constructor(){this.loaded={}}loadTile(se){return a._(this,void 0,void 0,(function*(){const{uid:K,encoding:xe,rawImageData:$e,redFactor:ze,greenFactor:rt,blueFactor:tt,baseShift:Ke}=se,at=$e.width+2,St=$e.height+2,st=a.b($e)?new a.R({width:at,height:St},yield a.c$($e,-1,-1,at,St)):$e,zt=new a.d0(K,st,xe,ze,rt,tt,Ke);return this.loaded=this.loaded||{},this.loaded[K]=zt,zt}))}removeTile(se){const K=this.loaded,xe=se.uid;K&&K[xe]&&delete K[xe]}}var $,N,F=(function(){if(N)return $;function Oe(K,xe){if(K.length!==0){se(K[0],xe);for(var $e=1;$e<K.length;$e++)se(K[$e],!xe)}}function se(K,xe){for(var $e=0,ze=0,rt=0,tt=K.length,Ke=tt-1;rt<tt;Ke=rt++){var at=(K[rt][0]-K[Ke][0])*(K[Ke][1]+K[rt][1]),St=$e+at;ze+=Math.abs($e)>=Math.abs(at)?$e-St+at:at-St+$e,$e=St}$e+ze>=0!=!!xe&&K.reverse()}return N=1,$=function K(xe,$e){var ze,rt=xe&&xe.type;if(rt==="FeatureCollection")for(ze=0;ze<xe.features.length;ze++)K(xe.features[ze],$e);else if(rt==="GeometryCollection")for(ze=0;ze<xe.geometries.length;ze++)K(xe.geometries[ze],$e);else if(rt==="Feature")K(xe.geometry,$e);else if(rt==="Polygon")Oe(xe.coordinates,$e);else if(rt==="MultiPolygon")for(ze=0;ze<xe.coordinates.length;ze++)Oe(xe.coordinates[ze],$e);return xe}})(),U=a.d1(F);const q={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Oe=>Oe},W=Math.fround||(te=new Float32Array(1),Oe=>(te[0]=+Oe,te[0]));var te;class re{constructor(se){this.options=Object.assign(Object.create(q),se),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(se){const{log:K,minZoom:xe,maxZoom:$e}=this.options;K&&console.time("total time");const ze=`prepare ${se.length} points`;K&&console.time(ze),this.points=se;const rt=[];for(let Ke=0;Ke<se.length;Ke++){const at=se[Ke];if(!at.geometry)continue;const[St,st]=at.geometry.coordinates,zt=W(ie(St)),ln=W(me(st));rt.push(zt,ln,1/0,Ke,-1,1),this.options.reduce&&rt.push(0)}let tt=this.trees[$e+1]=this._createTree(rt);K&&console.timeEnd(ze);for(let Ke=$e;Ke>=xe;Ke--){const at=+Date.now();tt=this.trees[Ke]=this._createTree(this._cluster(tt,Ke)),K&&console.log("z%d: %d clusters in %dms",Ke,tt.numItems,+Date.now()-at)}return K&&console.timeEnd("total time"),this}getClusters(se,K){let xe=((se[0]+180)%360+360)%360-180;const $e=Math.max(-90,Math.min(90,se[1]));let ze=se[2]===180?180:((se[2]+180)%360+360)%360-180;const rt=Math.max(-90,Math.min(90,se[3]));if(se[2]-se[0]>=360)xe=-180,ze=180;else if(xe>ze){const st=this.getClusters([xe,$e,180,rt],K),zt=this.getClusters([-180,$e,ze,rt],K);return st.concat(zt)}const tt=this.trees[this._limitZoom(K)],Ke=tt.range(ie(xe),me(rt),ie(ze),me($e)),at=tt.data,St=[];for(const st of Ke){const zt=this.stride*st;St.push(at[zt+5]>1?ce(at,zt,this.clusterProps):this.points[at[zt+3]])}return St}getChildren(se){const K=this._getOriginId(se),xe=this._getOriginZoom(se),$e="No cluster with the specified id.",ze=this.trees[xe];if(!ze)throw new Error($e);const rt=ze.data;if(K*this.stride>=rt.length)throw new Error($e);const tt=this.options.radius/(this.options.extent*Math.pow(2,xe-1)),Ke=ze.within(rt[K*this.stride],rt[K*this.stride+1],tt),at=[];for(const St of Ke){const st=St*this.stride;rt[st+4]===se&&at.push(rt[st+5]>1?ce(rt,st,this.clusterProps):this.points[rt[st+3]])}if(at.length===0)throw new Error($e);return at}getLeaves(se,K,xe){const $e=[];return this._appendLeaves($e,se,K=K||10,xe=xe||0,0),$e}getTile(se,K,xe){const $e=this.trees[this._limitZoom(se)],ze=Math.pow(2,se),{extent:rt,radius:tt}=this.options,Ke=tt/rt,at=(xe-Ke)/ze,St=(xe+1+Ke)/ze,st={features:[]};return this._addTileFeatures($e.range((K-Ke)/ze,at,(K+1+Ke)/ze,St),$e.data,K,xe,ze,st),K===0&&this._addTileFeatures($e.range(1-Ke/ze,at,1,St),$e.data,ze,xe,ze,st),K===ze-1&&this._addTileFeatures($e.range(0,at,Ke/ze,St),$e.data,-1,xe,ze,st),st.features.length?st:null}getClusterExpansionZoom(se){let K=this._getOriginZoom(se)-1;for(;K<=this.options.maxZoom;){const xe=this.getChildren(se);if(K++,xe.length!==1)break;se=xe[0].properties.cluster_id}return K}_appendLeaves(se,K,xe,$e,ze){const rt=this.getChildren(K);for(const tt of rt){const Ke=tt.properties;if(Ke&&Ke.cluster?ze+Ke.point_count<=$e?ze+=Ke.point_count:ze=this._appendLeaves(se,Ke.cluster_id,xe,$e,ze):ze<$e?ze++:se.push(tt),se.length===xe)break}return ze}_createTree(se){const K=new a.aT(se.length/this.stride|0,this.options.nodeSize,Float32Array);for(let xe=0;xe<se.length;xe+=this.stride)K.add(se[xe],se[xe+1]);return K.finish(),K.data=se,K}_addTileFeatures(se,K,xe,$e,ze,rt){for(const tt of se){const Ke=tt*this.stride,at=K[Ke+5]>1;let St,st,zt;if(at)St=be(K,Ke,this.clusterProps),st=K[Ke],zt=K[Ke+1];else{const Ar=this.points[K[Ke+3]];St=Ar.properties;const[kr,ut]=Ar.geometry.coordinates;st=ie(kr),zt=me(ut)}const ln={type:1,geometry:[[Math.round(this.options.extent*(st*ze-xe)),Math.round(this.options.extent*(zt*ze-$e))]],tags:St};let Nn;Nn=at||this.options.generateId?K[Ke+3]:this.points[K[Ke+3]].id,Nn!==void 0&&(ln.id=Nn),rt.features.push(ln)}}_limitZoom(se){return Math.max(this.options.minZoom,Math.min(Math.floor(+se),this.options.maxZoom+1))}_cluster(se,K){const{radius:xe,extent:$e,reduce:ze,minPoints:rt}=this.options,tt=xe/($e*Math.pow(2,K)),Ke=se.data,at=[],St=this.stride;for(let st=0;st<Ke.length;st+=St){if(Ke[st+2]<=K)continue;Ke[st+2]=K;const zt=Ke[st],ln=Ke[st+1],Nn=se.within(Ke[st],Ke[st+1],tt),Ar=Ke[st+5];let kr=Ar;for(const ut of Nn){const qr=ut*St;Ke[qr+2]>K&&(kr+=Ke[qr+5])}if(kr>Ar&&kr>=rt){let ut,qr=zt*Ar,ro=ln*Ar,Jn=-1;const En=(st/St<<5)+(K+1)+this.points.length;for(const vi of Nn){const ri=vi*St;if(Ke[ri+2]<=K)continue;Ke[ri+2]=K;const io=Ke[ri+5];qr+=Ke[ri]*io,ro+=Ke[ri+1]*io,Ke[ri+4]=En,ze&&(ut||(ut=this._map(Ke,st,!0),Jn=this.clusterProps.length,this.clusterProps.push(ut)),ze(ut,this._map(Ke,ri)))}Ke[st+4]=En,at.push(qr/kr,ro/kr,1/0,En,-1,kr),ze&&at.push(Jn)}else{for(let ut=0;ut<St;ut++)at.push(Ke[st+ut]);if(kr>1)for(const ut of Nn){const qr=ut*St;if(!(Ke[qr+2]<=K)){Ke[qr+2]=K;for(let ro=0;ro<St;ro++)at.push(Ke[qr+ro])}}}}return at}_getOriginId(se){return se-this.points.length>>5}_getOriginZoom(se){return(se-this.points.length)%32}_map(se,K,xe){if(se[K+5]>1){const rt=this.clusterProps[se[K+6]];return xe?Object.assign({},rt):rt}const $e=this.points[se[K+3]].properties,ze=this.options.map($e);return xe&&ze===$e?Object.assign({},ze):ze}}function ce(Oe,se,K){return{type:"Feature",id:Oe[se+3],properties:be(Oe,se,K),geometry:{type:"Point",coordinates:[(xe=Oe[se],360*(xe-.5)),we(Oe[se+1])]}};var xe}function be(Oe,se,K){const xe=Oe[se+5],$e=xe>=1e4?`${Math.round(xe/1e3)}k`:xe>=1e3?Math.round(xe/100)/10+"k":xe,ze=Oe[se+6],rt=ze===-1?{}:Object.assign({},K[ze]);return Object.assign(rt,{cluster:!0,cluster_id:Oe[se+3],point_count:xe,point_count_abbreviated:$e})}function ie(Oe){return Oe/360+.5}function me(Oe){const se=Math.sin(Oe*Math.PI/180),K=.5-.25*Math.log((1+se)/(1-se))/Math.PI;return K<0?0:K>1?1:K}function we(Oe){const se=(180-360*Oe)*Math.PI/180;return 360*Math.atan(Math.exp(se))/Math.PI-90}function pe(Oe,se,K,xe){let $e=xe;const ze=se+(K-se>>1);let rt,tt=K-se;const Ke=Oe[se],at=Oe[se+1],St=Oe[K],st=Oe[K+1];for(let zt=se+3;zt<K;zt+=3){const ln=_e(Oe[zt],Oe[zt+1],Ke,at,St,st);if(ln>$e)rt=zt,$e=ln;else if(ln===$e){const Nn=Math.abs(zt-ze);Nn<tt&&(rt=zt,tt=Nn)}}$e>xe&&(rt-se>3&&pe(Oe,se,rt,xe),Oe[rt+2]=$e,K-rt>3&&pe(Oe,rt,K,xe))}function _e(Oe,se,K,xe,$e,ze){let rt=$e-K,tt=ze-xe;if(rt!==0||tt!==0){const Ke=((Oe-K)*rt+(se-xe)*tt)/(rt*rt+tt*tt);Ke>1?(K=$e,xe=ze):Ke>0&&(K+=rt*Ke,xe+=tt*Ke)}return rt=Oe-K,tt=se-xe,rt*rt+tt*tt}function Me(Oe,se,K,xe){const $e={id:Oe??null,type:se,geometry:K,tags:xe,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(se==="Point"||se==="MultiPoint"||se==="LineString")Be($e,K);else if(se==="Polygon")Be($e,K[0]);else if(se==="MultiLineString")for(const ze of K)Be($e,ze);else if(se==="MultiPolygon")for(const ze of K)Be($e,ze[0]);return $e}function Be(Oe,se){for(let K=0;K<se.length;K+=3)Oe.minX=Math.min(Oe.minX,se[K]),Oe.minY=Math.min(Oe.minY,se[K+1]),Oe.maxX=Math.max(Oe.maxX,se[K]),Oe.maxY=Math.max(Oe.maxY,se[K+1])}function Ue(Oe,se,K,xe){if(!se.geometry)return;const $e=se.geometry.coordinates;if($e&&$e.length===0)return;const ze=se.geometry.type,rt=Math.pow(K.tolerance/((1<<K.maxZoom)*K.extent),2);let tt=[],Ke=se.id;if(K.promoteId?Ke=se.properties[K.promoteId]:K.generateId&&(Ke=xe||0),ze==="Point")Ce($e,tt);else if(ze==="MultiPoint")for(const at of $e)Ce(at,tt);else if(ze==="LineString")Pe($e,tt,rt,!1);else if(ze==="MultiLineString"){if(K.lineMetrics){for(const at of $e)tt=[],Pe(at,tt,rt,!1),Oe.push(Me(Ke,"LineString",tt,se.properties));return}Xe($e,tt,rt,!1)}else if(ze==="Polygon")Xe($e,tt,rt,!0);else{if(ze!=="MultiPolygon"){if(ze==="GeometryCollection"){for(const at of se.geometry.geometries)Ue(Oe,{id:Ke,geometry:at,properties:se.properties},K,xe);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const at of $e){const St=[];Xe(at,St,rt,!0),tt.push(St)}}Oe.push(Me(Ke,ze,tt,se.properties))}function Ce(Oe,se){se.push(ke(Oe[0]),mt(Oe[1]),0)}function Pe(Oe,se,K,xe){let $e,ze,rt=0;for(let Ke=0;Ke<Oe.length;Ke++){const at=ke(Oe[Ke][0]),St=mt(Oe[Ke][1]);se.push(at,St,0),Ke>0&&(rt+=xe?($e*St-at*ze)/2:Math.sqrt(Math.pow(at-$e,2)+Math.pow(St-ze,2))),$e=at,ze=St}const tt=se.length-3;se[2]=1,pe(se,0,tt,K),se[tt+2]=1,se.size=Math.abs(rt),se.start=0,se.end=se.size}function Xe(Oe,se,K,xe){for(let $e=0;$e<Oe.length;$e++){const ze=[];Pe(Oe[$e],ze,K,xe),se.push(ze)}}function ke(Oe){return Oe/360+.5}function mt(Oe){const se=Math.sin(Oe*Math.PI/180),K=.5-.25*Math.log((1+se)/(1-se))/Math.PI;return K<0?0:K>1?1:K}function gt(Oe,se,K,xe,$e,ze,rt,tt){if(xe/=se,ze>=(K/=se)&&rt<xe)return Oe;if(rt<K||ze>=xe)return null;const Ke=[];for(const at of Oe){const St=at.geometry;let st=at.type;const zt=$e===0?at.minX:at.minY,ln=$e===0?at.maxX:at.maxY;if(zt>=K&&ln<xe){Ke.push(at);continue}if(ln<K||zt>=xe)continue;let Nn=[];if(st==="Point"||st==="MultiPoint")ct(St,Nn,K,xe,$e);else if(st==="LineString")ot(St,Nn,K,xe,$e,!1,tt.lineMetrics);else if(st==="MultiLineString")At(St,Nn,K,xe,$e,!1);else if(st==="Polygon")At(St,Nn,K,xe,$e,!0);else if(st==="MultiPolygon")for(const Ar of St){const kr=[];At(Ar,kr,K,xe,$e,!0),kr.length&&Nn.push(kr)}if(Nn.length){if(tt.lineMetrics&&st==="LineString"){for(const Ar of Nn)Ke.push(Me(at.id,st,Ar,at.tags));continue}st!=="LineString"&&st!=="MultiLineString"||(Nn.length===1?(st="LineString",Nn=Nn[0]):st="MultiLineString"),st!=="Point"&&st!=="MultiPoint"||(st=Nn.length===3?"Point":"MultiPoint"),Ke.push(Me(at.id,st,Nn,at.tags))}}return Ke.length?Ke:null}function ct(Oe,se,K,xe,$e){for(let ze=0;ze<Oe.length;ze+=3){const rt=Oe[ze+$e];rt>=K&&rt<=xe&&Tt(se,Oe[ze],Oe[ze+1],Oe[ze+2])}}function ot(Oe,se,K,xe,$e,ze,rt){let tt=vt(Oe);const Ke=$e===0?Wt:Ot;let at,St,st=Oe.start;for(let kr=0;kr<Oe.length-3;kr+=3){const ut=Oe[kr],qr=Oe[kr+1],ro=Oe[kr+2],Jn=Oe[kr+3],En=Oe[kr+4],vi=$e===0?ut:qr,ri=$e===0?Jn:En;let io=!1;rt&&(at=Math.sqrt(Math.pow(ut-Jn,2)+Math.pow(qr-En,2))),vi<K?ri>K&&(St=Ke(tt,ut,qr,Jn,En,K),rt&&(tt.start=st+at*St)):vi>xe?ri<xe&&(St=Ke(tt,ut,qr,Jn,En,xe),rt&&(tt.start=st+at*St)):Tt(tt,ut,qr,ro),ri<K&&vi>=K&&(St=Ke(tt,ut,qr,Jn,En,K),io=!0),ri>xe&&vi<=xe&&(St=Ke(tt,ut,qr,Jn,En,xe),io=!0),!ze&&io&&(rt&&(tt.end=st+at*St),se.push(tt),tt=vt(Oe)),rt&&(st+=at)}let zt=Oe.length-3;const ln=Oe[zt],Nn=Oe[zt+1],Ar=$e===0?ln:Nn;Ar>=K&&Ar<=xe&&Tt(tt,ln,Nn,Oe[zt+2]),zt=tt.length-3,ze&&zt>=3&&(tt[zt]!==tt[0]||tt[zt+1]!==tt[1])&&Tt(tt,tt[0],tt[1],tt[2]),tt.length&&se.push(tt)}function vt(Oe){const se=[];return se.size=Oe.size,se.start=Oe.start,se.end=Oe.end,se}function At(Oe,se,K,xe,$e,ze){for(const rt of Oe)ot(rt,se,K,xe,$e,ze,!1)}function Tt(Oe,se,K,xe){Oe.push(se,K,xe)}function Wt(Oe,se,K,xe,$e,ze){const rt=(ze-se)/(xe-se);return Tt(Oe,ze,K+($e-K)*rt,1),rt}function Ot(Oe,se,K,xe,$e,ze){const rt=(ze-K)/($e-K);return Tt(Oe,se+(xe-se)*rt,ze,1),rt}function hn(Oe,se){const K=[];for(let xe=0;xe<Oe.length;xe++){const $e=Oe[xe],ze=$e.type;let rt;if(ze==="Point"||ze==="MultiPoint"||ze==="LineString")rt=Gt($e.geometry,se);else if(ze==="MultiLineString"||ze==="Polygon"){rt=[];for(const tt of $e.geometry)rt.push(Gt(tt,se))}else if(ze==="MultiPolygon"){rt=[];for(const tt of $e.geometry){const Ke=[];for(const at of tt)Ke.push(Gt(at,se));rt.push(Ke)}}K.push(Me($e.id,ze,rt,$e.tags))}return K}function Gt(Oe,se){const K=[];K.size=Oe.size,Oe.start!==void 0&&(K.start=Oe.start,K.end=Oe.end);for(let xe=0;xe<Oe.length;xe+=3)K.push(Oe[xe]+se,Oe[xe+1],Oe[xe+2]);return K}function Yt(Oe,se){if(Oe.transformed)return Oe;const K=1<<Oe.z,xe=Oe.x,$e=Oe.y;for(const ze of Oe.features){const rt=ze.geometry,tt=ze.type;if(ze.geometry=[],tt===1)for(let Ke=0;Ke<rt.length;Ke+=2)ze.geometry.push(Cn(rt[Ke],rt[Ke+1],se,K,xe,$e));else for(let Ke=0;Ke<rt.length;Ke++){const at=[];for(let St=0;St<rt[Ke].length;St+=2)at.push(Cn(rt[Ke][St],rt[Ke][St+1],se,K,xe,$e));ze.geometry.push(at)}}return Oe.transformed=!0,Oe}function Cn(Oe,se,K,xe,$e,ze){return[Math.round(K*(Oe*xe-$e)),Math.round(K*(se*xe-ze))]}function sn(Oe,se,K,xe,$e){const ze=se===$e.maxZoom?0:$e.tolerance/((1<<se)*$e.extent),rt={features:[],numPoints:0,numSimplified:0,numFeatures:Oe.length,source:null,x:K,y:xe,z:se,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const tt of Oe)Rn(rt,tt,ze,$e);return rt}function Rn(Oe,se,K,xe){const $e=se.geometry,ze=se.type,rt=[];if(Oe.minX=Math.min(Oe.minX,se.minX),Oe.minY=Math.min(Oe.minY,se.minY),Oe.maxX=Math.max(Oe.maxX,se.maxX),Oe.maxY=Math.max(Oe.maxY,se.maxY),ze==="Point"||ze==="MultiPoint")for(let tt=0;tt<$e.length;tt+=3)rt.push($e[tt],$e[tt+1]),Oe.numPoints++,Oe.numSimplified++;else if(ze==="LineString")Fn(rt,$e,Oe,K,!1,!1);else if(ze==="MultiLineString"||ze==="Polygon")for(let tt=0;tt<$e.length;tt++)Fn(rt,$e[tt],Oe,K,ze==="Polygon",tt===0);else if(ze==="MultiPolygon")for(let tt=0;tt<$e.length;tt++){const Ke=$e[tt];for(let at=0;at<Ke.length;at++)Fn(rt,Ke[at],Oe,K,!0,at===0)}if(rt.length){let tt=se.tags||null;if(ze==="LineString"&&xe.lineMetrics){tt={};for(const at in se.tags)tt[at]=se.tags[at];tt.mapbox_clip_start=$e.start/$e.size,tt.mapbox_clip_end=$e.end/$e.size}const Ke={geometry:rt,type:ze==="Polygon"||ze==="MultiPolygon"?3:ze==="LineString"||ze==="MultiLineString"?2:1,tags:tt};se.id!==null&&(Ke.id=se.id),Oe.features.push(Ke)}}function Fn(Oe,se,K,xe,$e,ze){const rt=xe*xe;if(xe>0&&se.size<($e?rt:xe))return void(K.numPoints+=se.length/3);const tt=[];for(let Ke=0;Ke<se.length;Ke+=3)(xe===0||se[Ke+2]>rt)&&(K.numSimplified++,tt.push(se[Ke],se[Ke+1])),K.numPoints++;$e&&(function(Ke,at){let St=0;for(let st=0,zt=Ke.length,ln=zt-2;st<zt;ln=st,st+=2)St+=(Ke[st]-Ke[ln])*(Ke[st+1]+Ke[ln+1]);if(St>0===at)for(let st=0,zt=Ke.length;st<zt/2;st+=2){const ln=Ke[st],Nn=Ke[st+1];Ke[st]=Ke[zt-2-st],Ke[st+1]=Ke[zt-1-st],Ke[zt-2-st]=ln,Ke[zt-1-st]=Nn}})(tt,ze),Oe.push(tt)}const Vn={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class Qe{constructor(se,K){const xe=(K=this.options=(function(ze,rt){for(const tt in rt)ze[tt]=rt[tt];return ze})(Object.create(Vn),K)).debug;if(xe&&console.time("preprocess data"),K.maxZoom<0||K.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(K.promoteId&&K.generateId)throw new Error("promoteId and generateId cannot be used together.");let $e=(function(ze,rt){const tt=[];if(ze.type==="FeatureCollection")for(let Ke=0;Ke<ze.features.length;Ke++)Ue(tt,ze.features[Ke],rt,Ke);else Ue(tt,ze.type==="Feature"?ze:{geometry:ze},rt);return tt})(se,K);this.tiles={},this.tileCoords=[],xe&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",K.indexMaxZoom,K.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),$e=(function(ze,rt){const tt=rt.buffer/rt.extent;let Ke=ze;const at=gt(ze,1,-1-tt,tt,0,-1,2,rt),St=gt(ze,1,1-tt,2+tt,0,-1,2,rt);return(at||St)&&(Ke=gt(ze,1,-tt,1+tt,0,-1,2,rt)||[],at&&(Ke=hn(at,1).concat(Ke)),St&&(Ke=Ke.concat(hn(St,-1)))),Ke})($e,K),$e.length&&this.splitTile($e,0,0,0),xe&&($e.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(se,K,xe,$e,ze,rt,tt){const Ke=[se,K,xe,$e],at=this.options,St=at.debug;for(;Ke.length;){$e=Ke.pop(),xe=Ke.pop(),K=Ke.pop(),se=Ke.pop();const st=1<<K,zt=Ye(K,xe,$e);let ln=this.tiles[zt];if(!ln&&(St>1&&console.time("creation"),ln=this.tiles[zt]=sn(se,K,xe,$e,at),this.tileCoords.push({z:K,x:xe,y:$e}),St)){St>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",K,xe,$e,ln.numFeatures,ln.numPoints,ln.numSimplified),console.timeEnd("creation"));const io=`z${K}`;this.stats[io]=(this.stats[io]||0)+1,this.total++}if(ln.source=se,ze==null){if(K===at.indexMaxZoom||ln.numPoints<=at.indexMaxPoints)continue}else{if(K===at.maxZoom||K===ze)continue;if(ze!=null){const io=ze-K;if(xe!==rt>>io||$e!==tt>>io)continue}}if(ln.source=null,se.length===0)continue;St>1&&console.time("clipping");const Nn=.5*at.buffer/at.extent,Ar=.5-Nn,kr=.5+Nn,ut=1+Nn;let qr=null,ro=null,Jn=null,En=null,vi=gt(se,st,xe-Nn,xe+kr,0,ln.minX,ln.maxX,at),ri=gt(se,st,xe+Ar,xe+ut,0,ln.minX,ln.maxX,at);se=null,vi&&(qr=gt(vi,st,$e-Nn,$e+kr,1,ln.minY,ln.maxY,at),ro=gt(vi,st,$e+Ar,$e+ut,1,ln.minY,ln.maxY,at),vi=null),ri&&(Jn=gt(ri,st,$e-Nn,$e+kr,1,ln.minY,ln.maxY,at),En=gt(ri,st,$e+Ar,$e+ut,1,ln.minY,ln.maxY,at),ri=null),St>1&&console.timeEnd("clipping"),Ke.push(qr||[],K+1,2*xe,2*$e),Ke.push(ro||[],K+1,2*xe,2*$e+1),Ke.push(Jn||[],K+1,2*xe+1,2*$e),Ke.push(En||[],K+1,2*xe+1,2*$e+1)}}getTile(se,K,xe){se=+se,K=+K,xe=+xe;const $e=this.options,{extent:ze,debug:rt}=$e;if(se<0||se>24)return null;const tt=1<<se,Ke=Ye(se,K=K+tt&tt-1,xe);if(this.tiles[Ke])return Yt(this.tiles[Ke],ze);rt>1&&console.log("drilling down to z%d-%d-%d",se,K,xe);let at,St=se,st=K,zt=xe;for(;!at&&St>0;)St--,st>>=1,zt>>=1,at=this.tiles[Ye(St,st,zt)];return at&&at.source?(rt>1&&(console.log("found parent tile z%d-%d-%d",St,st,zt),console.time("drilling down")),this.splitTile(at.source,St,st,zt,se,K,xe),rt>1&&console.timeEnd("drilling down"),this.tiles[Ke]?Yt(this.tiles[Ke],ze):null):null}}function Ye(Oe,se,K){return 32*((1<<Oe)*K+se)+Oe}class bt extends M{constructor(se,K,xe,$e=kt){super(se,K,xe),this._dataUpdateable=new Map,this._createGeoJSONIndex=$e}loadVectorTile(se,K){return a._(this,void 0,void 0,(function*(){const xe=se.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const $e=this._geoJSONIndex.getTile(xe.z,xe.x,xe.y);return $e?E(new a.d2($e.features,{version:2,extent:a.a5})):null}))}loadData(se){return a._(this,void 0,void 0,(function*(){var K;(K=this._pendingRequest)===null||K===void 0||K.abort();const xe=this._startPerformance(se);this._pendingRequest=new AbortController;try{(!this._pendingData||se.request||se.data||se.dataDiff)&&(this._pendingData=this.loadAndProcessGeoJSON(se,this._pendingRequest));const $e=yield this._pendingData;this._geoJSONIndex=this._createGeoJSONIndex($e,se),this.loaded={};const ze={};return se.request&&(ze.data=$e),this._finishPerformance(xe,se,ze),ze}catch($e){if(delete this._pendingRequest,a.Z($e))return{abandoned:!0};throw $e}}))}_startPerformance(se){var K;if(!((K=se?.request)===null||K===void 0)&&K.collectResourceTiming)return new a.c_(se.request)}_finishPerformance(se,K,xe){if(!se)return;const $e=se.finish();$e&&(xe.resourceTiming={},xe.resourceTiming[K.source]=JSON.parse(JSON.stringify($e)))}getData(){return a._(this,void 0,void 0,(function*(){return this._pendingData}))}reloadTile(se){const K=this.loaded;return K&&K[se.uid]?super.reloadTile(se):this.loadTile(se)}loadAndProcessGeoJSON(se,K){return a._(this,void 0,void 0,(function*(){let xe;if(se.request?xe=yield this.loadGeoJSONFromUrl(se.request,se.promoteId,K):se.data?xe=this._loadGeoJSONFromObject(se.data,se.promoteId):se.dataDiff&&(xe=this._loadGeoJSONFromDiff(se.dataDiff,se.promoteId,se.source)),delete this._pendingRequest,typeof xe!="object")throw new Error(`Input data given to '${se.source}' is not a valid GeoJSON object.`);return U(xe,!0),se.filter&&(xe=this._filterGeoJSON(xe,se.filter)),xe}))}loadGeoJSONFromUrl(se,K,xe){return a._(this,void 0,void 0,(function*(){const $e=yield a.j(se,xe);return this._dataUpdateable=a.a7($e.data,K),$e.data}))}_loadGeoJSONFromObject(se,K){return this._dataUpdateable=a.a7(se,K),se}_loadGeoJSONFromDiff(se,K,xe){if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${xe}`);a.a8(this._dataUpdateable,se,K);const $e=Array.from(this._dataUpdateable.values());return this._toFeatureCollection($e)}_filterGeoJSON(se,K){const xe=a.d3(K,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(xe.result==="error")throw new Error(xe.value.map((ze=>`${ze.key}: ${ze.message}`)).join(", "));const $e=se.features.filter((ze=>xe.value.evaluate({zoom:0},ze)));return this._toFeatureCollection($e)}_toFeatureCollection(se){return{type:"FeatureCollection",features:se}}removeSource(se){return a._(this,void 0,void 0,(function*(){this._pendingRequest&&this._pendingRequest.abort()}))}getClusterExpansionZoom(se){return this._geoJSONIndex.getClusterExpansionZoom(se.clusterId)}getClusterChildren(se){return this._geoJSONIndex.getChildren(se.clusterId)}getClusterLeaves(se){return this._geoJSONIndex.getLeaves(se.clusterId,se.limit,se.offset)}}function kt(Oe,se){return se.cluster?new re((function({superclusterOptions:K,clusterProperties:xe}){if(!xe||!K)return K;const $e={},ze={},rt={accumulated:null,zoom:0},tt={properties:null},Ke=Object.keys(xe);for(const at of Ke){const[St,st]=xe[at],zt=a.d3(st),ln=a.d3(typeof St=="string"?[St,["accumulated"],["get",at]]:St);$e[at]=zt.value,ze[at]=ln.value}return K.map=at=>{tt.properties=at;const St={};for(const st of Ke)St[st]=$e[st].evaluate(rt,tt);return St},K.reduce=(at,St)=>{tt.properties=St;for(const st of Ke)rt.accumulated=at[st],at[st]=ze[st].evaluate(rt,tt)},K})(se)).load(Oe.features):(function(K,xe){return new Qe(K,xe)})(Oe,se.geojsonVtOptions)}class Vt{constructor(se){this.self=se,this.actor=new a.L(se),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.globalStates=new Map,this.self.registerWorkerSource=(K,xe)=>{if(this.externalWorkerSourceTypes[K])throw new Error(`Worker source with name "${K}" already registered.`);this.externalWorkerSourceTypes[K]=xe},this.self.addProtocol=a.cJ,this.self.removeProtocol=a.cK,this.self.registerRTLTextPlugin=K=>{a.d4.setMethods(K)},this.actor.registerMessageHandler("LDT",((K,xe)=>this._getDEMWorkerSource(K,xe.source).loadTile(xe))),this.actor.registerMessageHandler("RDT",((K,xe)=>a._(this,void 0,void 0,(function*(){this._getDEMWorkerSource(K,xe.source).removeTile(xe)})))),this.actor.registerMessageHandler("GCEZ",((K,xe)=>a._(this,void 0,void 0,(function*(){return this._getWorkerSource(K,xe.type,xe.source).getClusterExpansionZoom(xe)})))),this.actor.registerMessageHandler("GCC",((K,xe)=>a._(this,void 0,void 0,(function*(){return this._getWorkerSource(K,xe.type,xe.source).getClusterChildren(xe)})))),this.actor.registerMessageHandler("GCL",((K,xe)=>a._(this,void 0,void 0,(function*(){return this._getWorkerSource(K,xe.type,xe.source).getClusterLeaves(xe)})))),this.actor.registerMessageHandler("LD",((K,xe)=>this._getWorkerSource(K,xe.type,xe.source).loadData(xe))),this.actor.registerMessageHandler("GD",((K,xe)=>this._getWorkerSource(K,xe.type,xe.source).getData())),this.actor.registerMessageHandler("LT",((K,xe)=>this._getWorkerSource(K,xe.type,xe.source).loadTile(xe))),this.actor.registerMessageHandler("RT",((K,xe)=>this._getWorkerSource(K,xe.type,xe.source).reloadTile(xe))),this.actor.registerMessageHandler("AT",((K,xe)=>this._getWorkerSource(K,xe.type,xe.source).abortTile(xe))),this.actor.registerMessageHandler("RMT",((K,xe)=>this._getWorkerSource(K,xe.type,xe.source).removeTile(xe))),this.actor.registerMessageHandler("RS",((K,xe)=>a._(this,void 0,void 0,(function*(){if(!this.workerSources[K]||!this.workerSources[K][xe.type]||!this.workerSources[K][xe.type][xe.source])return;const $e=this.workerSources[K][xe.type][xe.source];delete this.workerSources[K][xe.type][xe.source],$e.removeSource!==void 0&&$e.removeSource(xe)})))),this.actor.registerMessageHandler("RM",(K=>a._(this,void 0,void 0,(function*(){delete this.layerIndexes[K],delete this.availableImages[K],delete this.workerSources[K],delete this.demWorkerSources[K],this.globalStates.delete(K)})))),this.actor.registerMessageHandler("SR",((K,xe)=>a._(this,void 0,void 0,(function*(){this.referrer=xe})))),this.actor.registerMessageHandler("SRPS",((K,xe)=>this._syncRTLPluginState(K,xe))),this.actor.registerMessageHandler("IS",((K,xe)=>a._(this,void 0,void 0,(function*(){this.self.importScripts(xe)})))),this.actor.registerMessageHandler("SI",((K,xe)=>this._setImages(K,xe))),this.actor.registerMessageHandler("UL",((K,xe)=>a._(this,void 0,void 0,(function*(){this._getLayerIndex(K).update(xe.layers,xe.removedIds,this._getGlobalState(K))})))),this.actor.registerMessageHandler("UGS",((K,xe)=>a._(this,void 0,void 0,(function*(){const $e=this._getGlobalState(K);for(const ze in xe)$e[ze]=xe[ze]})))),this.actor.registerMessageHandler("SL",((K,xe)=>a._(this,void 0,void 0,(function*(){this._getLayerIndex(K).replace(xe,this._getGlobalState(K))}))))}_getGlobalState(se){let K=this.globalStates.get(se);return K||(K={},this.globalStates.set(se,K)),K}_setImages(se,K){return a._(this,void 0,void 0,(function*(){this.availableImages[se]=K;for(const xe in this.workerSources[se]){const $e=this.workerSources[se][xe];for(const ze in $e)$e[ze].availableImages=K}}))}_syncRTLPluginState(se,K){return a._(this,void 0,void 0,(function*(){return yield a.d4.syncState(K,this.self.importScripts)}))}_getAvailableImages(se){let K=this.availableImages[se];return K||(K=[]),K}_getLayerIndex(se){let K=this.layerIndexes[se];return K||(K=this.layerIndexes[se]=new s),K}_getWorkerSource(se,K,xe){if(this.workerSources[se]||(this.workerSources[se]={}),this.workerSources[se][K]||(this.workerSources[se][K]={}),!this.workerSources[se][K][xe]){const $e={sendAsync:(ze,rt)=>(ze.targetMapId=se,this.actor.sendAsync(ze,rt))};switch(K){case"vector":this.workerSources[se][K][xe]=new M($e,this._getLayerIndex(se),this._getAvailableImages(se));break;case"geojson":this.workerSources[se][K][xe]=new bt($e,this._getLayerIndex(se),this._getAvailableImages(se));break;default:this.workerSources[se][K][xe]=new this.externalWorkerSourceTypes[K]($e,this._getLayerIndex(se),this._getAvailableImages(se))}}return this.workerSources[se][K][xe]}_getDEMWorkerSource(se,K){return this.demWorkerSources[se]||(this.demWorkerSources[se]={}),this.demWorkerSources[se][K]||(this.demWorkerSources[se][K]=new L),this.demWorkerSources[se][K]}}return a.i(self)&&(self.worker=new Vt(self)),Vt})),i("index",["exports","./shared"],(function(a,s){var u="5.15.0";function d(){var P=new s.A(4);return s.A!=Float32Array&&(P[1]=0,P[2]=0),P[0]=1,P[3]=1,P}let g,v,x;const O={frame(P,c,m){const b=requestAnimationFrame((I=>{C(),c(I)})),{unsubscribe:C}=s.s(P.signal,"abort",(()=>{C(),cancelAnimationFrame(b),m(new s.a(P.signal.reason))}),!1)},frameAsync(P){return new Promise(((c,m)=>{this.frame(P,c,m)}))},getImageData(P,c=0){return this.getImageCanvasContext(P).getImageData(-c,-c,P.width+2*c,P.height+2*c)},getImageCanvasContext(P){const c=window.document.createElement("canvas"),m=c.getContext("2d",{willReadFrequently:!0});if(!m)throw new Error("failed to create canvas 2d context");return c.width=P.width,c.height=P.height,m.drawImage(P,0,0,P.width,P.height),m},resolveURL:P=>(g||(g=document.createElement("a")),g.href=P,g.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return x!==void 0?x:!!matchMedia&&(v==null&&(v=matchMedia("(prefers-reduced-motion: reduce)")),v.matches)},set prefersReducedMotion(P){x=P}},E=new class{constructor(){this._realTime=typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),this._frozenAt=null}getCurrentTime(){return this._frozenAt!==null?this._frozenAt:this._realTime()}setNow(P){this._frozenAt=P}restoreNow(){this._frozenAt=null}isFrozen(){return this._frozenAt!==null}};function A(){return E.getCurrentTime()}class M{static testProp(c){if(!M.docStyle)return c[0];for(let m=0;m<c.length;m++)if(c[m]in M.docStyle)return c[m];return c[0]}static create(c,m,b){const C=window.document.createElement(c);return m!==void 0&&(C.className=m),b&&b.appendChild(C),C}static createNS(c,m){return window.document.createElementNS(c,m)}static disableDrag(){M.docStyle&&M.selectProp&&(M.userSelect=M.docStyle[M.selectProp],M.docStyle[M.selectProp]="none")}static enableDrag(){M.docStyle&&M.selectProp&&(M.docStyle[M.selectProp]=M.userSelect)}static setTransform(c,m){c.style[M.transformProp]=m}static addEventListener(c,m,b,C={}){c.addEventListener(m,b,"passive"in C?C:C.capture)}static removeEventListener(c,m,b,C={}){c.removeEventListener(m,b,"passive"in C?C:C.capture)}static suppressClickInternal(c){c.preventDefault(),c.stopPropagation(),window.removeEventListener("click",M.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",M.suppressClickInternal,!0),window.setTimeout((()=>{window.removeEventListener("click",M.suppressClickInternal,!0)}),0)}static getScale(c){const m=c.getBoundingClientRect();return{x:m.width/c.offsetWidth||1,y:m.height/c.offsetHeight||1,boundingClientRect:m}}static getPoint(c,m,b){const C=m.boundingClientRect;return new s.P((b.clientX-C.left)/m.x-c.clientLeft,(b.clientY-C.top)/m.y-c.clientTop)}static mousePos(c,m){const b=M.getScale(c);return M.getPoint(c,b,m)}static touchPos(c,m){const b=[],C=M.getScale(c);for(let I=0;I<m.length;I++)b.push(M.getPoint(c,C,m[I]));return b}static mouseButton(c){return c.button}static remove(c){c.parentNode&&c.parentNode.removeChild(c)}static sanitize(c){const m=new DOMParser().parseFromString(c,"text/html").body||document.createElement("body"),b=m.querySelectorAll("script");for(const C of b)C.remove();return M.clean(m),m.innerHTML}static isPossiblyDangerous(c,m){const b=m.replace(/\s+/g,"").toLowerCase();return!(!["src","href","xlink:href"].includes(c)||!b.includes("javascript:")&&!b.includes("data:"))||!!c.startsWith("on")||void 0}static clean(c){const m=c.children;for(const b of m)M.removeAttributes(b),M.clean(b)}static removeAttributes(c){for(const{name:m,value:b}of c.attributes)M.isPossiblyDangerous(m,b)&&c.removeAttribute(m)}}M.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,M.selectProp=M.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),M.transformProp=M.testProp(["transform","WebkitTransform"]);const L={supported:!1,testSupport:function(P){!F&&N&&(U?q(P):$=P)}};let $,N,F=!1,U=!1;function q(P){const c=P.createTexture();P.bindTexture(P.TEXTURE_2D,c);try{if(P.texImage2D(P.TEXTURE_2D,0,P.RGBA,P.RGBA,P.UNSIGNED_BYTE,N),P.isContextLost())return;L.supported=!0}catch{}P.deleteTexture(c),F=!0}var W;typeof document<"u"&&(N=document.createElement("img"),N.onload=()=>{$&&q($),$=null,U=!0},N.onerror=()=>{F=!0,$=null},N.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),(function(P){let c,m,b,C;P.resetRequestQueue=()=>{c=[],m=0,b=0,C={}},P.addThrottleControl=H=>{const J=b++;return C[J]=H,J},P.removeThrottleControl=H=>{delete C[H],z()},P.getImage=(H,J,ne=!0)=>new Promise(((he,ue)=>{L.supported&&(H.headers||(H.headers={}),H.headers.accept="image/webp,*/*"),s.e(H,{type:"image"}),c.push({abortController:J,requestParameters:H,supportImageRefresh:ne,state:"queued",onError:ye=>{ue(ye)},onSuccess:ye=>{he(ye)}}),z()}));const I=H=>s._(this,void 0,void 0,(function*(){H.state="running";const{requestParameters:J,supportImageRefresh:ne,onError:he,onSuccess:ue,abortController:ye}=H,Se=ne===!1&&!s.i(self)&&!s.g(J.url)&&(!J.headers||Object.keys(J.headers).reduce(((De,je)=>De&&je==="accept"),!0));m++;const Ie=Se?V(J,ye):s.m(J,ye);try{const De=yield Ie;delete H.abortController,H.state="completed",De.data instanceof HTMLImageElement||s.b(De.data)?ue(De):De.data&&ue({data:yield(Le=De.data,typeof createImageBitmap=="function"?s.f(Le):s.h(Le)),cacheControl:De.cacheControl,expires:De.expires})}catch(De){delete H.abortController,he(De)}finally{m--,z()}var Le})),z=()=>{const H=(()=>{for(const J of Object.keys(C))if(C[J]())return!0;return!1})()?s.c.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:s.c.MAX_PARALLEL_IMAGE_REQUESTS;for(let J=m;J<H&&c.length>0;J++){const ne=c.shift();ne.abortController.signal.aborted?J--:I(ne)}},V=(H,J)=>new Promise(((ne,he)=>{const ue=new Image,ye=H.url,Se=H.credentials;Se&&Se==="include"?ue.crossOrigin="use-credentials":(Se&&Se==="same-origin"||!s.d(ye))&&(ue.crossOrigin="anonymous"),J.signal.addEventListener("abort",(()=>{ue.src="",he(new s.a(J.signal.reason))})),ue.fetchPriority="high",ue.onload=()=>{ue.onerror=ue.onload=null,ne({data:ue})},ue.onerror=()=>{ue.onerror=ue.onload=null,J.signal.aborted||he(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},ue.src=ye}))})(W||(W={})),W.resetRequestQueue();class te{constructor(c){this._transformRequestFn=c??null}transformRequest(c,m){return this._transformRequestFn&&this._transformRequestFn(c,m)||{url:c}}setTransformRequest(c){this._transformRequestFn=c}}function re(P){const c=[];if(typeof P=="string")c.push({id:"default",url:P});else if(P&&P.length>0){const m=[];for(const{id:b,url:C}of P){const I=`${b}${C}`;m.indexOf(I)===-1&&(m.push(I),c.push({id:b,url:C}))}}return c}function ce(P,c,m){try{const b=new URL(P);return b.pathname+=`${c}${m}`,b.toString()}catch{throw new Error(`Invalid sprite URL "${P}", must be absolute. Modify style specification directly or use TransformStyleFunction to correct the issue dynamically`)}}function be(P){const{userImage:c}=P;return!!(c&&c.render&&c.render())&&(P.data.replace(new Uint8Array(c.data.buffer)),!0)}class ie extends s.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new s.R({width:1,height:1}),this.dirty=!0}destroy(){this.atlasTexture&&(this.atlasTexture.destroy(),this.atlasTexture=null);for(const c of Object.keys(this.images))this.removeImage(c);this.patterns={},this.atlasImage=new s.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(c){if(this.loaded!==c&&(this.loaded=c,c)){for(const{ids:m,promiseResolve:b}of this.requestors)b(this._getImagesForIds(m));this.requestors=[]}}getImage(c){const m=this.images[c];if(m&&!m.data&&m.spriteData){const b=m.spriteData;m.data=new s.R({width:b.width,height:b.height},b.context.getImageData(b.x,b.y,b.width,b.height).data),m.spriteData=null}return m}addImage(c,m){if(this.images[c])throw new Error(`Image id ${c} already exist, use updateImage instead`);this._validate(c,m)&&(this.images[c]=m)}_validate(c,m){let b=!0;const C=m.data||m.spriteData;return this._validateStretch(m.stretchX,C&&C.width)||(this.fire(new s.k(new Error(`Image "${c}" has invalid "stretchX" value`))),b=!1),this._validateStretch(m.stretchY,C&&C.height)||(this.fire(new s.k(new Error(`Image "${c}" has invalid "stretchY" value`))),b=!1),this._validateContent(m.content,m)||(this.fire(new s.k(new Error(`Image "${c}" has invalid "content" value`))),b=!1),b}_validateStretch(c,m){if(!c)return!0;let b=0;for(const C of c){if(C[0]<b||C[1]<C[0]||m<C[1])return!1;b=C[1]}return!0}_validateContent(c,m){if(!c)return!0;if(c.length!==4)return!1;const b=m.spriteData,C=b&&b.width||m.data.width,I=b&&b.height||m.data.height;return!(c[0]<0||C<c[0]||c[1]<0||I<c[1]||c[2]<0||C<c[2]||c[3]<0||I<c[3]||c[2]<c[0]||c[3]<c[1])}updateImage(c,m,b=!0){const C=this.getImage(c);if(b&&(C.data.width!==m.data.width||C.data.height!==m.data.height))throw new Error(`size mismatch between old image (${C.data.width}x${C.data.height}) and new image (${m.data.width}x${m.data.height}).`);m.version=C.version+1,this.images[c]=m,this.updatedImages[c]=!0}removeImage(c){const m=this.images[c];delete this.images[c],delete this.patterns[c],m.userImage&&m.userImage.onRemove&&m.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(c){return new Promise(((m,b)=>{let C=!0;if(!this.isLoaded())for(const I of c)this.images[I]||(C=!1);this.isLoaded()||C?m(this._getImagesForIds(c)):this.requestors.push({ids:c,promiseResolve:m})}))}_getImagesForIds(c){const m={};for(const b of c){let C=this.getImage(b);C||(this.fire(new s.l("styleimagemissing",{id:b})),C=this.getImage(b)),C?m[b]={data:C.data.clone(),pixelRatio:C.pixelRatio,sdf:C.sdf,version:C.version,stretchX:C.stretchX,stretchY:C.stretchY,content:C.content,textFitWidth:C.textFitWidth,textFitHeight:C.textFitHeight,hasRenderCallback:!!(C.userImage&&C.userImage.render)}:s.w(`Image "${b}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return m}getPixelSize(){const{width:c,height:m}=this.atlasImage;return{width:c,height:m}}getPattern(c){const m=this.patterns[c],b=this.getImage(c);if(!b)return null;if(m&&m.position.version===b.version)return m.position;if(m)m.position.version=b.version;else{const C={w:b.data.width+2,h:b.data.height+2,x:0,y:0},I=new s.I(C,b);this.patterns[c]={bin:C,position:I}}return this._updatePatternAtlas(),this.patterns[c].position}bind(c){const m=c.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new s.T(c,this.atlasImage,m.RGBA),this.atlasTexture.bind(m.LINEAR,m.CLAMP_TO_EDGE)}_updatePatternAtlas(){const c=[];for(const I in this.patterns)c.push(this.patterns[I].bin);const{w:m,h:b}=s.p(c),C=this.atlasImage;C.resize({width:m||1,height:b||1});for(const I in this.patterns){const{bin:z}=this.patterns[I],V=z.x+1,H=z.y+1,J=this.getImage(I).data,ne=J.width,he=J.height;s.R.copy(J,C,{x:0,y:0},{x:V,y:H},{width:ne,height:he}),s.R.copy(J,C,{x:0,y:he-1},{x:V,y:H-1},{width:ne,height:1}),s.R.copy(J,C,{x:0,y:0},{x:V,y:H+he},{width:ne,height:1}),s.R.copy(J,C,{x:ne-1,y:0},{x:V-1,y:H},{width:1,height:he}),s.R.copy(J,C,{x:0,y:0},{x:V+ne,y:H},{width:1,height:he})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(c){for(const m of c){if(this.callbackDispatchedThisFrame[m])continue;this.callbackDispatchedThisFrame[m]=!0;const b=this.getImage(m);b||s.w(`Image with ID: "${m}" was not found`),be(b)&&this.updateImage(m,b)}}cloneImages(){const c={};for(const m in this.images){const b=this.images[m];c[m]=Object.assign(Object.assign({},b),{data:b.data?b.data.clone():null})}return c}}const me=1e20;function we(P,c,m,b,C,I,z,V,H){for(let J=c;J<c+b;J++)pe(P,m*I+J,I,C,z,V,H);for(let J=m;J<m+C;J++)pe(P,J*I+c,1,b,z,V,H)}function pe(P,c,m,b,C,I,z){I[0]=0,z[0]=-me,z[1]=me,C[0]=P[c];for(let V=1,H=0,J=0;V<b;V++){C[V]=P[c+V*m];const ne=V*V;do{const he=I[H];J=(C[V]-C[he]+ne-he*he)/(V-he)/2}while(J<=z[H]&&--H>-1);H++,I[H]=V,z[H]=J,z[H+1]=me}for(let V=0,H=0;V<b;V++){for(;z[H+1]<V;)H++;const J=I[H],ne=V-J;P[c+V*m]=C[J]+ne*ne}}const _e=s.v.layout_symbol["text-font"].default.join(",");class Me{constructor(c,m,b){this.requestManager=c,this.localIdeographFontFamily=m,this.entries={},this.lang=b}setURL(c){this.url=c}getGlyphs(c){return s._(this,void 0,void 0,(function*(){const m=[];for(const I in c)for(const z of c[I])m.push(this._getAndCacheGlyphsPromise(I,z));const b=yield Promise.all(m),C={};for(const{stack:I,id:z,glyph:V}of b)C[I]||(C[I]={}),C[I][z]=V&&{id:V.id,bitmap:V.bitmap.clone(),metrics:V.metrics};return C}))}_getAndCacheGlyphsPromise(c,m){return s._(this,void 0,void 0,(function*(){let b=this.entries[c];b||(b=this.entries[c]={glyphs:{},requests:{},ranges:{}});let C=b.glyphs[m];return C!==void 0?{stack:c,id:m,glyph:C}:!this.url||this._charUsesLocalIdeographFontFamily(m)?(C=b.glyphs[m]=this._drawGlyph(b,c,m),{stack:c,id:m,glyph:C}):yield this._downloadAndCacheRangePromise(c,m)}))}_downloadAndCacheRangePromise(c,m){return s._(this,void 0,void 0,(function*(){const b=this.entries[c],C=Math.floor(m/256);if(b.ranges[C])return{stack:c,id:m,glyph:null};if(!b.requests[C]){const I=Me.loadGlyphRange(c,C,this.url,this.requestManager);b.requests[C]=I}try{const I=yield b.requests[C];for(const z in I)b.glyphs[+z]=I[+z];return b.ranges[C]=!0,{stack:c,id:m,glyph:I[m]||null}}catch(I){const z=b.glyphs[m]=this._drawGlyph(b,c,m);return this._warnOnMissingGlyphRange(z,C,m,I),{stack:c,id:m,glyph:z}}}))}_warnOnMissingGlyphRange(c,m,b,C){const I=256*m,z=I+255,V=b.toString(16).padStart(4,"0").toUpperCase();s.w(`Unable to load glyph range ${m}, ${I}-${z}. Rendering codepoint U+${V} locally instead. ${C}`)}_charUsesLocalIdeographFontFamily(c){return!!this.localIdeographFontFamily&&s.q(c)}_drawGlyph(c,m,b){const C=m===_e&&this.localIdeographFontFamily!==""&&this._charUsesLocalIdeographFontFamily(b),I=C?"ideographTinySDF":"tinySDF";c[I]||(c[I]=this._createTinySDF(C?this.localIdeographFontFamily:m));const z=c[I].draw(String.fromCodePoint(b));return{id:b,bitmap:new s.r({width:z.width||60,height:z.height||60},z.data),metrics:{width:z.glyphWidth/2||24,height:z.glyphHeight/2||24,left:z.glyphLeft/2+.5||0,top:z.glyphTop/2-27.5||-8,advance:z.glyphAdvance/2||24,isDoubleResolution:!0}}}_createTinySDF(c){const m=c?c.split(","):[];m.push("sans-serif");const b=m.map((C=>/[-\w]+/.test(C)?C:`'${CSS.escape(C)}'`)).join(",");return new Me.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:b,fontWeight:this._fontWeight(m[0]),fontStyle:this._fontStyle(m[0]),lang:this.lang})}_fontStyle(c){return/italic/i.test(c)?"italic":/oblique/i.test(c)?"oblique":"normal"}_fontWeight(c){const m={thin:100,hairline:100,"extra light":200,"ultra light":200,light:300,normal:400,regular:400,medium:500,semibold:600,demibold:600,bold:700,"extra bold":800,"ultra bold":800,black:900,heavy:900,"extra black":950,"ultra black":950};let b;for(const[C,I]of Object.entries(m))new RegExp(`\\b${C}\\b`,"i").test(c)&&(b=`${I}`);return b}destroy(){for(const c in this.entries){const m=this.entries[c];m.tinySDF&&(m.tinySDF=null),m.ideographTinySDF&&(m.ideographTinySDF=null),m.glyphs={},m.requests={},m.ranges={}}this.entries={}}}Me.loadGlyphRange=function(P,c,m,b){return s._(this,void 0,void 0,(function*(){const C=256*c,I=C+255,z=b.transformRequest(m.replace("{fontstack}",P).replace("{range}",`${C}-${I}`),"Glyphs"),V=yield s.n(z,new AbortController);if(!V||!V.data)throw new Error(`Could not load glyph range. range: ${c}, ${C}-${I}`);const H={};for(const J of s.o(V.data))H[J.id]=J;return H}))},Me.TinySDF=class{constructor({fontSize:P=24,buffer:c=3,radius:m=8,cutoff:b=.25,fontFamily:C="sans-serif",fontWeight:I="normal",fontStyle:z="normal",lang:V=null}={}){this.buffer=c,this.cutoff=b,this.radius=m,this.lang=V;const H=this.size=P+4*c,J=this._createCanvas(H),ne=this.ctx=J.getContext("2d",{willReadFrequently:!0});ne.font=`${z} ${I} ${P}px ${C}`,ne.textBaseline="alphabetic",ne.textAlign="left",ne.fillStyle="black",this.gridOuter=new Float64Array(H*H),this.gridInner=new Float64Array(H*H),this.f=new Float64Array(H),this.z=new Float64Array(H+1),this.v=new Uint16Array(H)}_createCanvas(P){const c=document.createElement("canvas");return c.width=c.height=P,c}draw(P){const{width:c,actualBoundingBoxAscent:m,actualBoundingBoxDescent:b,actualBoundingBoxLeft:C,actualBoundingBoxRight:I}=this.ctx.measureText(P),z=Math.ceil(m),V=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(I-C))),H=Math.min(this.size-this.buffer,z+Math.ceil(b)),J=V+2*this.buffer,ne=H+2*this.buffer,he=Math.max(J*ne,0),ue=new Uint8ClampedArray(he),ye={data:ue,width:J,height:ne,glyphWidth:V,glyphHeight:H,glyphTop:z,glyphLeft:0,glyphAdvance:c};if(V===0||H===0)return ye;const{ctx:Se,buffer:Ie,gridInner:Le,gridOuter:De}=this;this.lang&&(Se.lang=this.lang),Se.clearRect(Ie,Ie,V,H),Se.fillText(P,Ie,Ie+z);const je=Se.getImageData(Ie,Ie,V,H);De.fill(me,0,he),Le.fill(0,0,he);for(let He=0;He<H;He++)for(let Fe=0;Fe<V;Fe++){const We=je.data[4*(He*V+Fe)+3]/255;if(We===0)continue;const Je=(He+Ie)*J+Fe+Ie;if(We===1)De[Je]=0,Le[Je]=me;else{const Ze=.5-We;De[Je]=Ze>0?Ze*Ze:0,Le[Je]=Ze<0?Ze*Ze:0}}we(De,0,0,J,ne,J,this.f,this.v,this.z),we(Le,Ie,Ie,V,H,J,this.f,this.v,this.z);for(let He=0;He<he;He++){const Fe=Math.sqrt(De[He])-Math.sqrt(Le[He]);ue[He]=Math.round(255-255*(Fe/this.radius+this.cutoff))}return ye}};class Be{constructor(){this.specification=s.u.light.position}possiblyEvaluate(c,m){return s.F(c.expression.evaluate(m))}interpolate(c,m,b){return{x:s.G.number(c.x,m.x,b),y:s.G.number(c.y,m.y,b),z:s.G.number(c.z,m.z,b)}}}let Ue;class Ce extends s.E{constructor(c){super(),Ue=Ue||new s.t({anchor:new s.D(s.u.light.anchor),position:new Be,color:new s.D(s.u.light.color),intensity:new s.D(s.u.light.intensity)}),this._transitionable=new s.x(Ue,void 0),this.setLight(c),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(c,m={}){if(!this._validate(s.y,c,m))for(const b in c){const C=c[b];b.endsWith(s.z)?this._transitionable.setTransition(b.slice(0,-s.z.length),C):this._transitionable.setValue(b,C)}}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}_validate(c,m,b){return(!b||b.validate!==!1)&&s.B(this,c.call(s.C,{value:m,style:{glyphs:!0,sprite:!0},styleSpec:s.u}))}}const Pe=new s.t({"sky-color":new s.D(s.u.sky["sky-color"]),"horizon-color":new s.D(s.u.sky["horizon-color"]),"fog-color":new s.D(s.u.sky["fog-color"]),"fog-ground-blend":new s.D(s.u.sky["fog-ground-blend"]),"horizon-fog-blend":new s.D(s.u.sky["horizon-fog-blend"]),"sky-horizon-blend":new s.D(s.u.sky["sky-horizon-blend"]),"atmosphere-blend":new s.D(s.u.sky["atmosphere-blend"])});class Xe extends s.E{constructor(c){super(),this._transitionable=new s.x(Pe,void 0),this.setSky(c),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new s.H(0))}setSky(c,m={}){if(!this._validate(s.J,c,m)){c||(c={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(const b in c){const C=c[b];b.endsWith(s.z)?this._transitionable.setTransition(b.slice(0,-s.z.length),C):this._transitionable.setValue(b,C)}}}getSky(){return this._transitionable.serialize()}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}_validate(c,m,b={}){return b?.validate!==!1&&s.B(this,c.call(s.C,s.e({value:m,style:{glyphs:!0,sprite:!0},styleSpec:s.u})))}calculateFogBlendOpacity(c){return c<60?0:c<70?(c-60)/10:1}}class ke{constructor(c,m){this.width=c,this.height=m,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(c,m){const b=c.join(",")+String(m);return this.dashEntry[b]||(this.dashEntry[b]=this.addDash(c,m)),this.dashEntry[b]}getDashRanges(c,m,b){const C=[];let I=c.length%2==1?-c[c.length-1]*b:0,z=c[0]*b,V=!0;C.push({left:I,right:z,isDash:V,zeroLength:c[0]===0});let H=c[0];for(let J=1;J<c.length;J++){V=!V;const ne=c[J];I=H*b,H+=ne,z=H*b,C.push({left:I,right:z,isDash:V,zeroLength:ne===0})}return C}addRoundDash(c,m,b){const C=m/2;for(let I=-b;I<=b;I++){const z=this.width*(this.nextRow+b+I);let V=0,H=c[V];for(let J=0;J<this.width;J++){J/H.right>1&&(H=c[++V]);const ne=Math.abs(J-H.left),he=Math.abs(J-H.right),ue=Math.min(ne,he);let ye;const Se=I/b*(C+1);if(H.isDash){const Ie=C-Math.abs(Se);ye=Math.sqrt(ue*ue+Ie*Ie)}else ye=C-Math.sqrt(ue*ue+Se*Se);this.data[z+J]=Math.max(0,Math.min(255,ye+128))}}}addRegularDash(c){for(let V=c.length-1;V>=0;--V){const H=c[V],J=c[V+1];H.zeroLength?c.splice(V,1):J&&J.isDash===H.isDash&&(J.left=H.left,c.splice(V,1))}const m=c[0],b=c[c.length-1];m.isDash===b.isDash&&(m.left=b.left-this.width,b.right=m.right+this.width);const C=this.width*this.nextRow;let I=0,z=c[I];for(let V=0;V<this.width;V++){V/z.right>1&&(z=c[++I]);const H=Math.abs(V-z.left),J=Math.abs(V-z.right),ne=Math.min(H,J);this.data[C+V]=Math.max(0,Math.min(255,(z.isDash?ne:-ne)+128))}}addDash(c,m){const b=m?7:0,C=2*b+1;if(this.nextRow+C>this.height)return s.w("LineAtlas out of space"),null;let I=0;for(let V=0;V<c.length;V++)I+=c[V];if(I!==0){const V=this.width/I,H=this.getDashRanges(c,this.width,V);m?this.addRoundDash(H,V,b):this.addRegularDash(H)}const z={y:this.nextRow+b,height:2*b,width:I};return this.nextRow+=C,this.dirty=!0,z}bind(c){const m=c.gl;this.texture?(m.bindTexture(m.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,m.texSubImage2D(m.TEXTURE_2D,0,0,0,this.width,this.height,m.ALPHA,m.UNSIGNED_BYTE,this.data))):(this.texture=m.createTexture(),m.bindTexture(m.TEXTURE_2D,this.texture),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.REPEAT),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.REPEAT),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.LINEAR),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.LINEAR),m.texImage2D(m.TEXTURE_2D,0,m.ALPHA,this.width,this.height,0,m.ALPHA,m.UNSIGNED_BYTE,this.data))}}const mt="maplibre_preloaded_worker_pool";class gt{constructor(){this.active={}}acquire(c){if(!this.workers)for(this.workers=[];this.workers.length<gt.workerCount;)this.workers.push(new Worker(s.c.WORKER_URL));return this.active[c]=!0,this.workers.slice()}release(c){delete this.active[c],this.numActive()===0&&(this.workers.forEach((m=>{m.terminate()})),this.workers=null)}isPreloaded(){return!!this.active[mt]}numActive(){return Object.keys(this.active).length}}const ct=Math.floor(O.hardwareConcurrency/2);let ot,vt;function At(){return ot||(ot=new gt),ot}gt.workerCount=s.K(globalThis)?Math.max(Math.min(ct,3),1):1;class Tt{constructor(c,m){this.workerPool=c,this.actors=[],this.currentActor=0,this.id=m;const b=this.workerPool.acquire(m);for(let C=0;C<b.length;C++){const I=new s.L(b[C],m);I.name=`Worker ${C}`,this.actors.push(I)}if(!this.actors.length)throw new Error("No actors found")}broadcast(c,m){const b=[];for(const C of this.actors)b.push(C.sendAsync({type:c,data:m}));return Promise.all(b)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(c=!0){this.actors.forEach((m=>{m.remove()})),this.actors=[],c&&this.workerPool.release(this.id)}registerMessageHandler(c,m){for(const b of this.actors)b.registerMessageHandler(c,m)}unregisterMessageHandler(c){for(const m of this.actors)m.unregisterMessageHandler(c)}}function Wt(){return vt||(vt=new Tt(At(),s.M),vt.registerMessageHandler("GR",((P,c,m)=>s.m(c,m)))),vt}function Ot(P,c){const m=s.N();return s.O(m,m,[1,1,0]),s.Q(m,m,[.5*P.width,.5*P.height,1]),P.calculatePosMatrix?s.S(m,m,P.calculatePosMatrix(c.toUnwrapped())):m}function hn(P,c,m,b,C,I,z){var V;const H=(function(ue,ye,Se){if(ue)for(const Ie of ue){const Le=ye[Ie];if(Le&&Le.source===Se&&Le.type==="fill-extrusion")return!0}else for(const Ie in ye){const Le=ye[Ie];if(Le.source===Se&&Le.type==="fill-extrusion")return!0}return!1})((V=C?.layers)!==null&&V!==void 0?V:null,c,P.id),J=I.maxPitchScaleFactor(),ne=P.tilesIn(b,J,H);ne.sort(Gt);const he=[];for(const ue of ne)he.push({wrappedTileID:ue.tileID.wrapped().key,queryResults:ue.tile.queryRenderedFeatures(c,m,P.getState(),ue.queryGeometry,ue.cameraQueryGeometry,ue.scale,C,I,J,Ot(I,ue.tileID),z?(ye,Se)=>z(ue.tileID,ye,Se):void 0)});return(function(ue,ye){for(const Se in ue)for(const Ie of ue[Se])Yt(Ie,ye);return ue})((function(ue){const ye={},Se={};for(const Ie of ue){const Le=Ie.queryResults,De=Ie.wrappedTileID,je=Se[De]=Se[De]||{};for(const He in Le){const Fe=Le[He],We=je[He]=je[He]||{},Je=ye[He]=ye[He]||[];for(const Ze of Fe)We[Ze.featureIndex]||(We[Ze.featureIndex]=!0,Je.push(Ze))}}return ye})(he),P)}function Gt(P,c){const m=P.tileID,b=c.tileID;return m.overscaledZ-b.overscaledZ||m.canonical.y-b.canonical.y||m.wrap-b.wrap||m.canonical.x-b.canonical.x}function Yt(P,c){const m=P.feature,b=c.getFeatureState(m.layer["source-layer"],m.id);m.source=m.layer.source,m.layer["source-layer"]&&(m.sourceLayer=m.layer["source-layer"]),m.state=b}function Cn(P,c,m){return s._(this,void 0,void 0,(function*(){let b=P;if(P.url?b=(yield s.j(c.transformRequest(P.url,"Source"),m)).data:yield O.frameAsync(m),!b)return null;const C=s.U(s.e(b,P),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in b&&b.vector_layers&&(C.vectorLayerIds=b.vector_layers.map((I=>I.id))),C}))}class sn{constructor(c,m){c&&(m?this.setSouthWest(c).setNorthEast(m):Array.isArray(c)&&(c.length===4?this.setSouthWest([c[0],c[1]]).setNorthEast([c[2],c[3]]):this.setSouthWest(c[0]).setNorthEast(c[1])))}setNorthEast(c){return this._ne=c instanceof s.V?new s.V(c.lng,c.lat):s.V.convert(c),this}setSouthWest(c){return this._sw=c instanceof s.V?new s.V(c.lng,c.lat):s.V.convert(c),this}extend(c){const m=this._sw,b=this._ne;let C,I;if(c instanceof s.V)C=c,I=c;else{if(!(c instanceof sn))return Array.isArray(c)?c.length===4||c.every(Array.isArray)?this.extend(sn.convert(c)):this.extend(s.V.convert(c)):c&&("lng"in c||"lon"in c)&&"lat"in c?this.extend(s.V.convert(c)):this;if(C=c._sw,I=c._ne,!C||!I)return this}return m||b?(m.lng=Math.min(C.lng,m.lng),m.lat=Math.min(C.lat,m.lat),b.lng=Math.max(I.lng,b.lng),b.lat=Math.max(I.lat,b.lat)):(this._sw=new s.V(C.lng,C.lat),this._ne=new s.V(I.lng,I.lat)),this}getCenter(){return new s.V((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new s.V(this.getWest(),this.getNorth())}getSouthEast(){return new s.V(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(c){const{lng:m,lat:b}=s.V.convert(c);let C=this._sw.lng<=m&&m<=this._ne.lng;return this._sw.lng>this._ne.lng&&(C=this._sw.lng>=m&&m>=this._ne.lng),this._sw.lat<=b&&b<=this._ne.lat&&C}intersects(c){if(!((c=sn.convert(c)).getNorth()>=this.getSouth()&&c.getSouth()<=this.getNorth()))return!1;const m=Math.abs(this.getEast()-this.getWest()),b=Math.abs(c.getEast()-c.getWest());if(m>=360||b>=360)return!0;const C=s.W(this.getWest(),-180,180),I=s.W(this.getEast(),-180,180),z=s.W(c.getWest(),-180,180),V=s.W(c.getEast(),-180,180),H=C>=I,J=z>=V;return!(!H||!J)||(H?V>=C||z<=I:J?I>=z||C<=V:z<=I&&V>=C)}static convert(c){return c instanceof sn?c:c&&new sn(c)}static fromLngLat(c,m=0){const b=360*m/40075017,C=b/Math.cos(Math.PI/180*c.lat);return new sn(new s.V(c.lng-C,c.lat-b),new s.V(c.lng+C,c.lat+b))}adjustAntiMeridian(){const c=new s.V(this._sw.lng,this._sw.lat),m=new s.V(this._ne.lng,this._ne.lat);return new sn(c,c.lng>m.lng?new s.V(m.lng+360,m.lat):m)}}class Rn{constructor(c,m,b){this.bounds=sn.convert(this.validateBounds(c)),this.minzoom=m||0,this.maxzoom=b||24}validateBounds(c){return Array.isArray(c)&&c.length===4?[Math.max(-180,c[0]),Math.max(-90,c[1]),Math.min(180,c[2]),Math.min(90,c[3])]:[-180,-90,180,90]}contains(c){const m=Math.pow(2,c.z),b=Math.floor(s.Y(this.bounds.getWest())*m),C=Math.floor(s.X(this.bounds.getNorth())*m),I=Math.ceil(s.Y(this.bounds.getEast())*m),z=Math.ceil(s.X(this.bounds.getSouth())*m);return c.x>=b&&c.x<I&&c.y>=C&&c.y<z}}class Fn extends s.E{constructor(c,m,b,C){if(super(),this.id=c,this.dispatcher=b,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,s.e(this,s.U(m,["url","scheme","tileSize","promoteId","encoding"])),this._options=s.e({type:"vector"},m),this._collectResourceTiming=m.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(C)}load(){return s._(this,void 0,void 0,(function*(){this._loaded=!1,this.fire(new s.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const c=yield Cn(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.tileManagers[this.id].clearTiles(),c&&(s.e(this,c),c.bounds&&(this.tileBounds=new Rn(c.bounds,this.minzoom,this.maxzoom)),this.fire(new s.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.l("data",{dataType:"source",sourceDataType:"content"})))}catch(c){this._tileJSONRequest=null,this._loaded=!0,s.Z(c)||this.fire(new s.k(c))}}))}loaded(){return this._loaded}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}onAdd(c){this.map=c,this.load()}setSourceProperty(c){this._tileJSONRequest&&this._tileJSONRequest.abort(),c(),this.load()}setTiles(c){return this.setSourceProperty((()=>{this._options.tiles=c})),this}setUrl(c){return this.setSourceProperty((()=>{this.url=c,this._options.url=c})),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return s.e({},this._options)}loadTile(c){return s._(this,void 0,void 0,(function*(){const m=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),b={request:this.map._requestManager.transformRequest(m,"Tile"),uid:c.uid,tileID:c.tileID,zoom:c.tileID.overscaledZ,tileSize:this.tileSize*c.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity,encoding:this.encoding,overzoomParameters:this._getOverzoomParameters(c)};b.request.collectResourceTiming=this._collectResourceTiming;let C="RT";if(c.actor&&c.state!=="expired"){if(c.state==="loading")return new Promise(((I,z)=>{c.reloadPromise={resolve:I,reject:z}}))}else c.actor=this.dispatcher.getActor(),C="LT";c.abortController=new AbortController;try{const I=yield c.actor.sendAsync({type:C,data:b},c.abortController);if(delete c.abortController,c.aborted)return;this._afterTileLoadWorkerResponse(c,I)}catch(I){if(delete c.abortController,c.aborted)return;if(I&&I.status!==404)throw I;this._afterTileLoadWorkerResponse(c,null)}}))}_getOverzoomParameters(c){if(c.tileID.canonical.z<=this.maxzoom||this.map._zoomLevelsToOverscale===void 0)return;const m=c.tileID.scaledTo(this.maxzoom).canonical,b=m.url(this.tiles,this.map.getPixelRatio(),this.scheme);return{maxZoomTileID:m,overzoomRequest:this.map._requestManager.transformRequest(b,"Tile")}}_afterTileLoadWorkerResponse(c,m){if(m&&m.resourceTiming&&(c.resourceTiming=m.resourceTiming),m&&this.map._refreshExpiredTiles&&c.setExpiryData(m),c.loadVectorData(m,this.map.painter),c.reloadPromise){const b=c.reloadPromise;c.reloadPromise=null,this.loadTile(c).then(b.resolve).catch(b.reject)}}abortTile(c){return s._(this,void 0,void 0,(function*(){c.abortController&&(c.abortController.abort(),delete c.abortController),c.actor&&(yield c.actor.sendAsync({type:"AT",data:{uid:c.uid,type:this.type,source:this.id}}))}))}unloadTile(c){return s._(this,void 0,void 0,(function*(){c.unloadVectorData(),c.actor&&(yield c.actor.sendAsync({type:"RMT",data:{uid:c.uid,type:this.type,source:this.id}}))}))}hasTransition(){return!1}}class Vn extends s.E{constructor(c,m,b,C){super(),this.id=c,this.dispatcher=b,this.setEventedParent(C),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=s.e({type:"raster"},m),s.e(this,s.U(m,["url","scheme","tileSize"]))}load(){return s._(this,arguments,void 0,(function*(c=!1){this._loaded=!1,this.fire(new s.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const m=yield Cn(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,m&&(s.e(this,m),m.bounds&&(this.tileBounds=new Rn(m.bounds,this.minzoom,this.maxzoom)),this.fire(new s.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.l("data",{dataType:"source",sourceDataType:"content",sourceDataChanged:c})))}catch(m){this._tileJSONRequest=null,this._loaded=!0,s.Z(m)||this.fire(new s.k(m))}}))}loaded(){return this._loaded}onAdd(c){this.map=c,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(c){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),c(),this.load(!0)}setTiles(c){return this.setSourceProperty((()=>{this._options.tiles=c})),this}setUrl(c){return this.setSourceProperty((()=>{this.url=c,this._options.url=c})),this}serialize(){return s.e({},this._options)}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}loadTile(c){return s._(this,void 0,void 0,(function*(){const m=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);c.abortController=new AbortController;try{const b=yield W.getImage(this.map._requestManager.transformRequest(m,"Tile"),c.abortController,this.map._refreshExpiredTiles);if(delete c.abortController,c.aborted)return void(c.state="unloaded");if(b&&b.data){this.map._refreshExpiredTiles&&(b.cacheControl||b.expires)&&c.setExpiryData({cacheControl:b.cacheControl,expires:b.expires});const C=this.map.painter.context,I=C.gl,z=b.data;c.texture=this.map.painter.getTileTexture(z.width),c.texture?c.texture.update(z,{useMipmap:!0}):(c.texture=new s.T(C,z,I.RGBA,{useMipmap:!0}),c.texture.bind(I.LINEAR,I.CLAMP_TO_EDGE,I.LINEAR_MIPMAP_NEAREST)),c.state="loaded"}}catch(b){if(delete c.abortController,c.aborted)c.state="unloaded";else if(b)throw c.state="errored",b}}))}abortTile(c){return s._(this,void 0,void 0,(function*(){c.abortController&&(c.abortController.abort(),delete c.abortController)}))}unloadTile(c){return s._(this,void 0,void 0,(function*(){c.texture&&this.map.painter.saveTileTexture(c.texture)}))}hasTransition(){return!1}}class Qe extends Vn{constructor(c,m,b,C){super(c,m,b,C),this.type="raster-dem",this.maxzoom=22,this._options=s.e({type:"raster-dem"},m),this.encoding=m.encoding||"mapbox",this.redFactor=m.redFactor,this.greenFactor=m.greenFactor,this.blueFactor=m.blueFactor,this.baseShift=m.baseShift}loadTile(c){return s._(this,void 0,void 0,(function*(){const m=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),b=this.map._requestManager.transformRequest(m,"Tile");c.neighboringTiles=this._getNeighboringTiles(c.tileID),c.abortController=new AbortController;try{const C=yield W.getImage(b,c.abortController,this.map._refreshExpiredTiles);if(delete c.abortController,c.aborted)return void(c.state="unloaded");if(C&&C.data){const I=C.data;this.map._refreshExpiredTiles&&(C.cacheControl||C.expires)&&c.setExpiryData({cacheControl:C.cacheControl,expires:C.expires});const z=s.b(I)&&s.$()?I:yield this.readImageNow(I),V={type:this.type,uid:c.uid,source:this.id,rawImageData:z,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!c.actor||c.state==="expired"){c.actor=this.dispatcher.getActor();const H=yield c.actor.sendAsync({type:"LDT",data:V});c.dem=H,c.needsHillshadePrepare=!0,c.needsTerrainPrepare=!0,c.state="loaded"}}}catch(C){if(delete c.abortController,c.aborted)c.state="unloaded";else if(C)throw c.state="errored",C}}))}readImageNow(c){return s._(this,void 0,void 0,(function*(){if(typeof VideoFrame<"u"&&s.a0()){const m=c.width+2,b=c.height+2;try{return new s.R({width:m,height:b},yield s.a1(c,-1,-1,m,b))}catch{}}return O.getImageData(c,1)}))}_getNeighboringTiles(c){const m=c.canonical,b=Math.pow(2,m.z),C=(m.x-1+b)%b,I=m.x===0?c.wrap-1:c.wrap,z=(m.x+1+b)%b,V=m.x+1===b?c.wrap+1:c.wrap,H={};return H[new s.a2(c.overscaledZ,I,m.z,C,m.y).key]={backfilled:!1},H[new s.a2(c.overscaledZ,V,m.z,z,m.y).key]={backfilled:!1},m.y>0&&(H[new s.a2(c.overscaledZ,I,m.z,C,m.y-1).key]={backfilled:!1},H[new s.a2(c.overscaledZ,c.wrap,m.z,m.x,m.y-1).key]={backfilled:!1},H[new s.a2(c.overscaledZ,V,m.z,z,m.y-1).key]={backfilled:!1}),m.y+1<b&&(H[new s.a2(c.overscaledZ,I,m.z,C,m.y+1).key]={backfilled:!1},H[new s.a2(c.overscaledZ,c.wrap,m.z,m.x,m.y+1).key]={backfilled:!1},H[new s.a2(c.overscaledZ,V,m.z,z,m.y+1).key]={backfilled:!1}),H}unloadTile(c){return s._(this,void 0,void 0,(function*(){c.demTexture&&this.map.painter.saveTileTexture(c.demTexture),c.fbo&&(c.fbo.destroy(),delete c.fbo),c.dem&&delete c.dem,delete c.neighboringTiles,c.state="unloaded",c.actor&&(yield c.actor.sendAsync({type:"RDT",data:{type:this.type,uid:c.uid,source:this.id}}))}))}}function Ye(P){return P.type==="GeometryCollection"?P.geometries.map((c=>c.coordinates)).flat(1/0):P.coordinates.flat(1/0)}function bt(P){const c=new sn;let m;switch(P.type){case"FeatureCollection":m=P.features.map((b=>Ye(b.geometry))).flat(1/0);break;case"Feature":m=Ye(P.geometry);break;default:m=Ye(P)}if(m.length==0)return c;for(let b=0;b<m.length-1;b+=2)c.extend([m[b],m[b+1]]);return c}class kt extends s.E{constructor(c,m,b,C){super(),this.id=c,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._isUpdatingWorker=!1,this._pendingWorkerUpdate={data:m.data},this.actor=b.getActor(),this.setEventedParent(C),this._data=typeof m.data=="string"?{url:m.data}:{geojson:m.data},this._options=s.e({},m),this._collectResourceTiming=m.collectResourceTiming,m.maxzoom!==void 0&&(this.maxzoom=m.maxzoom),m.type&&(this.type=m.type),m.attribution&&(this.attribution=m.attribution),this.promoteId=m.promoteId,m.clusterMaxZoom!==void 0&&this.maxzoom<=m.clusterMaxZoom&&s.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${m.clusterMaxZoom}".`),this.workerOptions=s.e({source:this.id,cluster:m.cluster||!1,geojsonVtOptions:{buffer:this._pixelsToTileUnits(m.buffer!==void 0?m.buffer:128),tolerance:this._pixelsToTileUnits(m.tolerance!==void 0?m.tolerance:.375),extent:s.a5,maxZoom:this.maxzoom,lineMetrics:m.lineMetrics||!1,generateId:m.generateId||!1},superclusterOptions:{maxZoom:this._getClusterMaxZoom(m.clusterMaxZoom),minPoints:Math.max(2,m.clusterMinPoints||2),extent:s.a5,radius:this._pixelsToTileUnits(m.clusterRadius||50),log:!1,generateId:m.generateId||!1},clusterProperties:m.clusterProperties,filter:m.filter},m.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}_hasPendingWorkerUpdate(){return this._pendingWorkerUpdate.data!==void 0||this._pendingWorkerUpdate.diff!==void 0||this._pendingWorkerUpdate.optionsChanged}_pixelsToTileUnits(c){return c*(s.a5/this.tileSize)}_getClusterMaxZoom(c){const m=c?Math.round(c):this.maxzoom-1;return Number.isInteger(c)||c===void 0||s.w(`Integer expected for option 'clusterMaxZoom': provided value "${c}" rounded to "${m}"`),m}load(){return s._(this,void 0,void 0,(function*(){yield this._updateWorkerData()}))}onAdd(c){this.map=c,this.load()}setData(c,m){this._data=typeof c=="string"?{url:c}:{geojson:c},this._pendingWorkerUpdate={data:c};const b=this._updateWorkerData();return m?b:this}updateData(c,m){this._pendingWorkerUpdate.diff=s.a6(this._pendingWorkerUpdate.diff,c);const b=this._updateWorkerData();return m?b:this}getData(){return s._(this,void 0,void 0,(function*(){const c=s.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:c})}))}getBounds(){return s._(this,void 0,void 0,(function*(){return bt(yield this.getData())}))}setClusterOptions(c){return this.workerOptions.cluster=c.cluster,c.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=this._pixelsToTileUnits(c.clusterRadius)),c.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=this._getClusterMaxZoom(c.clusterMaxZoom)),this._pendingWorkerUpdate.optionsChanged=!0,this._updateWorkerData(),this}getClusterExpansionZoom(c){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:c,source:this.id}})}getClusterChildren(c){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:c,source:this.id}})}getClusterLeaves(c,m,b){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:c,limit:m,offset:b}})}_updateWorkerData(){return s._(this,void 0,void 0,(function*(){if(this._isUpdatingWorker)return;if(!this._hasPendingWorkerUpdate())return void s.w(`No pending worker updates for GeoJSONSource ${this.id}.`);const{data:c,diff:m}=this._pendingWorkerUpdate,b=s.e({type:this.type},this.workerOptions);c!==void 0?(typeof c=="string"?(b.request=this.map._requestManager.transformRequest(O.resolveURL(c),"Source"),b.request.collectResourceTiming=this._collectResourceTiming):b.data=c,this._pendingWorkerUpdate.data=void 0):m&&(b.dataDiff=m,this._pendingWorkerUpdate.diff=void 0),this._pendingWorkerUpdate.optionsChanged=void 0,this._isUpdatingWorker=!0,this.fire(new s.l("dataloading",{dataType:"source"}));try{const C=yield this.actor.sendAsync({type:"LD",data:b});if(this._isUpdatingWorker=!1,this._removed||C.abandoned)return void this.fire(new s.l("dataabort",{dataType:"source"}));C.data&&(this._data={geojson:C.data});const I=this._applyDiffToSource(m),z=this._getShouldReloadTileOptions(I);let V=null;C.resourceTiming&&C.resourceTiming[this.id]&&(V=C.resourceTiming[this.id].slice(0));const H={dataType:"source"};this._collectResourceTiming&&V&&V.length>0&&s.e(H,{resourceTiming:V}),this.fire(new s.l("data",Object.assign(Object.assign({},H),{sourceDataType:"metadata"}))),this.fire(new s.l("data",Object.assign(Object.assign({},H),{sourceDataType:"content",shouldReloadTileOptions:z})))}catch(C){if(this._isUpdatingWorker=!1,this._removed)return void this.fire(new s.l("dataabort",{dataType:"source"}));this.fire(new s.k(C))}finally{this._hasPendingWorkerUpdate()&&this._updateWorkerData()}}))}_applyDiffToSource(c){if(!c)return;const m=typeof this.promoteId=="string"?this.promoteId:void 0;if(!this._data.url&&!this._data.updateable){const C=s.a7(this._data.geojson,m);if(!C)throw new Error(`GeoJSONSource "${this.id}": GeoJSON data is not compatible with updateData`);this._data={updateable:C}}if(!this._data.updateable)return;const b=s.a8(this._data.updateable,c,m);return c.removeAll||this._options.cluster?void 0:b}_getShouldReloadTileOptions(c){if(c)return{affectedBounds:c.filter(Boolean).map((m=>bt(m)))}}shouldReloadTile(c,{affectedBounds:m}){if(c.state==="loading")return!0;if(c.state==="unloaded")return!1;const{buffer:b,extent:C}=this.workerOptions.geojsonVtOptions,I=(function({x:z,y:V,z:H},J=0){const ne=s.a3((z-J)/Math.pow(2,H)),he=s.a4((V+1+J)/Math.pow(2,H)),ue=s.a3((z+1+J)/Math.pow(2,H)),ye=s.a4((V-J)/Math.pow(2,H));return new sn([ne,he],[ue,ye])})(c.tileID.canonical,b/C);for(const z of m)if(I.intersects(z))return!0;return!1}loaded(){return!this._isUpdatingWorker&&!this._hasPendingWorkerUpdate()}loadTile(c){return s._(this,void 0,void 0,(function*(){const m=c.actor?"RT":"LT";c.actor=this.actor;const b={type:this.type,uid:c.uid,tileID:c.tileID,zoom:c.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity};c.abortController=new AbortController;const C=yield this.actor.sendAsync({type:m,data:b},c.abortController);delete c.abortController,c.unloadVectorData(),c.aborted||c.loadVectorData(C,this.map.painter,m==="RT")}))}abortTile(c){return s._(this,void 0,void 0,(function*(){c.abortController&&(c.abortController.abort(),delete c.abortController),c.aborted=!0}))}unloadTile(c){return s._(this,void 0,void 0,(function*(){c.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:c.uid,type:this.type,source:this.id}})}))}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return s.e({},this._options,{type:this.type,data:this._data.updateable?{type:"FeatureCollection",features:Array.from(this._data.updateable.values())}:this._data.url||this._data.geojson})}hasTransition(){return!1}}class Vt extends s.E{constructor(c,m,b,C){super(),this.flippedWindingOrder=!1,this.id=c,this.dispatcher=b,this.coordinates=m.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(C),this.options=m}load(c){return s._(this,void 0,void 0,(function*(){this._loaded=!1,this.fire(new s.l("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const m=yield W.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,m&&m.data&&(this.image=m.data,c&&(this.coordinates=c),this._finishLoading())}catch(m){this._request=null,this._loaded=!0,s.Z(m)||this.fire(new s.k(m))}}))}loaded(){return this._loaded}updateImage(c){return c.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=c.url,this.load(c.coordinates).finally((()=>{this.texture=null})),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new s.l("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(c){this.map=c,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(c){this.coordinates=c;const m=c.map(s.a9.fromLngLat);var b;return this.tileID=(function(C){const I=s.aa.fromPoints(C),z=I.width(),V=I.height(),H=Math.max(z,V),J=Math.max(0,Math.floor(-Math.log(H)/Math.LN2)),ne=Math.pow(2,J);return new s.ac(J,Math.floor((I.minX+I.maxX)/2*ne),Math.floor((I.minY+I.maxY)/2*ne))})(m),this.terrainTileRanges=this._getOverlappingTileRanges(m),this.minzoom=this.maxzoom=this.tileID.z,this.tileCoords=m.map((C=>this.tileID.getTilePoint(C)._round())),this.flippedWindingOrder=((b=this.tileCoords)[1].x-b[0].x)*(b[2].y-b[0].y)-(b[1].y-b[0].y)*(b[2].x-b[0].x)<0,this.fire(new s.l("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const c=this.map.painter.context,m=c.gl;this.texture||(this.texture=new s.T(c,this.image,m.RGBA),this.texture.bind(m.LINEAR,m.CLAMP_TO_EDGE));let b=!1;for(const C in this.tiles){const I=this.tiles[C];I.state!=="loaded"&&(I.state="loaded",I.texture=this.texture,b=!0)}b&&this.fire(new s.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(c){return s._(this,void 0,void 0,(function*(){this.tileID&&this.tileID.equals(c.tileID.canonical)?(this.tiles[String(c.tileID.wrap)]=c,c.buckets={}):c.state="errored"}))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}_getOverlappingTileRanges(c){const{minX:m,minY:b,maxX:C,maxY:I}=s.aa.fromPoints(c),z={};for(let V=0;V<=s.ab;V++){const H=Math.pow(2,V),J=Math.floor(m*H),ne=Math.floor(b*H),he=Math.floor(C*H),ue=Math.floor(I*H);z[V]={minTileX:J,minTileY:ne,maxTileX:he,maxTileY:ue}}return z}}class Oe extends Vt{constructor(c,m,b,C){super(c,m,b,C),this.roundZoom=!0,this.type="video",this.options=m}load(){return s._(this,void 0,void 0,(function*(){this._loaded=!1;const c=this.options;this.urls=[];for(const m of c.urls)this.urls.push(this.map._requestManager.transformRequest(m,"Source").url);try{const m=yield s.ad(this.urls);if(this._loaded=!0,!m)return;this.video=m,this.video.loop=!0,this.video.addEventListener("playing",(()=>{this.map.triggerRepaint()})),this.map&&this.video.play(),this._finishLoading()}catch(m){this.fire(new s.k(m))}}))}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(c){if(this.video){const m=this.video.seekable;c<m.start(0)||c>m.end(0)?this.fire(new s.k(new s.ae(`sources.${this.id}`,null,`Playback for this video can be set only between the ${m.start(0)} and ${m.end(0)}-second mark.`))):this.video.currentTime=c}}getVideo(){return this.video}onAdd(c){this.map||(this.map=c,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const c=this.map.painter.context,m=c.gl;this.texture?this.video.paused||(this.texture.bind(m.LINEAR,m.CLAMP_TO_EDGE),m.texSubImage2D(m.TEXTURE_2D,0,0,0,m.RGBA,m.UNSIGNED_BYTE,this.video)):(this.texture=new s.T(c,this.video,m.RGBA),this.texture.bind(m.LINEAR,m.CLAMP_TO_EDGE));let b=!1;for(const C in this.tiles){const I=this.tiles[C];I.state!=="loaded"&&(I.state="loaded",I.texture=this.texture,b=!0)}b&&this.fire(new s.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class se extends Vt{constructor(c,m,b,C){super(c,m,b,C),m.coordinates?Array.isArray(m.coordinates)&&m.coordinates.length===4&&!m.coordinates.some((I=>!Array.isArray(I)||I.length!==2||I.some((z=>typeof z!="number"))))||this.fire(new s.k(new s.ae(`sources.${c}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new s.k(new s.ae(`sources.${c}`,null,'missing required property "coordinates"'))),m.animate&&typeof m.animate!="boolean"&&this.fire(new s.k(new s.ae(`sources.${c}`,null,'optional "animate" property must be a boolean value'))),m.canvas?typeof m.canvas=="string"||m.canvas instanceof HTMLCanvasElement||this.fire(new s.k(new s.ae(`sources.${c}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new s.k(new s.ae(`sources.${c}`,null,'missing required property "canvas"'))),this.options=m,this.animate=m.animate===void 0||m.animate}load(){return s._(this,void 0,void 0,(function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new s.k(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}))}getCanvas(){return this.canvas}onAdd(c){this.map=c,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let c=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,c=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,c=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const m=this.map.painter.context,b=m.gl;this.texture?(c||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):(this.texture=new s.T(m,this.canvas,b.RGBA,{premultiply:!0}),this.texture.bind(b.LINEAR,b.CLAMP_TO_EDGE));let C=!1;for(const I in this.tiles){const z=this.tiles[I];z.state!=="loaded"&&(z.state="loaded",z.texture=this.texture,C=!0)}C&&this.fire(new s.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",animate:this.animate,canvas:this.options.canvas,coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const c of[this.canvas.width,this.canvas.height])if(isNaN(c)||c<=0)return!0;return!1}}const K={},xe=P=>{switch(P){case"geojson":return kt;case"image":return Vt;case"raster":return Vn;case"raster-dem":return Qe;case"vector":return Fn;case"video":return Oe;case"canvas":return se}return K[P]},$e="RTLPluginLoaded";class ze extends s.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=Wt()}_syncState(c){return this.status=c,this.dispatcher.broadcast("SRPS",{pluginStatus:c,pluginURL:this.url}).catch((m=>{throw this.status="error",m}))}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(c){return s._(this,arguments,void 0,(function*(m,b=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=O.resolveURL(m),!this.url)throw new Error(`requested url ${m} is invalid`);if(this.status==="unavailable"){if(!b)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()}))}_requestImport(){return s._(this,void 0,void 0,(function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new s.l($e))}))}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let rt=null;function tt(){return rt||(rt=new ze),rt}var Ke,at;(function(P){P[P.Base=0]="Base",P[P.Parent=1]="Parent"})(Ke||(Ke={})),(function(P){P[P.Departing=0]="Departing",P[P.Incoming=1]="Incoming"})(at||(at={}));class St{constructor(c,m){this.timeAdded=0,this.fadeEndTime=0,this.fadeOpacity=1,this.tileID=c,this.uid=s.af(),this.uses=0,this.tileSize=m,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}isRenderable(c){return this.hasData()&&(!this.fadeEndTime||this.fadeOpacity>0)&&(c||!this.holdingForSymbolFade())}setCrossFadeLogic({fadingRole:c,fadingDirection:m,fadingParentID:b,fadeEndTime:C}){this.resetFadeLogic(),this.fadingRole=c,this.fadingDirection=m,this.fadingParentID=b,this.fadeEndTime=C}setSelfFadeLogic(c){this.resetFadeLogic(),this.selfFading=!0,this.fadeEndTime=c}resetFadeLogic(){this.fadingRole=null,this.fadingDirection=null,this.fadingParentID=null,this.selfFading=!1,this.timeAdded=A(),this.fadeEndTime=0,this.fadeOpacity=1}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(c){this.demTexture&&c.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(c,m,b){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",c){c.featureIndex&&(this.latestFeatureIndex=c.featureIndex,c.rawTileData?(this.latestRawTileData=c.rawTileData,this.latestFeatureIndex.rawTileData=c.rawTileData,this.latestFeatureIndex.encoding=c.encoding):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData,this.latestFeatureIndex.encoding=this.latestEncoding)),this.collisionBoxArray=c.collisionBoxArray,this.buckets=(function(C,I){const z={};if(!I)return z;for(const V of C){const H=V.layerIds.map((J=>I.getLayer(J))).filter(Boolean);if(H.length!==0){V.layers=H,V.stateDependentLayerIds&&(V.stateDependentLayers=V.stateDependentLayerIds.map((J=>H.filter((ne=>ne.id===J))[0])));for(const J of H)z[J.id]=V}}return z})(c.buckets,m?.style),this.hasSymbolBuckets=!1;for(const C in this.buckets){const I=this.buckets[C];if(I instanceof s.ah){if(this.hasSymbolBuckets=!0,!b)break;I.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const C in this.buckets){const I=this.buckets[C];if(I instanceof s.ah&&I.hasRTLText){this.hasRTLText=!0,tt().lazyLoad();break}}this.queryPadding=0;for(const C in this.buckets){const I=this.buckets[C];this.queryPadding=Math.max(this.queryPadding,m.style.getLayer(C).queryRadius(I))}c.imageAtlas&&(this.imageAtlas=c.imageAtlas),c.glyphAtlasImage&&(this.glyphAtlasImage=c.glyphAtlasImage),this.dashPositions=c.dashPositions}else this.collisionBoxArray=new s.ag}unloadVectorData(){for(const c in this.buckets)this.buckets[c].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.dashPositions&&(this.dashPositions=null),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(c){return this.buckets[c.id]}upload(c){for(const b in this.buckets){const C=this.buckets[b];C.uploadPending()&&C.upload(c)}const m=c.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new s.T(c,this.imageAtlas.image,m.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new s.T(c,this.glyphAtlasImage,m.ALPHA),this.glyphAtlasImage=null)}prepare(c){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(c,this.imageAtlasTexture)}queryRenderedFeatures(c,m,b,C,I,z,V,H,J,ne,he){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:C,cameraQueryGeometry:I,scale:z,tileSize:this.tileSize,pixelPosMatrix:ne,transform:H,params:V,queryPadding:this.queryPadding*J,getElevation:he},c,m,b):{}}querySourceFeatures(c,m){const b=this.latestFeatureIndex;if(!b||!b.rawTileData)return;const C=b.loadVTLayers(),I=m&&m.sourceLayer?m.sourceLayer:"",z=C[s.ai]||C[I];if(!z)return;const V=s.aj(m?.filter,m?.globalState),{z:H,x:J,y:ne}=this.tileID.canonical,he={z:H,x:J,y:ne};for(let ue=0;ue<z.length;ue++){const ye=z.feature(ue);if(V.needGeometry){const Le=s.ak(ye,!0);if(!V.filter(new s.H(this.tileID.overscaledZ),Le,this.tileID.canonical))continue}else if(!V.filter(new s.H(this.tileID.overscaledZ),ye))continue;const Se=b.getId(ye,I),Ie=new s.al(ye,H,J,ne,Se);Ie.tile=he,c.push(Ie)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(c){const m=this.expirationTime;if(c.cacheControl){const b=s.am(c.cacheControl);b["max-age"]&&(this.expirationTime=Date.now()+1e3*b["max-age"])}else c.expires&&(this.expirationTime=new Date(c.expires).getTime());if(this.expirationTime){const b=Date.now();let C=!1;if(this.expirationTime>b)C=!1;else if(m)if(this.expirationTime<m)C=!0;else{const I=this.expirationTime-m;I?this.expirationTime=b+Math.max(I,3e4):C=!0}else C=!0;C?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(c,m){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(c).length===0)return;const b=this.latestFeatureIndex.loadVTLayers();for(const C in this.buckets){if(!m.style.hasLayer(C))continue;const I=this.buckets[C],z=I.layers[0].sourceLayer||s.ai,V=b[z],H=c[z];if(!V||!H||Object.keys(H).length===0)continue;I.update(H,V,this.imageAtlas&&this.imageAtlas.patternPositions||{},this.dashPositions||{});const J=m&&m.style&&m.style.getLayer(C);J&&(this.queryPadding=Math.max(this.queryPadding,J.queryRadius(I)))}}holdingForSymbolFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<A()}clearSymbolFadeHold(){this.symbolFadeHoldUntil=void 0}setSymbolHoldDuration(c){this.symbolFadeHoldUntil=A()+c}setDependencies(c,m){const b={};for(const C of m)b[C]=!0;this.dependencies[c]=b}hasDependency(c,m){for(const b of c){const C=this.dependencies[b];if(C){for(const I of m)if(C[I])return!0}}return!1}}class st{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(c,m,b){const C=String(m);if(this.stateChanges[c]=this.stateChanges[c]||{},this.stateChanges[c][C]=this.stateChanges[c][C]||{},s.e(this.stateChanges[c][C],b),this.deletedStates[c]===null){this.deletedStates[c]={};for(const I in this.state[c])I!==C&&(this.deletedStates[c][I]=null)}else if(this.deletedStates[c]&&this.deletedStates[c][C]===null){this.deletedStates[c][C]={};for(const I in this.state[c][C])b[I]||(this.deletedStates[c][C][I]=null)}else for(const I in b)this.deletedStates[c]&&this.deletedStates[c][C]&&this.deletedStates[c][C][I]===null&&delete this.deletedStates[c][C][I]}removeFeatureState(c,m,b){if(this.deletedStates[c]===null)return;const C=String(m);if(this.deletedStates[c]=this.deletedStates[c]||{},b&&m!==void 0)this.deletedStates[c][C]!==null&&(this.deletedStates[c][C]=this.deletedStates[c][C]||{},this.deletedStates[c][C][b]=null);else if(m!==void 0)if(this.stateChanges[c]&&this.stateChanges[c][C])for(b in this.deletedStates[c][C]={},this.stateChanges[c][C])this.deletedStates[c][C][b]=null;else this.deletedStates[c][C]=null;else this.deletedStates[c]=null}getState(c,m){const b=String(m),C=s.e({},(this.state[c]||{})[b],(this.stateChanges[c]||{})[b]);if(this.deletedStates[c]===null)return{};if(this.deletedStates[c]){const I=this.deletedStates[c][m];if(I===null)return{};for(const z in I)delete C[z]}return C}initializeTileState(c,m){c.setFeatureState(this.state,m)}coalesceChanges(c,m){const b={};for(const C in this.stateChanges){this.state[C]=this.state[C]||{};const I={};for(const z in this.stateChanges[C])this.state[C][z]||(this.state[C][z]={}),s.e(this.state[C][z],this.stateChanges[C][z]),I[z]=this.state[C][z];b[C]=I}for(const C in this.deletedStates){this.state[C]=this.state[C]||{};const I={};if(this.deletedStates[C]===null)for(const z in this.state[C])I[z]={},this.state[C][z]={};else for(const z in this.deletedStates[C]){if(this.deletedStates[C][z]===null)this.state[C][z]={};else for(const V of Object.keys(this.deletedStates[C][z]))delete this.state[C][z][V];I[z]=this.state[C][z]}b[C]=b[C]||{},s.e(b[C],I)}this.stateChanges={},this.deletedStates={},Object.keys(b).length!==0&&c.setFeatureState(b,m)}}const zt=89.25;function ln(P,c){const m=s.an(c.lat,-s.ao,s.ao);return new s.P(s.Y(c.lng)*P,s.X(m)*P)}function Nn(P,c){return new s.a9(c.x/P,c.y/P).toLngLat()}function Ar(P){return P.cameraToCenterDistance*Math.min(.85*Math.tan(s.ap(90-P.pitch)),Math.tan(s.ap(zt-P.pitch)))}function kr(P,c){const m=P.canonical,b=c/s.aq(m.z),C=m.x+Math.pow(2,m.z)*P.wrap,I=s.ar(new Float64Array(16));return s.O(I,I,[C*b,m.y*b,0]),s.Q(I,I,[b/s.a5,b/s.a5,1]),I}function ut(P,c,m,b,C){const I=s.a9.fromLngLat(P,c),z=C*s.as(1,P.lat),{x:V,y:H,z:J}=qr(m,b);return new s.a9(I.x+z*-V,I.y+z*-H,I.z+z*-J)}function qr(P,c){const m=s.ap(P),b=s.ap(c),C=Math.cos(-m),I=Math.sin(m);return{x:I*Math.sin(b),y:-I*Math.cos(b),z:C}}function ro(P,c,m){const b=c.intersectsFrustum(P);if(!m||b===0)return b;const C=c.intersectsPlane(m);return C===0?0:b===2&&C===2?2:1}function Jn(P,c,m){let b=0;const C=(m-c)/10;for(let I=0;I<10;I++)b+=C*Math.pow(Math.cos(c+(I+.5)/10*(m-c)),P);return b}function En(P,c){return function(m,b,C,I,z){const V=2*((P-1)/s.at(Math.cos(s.ap(zt-z))/Math.cos(s.ap(zt)))-1),H=Math.acos(C/I),J=2*Jn(V-1,0,s.ap(z/2)),ne=Math.min(s.ap(zt),H+s.ap(z/2)),he=Jn(V-1,Math.min(ne,H-s.ap(z/2)),ne),ue=Math.atan(b/C),ye=Math.hypot(b,C);let Se=m;return Se+=s.at(I/ye/Math.max(.5,Math.cos(s.ap(z/2)))),Se+=V*s.at(Math.cos(ue))/2,Se-=s.at(Math.max(1,he/J/c))/2,Se}}const vi=En(9.314,3);function ri(P,c){const m=(c.roundZoom?Math.round:Math.floor)(P.zoom+s.at(P.tileSize/c.tileSize));return Math.max(0,m)}function io(P,c){const m=P.getCameraFrustum(),b=P.getClippingPlane(),C=P.screenPointToMercatorCoordinate(P.getCameraPoint()),I=s.a9.fromLngLat(P.center,P.elevation);C.z=I.z+Math.cos(P.pitchInRadians)*P.cameraToCenterDistance/P.worldSize;const z=P.getCoveringTilesDetailsProvider(),V=z.allowVariableZoom(P,c),H=ri(P,c),J=c.minzoom||0,ne=c.maxzoom!==void 0?c.maxzoom:P.maxZoom,he=Math.min(Math.max(0,H),ne),ue=Math.pow(2,he),ye=[ue*C.x,ue*C.y,0],Se=[ue*I.x,ue*I.y,0],Ie=Math.hypot(I.x-C.x,I.y-C.y),Le=Math.abs(I.z-C.z),De=Math.hypot(Ie,Le),je=We=>({zoom:0,x:0,y:0,wrap:We,fullyVisible:!1}),He=[],Fe=[];if(P.renderWorldCopies&&z.allowWorldCopies())for(let We=1;We<=3;We++)He.push(je(-We)),He.push(je(We));for(He.push(je(0));He.length>0;){const We=He.pop(),Je=We.x,Ze=We.y;let nt=We.fullyVisible;const yt={x:Je,y:Ze,z:We.zoom},ht=z.getTileBoundingVolume(yt,We.wrap,P.elevation,c);if(!nt){const nn=ro(m,ht,b);if(nn===0)continue;nt=nn===2}const ft=z.distanceToTile2d(C.x,C.y,yt,ht);let pt=H;V&&(pt=(c.calculateTileZoom||vi)(P.zoom+s.at(P.tileSize/c.tileSize),ft,Le,De,P.fov)),pt=(c.roundZoom?Math.round:Math.floor)(pt),pt=Math.max(0,pt);const tn=Math.min(pt,ne);if(We.wrap=z.getWrap(I,yt,We.wrap),We.zoom>=tn){if(We.zoom<J)continue;const nn=he-We.zoom,Nt=ye[0]-.5-(Je<<nn),cn=ye[1]-.5-(Ze<<nn),rr=c.reparseOverscaled?Math.max(We.zoom,pt):We.zoom;Fe.push({tileID:new s.a2(We.zoom===ne?rr:We.zoom,We.wrap,We.zoom,Je,Ze),distanceSq:s.au([Se[0]-.5-Je,Se[1]-.5-Ze]),tileDistanceToCamera:Math.sqrt(Nt*Nt+cn*cn)})}else for(let nn=0;nn<4;nn++)He.push({zoom:We.zoom+1,x:(Je<<1)+nn%2,y:(Ze<<1)+(nn>>1),wrap:We.wrap,fullyVisible:nt})}return Fe.sort(((We,Je)=>We.distanceSq-Je.distanceSq)).map((We=>We.tileID))}const ui=s.aa.fromPoints([new s.P(0,0),new s.P(s.a5,s.a5)]);function Io(P){return P==="raster"||P==="image"||P==="video"}function jf(P,c,m,b,C,I,z){if(!c.hasData())return!1;const{tileID:V,fadingRole:H,fadingDirection:J,fadingParentID:ne}=c;if(H===Ke.Base&&J===at.Incoming&&ne)return m[ne.key]=ne,!0;const he=Math.max(V.overscaledZ-C,I);for(let ue=V.overscaledZ-1;ue>=he;ue--){const ye=V.scaledTo(ue),Se=P.getLoadedTile(ye);if(Se)return c.setCrossFadeLogic({fadingRole:Ke.Base,fadingDirection:at.Incoming,fadingParentID:Se.tileID,fadeEndTime:b+z}),Se.setCrossFadeLogic({fadingRole:Ke.Parent,fadingDirection:at.Departing,fadeEndTime:b+z}),m[ye.key]=ye,!0}return!1}function vd(P,c,m,b,C,I){if(!c.hasData())return!1;const z=c.tileID.children(C);let V=Kt(P,c,z,m,b,C,I);if(V)return!0;for(const H of z)Kt(P,c,H.children(C),m,b,C,I)&&(V=!0);return V}function Kt(P,c,m,b,C,I,z){if(m[0].overscaledZ>=I)return!1;let V=!1;for(const H of m){const J=P.getLoadedTile(H);if(!J)continue;const{fadingRole:ne,fadingDirection:he,fadingParentID:ue}=J;ne===Ke.Base&&he===at.Departing&&ue||(J.setCrossFadeLogic({fadingRole:Ke.Base,fadingDirection:at.Departing,fadingParentID:c.tileID,fadeEndTime:C+z}),c.setCrossFadeLogic({fadingRole:Ke.Parent,fadingDirection:at.Incoming,fadeEndTime:C+z})),b[H.key]=H,V=!0}return V}function $s(P,c,m,b){const C=P.tileID;return!!P.selfFading||!P.hasData()&&!!c.has(C)&&(P.setSelfFadeLogic(m+b),!0)}function zs(P,c){var m;P.needsHillshadePrepare=!0,P.needsTerrainPrepare=!0;let b=c.tileID.canonical.x-P.tileID.canonical.x;const C=c.tileID.canonical.y-P.tileID.canonical.y,I=Math.pow(2,P.tileID.canonical.z),z=c.tileID.key;b===0&&C===0||Math.abs(C)>1||(Math.abs(b)>1&&(Math.abs(b+I)===1?b+=I:Math.abs(b-I)===1&&(b-=I)),c.dem&&P.dem&&(P.dem.backfillBorder(c.dem,b,C),!((m=P.neighboringTiles)===null||m===void 0)&&m[z]&&(P.neighboringTiles[z].backfilled=!0)))}class Ql{constructor(){this._tiles={}}handleWrapJump(c){const m={};for(const b in this._tiles){const C=this._tiles[b];C.tileID=C.tileID.unwrapTo(C.tileID.wrap+c),m[C.tileID.key]=C}this._tiles=m}setFeatureState(c,m){for(const b in this._tiles)this._tiles[b].setFeatureState(c,m)}getAllTiles(){return Object.values(this._tiles)}getAllIds(c=!1){return c?Object.values(this._tiles).map((m=>m.tileID)).sort(s.aw).map((m=>m.key)):Object.keys(this._tiles)}getTileById(c){return this._tiles[c]}setTile(c,m){this._tiles[c]=m}deleteTileById(c){delete this._tiles[c]}getLoadedTile(c){const m=this.getTileById(c.key);return m?.hasData()?m:null}isIdRenderable(c,m=!1){var b;return(b=this.getTileById(c))===null||b===void 0?void 0:b.isRenderable(m)}getRenderableIds(c=0,m){const b=[];for(const C of this.getAllIds())this.isIdRenderable(C,m)&&b.push(this.getTileById(C));return m?b.sort(((C,I)=>{const z=C.tileID,V=I.tileID,H=new s.P(z.canonical.x,z.canonical.y)._rotate(-c),J=new s.P(V.canonical.x,V.canonical.y)._rotate(-c);return z.overscaledZ-V.overscaledZ||J.y-H.y||J.x-H.x})).map((C=>C.tileID.key)):b.map((C=>C.tileID)).sort(s.aw).map((C=>C.key))}}class _i extends s.E{constructor(c,m,b){super(),this.id=c,this.dispatcher=b,this.on("data",(C=>this._dataHandler(C))),this.on("dataloading",(()=>{this._sourceErrored=!1})),this.on("error",(()=>{this._sourceErrored=this._source.loaded()})),this._source=((C,I,z,V)=>{const H=new(xe(I.type))(C,I,z,V);if(H.id!==C)throw new Error(`Expected Source id to be ${C} instead of ${H.id}`);return H})(c,m,b,this),this._inViewTiles=new Ql,this._outOfViewCache=new s.ax(0,(C=>this._unloadTile(C))),this._timers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._rasterFadeDuration=0,this._maxFadingAncestorLevels=5,this._state=new st,this._didEmitContent=!1,this._updated=!1}onAdd(c){this.map=c,this._maxTileCacheSize=c?c._maxTileCacheSize:null,this._maxTileCacheZoomLevels=c?c._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(c)}onRemove(c){for(const m of this._inViewTiles.getAllTiles())m.unloadVectorData();this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(c),this._inViewTiles=new Ql}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const c of this._inViewTiles.getAllTiles())if(c.state!=="loaded"&&c.state!=="errored")return!1;return!0}getSource(){return this._source}getState(){return this._state}pause(){this._paused=!0}resume(){if(!this._paused)return;const c=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,c&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(c,m,b){return s._(this,void 0,void 0,(function*(){try{yield this._source.loadTile(c),this._tileLoaded(c,m,b)}catch(C){c.state="errored",C.status!==404?this._source.fire(new s.k(C,{tile:c})):this.update(this.transform,this.terrain)}}))}_unloadTile(c){this._source.unloadTile&&this._source.unloadTile(c)}_abortTile(c){this._source.abortTile&&this._source.abortTile(c),this._source.fire(new s.l("dataabort",{tile:c,coord:c.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(c){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._inViewTiles,this.map?this.map.painter:null);for(const m of this._inViewTiles.getAllTiles())m.upload(c),m.prepare(this.map.style.imageManager)}getIds(){return this._inViewTiles.getAllIds(!0)}getRenderableIds(c){var m;return this._inViewTiles.getRenderableIds((m=this.transform)===null||m===void 0?void 0:m.bearingInRadians,c)}hasRenderableParent(c){const m=c.overscaledZ-1;if(m>=this._source.minzoom){const b=this.getLoadedTile(c.scaledTo(m));if(b)return this._inViewTiles.isIdRenderable(b.tileID.key)}return!1}reload(c,m=void 0){if(this._paused)this._shouldReloadOnResume=!0;else{this._outOfViewCache.reset();for(const b of this._inViewTiles.getAllIds()){const C=this._inViewTiles.getTileById(b);m&&!this._source.shouldReloadTile(C,m)||(c?this._reloadTile(b,"expired"):C.state!=="errored"&&this._reloadTile(b,"reloading"))}}}_reloadTile(c,m){return s._(this,void 0,void 0,(function*(){const b=this._inViewTiles.getTileById(c);b&&(b.state!=="loading"&&(b.state=m),yield this._loadTile(b,c,m))}))}_tileLoaded(c,m,b){c.timeAdded=A(),c.selfFading&&(c.fadeEndTime=c.timeAdded+this._rasterFadeDuration),b==="expired"&&(c.refreshedUponExpiration=!0),this._setTileReloadTimer(m,c),this.getSource().type==="raster-dem"&&c.dem&&(function(C,I){var z,V;const H=I.getRenderableIds();for(const J of H){if(!C.neighboringTiles||!C.neighboringTiles[J])continue;const ne=I.getTileById(J);C.neighboringTiles[J].backfilled||zs(C,ne),!((V=(z=ne.neighboringTiles)===null||z===void 0?void 0:z[C.tileID.key])===null||V===void 0)&&V.backfilled||zs(ne,C)}})(c,this._inViewTiles),this._state.initializeTileState(c,this.map?this.map.painter:null),c.aborted||this._source.fire(new s.l("data",{dataType:"source",tile:c,coord:c.tileID}))}getTile(c){return this.getTileByID(c.key)}getTileByID(c){return this._inViewTiles.getTileById(c)}_retainLoadedChildren(c,m){const b=this._getLoadedDescendents(m),C=new Set;for(const I of m){const z=b[I.key];if(!z?.length){C.add(I);continue}const V=I.overscaledZ+_i.maxOverzooming,H=z.filter((he=>he.tileID.overscaledZ<=V));if(!H.length){C.add(I);continue}const J=Math.min(...H.map((he=>he.tileID.overscaledZ))),ne=H.filter((he=>he.tileID.overscaledZ===J)).map((he=>he.tileID));for(const he of ne)c[he.key]=he;this._areDescendentsComplete(ne,J,I.overscaledZ)||C.add(I)}return C}_getLoadedDescendents(c){var m;const b={};for(const C of this._inViewTiles.getAllTiles().filter((I=>I.hasData())))for(const I of c)C.tileID.isChildOf(I)&&(b[m=I.key]||(b[m]=[])).push(C);return b}_areDescendentsComplete(c,m,b){return c.length===1&&c[0].isOverscaled()?c[0].overscaledZ===m:Math.pow(4,m-b)===c.length}getLoadedTile(c){return this._inViewTiles.getLoadedTile(c)}updateCacheSize(c){const m=Math.ceil(c.width/this._source.tileSize)+1,b=Math.ceil(c.height/this._source.tileSize)+1,C=Math.floor(m*b*(this._maxTileCacheZoomLevels===null?s.c.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),I=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,C):C;this._outOfViewCache.setMaxSize(I)}handleWrapJump(c){const m=Math.round((c-(this._prevLng===void 0?c:this._prevLng))/360);this._prevLng=c,m&&(this._inViewTiles.handleWrapJump(m),this._resetTileReloadTimers())}update(c,m){if(!this._sourceLoaded||this._paused)return;let b;this.transform=c,this.terrain=m,this.updateCacheSize(c),this.handleWrapJump(this.transform.center.lng),this.used||this.usedForTerrain?this._source.tileID?b=c.getVisibleUnwrappedCoordinates(this._source.tileID).map((H=>new s.a2(H.canonical.z,H.wrap,H.canonical.z,H.canonical.x,H.canonical.y))):(b=io(c,{tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.type==="vector"&&this.map._zoomLevelsToOverscale!==void 0?c.maxZoom-this.map._zoomLevelsToOverscale:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:m,calculateTileZoom:this._source.calculateTileZoom}),this._source.hasTile&&(b=b.filter((H=>this._source.hasTile(H))))):b=[],this.usedForTerrain&&(b=this._addTerrainIdealTiles(b));const C=b.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,C&&this.fire(new s.l("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const I=ri(c,this._source),z=this._updateRetainedTiles(b,I),V=Io(this._source.type);V&&this._rasterFadeDuration>0&&!m&&(function(H,J,ne,he,ue,ye,Se){const Ie=A(),Le=s.av(J);for(const De of J){const je=H.getTileById(De.key);je.fadingDirection!==at.Departing&&je.fadeOpacity!==0||je.resetFadeLogic(),jf(H,je,ne,Ie,he,ue,Se)||vd(H,je,ne,Ie,ye,Se)||$s(je,Le,Ie,Se)||je.resetFadeLogic()}})(this._inViewTiles,b,z,this._maxFadingAncestorLevels,this._source.minzoom,this._source.maxzoom,this._rasterFadeDuration),V?this._cleanUpRasterTiles(z):this._cleanUpVectorTiles(z)}_cleanUpRasterTiles(c){for(const m of this._inViewTiles.getAllIds())c[m]||this._removeTile(m)}_cleanUpVectorTiles(c){for(const m of this._inViewTiles.getAllIds()){const b=this._inViewTiles.getTileById(m);c[m]?b.clearSymbolFadeHold():b.hasSymbolBuckets?b.holdingForSymbolFade()?b.symbolFadeFinished()&&this._removeTile(m):b.setSymbolHoldDuration(this.map._fadeDuration):this._removeTile(m)}}_addTerrainIdealTiles(c){const m=[];for(const b of c)if(b.canonical.z>this._source.minzoom){const C=b.scaledTo(b.canonical.z-1);m.push(C);const I=b.scaledTo(Math.max(this._source.minzoom,Math.min(b.canonical.z,5)));m.push(I)}return c.concat(m)}releaseSymbolFadeTiles(){for(const c of this._inViewTiles.getAllIds())this._inViewTiles.getTileById(c).holdingForSymbolFade()&&this._removeTile(c)}_updateRetainedTiles(c,m){var b;const C=new Set;for(const J of c)this._addTile(J).hasData()||C.add(J);const I=c.reduce(((J,ne)=>(J[ne.key]=ne,J)),{}),z=this._retainLoadedChildren(I,C),V={},H=Math.max(m-_i.maxUnderzooming,this._source.minzoom);for(const J of z){let ne=this._inViewTiles.getTileById(J.key),he=ne?.wasRequested();for(let ue=J.overscaledZ-1;ue>=H;--ue){const ye=J.scaledTo(ue);if(V[ye.key])break;if(V[ye.key]=!0,ne=this.getTile(ye),!ne&&he&&(ne=this._addTile(ye)),ne){const Se=ne.hasData();if((Se||!(!((b=this.map)===null||b===void 0)&&b.cancelPendingTileRequestsWhileZooming)||he)&&(I[ye.key]=ye),he=ne.wasRequested(),Se)break}}}return I}_addTile(c){let m=this._inViewTiles.getTileById(c.key);if(m)return m;m=this._outOfViewCache.getAndRemove(c),m&&(m.resetFadeLogic(),this._setTileReloadTimer(c.key,m),m.tileID=c,this._state.initializeTileState(m,this.map?this.map.painter:null));const b=m;return m||(m=new St(c,this._source.tileSize*c.overscaleFactor()),this._loadTile(m,c.key,m.state)),m.uses++,this._inViewTiles.setTile(c.key,m),b||this._source.fire(new s.l("dataloading",{tile:m,coord:m.tileID,dataType:"source"})),m}_setTileReloadTimer(c,m){this._clearTileReloadTimer(c);const b=m.getExpiryTimeout();b&&(this._timers[c]=setTimeout((()=>{this._reloadTile(c,"expired"),delete this._timers[c]}),b))}_clearTileReloadTimer(c){const m=this._timers[c];m&&(clearTimeout(m),delete this._timers[c])}_resetTileReloadTimers(){for(const c in this._timers)clearTimeout(this._timers[c]),delete this._timers[c];for(const c of this._inViewTiles.getAllIds()){const m=this._inViewTiles.getTileById(c);this._setTileReloadTimer(c,m)}}refreshTiles(c){for(const m of this._inViewTiles.getAllIds()){const b=this._inViewTiles.getTileById(m);(this._inViewTiles.isIdRenderable(m)||b.state=="errored")&&c.some((C=>C.equals(b.tileID.canonical)))&&this._reloadTile(m,"expired")}}_removeTile(c){const m=this._inViewTiles.getTileById(c);m&&(m.uses--,this._inViewTiles.deleteTileById(c),this._clearTileReloadTimer(c),m.uses>0||(m.hasData()&&m.state!=="reloading"?this._outOfViewCache.add(m.tileID,m,m.getExpiryTimeout()):(m.aborted=!0,this._abortTile(m),this._unloadTile(m))))}_dataHandler(c){c.dataType==="source"&&(c.sourceDataType!=="metadata"?c.sourceDataType==="content"&&this._sourceLoaded&&!this._paused&&(this.reload(c.sourceDataChanged,c.shouldReloadTileOptions),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0):this._sourceLoaded=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const c of this._inViewTiles.getAllIds())this._removeTile(c);this._outOfViewCache.reset()}tilesIn(c,m,b){const C=[],I=this.transform;if(!I)return C;const z=I.getCoveringTilesDetailsProvider().allowWorldCopies(),V=b?I.getCameraQueryGeometry(c):c,H=ye=>I.screenPointToMercatorCoordinate(ye,this.terrain),J=this.transformBbox(c,H,!z),ne=this.transformBbox(V,H,!z),he=this.getIds(),ue=s.aa.fromPoints(ne);for(let ye=0;ye<he.length;ye++){const Se=this._inViewTiles.getTileById(he[ye]);if(Se.holdingForSymbolFade())continue;const Ie=z?[Se.tileID]:[Se.tileID.unwrapTo(-1),Se.tileID.unwrapTo(0)],Le=Math.pow(2,I.zoom-Se.tileID.overscaledZ),De=m*Se.queryPadding*s.a5/Se.tileSize/Le;for(const je of Ie){const He=ue.map((Fe=>je.getTilePoint(new s.a9(Fe.x,Fe.y))));if(He.expandBy(De),He.intersects(ui)){const Fe=J.map((Je=>je.getTilePoint(Je))),We=ne.map((Je=>je.getTilePoint(Je)));C.push({tile:Se,tileID:z?je:je.unwrapTo(0),queryGeometry:Fe,cameraQueryGeometry:We,scale:Le})}}}return C}transformBbox(c,m,b){let C=c.map(m);if(b){const I=s.aa.fromPoints(c);I.shrinkBy(.001*Math.min(I.width(),I.height()));const z=I.map(m);s.aa.fromPoints(C).covers(z)||(C=C.map((V=>V.x>.5?new s.a9(V.x-1,V.y,V.z):V)))}return C}getVisibleCoordinates(c){const m=this.getRenderableIds(c).map((b=>this._inViewTiles.getTileById(b).tileID));return this.transform&&this.transform.populateCache(m),m}hasTransition(){return!!this._source.hasTransition()||!(!Io(this._source.type)||!(function(c,m){if(m<=0)return!1;const b=A();for(const C of c.getAllTiles())if(C.fadeEndTime>=b)return!0;return!1})(this._inViewTiles,this._rasterFadeDuration))}setRasterFadeDuration(c){this._rasterFadeDuration=c}setFeatureState(c,m,b){this._state.updateState(c=c||s.ai,m,b)}removeFeatureState(c,m,b){this._state.removeFeatureState(c=c||s.ai,m,b)}getFeatureState(c,m){return this._state.getState(c=c||s.ai,m)}setDependencies(c,m,b){const C=this._inViewTiles.getTileById(c);C&&C.setDependencies(m,b)}reloadTilesForDependencies(c,m){for(const b of this._inViewTiles.getAllIds())this._inViewTiles.getTileById(b).hasDependency(c,m)&&this._reloadTile(b,"reloading");this._outOfViewCache.filter((b=>!b.hasDependency(c,m)))}areTilesLoaded(){for(const c of this._inViewTiles.getAllTiles())if(c.state!=="loaded"&&c.state!=="errored")return!1;return!0}}_i.maxUnderzooming=10,_i.maxOverzooming=3;class rn{constructor(c,m){this.reset(c,m)}reset(c,m){this.points=c||[],this._distances=[0];for(let b=1;b<this.points.length;b++)this._distances[b]=this._distances[b-1]+this.points[b].dist(this.points[b-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(m||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(c){if(this.points.length===1)return this.points[0];c=s.an(c,0,1);let m=1,b=this._distances[m];const C=c*this.paddedLength+this.padding;for(;b<C&&m<this._distances.length;)b=this._distances[++m];const I=m-1,z=this._distances[I],V=b-z,H=V>0?(C-z)/V:0;return this.points[I].mult(1-H).add(this.points[m].mult(H))}}function sr(P,c){let m=!0;return P==="always"||P!=="never"&&c!=="never"||(m=!1),m}class fr{constructor(c,m,b){const C=this.boxCells=[],I=this.circleCells=[];this.xCellCount=Math.ceil(c/b),this.yCellCount=Math.ceil(m/b);for(let z=0;z<this.xCellCount*this.yCellCount;z++)C.push([]),I.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=c,this.height=m,this.xScale=this.xCellCount/c,this.yScale=this.yCellCount/m,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(c,m,b,C,I){this._forEachCell(m,b,C,I,this._insertBoxCell,this.boxUid++),this.boxKeys.push(c),this.bboxes.push(m),this.bboxes.push(b),this.bboxes.push(C),this.bboxes.push(I)}insertCircle(c,m,b,C){this._forEachCell(m-C,b-C,m+C,b+C,this._insertCircleCell,this.circleUid++),this.circleKeys.push(c),this.circles.push(m),this.circles.push(b),this.circles.push(C)}_insertBoxCell(c,m,b,C,I,z){this.boxCells[I].push(z)}_insertCircleCell(c,m,b,C,I,z){this.circleCells[I].push(z)}_query(c,m,b,C,I,z,V){if(b<0||c>this.width||C<0||m>this.height)return[];const H=[];if(c<=0&&m<=0&&this.width<=b&&this.height<=C){if(I)return[{key:null,x1:c,y1:m,x2:b,y2:C}];for(let J=0;J<this.boxKeys.length;J++)H.push({key:this.boxKeys[J],x1:this.bboxes[4*J],y1:this.bboxes[4*J+1],x2:this.bboxes[4*J+2],y2:this.bboxes[4*J+3]});for(let J=0;J<this.circleKeys.length;J++){const ne=this.circles[3*J],he=this.circles[3*J+1],ue=this.circles[3*J+2];H.push({key:this.circleKeys[J],x1:ne-ue,y1:he-ue,x2:ne+ue,y2:he+ue})}}else this._forEachCell(c,m,b,C,this._queryCell,H,{hitTest:I,overlapMode:z,seenUids:{box:{},circle:{}}},V);return H}query(c,m,b,C){return this._query(c,m,b,C,!1,null)}hitTest(c,m,b,C,I,z){return this._query(c,m,b,C,!0,I,z).length>0}hitTestCircle(c,m,b,C,I){const z=c-b,V=c+b,H=m-b,J=m+b;if(V<0||z>this.width||J<0||H>this.height)return!1;const ne=[];return this._forEachCell(z,H,V,J,this._queryCellCircle,ne,{hitTest:!0,overlapMode:C,circle:{x:c,y:m,radius:b},seenUids:{box:{},circle:{}}},I),ne.length>0}_queryCell(c,m,b,C,I,z,V,H){const{seenUids:J,hitTest:ne,overlapMode:he}=V,ue=this.boxCells[I];if(ue!==null){const Se=this.bboxes;for(const Ie of ue)if(!J.box[Ie]){J.box[Ie]=!0;const Le=4*Ie,De=this.boxKeys[Ie];if(c<=Se[Le+2]&&m<=Se[Le+3]&&b>=Se[Le+0]&&C>=Se[Le+1]&&(!H||H(De))&&(!ne||!sr(he,De.overlapMode))&&(z.push({key:De,x1:Se[Le],y1:Se[Le+1],x2:Se[Le+2],y2:Se[Le+3]}),ne))return!0}}const ye=this.circleCells[I];if(ye!==null){const Se=this.circles;for(const Ie of ye)if(!J.circle[Ie]){J.circle[Ie]=!0;const Le=3*Ie,De=this.circleKeys[Ie];if(this._circleAndRectCollide(Se[Le],Se[Le+1],Se[Le+2],c,m,b,C)&&(!H||H(De))&&(!ne||!sr(he,De.overlapMode))){const je=Se[Le],He=Se[Le+1],Fe=Se[Le+2];if(z.push({key:De,x1:je-Fe,y1:He-Fe,x2:je+Fe,y2:He+Fe}),ne)return!0}}}return!1}_queryCellCircle(c,m,b,C,I,z,V,H){const{circle:J,seenUids:ne,overlapMode:he}=V,ue=this.boxCells[I];if(ue!==null){const Se=this.bboxes;for(const Ie of ue)if(!ne.box[Ie]){ne.box[Ie]=!0;const Le=4*Ie,De=this.boxKeys[Ie];if(this._circleAndRectCollide(J.x,J.y,J.radius,Se[Le+0],Se[Le+1],Se[Le+2],Se[Le+3])&&(!H||H(De))&&!sr(he,De.overlapMode))return z.push(!0),!0}}const ye=this.circleCells[I];if(ye!==null){const Se=this.circles;for(const Ie of ye)if(!ne.circle[Ie]){ne.circle[Ie]=!0;const Le=3*Ie,De=this.circleKeys[Ie];if(this._circlesCollide(Se[Le],Se[Le+1],Se[Le+2],J.x,J.y,J.radius)&&(!H||H(De))&&!sr(he,De.overlapMode))return z.push(!0),!0}}}_forEachCell(c,m,b,C,I,z,V,H){const J=this._convertToXCellCoord(c),ne=this._convertToYCellCoord(m),he=this._convertToXCellCoord(b),ue=this._convertToYCellCoord(C);for(let ye=J;ye<=he;ye++)for(let Se=ne;Se<=ue;Se++)if(I.call(this,c,m,b,C,this.xCellCount*Se+ye,z,V,H))return}_convertToXCellCoord(c){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(c*this.xScale)))}_convertToYCellCoord(c){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(c*this.yScale)))}_circlesCollide(c,m,b,C,I,z){const V=C-c,H=I-m,J=b+z;return J*J>V*V+H*H}_circleAndRectCollide(c,m,b,C,I,z,V){const H=(z-C)/2,J=Math.abs(c-(C+H));if(J>H+b)return!1;const ne=(V-I)/2,he=Math.abs(m-(I+ne));if(he>ne+b)return!1;if(J<=H||he<=ne)return!0;const ue=J-H,ye=he-ne;return ue*ue+ye*ye<=b*b}}function La(P,c,m){const b=s.N();if(!P){const{vecSouth:he,vecEast:ue}=_c(c),ye=d();ye[0]=ue[0],ye[1]=ue[1],ye[2]=he[0],ye[3]=he[1],C=ye,(ne=(z=(I=ye)[0])*(J=I[3])-(H=I[2])*(V=I[1]))&&(C[0]=J*(ne=1/ne),C[1]=-V*ne,C[2]=-H*ne,C[3]=z*ne),b[0]=ye[0],b[1]=ye[1],b[4]=ye[2],b[5]=ye[3]}var C,I,z,V,H,J,ne;return s.Q(b,b,[1/m,1/m,1]),b}function yy(P,c,m,b){if(P){const C=s.N();if(!c){const{vecSouth:I,vecEast:z}=_c(m);C[0]=z[0],C[1]=z[1],C[4]=I[0],C[5]=I[1]}return s.Q(C,C,[b,b,1]),C}return m.pixelsToClipSpaceMatrix}function _c(P){const c=Math.cos(P.rollInRadians),m=Math.sin(P.rollInRadians),b=Math.cos(P.pitchInRadians),C=Math.cos(P.bearingInRadians),I=Math.sin(P.bearingInRadians),z=s.aC();z[0]=-C*b*m-I*c,z[1]=-I*b*m+C*c;const V=s.aD(z);V<1e-9?s.aE(z):s.aF(z,z,1/V);const H=s.aC();H[0]=C*b*c-I*m,H[1]=I*b*c+C*m;const J=s.aD(H);return J<1e-9?s.aE(H):s.aF(H,H,1/J),{vecEast:H,vecSouth:z}}function or(P,c,m,b){let C;b?(C=[P,c,b(P,c),1],s.aH(C,C,m)):(C=[P,c,0,1],ul(C,C,m));const I=C[3];return{point:new s.P(C[0]/I,C[1]/I),signedDistanceFromCamera:I,isOccluded:!1}}function _d(P,c){return .5+P/c*.5}function xc(P,c){return P.x>=-c[0]&&P.x<=c[0]&&P.y>=-c[1]&&P.y<=c[1]}function fu(P,c,m,b,C,I,z,V,H,J,ne,he,ue){const ye=m?P.textSizeData:P.iconSizeData,Se=s.ay(ye,c.transform.zoom),Ie=[256/c.width*2+1,256/c.height*2+1],Le=m?P.text.dynamicLayoutVertexArray:P.icon.dynamicLayoutVertexArray;Le.clear();const De=P.lineVertexArray,je=m?P.text.placedSymbolArray:P.icon.placedSymbolArray,He=c.transform.width/c.transform.height;let Fe=!1;for(let We=0;We<je.length;We++){const Je=je.get(We);if(Je.hidden||Je.writingMode===s.az.vertical&&!Fe){Oc(Je.numGlyphs,Le);continue}Fe=!1;const Ze=new s.P(Je.anchorX,Je.anchorY),nt={getElevation:ue,pitchedLabelPlaneMatrix:b,lineVertexArray:De,pitchWithMap:I,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:c.transform,tileAnchorPoint:Ze,unwrappedTileID:H,width:J,height:ne,translation:he},yt=Qf(Je.anchorX,Je.anchorY,nt);if(!xc(yt.point,Ie)){Oc(Je.numGlyphs,Le);continue}const ht=_d(c.transform.cameraToCenterDistance,yt.signedDistanceFromCamera),ft=s.aA(ye,Se,Je),pt=I?ft*c.transform.getPitchedTextCorrection(Je.anchorX,Je.anchorY,H)/ht:ft*ht,tn=oo({projectionContext:nt,pitchedLabelPlaneMatrixInverse:C,symbol:Je,fontSize:pt,flip:!1,keepUpright:z,glyphOffsetArray:P.glyphOffsetArray,dynamicLayoutVertexArray:Le,aspectRatio:He,rotateToLine:V});Fe=tn.useVertical,(tn.notEnoughRoom||Fe||tn.needsFlipping&&oo({projectionContext:nt,pitchedLabelPlaneMatrixInverse:C,symbol:Je,fontSize:pt,flip:!0,keepUpright:z,glyphOffsetArray:P.glyphOffsetArray,dynamicLayoutVertexArray:Le,aspectRatio:He,rotateToLine:V}).notEnoughRoom)&&Oc(Je.numGlyphs,Le)}m?P.text.dynamicLayoutVertexBuffer.updateData(Le):P.icon.dynamicLayoutVertexBuffer.updateData(Le)}function bc(P,c,m,b,C,I,z,V){const H=I.glyphStartIndex+I.numGlyphs,J=I.lineStartIndex,ne=I.lineStartIndex+I.lineLength,he=c.getoffsetX(I.glyphStartIndex),ue=c.getoffsetX(H-1),ye=Ul(P*he,m,b,C,I.segment,J,ne,V,z);if(!ye)return null;const Se=Ul(P*ue,m,b,C,I.segment,J,ne,V,z);return Se?V.projectionCache.anyProjectionOccluded?null:{first:ye,last:Se}:null}function wc(P,c,m,b){return P===s.az.horizontal&&Math.abs(m.y-c.y)>Math.abs(m.x-c.x)*b?{useVertical:!0}:(P===s.az.vertical?c.y<m.y:c.x>m.x)?{needsFlipping:!0}:null}function oo(P){const{projectionContext:c,pitchedLabelPlaneMatrixInverse:m,symbol:b,fontSize:C,flip:I,keepUpright:z,glyphOffsetArray:V,dynamicLayoutVertexArray:H,aspectRatio:J,rotateToLine:ne}=P,he=C/24,ue=b.lineOffsetX*he,ye=b.lineOffsetY*he;let Se;if(b.numGlyphs>1){const Ie=b.glyphStartIndex+b.numGlyphs,Le=b.lineStartIndex,De=b.lineStartIndex+b.lineLength,je=bc(he,V,ue,ye,I,b,ne,c);if(!je)return{notEnoughRoom:!0};const He=pu(je.first.point.x,je.first.point.y,c,m),Fe=pu(je.last.point.x,je.last.point.y,c,m);if(z&&!I){const We=wc(b.writingMode,He,Fe,J);if(We)return We}Se=[je.first];for(let We=b.glyphStartIndex+1;We<Ie-1;We++){const Je=Ul(he*V.getoffsetX(We),ue,ye,I,b.segment,Le,De,c,ne);if(!Je)return{notEnoughRoom:!0};Se.push(Je)}Se.push(je.last)}else{if(z&&!I){const Le=Ir(c.tileAnchorPoint.x,c.tileAnchorPoint.y,c).point,De=b.lineStartIndex+b.segment+1,je=new s.P(c.lineVertexArray.getx(De),c.lineVertexArray.gety(De)),He=Ir(je.x,je.y,c),Fe=He.signedDistanceFromCamera>0?He.point:Vf(c.tileAnchorPoint,je,Le,1,c),We=pu(Le.x,Le.y,c,m),Je=pu(Fe.x,Fe.y,c,m),Ze=wc(b.writingMode,We,Je,J);if(Ze)return Ze}const Ie=Ul(he*V.getoffsetX(b.glyphStartIndex),ue,ye,I,b.segment,b.lineStartIndex,b.lineStartIndex+b.lineLength,c,ne);if(!Ie||c.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};Se=[Ie]}for(const Ie of Se)s.aG(H,Ie.point,Ie.angle);return{}}function Vf(P,c,m,b,C){const I=P.add(P.sub(c)._unit()),z=Ir(I.x,I.y,C).point,V=m.sub(z);return m.add(V._mult(b/V.mag()))}function Ns(P,c,m){const b=c.projectionCache;if(b.projections[P])return b.projections[P];const C=new s.P(c.lineVertexArray.getx(P),c.lineVertexArray.gety(P)),I=Ir(C.x,C.y,c);if(I.signedDistanceFromCamera>0)return b.projections[P]=I.point,b.anyProjectionOccluded=b.anyProjectionOccluded||I.isOccluded,I.point;const z=P-m.direction;return Vf(m.distanceFromAnchor===0?c.tileAnchorPoint:new s.P(c.lineVertexArray.getx(z),c.lineVertexArray.gety(z)),C,m.previousVertex,m.absOffsetX-m.distanceFromAnchor+1,c)}function Ir(P,c,m){const b=P+m.translation[0],C=c+m.translation[1];let I;return m.pitchWithMap?(I=or(b,C,m.pitchedLabelPlaneMatrix,m.getElevation),I.isOccluded=!1):(I=m.transform.projectTileCoordinates(b,C,m.unwrappedTileID,m.getElevation),I.point.x=(.5*I.point.x+.5)*m.width,I.point.y=(.5*-I.point.y+.5)*m.height),I}function pu(P,c,m,b){if(m.pitchWithMap){const C=[P,c,0,1];return s.aH(C,C,b),m.transform.projectTileCoordinates(C[0]/C[3],C[1]/C[3],m.unwrappedTileID,m.getElevation).point}return{x:P/m.width*2-1,y:1-c/m.height*2}}function Qf(P,c,m){return m.transform.projectTileCoordinates(P,c,m.unwrappedTileID,m.getElevation)}function Uf(P,c,m){return P._unit()._perp()._mult(c*m)}function fh(P,c,m,b,C,I,z,V,H){if(V.projectionCache.offsets[P])return V.projectionCache.offsets[P];const J=m.add(c);if(P+H.direction<b||P+H.direction>=C)return V.projectionCache.offsets[P]=J,J;const ne=Ns(P+H.direction,V,H),he=Uf(ne.sub(m),z,H.direction),ue=m.add(he),ye=ne.add(he);return V.projectionCache.offsets[P]=s.aI(I,J,ue,ye)||J,V.projectionCache.offsets[P]}function Ul(P,c,m,b,C,I,z,V,H){const J=b?P-c:P+c;let ne=J>0?1:-1,he=0;b&&(ne*=-1,he=Math.PI),ne<0&&(he+=Math.PI);let ue,ye=ne>0?I+C:I+C+1;V.projectionCache.cachedAnchorPoint?ue=V.projectionCache.cachedAnchorPoint:(ue=Ir(V.tileAnchorPoint.x,V.tileAnchorPoint.y,V).point,V.projectionCache.cachedAnchorPoint=ue);let Se,Ie,Le=ue,De=ue,je=0,He=0;const Fe=Math.abs(J),We=[];let Je;for(;je+He<=Fe;){if(ye+=ne,ye<I||ye>=z)return null;je+=He,De=Le,Ie=Se;const yt={absOffsetX:Fe,direction:ne,distanceFromAnchor:je,previousVertex:De};if(Le=Ns(ye,V,yt),m===0)We.push(De),Je=Le.sub(De);else{let ht;const ft=Le.sub(De);ht=ft.mag()===0?Uf(Ns(ye+ne,V,yt).sub(Le),m,ne):Uf(ft,m,ne),Ie||(Ie=De.add(ht)),Se=fh(ye,ht,Le,I,z,Ie,m,V,yt),We.push(Ie),Je=Se.sub(Ie)}He=Je.mag()}const Ze=Je._mult((Fe-je)/He)._add(Ie||De),nt=he+Math.atan2(Le.y-De.y,Le.x-De.x);return We.push(Ze),{point:Ze,angle:H?nt:0,path:We}}const Sm=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Oc(P,c){for(let m=0;m<P;m++){const b=c.length;c.resize(b+4),c.float32.set(Sm,3*b)}}function ul(P,c,m){const b=c[0],C=c[1];return P[0]=m[0]*b+m[4]*C+m[12],P[1]=m[1]*b+m[5]*C+m[13],P[3]=m[3]*b+m[7]*C+m[15],P}const Fr=100;class mv{constructor(c,m=new fr(c.width+200,c.height+200,25),b=new fr(c.width+200,c.height+200,25)){this.transform=c,this.grid=m,this.ignoredGrid=b,this.pitchFactor=Math.cos(c.pitch*Math.PI/180)*c.cameraToCenterDistance,this.screenRightBoundary=c.width+Fr,this.screenBottomBoundary=c.height+Fr,this.gridRightBoundary=c.width+200,this.gridBottomBoundary=c.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(c,m,b,C,I,z,V,H,J,ne,he,ue){const ye=this.projectAndGetPerspectiveRatio(c.anchorPointX+H[0],c.anchorPointY+H[1],I,ne,ue),Se=b*ye.perspectiveRatio;let Ie;if(z||V)Ie=this._projectCollisionBox(c,Se,C,I,z,V,H,ye,ne,he,ue);else{const Je=ye.x+(he?he.x*Se:0),Ze=ye.y+(he?he.y*Se:0);Ie={allPointsOccluded:!1,box:[Je+c.x1*Se,Ze+c.y1*Se,Je+c.x2*Se,Ze+c.y2*Se]}}const[Le,De,je,He]=Ie.box,Fe=z?Ie.allPointsOccluded:ye.isOccluded;let We=Fe;return We||(We=ye.perspectiveRatio<this.perspectiveRatioCutoff),We||(We=!this.isInsideGrid(Le,De,je,He)),We||m!=="always"&&this.grid.hitTest(Le,De,je,He,m,J)?{box:[Le,De,je,He],placeable:!1,offscreen:!1,occluded:Fe}:{box:[Le,De,je,He],placeable:!0,offscreen:this.isOffscreen(Le,De,je,He),occluded:Fe}}placeCollisionCircles(c,m,b,C,I,z,V,H,J,ne,he,ue,ye,Se){const Ie=[],Le=new s.P(m.anchorX,m.anchorY),De=this.getPerspectiveRatio(Le.x,Le.y,z,Se),je=(J?I*this.transform.getPitchedTextCorrection(m.anchorX,m.anchorY,z)/De:I*De)/s.aM,He={getElevation:Se,pitchedLabelPlaneMatrix:V,lineVertexArray:b,pitchWithMap:J,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:this.transform,tileAnchorPoint:Le,unwrappedTileID:z,width:this.transform.width,height:this.transform.height,translation:ye},Fe=bc(je,C,m.lineOffsetX*je,m.lineOffsetY*je,!1,m,!1,He);let We=!1,Je=!1,Ze=!0;if(Fe){const nt=.5*he*De+ue,yt=new s.P(-100,-100),ht=new s.P(this.screenRightBoundary,this.screenBottomBoundary),ft=new rn,pt=Fe.first,tn=Fe.last;let nn=[];for(let rr=pt.path.length-1;rr>=1;rr--)nn.push(pt.path[rr]);for(let rr=1;rr<tn.path.length;rr++)nn.push(tn.path[rr]);const Nt=2.5*nt;if(J){const rr=this.projectPathToScreenSpace(nn,He);nn=rr.some((Xr=>Xr.signedDistanceFromCamera<=0))?[]:rr.map((Xr=>Xr.point))}let cn=[];if(nn.length>0){const rr=nn[0].clone(),Xr=nn[0].clone();for(let xi=1;xi<nn.length;xi++)rr.x=Math.min(rr.x,nn[xi].x),rr.y=Math.min(rr.y,nn[xi].y),Xr.x=Math.max(Xr.x,nn[xi].x),Xr.y=Math.max(Xr.y,nn[xi].y);cn=rr.x>=yt.x&&Xr.x<=ht.x&&rr.y>=yt.y&&Xr.y<=ht.y?[nn]:Xr.x<yt.x||rr.x>ht.x||Xr.y<yt.y||rr.y>ht.y?[]:s.aJ([nn],yt.x,yt.y,ht.x,ht.y)}for(const rr of cn){ft.reset(rr,.25*nt);let Xr=0;Xr=ft.length<=.5*nt?1:Math.ceil(ft.paddedLength/Nt)+1;for(let xi=0;xi<Xr;xi++){const fi=xi/Math.max(Xr-1,1),Mi=ft.lerp(fi),oi=Mi.x+Fr,Xi=Mi.y+Fr;Ie.push(oi,Xi,nt,0);const Ri=oi-nt,us=Xi-nt,co=oi+nt,uo=Xi+nt;if(Ze=Ze&&this.isOffscreen(Ri,us,co,uo),Je=Je||this.isInsideGrid(Ri,us,co,uo),c!=="always"&&this.grid.hitTestCircle(oi,Xi,nt,c,ne)&&(We=!0,!H))return{circles:[],offscreen:!1,collisionDetected:We}}}}return{circles:!H&&We||!Je||De<this.perspectiveRatioCutoff?[]:Ie,offscreen:Ze,collisionDetected:We}}projectPathToScreenSpace(c,m){const b=(function(C,I){const z=s.N();return s.aB(z,I.pitchedLabelPlaneMatrix),C.map((V=>{const H=or(V.x,V.y,z,I.getElevation),J=I.transform.projectTileCoordinates(H.point.x,H.point.y,I.unwrappedTileID,I.getElevation);return J.point.x=(.5*J.point.x+.5)*I.width,J.point.y=(.5*-J.point.y+.5)*I.height,J}))})(c,m);return(function(C){let I=0,z=0,V=0,H=0;for(let J=0;J<C.length;J++)C[J].isOccluded?(V=J+1,H=0):(H++,H>z&&(z=H,I=V));return C.slice(I,I+z)})(b)}queryRenderedSymbols(c){if(c.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const m=[],b=new s.aa;for(const he of c){const ue=new s.P(he.x+Fr,he.y+Fr);b.extend(ue),m.push(ue)}const{minX:C,minY:I,maxX:z,maxY:V}=b,H=this.grid.query(C,I,z,V).concat(this.ignoredGrid.query(C,I,z,V)),J={},ne={};for(const he of H){const ue=he.key;if(J[ue.bucketInstanceId]===void 0&&(J[ue.bucketInstanceId]={}),J[ue.bucketInstanceId][ue.featureIndex])continue;const ye=[new s.P(he.x1,he.y1),new s.P(he.x2,he.y1),new s.P(he.x2,he.y2),new s.P(he.x1,he.y2)];s.aK(m,ye)&&(J[ue.bucketInstanceId][ue.featureIndex]=!0,ne[ue.bucketInstanceId]===void 0&&(ne[ue.bucketInstanceId]=[]),ne[ue.bucketInstanceId].push(ue.featureIndex))}return ne}insertCollisionBox(c,m,b,C,I,z){(b?this.ignoredGrid:this.grid).insert({bucketInstanceId:C,featureIndex:I,collisionGroupID:z,overlapMode:m},c[0],c[1],c[2],c[3])}insertCollisionCircles(c,m,b,C,I,z){const V=b?this.ignoredGrid:this.grid,H={bucketInstanceId:C,featureIndex:I,collisionGroupID:z,overlapMode:m};for(let J=0;J<c.length;J+=4)V.insertCircle(H,c[J],c[J+1],c[J+2])}projectAndGetPerspectiveRatio(c,m,b,C,I){if(I){let z;C?(z=[c,m,C(c,m),1],s.aH(z,z,I)):(z=[c,m,0,1],ul(z,z,I));const V=z[3];return{x:(z[0]/V+1)/2*this.transform.width+Fr,y:(-z[1]/V+1)/2*this.transform.height+Fr,perspectiveRatio:.5+this.transform.cameraToCenterDistance/V*.5,isOccluded:!1,signedDistanceFromCamera:V}}{const z=this.transform.projectTileCoordinates(c,m,b,C);return{x:(z.point.x+1)/2*this.transform.width+Fr,y:(1-z.point.y)/2*this.transform.height+Fr,perspectiveRatio:.5+this.transform.cameraToCenterDistance/z.signedDistanceFromCamera*.5,isOccluded:z.isOccluded,signedDistanceFromCamera:z.signedDistanceFromCamera}}}getPerspectiveRatio(c,m,b,C){const I=this.transform.projectTileCoordinates(c,m,b,C);return .5+this.transform.cameraToCenterDistance/I.signedDistanceFromCamera*.5}isOffscreen(c,m,b,C){return b<Fr||c>=this.screenRightBoundary||C<Fr||m>this.screenBottomBoundary}isInsideGrid(c,m,b,C){return b>=0&&c<this.gridRightBoundary&&C>=0&&m<this.gridBottomBoundary}getViewportMatrix(){const c=s.ar([]);return s.O(c,c,[-100,-100,0]),c}_projectCollisionBox(c,m,b,C,I,z,V,H,J,ne,he){let ue=1,ye=0,Se=0,Ie=1;const Le=c.anchorPointX+V[0],De=c.anchorPointY+V[1];if(z&&!I){const nn=this.projectAndGetPerspectiveRatio(Le+1,De,C,J,he),Nt=nn.x-H.x,cn=Math.atan((nn.y-H.y)/Nt)+(Nt<0?Math.PI:0),rr=Math.sin(cn),Xr=Math.cos(cn);ue=Xr,ye=rr,Se=-rr,Ie=Xr}else if(!z&&I){const nn=_c(this.transform);ue=nn.vecEast[0],ye=nn.vecEast[1],Se=nn.vecSouth[0],Ie=nn.vecSouth[1]}let je=H.x,He=H.y,Fe=m;I&&(je=Le,He=De,Fe=Math.pow(2,-(this.transform.zoom-b.overscaledZ)),Fe*=this.transform.getPitchedTextCorrection(Le,De,C),ne||(Fe*=s.an(.5+H.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))),ne&&(je+=ue*ne.x*Fe+Se*ne.y*Fe,He+=ye*ne.x*Fe+Ie*ne.y*Fe);const We=c.x1*Fe,Je=c.x2*Fe,Ze=(We+Je)/2,nt=c.y1*Fe,yt=c.y2*Fe,ht=(nt+yt)/2,ft=[{offsetX:We,offsetY:nt},{offsetX:Ze,offsetY:nt},{offsetX:Je,offsetY:nt},{offsetX:Je,offsetY:ht},{offsetX:Je,offsetY:yt},{offsetX:Ze,offsetY:yt},{offsetX:We,offsetY:yt},{offsetX:We,offsetY:ht}];let pt=[];for(const{offsetX:nn,offsetY:Nt}of ft)pt.push(new s.P(je+ue*nn+Se*Nt,He+ye*nn+Ie*Nt));let tn=!1;if(I){const nn=pt.map((Nt=>this.projectAndGetPerspectiveRatio(Nt.x,Nt.y,C,J,he)));tn=nn.some((Nt=>!Nt.isOccluded)),pt=nn.map((Nt=>new s.P(Nt.x,Nt.y)))}else tn=!0;return{box:s.aL(pt),allPointsOccluded:!tn}}}class Xx{constructor(c,m,b,C){this.opacity=c?Math.max(0,Math.min(1,c.opacity+(c.placed?m:-m))):C&&b?1:0,this.placed=b}isHidden(){return this.opacity===0&&!this.placed}}class xd{constructor(c,m,b,C,I){this.text=new Xx(c?c.text:null,m,b,I),this.icon=new Xx(c?c.icon:null,m,C,I)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class gv{constructor(c,m,b){this.text=c,this.icon=m,this.skipFade=b}}class Cm{constructor(c,m,b,C,I){this.bucketInstanceId=c,this.featureIndex=m,this.sourceLayerIndex=b,this.bucketIndex=C,this.tileID=I}}class Yx{constructor(c){this.crossSourceCollisions=c,this.maxGroupID=0,this.collisionGroups={}}get(c){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[c]){const m=++this.maxGroupID;this.collisionGroups[c]={ID:m,predicate:b=>b.collisionGroupID===m}}return this.collisionGroups[c]}}function sa(P,c,m,b,C){const{horizontalAlign:I,verticalAlign:z}=s.aS(P);return new s.P(-(I-.5)*c+b[0]*C,-(z-.5)*m+b[1]*C)}class Tm{constructor(c,m,b,C,I){this.transform=c.clone(),this.terrain=m,this.collisionIndex=new mv(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=b,this.retainedQueryData={},this.collisionGroups=new Yx(C),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=I,I&&(I.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(c){const m=this.terrain;return m?(b,C)=>m.getElevation(c,b,C):null}getBucketParts(c,m,b,C){const I=b.getBucket(m),z=b.latestFeatureIndex;if(!I||!z||m.id!==I.layerIds[0])return;const V=b.collisionBoxArray,H=I.layers[0].layout,J=I.layers[0].paint,ne=Math.pow(2,this.transform.zoom-b.tileID.overscaledZ),he=b.tileSize/s.a5,ue=b.tileID.toUnwrapped(),ye=H.get("text-rotation-alignment")==="map",Se=s.aN(b,1,this.transform.zoom),Ie=s.aO(this.collisionIndex.transform,b,J.get("text-translate"),J.get("text-translate-anchor")),Le=s.aO(this.collisionIndex.transform,b,J.get("icon-translate"),J.get("icon-translate-anchor")),De=La(ye,this.transform,Se);this.retainedQueryData[I.bucketInstanceId]=new Cm(I.bucketInstanceId,z,I.sourceLayerIndex,I.index,b.tileID);const je={bucket:I,layout:H,translationText:Ie,translationIcon:Le,unwrappedTileID:ue,pitchedLabelPlaneMatrix:De,scale:ne,textPixelRatio:he,holdingForFade:b.holdingForSymbolFade(),collisionBoxArray:V,partiallyEvaluatedTextSize:s.ay(I.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(I.sourceID)};if(C)for(const He of I.sortKeyRanges){const{sortKey:Fe,symbolInstanceStart:We,symbolInstanceEnd:Je}=He;c.push({sortKey:Fe,symbolInstanceStart:We,symbolInstanceEnd:Je,parameters:je})}else c.push({symbolInstanceStart:0,symbolInstanceEnd:I.symbolInstances.length,parameters:je})}attemptAnchorPlacement(c,m,b,C,I,z,V,H,J,ne,he,ue,ye,Se,Ie,Le,De,je,He,Fe){const We=s.aP[c.textAnchor],Je=[c.textOffset0,c.textOffset1],Ze=sa(We,b,C,Je,I),nt=this.collisionIndex.placeCollisionBox(m,ue,H,J,ne,V,z,Le,he.predicate,He,Ze,Fe);if((!je||this.collisionIndex.placeCollisionBox(je,ue,H,J,ne,V,z,De,he.predicate,He,Ze,Fe).placeable)&&nt.placeable){let yt;if(this.prevPlacement&&this.prevPlacement.variableOffsets[ye.crossTileID]&&this.prevPlacement.placements[ye.crossTileID]&&this.prevPlacement.placements[ye.crossTileID].text&&(yt=this.prevPlacement.variableOffsets[ye.crossTileID].anchor),ye.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[ye.crossTileID]={textOffset:Je,width:b,height:C,anchor:We,textBoxScale:I,prevAnchor:yt},this.markUsedJustification(Se,We,ye,Ie),Se.allowVerticalPlacement&&(this.markUsedOrientation(Se,Ie,ye),this.placedOrientations[ye.crossTileID]=Ie),{shift:Ze,placedGlyphBoxes:nt}}}placeLayerBucketPart(c,m,b){const{bucket:C,layout:I,translationText:z,translationIcon:V,unwrappedTileID:H,pitchedLabelPlaneMatrix:J,textPixelRatio:ne,holdingForFade:he,collisionBoxArray:ue,partiallyEvaluatedTextSize:ye,collisionGroup:Se}=c.parameters,Ie=I.get("text-optional"),Le=I.get("icon-optional"),De=s.aQ(I,"text-overlap","text-allow-overlap"),je=De==="always",He=s.aQ(I,"icon-overlap","icon-allow-overlap"),Fe=He==="always",We=I.get("text-rotation-alignment")==="map",Je=I.get("text-pitch-alignment")==="map",Ze=I.get("icon-text-fit")!=="none",nt=I.get("symbol-z-order")==="viewport-y",yt=je&&(Fe||!C.hasIconData()||Le),ht=Fe&&(je||!C.hasTextData()||Ie);!C.collisionArrays&&ue&&C.deserializeCollisionBoxes(ue);const ft=this.retainedQueryData[C.bucketInstanceId].tileID,pt=this._getTerrainElevationFunc(ft),tn=this.transform.getFastPathSimpleProjectionMatrix(ft),nn=(Nt,cn,rr)=>{var Xr,xi;if(m[Nt.crossTileID])return;if(he)return void(this.placements[Nt.crossTileID]=new gv(!1,!1,!1));let fi=!1,Mi=!1,oi=!0,Xi=null,Ri={box:null,placeable:!1,offscreen:null,occluded:!1},us={placeable:!1},co=null,uo=null,hs=null,Vc=0,Qc=0,Jl=0;cn.textFeatureIndex?Vc=cn.textFeatureIndex:Nt.useRuntimeCollisionCircles&&(Vc=Nt.featureIndex),cn.verticalTextFeatureIndex&&(Qc=cn.verticalTextFeatureIndex);const Oa=cn.textBox;if(Oa){const Sa=Jr=>{let pi=s.az.horizontal;if(C.allowVerticalPlacement&&!Jr&&this.prevPlacement){const $o=this.prevPlacement.placedOrientations[Nt.crossTileID];$o&&(this.placedOrientations[Nt.crossTileID]=$o,pi=$o,this.markUsedOrientation(C,pi,Nt))}return pi},qa=(Jr,pi)=>{if(C.allowVerticalPlacement&&Nt.numVerticalGlyphVertices>0&&cn.verticalTextBox){for(const $o of C.writingModes)if($o===s.az.vertical?(Ri=pi(),us=Ri):Ri=Jr(),Ri&&Ri.placeable)break}else Ri=Jr()},bl=Nt.textAnchorOffsetStartIndex,wl=Nt.textAnchorOffsetEndIndex;if(wl===bl){const Jr=(pi,$o)=>{const Uo=this.collisionIndex.placeCollisionBox(pi,De,ne,ft,H,Je,We,z,Se.predicate,pt,void 0,tn);return Uo&&Uo.placeable&&(this.markUsedOrientation(C,$o,Nt),this.placedOrientations[Nt.crossTileID]=$o),Uo};qa((()=>Jr(Oa,s.az.horizontal)),(()=>{const pi=cn.verticalTextBox;return C.allowVerticalPlacement&&Nt.numVerticalGlyphVertices>0&&pi?Jr(pi,s.az.vertical):{box:null,offscreen:null}})),Sa(Ri&&Ri.placeable)}else{let Jr=s.aP[(xi=(Xr=this.prevPlacement)===null||Xr===void 0?void 0:Xr.variableOffsets[Nt.crossTileID])===null||xi===void 0?void 0:xi.anchor];const pi=(Uo,Zy,qy)=>{const Ih=Uo.x2-Uo.x1,mb=Uo.y2-Uo.y1,Dh=Nt.textBoxScale,Wy=Ze&&He==="never"?Zy:null;let Eu=null,Au=De==="never"?1:2,tc="never";Jr&&Au++;for(let Hy=0;Hy<Au;Hy++){for(let lg=bl;lg<wl;lg++){const cg=C.textAnchorOffsets.get(lg);if(Jr&&cg.textAnchor!==Jr)continue;const ug=this.attemptAnchorPlacement(cg,Uo,Ih,mb,Dh,We,Je,ne,ft,H,Se,tc,Nt,C,qy,z,V,Wy,pt);if(ug&&(Eu=ug.placedGlyphBoxes,Eu&&Eu.placeable))return fi=!0,Xi=ug.shift,Eu}Jr?Jr=null:tc=De}return b&&!Eu&&(Eu={box:this.collisionIndex.placeCollisionBox(Oa,"always",ne,ft,H,Je,We,z,Se.predicate,pt,void 0,tn).box,offscreen:!1,placeable:!1,occluded:!1}),Eu};qa((()=>pi(Oa,cn.iconBox,s.az.horizontal)),(()=>{const Uo=cn.verticalTextBox;return C.allowVerticalPlacement&&(!Ri||!Ri.placeable)&&Nt.numVerticalGlyphVertices>0&&Uo?pi(Uo,cn.verticalIconBox,s.az.vertical):{box:null,occluded:!0,offscreen:null}})),Ri&&(fi=Ri.placeable,oi=Ri.offscreen);const $o=Sa(Ri&&Ri.placeable);if(!fi&&this.prevPlacement){const Uo=this.prevPlacement.variableOffsets[Nt.crossTileID];Uo&&(this.variableOffsets[Nt.crossTileID]=Uo,this.markUsedJustification(C,Uo.anchor,Nt,$o))}}}if(co=Ri,fi=co&&co.placeable,oi=co&&co.offscreen,Nt.useRuntimeCollisionCircles&&Nt.centerJustifiedTextSymbolIndex>=0){const Sa=C.text.placedSymbolArray.get(Nt.centerJustifiedTextSymbolIndex),qa=s.aA(C.textSizeData,ye,Sa),bl=I.get("text-padding");uo=this.collisionIndex.placeCollisionCircles(De,Sa,C.lineVertexArray,C.glyphOffsetArray,qa,H,J,b,Je,Se.predicate,Nt.collisionCircleDiameter,bl,z,pt),uo.circles.length&&uo.collisionDetected&&!b&&s.w("Collisions detected, but collision boxes are not shown"),fi=je||uo.circles.length>0&&!uo.collisionDetected,oi=oi&&uo.offscreen}if(cn.iconFeatureIndex&&(Jl=cn.iconFeatureIndex),cn.iconBox){const Sa=qa=>this.collisionIndex.placeCollisionBox(qa,He,ne,ft,H,Je,We,V,Se.predicate,pt,Ze&&Xi?Xi:void 0,tn);us&&us.placeable&&cn.verticalIconBox?(hs=Sa(cn.verticalIconBox),Mi=hs.placeable):(hs=Sa(cn.iconBox),Mi=hs.placeable),oi=oi&&hs.offscreen}const Ud=Ie||Nt.numHorizontalGlyphVertices===0&&Nt.numVerticalGlyphVertices===0,fp=Le||Nt.numIconVertices===0;Ud||fp?fp?Ud||(Mi=Mi&&fi):fi=Mi&&fi:Mi=fi=Mi&&fi;const ec=Mi&&hs.placeable;if(fi&&co.placeable&&this.collisionIndex.insertCollisionBox(co.box,De,I.get("text-ignore-placement"),C.bucketInstanceId,us&&us.placeable&&Qc?Qc:Vc,Se.ID),ec&&this.collisionIndex.insertCollisionBox(hs.box,He,I.get("icon-ignore-placement"),C.bucketInstanceId,Jl,Se.ID),uo&&fi&&this.collisionIndex.insertCollisionCircles(uo.circles,De,I.get("text-ignore-placement"),C.bucketInstanceId,Vc,Se.ID),b&&this.storeCollisionData(C.bucketInstanceId,rr,cn,co,hs,uo),Nt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(C.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[Nt.crossTileID]=new gv((fi||yt)&&!co?.occluded,(Mi||ht)&&!hs?.occluded,oi||C.justReloaded),m[Nt.crossTileID]=!0};if(nt){if(c.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const Nt=C.getSortedSymbolIndexes(-this.transform.bearingInRadians);for(let cn=Nt.length-1;cn>=0;--cn){const rr=Nt[cn];nn(C.symbolInstances.get(rr),C.collisionArrays[rr],rr)}}else for(let Nt=c.symbolInstanceStart;Nt<c.symbolInstanceEnd;Nt++)nn(C.symbolInstances.get(Nt),C.collisionArrays[Nt],Nt);C.justReloaded=!1}storeCollisionData(c,m,b,C,I,z){if(b.textBox||b.iconBox){let V,H;this.collisionBoxArrays.has(c)?V=this.collisionBoxArrays.get(c):(V=new Map,this.collisionBoxArrays.set(c,V)),V.has(m)?H=V.get(m):(H={text:null,icon:null},V.set(m,H)),b.textBox&&(H.text=C.box),b.iconBox&&(H.icon=I.box)}if(z){let V=this.collisionCircleArrays[c];V===void 0&&(V=this.collisionCircleArrays[c]=[]);for(let H=0;H<z.circles.length;H+=4)V.push(z.circles[H+0]-Fr),V.push(z.circles[H+1]-Fr),V.push(z.circles[H+2]),V.push(z.collisionDetected?1:0)}}markUsedJustification(c,m,b,C){let I;I=C===s.az.vertical?b.verticalPlacedTextSymbolIndex:{left:b.leftJustifiedTextSymbolIndex,center:b.centerJustifiedTextSymbolIndex,right:b.rightJustifiedTextSymbolIndex}[s.aR(m)];const z=[b.leftJustifiedTextSymbolIndex,b.centerJustifiedTextSymbolIndex,b.rightJustifiedTextSymbolIndex,b.verticalPlacedTextSymbolIndex];for(const V of z)V>=0&&(c.text.placedSymbolArray.get(V).crossTileID=I>=0&&V!==I?0:b.crossTileID)}markUsedOrientation(c,m,b){const C=m===s.az.horizontal||m===s.az.horizontalOnly?m:0,I=m===s.az.vertical?m:0,z=[b.leftJustifiedTextSymbolIndex,b.centerJustifiedTextSymbolIndex,b.rightJustifiedTextSymbolIndex];for(const V of z)c.text.placedSymbolArray.get(V).placedOrientation=C;b.verticalPlacedTextSymbolIndex&&(c.text.placedSymbolArray.get(b.verticalPlacedTextSymbolIndex).placedOrientation=I)}commit(c){this.commitTime=c,this.zoomAtLastRecencyCheck=this.transform.zoom;const m=this.prevPlacement;let b=!1;this.prevZoomAdjustment=m?m.zoomAdjustment(this.transform.zoom):0;const C=m?m.symbolFadeChange(c):1,I=m?m.opacities:{},z=m?m.variableOffsets:{},V=m?m.placedOrientations:{};for(const H in this.placements){const J=this.placements[H],ne=I[H];ne?(this.opacities[H]=new xd(ne,C,J.text,J.icon),b=b||J.text!==ne.text.placed||J.icon!==ne.icon.placed):(this.opacities[H]=new xd(null,C,J.text,J.icon,J.skipFade),b=b||J.text||J.icon)}for(const H in I){const J=I[H];if(!this.opacities[H]){const ne=new xd(J,C,!1,!1);ne.isHidden()||(this.opacities[H]=ne,b=b||J.text.placed||J.icon.placed)}}for(const H in z)this.variableOffsets[H]||!this.opacities[H]||this.opacities[H].isHidden()||(this.variableOffsets[H]=z[H]);for(const H in V)this.placedOrientations[H]||!this.opacities[H]||this.opacities[H].isHidden()||(this.placedOrientations[H]=V[H]);if(m&&m.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");b?this.lastPlacementChangeTime=c:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=m?m.lastPlacementChangeTime:c)}updateLayerOpacities(c,m){const b={};for(const C of m){const I=C.getBucket(c);I&&C.latestFeatureIndex&&c.id===I.layerIds[0]&&this.updateBucketOpacities(I,C.tileID,b,C.collisionBoxArray)}}updateBucketOpacities(c,m,b,C){c.hasTextData()&&(c.text.opacityVertexArray.clear(),c.text.hasVisibleVertices=!1),c.hasIconData()&&(c.icon.opacityVertexArray.clear(),c.icon.hasVisibleVertices=!1),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexArray.clear(),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexArray.clear();const I=c.layers[0],z=I.layout,V=new xd(null,0,!1,!1,!0),H=z.get("text-allow-overlap"),J=z.get("icon-allow-overlap"),ne=I._unevaluatedLayout.hasValue("text-variable-anchor")||I._unevaluatedLayout.hasValue("text-variable-anchor-offset"),he=z.get("text-rotation-alignment")==="map",ue=z.get("text-pitch-alignment")==="map",ye=z.get("icon-text-fit")!=="none",Se=new xd(null,0,H&&(J||!c.hasIconData()||z.get("icon-optional")),J&&(H||!c.hasTextData()||z.get("text-optional")),!0);!c.collisionArrays&&C&&(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData())&&c.deserializeCollisionBoxes(C);const Ie=(De,je,He)=>{for(let Fe=0;Fe<je/4;Fe++)De.opacityVertexArray.emplaceBack(He);De.hasVisibleVertices=De.hasVisibleVertices||He!==wd},Le=this.collisionBoxArrays.get(c.bucketInstanceId);for(let De=0;De<c.symbolInstances.length;De++){const je=c.symbolInstances.get(De),{numHorizontalGlyphVertices:He,numVerticalGlyphVertices:Fe,crossTileID:We}=je;let Je=this.opacities[We];b[We]?Je=V:Je||(Je=Se,this.opacities[We]=Je),b[We]=!0;const Ze=je.numIconVertices>0,nt=this.placedOrientations[je.crossTileID],yt=nt===s.az.vertical,ht=nt===s.az.horizontal||nt===s.az.horizontalOnly;if(He>0||Fe>0){const pt=_y(Je.text);Ie(c.text,He,yt?wd:pt),Ie(c.text,Fe,ht?wd:pt);const tn=Je.text.isHidden();[je.rightJustifiedTextSymbolIndex,je.centerJustifiedTextSymbolIndex,je.leftJustifiedTextSymbolIndex].forEach((cn=>{cn>=0&&(c.text.placedSymbolArray.get(cn).hidden=tn||yt?1:0)})),je.verticalPlacedTextSymbolIndex>=0&&(c.text.placedSymbolArray.get(je.verticalPlacedTextSymbolIndex).hidden=tn||ht?1:0);const nn=this.variableOffsets[je.crossTileID];nn&&this.markUsedJustification(c,nn.anchor,je,nt);const Nt=this.placedOrientations[je.crossTileID];Nt&&(this.markUsedJustification(c,"left",je,Nt),this.markUsedOrientation(c,Nt,je))}if(Ze){const pt=_y(Je.icon),tn=!(ye&&je.verticalPlacedIconSymbolIndex&&yt);je.placedIconSymbolIndex>=0&&(Ie(c.icon,je.numIconVertices,tn?pt:wd),c.icon.placedSymbolArray.get(je.placedIconSymbolIndex).hidden=Je.icon.isHidden()),je.verticalPlacedIconSymbolIndex>=0&&(Ie(c.icon,je.numVerticalIconVertices,tn?wd:pt),c.icon.placedSymbolArray.get(je.verticalPlacedIconSymbolIndex).hidden=Je.icon.isHidden())}const ft=Le&&Le.has(De)?Le.get(De):{text:null,icon:null};if(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData()){const pt=c.collisionArrays[De];if(pt){let tn=new s.P(0,0);if(pt.textBox||pt.verticalTextBox){let nn=!0;if(ne){const Nt=this.variableOffsets[We];Nt?(tn=sa(Nt.anchor,Nt.width,Nt.height,Nt.textOffset,Nt.textBoxScale),he&&tn._rotate(ue?-this.transform.bearingInRadians:this.transform.bearingInRadians)):nn=!1}if(pt.textBox||pt.verticalTextBox){let Nt;pt.textBox&&(Nt=yt),pt.verticalTextBox&&(Nt=ht),vy(c.textCollisionBox.collisionVertexArray,Je.text.placed,!nn||Nt,ft.text,tn.x,tn.y)}}if(pt.iconBox||pt.verticalIconBox){const nn=!!(!ht&&pt.verticalIconBox);let Nt;pt.iconBox&&(Nt=nn),pt.verticalIconBox&&(Nt=!nn),vy(c.iconCollisionBox.collisionVertexArray,Je.icon.placed,Nt,ft.icon,ye?tn.x:0,ye?tn.y:0)}}}}if(c.sortFeatures(-this.transform.bearingInRadians),this.retainedQueryData[c.bucketInstanceId]&&(this.retainedQueryData[c.bucketInstanceId].featureSortOrder=c.featureSortOrder),c.hasTextData()&&c.text.opacityVertexBuffer&&c.text.opacityVertexBuffer.updateData(c.text.opacityVertexArray),c.hasIconData()&&c.icon.opacityVertexBuffer&&c.icon.opacityVertexBuffer.updateData(c.icon.opacityVertexArray),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexBuffer&&c.iconCollisionBox.collisionVertexBuffer.updateData(c.iconCollisionBox.collisionVertexArray),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexBuffer&&c.textCollisionBox.collisionVertexBuffer.updateData(c.textCollisionBox.collisionVertexArray),c.text.opacityVertexArray.length!==c.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${c.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${c.text.layoutVertexArray.length}) / 4`);if(c.icon.opacityVertexArray.length!==c.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${c.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${c.icon.layoutVertexArray.length}) / 4`);c.bucketInstanceId in this.collisionCircleArrays&&(c.collisionCircleArray=this.collisionCircleArrays[c.bucketInstanceId],delete this.collisionCircleArrays[c.bucketInstanceId])}symbolFadeChange(c){return this.fadeDuration===0?1:(c-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(c){return Math.max(0,(this.transform.zoom-c)/1.5)}hasTransitions(c){return this.stale||c-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(c,m){const b=this.zoomAtLastRecencyCheck===m?1-this.zoomAdjustment(m):1;return this.zoomAtLastRecencyCheck=m,this.commitTime+this.fadeDuration*b>c}setStale(){this.stale=!0}}function vy(P,c,m,b,C,I){b&&b.length!==0||(b=[0,0,0,0]);const z=b[0]-Fr,V=b[1]-Fr,H=b[2]-Fr,J=b[3]-Fr;P.emplaceBack(c?1:0,m?1:0,C||0,I||0,z,V),P.emplaceBack(c?1:0,m?1:0,C||0,I||0,H,V),P.emplaceBack(c?1:0,m?1:0,C||0,I||0,H,J),P.emplaceBack(c?1:0,m?1:0,C||0,I||0,z,J)}const km=Math.pow(2,25),ph=Math.pow(2,24),Kx=Math.pow(2,17),Zf=Math.pow(2,16),mu=Math.pow(2,9),Jx=Math.pow(2,8),bd=Math.pow(2,1);function _y(P){if(P.opacity===0&&!P.placed)return 0;if(P.opacity===1&&P.placed)return 4294967295;const c=P.placed?1:0,m=Math.floor(127*P.opacity);return m*km+c*ph+m*Kx+c*Zf+m*mu+c*Jx+m*bd+c}const wd=0;class mh{constructor(c){this._sortAcrossTiles=c.layout.get("symbol-z-order")!=="viewport-y"&&!c.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(c,m,b,C,I){const z=this._bucketParts;for(;this._currentTileIndex<c.length;)if(m.getBucketParts(z,C,c[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,I())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,z.sort(((V,H)=>V.sortKey-H.sortKey)));this._currentPartIndex<z.length;)if(m.placeLayerBucketPart(z[this._currentPartIndex],this._seenCrossTileIDs,b),this._currentPartIndex++,I())return!0;return!1}}class qf{constructor(c,m,b,C,I,z,V,H){this.placement=new Tm(c,m,z,V,H),this._currentPlacementIndex=b.length-1,this._forceFullPlacement=C,this._showCollisionBoxes=I,this._done=!1}isDone(){return this._done}continuePlacement(c,m,b){const C=A(),I=()=>!this._forceFullPlacement&&A()-C>2;for(;this._currentPlacementIndex>=0;){const z=m[c[this._currentPlacementIndex]],V=this.placement.collisionIndex.transform.zoom;if(z.type==="symbol"&&(!z.minzoom||z.minzoom<=V)&&(!z.maxzoom||z.maxzoom>V)){if(this._inProgressLayer||(this._inProgressLayer=new mh(z)),this._inProgressLayer.continuePlacement(b[z.source],this.placement,this._showCollisionBoxes,z,I))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(c){return this.placement.commit(c),this.placement}}const ur=512/s.a5/2;class Zl{constructor(c,m,b){this.tileID=c,this.bucketInstanceId=b,this._symbolsByKey={};const C=new Map;for(let I=0;I<m.length;I++){const z=m.get(I),V=z.key,H=C.get(V);H?H.push(z):C.set(V,[z])}for(const[I,z]of C){const V={positions:z.map((H=>({x:Math.floor(H.anchorX*ur),y:Math.floor(H.anchorY*ur)}))),crossTileIDs:z.map((H=>H.crossTileID))};if(V.positions.length>128){const H=new s.aT(V.positions.length,16,Uint16Array);for(const{x:J,y:ne}of V.positions)H.add(J,ne);H.finish(),delete V.positions,V.index=H}this._symbolsByKey[I]=V}}getScaledCoordinates(c,m){const{x:b,y:C,z:I}=this.tileID.canonical,{x:z,y:V,z:H}=m.canonical,J=ur/Math.pow(2,H-I),ne=(V*s.a5+c.anchorY)*J,he=C*s.a5*ur;return{x:Math.floor((z*s.a5+c.anchorX)*J-b*s.a5*ur),y:Math.floor(ne-he)}}findMatches(c,m,b){const C=this.tileID.canonical.z<m.canonical.z?1:Math.pow(2,this.tileID.canonical.z-m.canonical.z);for(let I=0;I<c.length;I++){const z=c.get(I);if(z.crossTileID)continue;const V=this._symbolsByKey[z.key];if(!V)continue;const H=this.getScaledCoordinates(z,m);if(V.index){const J=V.index.range(H.x-C,H.y-C,H.x+C,H.y+C).sort();for(const ne of J){const he=V.crossTileIDs[ne];if(!b[he]){b[he]=!0,z.crossTileID=he;break}}}else if(V.positions)for(let J=0;J<V.positions.length;J++){const ne=V.positions[J],he=V.crossTileIDs[J];if(Math.abs(ne.x-H.x)<=C&&Math.abs(ne.y-H.y)<=C&&!b[he]){b[he]=!0,z.crossTileID=he;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map((({crossTileIDs:c})=>c))}}class yv{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Em{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(c){const m=Math.round((c-this.lng)/360);if(m!==0)for(const b in this.indexes){const C=this.indexes[b],I={};for(const z in C){const V=C[z];V.tileID=V.tileID.unwrapTo(V.tileID.wrap+m),I[V.tileID.key]=V}this.indexes[b]=I}this.lng=c}addBucket(c,m,b){if(this.indexes[c.overscaledZ]&&this.indexes[c.overscaledZ][c.key]){if(this.indexes[c.overscaledZ][c.key].bucketInstanceId===m.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(c.overscaledZ,this.indexes[c.overscaledZ][c.key])}for(let I=0;I<m.symbolInstances.length;I++)m.symbolInstances.get(I).crossTileID=0;this.usedCrossTileIDs[c.overscaledZ]||(this.usedCrossTileIDs[c.overscaledZ]={});const C=this.usedCrossTileIDs[c.overscaledZ];for(const I in this.indexes){const z=this.indexes[I];if(Number(I)>c.overscaledZ)for(const V in z){const H=z[V];H.tileID.isChildOf(c)&&H.findMatches(m.symbolInstances,c,C)}else{const V=z[c.scaledTo(Number(I)).key];V&&V.findMatches(m.symbolInstances,c,C)}}for(let I=0;I<m.symbolInstances.length;I++){const z=m.symbolInstances.get(I);z.crossTileID||(z.crossTileID=b.generate(),C[z.crossTileID]=!0)}return this.indexes[c.overscaledZ]===void 0&&(this.indexes[c.overscaledZ]={}),this.indexes[c.overscaledZ][c.key]=new Zl(c,m.symbolInstances,m.bucketInstanceId),!0}removeBucketCrossTileIDs(c,m){for(const b of m.getCrossTileIDsLists())for(const C of b)delete this.usedCrossTileIDs[c][C]}removeStaleBuckets(c){let m=!1;for(const b in this.indexes){const C=this.indexes[b];for(const I in C)c[C[I].bucketInstanceId]||(this.removeBucketCrossTileIDs(b,C[I]),delete C[I],m=!0)}return m}}class Yo{constructor(){this.layerIndexes={},this.crossTileIDs=new yv,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(c,m,b){let C=this.layerIndexes[c.id];C===void 0&&(C=this.layerIndexes[c.id]=new Em);let I=!1;const z={};C.handleWrapJump(b);for(const V of m){const H=V.getBucket(c);H&&c.id===H.layerIds[0]&&(H.bucketInstanceId||(H.bucketInstanceId=++this.maxBucketInstanceId),C.addBucket(V.tileID,H,this.crossTileIDs)&&(I=!0),z[H.bucketInstanceId]=!0)}return C.removeStaleBuckets(z)&&(I=!0),I}pruneUnusedLayers(c){const m={};c.forEach((b=>{m[b]=!0}));for(const b in this.layerIndexes)m[b]||delete this.layerIndexes[b]}}var Do="void main() {fragColor=vec4(1.0);}";const $i={prelude:Qn(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
out highp vec4 fragColor;`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}mat3 rotationMatrixFromAxisAngle(vec3 u,float angle) {float c=cos(angle);float s=sin(angle);float c2=1.0-c;return mat3(u.x*u.x*c2+      c,u.x*u.y*c2-u.z*s,u.x*u.z*c2+u.y*s,u.y*u.x*c2+u.z*s,u.y*u.y*c2+    c,u.y*u.z*c2-u.x*s,u.z*u.x*c2-u.y*s,u.z*u.y*c2+u.x*s,u.z*u.z*c2+    c
);}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
#ifdef GLOBE
if ((pos.y <-32767.5) || (pos.y > 32766.5)) {return 0.0;}
#endif
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}const float PI=3.141592653589793;uniform mat4 u_projection_matrix;`),projectionMercator:Qn("","float projectLineThickness(float tileY) {return 1.0;}float projectCircleRadius(float tileY) {return 1.0;}vec4 projectTile(vec2 p) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);return result;}vec4 projectTile(vec2 p,vec2 rawPos) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);if (rawPos.y <-32767.5 || rawPos.y > 32766.5) {result.z=-10000000.0;}return result;}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_projection_matrix*vec4(posInTile,elevation,1.0);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {return projectTileWithElevation(posInTile,elevation);}"),projectionGlobe:Qn("",`#define GLOBE_RADIUS 6371008.8
uniform highp vec4 u_projection_tile_mercator_coords;uniform highp vec4 u_projection_clipping_plane;uniform highp float u_projection_transition;uniform mat4 u_projection_fallback_matrix;vec3 globeRotateVector(vec3 vec,vec2 angles) {vec3 axisRight=vec3(vec.z,0.0,-vec.x);vec3 axisUp=cross(axisRight,vec);axisRight=normalize(axisRight);axisUp=normalize(axisUp);vec2 t=tan(angles);return normalize(vec+axisRight*t.x+axisUp*t.y);}mat3 globeGetRotationMatrix(vec3 spherePos) {vec3 axisRight=vec3(spherePos.z,0.0,-spherePos.x);vec3 axisDown=cross(axisRight,spherePos);axisRight=normalize(axisRight);axisDown=normalize(axisDown);return mat3(axisRight,axisDown,spherePos
);}float circumferenceRatioAtTileY(float tileY) {float mercator_pos_y=u_projection_tile_mercator_coords.y+u_projection_tile_mercator_coords.w*tileY;float spherical_y=2.0*atan(exp(PI-(mercator_pos_y*PI*2.0)))-PI*0.5;return cos(spherical_y);}float projectLineThickness(float tileY) {float thickness=1.0/circumferenceRatioAtTileY(tileY); 
if (u_projection_transition < 0.999) {return mix(1.0,thickness,u_projection_transition);} else {return thickness;}}vec3 projectToSphere(vec2 translatedPos,vec2 rawPos) {vec2 mercator_pos=u_projection_tile_mercator_coords.xy+u_projection_tile_mercator_coords.zw*translatedPos;vec2 spherical;spherical.x=mercator_pos.x*PI*2.0+PI;spherical.y=2.0*atan(exp(PI-(mercator_pos.y*PI*2.0)))-PI*0.5;float len=cos(spherical.y);vec3 pos=vec3(sin(spherical.x)*len,sin(spherical.y),cos(spherical.x)*len
);if (rawPos.y <-32767.5) {pos=vec3(0.0,1.0,0.0);}if (rawPos.y > 32766.5) {pos=vec3(0.0,-1.0,0.0);}return pos;}vec3 projectToSphere(vec2 posInTile) {return projectToSphere(posInTile,vec2(0.0,0.0));}float globeComputeClippingZ(vec3 spherePos) {return (1.0-(dot(spherePos,u_projection_clipping_plane.xyz)+u_projection_clipping_plane.w));}vec4 interpolateProjection(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);globePosition.z=globeComputeClippingZ(elevatedPos)*globePosition.w;if (u_projection_transition > 0.999) {return globePosition;}vec4 flatPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);const float z_globeness_threshold=0.2;vec4 result=globePosition;result.z=mix(0.0,globePosition.z,clamp((u_projection_transition-z_globeness_threshold)/(1.0-z_globeness_threshold),0.0,1.0));result.xyw=mix(flatPosition.xyw,globePosition.xyw,u_projection_transition);if ((posInTile.y <-32767.5) || (posInTile.y > 32766.5)) {result=globePosition;const float poles_hidden_anim_percentage=0.02;result.z=mix(globePosition.z,100.0,pow(max((1.0-u_projection_transition)/poles_hidden_anim_percentage,0.0),8.0));}return result;}vec4 interpolateProjectionFor3D(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);if (u_projection_transition > 0.999) {return globePosition;}vec4 fallbackPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);return mix(fallbackPosition,globePosition,u_projection_transition);}vec4 projectTile(vec2 posInTile) {return interpolateProjection(posInTile,projectToSphere(posInTile),0.0);}vec4 projectTile(vec2 posInTile,vec2 rawPos) {return interpolateProjection(posInTile,projectToSphere(posInTile,rawPos),0.0);}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return interpolateProjection(posInTile,projectToSphere(posInTile),elevation);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {vec3 spherePos=projectToSphere(posInTile,posInTile);return interpolateProjectionFor3D(posInTile,spherePos,elevation);}`),background:Qn(`uniform vec4 u_color;uniform float u_opacity;void main() {fragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),backgroundPattern:Qn(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;void main() {gl_Position=projectTile(a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Qn(`in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));fragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);const float epsilon=0.5/255.0;if (fragColor.r < epsilon && fragColor.g < epsilon && fragColor.b < epsilon && fragColor.a < epsilon) {discard;}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_globe_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;uniform vec2 u_translate;in vec2 a_pos;out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 pos_raw=a_pos+32768.0;vec2 extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);vec2 circle_center=floor(pos_raw/8.0)+u_translate;float ele=get_elevation(circle_center);v_visibility=calculate_visibility(projectTileWithElevation(circle_center,ele));if (u_pitch_with_map) {
#ifdef GLOBE
vec3 center_vector=projectToSphere(circle_center);
#endif
float angle_scale=u_globe_extrude_scale;vec2 corner_position=circle_center;if (u_scale_with_map) {angle_scale*=(radius+stroke_width);corner_position+=extrude*u_extrude_scale*(radius+stroke_width);} else {
#ifdef GLOBE
vec4 projected_center=interpolateProjection(circle_center,center_vector,ele);
#else
vec4 projected_center=projectTileWithElevation(circle_center,ele);
#endif
corner_position+=extrude*u_extrude_scale*(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);angle_scale*=(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);}
#ifdef GLOBE
vec2 angles=extrude*angle_scale;vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(corner_position,corner_vector,ele);
#else
gl_Position=projectTileWithElevation(corner_position,ele);
#endif
} else {gl_Position=projectTileWithElevation(circle_center,ele);if (gl_Position.z/gl_Position.w > 1.0) {gl_Position.xy=vec2(10000.0);}if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:Qn(Do,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),heatmap:Qn(`uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);fragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;uniform highp float u_globe_extrude_scale;in vec2 a_pos;out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 pos_raw=a_pos+32768.0;vec2 unscaled_extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 circle_center=floor(pos_raw/8.0);
#ifdef GLOBE
vec2 angles=v_extrude*radius*u_globe_extrude_scale;vec3 center_vector=projectToSphere(circle_center);vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(circle_center+extrude,corner_vector,0.0);
#else
gl_Position=projectTileFor3D(circle_center+extrude,get_elevation(circle_center));
#endif
}`),heatmapTexture:Qn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));fragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Qn("in float v_placed;in float v_notUsed;void main() {float alpha=0.5;fragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {fragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {fragColor*=.1;}}","in vec2 a_anchor_pos;in vec2 a_placed;in vec2 a_box_real;uniform vec2 u_pixel_extrude_scale;out float v_placed;out float v_notUsed;void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Qn("in float v_radius;in vec2 v_extrude;in float v_collision;void main() {float alpha=0.5;float stroke_radius=0.9;float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);fragColor=color*alpha*opacity_t;}","in vec2 a_pos;in float a_radius;in vec2 a_flags;uniform vec2 u_viewport_size;out float v_radius;out vec2 v_extrude;out float v_collision;void main() {float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_collision=collision;gl_Position=vec4((a_pos/u_viewport_size*2.0-1.0)*vec2(1.0,-1.0),0.0,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),colorRelief:Qn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;uniform vec4 u_unpack;uniform sampler2D u_elevation_stops;uniform sampler2D u_color_stops;uniform int u_color_ramp_size;uniform float u_opacity;in vec2 v_pos;float getElevation(vec2 coord) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}float getElevationStop(int stop) {float x=(float(stop)+0.5)/float(u_color_ramp_size);vec4 data=texture(u_elevation_stops,vec2(x,0))*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {float el=getElevation(v_pos);int r=(u_color_ramp_size-1);int l=0;float el_l=getElevationStop(l);float el_r=getElevationStop(r);while(r-l > 1){int m=(r+l)/2;float el_m=getElevationStop(m);if(el < el_m){r=m;el_r=el_m;}else
{l=m;el_l=el_m;}}float x=(float(l)+(el-el_l)/(el_r-el_l)+0.5)/float(u_color_ramp_size);fragColor=u_opacity*texture(u_color_stops,vec2(x,0));
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_dimension;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_pos/8192.0)*scale+epsilon;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),debug:Qn("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);fragColor=mix(u_color,overlay_color,overlay_color.a);}","in vec2 a_pos;out vec2 v_uv;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=projectTileWithElevation(a_pos*u_overlay_scale,get_elevation(a_pos));}"),depth:Qn(Do,`in vec2 a_pos;void main() {
#ifdef GLOBE
gl_Position=projectTileFor3D(a_pos,0.0);
#else
gl_Position=u_projection_matrix*vec4(a_pos,0.0,1.0);
#endif
}`),fill:Qn(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
fragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_fill_translate;in vec2 a_pos;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);}`),fillOutline:Qn(`in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=outline_color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillOutlinePattern:Qn(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;in vec2 v_pos_a;in vec2 v_pos_b;in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillPattern:Qn(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:Qn(`in vec4 v_color;void main() {fragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
out vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;vec3 normalForLighting=normal/16384.0;float directional=clamp(dot(normalForLighting,u_lightpos),0.0,1.0);
#ifdef GLOBE
mat3 rotMatrix=globeGetRotationMatrix(spherePos);normalForLighting=rotMatrix*normalForLighting;directional=mix(directional,clamp(dot(normalForLighting,u_lightpos_globe),0.0,1.0),u_projection_transition);
#endif
directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:Qn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;in vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);fragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
#ifdef GLOBE
out vec3 v_sphere_pos;
#endif
out vec2 v_pos_a;out vec2 v_pos_b;out vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);v_sphere_pos=elevatedPos;gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,elevation*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:Qn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {vec2 epsilon=1.0/u_dimension;float tileSize=u_dimension.x-2.0;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))*tileSize/pow(2.0,exaggeration+(28.2562-u_zoom));fragColor=clamp(vec4(deriv.x/8.0+0.5,deriv.y/8.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Qn(`uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform float u_exaggeration;uniform vec4 u_accent;uniform int u_method;uniform float u_altitudes[NUM_ILLUMINATION_SOURCES];uniform float u_azimuths[NUM_ILLUMINATION_SOURCES];uniform vec4 u_shadows[NUM_ILLUMINATION_SOURCES];uniform vec4 u_highlights[NUM_ILLUMINATION_SOURCES];
#define PI 3.141592653589793
#define STANDARD 0
#define COMBINED 1
#define IGOR 2
#define MULTIDIRECTIONAL 3
#define BASIC 4
float get_aspect(vec2 deriv){return deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);}void igor_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float aspect=get_aspect(deriv);float azimuth=u_azimuths[0]+PI;float slope_stength=atan(length(deriv))*2.0/PI;float aspect_strength=1.0-abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);float shadow_strength=slope_stength*aspect_strength;float highlight_strength=slope_stength*(1.0-aspect_strength);fragColor=u_shadows[0]*shadow_strength+u_highlights[0]*highlight_strength;}void standard_hillshade(vec2 deriv){float azimuth=u_azimuths[0]+PI;float slope=atan(0.625*length(deriv));float aspect=get_aspect(deriv);float intensity=u_exaggeration;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadows[0],u_highlights[0],shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);fragColor=accent_color*(1.0-shade_color.a)+shade_color;}void basic_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor=u_highlights[0]*(2.0*shade-1.0);}else
{fragColor=u_shadows[0]*(1.0-2.0*shade);}}void multidirectional_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;fragColor=vec4(0,0,0,0);for(int i=0; i < NUM_ILLUMINATION_SOURCES; i++){float cos_alt=cos(u_altitudes[i]);float sin_alt=sin(u_altitudes[i]);float cos_az=-cos(u_azimuths[i]);float sin_az=-sin(u_azimuths[i]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor+=u_highlights[i]*(2.0*shade-1.0)/float(NUM_ILLUMINATION_SOURCES);}else
{fragColor+=u_shadows[i]*(1.0-2.0*shade)/float(NUM_ILLUMINATION_SOURCES);}}}void combined_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=acos((sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv)));cang=clamp(cang,0.0,PI/2.0);float shade=cang*atan(length(deriv))*4.0/PI/PI;float highlight=(PI/2.0-cang)*atan(length(deriv))*4.0/PI/PI;fragColor=u_shadows[0]*shade+u_highlights[0]*highlight;}void main() {vec4 pixel=texture(u_image,v_pos);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));vec2 deriv=((pixel.rg*8.0)-4.0)/scaleFactor;if (u_method==BASIC) {basic_hillshade(deriv);} else if (u_method==COMBINED) {combined_hillshade(deriv);} else if (u_method==IGOR) {igor_hillshade(deriv);} else if (u_method==MULTIDIRECTIONAL) {multidirectional_hillshade(deriv);} else if (u_method==STANDARD) {standard_hillshade(deriv);} else {standard_hillshade(deriv);}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);v_pos=a_pos/8192.0;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),line:Qn(`uniform lowp float u_device_pixel_ratio;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp float v_linesofar;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:Qn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:Qn(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture(u_image,pos_a),texture(u_image,pos_b),u_fade);fragColor=color*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:Qn(`uniform lowp float u_device_pixel_ratio;uniform lowp float u_lineatlas_width;uniform sampler2D u_image;uniform float u_mix;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define mediump vec4 dasharray_from
#pragma mapbox: define mediump vec4 dasharray_to
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 dasharray_from
#pragma mapbox: initialize mediump vec4 dasharray_to
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture(u_image,v_tex_a).a;float sdfdist_b=texture(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfgamma=(u_lineatlas_width/256.0/u_device_pixel_ratio)/min(dasharray_from.w,dasharray_to.w);alpha*=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_tileratio;uniform float u_crossfade_from;uniform float u_crossfade_to;uniform float u_lineatlas_height;out vec2 v_normal;out vec2 v_width2;out vec2 v_tex_a;out vec2 v_tex_b;out float v_gamma_scale;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define mediump vec4 dasharray_from
#pragma mapbox: define mediump vec4 dasharray_to
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 dasharray_from
#pragma mapbox: initialize mediump vec4 dasharray_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
float u_patternscale_a_x=u_tileratio/dasharray_from.w/u_crossfade_from;float u_patternscale_a_y=-dasharray_from.z/2.0/u_lineatlas_height;float u_patternscale_b_x=u_tileratio/dasharray_to.w/u_crossfade_to;float u_patternscale_b_y=-dasharray_to.z/2.0/u_lineatlas_height;v_tex_a=vec2(a_linesofar*u_patternscale_a_x/floorwidth,normal.y*u_patternscale_a_y+(float(dasharray_from.y)+0.5)/u_lineatlas_height);v_tex_b=vec2(a_linesofar*u_patternscale_b_x/floorwidth,normal.y*u_patternscale_b_y+(float(dasharray_to.y)+0.5)/u_lineatlas_height);v_width2=vec2(outset,inset);}`),lineGradientSDF:Qn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform sampler2D u_image_dash;uniform float u_mix;uniform lowp float u_lineatlas_width;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define mediump vec4 dasharray_from
#pragma mapbox: define mediump vec4 dasharray_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 dasharray_from
#pragma mapbox: initialize mediump vec4 dasharray_to
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);float sdfdist_a=texture(u_image_dash,v_tex_a).a;float sdfdist_b=texture(u_image_dash,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfgamma=(u_lineatlas_width/256.0)/min(dasharray_from.w,dasharray_to.w);float dash_alpha=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*dash_alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;uniform float u_tileratio;uniform float u_crossfade_from;uniform float u_crossfade_to;uniform float u_lineatlas_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;out vec2 v_tex_a;out vec2 v_tex_b;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define mediump vec4 dasharray_from
#pragma mapbox: define mediump vec4 dasharray_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 dasharray_from
#pragma mapbox: initialize mediump vec4 dasharray_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;float texel_height=1.0/u_image_height;float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
float u_patternscale_a_x=u_tileratio/dasharray_from.w/u_crossfade_from;float u_patternscale_a_y=-dasharray_from.z/2.0/u_lineatlas_height;float u_patternscale_b_x=u_tileratio/dasharray_to.w/u_crossfade_to;float u_patternscale_b_y=-dasharray_to.z/2.0/u_lineatlas_height;v_tex_a=vec2(a_linesofar*u_patternscale_a_x/floorwidth,normal.y*u_patternscale_a_y+(float(dasharray_from.y)+0.5)/u_lineatlas_height);v_tex_b=vec2(a_linesofar*u_patternscale_b_x/floorwidth,normal.y*u_patternscale_b_y+(float(dasharray_to.y)+0.5)/u_lineatlas_height);v_width2=vec2(outset,inset);}`),raster:Qn(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;in vec2 v_pos0;in vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture(u_image0,v_pos0);vec4 color1=texture(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);fragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;uniform vec4 u_coords_top;uniform vec4 u_coords_bottom;in vec2 a_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {vec2 fractionalPos=a_pos/8192.0;vec2 position=mix(mix(u_coords_top.xy,u_coords_top.zw,fractionalPos.x),mix(u_coords_bottom.xy,u_coords_bottom.zw,fractionalPos.x),fractionalPos.y);gl_Position=projectTile(position,position);v_pos0=((fractionalPos-0.5)/u_buffer_scale)+0.5;
#ifdef GLOBE
if (a_pos.y <-32767.5) {v_pos0.y=0.0;}if (a_pos.y > 32766.5) {v_pos0.y=1.0;}
#endif
v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),symbolIcon:Qn(`uniform sampler2D u_texture;in vec2 v_tex;in float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;fragColor=texture(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_tex;out float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:Qn(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;in vec2 v_data0;in vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_data0;out vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:Qn(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;in vec4 v_data0;in vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;fragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec4 v_data0;out vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map && !u_is_along_line) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:Qn("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;uniform bool u_is_globe_mode;in vec2 v_texture_pos;in float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture(u_texture,vec2(v_texture_pos.x,1.0-v_texture_pos.y));if (!u_is_globe_mode && v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);fragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {fragColor=surface_color;}}","in vec3 a_pos3d;uniform mat4 u_fog_matrix;uniform float u_ele_delta;out vec2 v_texture_pos;out float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:Qn("in float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {fragColor=pack(v_depth);}","in vec3 a_pos3d;uniform float u_ele_delta;out float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:Qn("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;in vec2 v_texture_pos;void main() {vec4 rgba=texture(u_texture,v_texture_pos);fragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","in vec3 a_pos3d;uniform float u_ele_delta;out vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);}"),projectionErrorMeasurement:Qn("in vec4 v_output_error_encoded;void main() {fragColor=v_output_error_encoded;}","in vec2 a_pos;uniform highp float u_input;uniform highp float u_output_expected;out vec4 v_output_error_encoded;void main() {float real_output=2.0*atan(exp(PI-(u_input*PI*2.0)))-PI*0.5;float error=real_output-u_output_expected;float abs_error=abs(error)*128.0;v_output_error_encoded.x=min(floor(abs_error*256.0),255.0)/255.0;abs_error-=v_output_error_encoded.x;v_output_error_encoded.y=min(floor(abs_error*65536.0),255.0)/255.0;abs_error-=v_output_error_encoded.x/255.0;v_output_error_encoded.z=min(floor(abs_error*16777216.0),255.0)/255.0;v_output_error_encoded.w=error >=0.0 ? 1.0 : 0.0;gl_Position=vec4(a_pos,0.0,1.0);}"),atmosphere:Qn(`in vec3 view_direction;uniform vec3 u_sun_pos;uniform vec3 u_globe_position;uniform float u_globe_radius;uniform float u_atmosphere_blend;/**Shader use from https:*Made some change to adapt to MapLibre Globe geometry*/const float PI=3.141592653589793;const int iSteps=5;const int jSteps=3;/*radius of the planet*/const float EARTH_RADIUS=6371e3;/*radius of the atmosphere*/const float ATMOS_RADIUS=6471e3;vec2 rsi(vec3 r0,vec3 rd,float sr) {float a=dot(rd,rd);float b=2.0*dot(rd,r0);float c=dot(r0,r0)-(sr*sr);float d=(b*b)-4.0*a*c;if (d < 0.0) return vec2(1e5,-1e5);return vec2((-b-sqrt(d))/(2.0*a),(-b+sqrt(d))/(2.0*a));}vec4 atmosphere(vec3 r,vec3 r0,vec3 pSun,float iSun,float rPlanet,float rAtmos,vec3 kRlh,float kMie,float shRlh,float shMie,float g) {pSun=normalize(pSun);r=normalize(r);vec2 p=rsi(r0,r,rAtmos);if (p.x > p.y) {return vec4(0.0,0.0,0.0,1.0);}if (p.x < 0.0) {p.x=0.0;}vec3 pos=r0+r*p.x;vec2 p2=rsi(r0,r,rPlanet);if (p2.x <=p2.y && p2.x > 0.0) {p.y=min(p.y,p2.x);}float iStepSize=(p.y-p.x)/float(iSteps);float iTime=p.x+iStepSize*0.5;vec3 totalRlh=vec3(0,0,0);vec3 totalMie=vec3(0,0,0);float iOdRlh=0.0;float iOdMie=0.0;float mu=dot(r,pSun);float mumu=mu*mu;float gg=g*g;float pRlh=3.0/(16.0*PI)*(1.0+mumu);float pMie=3.0/(8.0*PI)*((1.0-gg)*(mumu+1.0))/(pow(1.0+gg-2.0*mu*g,1.5)*(2.0+gg));for (int i=0; i < iSteps; i++) {vec3 iPos=r0+r*iTime;float iHeight=length(iPos)-rPlanet;float odStepRlh=exp(-iHeight/shRlh)*iStepSize;float odStepMie=exp(-iHeight/shMie)*iStepSize;iOdRlh+=odStepRlh;iOdMie+=odStepMie;float jStepSize=rsi(iPos,pSun,rAtmos).y/float(jSteps);float jTime=jStepSize*0.5;float jOdRlh=0.0;float jOdMie=0.0;for (int j=0; j < jSteps; j++) {vec3 jPos=iPos+pSun*jTime;float jHeight=length(jPos)-rPlanet;jOdRlh+=exp(-jHeight/shRlh)*jStepSize;jOdMie+=exp(-jHeight/shMie)*jStepSize;jTime+=jStepSize;}vec3 attn=exp(-(kMie*(iOdMie+jOdMie)+kRlh*(iOdRlh+jOdRlh)));totalRlh+=odStepRlh*attn;totalMie+=odStepMie*attn;iTime+=iStepSize;}float opacity=exp(-(length(kRlh)*length(totalRlh)+kMie*length(totalMie)));vec3 color=iSun*(pRlh*kRlh*totalRlh+pMie*kMie*totalMie);return vec4(color,opacity);}void main() {vec3 scale_camera_pos=-u_globe_position*EARTH_RADIUS/u_globe_radius;vec4 color=atmosphere(normalize(view_direction),scale_camera_pos,u_sun_pos,22.0,EARTH_RADIUS,ATMOS_RADIUS,vec3(5.5e-6,13.0e-6,22.4e-6),21e-6,8e3,1.2e3,0.758
);color.rgb=1.0-exp(-1.0*color.rgb);color=pow(color,vec4(1.0/2.2));fragColor=vec4(color.rgb,1.0-color.a)*u_atmosphere_blend;}`,"in vec2 a_pos;uniform mat4 u_inv_proj_matrix;out vec3 view_direction;void main() {view_direction=(u_inv_proj_matrix*vec4(a_pos,0.0,1.0)).xyz;gl_Position=vec4(a_pos,0.0,1.0);}"),sky:Qn("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform vec2 u_horizon;uniform vec2 u_horizon_normal;uniform float u_sky_horizon_blend;uniform float u_sky_blend;void main() {float x=gl_FragCoord.x;float y=gl_FragCoord.y;float blend=(y-u_horizon.y)*u_horizon_normal.y+(x-u_horizon.x)*u_horizon_normal.x;if (blend > 0.0) {if (blend < u_sky_horizon_blend) {fragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {fragColor=u_sky_color;}}fragColor=mix(fragColor,vec4(vec3(0.0),0.0),u_sky_blend);}","in vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function Qn(P,c){const m=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,b=c.match(/in ([\w]+) ([\w]+)/g),C=P.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),I=c.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),z=I?I.concat(C):C,V={};return{fragmentSource:P=P.replace(m,((H,J,ne,he,ue)=>(V[ue]=!0,J==="define"?`
#ifndef HAS_UNIFORM_u_${ue}
in ${ne} ${he} ${ue};
#else
uniform ${ne} ${he} u_${ue};
#endif
`:`
#ifdef HAS_UNIFORM_u_${ue}
    ${ne} ${he} ${ue} = u_${ue};
#endif
`))),vertexSource:c=c.replace(m,((H,J,ne,he,ue)=>{const ye=he==="float"?"vec2":"vec4",Se=ue.match(/color/)?"color":ye;return V[ue]?J==="define"?`
#ifndef HAS_UNIFORM_u_${ue}
uniform lowp float u_${ue}_t;
in ${ne} ${ye} a_${ue};
out ${ne} ${he} ${ue};
#else
uniform ${ne} ${he} u_${ue};
#endif
`:Se==="vec4"?`
#ifndef HAS_UNIFORM_u_${ue}
    ${ue} = a_${ue};
#else
    ${ne} ${he} ${ue} = u_${ue};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ue}
    ${ue} = unpack_mix_${Se}(a_${ue}, u_${ue}_t);
#else
    ${ne} ${he} ${ue} = u_${ue};
#endif
`:J==="define"?`
#ifndef HAS_UNIFORM_u_${ue}
uniform lowp float u_${ue}_t;
in ${ne} ${ye} a_${ue};
#else
uniform ${ne} ${he} u_${ue};
#endif
`:Se==="vec4"?`
#ifndef HAS_UNIFORM_u_${ue}
    ${ne} ${he} ${ue} = a_${ue};
#else
    ${ne} ${he} ${ue} = u_${ue};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ue}
    ${ne} ${he} ${ue} = unpack_mix_${Se}(a_${ue}, u_${ue}_t);
#else
    ${ne} ${he} ${ue} = u_${ue};
#endif
`})),staticAttributes:b,staticUniforms:z}}class hi{constructor(c,m,b){this.vertexBuffer=c,this.indexBuffer=m,this.segments=b}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}var hl=s.aU([{name:"a_pos",type:"Int16",components:2}]);const so="#define PROJECTION_MERCATOR",aa="mercator";class Ko{constructor(){this._cachedMesh=null}get name(){return"mercator"}get useSubdivision(){return!1}get shaderVariantName(){return aa}get shaderDefine(){return so}get shaderPreludeCode(){return $i.projectionMercator}get vertexShaderPreludeCode(){return $i.projectionMercator.vertexSource}get subdivisionGranularity(){return s.aV.noSubdivision}get useGlobeControls(){return!1}get transitionState(){return 0}get latitudeErrorCorrectionRadians(){return 0}destroy(){}updateGPUdependent(c){}getMeshFromTileID(c,m,b,C,I){if(this._cachedMesh)return this._cachedMesh;const z=new s.aW;z.emplaceBack(0,0),z.emplaceBack(s.a5,0),z.emplaceBack(0,s.a5),z.emplaceBack(s.a5,s.a5);const V=c.createVertexBuffer(z,hl.members),H=s.aX.simpleSegment(0,0,4,2),J=new s.aY;J.emplaceBack(1,0,2),J.emplaceBack(1,2,3);const ne=c.createIndexBuffer(J);return this._cachedMesh=new hi(V,ne,H),this._cachedMesh}recalculate(){}hasTransition(){return!1}setErrorQueryLatitudeDegrees(c){}}class $a{constructor(c=0,m=0,b=0,C=0){if(isNaN(c)||c<0||isNaN(m)||m<0||isNaN(b)||b<0||isNaN(C)||C<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=c,this.bottom=m,this.left=b,this.right=C}interpolate(c,m,b){return m.top!=null&&c.top!=null&&(this.top=s.G.number(c.top,m.top,b)),m.bottom!=null&&c.bottom!=null&&(this.bottom=s.G.number(c.bottom,m.bottom,b)),m.left!=null&&c.left!=null&&(this.left=s.G.number(c.left,m.left,b)),m.right!=null&&c.right!=null&&(this.right=s.G.number(c.right,m.right,b)),this}getCenter(c,m){const b=s.an((this.left+c-this.right)/2,0,c),C=s.an((this.top+m-this.bottom)/2,0,m);return new s.P(b,C)}equals(c){return this.top===c.top&&this.bottom===c.bottom&&this.left===c.left&&this.right===c.right}clone(){return new $a(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Sc(P,c){if(!P.renderWorldCopies||P.lngRange)return;const m=c.lng-P.center.lng;c.lng+=m>180?-360:m<-180?360:0}function zi(P){return Math.max(0,Math.floor(P))}class gh{constructor(c,m){var b;this.applyConstrain=(C,I)=>this._constrainOverride!==null?this._constrainOverride(C,I):this._callbacks.defaultConstrain(C,I),this._callbacks=c,this._tileSize=512,this._renderWorldCopies=m?.renderWorldCopies===void 0||!!m?.renderWorldCopies,this._minZoom=m?.minZoom||0,this._maxZoom=m?.maxZoom||22,this._minPitch=m?.minPitch==null?0:m?.minPitch,this._maxPitch=m?.maxPitch==null?60:m?.maxPitch,this._constrainOverride=(b=m?.constrainOverride)!==null&&b!==void 0?b:null,this.setMaxBounds(),this._width=0,this._height=0,this._center=new s.V(0,0),this._elevation=0,this._zoom=0,this._tileZoom=zi(this._zoom),this._scale=s.aq(this._zoom),this._bearingInRadians=0,this._fovInRadians=.6435011087932844,this._pitchInRadians=0,this._rollInRadians=0,this._unmodified=!0,this._edgeInsets=new $a,this._minElevationForCurrentTile=0,this._autoCalculateNearFarZ=!0}apply(c,m,b){this._constrainOverride=c.constrainOverride,this._latRange=c.latRange,this._lngRange=c.lngRange,this._width=c.width,this._height=c.height,this._center=c.center,this._elevation=c.elevation,this._minElevationForCurrentTile=c.minElevationForCurrentTile,this._zoom=c.zoom,this._tileZoom=zi(this._zoom),this._scale=s.aq(this._zoom),this._bearingInRadians=c.bearingInRadians,this._fovInRadians=c.fovInRadians,this._pitchInRadians=c.pitchInRadians,this._rollInRadians=c.rollInRadians,this._unmodified=c.unmodified,this._edgeInsets=new $a(c.padding.top,c.padding.bottom,c.padding.left,c.padding.right),this._minZoom=c.minZoom,this._maxZoom=c.maxZoom,this._minPitch=c.minPitch,this._maxPitch=c.maxPitch,this._renderWorldCopies=c.renderWorldCopies,this._cameraToCenterDistance=c.cameraToCenterDistance,this._nearZ=c.nearZ,this._farZ=c.farZ,this._autoCalculateNearFarZ=!b&&c.autoCalculateNearFarZ,m&&this.constrainInternal(),this._calcMatrices()}get pixelsToClipSpaceMatrix(){return this._pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._clipSpaceToPixelsMatrix}get minElevationForCurrentTile(){return this._minElevationForCurrentTile}setMinElevationForCurrentTile(c){this._minElevationForCurrentTile=c}get tileSize(){return this._tileSize}get tileZoom(){return this._tileZoom}get scale(){return this._scale}get width(){return this._width}get height(){return this._height}get bearingInRadians(){return this._bearingInRadians}get lngRange(){return this._lngRange}get latRange(){return this._latRange}get pixelsToGLUnits(){return this._pixelsToGLUnits}get minZoom(){return this._minZoom}setMinZoom(c){this._minZoom!==c&&(this._minZoom=c,this.setZoom(this.applyConstrain(this._center,this.zoom).zoom))}get maxZoom(){return this._maxZoom}setMaxZoom(c){this._maxZoom!==c&&(this._maxZoom=c,this.setZoom(this.applyConstrain(this._center,this.zoom).zoom))}get minPitch(){return this._minPitch}setMinPitch(c){this._minPitch!==c&&(this._minPitch=c,this.setPitch(Math.max(this.pitch,c)))}get maxPitch(){return this._maxPitch}setMaxPitch(c){this._maxPitch!==c&&(this._maxPitch=c,this.setPitch(Math.min(this.pitch,c)))}get renderWorldCopies(){return this._renderWorldCopies}setRenderWorldCopies(c){c===void 0?c=!0:c===null&&(c=!1),this._renderWorldCopies=c}get constrainOverride(){return this._constrainOverride}setConstrainOverride(c){c===void 0&&(c=null),this._constrainOverride!==c&&(this._constrainOverride=c,this.constrainInternal(),this._calcMatrices())}get worldSize(){return this._tileSize*this._scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new s.P(this._width,this._height)}get bearing(){return this._bearingInRadians/Math.PI*180}setBearing(c){const m=s.W(c,-180,180)*Math.PI/180;var b,C,I,z,V,H,J,ne,he;this._bearingInRadians!==m&&(this._unmodified=!1,this._bearingInRadians=m,this._calcMatrices(),this._rotationMatrix=d(),b=this._rotationMatrix,I=-this._bearingInRadians,z=(C=this._rotationMatrix)[0],V=C[1],H=C[2],J=C[3],ne=Math.sin(I),he=Math.cos(I),b[0]=z*he+H*ne,b[1]=V*he+J*ne,b[2]=z*-ne+H*he,b[3]=V*-ne+J*he)}get rotationMatrix(){return this._rotationMatrix}get pitchInRadians(){return this._pitchInRadians}get pitch(){return this._pitchInRadians/Math.PI*180}setPitch(c){const m=s.an(c,this.minPitch,this.maxPitch)/180*Math.PI;this._pitchInRadians!==m&&(this._unmodified=!1,this._pitchInRadians=m,this._calcMatrices())}get rollInRadians(){return this._rollInRadians}get roll(){return this._rollInRadians/Math.PI*180}setRoll(c){const m=c/180*Math.PI;this._rollInRadians!==m&&(this._unmodified=!1,this._rollInRadians=m,this._calcMatrices())}get fovInRadians(){return this._fovInRadians}get fov(){return s.aZ(this._fovInRadians)}setFov(c){c=s.an(c,.1,150),this.fov!==c&&(this._unmodified=!1,this._fovInRadians=s.ap(c),this._calcMatrices())}get zoom(){return this._zoom}setZoom(c){const m=this.applyConstrain(this._center,c).zoom;this._zoom!==m&&(this._unmodified=!1,this._zoom=m,this._tileZoom=Math.max(0,Math.floor(m)),this._scale=s.aq(m),this.constrainInternal(),this._calcMatrices())}get center(){return this._center}setCenter(c){c.lat===this._center.lat&&c.lng===this._center.lng||(this._unmodified=!1,this._center=c,this.constrainInternal(),this._calcMatrices())}get elevation(){return this._elevation}setElevation(c){c!==this._elevation&&(this._elevation=c,this.constrainInternal(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}setPadding(c){this._edgeInsets.equals(c)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,c,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this._width,this._height)}get pixelsPerMeter(){return this._pixelPerMeter}get unmodified(){return this._unmodified}get cameraToCenterDistance(){return this._cameraToCenterDistance}get nearZ(){return this._nearZ}get farZ(){return this._farZ}get autoCalculateNearFarZ(){return this._autoCalculateNearFarZ}overrideNearFarZ(c,m){this._autoCalculateNearFarZ=!1,this._nearZ=c,this._farZ=m,this._calcMatrices()}clearNearFarZOverride(){this._autoCalculateNearFarZ=!0,this._calcMatrices()}isPaddingEqual(c){return this._edgeInsets.equals(c)}interpolatePadding(c,m,b){this._unmodified=!1,this._edgeInsets.interpolate(c,m,b),this.constrainInternal(),this._calcMatrices()}resize(c,m,b=!0){this._width=c,this._height=m,b&&this.constrainInternal(),this._calcMatrices()}getMaxBounds(){return this._latRange&&this._latRange.length===2&&this._lngRange&&this._lngRange.length===2?new sn([this._lngRange[0],this._latRange[0]],[this._lngRange[1],this._latRange[1]]):null}setMaxBounds(c){c?(this._lngRange=[c.getWest(),c.getEast()],this._latRange=[c.getSouth(),c.getNorth()],this.constrainInternal()):(this._lngRange=null,this._latRange=[-s.ao,s.ao])}getCameraQueryGeometry(c,m){if(m.length===1)return[m[0],c];{const{minX:b,minY:C,maxX:I,maxY:z}=s.aa.fromPoints(m).extend(c);return[new s.P(b,C),new s.P(I,C),new s.P(I,z),new s.P(b,z),new s.P(b,C)]}}constrainInternal(){if(!this.center||!this._width||!this._height||this._constraining)return;this._constraining=!0;const c=this._unmodified,{center:m,zoom:b}=this.applyConstrain(this.center,this.zoom);this.setCenter(m),this.setZoom(b),this._unmodified=c,this._constraining=!1}_calcMatrices(){if(this._width&&this._height){this._pixelsToGLUnits=[2/this._width,-2/this._height];let c=s.ar(new Float64Array(16));s.Q(c,c,[this._width/2,-this._height/2,1]),s.O(c,c,[1,-1,0]),this._clipSpaceToPixelsMatrix=c,c=s.ar(new Float64Array(16)),s.Q(c,c,[1,-1,1]),s.O(c,c,[-1,-1,0]),s.Q(c,c,[2/this._width,2/this._height,1]),this._pixelsToClipSpaceMatrix=c,this._cameraToCenterDistance=.5/Math.tan(this.fovInRadians/2)*this._height}this._callbacks.calcMatrices()}calculateCenterFromCameraLngLatAlt(c,m,b,C){const I=b!==void 0?b:this.bearing,z=C=C!==void 0?C:this.pitch,{distanceToCenter:V,clampedElevation:H}=this._distanceToCenterFromAltElevationPitch(m,this.elevation,z),{x:J,y:ne}=qr(z,I),he=s.a9.fromLngLat(c,m);let ue,ye,Se=s.a_(1,he.y),Ie=0;do{if(Ie+=1,Ie>10)break;ye=V/Se,ue=new s.a9(he.x+J*ye,he.y+ne*ye),Se=1/ue.meterInMercatorCoordinateUnits()}while(Math.abs(V-ye*Se)>1e-12);return{center:ue.toLngLat(),elevation:H,zoom:s.at(this.height/2/Math.tan(this.fovInRadians/2)/ye/this.tileSize)}}recalculateZoomAndCenter(c){if(this.elevation-c==0)return;const m=1/this.worldSize,b=s.as(1,this.center.lat)*this.worldSize,C=s.a9.fromLngLat(this.center,this.elevation),I=C.x/m,z=C.y/m,V=C.z/m,H=this.pitch,J=this.bearing,{x:ne,y:he,z:ue}=qr(H,J),ye=this.cameraToCenterDistance,Se=I+ye*-ne,Ie=z+ye*-he,Le=V+ye*ue,{distanceToCenter:De,clampedElevation:je}=this._distanceToCenterFromAltElevationPitch(Le/b,c,H),He=De*b,Fe=new s.a9((Se+ne*He)*m,(Ie+he*He)*m,0).toLngLat(),We=s.as(1,Fe.lat),Je=s.at(this.height/2/Math.tan(this.fovInRadians/2)/De/We/this.tileSize);this._elevation=je,this._center=Fe,this.setZoom(Je)}_distanceToCenterFromAltElevationPitch(c,m,b){const C=-Math.cos(s.ap(b)),I=c-m;let z,V=m;return C*I>=0||Math.abs(C)<.1?(z=1e4,V=c+z*C):z=-I/C,{distanceToCenter:z,clampedElevation:V}}getCameraPoint(){const c=Math.tan(this.pitchInRadians)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new s.P(c*Math.sin(this.rollInRadians),c*Math.cos(this.rollInRadians)))}getCameraAltitude(){return Math.cos(this.pitchInRadians)*this._cameraToCenterDistance/this._pixelPerMeter+this.elevation}getCameraLngLat(){const c=s.as(1,this.center.lat)*this.worldSize;return ut(this.center,this.elevation,this.pitch,this.bearing,this.cameraToCenterDistance/c).toLngLat()}getMercatorTileCoordinates(c){if(!c)return[0,0,1,1];const m=c.canonical.z>=0?1<<c.canonical.z:Math.pow(2,c.canonical.z);return[c.canonical.x/m,c.canonical.y/m,1/m/s.a5,1/m/s.a5]}}class za{constructor(c,m){this.min=c,this.max=m,this.center=s.a$([],s.b0([],this.min,this.max),.5)}quadrant(c){const m=[c%2==0,c<2],b=s.b1(this.min),C=s.b1(this.max);for(let I=0;I<m.length;I++)b[I]=m[I]?this.min[I]:this.center[I],C[I]=m[I]?this.center[I]:this.max[I];return C[2]=this.max[2],new za(b,C)}distanceX(c){return Math.max(Math.min(this.max[0],c[0]),this.min[0])-c[0]}distanceY(c){return Math.max(Math.min(this.max[1],c[1]),this.min[1])-c[1]}intersectsFrustum(c){let m=!0;for(let b=0;b<c.planes.length;b++){const C=this.intersectsPlane(c.planes[b]);if(C===0)return 0;C===1&&(m=!1)}return m?2:c.aabb.min[0]>this.max[0]||c.aabb.min[1]>this.max[1]||c.aabb.min[2]>this.max[2]||c.aabb.max[0]<this.min[0]||c.aabb.max[1]<this.min[1]||c.aabb.max[2]<this.min[2]?0:1}intersectsPlane(c){let m=c[3],b=c[3];for(let C=0;C<3;C++)c[C]>0?(m+=c[C]*this.min[C],b+=c[C]*this.max[C]):(b+=c[C]*this.min[C],m+=c[C]*this.max[C]);return m>=0?2:b<0?0:1}}class Od{distanceToTile2d(c,m,b,C){const I=C.distanceX([c,m]),z=C.distanceY([c,m]);return Math.hypot(I,z)}getWrap(c,m,b){return b}getTileBoundingVolume(c,m,b,C){var I,z;let V=0,H=0;if(C?.terrain){const ne=new s.a2(c.z,m,c.z,c.x,c.y),he=C.terrain.getMinMaxElevation(ne);V=(I=he.minElevation)!==null&&I!==void 0?I:Math.min(0,b),H=(z=he.maxElevation)!==null&&z!==void 0?z:Math.max(0,b)}const J=1<<c.z;return new za([m+c.x/J,c.y/J,V],[m+(c.x+1)/J,(c.y+1)/J,H])}allowVariableZoom(c,m){const b=c.fov*(Math.abs(Math.cos(c.rollInRadians))*c.height+Math.abs(Math.sin(c.rollInRadians))*c.width)/c.height,C=s.an(78.5-b/2,0,60);return!!m.terrain||c.pitch>C}allowWorldCopies(){return!0}prepareNextFrame(){}}class la{constructor(c,m,b){this.points=c,this.planes=m,this.aabb=b}static fromInvProjectionMatrix(c,m=1,b=0,C,I){const z=I?[[6,5,4],[0,1,2],[0,3,7],[2,1,5],[3,2,6],[0,4,5]]:[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],V=Math.pow(2,b),H=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((ue=>(function(ye,Se,Ie,Le){const De=s.aH([],ye,Se),je=1/De[3]/Ie*Le;return s.b6(De,De,[je,je,1/De[3],je])})(ue,c,m,V)));C&&(function(ue,ye,Se,Ie){const Le=Ie?4:0,De=Ie?0:4;let je=0;const He=[],Fe=[];for(let Ze=0;Ze<4;Ze++){const nt=s.b2([],ue[Ze+De],ue[Ze+Le]),yt=s.b7(nt);s.a$(nt,nt,1/yt),He.push(yt),Fe.push(nt)}for(let Ze=0;Ze<4;Ze++){const nt=s.b8(ue[Ze+Le],Fe[Ze],Se);je=nt!==null&&nt>=0?Math.max(je,nt):Math.max(je,He[Ze])}const We=(function(Ze,nt){const yt=s.b2([],Ze[nt[0]],Ze[nt[1]]),ht=s.b2([],Ze[nt[2]],Ze[nt[1]]),ft=[0,0,0,0];return s.b3(ft,s.b4([],yt,ht)),ft[3]=-s.b5(ft,Ze[nt[0]]),ft})(ue,ye),Je=(function(Ze,nt){const yt=s.b9(Ze),ht=s.ba([],Ze,1/yt),ft=s.b2([],nt,s.a$([],ht,s.b5(nt,ht))),pt=s.b9(ft);if(pt>0){const tn=Math.sqrt(1-ht[3]*ht[3]),nn=s.a$([],ht,-ht[3]),Nt=s.b0([],nn,s.a$([],ft,tn/pt));return s.bb(nt,Nt)}return null})(Se,We);if(Je!==null){const Ze=Je/s.b5(Fe[0],We);je=Math.min(je,Ze)}for(let Ze=0;Ze<4;Ze++){const nt=Math.min(je,He[Ze]);ue[Ze+De]=[ue[Ze+Le][0]+Fe[Ze][0]*nt,ue[Ze+Le][1]+Fe[Ze][1]*nt,ue[Ze+Le][2]+Fe[Ze][2]*nt,1]}})(H,z[0],C,I);const J=z.map((ue=>{const ye=s.b2([],H[ue[0]],H[ue[1]]),Se=s.b2([],H[ue[2]],H[ue[1]]),Ie=s.b3([],s.b4([],ye,Se)),Le=-s.b5(Ie,H[ue[1]]);return Ie.concat(Le)})),ne=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],he=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];for(const ue of H)for(let ye=0;ye<3;ye++)ne[ye]=Math.min(ne[ye],ue[ye]),he[ye]=Math.max(he[ye],ue[ye]);return new la(H,J,new za(ne,he))}}class Qo{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(c){this._helper.setMinZoom(c)}setMaxZoom(c){this._helper.setMaxZoom(c)}setMinPitch(c){this._helper.setMinPitch(c)}setMaxPitch(c){this._helper.setMaxPitch(c)}setRenderWorldCopies(c){this._helper.setRenderWorldCopies(c)}setBearing(c){this._helper.setBearing(c)}setPitch(c){this._helper.setPitch(c)}setRoll(c){this._helper.setRoll(c)}setFov(c){this._helper.setFov(c)}setZoom(c){this._helper.setZoom(c)}setCenter(c){this._helper.setCenter(c)}setElevation(c){this._helper.setElevation(c)}setMinElevationForCurrentTile(c){this._helper.setMinElevationForCurrentTile(c)}setPadding(c){this._helper.setPadding(c)}interpolatePadding(c,m,b){return this._helper.interpolatePadding(c,m,b)}isPaddingEqual(c){return this._helper.isPaddingEqual(c)}resize(c,m,b=!0){this._helper.resize(c,m,b)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(c){this._helper.setMaxBounds(c)}setConstrainOverride(c){this._helper.setConstrainOverride(c)}overrideNearFarZ(c,m){this._helper.overrideNearFarZ(c,m)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(c){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),c)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get constrainOverride(){return this._helper.constrainOverride}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(c,m){}constructor(c){this._posMatrixCache=new Map,this._alignedPosMatrixCache=new Map,this._fogMatrixCacheF32=new Map,this.defaultConstrain=(m,b)=>{b=s.an(+b,this.minZoom,this.maxZoom);const C={center:new s.V(m.lng,m.lat),zoom:b};let I=this._helper._lngRange;if(!this._helper._renderWorldCopies&&I===null){const Fe=179.9999999999;I=[-Fe,Fe]}const z=this.tileSize*s.aq(C.zoom);let V=0,H=z,J=0,ne=z,he=0,ue=0;const{x:ye,y:Se}=this.size;if(this._helper._latRange){const Fe=this._helper._latRange;V=s.X(Fe[1])*z,H=s.X(Fe[0])*z,H-V<Se&&(he=Se/(H-V))}I&&(J=s.W(s.Y(I[0])*z,0,z),ne=s.W(s.Y(I[1])*z,0,z),ne<J&&(ne+=z),ne-J<ye&&(ue=ye/(ne-J)));const{x:Ie,y:Le}=ln(z,m);let De,je;const He=Math.max(ue||0,he||0);if(He){const Fe=new s.P(ue?(ne+J)/2:Ie,he?(H+V)/2:Le);return C.center=Nn(z,Fe).wrap(),C.zoom+=s.at(He),C}if(this._helper._latRange){const Fe=Se/2;Le-Fe<V&&(je=V+Fe),Le+Fe>H&&(je=H-Fe)}if(I){const Fe=(J+ne)/2;let We=Ie;this._helper._renderWorldCopies&&(We=s.W(Ie,Fe-z/2,Fe+z/2));const Je=ye/2;We-Je<J&&(De=J+Je),We+Je>ne&&(De=ne-Je)}if(De!==void 0||je!==void 0){const Fe=new s.P(De??Ie,je??Le);C.center=Nn(z,Fe).wrap()}return C},this.applyConstrain=(m,b)=>this._helper.applyConstrain(m,b),this._helper=new gh({calcMatrices:()=>{this._calcMatrices()},defaultConstrain:(m,b)=>this.defaultConstrain(m,b)},c),this._coveringTilesDetailsProvider=new Od}clone(){const c=new Qo;return c.apply(this),c}apply(c,m,b){this._helper.apply(c,m,b)}get cameraPosition(){return this._cameraPosition}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._viewProjMatrix}get inverseProjectionMatrix(){return this._invProjMatrix}get mercatorMatrix(){return this._mercatorMatrix}getVisibleUnwrappedCoordinates(c){const m=[new s.bc(0,c)];if(this._helper._renderWorldCopies){const b=this.screenPointToMercatorCoordinate(new s.P(0,0)),C=this.screenPointToMercatorCoordinate(new s.P(this._helper._width,0)),I=this.screenPointToMercatorCoordinate(new s.P(this._helper._width,this._helper._height)),z=this.screenPointToMercatorCoordinate(new s.P(0,this._helper._height)),V=Math.floor(Math.min(b.x,C.x,I.x,z.x)),H=Math.floor(Math.max(b.x,C.x,I.x,z.x)),J=1;for(let ne=V-J;ne<=H+J;ne++)ne!==0&&m.push(new s.bc(ne,c))}return m}getCameraFrustum(){return la.fromInvProjectionMatrix(this._invViewProjMatrix,this.worldSize)}getClippingPlane(){return null}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(c){const m=this.screenPointToLocation(this.centerPoint,c),b=c?c.getElevationForLngLatZoom(m,this._helper._tileZoom):0;this._helper.recalculateZoomAndCenter(b)}setLocationAtPoint(c,m){const b=s.as(this.elevation,this.center.lat),C=this.screenPointToMercatorCoordinateAtZ(m,b),I=this.screenPointToMercatorCoordinateAtZ(this.centerPoint,b),z=s.a9.fromLngLat(c),V=new s.a9(z.x-(C.x-I.x),z.y-(C.y-I.y));this.setCenter(V?.toLngLat()),this._helper._renderWorldCopies&&this.setCenter(this.center.wrap())}locationToScreenPoint(c,m){return m?this.coordinatePoint(s.a9.fromLngLat(c),m.getElevationForLngLat(c,this),this._pixelMatrix3D):this.coordinatePoint(s.a9.fromLngLat(c))}screenPointToLocation(c,m){var b;return(b=this.screenPointToMercatorCoordinate(c,m))===null||b===void 0?void 0:b.toLngLat()}screenPointToMercatorCoordinate(c,m){if(m){const b=m.pointCoordinate(c);if(b!=null)return b}return this.screenPointToMercatorCoordinateAtZ(c)}screenPointToMercatorCoordinateAtZ(c,m){const b=m||0,C=[c.x,c.y,0,1],I=[c.x,c.y,1,1];s.aH(C,C,this._pixelMatrixInverse),s.aH(I,I,this._pixelMatrixInverse);const z=C[3],V=I[3],H=C[1]/z,J=I[1]/V,ne=C[2]/z,he=I[2]/V,ue=ne===he?0:(b-ne)/(he-ne);return new s.a9(s.G.number(C[0]/z,I[0]/V,ue)/this.worldSize,s.G.number(H,J,ue)/this.worldSize,b)}coordinatePoint(c,m=0,b=this._pixelMatrix){const C=[c.x*this.worldSize,c.y*this.worldSize,m,1];return s.aH(C,C,b),new s.P(C[0]/C[3],C[1]/C[3])}getBounds(){const c=Math.max(0,this._helper._height/2-Ar(this));return new sn().extend(this.screenPointToLocation(new s.P(0,c))).extend(this.screenPointToLocation(new s.P(this._helper._width,c))).extend(this.screenPointToLocation(new s.P(this._helper._width,this._helper._height))).extend(this.screenPointToLocation(new s.P(0,this._helper._height)))}isPointOnMapSurface(c,m){return m?m.pointCoordinate(c)!=null:c.y>this.height/2-Ar(this)}calculatePosMatrix(c,m=!1,b){var C;const I=(C=c.key)!==null&&C!==void 0?C:s.bd(c.wrap,c.canonical.z,c.canonical.z,c.canonical.x,c.canonical.y),z=m?this._alignedPosMatrixCache:this._posMatrixCache;if(z.has(I)){const J=z.get(I);return b?J.f32:J.f64}const V=kr(c,this.worldSize);s.S(V,m?this._alignedProjMatrix:this._viewProjMatrix,V);const H={f64:V,f32:new Float32Array(V)};return z.set(I,H),b?H.f32:H.f64}calculateFogMatrix(c){const m=c.key,b=this._fogMatrixCacheF32;if(b.has(m))return b.get(m);const C=kr(c,this.worldSize);return s.S(C,this._fogMatrix,C),b.set(m,new Float32Array(C)),b.get(m)}calculateCenterFromCameraLngLatAlt(c,m,b,C){return this._helper.calculateCenterFromCameraLngLatAlt(c,m,b,C)}_calculateNearFarZIfNeeded(c,m,b){if(!this._helper.autoCalculateNearFarZ)return;const C=Math.min(this.elevation,this.minElevationForCurrentTile,this.getCameraAltitude()-100),I=c-C*this._helper._pixelPerMeter/Math.cos(m),z=C<0?I:c,V=Math.PI/2+this.pitchInRadians,H=s.ap(this.fov)*(Math.abs(Math.cos(s.ap(this.roll)))*this.height+Math.abs(Math.sin(s.ap(this.roll)))*this.width)/this.height*(.5+b.y/this.height),J=Math.sin(H)*z/Math.sin(s.an(Math.PI-V-H,.01,Math.PI-.01)),ne=Ar(this),he=Math.atan(ne/this._helper.cameraToCenterDistance),ue=s.ap(.75),ye=he>ue?2*he*(.5+b.y/(2*ne)):ue,Se=Math.sin(ye)*z/Math.sin(s.an(Math.PI-V-ye,.01,Math.PI-.01)),Ie=Math.min(J,Se);this._helper._farZ=1.01*(Math.cos(Math.PI/2-m)*Ie+z),this._helper._nearZ=this._helper._height/50}_calcMatrices(){if(!this._helper._height)return;const c=this.centerOffset,m=ln(this.worldSize,this.center),b=m.x,C=m.y;this._helper._pixelPerMeter=s.as(1,this.center.lat)*this.worldSize;const I=s.ap(Math.min(this.pitch,zt)),z=Math.max(this._helper.cameraToCenterDistance/2,this._helper.cameraToCenterDistance+this._helper._elevation*this._helper._pixelPerMeter/Math.cos(I));let V;this._calculateNearFarZIfNeeded(z,I,c),V=new Float64Array(16),s.be(V,this.fovInRadians,this._helper._width/this._helper._height,this._helper._nearZ,this._helper._farZ),this._invProjMatrix=new Float64Array(16),s.aB(this._invProjMatrix,V),V[8]=2*-c.x/this._helper._width,V[9]=2*c.y/this._helper._height,this._projectionMatrix=s.bf(V),s.Q(V,V,[1,-1,1]),s.O(V,V,[0,0,-this._helper.cameraToCenterDistance]),s.bg(V,V,-this.rollInRadians),s.bh(V,V,this.pitchInRadians),s.bg(V,V,-this.bearingInRadians),s.O(V,V,[-b,-C,0]),this._mercatorMatrix=s.Q([],V,[this.worldSize,this.worldSize,this.worldSize]),s.Q(V,V,[1,1,this._helper._pixelPerMeter]),this._pixelMatrix=s.S(new Float64Array(16),this.clipSpaceToPixelsMatrix,V),s.O(V,V,[0,0,-this.elevation]),this._viewProjMatrix=V,this._invViewProjMatrix=s.aB([],V);const H=[0,0,-1,1];s.aH(H,H,this._invViewProjMatrix),this._cameraPosition=[H[0]/H[3],H[1]/H[3],H[2]/H[3]],this._fogMatrix=new Float64Array(16),s.be(this._fogMatrix,this.fovInRadians,this.width/this.height,z,this._helper._farZ),this._fogMatrix[8]=2*-c.x/this.width,this._fogMatrix[9]=2*c.y/this.height,s.Q(this._fogMatrix,this._fogMatrix,[1,-1,1]),s.O(this._fogMatrix,this._fogMatrix,[0,0,-this.cameraToCenterDistance]),s.bg(this._fogMatrix,this._fogMatrix,-this.rollInRadians),s.bh(this._fogMatrix,this._fogMatrix,this.pitchInRadians),s.bg(this._fogMatrix,this._fogMatrix,-this.bearingInRadians),s.O(this._fogMatrix,this._fogMatrix,[-b,-C,0]),s.Q(this._fogMatrix,this._fogMatrix,[1,1,this._helper._pixelPerMeter]),s.O(this._fogMatrix,this._fogMatrix,[0,0,-this.elevation]),this._pixelMatrix3D=s.S(new Float64Array(16),this.clipSpaceToPixelsMatrix,V);const J=this._helper._width%2/2,ne=this._helper._height%2/2,he=Math.cos(this.bearingInRadians),ue=Math.sin(-this.bearingInRadians),ye=b-Math.round(b)+he*J+ue*ne,Se=C-Math.round(C)+he*ne+ue*J,Ie=new Float64Array(V);if(s.O(Ie,Ie,[ye>.5?ye-1:ye,Se>.5?Se-1:Se,0]),this._alignedProjMatrix=Ie,V=s.aB(new Float64Array(16),this._pixelMatrix),!V)throw new Error("failed to invert matrix");this._pixelMatrixInverse=V,this._clearMatrixCaches()}_clearMatrixCaches(){this._posMatrixCache.clear(),this._alignedPosMatrixCache.clear(),this._fogMatrixCacheF32.clear()}maxPitchScaleFactor(){if(!this._pixelMatrixInverse)return 1;const c=this.screenPointToMercatorCoordinate(new s.P(0,0)),m=[c.x*this.worldSize,c.y*this.worldSize,0,1];return s.aH(m,m,this._pixelMatrix)[3]/this._helper.cameraToCenterDistance}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){const c=s.as(1,this.center.lat)*this.worldSize;return ut(this.center,this.elevation,this.pitch,this.bearing,this._helper.cameraToCenterDistance/c).toLngLat()}lngLatToCameraDepth(c,m){const b=s.a9.fromLngLat(c),C=[b.x*this.worldSize,b.y*this.worldSize,m,1];return s.aH(C,C,this._viewProjMatrix),C[2]/C[3]}getProjectionData(c){const{overscaledTileID:m,aligned:b,applyTerrainMatrix:C}=c,I=this._helper.getMercatorTileCoordinates(m),z=m?this.calculatePosMatrix(m,b,!0):null;let V;return V=m&&m.terrainRttPosMatrix32f&&C?m.terrainRttPosMatrix32f:z||s.bi(),{mainMatrix:V,tileMercatorCoords:I,clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:V}}isLocationOccluded(c){return!1}getPixelScale(){return 1}getCircleRadiusCorrection(){return 1}getPitchedTextCorrection(c,m,b){return 1}transformLightDirection(c){return s.b1(c)}getRayDirectionFromPixel(c){throw new Error("Not implemented.")}projectTileCoordinates(c,m,b,C){const I=this.calculatePosMatrix(b);let z;C?(z=[c,m,C(c,m),1],s.aH(z,z,I)):(z=[c,m,0,1],ul(z,z,I));const V=z[3];return{point:new s.P(z[0]/V,z[1]/V),signedDistanceFromCamera:V,isOccluded:!1}}populateCache(c){for(const m of c)this.calculatePosMatrix(m)}getMatrixForModel(c,m){const b=s.a9.fromLngLat(c,m),C=b.meterInMercatorCoordinateUnits(),I=s.bj();return s.O(I,I,[b.x,b.y,b.z]),s.bg(I,I,Math.PI),s.bh(I,I,Math.PI/2),s.Q(I,I,[-C,C,C]),I}getProjectionDataForCustomLayer(c=!0){const m=new s.a2(0,0,0,0,0),b=this.getProjectionData({overscaledTileID:m,applyGlobeMatrix:c}),C=kr(m,this.worldSize);s.S(C,this._viewProjMatrix,C),b.tileMercatorCoords=[0,0,1,1];const I=[s.a5,s.a5,this.worldSize/this._helper.pixelsPerMeter],z=s.bk();return s.Q(z,C,I),b.fallbackMatrix=z,b.mainMatrix=z,b}getFastPathSimpleProjectionMatrix(c){return this.calculatePosMatrix(c)}}function ca(){s.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}function Am(P){if(P.useSlerp)if(P.k<1){const c=s.bl(P.startEulerAngles.roll,P.startEulerAngles.pitch,P.startEulerAngles.bearing),m=s.bl(P.endEulerAngles.roll,P.endEulerAngles.pitch,P.endEulerAngles.bearing),b=new Float64Array(4);s.bm(b,c,m,P.k);const C=s.bn(b);P.tr.setRoll(C.roll),P.tr.setPitch(C.pitch),P.tr.setBearing(C.bearing)}else P.tr.setRoll(P.endEulerAngles.roll),P.tr.setPitch(P.endEulerAngles.pitch),P.tr.setBearing(P.endEulerAngles.bearing);else P.tr.setRoll(s.G.number(P.startEulerAngles.roll,P.endEulerAngles.roll,P.k)),P.tr.setPitch(s.G.number(P.startEulerAngles.pitch,P.endEulerAngles.pitch,P.k)),P.tr.setBearing(s.G.number(P.startEulerAngles.bearing,P.endEulerAngles.bearing,P.k))}function Sd(P,c,m,b,C){const I=C.padding,z=ln(C.worldSize,m.getNorthWest()),V=ln(C.worldSize,m.getNorthEast()),H=ln(C.worldSize,m.getSouthEast()),J=ln(C.worldSize,m.getSouthWest()),ne=s.ap(-b),he=z.rotate(ne),ue=V.rotate(ne),ye=H.rotate(ne),Se=J.rotate(ne),Ie=new s.P(Math.max(he.x,ue.x,Se.x,ye.x),Math.max(he.y,ue.y,Se.y,ye.y)),Le=new s.P(Math.min(he.x,ue.x,Se.x,ye.x),Math.min(he.y,ue.y,Se.y,ye.y)),De=Ie.sub(Le),je=(C.width-(I.left+I.right+c.left+c.right))/De.x,He=(C.height-(I.top+I.bottom+c.top+c.bottom))/De.y;if(He<0||je<0)return void ca();const Fe=Math.min(s.at(C.scale*Math.min(je,He)),P.maxZoom),We=s.P.convert(P.offset),Je=new s.P((c.left-c.right)/2,(c.top-c.bottom)/2).rotate(s.ap(b)),Ze=We.add(Je).mult(C.scale/s.aq(Fe));return{center:Nn(C.worldSize,z.add(H).div(2).sub(Ze)),zoom:Fe,bearing:b}}class Cd{get useGlobeControls(){return!1}handlePanInertia(c,m){const b=c.mag(),C=Math.abs(Ar(m));return{easingOffset:c.mult(Math.min(.75*C/b,1)),easingCenter:m.center}}handleMapControlsRollPitchBearingZoom(c,m){c.bearingDelta&&m.setBearing(m.bearing+c.bearingDelta),c.pitchDelta&&m.setPitch(m.pitch+c.pitchDelta),c.rollDelta&&m.setRoll(m.roll+c.rollDelta),c.zoomDelta&&m.setZoom(m.zoom+c.zoomDelta)}handleMapControlsPan(c,m,b){c.around.distSqr(m.centerPoint)<.01||m.setLocationAtPoint(b,c.around)}cameraForBoxAndBearing(c,m,b,C,I){return Sd(c,m,b,C,I)}handleJumpToCenterZoom(c,m){c.zoom!==(m.zoom!==void 0?+m.zoom:c.zoom)&&c.setZoom(+m.zoom),m.center!==void 0&&c.setCenter(s.V.convert(m.center))}handleEaseTo(c,m){const b=c.zoom,C=c.padding,I={roll:c.roll,pitch:c.pitch,bearing:c.bearing},z={roll:m.roll===void 0?c.roll:m.roll,pitch:m.pitch===void 0?c.pitch:m.pitch,bearing:m.bearing===void 0?c.bearing:m.bearing},V=m.zoom!==void 0,H=!c.isPaddingEqual(m.padding);let J=!1;const ne=V?+m.zoom:c.zoom;let he=c.centerPoint.add(m.offsetAsPoint);const ue=c.screenPointToLocation(he),{center:ye,zoom:Se}=c.applyConstrain(s.V.convert(m.center||ue),ne??b);Sc(c,ye);const Ie=ln(c.worldSize,ue),Le=ln(c.worldSize,ye).sub(Ie),De=s.aq(Se-b);return J=Se!==b,{easeFunc:je=>{if(J&&c.setZoom(s.G.number(b,Se,je)),s.bo(I,z)||Am({startEulerAngles:I,endEulerAngles:z,tr:c,k:je,useSlerp:I.roll!=z.roll}),H&&(c.interpolatePadding(C,m.padding,je),he=c.centerPoint.add(m.offsetAsPoint)),m.around)c.setLocationAtPoint(m.around,m.aroundPoint);else{const He=s.aq(c.zoom-b),Fe=Se>b?Math.min(2,De):Math.max(.5,De),We=Math.pow(Fe,1-je),Je=Nn(c.worldSize,Ie.add(Le.mult(je*We)).mult(He));c.setLocationAtPoint(c.renderWorldCopies?Je.wrap():Je,he)}},isZooming:J,elevationCenter:ye}}handleFlyTo(c,m){const b=m.zoom!==void 0,C=c.zoom,I=c.applyConstrain(s.V.convert(m.center||m.locationAtOffset),b?+m.zoom:C),z=I.center,V=I.zoom;Sc(c,z);const H=ln(c.worldSize,m.locationAtOffset),J=ln(c.worldSize,z).sub(H),ne=J.mag(),he=s.aq(V-C);let ue;if(m.minZoom!==void 0){const ye=Math.min(+m.minZoom,C,V),Se=c.applyConstrain(z,ye).zoom;ue=s.aq(Se-C)}return{easeFunc:(ye,Se,Ie,Le)=>{c.setZoom(ye===1?V:C+s.at(Se));const De=ye===1?z:Nn(c.worldSize,H.add(J.mult(Ie)).mult(Se));c.setLocationAtPoint(c.renderWorldCopies?De.wrap():De,Le)},scaleOfZoom:he,targetCenter:z,scaleOfMinZoom:ue,pixelPathLength:ne}}}class ii{constructor(c,m,b){this.blendFunction=c,this.blendColor=m,this.mask=b}}ii.Replace=[1,0],ii.disabled=new ii(ii.Replace,s.bp.transparent,[!1,!1,!1,!1]),ii.unblended=new ii(ii.Replace,s.bp.transparent,[!0,!0,!0,!0]),ii.alphaBlended=new ii([1,771],s.bp.transparent,[!0,!0,!0,!0]);const yh=2305;class xr{constructor(c,m,b){this.enable=c,this.mode=m,this.frontFace=b}}xr.disabled=new xr(!1,1029,yh),xr.backCCW=new xr(!0,1029,yh),xr.frontCCW=new xr(!0,1028,yh);class ar{constructor(c,m,b){this.func=c,this.mask=m,this.range=b}}ar.ReadOnly=!1,ar.ReadWrite=!0,ar.disabled=new ar(519,ar.ReadOnly,[0,1]);const Td=7680;class Dr{constructor(c,m,b,C,I,z){this.test=c,this.ref=m,this.mask=b,this.fail=C,this.depthFail=I,this.pass=z}}Dr.disabled=new Dr({func:519,mask:0},0,0,Td,Td,Td);const Pm=new WeakMap;function dl(P){var c;if(Pm.has(P))return Pm.get(P);{const m=(c=P.getParameter(P.VERSION))===null||c===void 0?void 0:c.startsWith("WebGL 2.0");return Pm.set(P,m),m}}class vh{get awaitingQuery(){return!!this._readbackQueue}constructor(c){this._readbackWaitFrames=4,this._measureWaitFrames=6,this._texWidth=1,this._texHeight=1,this._measuredError=0,this._updateCount=0,this._lastReadbackFrame=-1e3,this._readbackQueue=null,this._cachedRenderContext=c;const m=c.context,b=m.gl;this._texFormat=b.RGBA,this._texType=b.UNSIGNED_BYTE;const C=new s.aW;C.emplaceBack(-1,-1),C.emplaceBack(2,-1),C.emplaceBack(-1,2);const I=new s.aY;I.emplaceBack(0,1,2),this._fullscreenTriangle=new hi(m.createVertexBuffer(C,hl.members),m.createIndexBuffer(I),s.aX.simpleSegment(0,0,C.length,I.length)),this._resultBuffer=new Uint8Array(4),m.activeTexture.set(b.TEXTURE1);const z=b.createTexture();b.bindTexture(b.TEXTURE_2D,z),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST),b.texImage2D(b.TEXTURE_2D,0,this._texFormat,this._texWidth,this._texHeight,0,this._texFormat,this._texType,null),this._fbo=m.createFramebuffer(this._texWidth,this._texHeight,!1,!1),this._fbo.colorAttachment.set(z),dl(b)&&(this._pbo=b.createBuffer(),b.bindBuffer(b.PIXEL_PACK_BUFFER,this._pbo),b.bufferData(b.PIXEL_PACK_BUFFER,4,b.STREAM_READ),b.bindBuffer(b.PIXEL_PACK_BUFFER,null))}destroy(){const c=this._cachedRenderContext.context.gl;this._fullscreenTriangle.destroy(),this._fbo.destroy(),c.deleteBuffer(this._pbo),this._fullscreenTriangle=null,this._fbo=null,this._pbo=null,this._resultBuffer=null}updateErrorLoop(c,m){const b=this._updateCount;return this._readbackQueue?b>=this._readbackQueue.frameNumberIssued+this._readbackWaitFrames&&this._tryReadback():b>=this._lastReadbackFrame+this._measureWaitFrames&&this._renderErrorTexture(c,m),this._updateCount++,this._measuredError}_bindFramebuffer(){const c=this._cachedRenderContext.context,m=c.gl;c.activeTexture.set(m.TEXTURE1),m.bindTexture(m.TEXTURE_2D,this._fbo.colorAttachment.get()),c.bindFramebuffer.set(this._fbo.framebuffer)}_renderErrorTexture(c,m){const b=this._cachedRenderContext.context,C=b.gl;if(this._bindFramebuffer(),b.viewport.set([0,0,this._texWidth,this._texHeight]),b.clear({color:s.bp.transparent}),this._cachedRenderContext.useProgram("projectionErrorMeasurement").draw(b,C.TRIANGLES,ar.disabled,Dr.disabled,ii.unblended,xr.disabled,((I,z)=>({u_input:I,u_output_expected:z}))(c,m),null,null,"$clipping",this._fullscreenTriangle.vertexBuffer,this._fullscreenTriangle.indexBuffer,this._fullscreenTriangle.segments),this._pbo&&dl(C)){C.bindBuffer(C.PIXEL_PACK_BUFFER,this._pbo),C.readBuffer(C.COLOR_ATTACHMENT0),C.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,0),C.bindBuffer(C.PIXEL_PACK_BUFFER,null);const I=C.fenceSync(C.SYNC_GPU_COMMANDS_COMPLETE,0);C.flush(),this._readbackQueue={frameNumberIssued:this._updateCount,sync:I}}else this._readbackQueue={frameNumberIssued:this._updateCount,sync:null}}_tryReadback(){const c=this._cachedRenderContext.context.gl;if(this._pbo&&this._readbackQueue&&dl(c)){const m=c.clientWaitSync(this._readbackQueue.sync,0,0);if(m===c.WAIT_FAILED)return s.w("WebGL2 clientWaitSync failed."),this._readbackQueue=null,void(this._lastReadbackFrame=this._updateCount);if(m===c.TIMEOUT_EXPIRED)return;c.bindBuffer(c.PIXEL_PACK_BUFFER,this._pbo),c.getBufferSubData(c.PIXEL_PACK_BUFFER,0,this._resultBuffer,0,4),c.bindBuffer(c.PIXEL_PACK_BUFFER,null)}else this._bindFramebuffer(),c.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,this._resultBuffer);this._readbackQueue=null,this._measuredError=vh._parseRGBA8float(this._resultBuffer),this._lastReadbackFrame=this._updateCount}static _parseRGBA8float(c){let m=0;return m+=c[0]/256,m+=c[1]/65536,m+=c[2]/16777216,c[3]<127&&(m=-m),m/128}}const _h=s.a5/128;function eb(P,c){const m=P.granularity!==void 0?Math.max(P.granularity,1):1,b=m+(P.generateBorders?2:0),C=m+(P.extendToNorthPole||P.generateBorders?1:0)+(P.extendToSouthPole||P.generateBorders?1:0),I=b+1,z=C+1,V=P.generateBorders?-1:0,H=P.generateBorders||P.extendToNorthPole?-1:0,J=m+(P.generateBorders?1:0),ne=m+(P.generateBorders||P.extendToSouthPole?1:0),he=I*z,ue=b*C*6,ye=I*z>65536;if(ye&&c==="16bit")throw new Error("Granularity is too large and meshes would not fit inside 16 bit vertex indices.");const Se=ye||c==="32bit",Ie=new Int16Array(2*he);let Le=0;for(let He=H;He<=ne;He++)for(let Fe=V;Fe<=J;Fe++){let We=Fe/m*s.a5;Fe===-1&&(We=-_h),Fe===m+1&&(We=s.a5+_h);let Je=He/m*s.a5;He===-1&&(Je=P.extendToNorthPole?s.br:-_h),He===m+1&&(Je=P.extendToSouthPole?s.bs:s.a5+_h),Ie[Le++]=We,Ie[Le++]=Je}const De=Se?new Uint32Array(ue):new Uint16Array(ue);let je=0;for(let He=0;He<C;He++)for(let Fe=0;Fe<b;Fe++){const We=Fe+1+He*I,Je=Fe+(He+1)*I,Ze=Fe+1+(He+1)*I;De[je++]=Fe+He*I,De[je++]=Je,De[je++]=We,De[je++]=We,De[je++]=Je,De[je++]=Ze}return{vertices:Ie.buffer.slice(0),indices:De.buffer.slice(0),uses32bitIndices:Se}}const Mm=new s.aV({fill:new s.bt(128,2),line:new s.bt(512,0),tile:new s.bt(128,32),stencil:new s.bt(128,1),circle:3});class vv{constructor(){this._tileMeshCache={},this._errorCorrectionUsable=0,this._errorMeasurementLastValue=0,this._errorCorrectionPreviousValue=0,this._errorMeasurementLastChangeTime=-1e3}get name(){return"vertical-perspective"}get transitionState(){return 1}get useSubdivision(){return!0}get shaderVariantName(){return"globe"}get shaderDefine(){return"#define GLOBE"}get shaderPreludeCode(){return $i.projectionGlobe}get vertexShaderPreludeCode(){return $i.projectionMercator.vertexSource}get subdivisionGranularity(){return Mm}get useGlobeControls(){return!0}get latitudeErrorCorrectionRadians(){return this._errorCorrectionUsable}destroy(){this._errorMeasurement&&this._errorMeasurement.destroy()}updateGPUdependent(c){this._errorMeasurement||(this._errorMeasurement=new vh(c));const m=s.X(this._errorQueryLatitudeDegrees),b=2*Math.atan(Math.exp(Math.PI-m*Math.PI*2))-.5*Math.PI,C=this._errorMeasurement.updateErrorLoop(m,b),I=A();C!==this._errorMeasurementLastValue&&(this._errorCorrectionPreviousValue=this._errorCorrectionUsable,this._errorMeasurementLastValue=C,this._errorMeasurementLastChangeTime=I);const z=Math.min(Math.max((I-this._errorMeasurementLastChangeTime)/1e3/.5,0),1);this._errorCorrectionUsable=s.bu(this._errorCorrectionPreviousValue,-this._errorMeasurementLastValue,s.bv(z))}_getMeshKey(c){return`${c.granularity.toString(36)}_${c.generateBorders?"b":""}${c.extendToNorthPole?"n":""}${c.extendToSouthPole?"s":""}`}getMeshFromTileID(c,m,b,C,I){const z=(I==="stencil"?Mm.stencil:Mm.tile).getGranularityForZoomLevel(m.z);return this._getMesh(c,{granularity:z,generateBorders:b,extendToNorthPole:m.y===0&&C,extendToSouthPole:m.y===(1<<m.z)-1&&C})}_getMesh(c,m){const b=this._getMeshKey(m);if(b in this._tileMeshCache)return this._tileMeshCache[b];const C=(function(I,z){const V=eb(z,"16bit"),H=s.aW.deserialize({arrayBuffer:V.vertices,length:V.vertices.byteLength/2/2}),J=s.aY.deserialize({arrayBuffer:V.indices,length:V.indices.byteLength/2/3});return new hi(I.createVertexBuffer(H,hl.members),I.createIndexBuffer(J),s.aX.simpleSegment(0,0,H.length,J.length))})(c,m);return this._tileMeshCache[b]=C,C}recalculate(c){}hasTransition(){const c=A();let m=!1;return m=m||(c-this._errorMeasurementLastChangeTime)/1e3<.7,m=m||this._errorMeasurement&&this._errorMeasurement.awaitingQuery,m}setErrorQueryLatitudeDegrees(c){this._errorQueryLatitudeDegrees=c}}const lS=new s.t({type:new s.D(s.u.projection.type)});class _v extends s.E{constructor(c){super(),this._transitionable=new s.x(lS,void 0),this.setProjection(c),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new s.H(0)),this._mercatorProjection=new Ko,this._verticalPerspectiveProjection=new vv}get transitionState(){const c=this.properties.get("type");if(typeof c=="string"&&c==="mercator")return 0;if(typeof c=="string"&&c==="vertical-perspective")return 1;if(c instanceof s.bw){if(c.from==="vertical-perspective"&&c.to==="mercator")return 1-c.transition;if(c.from==="mercator"&&c.to==="vertical-perspective")return c.transition}return 1}get useGlobeRendering(){return this.transitionState>0}get latitudeErrorCorrectionRadians(){return this._verticalPerspectiveProjection.latitudeErrorCorrectionRadians}get currentProjection(){return this.useGlobeRendering?this._verticalPerspectiveProjection:this._mercatorProjection}get name(){return"globe"}get useSubdivision(){return this.currentProjection.useSubdivision}get shaderVariantName(){return this.currentProjection.shaderVariantName}get shaderDefine(){return this.currentProjection.shaderDefine}get shaderPreludeCode(){return this.currentProjection.shaderPreludeCode}get vertexShaderPreludeCode(){return this.currentProjection.vertexShaderPreludeCode}get subdivisionGranularity(){return this.currentProjection.subdivisionGranularity}get useGlobeControls(){return this.transitionState>0}destroy(){this._mercatorProjection.destroy(),this._verticalPerspectiveProjection.destroy()}updateGPUdependent(c){this._mercatorProjection.updateGPUdependent(c),this._verticalPerspectiveProjection.updateGPUdependent(c)}getMeshFromTileID(c,m,b,C,I){return this.currentProjection.getMeshFromTileID(c,m,b,C,I)}setProjection(c){this._transitionable.setValue("type",c?.type||"mercator")}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()||this.currentProjection.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}setErrorQueryLatitudeDegrees(c){this._verticalPerspectiveProjection.setErrorQueryLatitudeDegrees(c),this._mercatorProjection.setErrorQueryLatitudeDegrees(c)}}function ua(P){const c=kd(P.worldSize,P.center.lat);return 2*Math.PI*c}function Cc(P,c,m,b,C){const I=1/(1<<C),z=c/s.a5*I+b*I,V=s.by((P/s.a5*I+m*I)*Math.PI*2+Math.PI,2*Math.PI),H=2*Math.atan(Math.exp(Math.PI-z*Math.PI*2))-.5*Math.PI,J=Math.cos(H),ne=new Float64Array(3);return ne[0]=Math.sin(V)*J,ne[1]=Math.sin(H),ne[2]=Math.cos(V)*J,ne}function Ni(P){return(function(c,m){const b=Math.cos(m),C=new Float64Array(3);return C[0]=Math.sin(c)*b,C[1]=Math.sin(m),C[2]=Math.cos(c)*b,C})(P.lng*Math.PI/180,P.lat*Math.PI/180)}function kd(P,c){return P/(2*Math.PI)/Math.cos(c*Math.PI/180)}function Rm(P){const c=Math.asin(P[1])/Math.PI*180,m=Math.sqrt(P[0]*P[0]+P[2]*P[2]);if(m>1e-6){const b=P[0]/m,C=Math.acos(P[2]/m),I=(b>0?C:-C)/Math.PI*180;return new s.V(s.W(I,-180,180),c)}return new s.V(0,c)}function Im(P){return Math.cos(P*Math.PI/180)}function ao(P,c){const m=Im(P),b=Im(c);return s.at(b/m)}function tb(P,c){const m=P.rotate(c.bearingInRadians),b=c.zoom+ao(c.center.lat,0),C=s.bu(1/Im(c.center.lat),1/Im(Math.min(Math.abs(c.center.lat),60)),s.bx(b,7,3,0,1)),I=360/ua({worldSize:c.worldSize,center:{lat:c.center.lat}});return new s.V(c.center.lng-m.x*I*C,s.an(c.center.lat+m.y*I,-s.ao,s.ao))}function xy(P){const c=.5*P,m=Math.sin(c),b=Math.cos(c);return Math.log(m+b)-Math.log(b-m)}function nb(P,c,m,b){const C=P.lat+m*b;if(Math.abs(m)>1){const I=(Math.sign(P.lat+m)!==Math.sign(P.lat)?-Math.abs(P.lat):Math.abs(P.lat))*Math.PI/180,z=Math.abs(P.lat+m)*Math.PI/180,V=xy(I+b*(z-I)),H=xy(I),J=xy(z);return new s.V(P.lng+c*((V-H)/(J-H)),C)}return new s.V(P.lng+c*b,C)}class cS{constructor(c){this._cachePrevious=new Map,this._cache=new Map,this._hadAnyChanges=!1,this._boundingVolumeFactory=c}swapBuffers(){if(!this._hadAnyChanges)return;const c=this._cachePrevious;this._cachePrevious=this._cache,this._cache=c,this._cache.clear(),this._hadAnyChanges=!1}getTileBoundingVolume(c,m,b,C){const I=`${c.z}_${c.x}_${c.y}_${C?.terrain?"t":""}`,z=this._cache.get(I);if(z)return z;const V=this._cachePrevious.get(I);if(V)return this._cache.set(I,V),V;const H=this._boundingVolumeFactory(c,m,b,C);return this._cache.set(I,H),this._hadAnyChanges=!0,H}}class Wf{constructor(c,m,b,C){this.min=b,this.max=C,this.points=c,this.planes=m}static fromAabb(c,m){const b=[];for(let C=0;C<8;C++)b.push([1&~C?c[0]:m[0],(C>>1&1)==1?m[1]:c[1],(C>>2&1)==1?m[2]:c[2]]);return new Wf(b,[[-1,0,0,m[0]],[1,0,0,-c[0]],[0,-1,0,m[1]],[0,1,0,-c[1]],[0,0,-1,m[2]],[0,0,1,-c[2]]],c,m)}static fromCenterSizeAngles(c,m,b){const C=s.bB([],b[0],b[1],b[2]),I=s.bC([],[m[0],0,0],C),z=s.bC([],[0,m[1],0],C),V=s.bC([],[0,0,m[2]],C),H=[...c],J=[...c];for(let he=0;he<8;he++)for(let ue=0;ue<3;ue++){const ye=c[ue]+I[ue]*(1&~he?-1:1)+z[ue]*((he>>1&1)==1?1:-1)+V[ue]*((he>>2&1)==1?1:-1);H[ue]=Math.min(H[ue],ye),J[ue]=Math.max(J[ue],ye)}const ne=[];for(let he=0;he<8;he++){const ue=[...c];s.b0(ue,ue,s.a$([],I,1&~he?-1:1)),s.b0(ue,ue,s.a$([],z,(he>>1&1)==1?1:-1)),s.b0(ue,ue,s.a$([],V,(he>>2&1)==1?1:-1)),ne.push(ue)}return new Wf(ne,[[...I,-s.b5(I,ne[0])],[...z,-s.b5(z,ne[0])],[...V,-s.b5(V,ne[0])],[-I[0],-I[1],-I[2],-s.b5(I,ne[7])],[-z[0],-z[1],-z[2],-s.b5(z,ne[7])],[-V[0],-V[1],-V[2],-s.b5(V,ne[7])]],H,J)}intersectsFrustum(c){let m=!0;const b=this.points.length,C=this.planes.length,I=c.planes.length,z=c.points.length;for(let V=0;V<I;V++){const H=c.planes[V];let J=0;for(let ne=0;ne<b;ne++){const he=this.points[ne];H[0]*he[0]+H[1]*he[1]+H[2]*he[2]+H[3]>=0&&J++}if(J===0)return 0;J<b&&(m=!1)}if(m)return 2;for(let V=0;V<C;V++){const H=this.planes[V];let J=0;for(let ne=0;ne<z;ne++){const he=c.points[ne];H[0]*he[0]+H[1]*he[1]+H[2]*he[2]+H[3]>=0&&J++}if(J===0)return 0}return 1}intersectsPlane(c){const m=this.points.length;let b=0;for(let C=0;C<m;C++){const I=this.points[C];c[0]*I[0]+c[1]*I[1]+c[2]*I[2]+c[3]>=0&&b++}return b===m?2:b===0?0:1}}function by(P,c,m){const b=P-c;return b<0?-b:Math.max(0,b-m)}function Hf(P,c,m,b,C){const I=P-m;let z;return z=I<0?Math.min(-I,1+I-C):I>1?Math.min(Math.max(I-C,0),1-I):0,Math.max(z,by(c,b,C))}class xv{constructor(){this._boundingVolumeCache=new cS(this._computeTileBoundingVolume)}prepareNextFrame(){this._boundingVolumeCache.swapBuffers()}distanceToTile2d(c,m,b,C){const I=1<<b.z,z=1/I,V=b.x/I,H=b.y/I;let J=2;return J=Math.min(J,Hf(c,m,V,H,z)),J=Math.min(J,Hf(c,m,V+.5,-H-z,z)),J=Math.min(J,Hf(c,m,V+.5,2-H-z,z)),J}getWrap(c,m,b){const C=1<<m.z,I=1/C,z=m.x/C,V=by(c.x,z,I),H=by(c.x,z-1,I),J=by(c.x,z+1,I),ne=Math.min(V,H,J);return ne===J?1:ne===H?-1:0}allowVariableZoom(c,m){return ri(c,m)>4}allowWorldCopies(){return!1}getTileBoundingVolume(c,m,b,C){return this._boundingVolumeCache.getTileBoundingVolume(c,m,b,C)}_computeTileBoundingVolume(c,m,b,C){var I,z;let V=0,H=0;if(C?.terrain){const J=new s.a2(c.z,m,c.z,c.x,c.y),ne=C.terrain.getMinMaxElevation(J);V=(I=ne.minElevation)!==null&&I!==void 0?I:Math.min(0,b),H=(z=ne.maxElevation)!==null&&z!==void 0?z:Math.max(0,b)}if(V/=s.bE,H/=s.bE,V+=1,H+=1,c.z<=0)return Wf.fromAabb([-H,-H,-H],[H,H,H]);if(c.z===1)return Wf.fromAabb([c.x===0?-H:0,c.y===0?0:-H,-H],[c.x===0?0:H,c.y===0?H:0,H]);{const J=[Cc(0,0,c.x,c.y,c.z),Cc(s.a5,0,c.x,c.y,c.z),Cc(s.a5,s.a5,c.x,c.y,c.z),Cc(0,s.a5,c.x,c.y,c.z)],ne=[];for(const ft of J)ne.push(s.a$([],ft,H));if(H!==V)for(const ft of J)ne.push(s.a$([],ft,V));c.y===0&&ne.push([0,1,0]),c.y===(1<<c.z)-1&&ne.push([0,-1,0]);const he=[1,1,1],ue=[-1,-1,-1];for(const ft of ne)for(let pt=0;pt<3;pt++)he[pt]=Math.min(he[pt],ft[pt]),ue[pt]=Math.max(ue[pt],ft[pt]);const ye=Cc(s.a5/2,s.a5/2,c.x,c.y,c.z),Se=s.b4([],[0,1,0],ye);s.b3(Se,Se);const Ie=s.b4([],ye,Se);s.b3(Ie,Ie);const Le=s.b4([],J[2],J[1]);s.b3(Le,Le);const De=s.b4([],J[0],J[3]);s.b3(De,De),ne.push(s.a$([],ye,H)),c.y>=(1<<c.z)/2&&ne.push(s.a$([],Cc(s.a5/2,0,c.x,c.y,c.z),H)),c.y<(1<<c.z)/2&&ne.push(s.a$([],Cc(s.a5/2,s.a5,c.x,c.y,c.z),H));const je=Dm(ye,ne),He=Dm(Ie,ne),Fe=[-ye[0],-ye[1],-ye[2],je.max],We=[ye[0],ye[1],ye[2],-je.min],Je=[-Ie[0],-Ie[1],-Ie[2],He.max],Ze=[Ie[0],Ie[1],Ie[2],-He.min],nt=[...Le,0],yt=[...De,0],ht=[];return c.y===0?ht.push(s.bD(yt,nt,Fe),s.bD(yt,nt,We)):ht.push(s.bD(Je,nt,Fe),s.bD(Je,nt,We),s.bD(Je,yt,Fe),s.bD(Je,yt,We)),c.y===(1<<c.z)-1?ht.push(s.bD(yt,nt,Fe),s.bD(yt,nt,We)):ht.push(s.bD(Ze,nt,Fe),s.bD(Ze,nt,We),s.bD(Ze,yt,Fe),s.bD(Ze,yt,We)),new Wf(ht,[Fe,We,Je,Ze,nt,yt],he,ue)}}}function Dm(P,c){let m=1/0,b=-1/0;for(const C of c){const I=s.b5(P,C);m=Math.min(m,I),b=Math.max(b,I)}return{min:m,max:b}}class Gf{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(c){this._helper.setMinZoom(c)}setMaxZoom(c){this._helper.setMaxZoom(c)}setMinPitch(c){this._helper.setMinPitch(c)}setMaxPitch(c){this._helper.setMaxPitch(c)}setRenderWorldCopies(c){this._helper.setRenderWorldCopies(c)}setBearing(c){this._helper.setBearing(c)}setPitch(c){this._helper.setPitch(c)}setRoll(c){this._helper.setRoll(c)}setFov(c){this._helper.setFov(c)}setZoom(c){this._helper.setZoom(c)}setCenter(c){this._helper.setCenter(c)}setElevation(c){this._helper.setElevation(c)}setMinElevationForCurrentTile(c){this._helper.setMinElevationForCurrentTile(c)}setPadding(c){this._helper.setPadding(c)}interpolatePadding(c,m,b){return this._helper.interpolatePadding(c,m,b)}isPaddingEqual(c){return this._helper.isPaddingEqual(c)}resize(c,m){this._helper.resize(c,m)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(c){this._helper.setMaxBounds(c)}setConstrainOverride(c){this._helper.setConstrainOverride(c)}overrideNearFarZ(c,m){this._helper.overrideNearFarZ(c,m)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(c){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),c)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get constrainOverride(){return this._helper.constrainOverride}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(c){}constructor(c){this._cachedClippingPlane=s.bF(),this._projectionMatrix=s.bj(),this._globeViewProjMatrix32f=s.bi(),this._globeViewProjMatrixNoCorrection=s.bj(),this._globeViewProjMatrixNoCorrectionInverted=s.bj(),this._globeProjMatrixInverted=s.bj(),this._cameraPosition=s.bz(),this._globeLatitudeErrorCorrectionRadians=0,this.defaultConstrain=(m,b)=>{const C=s.an(m.lat,-s.ao,s.ao),I=s.an(+b,this.minZoom+ao(0,C),this.maxZoom);return{center:new s.V(m.lng,C),zoom:I}},this.applyConstrain=(m,b)=>this._helper.applyConstrain(m,b),this._helper=new gh({calcMatrices:()=>{this._calcMatrices()},defaultConstrain:(m,b)=>this.defaultConstrain(m,b)},c),this._coveringTilesDetailsProvider=new xv}clone(){const c=new Gf;return c.apply(this),c}apply(c,m){this._globeLatitudeErrorCorrectionRadians=m||0,this._helper.apply(c)}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._globeViewProjMatrixNoCorrection}get inverseProjectionMatrix(){return this._globeProjMatrixInverted}get cameraPosition(){const c=s.bz();return c[0]=this._cameraPosition[0],c[1]=this._cameraPosition[1],c[2]=this._cameraPosition[2],c}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}getProjectionData(c){const{overscaledTileID:m,applyGlobeMatrix:b}=c,C=this._helper.getMercatorTileCoordinates(m);return{mainMatrix:this._globeViewProjMatrix32f,tileMercatorCoords:C,clippingPlane:this._cachedClippingPlane,projectionTransition:b?1:0,fallbackMatrix:this._globeViewProjMatrix32f}}_computeClippingPlane(c){const m=this.pitchInRadians,b=this.cameraToCenterDistance/c,C=Math.sin(m)*b,I=Math.cos(m)*b+1,z=1/Math.sqrt(C*C+I*I)*1;let V=-C,H=I;const J=Math.sqrt(V*V+H*H);V/=J,H/=J;const ne=[0,V,H];s.bG(ne,ne,[0,0,0],-this.bearingInRadians),s.bH(ne,ne,[0,0,0],-1*this.center.lat*Math.PI/180),s.bI(ne,ne,[0,0,0],this.center.lng*Math.PI/180);const he=1/s.b7(ne);return s.a$(ne,ne,he),[...ne,-z*he]}isLocationOccluded(c){return!this.isSurfacePointVisible(Ni(c))}transformLightDirection(c){const m=this._helper._center.lng*Math.PI/180,b=this._helper._center.lat*Math.PI/180,C=Math.cos(b),I=[Math.sin(m)*C,Math.sin(b),Math.cos(m)*C],z=[I[2],0,-I[0]],V=[0,0,0];s.b4(V,z,I),s.b3(z,z),s.b3(V,V);const H=[0,0,0];return s.b3(H,[z[0]*c[0]+V[0]*c[1]+I[0]*c[2],z[1]*c[0]+V[1]*c[1]+I[1]*c[2],z[2]*c[0]+V[2]*c[1]+I[2]*c[2]]),H}getPixelScale(){return 1/Math.cos(this._helper._center.lat*Math.PI/180)}getCircleRadiusCorrection(){return Math.cos(this._helper._center.lat*Math.PI/180)}getPitchedTextCorrection(c,m,b){const C=(function(V,H,J){const ne=1/(1<<J.z);return new s.a9(V/s.a5*ne+J.x*ne,H/s.a5*ne+J.y*ne)})(c,m,b.canonical),I=(z=C.y,[s.by(C.x*Math.PI*2+Math.PI,2*Math.PI),2*Math.atan(Math.exp(Math.PI-z*Math.PI*2))-.5*Math.PI]);var z;return this.getCircleRadiusCorrection()/Math.cos(I[1])}projectTileCoordinates(c,m,b,C){const I=b.canonical,z=Cc(c,m,I.x,I.y,I.z),V=1+(C?C(c,m):0)/s.bE,H=[z[0]*V,z[1]*V,z[2]*V,1];s.aH(H,H,this._globeViewProjMatrixNoCorrection);const J=this._cachedClippingPlane,ne=J[0]*z[0]+J[1]*z[1]+J[2]*z[2]+J[3]<0;return{point:new s.P(H[0]/H[3],H[1]/H[3]),signedDistanceFromCamera:H[3],isOccluded:ne}}_calcMatrices(){if(!this._helper._width||!this._helper._height)return;const c=kd(this.worldSize,this.center.lat),m=s.bk(),b=s.bk();this._helper.autoCalculateNearFarZ&&(this._helper._nearZ=.5,this._helper._farZ=this.cameraToCenterDistance+2*c),s.be(m,this.fovInRadians,this.width/this.height,this._helper._nearZ,this._helper._farZ);const C=this.centerOffset;m[8]=2*-C.x/this._helper._width,m[9]=2*C.y/this._helper._height,this._projectionMatrix=s.bf(m),this._globeProjMatrixInverted=s.bk(),s.aB(this._globeProjMatrixInverted,m),s.O(m,m,[0,0,-this.cameraToCenterDistance]),s.bg(m,m,this.rollInRadians),s.bh(m,m,-this.pitchInRadians),s.bg(m,m,this.bearingInRadians),s.O(m,m,[0,0,-c]);const I=s.bz();I[0]=c,I[1]=c,I[2]=c,s.bh(b,m,this.center.lat*Math.PI/180),s.bJ(b,b,-this.center.lng*Math.PI/180),s.Q(b,b,I),this._globeViewProjMatrixNoCorrection=b,s.bh(m,m,this.center.lat*Math.PI/180-this._globeLatitudeErrorCorrectionRadians),s.bJ(m,m,-this.center.lng*Math.PI/180),s.Q(m,m,I),this._globeViewProjMatrix32f=new Float32Array(m),this._globeViewProjMatrixNoCorrectionInverted=s.bk(),s.aB(this._globeViewProjMatrixNoCorrectionInverted,b);const z=s.bz();this._cameraPosition=s.bz(),this._cameraPosition[2]=this.cameraToCenterDistance/c,s.bG(this._cameraPosition,this._cameraPosition,z,-this.rollInRadians),s.bH(this._cameraPosition,this._cameraPosition,z,this.pitchInRadians),s.bG(this._cameraPosition,this._cameraPosition,z,-this.bearingInRadians),s.b0(this._cameraPosition,this._cameraPosition,[0,0,1]),s.bH(this._cameraPosition,this._cameraPosition,z,-this.center.lat*Math.PI/180),s.bI(this._cameraPosition,this._cameraPosition,z,this.center.lng*Math.PI/180),this._cachedClippingPlane=this._computeClippingPlane(c);const V=s.bf(this._globeViewProjMatrixNoCorrectionInverted);s.Q(V,V,[1,1,-1]),this._cachedFrustum=la.fromInvProjectionMatrix(V,1,0,this._cachedClippingPlane,!0)}calculateFogMatrix(c){s.w("calculateFogMatrix is not supported on globe projection.");const m=s.bk();return s.ar(m),m}getVisibleUnwrappedCoordinates(c){return[new s.bc(0,c)]}getCameraFrustum(){return this._cachedFrustum}getClippingPlane(){return this._cachedClippingPlane}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(c){c&&s.w("terrain is not fully supported on vertical perspective projection."),this._helper.recalculateZoomAndCenter(0)}maxPitchScaleFactor(){return 1}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(c,m){if(!this._globeViewProjMatrixNoCorrection)return 1;const b=Ni(c);s.a$(b,b,1+m/s.bE);const C=s.bF();return s.aH(C,[b[0],b[1],b[2],1],this._globeViewProjMatrixNoCorrection),C[2]/C[3]}populateCache(c){}getBounds(){const c=.5*this.width,m=.5*this.height,b=[new s.P(0,0),new s.P(c,0),new s.P(this.width,0),new s.P(this.width,m),new s.P(this.width,this.height),new s.P(c,this.height),new s.P(0,this.height),new s.P(0,m)],C=[];for(const he of b)C.push(this.unprojectScreenPoint(he));let I=0,z=0,V=0,H=0;const J=this.center;for(const he of C){const ue=s.bK(J.lng,he.lng),ye=s.bK(J.lat,he.lat);ue<z&&(z=ue),ue>I&&(I=ue),ye<H&&(H=ye),ye>V&&(V=ye)}const ne=[J.lng+z,J.lat+H,J.lng+I,J.lat+V];return this.isSurfacePointOnScreen([0,1,0])&&(ne[3]=90,ne[0]=-180,ne[2]=180),this.isSurfacePointOnScreen([0,-1,0])&&(ne[1]=-90,ne[0]=-180,ne[2]=180),new sn(ne)}calculateCenterFromCameraLngLatAlt(c,m,b,C){return this._helper.calculateCenterFromCameraLngLatAlt(c,m,b,C)}setLocationAtPoint(c,m){const b=Ni(this.unprojectScreenPoint(m)),C=Ni(c),I=s.bz();s.bL(I);const z=s.bz();s.bI(z,b,I,-this.center.lng*Math.PI/180),s.bH(z,z,I,this.center.lat*Math.PI/180);const V=C[0]*C[0]+C[2]*C[2],H=z[0]*z[0];if(V<H)return;const J=Math.sqrt(V-H),ne=-J,he=s.bM(C[0],C[2],z[0],J),ue=s.bM(C[0],C[2],z[0],ne),ye=s.bz();s.bI(ye,C,I,-he);const Se=s.bM(ye[1],ye[2],z[1],z[2]),Ie=s.bz();s.bI(Ie,C,I,-ue);const Le=s.bM(Ie[1],Ie[2],z[1],z[2]),De=.5*Math.PI,je=Se>=-De&&Se<=De,He=Le>=-De&&Le<=De;let Fe,We;if(je&&He){const yt=this.center.lng*Math.PI/180,ht=this.center.lat*Math.PI/180;s.bN(he,yt)+s.bN(Se,ht)<s.bN(ue,yt)+s.bN(Le,ht)?(Fe=he,We=Se):(Fe=ue,We=Le)}else if(je)Fe=he,We=Se;else{if(!He)return;Fe=ue,We=Le}const Je=Fe/Math.PI*180,Ze=We/Math.PI*180,nt=this.center.lat;this.setCenter(new s.V(Je,s.an(Ze,-90,90))),this.setZoom(this.zoom+ao(nt,this.center.lat))}locationToScreenPoint(c,m){const b=Ni(c);if(m){const C=m.getElevationForLngLatZoom(c,this._helper._tileZoom);s.a$(b,b,1+C/s.bE)}return this._projectSurfacePointToScreen(b)}_projectSurfacePointToScreen(c){const m=s.bF();return s.aH(m,[...c,1],this._globeViewProjMatrixNoCorrection),m[0]/=m[3],m[1]/=m[3],new s.P((.5*m[0]+.5)*this.width,(.5*-m[1]+.5)*this.height)}screenPointToMercatorCoordinate(c,m){if(m){const b=m.pointCoordinate(c);if(b)return b}return s.a9.fromLngLat(this.unprojectScreenPoint(c))}screenPointToLocation(c,m){var b;return(b=this.screenPointToMercatorCoordinate(c,m))===null||b===void 0?void 0:b.toLngLat()}isPointOnMapSurface(c,m){const b=this._cameraPosition,C=this.getRayDirectionFromPixel(c);return!!this.rayPlanetIntersection(b,C)}getRayDirectionFromPixel(c){const m=s.bF();m[0]=c.x/this.width*2-1,m[1]=-1*(c.y/this.height*2-1),m[2]=1,m[3]=1,s.aH(m,m,this._globeViewProjMatrixNoCorrectionInverted),m[0]/=m[3],m[1]/=m[3],m[2]/=m[3];const b=s.bz();b[0]=m[0]-this._cameraPosition[0],b[1]=m[1]-this._cameraPosition[1],b[2]=m[2]-this._cameraPosition[2];const C=s.bz();return s.b3(C,b),C}isSurfacePointVisible(c){const m=this._cachedClippingPlane;return m[0]*c[0]+m[1]*c[1]+m[2]*c[2]+m[3]>=0}isSurfacePointOnScreen(c){if(!this.isSurfacePointVisible(c))return!1;const m=s.bF();return s.aH(m,[...c,1],this._globeViewProjMatrixNoCorrection),m[0]/=m[3],m[1]/=m[3],m[2]/=m[3],m[0]>-1&&m[0]<1&&m[1]>-1&&m[1]<1&&m[2]>-1&&m[2]<1}rayPlanetIntersection(c,m){const b=s.b5(c,m),C=s.bz(),I=s.bz();s.a$(I,m,b),s.b2(C,c,I);const z=1-s.b5(C,C);if(z<0)return null;const V=s.b5(c,c)-1,H=-b+(b<0?1:-1)*Math.sqrt(z),J=V/H,ne=H;return{tMin:Math.min(J,ne),tMax:Math.max(J,ne)}}unprojectScreenPoint(c){const m=this._cameraPosition,b=this.getRayDirectionFromPixel(c),C=this.rayPlanetIntersection(m,b);if(C){const ne=s.bz();s.b0(ne,m,[b[0]*C.tMin,b[1]*C.tMin,b[2]*C.tMin]);const he=s.bz();return s.b3(he,ne),Rm(he)}const I=this._cachedClippingPlane,z=I[0]*b[0]+I[1]*b[1]+I[2]*b[2],V=-s.bb(I,m)/z,H=s.bz();if(V>0)s.b0(H,m,[b[0]*V,b[1]*V,b[2]*V]);else{const ne=s.bz();s.b0(ne,m,[2*b[0],2*b[1],2*b[2]]);const he=s.bb(this._cachedClippingPlane,ne);s.b2(H,ne,[this._cachedClippingPlane[0]*he,this._cachedClippingPlane[1]*he,this._cachedClippingPlane[2]*he])}const J=(function(ne){const he=s.bz();return he[0]=ne[0]*-ne[3],he[1]=ne[1]*-ne[3],he[2]=ne[2]*-ne[3],{center:he,radius:Math.sqrt(1-ne[3]*ne[3])}})(I);return Rm((function(ne,he,ue){const ye=s.bz();s.b2(ye,ue,ne);const Se=s.bz();return s.bA(Se,ne,ye,he/s.b9(ye)),Se})(J.center,J.radius,H))}getMatrixForModel(c,m){const b=s.V.convert(c),C=1/s.bE,I=s.bj();return s.bJ(I,I,b.lng/180*Math.PI),s.bh(I,I,-b.lat/180*Math.PI),s.O(I,I,[0,0,1+m/s.bE]),s.bh(I,I,.5*Math.PI),s.Q(I,I,[C,C,C]),I}getProjectionDataForCustomLayer(c=!0){const m=this.getProjectionData({overscaledTileID:new s.a2(0,0,0,0,0),applyGlobeMatrix:c});return m.tileMercatorCoords=[0,0,1,1],m}getFastPathSimpleProjectionMatrix(c){}}class Xf{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(c){this._helper.setMinZoom(c)}setMaxZoom(c){this._helper.setMaxZoom(c)}setMinPitch(c){this._helper.setMinPitch(c)}setMaxPitch(c){this._helper.setMaxPitch(c)}setRenderWorldCopies(c){this._helper.setRenderWorldCopies(c)}setBearing(c){this._helper.setBearing(c)}setPitch(c){this._helper.setPitch(c)}setRoll(c){this._helper.setRoll(c)}setFov(c){this._helper.setFov(c)}setZoom(c){this._helper.setZoom(c)}setCenter(c){this._helper.setCenter(c)}setElevation(c){this._helper.setElevation(c)}setMinElevationForCurrentTile(c){this._helper.setMinElevationForCurrentTile(c)}setPadding(c){this._helper.setPadding(c)}interpolatePadding(c,m,b){return this._helper.interpolatePadding(c,m,b)}isPaddingEqual(c){return this._helper.isPaddingEqual(c)}resize(c,m,b=!0){this._helper.resize(c,m,b)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(c){this._helper.setMaxBounds(c)}setConstrainOverride(c){this._helper.setConstrainOverride(c)}overrideNearFarZ(c,m){this._helper.overrideNearFarZ(c,m)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(c){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),c)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get constrainOverride(){return this._helper.constrainOverride}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}get isGlobeRendering(){return this._globeness>0}setTransitionState(c,m){this._globeness=c,this._globeLatitudeErrorCorrectionRadians=m,this._calcMatrices(),this._verticalPerspectiveTransform.getCoveringTilesDetailsProvider().prepareNextFrame(),this._mercatorTransform.getCoveringTilesDetailsProvider().prepareNextFrame()}get currentTransform(){return this.isGlobeRendering?this._verticalPerspectiveTransform:this._mercatorTransform}constructor(c){this._globeLatitudeErrorCorrectionRadians=0,this._globeness=1,this.defaultConstrain=(m,b)=>this.currentTransform.defaultConstrain(m,b),this.applyConstrain=(m,b)=>this._helper.applyConstrain(m,b),this._helper=new gh({calcMatrices:()=>{this._calcMatrices()},defaultConstrain:(m,b)=>this.defaultConstrain(m,b)},c),this._globeness=1,this._mercatorTransform=new Qo,this._verticalPerspectiveTransform=new Gf}clone(){const c=new Xf;return c._globeness=this._globeness,c._globeLatitudeErrorCorrectionRadians=this._globeLatitudeErrorCorrectionRadians,c.apply(this),c}apply(c){this._helper.apply(c),this._mercatorTransform.apply(this),this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians)}get projectionMatrix(){return this.currentTransform.projectionMatrix}get modelViewProjectionMatrix(){return this.currentTransform.modelViewProjectionMatrix}get inverseProjectionMatrix(){return this.currentTransform.inverseProjectionMatrix}get cameraPosition(){return this.currentTransform.cameraPosition}getProjectionData(c){const m=this._mercatorTransform.getProjectionData(c),b=this._verticalPerspectiveTransform.getProjectionData(c);return{mainMatrix:this.isGlobeRendering?b.mainMatrix:m.mainMatrix,clippingPlane:b.clippingPlane,tileMercatorCoords:b.tileMercatorCoords,projectionTransition:c.applyGlobeMatrix?this._globeness:0,fallbackMatrix:m.fallbackMatrix}}isLocationOccluded(c){return this.currentTransform.isLocationOccluded(c)}transformLightDirection(c){return this.currentTransform.transformLightDirection(c)}getPixelScale(){return s.bu(this._mercatorTransform.getPixelScale(),this._verticalPerspectiveTransform.getPixelScale(),this._globeness)}getCircleRadiusCorrection(){return s.bu(this._mercatorTransform.getCircleRadiusCorrection(),this._verticalPerspectiveTransform.getCircleRadiusCorrection(),this._globeness)}getPitchedTextCorrection(c,m,b){const C=this._mercatorTransform.getPitchedTextCorrection(c,m,b),I=this._verticalPerspectiveTransform.getPitchedTextCorrection(c,m,b);return s.bu(C,I,this._globeness)}projectTileCoordinates(c,m,b,C){return this.currentTransform.projectTileCoordinates(c,m,b,C)}_calcMatrices(){this._helper._width&&this._helper._height&&(this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians),this._helper._nearZ=this._verticalPerspectiveTransform.nearZ,this._helper._farZ=this._verticalPerspectiveTransform.farZ,this._mercatorTransform.apply(this,!0,this.isGlobeRendering),this._helper._nearZ=this._mercatorTransform.nearZ,this._helper._farZ=this._mercatorTransform.farZ)}calculateFogMatrix(c){return this.currentTransform.calculateFogMatrix(c)}getVisibleUnwrappedCoordinates(c){return this.currentTransform.getVisibleUnwrappedCoordinates(c)}getCameraFrustum(){return this.currentTransform.getCameraFrustum()}getClippingPlane(){return this.currentTransform.getClippingPlane()}getCoveringTilesDetailsProvider(){return this.currentTransform.getCoveringTilesDetailsProvider()}recalculateZoomAndCenter(c){this._mercatorTransform.recalculateZoomAndCenter(c),this._verticalPerspectiveTransform.recalculateZoomAndCenter(c)}maxPitchScaleFactor(){return this._mercatorTransform.maxPitchScaleFactor()}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(c,m){return this.currentTransform.lngLatToCameraDepth(c,m)}populateCache(c){this._mercatorTransform.populateCache(c),this._verticalPerspectiveTransform.populateCache(c)}getBounds(){return this.currentTransform.getBounds()}calculateCenterFromCameraLngLatAlt(c,m,b,C){return this._helper.calculateCenterFromCameraLngLatAlt(c,m,b,C)}setLocationAtPoint(c,m){if(!this.isGlobeRendering)return this._mercatorTransform.setLocationAtPoint(c,m),void this.apply(this._mercatorTransform);this._verticalPerspectiveTransform.setLocationAtPoint(c,m),this.apply(this._verticalPerspectiveTransform)}locationToScreenPoint(c,m){return this.currentTransform.locationToScreenPoint(c,m)}screenPointToMercatorCoordinate(c,m){return this.currentTransform.screenPointToMercatorCoordinate(c,m)}screenPointToLocation(c,m){return this.currentTransform.screenPointToLocation(c,m)}isPointOnMapSurface(c,m){return this.currentTransform.isPointOnMapSurface(c,m)}getRayDirectionFromPixel(c){return this._verticalPerspectiveTransform.getRayDirectionFromPixel(c)}getMatrixForModel(c,m){return this.currentTransform.getMatrixForModel(c,m)}getProjectionDataForCustomLayer(c=!0){const m=this._mercatorTransform.getProjectionDataForCustomLayer(c);if(!this.isGlobeRendering)return m;const b=this._verticalPerspectiveTransform.getProjectionDataForCustomLayer(c);return b.fallbackMatrix=m.mainMatrix,b}getFastPathSimpleProjectionMatrix(c){return this.currentTransform.getFastPathSimpleProjectionMatrix(c)}}class xo{get useGlobeControls(){return!0}handlePanInertia(c,m){const b=tb(c,m);return Math.abs(b.lng-m.center.lng)>180&&(b.lng=m.center.lng+179.5*Math.sign(b.lng-m.center.lng)),{easingCenter:b,easingOffset:new s.P(0,0)}}handleMapControlsRollPitchBearingZoom(c,m){const b=c.around,C=m.screenPointToLocation(b);c.bearingDelta&&m.setBearing(m.bearing+c.bearingDelta),c.pitchDelta&&m.setPitch(m.pitch+c.pitchDelta),c.rollDelta&&m.setRoll(m.roll+c.rollDelta);const I=m.zoom;c.zoomDelta&&m.setZoom(m.zoom+c.zoomDelta);const z=m.zoom-I;if(z===0)return;const V=s.bK(m.center.lng,C.lng),H=V/(Math.abs(V/180)+1),J=s.bK(m.center.lat,C.lat),ne=m.getRayDirectionFromPixel(b),he=m.cameraPosition,ue=-1*s.b5(he,ne),ye=s.bz();s.b0(ye,he,[ne[0]*ue,ne[1]*ue,ne[2]*ue]);const Se=s.b7(ye)-1,Ie=Math.exp(.5*-Math.max(Se-.3,0)),Le=kd(m.worldSize,m.center.lat)/Math.min(m.width,m.height),De=s.bx(Le,.9,.5,1,.25),je=(1-s.aq(-z))*Math.min(Ie,De),He=m.center.lat,Fe=m.zoom,We=new s.V(m.center.lng+H*je,s.an(m.center.lat+J*je,-s.ao,s.ao));m.setLocationAtPoint(C,b);const Je=m.center,Ze=s.bx(Math.abs(V),45,85,0,1),nt=s.bx(Le,.75,.35,0,1),yt=Math.pow(Math.max(Ze,nt),.25),ht=s.bK(Je.lng,We.lng),ft=s.bK(Je.lat,We.lat);m.setCenter(new s.V(Je.lng+ht*yt,Je.lat+ft*yt).wrap()),m.setZoom(Fe+ao(He,m.center.lat))}handleMapControlsPan(c,m,b){if(!c.panDelta)return;const C=m.center.lat,I=m.zoom;m.setCenter(tb(c.panDelta,m).wrap()),m.setZoom(I+ao(C,m.center.lat))}cameraForBoxAndBearing(c,m,b,C,I){const z=Sd(c,m,b,C,I),V=m.left/I.width*2-1,H=(I.width-m.right)/I.width*2-1,J=m.top/I.height*-2+1,ne=(I.height-m.bottom)/I.height*-2+1,he=s.bK(b.getWest(),b.getEast())<0,ue=he?b.getEast():b.getWest(),ye=he?b.getWest():b.getEast(),Se=Math.max(b.getNorth(),b.getSouth()),Ie=Math.min(b.getNorth(),b.getSouth()),Le=ue+.5*s.bK(ue,ye),De=Se+.5*s.bK(Se,Ie),je=I.clone();je.setCenter(z.center),je.setBearing(z.bearing),je.setPitch(0),je.setRoll(0),je.setZoom(z.zoom);const He=je.modelViewProjectionMatrix,Fe=[Ni(b.getNorthWest()),Ni(b.getNorthEast()),Ni(b.getSouthWest()),Ni(b.getSouthEast()),Ni(new s.V(ye,De)),Ni(new s.V(ue,De)),Ni(new s.V(Le,Se)),Ni(new s.V(Le,Ie))],We=Ni(z.center);let Je=Number.POSITIVE_INFINITY;for(const Ze of Fe)V<0&&(Je=xo.getLesserNonNegativeNonNull(Je,xo.solveVectorScale(Ze,We,He,"x",V))),H>0&&(Je=xo.getLesserNonNegativeNonNull(Je,xo.solveVectorScale(Ze,We,He,"x",H))),J>0&&(Je=xo.getLesserNonNegativeNonNull(Je,xo.solveVectorScale(Ze,We,He,"y",J))),ne<0&&(Je=xo.getLesserNonNegativeNonNull(Je,xo.solveVectorScale(Ze,We,He,"y",ne)));if(Number.isFinite(Je)&&Je!==0)return z.zoom=je.zoom+s.at(Je),z;ca()}handleJumpToCenterZoom(c,m){const b=c.center.lat,C=c.applyConstrain(m.center?s.V.convert(m.center):c.center,c.zoom).center;c.setCenter(C.wrap());const I=m.zoom!==void 0?+m.zoom:c.zoom+ao(b,C.lat);c.zoom!==I&&c.setZoom(I)}handleEaseTo(c,m){const b=c.zoom,C=c.center,I=c.padding,z={roll:c.roll,pitch:c.pitch,bearing:c.bearing},V={roll:m.roll===void 0?c.roll:m.roll,pitch:m.pitch===void 0?c.pitch:m.pitch,bearing:m.bearing===void 0?c.bearing:m.bearing},H=m.zoom!==void 0,J=!c.isPaddingEqual(m.padding);let ne=!1;const he=m.center?s.V.convert(m.center):C,ue=c.applyConstrain(he,b).center;Sc(c,ue);const ye=c.clone();ye.setCenter(ue),ye.setZoom(H?+m.zoom:b+ao(C.lat,he.lat)),ye.setBearing(m.bearing);const Se=new s.P(s.an(c.centerPoint.x+m.offsetAsPoint.x,0,c.width),s.an(c.centerPoint.y+m.offsetAsPoint.y,0,c.height));ye.setLocationAtPoint(ue,Se);const Ie=(m.offset&&m.offsetAsPoint.mag())>0?ye.center:ue,Le=H?+m.zoom:b+ao(C.lat,Ie.lat),De=b+ao(C.lat,0),je=Le+ao(Ie.lat,0),He=s.bK(C.lng,Ie.lng),Fe=s.bK(C.lat,Ie.lat),We=s.aq(je-De);return ne=Le!==b,{easeFunc:Je=>{if(s.bo(z,V)||Am({startEulerAngles:z,endEulerAngles:V,tr:c,k:Je,useSlerp:z.roll!=V.roll}),J&&c.interpolatePadding(I,m.padding,Je),m.around)s.w("Easing around a point is not supported under globe projection."),c.setLocationAtPoint(m.around,m.aroundPoint);else{const Ze=je>De?Math.min(2,We):Math.max(.5,We),nt=Math.pow(Ze,1-Je),yt=nb(C,He,Fe,Je*nt);c.setCenter(yt.wrap())}if(ne){const Ze=s.G.number(De,je,Je)+ao(0,c.center.lat);c.setZoom(Ze)}},isZooming:ne,elevationCenter:Ie}}handleFlyTo(c,m){const b=m.zoom!==void 0,C=c.center,I=c.zoom,z=c.padding,V=!c.isPaddingEqual(m.padding),H=c.applyConstrain(s.V.convert(m.center||m.locationAtOffset),I).center,J=b?+m.zoom:c.zoom+ao(c.center.lat,H.lat),ne=c.clone();ne.setCenter(H),ne.setZoom(J),ne.setBearing(m.bearing);const he=new s.P(s.an(c.centerPoint.x+m.offsetAsPoint.x,0,c.width),s.an(c.centerPoint.y+m.offsetAsPoint.y,0,c.height));ne.setLocationAtPoint(H,he);const ue=ne.center;Sc(c,ue);const ye=(function(Fe,We,Je){const Ze=Ni(We),nt=Ni(Je),yt=s.b5(Ze,nt),ht=Math.acos(yt),ft=ua(Fe);return ht/(2*Math.PI)*ft})(c,C,ue),Se=I+ao(C.lat,0),Ie=J+ao(ue.lat,0),Le=s.aq(Ie-Se);let De;if(typeof m.minZoom=="number"){const Fe=+m.minZoom+ao(ue.lat,0),We=Math.min(Fe,Se,Ie)+ao(0,ue.lat),Je=c.applyConstrain(ue,We).zoom+ao(ue.lat,0);De=s.aq(Je-Se)}const je=s.bK(C.lng,ue.lng),He=s.bK(C.lat,ue.lat);return{easeFunc:(Fe,We,Je,Ze)=>{const nt=nb(C,je,He,Je);V&&c.interpolatePadding(z,m.padding,Fe);const yt=Fe===1?ue:nt;c.setCenter(yt.wrap());const ht=Se+s.at(We);c.setZoom(Fe===1?J:ht+ao(0,yt.lat))},scaleOfZoom:Le,targetCenter:ue,scaleOfMinZoom:De,pixelPathLength:ye}}static solveVectorScale(c,m,b,C,I){const z=C==="x"?[b[0],b[4],b[8],b[12]]:[b[1],b[5],b[9],b[13]],V=[b[3],b[7],b[11],b[15]],H=c[0]*z[0]+c[1]*z[1]+c[2]*z[2],J=c[0]*V[0]+c[1]*V[1]+c[2]*V[2],ne=m[0]*z[0]+m[1]*z[1]+m[2]*z[2],he=m[0]*V[0]+m[1]*V[1]+m[2]*V[2];return ne+I*J===H+I*he||V[3]*(H-ne)+z[3]*(he-J)+H*he==ne*J?null:(ne+z[3]-I*he-I*V[3])/(ne-H-I*he+I*J)}static getLesserNonNegativeNonNull(c,m){return m!==null&&m>=0&&m<c?m:c}}class Yf{constructor(c){this._globe=c,this._mercatorCameraHelper=new Cd,this._verticalPerspectiveCameraHelper=new xo}get useGlobeControls(){return this._globe.useGlobeRendering}get currentHelper(){return this.useGlobeControls?this._verticalPerspectiveCameraHelper:this._mercatorCameraHelper}handlePanInertia(c,m){return this.currentHelper.handlePanInertia(c,m)}handleMapControlsRollPitchBearingZoom(c,m){return this.currentHelper.handleMapControlsRollPitchBearingZoom(c,m)}handleMapControlsPan(c,m,b){this.currentHelper.handleMapControlsPan(c,m,b)}cameraForBoxAndBearing(c,m,b,C,I){return this.currentHelper.cameraForBoxAndBearing(c,m,b,C,I)}handleJumpToCenterZoom(c,m){this.currentHelper.handleJumpToCenterZoom(c,m)}handleEaseTo(c,m){return this.currentHelper.handleEaseTo(c,m)}handleFlyTo(c,m){return this.currentHelper.handleFlyTo(c,m)}}const Kf=(P,c)=>s.B(P,c&&c.filter((m=>m.identifier!=="source.canvas"))),Jf=s.bO();class xh extends s.E{constructor(c,m={}){var b,C;super(),this._rtlPluginLoaded=()=>{for(const z in this.tileManagers){const V=this.tileManagers[z].getSource().type;V!=="vector"&&V!=="geojson"||this.tileManagers[z].reload()}},this.map=c,this.dispatcher=new Tt(At(),c._getMapId()),this.dispatcher.registerMessageHandler("GG",((z,V)=>this.getGlyphs(z,V))),this.dispatcher.registerMessageHandler("GI",((z,V)=>this.getImages(z,V))),this.dispatcher.registerMessageHandler("GDA",((z,V)=>this.getDashes(z,V))),this.imageManager=new ie,this.imageManager.setEventedParent(this);const I=((b=c._container)===null||b===void 0?void 0:b.lang)||typeof document<"u"&&((C=document.documentElement)===null||C===void 0?void 0:C.lang)||void 0;this.glyphManager=new Me(c._requestManager,m.localIdeographFontFamily,I),this.lineAtlas=new ke(256,512),this.crossTileSymbolIndex=new Yo,this._setInitialValues(),this._resetUpdates(),this.dispatcher.broadcast("SR",s.bP()),tt().on($e,this._rtlPluginLoaded),this.on("data",(z=>{if(z.dataType!=="source"||z.sourceDataType!=="metadata")return;const V=this.tileManagers[z.sourceId];if(!V)return;const H=V.getSource();if(H&&H.vectorLayerIds)for(const J in this._layers){const ne=this._layers[J];ne.source===H.id&&this._validateLayer(ne)}}))}_setInitialValues(){var c;this._spritesImagesIds={},this._layers={},this._order=[],this.tileManagers={},this.zoomHistory=new s.bQ,this._availableImages=[],this._globalState={},this._serializedLayers={},this.stylesheet=null,this.light=null,this.sky=null,this.projection&&(this.projection.destroy(),delete this.projection),this._loaded=!1,this._changed=!1,this._updatedLayers={},this._updatedSources={},this._changedImages={},this._glyphsDidChange=!1,this._updatedPaintProps={},this._layerOrderChanged=!1,this.crossTileSymbolIndex=new(((c=this.crossTileSymbolIndex)===null||c===void 0?void 0:c.constructor)||Object),this.pauseablePlacement=void 0,this.placement=void 0,this.z=0}setGlobalStateProperty(c,m){var b,C,I;this._checkLoaded();const z=m===null?(I=(C=(b=this.stylesheet.state)===null||b===void 0?void 0:b[c])===null||C===void 0?void 0:C.default)!==null&&I!==void 0?I:null:m;if(s.bR(z,this._globalState[c]))return this;this._globalState[c]=z,this._applyGlobalStateChanges([c])}getGlobalState(){return this._globalState}setGlobalState(c){this._checkLoaded();const m=[];for(const b in c)!s.bR(this._globalState[b],c[b].default)&&(m.push(b),this._globalState[b]=c[b].default);this._applyGlobalStateChanges(m)}_applyGlobalStateChanges(c){if(c.length===0)return;const m=new Set,b={};for(const C of c){b[C]=this._globalState[C];for(const I in this._layers){const z=this._layers[I],V=z.getLayoutAffectingGlobalStateRefs(),H=z.getPaintAffectingGlobalStateRefs(),J=z.getVisibilityAffectingGlobalStateRefs();if(V.has(C)&&m.add(z.source),H.has(C))for(const{name:ne,value:he}of H.get(C))this._updatePaintProperty(z,ne,he);J?.has(C)&&(z.recalculateVisibility(),this._updateLayer(z))}}this.dispatcher.broadcast("UGS",b);for(const C in this.tileManagers)m.has(C)&&(this._reloadSource(C),this._changed=!0)}loadURL(c,m={},b){this.fire(new s.l("dataloading",{dataType:"style"})),m.validate=typeof m.validate!="boolean"||m.validate;const C=this.map._requestManager.transformRequest(c,"Style");this._loadStyleRequest=new AbortController;const I=this._loadStyleRequest;s.j(C,this._loadStyleRequest).then((z=>{this._loadStyleRequest=null,this._load(z.data,m,b)})).catch((z=>{this._loadStyleRequest=null,z&&!I.signal.aborted&&this.fire(new s.k(z))}))}loadJSON(c,m={},b){this.fire(new s.l("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,O.frameAsync(this._frameRequest).then((()=>{this._frameRequest=null,m.validate=m.validate!==!1,this._load(c,m,b)})).catch((()=>{}))}loadEmpty(){this.fire(new s.l("dataloading",{dataType:"style"})),this._load(Jf,{validate:!1})}_load(c,m,b){var C,I;let z=m.transformStyle?m.transformStyle(b,c):c;if(!m.validate||!Kf(this,s.C(z))){z=Object.assign({},z),this._loaded=!0,this.stylesheet=z;for(const V in z.sources)this.addSource(V,z.sources[V],{validate:!1});z.sprite?this._loadSprite(z.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(z.glyphs),this._createLayers(),this.light=new Ce(this.stylesheet.light),this._setProjectionInternal(((C=this.stylesheet.projection)===null||C===void 0?void 0:C.type)||"mercator"),this.sky=new Xe(this.stylesheet.sky),this.map.setTerrain((I=this.stylesheet.terrain)!==null&&I!==void 0?I:null),this.fire(new s.l("data",{dataType:"style"})),this.fire(new s.l("style.load"))}}_createLayers(){var c,m,b;const C=s.bS(this.stylesheet.layers);this.setGlobalState((c=this.stylesheet.state)!==null&&c!==void 0?c:null),this.dispatcher.broadcast("SL",C),this._order=C.map((I=>I.id)),this._layers={},this._serializedLayers=null;for(const I of C){const z=s.bT(I,this._globalState);if(z.setEventedParent(this,{layer:{id:I.id}}),this._layers[I.id]=z,s.bU(z)&&this.tileManagers[z.source]){const V=(b=(m=I.paint)===null||m===void 0?void 0:m["raster-fade-duration"])!==null&&b!==void 0?b:z.paint.get("raster-fade-duration");this.tileManagers[z.source].setRasterFadeDuration(V)}}}_loadSprite(c,m=!1,b=void 0){this.imageManager.setLoaded(!1);const C=new AbortController;let I;this._spriteRequest=C,(function(z,V,H,J){return s._(this,void 0,void 0,(function*(){const ne=re(z),he=H>1?"@2x":"",ue={},ye={};for(const{id:Se,url:Ie}of ne){const Le=V.transformRequest(ce(Ie,he,".json"),"SpriteJSON");ue[Se]=s.j(Le,J);const De=V.transformRequest(ce(Ie,he,".png"),"SpriteImage");ye[Se]=W.getImage(De,J)}return yield Promise.all([...Object.values(ue),...Object.values(ye)]),(function(Se,Ie){return s._(this,void 0,void 0,(function*(){const Le={};for(const De in Se){Le[De]={};const je=O.getImageCanvasContext((yield Ie[De]).data),He=(yield Se[De]).data;for(const Fe in He){const{width:We,height:Je,x:Ze,y:nt,sdf:yt,pixelRatio:ht,stretchX:ft,stretchY:pt,content:tn,textFitWidth:nn,textFitHeight:Nt}=He[Fe];Le[De][Fe]={data:null,pixelRatio:ht,sdf:yt,stretchX:ft,stretchY:pt,content:tn,textFitWidth:nn,textFitHeight:Nt,spriteData:{width:We,height:Je,x:Ze,y:nt,context:je}}}}return Le}))})(ue,ye)}))})(c,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then((z=>{if(this._spriteRequest=null,z)for(const V in z){this._spritesImagesIds[V]=[];const H=this._spritesImagesIds[V]?this._spritesImagesIds[V].filter((J=>!(J in z))):[];for(const J of H)this.imageManager.removeImage(J),this._changedImages[J]=!0;for(const J in z[V]){const ne=V==="default"?J:`${V}:${J}`;this._spritesImagesIds[V].push(ne),ne in this.imageManager.images?this.imageManager.updateImage(ne,z[V][J],!1):this.imageManager.addImage(ne,z[V][J]),m&&(this._changedImages[ne]=!0)}}})).catch((z=>{this._spriteRequest=null,I=z,C.signal.aborted||this.fire(new s.k(I))})).finally((()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),m&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new s.l("data",{dataType:"style"})),b&&b(I)}))}_unloadSprite(){for(const c of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(c),this._changedImages[c]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new s.l("data",{dataType:"style"}))}_validateLayer(c){const m=this.tileManagers[c.source];if(!m)return;const b=c.sourceLayer;if(!b)return;const C=m.getSource();(C.type==="geojson"||C.vectorLayerIds&&C.vectorLayerIds.indexOf(b)===-1)&&this.fire(new s.k(new Error(`Source layer "${b}" does not exist on source "${C.id}" as specified by style layer "${c.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const c in this.tileManagers)if(!this.tileManagers[c].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(c,m=!1){const b=this._serializedAllLayers();if(!c||c.length===0)return Object.values(m?s.bV(b):b);const C=[];for(const I of c)if(b[I]){const z=m?s.bV(b[I]):b[I];C.push(z)}return C}_serializedAllLayers(){let c=this._serializedLayers;if(c)return c;c=this._serializedLayers={};const m=Object.keys(this._layers);for(const b of m){const C=this._layers[b];C.type!=="custom"&&(c[b]=C.serialize())}return c}hasTransitions(){var c,m,b;if(!((c=this.light)===null||c===void 0)&&c.hasTransition()||!((m=this.sky)===null||m===void 0)&&m.hasTransition()||!((b=this.projection)===null||b===void 0)&&b.hasTransition())return!0;for(const C in this.tileManagers)if(this.tileManagers[C].hasTransition())return!0;for(const C in this._layers)if(this._layers[C].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(c){if(!this._loaded)return;const m=this._changed;if(m){const C=Object.keys(this._updatedLayers),I=Object.keys(this._removedLayers);(C.length||I.length)&&this._updateWorkerLayers(C,I);for(const z in this._updatedSources){const V=this._updatedSources[z];if(V==="reload")this._reloadSource(z);else{if(V!=="clear")throw new Error(`Invalid action ${V}`);this._clearSource(z)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const z in this._updatedPaintProps)this._layers[z].updateTransitions(c);this.light.updateTransitions(c),this.sky.updateTransitions(c),this._resetUpdates()}const b={};for(const C in this.tileManagers){const I=this.tileManagers[C];b[C]=I.used,I.used=!1}for(const C of this._order){const I=this._layers[C];I.recalculate(c,this._availableImages),!I.isHidden(c.zoom)&&I.source&&(this.tileManagers[I.source].used=!0)}for(const C in b){const I=this.tileManagers[C];!!b[C]!=!!I.used&&I.fire(new s.l("data",{sourceDataType:"visibility",dataType:"source",sourceId:C}))}this.light.recalculate(c),this.sky.recalculate(c),this.projection.recalculate(c),this.z=c.zoom,m&&this.fire(new s.l("data",{dataType:"style"}))}_updateTilesForChangedImages(){const c=Object.keys(this._changedImages);if(c.length){for(const m in this.tileManagers)this.tileManagers[m].reloadTilesForDependencies(["icons","patterns"],c);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const c in this.tileManagers)this.tileManagers[c].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(c,m){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(c,!1),removedIds:m})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(c,m={}){var b;this._checkLoaded();const C=this.serialize();if(c=m.transformStyle?m.transformStyle(C,c):c,((b=m.validate)===null||b===void 0||b)&&Kf(this,s.C(c)))return!1;(c=s.bV(c)).layers=s.bS(c.layers);const I=s.bW(C,c),z=this._getOperationsToPerform(I);if(z.unimplemented.length>0)throw new Error(`Unimplemented: ${z.unimplemented.join(", ")}.`);if(z.operations.length===0)return!1;for(const V of z.operations)V();return this.stylesheet=c,this._serializedLayers=null,!0}_getOperationsToPerform(c){const m=[],b=[];for(const C of c)switch(C.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":case"setRoll":continue;case"addLayer":m.push((()=>this.addLayer.apply(this,C.args)));break;case"removeLayer":m.push((()=>this.removeLayer.apply(this,C.args)));break;case"setPaintProperty":m.push((()=>this.setPaintProperty.apply(this,C.args)));break;case"setLayoutProperty":m.push((()=>this.setLayoutProperty.apply(this,C.args)));break;case"setFilter":m.push((()=>this.setFilter.apply(this,C.args)));break;case"addSource":m.push((()=>this.addSource.apply(this,C.args)));break;case"removeSource":m.push((()=>this.removeSource.apply(this,C.args)));break;case"setLayerZoomRange":m.push((()=>this.setLayerZoomRange.apply(this,C.args)));break;case"setLight":m.push((()=>this.setLight.apply(this,C.args)));break;case"setGeoJSONSourceData":m.push((()=>this.setGeoJSONSourceData.apply(this,C.args)));break;case"setGlyphs":m.push((()=>this.setGlyphs.apply(this,C.args)));break;case"setSprite":m.push((()=>this.setSprite.apply(this,C.args)));break;case"setTerrain":m.push((()=>this.map.setTerrain.apply(this,C.args)));break;case"setSky":m.push((()=>this.setSky.apply(this,C.args)));break;case"setProjection":this.setProjection.apply(this,C.args);break;case"setGlobalState":m.push((()=>this.setGlobalState.apply(this,C.args)));break;case"setTransition":m.push((()=>{}));break;default:b.push(C.command)}return{operations:m,unimplemented:b}}addImage(c,m){if(this.getImage(c))return this.fire(new s.k(new Error(`An image named "${c}" already exists.`)));this.imageManager.addImage(c,m),this._afterImageUpdated(c)}updateImage(c,m){this.imageManager.updateImage(c,m)}getImage(c){return this.imageManager.getImage(c)}removeImage(c){if(!this.getImage(c))return this.fire(new s.k(new Error(`An image named "${c}" does not exist.`)));this.imageManager.removeImage(c),this._afterImageUpdated(c)}_afterImageUpdated(c){this._availableImages=this.imageManager.listImages(),this._changedImages[c]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new s.l("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(c,m,b={}){if(this._checkLoaded(),this.tileManagers[c]!==void 0)throw new Error(`Source "${c}" already exists.`);if(!m.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(m).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(m.type)>=0&&this._validate(s.C.source,`sources.${c}`,m,null,b))return;this.map&&this.map._collectResourceTiming&&(m.collectResourceTiming=!0);const C=this.tileManagers[c]=new _i(c,m,this.dispatcher);C.style=this,C.setEventedParent(this,(()=>({isSourceLoaded:C.loaded(),source:C.serialize(),sourceId:c}))),C.onAdd(this.map),this._changed=!0}removeSource(c){if(this._checkLoaded(),this.tileManagers[c]===void 0)throw new Error("There is no source with this ID");for(const b in this._layers)if(this._layers[b].source===c)return this.fire(new s.k(new Error(`Source "${c}" cannot be removed while layer "${b}" is using it.`)));const m=this.tileManagers[c];delete this.tileManagers[c],delete this._updatedSources[c],m.fire(new s.l("data",{sourceDataType:"metadata",dataType:"source",sourceId:c})),m.setEventedParent(null),m.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(c,m){if(this._checkLoaded(),this.tileManagers[c]===void 0)throw new Error(`There is no source with this ID=${c}`);const b=this.tileManagers[c].getSource();if(b.type!=="geojson")throw new Error(`geojsonSource.type is ${b.type}, which is !== 'geojson`);b.setData(m),this._changed=!0}getSource(c){return this.tileManagers[c]&&this.tileManagers[c].getSource()}addLayer(c,m,b={}){this._checkLoaded();const C=c.id;if(this.getLayer(C))return void this.fire(new s.k(new Error(`Layer "${C}" already exists on this map.`)));let I;if(c.type==="custom"){if(Kf(this,s.bX(c)))return;I=s.bT(c,this._globalState)}else{if("source"in c&&typeof c.source=="object"&&(this.addSource(C,c.source),c=s.bV(c),c=s.e(c,{source:C})),this._validate(s.C.layer,`layers.${C}`,c,{arrayIndex:-1},b))return;I=s.bT(c,this._globalState),this._validateLayer(I),I.setEventedParent(this,{layer:{id:C}})}const z=m?this._order.indexOf(m):this._order.length;if(m&&z===-1)this.fire(new s.k(new Error(`Cannot add layer "${C}" before non-existing layer "${m}".`)));else{if(this._order.splice(z,0,C),this._layerOrderChanged=!0,this._layers[C]=I,this._removedLayers[C]&&I.source&&I.type!=="custom"){const V=this._removedLayers[C];delete this._removedLayers[C],V.type!==I.type?this._updatedSources[I.source]="clear":(this._updatedSources[I.source]="reload",this.tileManagers[I.source].pause())}this._updateLayer(I),I.onAdd&&I.onAdd(this.map)}}moveLayer(c,m){if(this._checkLoaded(),this._changed=!0,!this._layers[c])return void this.fire(new s.k(new Error(`The layer '${c}' does not exist in the map's style and cannot be moved.`)));if(c===m)return;const b=this._order.indexOf(c);this._order.splice(b,1);const C=m?this._order.indexOf(m):this._order.length;m&&C===-1?this.fire(new s.k(new Error(`Cannot move layer "${c}" before non-existing layer "${m}".`))):(this._order.splice(C,0,c),this._layerOrderChanged=!0)}removeLayer(c){this._checkLoaded();const m=this._layers[c];if(!m)return void this.fire(new s.k(new Error(`Cannot remove non-existing layer "${c}".`)));m.setEventedParent(null);const b=this._order.indexOf(c);this._order.splice(b,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[c]=m,delete this._layers[c],this._serializedLayers&&delete this._serializedLayers[c],delete this._updatedLayers[c],delete this._updatedPaintProps[c],m.onRemove&&m.onRemove(this.map)}getLayer(c){return this._layers[c]}getLayersOrder(){return[...this._order]}hasLayer(c){return c in this._layers}setLayerZoomRange(c,m,b){this._checkLoaded();const C=this.getLayer(c);C?C.minzoom===m&&C.maxzoom===b||(m!=null&&(C.minzoom=m),b!=null&&(C.maxzoom=b),this._updateLayer(C)):this.fire(new s.k(new Error(`Cannot set the zoom range of non-existing layer "${c}".`)))}setFilter(c,m,b={}){this._checkLoaded();const C=this.getLayer(c);if(C){if(!s.bR(C.filter,m))return m==null?(C.setFilter(void 0),void this._updateLayer(C)):void(this._validate(s.C.filter,`layers.${C.id}.filter`,m,null,b)||(C.setFilter(s.bV(m)),this._updateLayer(C)))}else this.fire(new s.k(new Error(`Cannot filter non-existing layer "${c}".`)))}getFilter(c){return s.bV(this.getLayer(c).filter)}setLayoutProperty(c,m,b,C={}){this._checkLoaded();const I=this.getLayer(c);I?s.bR(I.getLayoutProperty(m),b)||(I.setLayoutProperty(m,b,C),this._updateLayer(I)):this.fire(new s.k(new Error(`Cannot style non-existing layer "${c}".`)))}getLayoutProperty(c,m){const b=this.getLayer(c);if(b)return b.getLayoutProperty(m);this.fire(new s.k(new Error(`Cannot get style of non-existing layer "${c}".`)))}setPaintProperty(c,m,b,C={}){this._checkLoaded();const I=this.getLayer(c);I?s.bR(I.getPaintProperty(m),b)||this._updatePaintProperty(I,m,b,C):this.fire(new s.k(new Error(`Cannot style non-existing layer "${c}".`)))}_updatePaintProperty(c,m,b,C={}){c.setPaintProperty(m,b,C)&&this._updateLayer(c),s.bU(c)&&m==="raster-fade-duration"&&this.tileManagers[c.source].setRasterFadeDuration(b),this._changed=!0,this._updatedPaintProps[c.id]=!0,this._serializedLayers=null}getPaintProperty(c,m){return this.getLayer(c).getPaintProperty(m)}setFeatureState(c,m){this._checkLoaded();const b=c.source,C=c.sourceLayer,I=this.tileManagers[b];if(I===void 0)return void this.fire(new s.k(new Error(`The source '${b}' does not exist in the map's style.`)));const z=I.getSource().type;z==="geojson"&&C?this.fire(new s.k(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):z!=="vector"||C?(c.id===void 0&&this.fire(new s.k(new Error("The feature id parameter must be provided."))),I.setFeatureState(C,c.id,m)):this.fire(new s.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(c,m){this._checkLoaded();const b=c.source,C=this.tileManagers[b];if(C===void 0)return void this.fire(new s.k(new Error(`The source '${b}' does not exist in the map's style.`)));const I=C.getSource().type,z=I==="vector"?c.sourceLayer:void 0;I!=="vector"||z?m&&typeof c.id!="string"&&typeof c.id!="number"?this.fire(new s.k(new Error("A feature id is required to remove its specific state property."))):C.removeFeatureState(z,c.id,m):this.fire(new s.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(c){this._checkLoaded();const m=c.source,b=c.sourceLayer,C=this.tileManagers[m];if(C!==void 0)return C.getSource().type!=="vector"||b?(c.id===void 0&&this.fire(new s.k(new Error("The feature id parameter must be provided."))),C.getFeatureState(b,c.id)):void this.fire(new s.k(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new s.k(new Error(`The source '${m}' does not exist in the map's style.`)))}getTransition(){return s.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const c=s.bY(this.tileManagers,(I=>I.serialize())),m=this._serializeByIds(this._order,!0),b=this.map.getTerrain()||void 0,C=this.stylesheet;return s.bZ({version:C.version,name:C.name,metadata:C.metadata,light:C.light,sky:C.sky,center:C.center,zoom:C.zoom,bearing:C.bearing,pitch:C.pitch,sprite:C.sprite,glyphs:C.glyphs,transition:C.transition,projection:C.projection,sources:c,layers:m,terrain:b},(I=>I!==void 0))}_updateLayer(c){this._updatedLayers[c.id]=!0,c.source&&!this._updatedSources[c.source]&&this.tileManagers[c.source].getSource().type!=="raster"&&(this._updatedSources[c.source]="reload",this.tileManagers[c.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(c){const m=z=>this._layers[z].type==="fill-extrusion",b={},C=[];for(let z=this._order.length-1;z>=0;z--){const V=this._order[z];if(m(V)){b[V]=z;for(const H of c){const J=H[V];if(J)for(const ne of J)C.push(ne)}}}C.sort(((z,V)=>V.intersectionZ-z.intersectionZ));const I=[];for(let z=this._order.length-1;z>=0;z--){const V=this._order[z];if(m(V))for(let H=C.length-1;H>=0;H--){const J=C[H].feature;if(b[J.layer.id]<z)break;I.push(J),C.pop()}else for(const H of c){const J=H[V];if(J)for(const ne of J)I.push(ne.feature)}}return I}queryRenderedFeatures(c,m,b){m&&m.filter&&this._validate(s.C.filter,"queryRenderedFeatures.filter",m.filter,null,m);const C={};if(m&&m.layers){if(!(Array.isArray(m.layers)||m.layers instanceof Set))return this.fire(new s.k(new Error("parameters.layers must be an Array or a Set of strings"))),[];for(const J of m.layers){const ne=this._layers[J];if(!ne)return this.fire(new s.k(new Error(`The layer '${J}' does not exist in the map's style and cannot be queried for features.`))),[];C[ne.source]=!0}}const I=[];m.availableImages=this._availableImages;const z=this._serializedAllLayers(),V=m.layers instanceof Set?m.layers:Array.isArray(m.layers)?new Set(m.layers):null,H=Object.assign(Object.assign({},m),{layers:V,globalState:this._globalState});for(const J in this.tileManagers)m.layers&&!C[J]||I.push(hn(this.tileManagers[J],this._layers,z,c,H,b,this.map.terrain?(ne,he,ue)=>this.map.terrain.getElevation(ne,he,ue):void 0));return this.placement&&I.push((function(J,ne,he,ue,ye,Se,Ie){const Le={},De=Se.queryRenderedSymbols(ue),je=[];for(const He of Object.keys(De).map(Number))je.push(Ie[He]);je.sort(Gt);for(const He of je){const Fe=He.featureIndex.lookupSymbolFeatures(De[He.bucketInstanceId],ne,He.bucketIndex,He.sourceLayerIndex,{filterSpec:ye.filter,globalState:ye.globalState},ye.layers,ye.availableImages,J);for(const We in Fe){const Je=Le[We]=Le[We]||[],Ze=Fe[We];Ze.sort(((nt,yt)=>{const ht=He.featureSortOrder;if(ht){const ft=ht.indexOf(nt.featureIndex);return ht.indexOf(yt.featureIndex)-ft}return yt.featureIndex-nt.featureIndex}));for(const nt of Ze)Je.push(nt)}}return(function(He,Fe,We){for(const Je in He)for(const Ze of He[Je])Yt(Ze,We[Fe[Je].source]);return He})(Le,J,he)})(this._layers,z,this.tileManagers,c,H,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(I)}querySourceFeatures(c,m){m?.filter&&this._validate(s.C.filter,"querySourceFeatures.filter",m.filter,null,m);const b=this.tileManagers[c];return b?(function(C,I){const z=C.getRenderableIds().map((J=>C.getTileByID(J))),V=[],H={};for(let J=0;J<z.length;J++){const ne=z[J],he=ne.tileID.canonical.key;H[he]||(H[he]=!0,ne.querySourceFeatures(V,I))}return V})(b,m?Object.assign(Object.assign({},m),{globalState:this._globalState}):{globalState:this._globalState}):[]}getLight(){return this.light.getLight()}setLight(c,m={}){this._checkLoaded();const b=this.light.getLight();let C=!1;for(const z in c)if(!s.bR(c[z],b[z])){C=!0;break}if(!C)return;const I={now:A(),transition:s.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(c,m),this.light.updateTransitions(I)}getProjection(){var c;return(c=this.stylesheet)===null||c===void 0?void 0:c.projection}setProjection(c){if(this._checkLoaded(),this.projection){if(this.projection.name===c.type)return;this.projection.destroy(),delete this.projection}this.stylesheet.projection=c,this._setProjectionInternal(c.type)}getSky(){var c;return(c=this.stylesheet)===null||c===void 0?void 0:c.sky}setSky(c,m={}){this._checkLoaded();const b=this.getSky();let C=!1;if(!c&&!b)return;if(c&&!b)C=!0;else if(!c&&b)C=!0;else for(const z in c)if(!s.bR(c[z],b[z])){C=!0;break}if(!C)return;const I={now:A(),transition:s.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=c,this.sky.setSky(c,m),this.sky.updateTransitions(I)}_setProjectionInternal(c){const m=(function(b,C){const I={constrainOverride:C};if(Array.isArray(b)){const z=new _v({type:b});return{projection:z,transform:new Xf(I),cameraHelper:new Yf(z)}}switch(b){case"mercator":return{projection:new Ko,transform:new Qo(I),cameraHelper:new Cd};case"globe":{const z=new _v({type:["interpolate",["linear"],["zoom"],11,"vertical-perspective",12,"mercator"]});return{projection:z,transform:new Xf(I),cameraHelper:new Yf(z)}}case"vertical-perspective":return{projection:new vv,transform:new Gf(I),cameraHelper:new xo};default:return s.w(`Unknown projection name: ${b}. Falling back to mercator projection.`),{projection:new Ko,transform:new Qo(I),cameraHelper:new Cd}}})(c,this.map.transformConstrain);this.projection=m.projection,this.map.migrateProjection(m.transform,m.cameraHelper);for(const b in this.tileManagers)this.tileManagers[b].reload()}_validate(c,m,b,C,I={}){return(!I||I.validate!==!1)&&Kf(this,c.call(s.C,s.e({key:m,style:this.serialize(),value:b,styleSpec:s.u},C)))}_remove(c=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),tt().off($e,this._rtlPluginLoaded);for(const m in this._layers)this._layers[m].setEventedParent(null);for(const m in this.tileManagers){const b=this.tileManagers[m];b.setEventedParent(null),b.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),c&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(c)}_clearSource(c){this.tileManagers[c].clearTiles()}_reloadSource(c){this.tileManagers[c].resume(),this.tileManagers[c].reload()}_updateSources(c){for(const m in this.tileManagers)this.tileManagers[m].update(c,this.map.terrain)}_generateCollisionBoxes(){for(const c in this.tileManagers)this._reloadSource(c)}_updatePlacement(c,m,b,C,I=!1){let z=!1,V=!1;const H={};for(const J of this._order){const ne=this._layers[J];if(ne.type!=="symbol")continue;if(!H[ne.source]){const ue=this.tileManagers[ne.source];H[ne.source]=ue.getRenderableIds(!0).map((ye=>ue.getTileByID(ye))).sort(((ye,Se)=>Se.tileID.overscaledZ-ye.tileID.overscaledZ||(ye.tileID.isLessThan(Se.tileID)?-1:1)))}const he=this.crossTileSymbolIndex.addLayer(ne,H[ne.source],c.center.lng);z=z||he}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((I=I||this._layerOrderChanged||b===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(A(),c.zoom))&&(this.pauseablePlacement=new qf(c,this.map.terrain,this._order,I,m,b,C,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,H),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(A()),V=!0),z&&this.pauseablePlacement.placement.setStale()),V||z)for(const J of this._order){const ne=this._layers[J];ne.type==="symbol"&&this.placement.updateLayerOpacities(ne,H[ne.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(A())}_releaseSymbolFadeTiles(){for(const c in this.tileManagers)this.tileManagers[c].releaseSymbolFadeTiles()}getImages(c,m){return s._(this,void 0,void 0,(function*(){const b=yield this.imageManager.getImages(m.icons);this._updateTilesForChangedImages();const C=this.tileManagers[m.source];return C&&C.setDependencies(m.tileID.key,m.type,m.icons),b}))}getGlyphs(c,m){return s._(this,void 0,void 0,(function*(){const b=yield this.glyphManager.getGlyphs(m.stacks),C=this.tileManagers[m.source];return C&&C.setDependencies(m.tileID.key,m.type,[""]),b}))}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(c,m={}){this._checkLoaded(),c&&this._validate(s.C.glyphs,"glyphs",c,null,m)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=c,this.glyphManager.entries={},this.glyphManager.setURL(c))}getDashes(c,m){return s._(this,void 0,void 0,(function*(){const b={};for(const[C,I]of Object.entries(m.dashes))b[C]=this.lineAtlas.getDash(I.dasharray,I.round);return b}))}addSprite(c,m,b={},C){this._checkLoaded();const I=[{id:c,url:m}],z=[...re(this.stylesheet.sprite),...I];this._validate(s.C.sprite,"sprite",z,null,b)||(this.stylesheet.sprite=z,this._loadSprite(I,!0,C))}removeSprite(c){this._checkLoaded();const m=re(this.stylesheet.sprite);if(m.find((b=>b.id===c))){if(this._spritesImagesIds[c])for(const b of this._spritesImagesIds[c])this.imageManager.removeImage(b),this._changedImages[b]=!0;m.splice(m.findIndex((b=>b.id===c)),1),this.stylesheet.sprite=m.length>0?m:void 0,delete this._spritesImagesIds[c],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new s.l("data",{dataType:"style"}))}else this.fire(new s.k(new Error(`Sprite "${c}" doesn't exists on this map.`)))}getSprite(){return re(this.stylesheet.sprite)}setSprite(c,m={},b){this._checkLoaded(),c&&this._validate(s.C.sprite,"sprite",c,null,m)||(this.stylesheet.sprite=c,c?this._loadSprite(c,!0,b):(this._unloadSprite(),b&&b(null)))}destroy(){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null);for(const c in this.tileManagers){const m=this.tileManagers[c];m.setEventedParent(null),m.onRemove(this.map)}this.tileManagers={},this.imageManager&&(this.imageManager.setEventedParent(null),this.imageManager.destroy(),this._availableImages=[],this._spritesImagesIds={}),this.glyphManager&&this.glyphManager.destroy();for(const c in this._layers){const m=this._layers[c];m.setEventedParent(null),m.onRemove&&m.onRemove(this.map)}this._setInitialValues(),this.setEventedParent(null),this.dispatcher.unregisterMessageHandler("GG"),this.dispatcher.unregisterMessageHandler("GI"),this.dispatcher.unregisterMessageHandler("GDA"),this.dispatcher.remove(!0),this._listeners={},this._oneTimeListeners={}}}var rb=s.aU([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Lm{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(c,m,b,C,I,z,V,H,J){this.context=c;let ne=this.boundPaintVertexBuffers.length!==C.length;for(let he=0;!ne&&he<C.length;he++)this.boundPaintVertexBuffers[he]!==C[he]&&(ne=!0);!this.vao||this.boundProgram!==m||this.boundLayoutVertexBuffer!==b||ne||this.boundIndexBuffer!==I||this.boundVertexOffset!==z||this.boundDynamicVertexBuffer!==V||this.boundDynamicVertexBuffer2!==H||this.boundDynamicVertexBuffer3!==J?this.freshBind(m,b,C,I,z,V,H,J):(c.bindVertexArray.set(this.vao),V&&V.bind(),I&&I.dynamicDraw&&I.bind(),H&&H.bind(),J&&J.bind())}freshBind(c,m,b,C,I,z,V,H){const J=c.numAttributes,ne=this.context,he=ne.gl;this.vao&&this.destroy(),this.vao=ne.createVertexArray(),ne.bindVertexArray.set(this.vao),this.boundProgram=c,this.boundLayoutVertexBuffer=m,this.boundPaintVertexBuffers=b,this.boundIndexBuffer=C,this.boundVertexOffset=I,this.boundDynamicVertexBuffer=z,this.boundDynamicVertexBuffer2=V,this.boundDynamicVertexBuffer3=H,m.enableAttributes(he,c);for(const ue of b)ue.enableAttributes(he,c);z&&z.enableAttributes(he,c),V&&V.enableAttributes(he,c),H&&H.enableAttributes(he,c),m.bind(),m.setVertexAttribPointers(he,c,I);for(const ue of b)ue.bind(),ue.setVertexAttribPointers(he,c,I);z&&(z.bind(),z.setVertexAttribPointers(he,c,I)),C&&C.bind(),V&&(V.bind(),V.setVertexAttribPointers(he,c,I)),H&&(H.bind(),H.setVertexAttribPointers(he,c,I)),ne.currentNumAttributes=J}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}const ib=(P,c,m,b,C)=>({u_texture:0,u_ele_delta:P,u_fog_matrix:c,u_fog_color:m?m.properties.get("fog-color"):s.bp.white,u_fog_ground_blend:m?m.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:C?0:m?m.calculateFogBlendOpacity(b):0,u_horizon_color:m?m.properties.get("horizon-color"):s.bp.white,u_horizon_fog_blend:m?m.properties.get("horizon-fog-blend"):1,u_is_globe_mode:C?1:0}),ql={mainMatrix:"u_projection_matrix",tileMercatorCoords:"u_projection_tile_mercator_coords",clippingPlane:"u_projection_clipping_plane",projectionTransition:"u_projection_transition",fallbackMatrix:"u_projection_fallback_matrix"};function wy(P){const c=[];for(let m=0;m<P.length;m++){if(P[m]===null)continue;const b=P[m].split(" ");c.push(b.pop())}return c}class ob{constructor(c,m,b,C,I,z,V,H,J=[]){const ne=c.gl;this.program=ne.createProgram();const he=wy(m.staticAttributes),ue=b?b.getBinderAttributes():[],ye=he.concat(ue),Se=$i.prelude.staticUniforms?wy($i.prelude.staticUniforms):[],Ie=V.staticUniforms?wy(V.staticUniforms):[],Le=m.staticUniforms?wy(m.staticUniforms):[],De=b?b.getBinderUniforms():[],je=Se.concat(Ie).concat(Le).concat(De),He=[];for(const ht of je)He.indexOf(ht)<0&&He.push(ht);const Fe=b?b.defines():[];dl(ne)&&Fe.unshift("#version 300 es"),I&&Fe.push("#define OVERDRAW_INSPECTOR;"),z&&Fe.push("#define TERRAIN3D;"),H&&Fe.push(H),J&&Fe.push(...J);let We=Fe.concat($i.prelude.fragmentSource,V.fragmentSource,m.fragmentSource).join(`
`),Je=Fe.concat($i.prelude.vertexSource,V.vertexSource,m.vertexSource).join(`
`);dl(ne)||(We=(function(ht){return ht.replace(/\bin\s/g,"varying ").replace("out highp vec4 fragColor;","").replace(/fragColor/g,"gl_FragColor").replace(/texture\(/g,"texture2D(")})(We),Je=(function(ht){return ht.replace(/\bin\s/g,"attribute ").replace(/\bout\s/g,"varying ").replace(/texture\(/g,"texture2D(")})(Je));const Ze=ne.createShader(ne.FRAGMENT_SHADER);if(ne.isContextLost())return void(this.failedToCreate=!0);if(ne.shaderSource(Ze,We),ne.compileShader(Ze),!ne.getShaderParameter(Ze,ne.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${ne.getShaderInfoLog(Ze)}`);ne.attachShader(this.program,Ze);const nt=ne.createShader(ne.VERTEX_SHADER);if(ne.isContextLost())return void(this.failedToCreate=!0);if(ne.shaderSource(nt,Je),ne.compileShader(nt),!ne.getShaderParameter(nt,ne.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${ne.getShaderInfoLog(nt)}`);ne.attachShader(this.program,nt),this.attributes={};const yt={};this.numAttributes=ye.length;for(let ht=0;ht<this.numAttributes;ht++)ye[ht]&&(ne.bindAttribLocation(this.program,ht,ye[ht]),this.attributes[ye[ht]]=ht);if(ne.linkProgram(this.program),!ne.getProgramParameter(this.program,ne.LINK_STATUS))throw new Error(`Program failed to link: ${ne.getProgramInfoLog(this.program)}`);ne.deleteShader(nt),ne.deleteShader(Ze);for(let ht=0;ht<He.length;ht++){const ft=He[ht];if(ft&&!yt[ft]){const pt=ne.getUniformLocation(this.program,ft);pt&&(yt[ft]=pt)}}this.fixedUniforms=C(c,yt),this.terrainUniforms=((ht,ft)=>({u_depth:new s.b_(ht,ft.u_depth),u_terrain:new s.b_(ht,ft.u_terrain),u_terrain_dim:new s.bq(ht,ft.u_terrain_dim),u_terrain_matrix:new s.c0(ht,ft.u_terrain_matrix),u_terrain_unpack:new s.c1(ht,ft.u_terrain_unpack),u_terrain_exaggeration:new s.bq(ht,ft.u_terrain_exaggeration)}))(c,yt),this.projectionUniforms=((ht,ft)=>({u_projection_matrix:new s.c0(ht,ft.u_projection_matrix),u_projection_tile_mercator_coords:new s.c1(ht,ft.u_projection_tile_mercator_coords),u_projection_clipping_plane:new s.c1(ht,ft.u_projection_clipping_plane),u_projection_transition:new s.bq(ht,ft.u_projection_transition),u_projection_fallback_matrix:new s.c0(ht,ft.u_projection_fallback_matrix)}))(c,yt),this.binderUniforms=b?b.getUniforms(c,yt):[]}draw(c,m,b,C,I,z,V,H,J,ne,he,ue,ye,Se,Ie,Le,De,je,He){const Fe=c.gl;if(this.failedToCreate)return;if(c.program.set(this.program),c.setDepthMode(b),c.setStencilMode(C),c.setColorMode(I),c.setCullFace(z),H){c.activeTexture.set(Fe.TEXTURE2),Fe.bindTexture(Fe.TEXTURE_2D,H.depthTexture),c.activeTexture.set(Fe.TEXTURE3),Fe.bindTexture(Fe.TEXTURE_2D,H.texture);for(const Je in this.terrainUniforms)this.terrainUniforms[Je].set(H[Je])}if(J)for(const Je in J)this.projectionUniforms[ql[Je]].set(J[Je]);if(V)for(const Je in this.fixedUniforms)this.fixedUniforms[Je].set(V[Je]);Le&&Le.setUniforms(c,this.binderUniforms,Se,{zoom:Ie});let We=0;switch(m){case Fe.LINES:We=2;break;case Fe.TRIANGLES:We=3;break;case Fe.LINE_STRIP:We=1}for(const Je of ye.get()){const Ze=Je.vaos||(Je.vaos={});(Ze[ne]||(Ze[ne]=new Lm)).bind(c,this,he,Le?Le.getPaintVertexBuffers():[],ue,Je.vertexOffset,De,je,He),Fe.drawElements(m,Je.primitiveLength*We,Fe.UNSIGNED_SHORT,Je.primitiveOffset*We*2)}}}function sb(P,c,m){const b=1/s.aN(m,1,c.transform.tileZoom),C=Math.pow(2,m.tileID.overscaledZ),I=m.tileSize*Math.pow(2,c.transform.tileZoom)/C,z=I*(m.tileID.canonical.x+m.tileID.wrap*C),V=I*m.tileID.canonical.y;return{u_image:0,u_texsize:m.imageAtlasTexture.size,u_scale:[b,P.fromScale,P.toScale],u_fade:P.t,u_pixel_coord_upper:[z>>16,V>>16],u_pixel_coord_lower:[65535&z,65535&V]}}const Oy=(P,c,m,b)=>{const C=P.style.light,I=C.properties.get("position"),z=[I.x,I.y,I.z],V=s.c4();C.properties.get("anchor")==="viewport"&&s.c5(V,P.transform.bearingInRadians),s.c6(z,z,V);const H=P.transform.transformLightDirection(z),J=C.properties.get("color");return{u_lightpos:z,u_lightpos_globe:H,u_lightintensity:C.properties.get("intensity"),u_lightcolor:[J.r,J.g,J.b],u_vertical_gradient:+c,u_opacity:m,u_fill_translate:b}},Sy=(P,c,m,b,C,I,z)=>s.e(Oy(P,c,m,b),sb(I,P,z),{u_height_factor:-Math.pow(2,C.overscaledZ)/z.tileSize/8}),Ed=(P,c,m,b)=>s.e(sb(c,P,m),{u_fill_translate:b}),ep=(P,c)=>({u_world:P,u_fill_translate:c}),ab=(P,c,m,b,C)=>s.e(Ed(P,c,m,C),{u_world:b}),$m=(P,c,m,b,C)=>{const I=P.transform;let z,V,H=0;if(m.paint.get("circle-pitch-alignment")==="map"){const J=s.aN(c,1,I.zoom);z=!0,V=[J,J],H=J/(s.a5*Math.pow(2,c.tileID.overscaledZ))*2*Math.PI*C}else z=!1,V=I.pixelsToGLUnits;return{u_camera_to_center_distance:I.cameraToCenterDistance,u_scale_with_map:+(m.paint.get("circle-pitch-scale")==="map"),u_pitch_with_map:+z,u_device_pixel_ratio:P.pixelRatio,u_extrude_scale:V,u_globe_extrude_scale:H,u_translate:b}},bh=P=>({u_pixel_extrude_scale:[1/P.width,1/P.height]}),bv=P=>({u_viewport_size:[P.width,P.height]}),zm=(P,c=1)=>({u_color:P,u_overlay:0,u_overlay_scale:c}),wh=(P,c,m,b)=>{const C=s.aN(P,1,c)/(s.a5*Math.pow(2,P.tileID.overscaledZ))*2*Math.PI*b;return{u_extrude_scale:s.aN(P,1,c),u_intensity:m,u_globe_extrude_scale:C}},wv=(P,c,m,b)=>{const C=s.N();s.c7(C,0,P.width,P.height,0,0,1);const I=P.context.gl;return{u_matrix:C,u_world:[I.drawingBufferWidth,I.drawingBufferHeight],u_image:m,u_color_ramp:b,u_opacity:c.paint.get("heatmap-opacity")}},Nm=(P,c,m)=>{const b=m.paint.get("hillshade-accent-color");let C;switch(m.paint.get("hillshade-method")){case"basic":C=4;break;case"combined":C=1;break;case"igor":C=2;break;case"multidirectional":C=3;break;default:C=0}const I=m.getIlluminationProperties();for(let z=0;z<I.directionRadians.length;z++)m.paint.get("hillshade-illumination-anchor")==="viewport"&&(I.directionRadians[z]+=P.transform.bearingInRadians);return{u_image:0,u_latrange:uS(0,c.tileID),u_exaggeration:m.paint.get("hillshade-exaggeration"),u_altitudes:I.altitudeRadians,u_azimuths:I.directionRadians,u_accent:b,u_method:C,u_highlights:I.highlightColor,u_shadows:I.shadowColor}},lb=(P,c)=>{const m=c.stride,b=s.N();return s.c7(b,0,s.a5,-s.a5,0,0,1),s.O(b,b,[0,-s.a5,0]),{u_matrix:b,u_image:1,u_dimension:[m,m],u_zoom:P.overscaledZ,u_unpack:c.getUnpackVector()}};function uS(P,c){const m=Math.pow(2,c.canonical.z),b=c.canonical.y;return[new s.a9(0,b/m).toLngLat().lat,new s.a9(0,(b+1)/m).toLngLat().lat]}const cb=(P,c,m=0)=>({u_image:0,u_unpack:c.getUnpackVector(),u_dimension:[c.stride,c.stride],u_elevation_stops:1,u_color_stops:4,u_color_ramp_size:m,u_opacity:P.paint.get("color-relief-opacity")}),Bm=(P,c,m,b)=>{const C=P.transform;return{u_translation:Fm(P,c,m),u_ratio:b/s.aN(c,1,C.zoom),u_device_pixel_ratio:P.pixelRatio,u_units_to_pixels:[1/C.pixelsToGLUnits[0],1/C.pixelsToGLUnits[1]]}},ub=(P,c,m,b,C)=>s.e(Bm(P,c,m,b),{u_image:0,u_image_height:C}),Ov=(P,c,m,b,C)=>{const I=P.transform,z=fl(c,I);return{u_translation:Fm(P,c,m),u_texsize:c.imageAtlasTexture.size,u_ratio:b/s.aN(c,1,I.zoom),u_device_pixel_ratio:P.pixelRatio,u_image:0,u_scale:[z,C.fromScale,C.toScale],u_fade:C.t,u_units_to_pixels:[1/I.pixelsToGLUnits[0],1/I.pixelsToGLUnits[1]]}},va=(P,c,m,b,C)=>{const I=fl(c,P.transform);return s.e(Bm(P,c,m,b),{u_tileratio:I,u_crossfade_from:C.fromScale,u_crossfade_to:C.toScale,u_image:0,u_mix:C.t,u_lineatlas_width:P.lineAtlas.width,u_lineatlas_height:P.lineAtlas.height})},Oh=(P,c,m,b,C,I)=>{const z=fl(c,P.transform);return s.e(Bm(P,c,m,b),{u_image:0,u_image_height:I,u_tileratio:z,u_crossfade_from:C.fromScale,u_crossfade_to:C.toScale,u_image_dash:1,u_mix:C.t,u_lineatlas_width:P.lineAtlas.width,u_lineatlas_height:P.lineAtlas.height})};function fl(P,c){return 1/s.aN(P,1,c.tileZoom)}function Fm(P,c,m){return s.aO(P.transform,c,m.paint.get("line-translate"),m.paint.get("line-translate-anchor"))}const Cy=(P,c,m,b,C)=>{return{u_tl_parent:P,u_scale_parent:c,u_buffer_scale:1,u_fade_t:m.mix,u_opacity:m.opacity*b.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:b.paint.get("raster-brightness-min"),u_brightness_high:b.paint.get("raster-brightness-max"),u_saturation_factor:(z=b.paint.get("raster-saturation"),z>0?1-1/(1.001-z):-z),u_contrast_factor:(I=b.paint.get("raster-contrast"),I>0?1/(1-I):1+I),u_spin_weights:Ty(b.paint.get("raster-hue-rotate")),u_coords_top:[C[0].x,C[0].y,C[1].x,C[1].y],u_coords_bottom:[C[3].x,C[3].y,C[2].x,C[2].y]};var I,z};function Ty(P){P*=Math.PI/180;const c=Math.sin(P),m=Math.cos(P);return[(2*m+1)/3,(-Math.sqrt(3)*c-m+1)/3,(Math.sqrt(3)*c-m+1)/3]}const jm=(P,c,m,b,C,I,z,V,H,J,ne,he,ue)=>{const ye=z.transform;return{u_is_size_zoom_constant:+(P==="constant"||P==="source"),u_is_size_feature_constant:+(P==="constant"||P==="camera"),u_size_t:c?c.uSizeT:0,u_size:c?c.uSize:0,u_camera_to_center_distance:ye.cameraToCenterDistance,u_pitch:ye.pitch/360*2*Math.PI,u_rotate_symbol:+m,u_aspect_ratio:ye.width/ye.height,u_fade_change:z.options.fadeDuration?z.symbolFadeChange:1,u_label_plane_matrix:V,u_coord_matrix:H,u_is_text:+ne,u_pitch_with_map:+b,u_is_along_line:C,u_is_variable_anchor:I,u_texsize:he,u_texture:0,u_translation:J,u_pitched_scale:ue}},ky=(P,c,m,b,C,I,z,V,H,J,ne,he,ue,ye)=>{const Se=z.transform;return s.e(jm(P,c,m,b,C,I,z,V,H,J,ne,he,ye),{u_gamma_scale:b?Math.cos(Se.pitch*Math.PI/180)*Se.cameraToCenterDistance:1,u_device_pixel_ratio:z.pixelRatio,u_is_halo:1})},pl=(P,c,m,b,C,I,z,V,H,J,ne,he,ue)=>s.e(ky(P,c,m,b,C,I,z,V,H,J,!0,ne,0,ue),{u_texsize_icon:he,u_texture_icon:1}),Vm=(P,c)=>({u_opacity:P,u_color:c}),Qm=(P,c,m,b,C)=>s.e((function(I,z,V,H){const J=V.imageManager.getPattern(I.from.toString()),ne=V.imageManager.getPattern(I.to.toString()),{width:he,height:ue}=V.imageManager.getPixelSize(),ye=Math.pow(2,H.tileID.overscaledZ),Se=H.tileSize*Math.pow(2,V.transform.tileZoom)/ye,Ie=Se*(H.tileID.canonical.x+H.tileID.wrap*ye),Le=Se*H.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:J.tl,u_pattern_br_a:J.br,u_pattern_tl_b:ne.tl,u_pattern_br_b:ne.br,u_texsize:[he,ue],u_mix:z.t,u_pattern_size_a:J.displaySize,u_pattern_size_b:ne.displaySize,u_scale_a:z.fromScale,u_scale_b:z.toScale,u_tile_units_to_pixels:1/s.aN(H,1,V.transform.tileZoom),u_pixel_coord_upper:[Ie>>16,Le>>16],u_pixel_coord_lower:[65535&Ie,65535&Le]}})(m,C,c,b),{u_opacity:P}),Ey=(P,c)=>{},hb={fillExtrusion:(P,c)=>({u_lightpos:new s.c2(P,c.u_lightpos),u_lightpos_globe:new s.c2(P,c.u_lightpos_globe),u_lightintensity:new s.bq(P,c.u_lightintensity),u_lightcolor:new s.c2(P,c.u_lightcolor),u_vertical_gradient:new s.bq(P,c.u_vertical_gradient),u_opacity:new s.bq(P,c.u_opacity),u_fill_translate:new s.c3(P,c.u_fill_translate)}),fillExtrusionPattern:(P,c)=>({u_lightpos:new s.c2(P,c.u_lightpos),u_lightpos_globe:new s.c2(P,c.u_lightpos_globe),u_lightintensity:new s.bq(P,c.u_lightintensity),u_lightcolor:new s.c2(P,c.u_lightcolor),u_vertical_gradient:new s.bq(P,c.u_vertical_gradient),u_height_factor:new s.bq(P,c.u_height_factor),u_opacity:new s.bq(P,c.u_opacity),u_fill_translate:new s.c3(P,c.u_fill_translate),u_image:new s.b_(P,c.u_image),u_texsize:new s.c3(P,c.u_texsize),u_pixel_coord_upper:new s.c3(P,c.u_pixel_coord_upper),u_pixel_coord_lower:new s.c3(P,c.u_pixel_coord_lower),u_scale:new s.c2(P,c.u_scale),u_fade:new s.bq(P,c.u_fade)}),fill:(P,c)=>({u_fill_translate:new s.c3(P,c.u_fill_translate)}),fillPattern:(P,c)=>({u_image:new s.b_(P,c.u_image),u_texsize:new s.c3(P,c.u_texsize),u_pixel_coord_upper:new s.c3(P,c.u_pixel_coord_upper),u_pixel_coord_lower:new s.c3(P,c.u_pixel_coord_lower),u_scale:new s.c2(P,c.u_scale),u_fade:new s.bq(P,c.u_fade),u_fill_translate:new s.c3(P,c.u_fill_translate)}),fillOutline:(P,c)=>({u_world:new s.c3(P,c.u_world),u_fill_translate:new s.c3(P,c.u_fill_translate)}),fillOutlinePattern:(P,c)=>({u_world:new s.c3(P,c.u_world),u_image:new s.b_(P,c.u_image),u_texsize:new s.c3(P,c.u_texsize),u_pixel_coord_upper:new s.c3(P,c.u_pixel_coord_upper),u_pixel_coord_lower:new s.c3(P,c.u_pixel_coord_lower),u_scale:new s.c2(P,c.u_scale),u_fade:new s.bq(P,c.u_fade),u_fill_translate:new s.c3(P,c.u_fill_translate)}),circle:(P,c)=>({u_camera_to_center_distance:new s.bq(P,c.u_camera_to_center_distance),u_scale_with_map:new s.b_(P,c.u_scale_with_map),u_pitch_with_map:new s.b_(P,c.u_pitch_with_map),u_extrude_scale:new s.c3(P,c.u_extrude_scale),u_device_pixel_ratio:new s.bq(P,c.u_device_pixel_ratio),u_globe_extrude_scale:new s.bq(P,c.u_globe_extrude_scale),u_translate:new s.c3(P,c.u_translate)}),collisionBox:(P,c)=>({u_pixel_extrude_scale:new s.c3(P,c.u_pixel_extrude_scale)}),collisionCircle:(P,c)=>({u_viewport_size:new s.c3(P,c.u_viewport_size)}),debug:(P,c)=>({u_color:new s.b$(P,c.u_color),u_overlay:new s.b_(P,c.u_overlay),u_overlay_scale:new s.bq(P,c.u_overlay_scale)}),depth:Ey,clippingMask:Ey,heatmap:(P,c)=>({u_extrude_scale:new s.bq(P,c.u_extrude_scale),u_intensity:new s.bq(P,c.u_intensity),u_globe_extrude_scale:new s.bq(P,c.u_globe_extrude_scale)}),heatmapTexture:(P,c)=>({u_matrix:new s.c0(P,c.u_matrix),u_world:new s.c3(P,c.u_world),u_image:new s.b_(P,c.u_image),u_color_ramp:new s.b_(P,c.u_color_ramp),u_opacity:new s.bq(P,c.u_opacity)}),hillshade:(P,c)=>({u_image:new s.b_(P,c.u_image),u_latrange:new s.c3(P,c.u_latrange),u_exaggeration:new s.bq(P,c.u_exaggeration),u_altitudes:new s.c9(P,c.u_altitudes),u_azimuths:new s.c9(P,c.u_azimuths),u_accent:new s.b$(P,c.u_accent),u_method:new s.b_(P,c.u_method),u_shadows:new s.c8(P,c.u_shadows),u_highlights:new s.c8(P,c.u_highlights)}),hillshadePrepare:(P,c)=>({u_matrix:new s.c0(P,c.u_matrix),u_image:new s.b_(P,c.u_image),u_dimension:new s.c3(P,c.u_dimension),u_zoom:new s.bq(P,c.u_zoom),u_unpack:new s.c1(P,c.u_unpack)}),colorRelief:(P,c)=>({u_image:new s.b_(P,c.u_image),u_unpack:new s.c1(P,c.u_unpack),u_dimension:new s.c3(P,c.u_dimension),u_elevation_stops:new s.b_(P,c.u_elevation_stops),u_color_stops:new s.b_(P,c.u_color_stops),u_color_ramp_size:new s.b_(P,c.u_color_ramp_size),u_opacity:new s.bq(P,c.u_opacity)}),line:(P,c)=>({u_translation:new s.c3(P,c.u_translation),u_ratio:new s.bq(P,c.u_ratio),u_device_pixel_ratio:new s.bq(P,c.u_device_pixel_ratio),u_units_to_pixels:new s.c3(P,c.u_units_to_pixels)}),lineGradient:(P,c)=>({u_translation:new s.c3(P,c.u_translation),u_ratio:new s.bq(P,c.u_ratio),u_device_pixel_ratio:new s.bq(P,c.u_device_pixel_ratio),u_units_to_pixels:new s.c3(P,c.u_units_to_pixels),u_image:new s.b_(P,c.u_image),u_image_height:new s.bq(P,c.u_image_height)}),linePattern:(P,c)=>({u_translation:new s.c3(P,c.u_translation),u_texsize:new s.c3(P,c.u_texsize),u_ratio:new s.bq(P,c.u_ratio),u_device_pixel_ratio:new s.bq(P,c.u_device_pixel_ratio),u_image:new s.b_(P,c.u_image),u_units_to_pixels:new s.c3(P,c.u_units_to_pixels),u_scale:new s.c2(P,c.u_scale),u_fade:new s.bq(P,c.u_fade)}),lineSDF:(P,c)=>({u_translation:new s.c3(P,c.u_translation),u_ratio:new s.bq(P,c.u_ratio),u_device_pixel_ratio:new s.bq(P,c.u_device_pixel_ratio),u_units_to_pixels:new s.c3(P,c.u_units_to_pixels),u_image:new s.b_(P,c.u_image),u_mix:new s.bq(P,c.u_mix),u_tileratio:new s.bq(P,c.u_tileratio),u_crossfade_from:new s.bq(P,c.u_crossfade_from),u_crossfade_to:new s.bq(P,c.u_crossfade_to),u_lineatlas_width:new s.bq(P,c.u_lineatlas_width),u_lineatlas_height:new s.bq(P,c.u_lineatlas_height)}),lineGradientSDF:(P,c)=>({u_translation:new s.c3(P,c.u_translation),u_ratio:new s.bq(P,c.u_ratio),u_device_pixel_ratio:new s.bq(P,c.u_device_pixel_ratio),u_units_to_pixels:new s.c3(P,c.u_units_to_pixels),u_image:new s.b_(P,c.u_image),u_image_height:new s.bq(P,c.u_image_height),u_tileratio:new s.bq(P,c.u_tileratio),u_crossfade_from:new s.bq(P,c.u_crossfade_from),u_crossfade_to:new s.bq(P,c.u_crossfade_to),u_image_dash:new s.b_(P,c.u_image_dash),u_mix:new s.bq(P,c.u_mix),u_lineatlas_width:new s.bq(P,c.u_lineatlas_width),u_lineatlas_height:new s.bq(P,c.u_lineatlas_height)}),raster:(P,c)=>({u_tl_parent:new s.c3(P,c.u_tl_parent),u_scale_parent:new s.bq(P,c.u_scale_parent),u_buffer_scale:new s.bq(P,c.u_buffer_scale),u_fade_t:new s.bq(P,c.u_fade_t),u_opacity:new s.bq(P,c.u_opacity),u_image0:new s.b_(P,c.u_image0),u_image1:new s.b_(P,c.u_image1),u_brightness_low:new s.bq(P,c.u_brightness_low),u_brightness_high:new s.bq(P,c.u_brightness_high),u_saturation_factor:new s.bq(P,c.u_saturation_factor),u_contrast_factor:new s.bq(P,c.u_contrast_factor),u_spin_weights:new s.c2(P,c.u_spin_weights),u_coords_top:new s.c1(P,c.u_coords_top),u_coords_bottom:new s.c1(P,c.u_coords_bottom)}),symbolIcon:(P,c)=>({u_is_size_zoom_constant:new s.b_(P,c.u_is_size_zoom_constant),u_is_size_feature_constant:new s.b_(P,c.u_is_size_feature_constant),u_size_t:new s.bq(P,c.u_size_t),u_size:new s.bq(P,c.u_size),u_camera_to_center_distance:new s.bq(P,c.u_camera_to_center_distance),u_pitch:new s.bq(P,c.u_pitch),u_rotate_symbol:new s.b_(P,c.u_rotate_symbol),u_aspect_ratio:new s.bq(P,c.u_aspect_ratio),u_fade_change:new s.bq(P,c.u_fade_change),u_label_plane_matrix:new s.c0(P,c.u_label_plane_matrix),u_coord_matrix:new s.c0(P,c.u_coord_matrix),u_is_text:new s.b_(P,c.u_is_text),u_pitch_with_map:new s.b_(P,c.u_pitch_with_map),u_is_along_line:new s.b_(P,c.u_is_along_line),u_is_variable_anchor:new s.b_(P,c.u_is_variable_anchor),u_texsize:new s.c3(P,c.u_texsize),u_texture:new s.b_(P,c.u_texture),u_translation:new s.c3(P,c.u_translation),u_pitched_scale:new s.bq(P,c.u_pitched_scale)}),symbolSDF:(P,c)=>({u_is_size_zoom_constant:new s.b_(P,c.u_is_size_zoom_constant),u_is_size_feature_constant:new s.b_(P,c.u_is_size_feature_constant),u_size_t:new s.bq(P,c.u_size_t),u_size:new s.bq(P,c.u_size),u_camera_to_center_distance:new s.bq(P,c.u_camera_to_center_distance),u_pitch:new s.bq(P,c.u_pitch),u_rotate_symbol:new s.b_(P,c.u_rotate_symbol),u_aspect_ratio:new s.bq(P,c.u_aspect_ratio),u_fade_change:new s.bq(P,c.u_fade_change),u_label_plane_matrix:new s.c0(P,c.u_label_plane_matrix),u_coord_matrix:new s.c0(P,c.u_coord_matrix),u_is_text:new s.b_(P,c.u_is_text),u_pitch_with_map:new s.b_(P,c.u_pitch_with_map),u_is_along_line:new s.b_(P,c.u_is_along_line),u_is_variable_anchor:new s.b_(P,c.u_is_variable_anchor),u_texsize:new s.c3(P,c.u_texsize),u_texture:new s.b_(P,c.u_texture),u_gamma_scale:new s.bq(P,c.u_gamma_scale),u_device_pixel_ratio:new s.bq(P,c.u_device_pixel_ratio),u_is_halo:new s.b_(P,c.u_is_halo),u_translation:new s.c3(P,c.u_translation),u_pitched_scale:new s.bq(P,c.u_pitched_scale)}),symbolTextAndIcon:(P,c)=>({u_is_size_zoom_constant:new s.b_(P,c.u_is_size_zoom_constant),u_is_size_feature_constant:new s.b_(P,c.u_is_size_feature_constant),u_size_t:new s.bq(P,c.u_size_t),u_size:new s.bq(P,c.u_size),u_camera_to_center_distance:new s.bq(P,c.u_camera_to_center_distance),u_pitch:new s.bq(P,c.u_pitch),u_rotate_symbol:new s.b_(P,c.u_rotate_symbol),u_aspect_ratio:new s.bq(P,c.u_aspect_ratio),u_fade_change:new s.bq(P,c.u_fade_change),u_label_plane_matrix:new s.c0(P,c.u_label_plane_matrix),u_coord_matrix:new s.c0(P,c.u_coord_matrix),u_is_text:new s.b_(P,c.u_is_text),u_pitch_with_map:new s.b_(P,c.u_pitch_with_map),u_is_along_line:new s.b_(P,c.u_is_along_line),u_is_variable_anchor:new s.b_(P,c.u_is_variable_anchor),u_texsize:new s.c3(P,c.u_texsize),u_texsize_icon:new s.c3(P,c.u_texsize_icon),u_texture:new s.b_(P,c.u_texture),u_texture_icon:new s.b_(P,c.u_texture_icon),u_gamma_scale:new s.bq(P,c.u_gamma_scale),u_device_pixel_ratio:new s.bq(P,c.u_device_pixel_ratio),u_is_halo:new s.b_(P,c.u_is_halo),u_translation:new s.c3(P,c.u_translation),u_pitched_scale:new s.bq(P,c.u_pitched_scale)}),background:(P,c)=>({u_opacity:new s.bq(P,c.u_opacity),u_color:new s.b$(P,c.u_color)}),backgroundPattern:(P,c)=>({u_opacity:new s.bq(P,c.u_opacity),u_image:new s.b_(P,c.u_image),u_pattern_tl_a:new s.c3(P,c.u_pattern_tl_a),u_pattern_br_a:new s.c3(P,c.u_pattern_br_a),u_pattern_tl_b:new s.c3(P,c.u_pattern_tl_b),u_pattern_br_b:new s.c3(P,c.u_pattern_br_b),u_texsize:new s.c3(P,c.u_texsize),u_mix:new s.bq(P,c.u_mix),u_pattern_size_a:new s.c3(P,c.u_pattern_size_a),u_pattern_size_b:new s.c3(P,c.u_pattern_size_b),u_scale_a:new s.bq(P,c.u_scale_a),u_scale_b:new s.bq(P,c.u_scale_b),u_pixel_coord_upper:new s.c3(P,c.u_pixel_coord_upper),u_pixel_coord_lower:new s.c3(P,c.u_pixel_coord_lower),u_tile_units_to_pixels:new s.bq(P,c.u_tile_units_to_pixels)}),terrain:(P,c)=>({u_texture:new s.b_(P,c.u_texture),u_ele_delta:new s.bq(P,c.u_ele_delta),u_fog_matrix:new s.c0(P,c.u_fog_matrix),u_fog_color:new s.b$(P,c.u_fog_color),u_fog_ground_blend:new s.bq(P,c.u_fog_ground_blend),u_fog_ground_blend_opacity:new s.bq(P,c.u_fog_ground_blend_opacity),u_horizon_color:new s.b$(P,c.u_horizon_color),u_horizon_fog_blend:new s.bq(P,c.u_horizon_fog_blend),u_is_globe_mode:new s.bq(P,c.u_is_globe_mode)}),terrainDepth:(P,c)=>({u_ele_delta:new s.bq(P,c.u_ele_delta)}),terrainCoords:(P,c)=>({u_texture:new s.b_(P,c.u_texture),u_terrain_coords_id:new s.bq(P,c.u_terrain_coords_id),u_ele_delta:new s.bq(P,c.u_ele_delta)}),projectionErrorMeasurement:(P,c)=>({u_input:new s.bq(P,c.u_input),u_output_expected:new s.bq(P,c.u_output_expected)}),atmosphere:(P,c)=>({u_sun_pos:new s.c2(P,c.u_sun_pos),u_atmosphere_blend:new s.bq(P,c.u_atmosphere_blend),u_globe_position:new s.c2(P,c.u_globe_position),u_globe_radius:new s.bq(P,c.u_globe_radius),u_inv_proj_matrix:new s.c0(P,c.u_inv_proj_matrix)}),sky:(P,c)=>({u_sky_color:new s.b$(P,c.u_sky_color),u_horizon_color:new s.b$(P,c.u_horizon_color),u_horizon:new s.c3(P,c.u_horizon),u_horizon_normal:new s.c3(P,c.u_horizon_normal),u_sky_horizon_blend:new s.bq(P,c.u_sky_horizon_blend),u_sky_blend:new s.bq(P,c.u_sky_blend)})};class Ad{constructor(c,m,b){this.context=c;const C=c.gl;this.buffer=C.createBuffer(),this.dynamicDraw=!!b,this.context.unbindVAO(),c.bindElementBuffer.set(this.buffer),C.bufferData(C.ELEMENT_ARRAY_BUFFER,m.arrayBuffer,this.dynamicDraw?C.DYNAMIC_DRAW:C.STATIC_DRAW),this.dynamicDraw||delete m.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(c){const m=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),m.bufferSubData(m.ELEMENT_ARRAY_BUFFER,0,c.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Pd={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Sv{constructor(c,m,b,C){this.length=m.length,this.attributes=b,this.itemSize=m.bytesPerElement,this.dynamicDraw=C,this.context=c;const I=c.gl;this.buffer=I.createBuffer(),c.bindVertexBuffer.set(this.buffer),I.bufferData(I.ARRAY_BUFFER,m.arrayBuffer,this.dynamicDraw?I.DYNAMIC_DRAW:I.STATIC_DRAW),this.dynamicDraw||delete m.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(c){if(c.length!==this.length)throw new Error(`Length of new data is ${c.length}, which doesn't match current length of ${this.length}`);const m=this.context.gl;this.bind(),m.bufferSubData(m.ARRAY_BUFFER,0,c.arrayBuffer)}enableAttributes(c,m){for(let b=0;b<this.attributes.length;b++){const C=m.attributes[this.attributes[b].name];C!==void 0&&c.enableVertexAttribArray(C)}}setVertexAttribPointers(c,m,b){for(let C=0;C<this.attributes.length;C++){const I=this.attributes[C],z=m.attributes[I.name];z!==void 0&&c.vertexAttribPointer(z,I.components,c[Pd[I.type]],!1,this.itemSize,I.offset+this.itemSize*(b||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class jr{constructor(c){this.gl=c.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(c){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Tc extends jr{getDefault(){return s.bp.transparent}set(c){const m=this.current;(c.r!==m.r||c.g!==m.g||c.b!==m.b||c.a!==m.a||this.dirty)&&(this.gl.clearColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class Um extends jr{getDefault(){return 1}set(c){(c!==this.current||this.dirty)&&(this.gl.clearDepth(c),this.current=c,this.dirty=!1)}}class Zm extends jr{getDefault(){return 0}set(c){(c!==this.current||this.dirty)&&(this.gl.clearStencil(c),this.current=c,this.dirty=!1)}}class Ay extends jr{getDefault(){return[!0,!0,!0,!0]}set(c){const m=this.current;(c[0]!==m[0]||c[1]!==m[1]||c[2]!==m[2]||c[3]!==m[3]||this.dirty)&&(this.gl.colorMask(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class Md extends jr{getDefault(){return!0}set(c){(c!==this.current||this.dirty)&&(this.gl.depthMask(c),this.current=c,this.dirty=!1)}}class qm extends jr{getDefault(){return 255}set(c){(c!==this.current||this.dirty)&&(this.gl.stencilMask(c),this.current=c,this.dirty=!1)}}class tp extends jr{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(c){const m=this.current;(c.func!==m.func||c.ref!==m.ref||c.mask!==m.mask||this.dirty)&&(this.gl.stencilFunc(c.func,c.ref,c.mask),this.current=c,this.dirty=!1)}}class Na extends jr{getDefault(){const c=this.gl;return[c.KEEP,c.KEEP,c.KEEP]}set(c){const m=this.current;(c[0]!==m[0]||c[1]!==m[1]||c[2]!==m[2]||this.dirty)&&(this.gl.stencilOp(c[0],c[1],c[2]),this.current=c,this.dirty=!1)}}class Cv extends jr{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const m=this.gl;c?m.enable(m.STENCIL_TEST):m.disable(m.STENCIL_TEST),this.current=c,this.dirty=!1}}class Py extends jr{getDefault(){return[0,1]}set(c){const m=this.current;(c[0]!==m[0]||c[1]!==m[1]||this.dirty)&&(this.gl.depthRange(c[0],c[1]),this.current=c,this.dirty=!1)}}class Ba extends jr{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const m=this.gl;c?m.enable(m.DEPTH_TEST):m.disable(m.DEPTH_TEST),this.current=c,this.dirty=!1}}class kc extends jr{getDefault(){return this.gl.LESS}set(c){(c!==this.current||this.dirty)&&(this.gl.depthFunc(c),this.current=c,this.dirty=!1)}}class ha extends jr{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const m=this.gl;c?m.enable(m.BLEND):m.disable(m.BLEND),this.current=c,this.dirty=!1}}class gu extends jr{getDefault(){const c=this.gl;return[c.ONE,c.ZERO]}set(c){const m=this.current;(c[0]!==m[0]||c[1]!==m[1]||this.dirty)&&(this.gl.blendFunc(c[0],c[1]),this.current=c,this.dirty=!1)}}class Rd extends jr{getDefault(){return s.bp.transparent}set(c){const m=this.current;(c.r!==m.r||c.g!==m.g||c.b!==m.b||c.a!==m.a||this.dirty)&&(this.gl.blendColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class Id extends jr{getDefault(){return this.gl.FUNC_ADD}set(c){(c!==this.current||this.dirty)&&(this.gl.blendEquation(c),this.current=c,this.dirty=!1)}}class Wm extends jr{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const m=this.gl;c?m.enable(m.CULL_FACE):m.disable(m.CULL_FACE),this.current=c,this.dirty=!1}}class Sh extends jr{getDefault(){return this.gl.BACK}set(c){(c!==this.current||this.dirty)&&(this.gl.cullFace(c),this.current=c,this.dirty=!1)}}class ml extends jr{getDefault(){return this.gl.CCW}set(c){(c!==this.current||this.dirty)&&(this.gl.frontFace(c),this.current=c,this.dirty=!1)}}class Tv extends jr{getDefault(){return null}set(c){(c!==this.current||this.dirty)&&(this.gl.useProgram(c),this.current=c,this.dirty=!1)}}class np extends jr{getDefault(){return this.gl.TEXTURE0}set(c){(c!==this.current||this.dirty)&&(this.gl.activeTexture(c),this.current=c,this.dirty=!1)}}class lr extends jr{getDefault(){const c=this.gl;return[0,0,c.drawingBufferWidth,c.drawingBufferHeight]}set(c){const m=this.current;(c[0]!==m[0]||c[1]!==m[1]||c[2]!==m[2]||c[3]!==m[3]||this.dirty)&&(this.gl.viewport(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class My extends jr{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const m=this.gl;m.bindFramebuffer(m.FRAMEBUFFER,c),this.current=c,this.dirty=!1}}class Fa extends jr{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const m=this.gl;m.bindRenderbuffer(m.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class Ry extends jr{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const m=this.gl;m.bindTexture(m.TEXTURE_2D,c),this.current=c,this.dirty=!1}}class ja extends jr{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const m=this.gl;m.bindBuffer(m.ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class db extends jr{getDefault(){return null}set(c){const m=this.gl;m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class Iy extends jr{getDefault(){return null}set(c){var m;if(c===this.current&&!this.dirty)return;const b=this.gl;dl(b)?b.bindVertexArray(c):(m=b.getExtension("OES_vertex_array_object"))===null||m===void 0||m.bindVertexArrayOES(c),this.current=c,this.dirty=!1}}class Ch extends jr{getDefault(){return 4}set(c){if(c===this.current&&!this.dirty)return;const m=this.gl;m.pixelStorei(m.UNPACK_ALIGNMENT,c),this.current=c,this.dirty=!1}}class kv extends jr{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const m=this.gl;m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c),this.current=c,this.dirty=!1}}class Dy extends jr{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const m=this.gl;m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,c),this.current=c,this.dirty=!1}}class Th extends jr{constructor(c,m){super(c),this.context=c,this.parent=m}getDefault(){return null}}class rp extends Th{setDirty(){this.dirty=!0}set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const m=this.gl;m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,c,0),this.current=c,this.dirty=!1}}class da extends Th{set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const m=this.gl;m.framebufferRenderbuffer(m.FRAMEBUFFER,m.DEPTH_ATTACHMENT,m.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class kh extends Th{set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const m=this.gl;m.framebufferRenderbuffer(m.FRAMEBUFFER,m.DEPTH_STENCIL_ATTACHMENT,m.RENDERBUFFER,c),this.current=c,this.dirty=!1}}const Eh="Framebuffer is not complete";class Dd{constructor(c,m,b,C,I){this.context=c,this.width=m,this.height=b;const z=c.gl,V=this.framebuffer=z.createFramebuffer();if(this.colorAttachment=new rp(c,V),C)this.depthAttachment=I?new kh(c,V):new da(c,V);else if(I)throw new Error("Stencil cannot be set without depth");if(z.checkFramebufferStatus(z.FRAMEBUFFER)!==z.FRAMEBUFFER_COMPLETE)throw new Error(Eh)}destroy(){const c=this.context.gl,m=this.colorAttachment.get();if(m&&c.deleteTexture(m),this.depthAttachment){const b=this.depthAttachment.get();b&&c.deleteRenderbuffer(b)}c.deleteFramebuffer(this.framebuffer)}}class Ah{constructor(c){var m,b;if(this.gl=c,this.clearColor=new Tc(this),this.clearDepth=new Um(this),this.clearStencil=new Zm(this),this.colorMask=new Ay(this),this.depthMask=new Md(this),this.stencilMask=new qm(this),this.stencilFunc=new tp(this),this.stencilOp=new Na(this),this.stencilTest=new Cv(this),this.depthRange=new Py(this),this.depthTest=new Ba(this),this.depthFunc=new kc(this),this.blend=new ha(this),this.blendFunc=new gu(this),this.blendColor=new Rd(this),this.blendEquation=new Id(this),this.cullFace=new Wm(this),this.cullFaceSide=new Sh(this),this.frontFace=new ml(this),this.program=new Tv(this),this.activeTexture=new np(this),this.viewport=new lr(this),this.bindFramebuffer=new My(this),this.bindRenderbuffer=new Fa(this),this.bindTexture=new Ry(this),this.bindVertexBuffer=new ja(this),this.bindElementBuffer=new db(this),this.bindVertexArray=new Iy(this),this.pixelStoreUnpack=new Ch(this),this.pixelStoreUnpackPremultiplyAlpha=new kv(this),this.pixelStoreUnpackFlipY=new Dy(this),this.extTextureFilterAnisotropic=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=c.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE),dl(c)){this.HALF_FLOAT=c.HALF_FLOAT;const C=c.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(m=c.RGBA16F)!==null&&m!==void 0?m:C?.RGBA16F_EXT,this.RGB16F=(b=c.RGB16F)!==null&&b!==void 0?b:C?.RGB16F_EXT,c.getExtension("EXT_color_buffer_float")}else{c.getExtension("EXT_color_buffer_half_float"),c.getExtension("OES_texture_half_float_linear");const C=c.getExtension("OES_texture_half_float");this.HALF_FLOAT=C?.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(c,m){return new Ad(this,c,m)}createVertexBuffer(c,m,b){return new Sv(this,c,m,b)}createRenderbuffer(c,m,b){const C=this.gl,I=C.createRenderbuffer();return this.bindRenderbuffer.set(I),C.renderbufferStorage(C.RENDERBUFFER,c,m,b),this.bindRenderbuffer.set(null),I}createFramebuffer(c,m,b,C){return new Dd(this,c,m,b,C)}clear({color:c,depth:m,stencil:b}){const C=this.gl;let I=0;c&&(I|=C.COLOR_BUFFER_BIT,this.clearColor.set(c),this.colorMask.set([!0,!0,!0,!0])),m!==void 0&&(I|=C.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(m),this.depthMask.set(!0)),b!==void 0&&(I|=C.STENCIL_BUFFER_BIT,this.clearStencil.set(b),this.stencilMask.set(255)),C.clear(I)}setCullFace(c){c.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(c.mode),this.frontFace.set(c.frontFace))}setDepthMode(c){c.func!==this.gl.ALWAYS||c.mask?(this.depthTest.set(!0),this.depthFunc.set(c.func),this.depthMask.set(c.mask),this.depthRange.set(c.range)):this.depthTest.set(!1)}setStencilMode(c){c.test.func!==this.gl.ALWAYS||c.mask?(this.stencilTest.set(!0),this.stencilMask.set(c.mask),this.stencilOp.set([c.fail,c.depthFail,c.pass]),this.stencilFunc.set({func:c.test.func,ref:c.ref,mask:c.test.mask})):this.stencilTest.set(!1)}setColorMode(c){s.bR(c.blendFunction,ii.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(c.blendFunction),this.blendColor.set(c.blendColor)),this.colorMask.set(c.mask)}createVertexArray(){var c;return dl(this.gl)?this.gl.createVertexArray():(c=this.gl.getExtension("OES_vertex_array_object"))===null||c===void 0?void 0:c.createVertexArrayOES()}deleteVertexArray(c){var m;return dl(this.gl)?this.gl.deleteVertexArray(c):(m=this.gl.getExtension("OES_vertex_array_object"))===null||m===void 0?void 0:m.deleteVertexArrayOES(c)}unbindVAO(){this.bindVertexArray.set(null)}}let Jo;function ls(P,c,m,b,C){const I=P.context,z=P.transform,V=I.gl,H=P.useProgram("collisionBox"),J=[];let ne=0,he=0;for(let De=0;De<b.length;De++){const je=b[De],He=c.getTile(je).getBucket(m);if(!He)continue;const Fe=C?He.textCollisionBox:He.iconCollisionBox,We=He.collisionCircleArray;We.length>0&&(J.push({circleArray:We,circleOffset:he,coord:je}),ne+=We.length/4,he=ne),Fe&&H.draw(I,V.LINES,ar.disabled,Dr.disabled,P.colorModeForRenderPass(),xr.disabled,bh(P.transform),P.style.map.terrain&&P.style.map.terrain.getTerrainData(je),z.getProjectionData({overscaledTileID:je,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),m.id,Fe.layoutVertexBuffer,Fe.indexBuffer,Fe.segments,null,P.transform.zoom,null,null,Fe.collisionVertexBuffer)}if(!C||!J.length)return;const ue=P.useProgram("collisionCircle"),ye=new s.ca;ye.resize(4*ne),ye._trim();let Se=0;for(const De of J)for(let je=0;je<De.circleArray.length/4;je++){const He=4*je,Fe=De.circleArray[He+0],We=De.circleArray[He+1],Je=De.circleArray[He+2],Ze=De.circleArray[He+3];ye.emplace(Se++,Fe,We,Je,Ze,0),ye.emplace(Se++,Fe,We,Je,Ze,1),ye.emplace(Se++,Fe,We,Je,Ze,2),ye.emplace(Se++,Fe,We,Je,Ze,3)}(!Jo||Jo.length<2*ne)&&(Jo=(function(De){const je=2*De,He=new s.cc;He.resize(je),He._trim();for(let Fe=0;Fe<je;Fe++){const We=6*Fe;He.uint16[We+0]=4*Fe+0,He.uint16[We+1]=4*Fe+1,He.uint16[We+2]=4*Fe+2,He.uint16[We+3]=4*Fe+2,He.uint16[We+4]=4*Fe+3,He.uint16[We+5]=4*Fe+0}return He})(ne));const Ie=I.createIndexBuffer(Jo,!0),Le=I.createVertexBuffer(ye,s.cb.members,!0);for(const De of J){const je=bv(P.transform);ue.draw(I,V.TRIANGLES,ar.disabled,Dr.disabled,P.colorModeForRenderPass(),xr.disabled,je,P.style.map.terrain&&P.style.map.terrain.getTerrainData(De.coord),null,m.id,Le,Ie,s.aX.simpleSegment(0,2*De.circleOffset,De.circleArray.length,De.circleArray.length/2),null,P.transform.zoom,null,null,null)}Le.destroy(),Ie.destroy()}const Ec=s.ar(new Float32Array(16));function Ac(P,c,m,b,C,I){const{horizontalAlign:z,verticalAlign:V}=s.aS(P);return new s.P((-(z-.5)*c/C+b[0])*I,(-(V-.5)*m/C+b[1])*I)}function _a(P,c,m,b,C,I){const z=c.tileAnchorPoint.add(new s.P(c.translation[0],c.translation[1]));if(c.pitchWithMap){let V=b.mult(I);m||(V=V.rotate(-C));const H=z.add(V);return or(H.x,H.y,c.pitchedLabelPlaneMatrix,c.getElevation).point}if(m){const V=Ir(c.tileAnchorPoint.x+1,c.tileAnchorPoint.y,c).point.sub(P),H=Math.atan(V.y/V.x)+(V.x<0?Math.PI:0);return P.add(b.rotate(H))}return P.add(b)}function yu(P,c,m,b,C,I,z,V,H,J,ne,he){const ue=P.text.placedSymbolArray,ye=P.text.dynamicLayoutVertexArray,Se=P.icon.dynamicLayoutVertexArray,Ie={};ye.clear();for(let Le=0;Le<ue.length;Le++){const De=ue.get(Le),je=De.hidden||!De.crossTileID||P.allowVerticalPlacement&&!De.placedOrientation?null:b[De.crossTileID];if(je){const He=new s.P(De.anchorX,De.anchorY),Fe={getElevation:he,width:C.width,height:C.height,pitchedLabelPlaneMatrix:I,pitchWithMap:m,transform:C,tileAnchorPoint:He,translation:J,unwrappedTileID:ne},We=m?Qf(He.x,He.y,Fe):Ir(He.x,He.y,Fe),Je=_d(C.cameraToCenterDistance,We.signedDistanceFromCamera);let Ze=s.aA(P.textSizeData,V,De)*Je/s.aM;m&&(Ze*=P.tilePixelRatio/z);const{width:nt,height:yt,anchor:ht,textOffset:ft,textBoxScale:pt}=je,tn=Ac(ht,nt,yt,ft,pt,Ze),nn=C.getPitchedTextCorrection(He.x+J[0],He.y+J[1],ne),Nt=_a(We.point,Fe,c,tn,-C.bearingInRadians,nn),cn=P.allowVerticalPlacement&&De.placedOrientation===s.az.vertical?Math.PI/2:0;for(let rr=0;rr<De.numGlyphs;rr++)s.aG(ye,Nt,cn);H&&De.associatedIconIndex>=0&&(Ie[De.associatedIconIndex]={shiftedAnchor:Nt,angle:cn})}else Oc(De.numGlyphs,ye)}if(H){Se.clear();const Le=P.icon.placedSymbolArray;for(let De=0;De<Le.length;De++){const je=Le.get(De);if(je.hidden)Oc(je.numGlyphs,Se);else{const He=Ie[De];if(He)for(let Fe=0;Fe<je.numGlyphs;Fe++)s.aG(Se,He.shiftedAnchor,He.angle);else Oc(je.numGlyphs,Se)}}P.icon.dynamicLayoutVertexBuffer.updateData(Se)}P.text.dynamicLayoutVertexBuffer.updateData(ye)}function Ev(P,c,m){return m.iconsInText&&c?"symbolTextAndIcon":P?"symbolSDF":"symbolIcon"}function Ld(P,c,m,b,C,I,z,V,H,J,ne,he,ue){const ye=P.context,Se=ye.gl,Ie=P.transform,Le=V==="map",De=H==="map",je=V!=="viewport"&&m.layout.get("symbol-placement")!=="point",He=Le&&!De&&!je,Fe=!m.layout.get("symbol-sort-key").isConstant();let We=!1;const Je=P.getDepthModeForSublayer(0,ar.ReadOnly),Ze=m._unevaluatedLayout.hasValue("text-variable-anchor")||m._unevaluatedLayout.hasValue("text-variable-anchor-offset"),nt=[],yt=Ie.getCircleRadiusCorrection();for(const ht of b){const ft=c.getTile(ht),pt=ft.getBucket(m);if(!pt)continue;const tn=C?pt.text:pt.icon;if(!tn||!tn.segments.get().length||!tn.hasVisibleVertices)continue;const nn=tn.programConfigurations.get(m.id),Nt=C||pt.sdfIcons,cn=C?pt.textSizeData:pt.iconSizeData,rr=De||Ie.pitch!==0,Xr=P.useProgram(Ev(Nt,C,pt),nn),xi=s.ay(cn,Ie.zoom),fi=P.style.map.terrain&&P.style.map.terrain.getTerrainData(ht);let Mi,oi,Xi,Ri,us=[0,0],co=null;if(C)oi=ft.glyphAtlasTexture,Xi=Se.LINEAR,Mi=ft.glyphAtlasTexture.size,pt.iconsInText&&(us=ft.imageAtlasTexture.size,co=ft.imageAtlasTexture,Ri=rr||P.options.rotating||P.options.zooming||cn.kind==="composite"||cn.kind==="camera"?Se.LINEAR:Se.NEAREST);else{const Jr=m.layout.get("icon-size").constantOr(0)!==1||pt.iconsNeedLinear;oi=ft.imageAtlasTexture,Xi=Nt||P.options.rotating||P.options.zooming||Jr||rr?Se.LINEAR:Se.NEAREST,Mi=ft.imageAtlasTexture.size}const uo=s.aN(ft,1,P.transform.zoom),hs=La(Le,P.transform,uo),Vc=s.N();s.aB(Vc,hs);const Qc=yy(De,Le,P.transform,uo),Jl=s.aO(Ie,ft,I,z),Oa=Ie.getProjectionData({overscaledTileID:ht,applyGlobeMatrix:!ue,applyTerrainMatrix:!0}),Ud=Ze&&pt.hasTextData(),fp=m.layout.get("icon-text-fit")!=="none"&&Ud&&pt.hasIconData();if(je){const Jr=P.style.map.terrain?($o,Uo)=>P.style.map.terrain.getElevation(ht,$o,Uo):null,pi=m.layout.get("text-rotation-alignment")==="map";fu(pt,P,C,hs,Vc,De,J,pi,ht.toUnwrapped(),Ie.width,Ie.height,Jl,Jr)}const ec=C&&Ze||fp,Sa=je||ec?Ec:De?hs:P.transform.clipSpaceToPixelsMatrix,qa=Nt&&m.paint.get(C?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let bl;bl=Nt?pt.iconsInText?pl(cn.kind,xi,He,De,je,ec,P,Sa,Qc,Jl,Mi,us,yt):ky(cn.kind,xi,He,De,je,ec,P,Sa,Qc,Jl,C,Mi,0,yt):jm(cn.kind,xi,He,De,je,ec,P,Sa,Qc,Jl,C,Mi,yt);const wl={program:Xr,buffers:tn,uniformValues:bl,projectionData:Oa,atlasTexture:oi,atlasTextureIcon:co,atlasInterpolation:Xi,atlasInterpolationIcon:Ri,isSDF:Nt,hasHalo:qa};if(Fe&&pt.canOverlap){We=!0;const Jr=tn.segments.get();for(const pi of Jr)nt.push({segments:new s.aX([pi]),sortKey:pi.sortKey,state:wl,terrainData:fi})}else nt.push({segments:tn.segments,sortKey:0,state:wl,terrainData:fi})}We&&nt.sort(((ht,ft)=>ht.sortKey-ft.sortKey));for(const ht of nt){const ft=ht.state;if(ye.activeTexture.set(Se.TEXTURE0),ft.atlasTexture.bind(ft.atlasInterpolation,Se.CLAMP_TO_EDGE),ft.atlasTextureIcon&&(ye.activeTexture.set(Se.TEXTURE1),ft.atlasTextureIcon&&ft.atlasTextureIcon.bind(ft.atlasInterpolationIcon,Se.CLAMP_TO_EDGE)),ft.isSDF){const pt=ft.uniformValues;ft.hasHalo&&(pt.u_is_halo=1,ip(ft.buffers,ht.segments,m,P,ft.program,Je,ne,he,pt,ft.projectionData,ht.terrainData)),pt.u_is_halo=0}ip(ft.buffers,ht.segments,m,P,ft.program,Je,ne,he,ft.uniformValues,ft.projectionData,ht.terrainData)}}function ip(P,c,m,b,C,I,z,V,H,J,ne){const he=b.context;C.draw(he,he.gl.TRIANGLES,I,z,V,xr.backCCW,H,ne,J,m.id,P.layoutVertexBuffer,P.indexBuffer,c,m.paint,b.transform.zoom,P.programConfigurations.get(m.id),P.dynamicLayoutVertexBuffer,P.opacityVertexBuffer)}function Av(P,c,m,b,C){const I=P.context,z=I.gl,V=Dr.disabled,H=new ii([z.ONE,z.ONE],s.bp.transparent,[!0,!0,!0,!0]),J=c.getBucket(m);if(!J)return;const ne=b.key;let he=m.heatmapFbos.get(ne);he||(he=di(I,c.tileSize,c.tileSize),m.heatmapFbos.set(ne,he)),I.bindFramebuffer.set(he.framebuffer),I.viewport.set([0,0,c.tileSize,c.tileSize]),I.clear({color:s.bp.transparent});const ue=J.programConfigurations.get(m.id),ye=P.useProgram("heatmap",ue,!C),Se=P.transform.getProjectionData({overscaledTileID:c.tileID,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),Ie=P.style.map.terrain.getTerrainData(b);ye.draw(I,z.TRIANGLES,ar.disabled,V,H,xr.disabled,wh(c,P.transform.zoom,m.paint.get("heatmap-intensity"),1),Ie,Se,m.id,J.layoutVertexBuffer,J.indexBuffer,J.segments,m.paint,P.transform.zoom,ue)}function cs(P,c,m,b,C){const I=P.context,z=I.gl,V=P.transform;I.setColorMode(P.colorModeForRenderPass());const H=Er(I,c),J=m.key,ne=c.heatmapFbos.get(J);if(!ne)return;I.activeTexture.set(z.TEXTURE0),z.bindTexture(z.TEXTURE_2D,ne.colorAttachment.get()),I.activeTexture.set(z.TEXTURE1),H.bind(z.LINEAR,z.CLAMP_TO_EDGE);const he=V.getProjectionData({overscaledTileID:m,applyTerrainMatrix:C,applyGlobeMatrix:!b});P.useProgram("heatmapTexture").draw(I,z.TRIANGLES,ar.disabled,Dr.disabled,P.colorModeForRenderPass(),xr.disabled,wv(P,c,0,1),null,he,c.id,P.rasterBoundsBuffer,P.quadTriangleIndexBuffer,P.rasterBoundsSegments,c.paint,V.zoom),ne.destroy(),c.heatmapFbos.delete(J)}function di(P,c,m){var b,C;const I=P.gl,z=I.createTexture();I.bindTexture(I.TEXTURE_2D,z),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_S,I.CLAMP_TO_EDGE),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_T,I.CLAMP_TO_EDGE),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MIN_FILTER,I.LINEAR),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MAG_FILTER,I.LINEAR);const V=(b=P.HALF_FLOAT)!==null&&b!==void 0?b:I.UNSIGNED_BYTE,H=(C=P.RGBA16F)!==null&&C!==void 0?C:I.RGBA;I.texImage2D(I.TEXTURE_2D,0,H,c,m,0,I.RGBA,V,null);const J=P.createFramebuffer(c,m,!1,!1);return J.colorAttachment.set(z),J}function Er(P,c){return c.colorRampTexture||(c.colorRampTexture=new s.T(P,c.colorRamp,P.gl.RGBA)),c.colorRampTexture}function vu(P,c,m,b,C,I,z,V){let H=256;if(C.stepInterpolant){const J=c.getSource().maxzoom,ne=z.canonical.z===J?Math.ceil(1<<P.transform.maxZoom-z.canonical.z):1;H=s.an(s.ce(I.maxLineLength/s.a5*1024*ne),256,m.maxTextureSize)}return V.gradient=s.cf({expression:C.gradientExpression(),evaluationKey:"lineProgress",resolution:H,image:V.gradient||void 0,clips:I.lineClipsArray}),V.texture?V.texture.update(V.gradient):V.texture=new s.T(m,V.gradient,b.RGBA),V.version=C.gradientVersion,V.texture}function Va(P,c,m,b,C){P.activeTexture.set(c.TEXTURE0),m.imageAtlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE),b.updatePaintBuffers(C)}function Hi(P,c,m,b,C,I){(C||P.lineAtlas.dirty)&&(c.activeTexture.set(m.TEXTURE0),P.lineAtlas.bind(c)),b.updatePaintBuffers(I)}function xa(P,c,m,b,C,I,z){const V=I.gradients[C.id];let H=V.texture;C.gradientVersion!==V.version&&(H=vu(P,c,m,b,C,I,z,V)),m.activeTexture.set(b.TEXTURE0),H.bind(C.stepInterpolant?b.NEAREST:b.LINEAR,b.CLAMP_TO_EDGE)}function ba(P,c,m,b,C,I,z,V,H){const J=I.gradients[C.id];let ne=J.texture;C.gradientVersion!==J.version&&(ne=vu(P,c,m,b,C,I,z,J)),m.activeTexture.set(b.TEXTURE0),ne.bind(C.stepInterpolant?b.NEAREST:b.LINEAR,b.CLAMP_TO_EDGE),m.activeTexture.set(b.TEXTURE1),P.lineAtlas.bind(m),V.updatePaintBuffers(H)}function Hm(P,c,m,b,C){if(!m||!b||!b.imageAtlas)return;const I=b.imageAtlas.patternPositions;let z=I[m.to.toString()],V=I[m.from.toString()];if(!z&&V&&(z=V),!V&&z&&(V=z),!z||!V){const H=C.getPaintProperty(c);z=I[H],V=I[H]}z&&V&&P.setConstantPatternPositions(z,V)}function Pc(P,c,m,b,C,I,z,V){const H=P.context.gl,J="fill-pattern",ne=m.paint.get(J),he=ne&&ne.constantOr(1),ue=m.getCrossfadeParameters();let ye,Se,Ie,Le,De;const je=P.transform,He=m.paint.get("fill-translate"),Fe=m.paint.get("fill-translate-anchor");z?(Se=he&&!m.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ye=H.LINES):(Se=he?"fillPattern":"fill",ye=H.TRIANGLES);const We=ne.constantOr(null);for(const Je of b){const Ze=c.getTile(Je);if(he&&!Ze.patternsLoaded())continue;const nt=Ze.getBucket(m);if(!nt)continue;const yt=nt.programConfigurations.get(m.id),ht=P.useProgram(Se,yt),ft=P.style.map.terrain&&P.style.map.terrain.getTerrainData(Je);he&&(P.context.activeTexture.set(H.TEXTURE0),Ze.imageAtlasTexture.bind(H.LINEAR,H.CLAMP_TO_EDGE),yt.updatePaintBuffers(ue)),Hm(yt,J,We,Ze,m);const pt=je.getProjectionData({overscaledTileID:Je,applyGlobeMatrix:!V,applyTerrainMatrix:!0}),tn=s.aO(je,Ze,He,Fe);if(z){Le=nt.indexBuffer2,De=nt.segments2;const Nt=[H.drawingBufferWidth,H.drawingBufferHeight];Ie=Se==="fillOutlinePattern"&&he?ab(P,ue,Ze,Nt,tn):ep(Nt,tn)}else Le=nt.indexBuffer,De=nt.segments,Ie=he?Ed(P,ue,Ze,tn):{u_fill_translate:tn};const nn=P.stencilModeForClipping(Je);ht.draw(P.context,ye,C,nn,I,xr.backCCW,Ie,ft,pt,m.id,nt.layoutVertexBuffer,Le,De,m.paint,P.transform.zoom,yt)}}function Mc(P,c,m,b,C,I,z,V){const H=P.context,J=H.gl,ne="fill-extrusion-pattern",he=m.paint.get(ne),ue=he.constantOr(1),ye=m.getCrossfadeParameters(),Se=m.paint.get("fill-extrusion-opacity"),Ie=he.constantOr(null),Le=P.transform;for(const De of b){const je=c.getTile(De),He=je.getBucket(m);if(!He)continue;const Fe=P.style.map.terrain&&P.style.map.terrain.getTerrainData(De),We=He.programConfigurations.get(m.id),Je=P.useProgram(ue?"fillExtrusionPattern":"fillExtrusion",We);ue&&(P.context.activeTexture.set(J.TEXTURE0),je.imageAtlasTexture.bind(J.LINEAR,J.CLAMP_TO_EDGE),We.updatePaintBuffers(ye));const Ze=Le.getProjectionData({overscaledTileID:De,applyGlobeMatrix:!V,applyTerrainMatrix:!0});Hm(We,ne,Ie,je,m);const nt=s.aO(Le,je,m.paint.get("fill-extrusion-translate"),m.paint.get("fill-extrusion-translate-anchor")),yt=m.paint.get("fill-extrusion-vertical-gradient"),ht=ue?Sy(P,yt,Se,nt,De,ye,je):Oy(P,yt,Se,nt);Je.draw(H,H.gl.TRIANGLES,C,I,z,xr.backCCW,ht,Fe,Ze,m.id,He.layoutVertexBuffer,He.indexBuffer,He.segments,m.paint,P.transform.zoom,We,P.style.map.terrain&&He.centroidVertexBuffer)}}function Rc(P,c,m,b,C,I,z,V,H){var J;const ne=P.style.projection,he=P.context,ue=P.transform,ye=he.gl,Se=[`#define NUM_ILLUMINATION_SOURCES ${m.paint.get("hillshade-highlight-color").values.length}`],Ie=P.useProgram("hillshade",null,!1,Se),Le=!P.options.moving;for(const De of b){const je=c.getTile(De),He=je.fbo;if(!He)continue;const Fe=ne.getMeshFromTileID(he,De.canonical,V,!0,"raster"),We=(J=P.style.map.terrain)===null||J===void 0?void 0:J.getTerrainData(De);he.activeTexture.set(ye.TEXTURE0),ye.bindTexture(ye.TEXTURE_2D,He.colorAttachment.get());const Je=ue.getProjectionData({overscaledTileID:De,aligned:Le,applyGlobeMatrix:!H,applyTerrainMatrix:!0});Ie.draw(he,ye.TRIANGLES,I,C[De.overscaledZ],z,xr.backCCW,Nm(P,je,m),We,Je,m.id,Fe.vertexBuffer,Fe.indexBuffer,Fe.segments)}}function _u(P,c,m,b,C,I,z,V,H){var J;const ne=P.style.projection,he=P.context,ue=P.transform,ye=he.gl,Se=P.useProgram("colorRelief"),Ie=!P.options.moving;let Le=!0,De=0;for(const je of b){const He=c.getTile(je),Fe=He.dem;if(Le){const ht=ye.getParameter(ye.MAX_TEXTURE_SIZE),{elevationTexture:ft,colorTexture:pt}=m.getColorRampTextures(he,ht,Fe.getUnpackVector());he.activeTexture.set(ye.TEXTURE1),ft.bind(ye.NEAREST,ye.CLAMP_TO_EDGE),he.activeTexture.set(ye.TEXTURE4),pt.bind(ye.LINEAR,ye.CLAMP_TO_EDGE),Le=!1,De=ft.size[0]}if(!Fe||!Fe.data)continue;const We=Fe.stride,Je=Fe.getPixels();if(he.activeTexture.set(ye.TEXTURE0),he.pixelStoreUnpackPremultiplyAlpha.set(!1),He.demTexture=He.demTexture||P.getTileTexture(We),He.demTexture){const ht=He.demTexture;ht.update(Je,{premultiply:!1}),ht.bind(ye.LINEAR,ye.CLAMP_TO_EDGE)}else He.demTexture=new s.T(he,Je,ye.RGBA,{premultiply:!1}),He.demTexture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE);const Ze=ne.getMeshFromTileID(he,je.canonical,V,!0,"raster"),nt=(J=P.style.map.terrain)===null||J===void 0?void 0:J.getTerrainData(je),yt=ue.getProjectionData({overscaledTileID:je,aligned:Ie,applyGlobeMatrix:!H,applyTerrainMatrix:!0});Se.draw(he,ye.TRIANGLES,I,C[je.overscaledZ],z,xr.backCCW,cb(m,He.dem,De),nt,yt,m.id,Ze.vertexBuffer,Ze.indexBuffer,Ze.segments)}}const xu=[new s.P(0,0),new s.P(s.a5,0),new s.P(s.a5,s.a5),new s.P(0,s.a5)];function gl(P,c,m,b,C,I,z,V,H=!1,J=!1){const ne=b[b.length-1].overscaledZ,he=P.context,ue=he.gl,ye=P.useProgram("raster"),Se=P.transform,Ie=P.style.projection,Le=P.colorModeForRenderPass(),De=!P.options.moving,je=m.paint.get("raster-opacity"),He=m.paint.get("raster-resampling"),Fe=m.paint.get("raster-fade-duration"),We=!!P.style.map.terrain;for(const Je of b){const Ze=P.getDepthModeForSublayer(Je.overscaledZ-ne,je===1?ar.ReadWrite:ar.ReadOnly,ue.LESS),nt=c.getTile(Je),yt=He==="nearest"?ue.NEAREST:ue.LINEAR;he.activeTexture.set(ue.TEXTURE0),nt.texture.bind(yt,ue.CLAMP_TO_EDGE,ue.LINEAR_MIPMAP_NEAREST),he.activeTexture.set(ue.TEXTURE1);const{parentTile:ht,parentScaleBy:ft,parentTopLeft:pt,fadeValues:tn}=Ic(nt,c,Fe,We);nt.fadeOpacity=tn.tileOpacity,ht?(ht.fadeOpacity=tn.parentTileOpacity,ht.texture.bind(yt,ue.CLAMP_TO_EDGE,ue.LINEAR_MIPMAP_NEAREST)):nt.texture.bind(yt,ue.CLAMP_TO_EDGE,ue.LINEAR_MIPMAP_NEAREST),nt.texture.useMipmap&&he.extTextureFilterAnisotropic&&P.transform.pitch>20&&ue.texParameterf(ue.TEXTURE_2D,he.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,he.extTextureFilterAnisotropicMax);const nn=P.style.map.terrain&&P.style.map.terrain.getTerrainData(Je),Nt=Se.getProjectionData({overscaledTileID:Je,aligned:De,applyGlobeMatrix:!J,applyTerrainMatrix:!0}),cn=Cy(pt,ft,tn.fadeMix,m,V),rr=Ie.getMeshFromTileID(he,Je.canonical,I,z,"raster");ye.draw(he,ue.TRIANGLES,Ze,C?C[Je.overscaledZ]:Dr.disabled,Le,H?xr.frontCCW:xr.backCCW,cn,nn,Nt,m.id,rr.vertexBuffer,rr.indexBuffer,rr.segments)}}function Ic(P,c,m,b){const C={parentTile:null,parentScaleBy:1,parentTopLeft:[0,0],fadeValues:{tileOpacity:1,parentTileOpacity:1,fadeMix:{opacity:1,mix:0}}};if(m===0||b)return C;if(P.fadingParentID){const I=c.getLoadedTile(P.fadingParentID);if(!I)return C;const z=Math.pow(2,I.tileID.overscaledZ-P.tileID.overscaledZ),V=[P.tileID.canonical.x*z%1,P.tileID.canonical.y*z%1],H=(function(J,ne,he){const ue=A(),ye=(ue-ne.timeAdded)/he,Se=J.fadingDirection===at.Incoming,Ie=s.an((ue-J.timeAdded)/he,0,1),Le=s.an(1-ye,0,1),De=Se?Ie:Le;return{tileOpacity:De,parentTileOpacity:Se?Le:Ie,fadeMix:{opacity:1,mix:1-De}}})(P,I,m);return{parentTile:I,parentScaleBy:z,parentTopLeft:V,fadeValues:H}}if(P.selfFading){const I=(function(z,V){const H=(A()-z.timeAdded)/V,J=s.an(H,0,1);return{tileOpacity:J,fadeMix:{opacity:J,mix:0}}})(P,m);return{parentTile:null,parentScaleBy:1,parentTopLeft:[0,0],fadeValues:I}}return C}const bu=new s.bp(1,0,0,1),Dc=new s.bp(0,1,0,1),Ly=new s.bp(0,0,1,1),$y=new s.bp(1,0,1,1),Qa=new s.bp(0,1,1,1);function op(P,c,m,b){Lo(P,0,c+m/2,P.transform.width,m,b)}function wu(P,c,m,b){Lo(P,c-m/2,0,m,P.transform.height,b)}function Lo(P,c,m,b,C,I){const z=P.context,V=z.gl;V.enable(V.SCISSOR_TEST),V.scissor(c*P.pixelRatio,m*P.pixelRatio,b*P.pixelRatio,C*P.pixelRatio),z.clear({color:I}),V.disable(V.SCISSOR_TEST)}function Gm(P,c,m){const b=P.context,C=b.gl,I=P.useProgram("debug"),z=ar.disabled,V=Dr.disabled,H=P.colorModeForRenderPass(),J="$debug",ne=P.style.map.terrain&&P.style.map.terrain.getTerrainData(m);b.activeTexture.set(C.TEXTURE0);const he=c.getTileByID(m.key).latestRawTileData,ue=Math.floor((he&&he.byteLength||0)/1024),ye=c.getTile(m).tileSize,Se=512/Math.min(ye,512)*(m.overscaledZ/P.transform.zoom)*.5;let Ie=m.canonical.toString();m.overscaledZ!==m.canonical.z&&(Ie+=` => ${m.overscaledZ}`),(function(De,je){De.initDebugOverlayCanvas();const He=De.debugOverlayCanvas,Fe=De.context.gl,We=De.debugOverlayCanvas.getContext("2d");We.clearRect(0,0,He.width,He.height),We.shadowColor="white",We.shadowBlur=2,We.lineWidth=1.5,We.strokeStyle="white",We.textBaseline="top",We.font="bold 36px Open Sans, sans-serif",We.fillText(je,5,5),We.strokeText(je,5,5),De.debugOverlayTexture.update(He),De.debugOverlayTexture.bind(Fe.LINEAR,Fe.CLAMP_TO_EDGE)})(P,`${Ie} ${ue}kB`);const Le=P.transform.getProjectionData({overscaledTileID:m,applyGlobeMatrix:!0,applyTerrainMatrix:!0});I.draw(b,C.TRIANGLES,z,V,ii.alphaBlended,xr.disabled,zm(s.bp.transparent,Se),null,Le,J,P.debugBuffer,P.quadTriangleIndexBuffer,P.debugSegments),I.draw(b,C.LINE_STRIP,z,V,H,xr.disabled,zm(s.bp.red),ne,Le,J,P.debugBuffer,P.tileBorderIndexBuffer,P.debugSegments)}function zy(P,c,m,b){const{isRenderingGlobe:C}=b,I=P.context,z=I.gl,V=P.transform,H=P.colorModeForRenderPass(),J=P.getDepthModeFor3D(),ne=P.useProgram("terrain");I.bindFramebuffer.set(null),I.viewport.set([0,0,P.width,P.height]);for(const he of m){const ue=c.getTerrainMesh(he.tileID),ye=P.renderToTexture.getTexture(he),Se=c.getTerrainData(he.tileID);I.activeTexture.set(z.TEXTURE0),z.bindTexture(z.TEXTURE_2D,ye.texture);const Ie=c.getMeshFrameDelta(V.zoom),Le=V.calculateFogMatrix(he.tileID.toUnwrapped()),De=ib(Ie,Le,P.style.sky,V.pitch,C),je=V.getProjectionData({overscaledTileID:he.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});ne.draw(I,z.TRIANGLES,J,Dr.disabled,H,xr.backCCW,De,Se,je,"terrain",ue.vertexBuffer,ue.indexBuffer,ue.segments)}}function Pv(P,c){if(!c.mesh){const m=new s.aW;m.emplaceBack(-1,-1),m.emplaceBack(1,-1),m.emplaceBack(1,1),m.emplaceBack(-1,1);const b=new s.aY;b.emplaceBack(0,1,2),b.emplaceBack(0,2,3),c.mesh=new hi(P.createVertexBuffer(m,hl.members),P.createIndexBuffer(b),s.aX.simpleSegment(0,0,m.length,b.length))}return c.mesh}class fb{constructor(c,m){this.context=new Ah(c),this.transform=m,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:s.ar(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=_i.maxOverzooming+_i.maxUnderzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Yo}resize(c,m,b){if(this.width=Math.floor(c*b),this.height=Math.floor(m*b),this.pixelRatio=b,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const C of this.style._order)this.style._layers[C].resize()}setup(){const c=this.context,m=new s.aW;m.emplaceBack(0,0),m.emplaceBack(s.a5,0),m.emplaceBack(0,s.a5),m.emplaceBack(s.a5,s.a5),this.tileExtentBuffer=c.createVertexBuffer(m,hl.members),this.tileExtentSegments=s.aX.simpleSegment(0,0,4,2);const b=new s.aW;b.emplaceBack(0,0),b.emplaceBack(s.a5,0),b.emplaceBack(0,s.a5),b.emplaceBack(s.a5,s.a5),this.debugBuffer=c.createVertexBuffer(b,hl.members),this.debugSegments=s.aX.simpleSegment(0,0,4,5);const C=new s.ch;C.emplaceBack(0,0,0,0),C.emplaceBack(s.a5,0,s.a5,0),C.emplaceBack(0,s.a5,0,s.a5),C.emplaceBack(s.a5,s.a5,s.a5,s.a5),this.rasterBoundsBuffer=c.createVertexBuffer(C,rb.members),this.rasterBoundsSegments=s.aX.simpleSegment(0,0,4,2);const I=new s.aW;I.emplaceBack(0,0),I.emplaceBack(s.a5,0),I.emplaceBack(0,s.a5),I.emplaceBack(s.a5,s.a5),this.rasterBoundsBufferPosOnly=c.createVertexBuffer(I,hl.members),this.rasterBoundsSegmentsPosOnly=s.aX.simpleSegment(0,0,4,5);const z=new s.aW;z.emplaceBack(0,0),z.emplaceBack(1,0),z.emplaceBack(0,1),z.emplaceBack(1,1),this.viewportBuffer=c.createVertexBuffer(z,hl.members),this.viewportSegments=s.aX.simpleSegment(0,0,4,2);const V=new s.ci;V.emplaceBack(0),V.emplaceBack(1),V.emplaceBack(3),V.emplaceBack(2),V.emplaceBack(0),this.tileBorderIndexBuffer=c.createIndexBuffer(V);const H=new s.aY;H.emplaceBack(1,0,2),H.emplaceBack(1,2,3),this.quadTriangleIndexBuffer=c.createIndexBuffer(H);const J=this.context.gl;this.stencilClearMode=new Dr({func:J.ALWAYS,mask:0},0,255,J.ZERO,J.ZERO,J.ZERO),this.tileExtentMesh=new hi(this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}clearStencil(){const c=this.context,m=c.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const b=s.N();s.c7(b,0,this.width,this.height,0,0,1),s.Q(b,b,[m.drawingBufferWidth,m.drawingBufferHeight,0]);const C={mainMatrix:b,tileMercatorCoords:[0,0,1,1],clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:b};this.useProgram("clippingMask",null,!0).draw(c,m.TRIANGLES,ar.disabled,this.stencilClearMode,ii.disabled,xr.disabled,null,null,C,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(c,m,b){if(this.currentStencilSource===c.source||!c.isTileClipped()||!m||!m.length)return;this.currentStencilSource=c.source,this.nextStencilID+m.length>256&&this.clearStencil();const C=this.context;C.setColorMode(ii.disabled),C.setDepthMode(ar.disabled);const I={};for(const z of m)I[z.key]=this.nextStencilID++;this._renderTileMasks(I,m,b,!0),this._renderTileMasks(I,m,b,!1),this._tileClippingMaskIDs=I}_renderTileMasks(c,m,b,C){const I=this.context,z=I.gl,V=this.style.projection,H=this.transform,J=this.useProgram("clippingMask");for(const ne of m){const he=c[ne.key],ue=this.style.map.terrain&&this.style.map.terrain.getTerrainData(ne),ye=V.getMeshFromTileID(this.context,ne.canonical,C,!0,"stencil"),Se=H.getProjectionData({overscaledTileID:ne,applyGlobeMatrix:!b,applyTerrainMatrix:!0});J.draw(I,z.TRIANGLES,ar.disabled,new Dr({func:z.ALWAYS,mask:0},he,255,z.KEEP,z.KEEP,z.REPLACE),ii.disabled,b?xr.disabled:xr.backCCW,null,ue,Se,"$clipping",ye.vertexBuffer,ye.indexBuffer,ye.segments)}}_renderTilesDepthBuffer(){const c=this.context,m=c.gl,b=this.style.projection,C=this.transform,I=this.useProgram("depth"),z=this.getDepthModeFor3D(),V=io(C,{tileSize:C.tileSize});for(const H of V){const J=this.style.map.terrain&&this.style.map.terrain.getTerrainData(H),ne=b.getMeshFromTileID(this.context,H.canonical,!0,!0,"raster"),he=C.getProjectionData({overscaledTileID:H,applyGlobeMatrix:!0,applyTerrainMatrix:!0});I.draw(c,m.TRIANGLES,z,Dr.disabled,ii.disabled,xr.backCCW,null,J,he,"$clipping",ne.vertexBuffer,ne.indexBuffer,ne.segments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const c=this.nextStencilID++,m=this.context.gl;return new Dr({func:m.NOTEQUAL,mask:255},c,255,m.KEEP,m.KEEP,m.REPLACE)}stencilModeForClipping(c){const m=this.context.gl;return new Dr({func:m.EQUAL,mask:255},this._tileClippingMaskIDs[c.key],0,m.KEEP,m.KEEP,m.REPLACE)}getStencilConfigForOverlapAndUpdateStencilID(c){const m=this.context.gl,b=c.sort(((z,V)=>V.overscaledZ-z.overscaledZ)),C=b[b.length-1].overscaledZ,I=b[0].overscaledZ-C+1;if(I>1){this.currentStencilSource=void 0,this.nextStencilID+I>256&&this.clearStencil();const z={};for(let V=0;V<I;V++)z[V+C]=new Dr({func:m.GEQUAL,mask:255},V+this.nextStencilID,255,m.KEEP,m.KEEP,m.REPLACE);return this.nextStencilID+=I,[z,b]}return[{[C]:Dr.disabled},b]}stencilConfigForOverlapTwoPass(c){const m=this.context.gl,b=c.sort(((z,V)=>V.overscaledZ-z.overscaledZ)),C=b[b.length-1].overscaledZ,I=b[0].overscaledZ-C+1;if(this.clearStencil(),I>1){const z={},V={};for(let H=0;H<I;H++)z[H+C]=new Dr({func:m.GREATER,mask:255},I+1+H,255,m.KEEP,m.KEEP,m.REPLACE),V[H+C]=new Dr({func:m.GREATER,mask:255},1+H,255,m.KEEP,m.KEEP,m.REPLACE);return this.nextStencilID=2*I+1,[z,V,b]}return this.nextStencilID=3,[{[C]:new Dr({func:m.GREATER,mask:255},2,255,m.KEEP,m.KEEP,m.REPLACE)},{[C]:new Dr({func:m.GREATER,mask:255},1,255,m.KEEP,m.KEEP,m.REPLACE)},b]}colorModeForRenderPass(){const c=this.context.gl;return this._showOverdrawInspector?new ii([c.CONSTANT_COLOR,c.ONE],new s.bp(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?ii.unblended:ii.alphaBlended}getDepthModeForSublayer(c,m,b){if(!this.opaquePassEnabledForLayer())return ar.disabled;const C=1-((1+this.currentLayer)*this.numSublayers+c)*this.depthEpsilon;return new ar(b||this.context.gl.LEQUAL,m,[C,C])}getDepthModeFor3D(){return new ar(this.context.gl.LEQUAL,ar.ReadWrite,this.depthRangeFor3D)}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(c,m){var b,C;this.style=c,this.options=m,this.lineAtlas=c.lineAtlas,this.imageManager=c.imageManager,this.glyphManager=c.glyphManager,this.symbolFadeChange=c.placement.symbolFadeChange(A()),this.imageManager.beginFrame();const I=this.style._order,z=this.style.tileManagers,V={},H={},J={},ne={isRenderingToTexture:!1,isRenderingGlobe:((b=c.projection)===null||b===void 0?void 0:b.transitionState)>0};for(const ue in z){const ye=z[ue];ye.used&&ye.prepare(this.context),V[ue]=ye.getVisibleCoordinates(!1),H[ue]=V[ue].slice().reverse(),J[ue]=ye.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let ue=0;ue<I.length;ue++)if(this.style._layers[I[ue]].is3D()){this.opaquePassCutoff=ue;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const ue of I){const ye=this.style._layers[ue];if(!ye.hasOffscreenPass()||ye.isHidden(this.transform.zoom))continue;const Se=H[ye.source];(ye.type==="custom"||Se.length)&&this.renderLayer(this,z[ye.source],ye,Se,ne)}if((C=this.style.projection)===null||C===void 0||C.updateGPUdependent({context:this.context,useProgram:ue=>this.useProgram(ue)}),this.context.viewport.set([0,0,this.width,this.height]),this.context.bindFramebuffer.set(null),this.context.clear({color:m.showOverdrawInspector?s.bp.black:s.bp.transparent,depth:1}),this.clearStencil(),this.style.sky&&(function(ue,ye){const Se=ue.context,Ie=Se.gl,Le=((Je,Ze,nt)=>{const yt=Math.cos(Ze.rollInRadians),ht=Math.sin(Ze.rollInRadians),ft=Ar(Ze),pt=Ze.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}).projectionTransition;return{u_sky_color:Je.properties.get("sky-color"),u_horizon_color:Je.properties.get("horizon-color"),u_horizon:[(Ze.width/2-ft*ht)*nt,(Ze.height/2+ft*yt)*nt],u_horizon_normal:[-ht,yt],u_sky_horizon_blend:Je.properties.get("sky-horizon-blend")*Ze.height/2*nt,u_sky_blend:pt}})(ye,ue.style.map.transform,ue.pixelRatio),De=new ar(Ie.LEQUAL,ar.ReadWrite,[0,1]),je=Dr.disabled,He=ue.colorModeForRenderPass(),Fe=ue.useProgram("sky"),We=Pv(Se,ye);Fe.draw(Se,Ie.TRIANGLES,De,je,He,xr.disabled,Le,null,void 0,"sky",We.vertexBuffer,We.indexBuffer,We.segments)})(this,this.style.sky),this._showOverdrawInspector=m.showOverdrawInspector,this.depthRangeFor3D=[0,1-(c._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=I.length-1;this.currentLayer>=0;this.currentLayer--){const ue=this.style._layers[I[this.currentLayer]],ye=z[ue.source],Se=V[ue.source];this._renderTileClippingMasks(ue,Se,!1),this.renderLayer(this,ye,ue,Se,ne)}this.renderPass="translucent";let he=!1;for(this.currentLayer=0;this.currentLayer<I.length;this.currentLayer++){const ue=this.style._layers[I[this.currentLayer]],ye=z[ue.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(ue,ne))continue;this.opaquePassEnabledForLayer()||he||(he=!0,ne.isRenderingGlobe&&!this.style.map.terrain&&this._renderTilesDepthBuffer());const Se=(ue.type==="symbol"?J:H)[ue.source];this._renderTileClippingMasks(ue,V[ue.source],!!this.renderToTexture),this.renderLayer(this,ye,ue,Se,ne)}if(ne.isRenderingGlobe&&(function(ue,ye,Se){const Ie=ue.context,Le=Ie.gl,De=ue.useProgram("atmosphere"),je=new ar(Le.LEQUAL,ar.ReadOnly,[0,1]),He=ue.transform,Fe=(function(pt,tn){const nn=pt.properties.get("position"),Nt=[-nn.x,-nn.y,-nn.z],cn=s.ar(new Float64Array(16));return pt.properties.get("anchor")==="map"&&(s.bg(cn,cn,tn.rollInRadians),s.bh(cn,cn,-tn.pitchInRadians),s.bg(cn,cn,tn.bearingInRadians),s.bh(cn,cn,tn.center.lat*Math.PI/180),s.bJ(cn,cn,-tn.center.lng*Math.PI/180)),s.cg(Nt,Nt,cn),Nt})(Se,ue.transform),We=He.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),Je=ye.properties.get("atmosphere-blend")*We.projectionTransition;if(Je===0)return;const Ze=kd(He.worldSize,He.center.lat),nt=He.inverseProjectionMatrix,yt=new Float64Array(4);yt[3]=1,s.aH(yt,yt,He.modelViewProjectionMatrix),yt[0]/=yt[3],yt[1]/=yt[3],yt[2]/=yt[3],yt[3]=1,s.aH(yt,yt,nt),yt[0]/=yt[3],yt[1]/=yt[3],yt[2]/=yt[3],yt[3]=1;const ht=((pt,tn,nn,Nt,cn)=>({u_sun_pos:pt,u_atmosphere_blend:tn,u_globe_position:nn,u_globe_radius:Nt,u_inv_proj_matrix:cn}))(Fe,Je,[yt[0],yt[1],yt[2]],Ze,nt),ft=Pv(Ie,ye);De.draw(Ie,Le.TRIANGLES,je,Dr.disabled,ii.alphaBlended,xr.disabled,ht,null,null,"atmosphere",ft.vertexBuffer,ft.indexBuffer,ft.segments)})(this,this.style.sky,this.style.light),this.options.showTileBoundaries){const ue=(function(ye,Se){let Ie=null;const Le=Object.values(ye._layers).flatMap((Fe=>Fe.source&&!Fe.isHidden(Se)?[ye.tileManagers[Fe.source]]:[])),De=Le.filter((Fe=>Fe.getSource().type==="vector")),je=Le.filter((Fe=>Fe.getSource().type!=="vector")),He=Fe=>{(!Ie||Ie.getSource().maxzoom<Fe.getSource().maxzoom)&&(Ie=Fe)};return De.forEach((Fe=>He(Fe))),Ie||je.forEach((Fe=>He(Fe))),Ie})(this.style,this.transform.zoom);ue&&(function(ye,Se,Ie){for(let Le=0;Le<Ie.length;Le++)Gm(ye,Se,Ie[Le])})(this,ue,ue.getVisibleCoordinates())}this.options.showPadding&&(function(ue){const ye=ue.transform.padding;op(ue,ue.transform.height-(ye.top||0),3,bu),op(ue,ye.bottom||0,3,Dc),wu(ue,ye.left||0,3,Ly),wu(ue,ue.transform.width-(ye.right||0),3,$y);const Se=ue.transform.centerPoint;(function(Ie,Le,De,je){Lo(Ie,Le-1,De-10,2,20,je),Lo(Ie,Le-10,De-1,20,2,je)})(ue,Se.x,ue.transform.height-Se.y,Qa)})(this),this.context.setDefault()}maybeDrawDepthAndCoords(c){if(!this.style||!this.style.map||!this.style.map.terrain)return;const m=this.terrainFacilitator.matrix,b=this.transform.modelViewProjectionMatrix;let C=this.terrainFacilitator.dirty;C||(C=c?!s.cj(m,b):!s.ck(m,b)),C||(C=this.style.map.terrain.tileManager.anyTilesAfterTime(this.terrainFacilitator.renderTime)),C&&(s.cl(m,b),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,(function(I,z){const V=I.context,H=V.gl,J=I.transform,ne=ii.unblended,he=new ar(H.LEQUAL,ar.ReadWrite,[0,1]),ue=z.tileManager.getRenderableTiles(),ye=I.useProgram("terrainDepth");V.bindFramebuffer.set(z.getFramebuffer("depth").framebuffer),V.viewport.set([0,0,I.width/devicePixelRatio,I.height/devicePixelRatio]),V.clear({color:s.bp.transparent,depth:1});for(const Se of ue){const Ie=z.getTerrainMesh(Se.tileID),Le=z.getTerrainData(Se.tileID),De=J.getProjectionData({overscaledTileID:Se.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0}),je={u_ele_delta:z.getMeshFrameDelta(J.zoom)};ye.draw(V,H.TRIANGLES,he,Dr.disabled,ne,xr.backCCW,je,Le,De,"terrain",Ie.vertexBuffer,Ie.indexBuffer,Ie.segments)}V.bindFramebuffer.set(null),V.viewport.set([0,0,I.width,I.height])})(this,this.style.map.terrain),(function(I,z){const V=I.context,H=V.gl,J=I.transform,ne=ii.unblended,he=new ar(H.LEQUAL,ar.ReadWrite,[0,1]),ue=z.getCoordsTexture(),ye=z.tileManager.getRenderableTiles(),Se=I.useProgram("terrainCoords");V.bindFramebuffer.set(z.getFramebuffer("coords").framebuffer),V.viewport.set([0,0,I.width/devicePixelRatio,I.height/devicePixelRatio]),V.clear({color:s.bp.transparent,depth:1}),z.coordsIndex=[];for(const Ie of ye){const Le=z.getTerrainMesh(Ie.tileID),De=z.getTerrainData(Ie.tileID);V.activeTexture.set(H.TEXTURE0),H.bindTexture(H.TEXTURE_2D,ue.texture);const je={u_terrain_coords_id:(255-z.coordsIndex.length)/255,u_texture:0,u_ele_delta:z.getMeshFrameDelta(J.zoom)},He=J.getProjectionData({overscaledTileID:Ie.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});Se.draw(V,H.TRIANGLES,he,Dr.disabled,ne,xr.backCCW,je,De,He,"terrain",Le.vertexBuffer,Le.indexBuffer,Le.segments),z.coordsIndex.push(Ie.tileID.key)}V.bindFramebuffer.set(null),V.viewport.set([0,0,I.width,I.height])})(this,this.style.map.terrain))}renderLayer(c,m,b,C,I){b.isHidden(this.transform.zoom)||(b.type==="background"||b.type==="custom"||(C||[]).length)&&(this.id=b.id,s.cm(b)?(function(z,V,H,J,ne,he){if(z.renderPass!=="translucent")return;const{isRenderingToTexture:ue}=he,ye=Dr.disabled,Se=z.colorModeForRenderPass();(H._unevaluatedLayout.hasValue("text-variable-anchor")||H._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&(function(Ie,Le,De,je,He,Fe,We,Je,Ze){const nt=Le.transform,yt=Le.style.map.terrain,ht=He==="map",ft=Fe==="map";for(const pt of Ie){const tn=je.getTile(pt),nn=tn.getBucket(De);if(!nn||!nn.text||!nn.text.segments.get().length)continue;const Nt=s.ay(nn.textSizeData,nt.zoom),cn=s.aN(tn,1,Le.transform.zoom),rr=La(ht,Le.transform,cn),Xr=De.layout.get("icon-text-fit")!=="none"&&nn.hasIconData();if(Nt){const xi=Math.pow(2,nt.zoom-tn.tileID.overscaledZ),fi=yt?(Mi,oi)=>yt.getElevation(pt,Mi,oi):null;yu(nn,ht,ft,Ze,nt,rr,xi,Nt,Xr,s.aO(nt,tn,We,Je),pt.toUnwrapped(),fi)}}})(J,z,H,V,H.layout.get("text-rotation-alignment"),H.layout.get("text-pitch-alignment"),H.paint.get("text-translate"),H.paint.get("text-translate-anchor"),ne),H.paint.get("icon-opacity").constantOr(1)!==0&&Ld(z,V,H,J,!1,H.paint.get("icon-translate"),H.paint.get("icon-translate-anchor"),H.layout.get("icon-rotation-alignment"),H.layout.get("icon-pitch-alignment"),H.layout.get("icon-keep-upright"),ye,Se,ue),H.paint.get("text-opacity").constantOr(1)!==0&&Ld(z,V,H,J,!0,H.paint.get("text-translate"),H.paint.get("text-translate-anchor"),H.layout.get("text-rotation-alignment"),H.layout.get("text-pitch-alignment"),H.layout.get("text-keep-upright"),ye,Se,ue),V.map.showCollisionBoxes&&(ls(z,V,H,J,!0),ls(z,V,H,J,!1))})(c,m,b,C,this.style.placement.variableOffsets,I):s.cn(b)?(function(z,V,H,J,ne){if(z.renderPass!=="translucent")return;const{isRenderingToTexture:he}=ne,ue=H.paint.get("circle-opacity"),ye=H.paint.get("circle-stroke-width"),Se=H.paint.get("circle-stroke-opacity"),Ie=!H.layout.get("circle-sort-key").isConstant();if(ue.constantOr(1)===0&&(ye.constantOr(1)===0||Se.constantOr(1)===0))return;const Le=z.context,De=Le.gl,je=z.transform,He=z.getDepthModeForSublayer(0,ar.ReadOnly),Fe=Dr.disabled,We=z.colorModeForRenderPass(),Je=[],Ze=je.getCircleRadiusCorrection();for(let nt=0;nt<J.length;nt++){const yt=J[nt],ht=V.getTile(yt),ft=ht.getBucket(H);if(!ft)continue;const pt=H.paint.get("circle-translate"),tn=H.paint.get("circle-translate-anchor"),nn=s.aO(je,ht,pt,tn),Nt=ft.programConfigurations.get(H.id),cn=z.useProgram("circle",Nt),rr=ft.layoutVertexBuffer,Xr=ft.indexBuffer,xi=z.style.map.terrain&&z.style.map.terrain.getTerrainData(yt),fi={programConfiguration:Nt,program:cn,layoutVertexBuffer:rr,indexBuffer:Xr,uniformValues:$m(z,ht,H,nn,Ze),terrainData:xi,projectionData:je.getProjectionData({overscaledTileID:yt,applyGlobeMatrix:!he,applyTerrainMatrix:!0})};if(Ie){const Mi=ft.segments.get();for(const oi of Mi)Je.push({segments:new s.aX([oi]),sortKey:oi.sortKey,state:fi})}else Je.push({segments:ft.segments,sortKey:0,state:fi})}Ie&&Je.sort(((nt,yt)=>nt.sortKey-yt.sortKey));for(const nt of Je){const{programConfiguration:yt,program:ht,layoutVertexBuffer:ft,indexBuffer:pt,uniformValues:tn,terrainData:nn,projectionData:Nt}=nt.state;ht.draw(Le,De.TRIANGLES,He,Fe,We,xr.backCCW,tn,nn,Nt,H.id,ft,pt,nt.segments,H.paint,z.transform.zoom,yt)}})(c,m,b,C,I):s.co(b)?(function(z,V,H,J,ne){if(H.paint.get("heatmap-opacity")===0)return;const he=z.context,{isRenderingToTexture:ue,isRenderingGlobe:ye}=ne;if(z.style.map.terrain){for(const Se of J){const Ie=V.getTile(Se);V.hasRenderableParent(Se)||(z.renderPass==="offscreen"?Av(z,Ie,H,Se,ye):z.renderPass==="translucent"&&cs(z,H,Se,ue,ye))}he.viewport.set([0,0,z.width,z.height])}else z.renderPass==="offscreen"?(function(Se,Ie,Le,De){const je=Se.context,He=je.gl,Fe=Se.transform,We=Dr.disabled,Je=new ii([He.ONE,He.ONE],s.bp.transparent,[!0,!0,!0,!0]);(function(Ze,nt,yt){const ht=Ze.gl;Ze.activeTexture.set(ht.TEXTURE1),Ze.viewport.set([0,0,nt.width/4,nt.height/4]);let ft=yt.heatmapFbos.get(s.cd);ft?(ht.bindTexture(ht.TEXTURE_2D,ft.colorAttachment.get()),Ze.bindFramebuffer.set(ft.framebuffer)):(ft=di(Ze,nt.width/4,nt.height/4),yt.heatmapFbos.set(s.cd,ft))})(je,Se,Le),je.clear({color:s.bp.transparent});for(let Ze=0;Ze<De.length;Ze++){const nt=De[Ze];if(Ie.hasRenderableParent(nt))continue;const yt=Ie.getTile(nt),ht=yt.getBucket(Le);if(!ht)continue;const ft=ht.programConfigurations.get(Le.id),pt=Se.useProgram("heatmap",ft),tn=Fe.getProjectionData({overscaledTileID:nt,applyGlobeMatrix:!0,applyTerrainMatrix:!1}),nn=Fe.getCircleRadiusCorrection();pt.draw(je,He.TRIANGLES,ar.disabled,We,Je,xr.backCCW,wh(yt,Fe.zoom,Le.paint.get("heatmap-intensity"),nn),null,tn,Le.id,ht.layoutVertexBuffer,ht.indexBuffer,ht.segments,Le.paint,Fe.zoom,ft)}je.viewport.set([0,0,Se.width,Se.height])})(z,V,H,J):z.renderPass==="translucent"&&(function(Se,Ie){const Le=Se.context,De=Le.gl;Le.setColorMode(Se.colorModeForRenderPass());const je=Ie.heatmapFbos.get(s.cd);je&&(Le.activeTexture.set(De.TEXTURE0),De.bindTexture(De.TEXTURE_2D,je.colorAttachment.get()),Le.activeTexture.set(De.TEXTURE1),Er(Le,Ie).bind(De.LINEAR,De.CLAMP_TO_EDGE),Se.useProgram("heatmapTexture").draw(Le,De.TRIANGLES,ar.disabled,Dr.disabled,Se.colorModeForRenderPass(),xr.disabled,wv(Se,Ie,0,1),null,null,Ie.id,Se.viewportBuffer,Se.quadTriangleIndexBuffer,Se.viewportSegments,Ie.paint,Se.transform.zoom))})(z,H)})(c,m,b,C,I):s.cp(b)?(function(z,V,H,J,ne){if(z.renderPass!=="translucent")return;const{isRenderingToTexture:he}=ne,ue=H.paint.get("line-opacity"),ye=H.paint.get("line-width");if(ue.constantOr(1)===0||ye.constantOr(1)===0)return;const Se=z.getDepthModeForSublayer(0,ar.ReadOnly),Ie=z.colorModeForRenderPass(),Le=H.paint.get("line-dasharray"),De=Le.constantOr(1),je=H.paint.get("line-pattern"),He=je.constantOr(1),Fe=H.paint.get("line-gradient"),We=H.getCrossfadeParameters();let Je;Je=He?"linePattern":De&&Fe?"lineGradientSDF":De?"lineSDF":Fe?"lineGradient":"line";const Ze=z.context,nt=Ze.gl,yt=z.transform;let ht=!0;for(const ft of J){const pt=V.getTile(ft);if(He&&!pt.patternsLoaded())continue;const tn=pt.getBucket(H);if(!tn)continue;const nn=tn.programConfigurations.get(H.id),Nt=z.context.program.get(),cn=z.useProgram(Je,nn),rr=ht||cn.program!==Nt,Xr=z.style.map.terrain&&z.style.map.terrain.getTerrainData(ft),xi=je.constantOr(null),fi=Le&&Le.constantOr(null);if(xi&&pt.imageAtlas){const us=pt.imageAtlas,co=us.patternPositions[xi.to.toString()],uo=us.patternPositions[xi.from.toString()];co&&uo&&nn.setConstantPatternPositions(co,uo)}else if(fi){const us=H.layout.get("line-cap")==="round",co=z.lineAtlas.getDash(fi.to,us),uo=z.lineAtlas.getDash(fi.from,us);nn.setConstantDashPositions(co,uo)}const Mi=yt.getProjectionData({overscaledTileID:ft,applyGlobeMatrix:!he,applyTerrainMatrix:!0}),oi=yt.getPixelScale();let Xi;He?(Xi=Ov(z,pt,H,oi,We),Va(Ze,nt,pt,nn,We)):De&&Fe?(Xi=Oh(z,pt,H,oi,We,tn.lineClipsArray.length),ba(z,V,Ze,nt,H,tn,ft,nn,We)):De?(Xi=va(z,pt,H,oi,We),Hi(z,Ze,nt,nn,rr,We)):Fe?(Xi=ub(z,pt,H,oi,tn.lineClipsArray.length),xa(z,V,Ze,nt,H,tn,ft)):Xi=Bm(z,pt,H,oi);const Ri=z.stencilModeForClipping(ft);cn.draw(Ze,nt.TRIANGLES,Se,Ri,Ie,xr.disabled,Xi,Xr,Mi,H.id,tn.layoutVertexBuffer,tn.indexBuffer,tn.segments,H.paint,z.transform.zoom,nn,tn.layoutVertexBuffer2),ht=!1}})(c,m,b,C,I):s.cq(b)?(function(z,V,H,J,ne){const he=H.paint.get("fill-color"),ue=H.paint.get("fill-opacity");if(ue.constantOr(1)===0)return;const{isRenderingToTexture:ye}=ne,Se=z.colorModeForRenderPass(),Ie=H.paint.get("fill-pattern"),Le=z.opaquePassEnabledForLayer()&&!Ie.constantOr(1)&&he.constantOr(s.bp.transparent).a===1&&ue.constantOr(0)===1?"opaque":"translucent";if(z.renderPass===Le){const De=z.getDepthModeForSublayer(1,z.renderPass==="opaque"?ar.ReadWrite:ar.ReadOnly);Pc(z,V,H,J,De,Se,!1,ye)}if(z.renderPass==="translucent"&&H.paint.get("fill-antialias")){const De=z.getDepthModeForSublayer(H.getPaintProperty("fill-outline-color")?2:0,ar.ReadOnly);Pc(z,V,H,J,De,Se,!0,ye)}})(c,m,b,C,I):s.cr(b)?(function(z,V,H,J,ne){const he=H.paint.get("fill-extrusion-opacity");if(he===0)return;const{isRenderingToTexture:ue}=ne;if(z.renderPass==="translucent"){const ye=new ar(z.context.gl.LEQUAL,ar.ReadWrite,z.depthRangeFor3D);if(he!==1||H.paint.get("fill-extrusion-pattern").constantOr(1))Mc(z,V,H,J,ye,Dr.disabled,ii.disabled,ue),Mc(z,V,H,J,ye,z.stencilModeFor3D(),z.colorModeForRenderPass(),ue);else{const Se=z.colorModeForRenderPass();Mc(z,V,H,J,ye,Dr.disabled,Se,ue)}}})(c,m,b,C,I):s.cs(b)?(function(z,V,H,J,ne){if(z.renderPass!=="offscreen"&&z.renderPass!=="translucent")return;const{isRenderingToTexture:he}=ne,ue=z.context,ye=z.style.projection.useSubdivision,Se=z.getDepthModeForSublayer(0,ar.ReadOnly),Ie=z.colorModeForRenderPass();if(z.renderPass==="offscreen")(function(Le,De,je,He,Fe,We,Je){const Ze=Le.context,nt=Ze.gl;for(const yt of je){const ht=De.getTile(yt),ft=ht.dem;if(!ft||!ft.data||!ht.needsHillshadePrepare)continue;const pt=ft.dim,tn=ft.stride,nn=ft.getPixels();if(Ze.activeTexture.set(nt.TEXTURE1),Ze.pixelStoreUnpackPremultiplyAlpha.set(!1),ht.demTexture=ht.demTexture||Le.getTileTexture(tn),ht.demTexture){const cn=ht.demTexture;cn.update(nn,{premultiply:!1}),cn.bind(nt.NEAREST,nt.CLAMP_TO_EDGE)}else ht.demTexture=new s.T(Ze,nn,nt.RGBA,{premultiply:!1}),ht.demTexture.bind(nt.NEAREST,nt.CLAMP_TO_EDGE);Ze.activeTexture.set(nt.TEXTURE0);let Nt=ht.fbo;if(!Nt){const cn=new s.T(Ze,{width:pt,height:pt,data:null},nt.RGBA);cn.bind(nt.LINEAR,nt.CLAMP_TO_EDGE),Nt=ht.fbo=Ze.createFramebuffer(pt,pt,!0,!1),Nt.colorAttachment.set(cn.texture)}Ze.bindFramebuffer.set(Nt.framebuffer),Ze.viewport.set([0,0,pt,pt]),Le.useProgram("hillshadePrepare").draw(Ze,nt.TRIANGLES,Fe,We,Je,xr.disabled,lb(ht.tileID,ft),null,null,He.id,Le.rasterBoundsBuffer,Le.quadTriangleIndexBuffer,Le.rasterBoundsSegments),ht.needsHillshadePrepare=!1}})(z,V,J,H,Se,Dr.disabled,Ie),ue.viewport.set([0,0,z.width,z.height]);else if(z.renderPass==="translucent")if(ye){const[Le,De,je]=z.stencilConfigForOverlapTwoPass(J);Rc(z,V,H,je,Le,Se,Ie,!1,he),Rc(z,V,H,je,De,Se,Ie,!0,he)}else{const[Le,De]=z.getStencilConfigForOverlapAndUpdateStencilID(J);Rc(z,V,H,De,Le,Se,Ie,!1,he)}})(c,m,b,C,I):s.ct(b)?(function(z,V,H,J,ne){if(z.renderPass!=="translucent"||!J.length)return;const{isRenderingToTexture:he}=ne,ue=z.style.projection.useSubdivision,ye=z.getDepthModeForSublayer(0,ar.ReadOnly),Se=z.colorModeForRenderPass();if(ue){const[Ie,Le,De]=z.stencilConfigForOverlapTwoPass(J);_u(z,V,H,De,Ie,ye,Se,!1,he),_u(z,V,H,De,Le,ye,Se,!0,he)}else{const[Ie,Le]=z.getStencilConfigForOverlapAndUpdateStencilID(J);_u(z,V,H,Le,Ie,ye,Se,!1,he)}})(c,m,b,C,I):s.bU(b)?(function(z,V,H,J,ne){if(z.renderPass!=="translucent"||H.paint.get("raster-opacity")===0||!J.length)return;const{isRenderingToTexture:he}=ne,ue=V.getSource(),ye=z.style.projection.useSubdivision;if(ue instanceof Vt)gl(z,V,H,J,null,!1,!1,ue.tileCoords,ue.flippedWindingOrder,he);else if(ye){const[Se,Ie,Le]=z.stencilConfigForOverlapTwoPass(J);gl(z,V,H,Le,Se,!1,!0,xu,!1,he),gl(z,V,H,Le,Ie,!0,!0,xu,!1,he)}else{const[Se,Ie]=z.getStencilConfigForOverlapAndUpdateStencilID(J);gl(z,V,H,Ie,Se,!1,!0,xu,!1,he)}})(c,m,b,C,I):s.cu(b)?(function(z,V,H,J,ne){const he=H.paint.get("background-color"),ue=H.paint.get("background-opacity");if(ue===0)return;const{isRenderingToTexture:ye}=ne,Se=z.context,Ie=Se.gl,Le=z.style.projection,De=z.transform,je=De.tileSize,He=H.paint.get("background-pattern");if(z.isPatternMissing(He))return;const Fe=!He&&he.a===1&&ue===1&&z.opaquePassEnabledForLayer()?"opaque":"translucent";if(z.renderPass!==Fe)return;const We=Dr.disabled,Je=z.getDepthModeForSublayer(0,Fe==="opaque"?ar.ReadWrite:ar.ReadOnly),Ze=z.colorModeForRenderPass(),nt=z.useProgram(He?"backgroundPattern":"background"),yt=J||io(De,{tileSize:je,terrain:z.style.map.terrain});He&&(Se.activeTexture.set(Ie.TEXTURE0),z.imageManager.bind(z.context));const ht=H.getCrossfadeParameters();for(const ft of yt){const pt=De.getProjectionData({overscaledTileID:ft,applyGlobeMatrix:!ye,applyTerrainMatrix:!0}),tn=He?Qm(ue,z,He,{tileID:ft,tileSize:je},ht):Vm(ue,he),nn=z.style.map.terrain&&z.style.map.terrain.getTerrainData(ft),Nt=Le.getMeshFromTileID(Se,ft.canonical,!1,!0,"raster");nt.draw(Se,Ie.TRIANGLES,Je,We,Ze,xr.backCCW,tn,nn,pt,H.id,Nt.vertexBuffer,Nt.indexBuffer,Nt.segments)}})(c,0,b,C,I):s.cv(b)&&(function(z,V,H,J){const{isRenderingGlobe:ne}=J,he=z.context,ue=H.implementation,ye=z.style.projection,Se=z.transform,Ie=Se.getProjectionDataForCustomLayer(ne),Le={farZ:Se.farZ,nearZ:Se.nearZ,fov:Se.fov*Math.PI/180,modelViewProjectionMatrix:Se.modelViewProjectionMatrix,projectionMatrix:Se.projectionMatrix,shaderData:{variantName:ye.shaderVariantName,vertexShaderPrelude:`const float PI = 3.141592653589793;
uniform mat4 u_projection_matrix;
${ye.shaderPreludeCode.vertexSource}`,define:ye.shaderDefine},defaultProjectionData:Ie},De=ue.renderingMode?ue.renderingMode:"2d";if(z.renderPass==="offscreen"){const je=ue.prerender;je&&(z.setCustomLayerDefaults(),he.setColorMode(z.colorModeForRenderPass()),je.call(ue,he.gl,Le),he.setDirty(),z.setBaseState())}else if(z.renderPass==="translucent"){z.setCustomLayerDefaults(),he.setColorMode(z.colorModeForRenderPass()),he.setStencilMode(Dr.disabled);const je=De==="3d"?z.getDepthModeFor3D():z.getDepthModeForSublayer(0,ar.ReadOnly);he.setDepthMode(je),ue.render(he.gl,Le),he.setDirty(),z.setBaseState(),he.bindFramebuffer.set(null)}})(c,0,b,I))}saveTileTexture(c){const m=this._tileTextures[c.size[0]];m?m.push(c):this._tileTextures[c.size[0]]=[c]}getTileTexture(c){const m=this._tileTextures[c];return m&&m.length>0?m.pop():null}isPatternMissing(c){if(!c)return!1;if(!c.from||!c.to)return!0;const m=this.imageManager.getPattern(c.from.toString()),b=this.imageManager.getPattern(c.to.toString());return!m||!b}useProgram(c,m,b=!1,C=[]){this.cache=this.cache||{};const I=!!this.style.map.terrain,z=this.style.projection,V=b?$i.projectionMercator:z.shaderPreludeCode,H=b?so:z.shaderDefine,J=c+(m?m.cacheKey:"")+`/${b?aa:z.shaderVariantName}`+(this._showOverdrawInspector?"/overdraw":"")+(I?"/terrain":"")+(C?`/${C.join("/")}`:"");return this.cache[J]||(this.cache[J]=new ob(this.context,$i[c],m,hb[c],this._showOverdrawInspector,I,V,H,C)),this.cache[J]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const c=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(c.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new s.T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){var c,m;if(this._tileTextures){for(const b in this._tileTextures){const C=this._tileTextures[b];if(C)for(const I of C)I.destroy()}this._tileTextures={}}if(this.tileExtentBuffer&&this.tileExtentBuffer.destroy(),this.debugBuffer&&this.debugBuffer.destroy(),this.rasterBoundsBuffer&&this.rasterBoundsBuffer.destroy(),this.rasterBoundsBufferPosOnly&&this.rasterBoundsBufferPosOnly.destroy(),this.viewportBuffer&&this.viewportBuffer.destroy(),this.tileBorderIndexBuffer&&this.tileBorderIndexBuffer.destroy(),this.quadTriangleIndexBuffer&&this.quadTriangleIndexBuffer.destroy(),this.tileExtentMesh&&((c=this.tileExtentMesh.vertexBuffer)===null||c===void 0||c.destroy()),this.tileExtentMesh&&((m=this.tileExtentMesh.indexBuffer)===null||m===void 0||m.destroy()),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.cache){for(const b in this.cache){const C=this.cache[b];C&&C.program&&this.context.gl.deleteProgram(C.program)}this.cache={}}this.context&&this.context.setDefault()}overLimit(){const{drawingBufferWidth:c,drawingBufferHeight:m}=this.context.gl;return this.width!==c||this.height!==m}}function Mv(P,c){let m,b=!1,C=null,I=null;const z=()=>{C=null,b&&(P.apply(I,m),C=setTimeout(z,c),b=!1)};return(...V)=>(b=!0,I=this,m=V,C||z(),C)}class bo{constructor(c){this._getCurrentHash=()=>{const m=window.location.hash.replace("#","");if(this._hashName){let b;return m.split("&").map((C=>C.split("="))).forEach((C=>{C[0]===this._hashName&&(b=C)})),(b&&b[1]||"").split("/")}return m.split("/")},this._onHashChange=()=>{const m=this._getCurrentHash();if(!this._isValidHash(m))return!1;const b=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(m[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+m[2],+m[1]],zoom:+m[0],bearing:b,pitch:+(m[4]||0)}),!0},this._updateHashUnthrottled=()=>{const m=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,m)},this._removeHash=()=>{const m=this._getCurrentHash();if(m.length===0)return;const b=m.join("/");let C=b;C.split("&").length>0&&(C=C.split("&")[0]),this._hashName&&(C=`${this._hashName}=${b}`);let I=window.location.hash.replace(C,"");I.startsWith("#&")?I=I.slice(0,1)+I.slice(2):I==="#"&&(I="");let z=window.location.href.replace(/(#.+)?$/,I);z=z.replace("&&","&"),window.history.replaceState(window.history.state,null,z)},this._updateHash=Mv(this._updateHashUnthrottled,300),this._hashName=c&&encodeURIComponent(c)}addTo(c){return this._map=c,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(c){const m=this._map.getCenter(),b=Math.round(100*this._map.getZoom())/100,C=Math.ceil((b*Math.LN2+Math.log(512/360/.5))/Math.LN10),I=Math.pow(10,C),z=Math.round(m.lng*I)/I,V=Math.round(m.lat*I)/I,H=this._map.getBearing(),J=this._map.getPitch();let ne="";if(ne+=c?`/${z}/${V}/${b}`:`${b}/${V}/${z}`,(H||J)&&(ne+="/"+Math.round(10*H)/10),J&&(ne+=`/${Math.round(J)}`),this._hashName){const he=this._hashName;let ue=!1;const ye=window.location.hash.slice(1).split("&").map((Se=>{const Ie=Se.split("=")[0];return Ie===he?(ue=!0,`${Ie}=${ne}`):Se})).filter((Se=>Se));return ue||ye.push(`${he}=${ne}`),`#${ye.join("&")}`}return`#${ne}`}_isValidHash(c){if(c.length<3||c.some(isNaN))return!1;try{new s.V(+c[2],+c[1])}catch{return!1}const m=+c[0],b=+(c[3]||0),C=+(c[4]||0);return m>=this._map.getMinZoom()&&m<=this._map.getMaxZoom()&&b>=-180&&b<=180&&C>=this._map.getMinPitch()&&C<=this._map.getMaxPitch()}}const Lc={linearity:.3,easing:s.cw(0,0,.3,1)},sp=s.e({deceleration:2500,maxSpeed:1400},Lc),Bs=s.e({deceleration:20,maxSpeed:1400},Lc),Ua=s.e({deceleration:1e3,maxSpeed:360},Lc),$d=s.e({deceleration:1e3,maxSpeed:90},Lc),Fs=s.e({deceleration:1e3,maxSpeed:360},Lc);class hS{constructor(c){this._map=c,this.clear()}clear(){this._inertiaBuffer=[]}record(c){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:A(),settings:c})}_drainInertiaBuffer(){const c=this._inertiaBuffer,m=A();for(;c.length>0&&m-c[0].time>160;)c.shift()}_onMoveEnd(c){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const m={zoom:0,bearing:0,pitch:0,roll:0,pan:new s.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:I}of this._inertiaBuffer)m.zoom+=I.zoomDelta||0,m.bearing+=I.bearingDelta||0,m.pitch+=I.pitchDelta||0,m.roll+=I.rollDelta||0,I.panDelta&&m.pan._add(I.panDelta),I.around&&(m.around=I.around),I.pinchAround&&(m.pinchAround=I.pinchAround);const b=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,C={};if(m.pan.mag()){const I=Xm(m.pan.mag(),b,s.e({},sp,c||{})),z=m.pan.mult(I.amount/m.pan.mag()),V=this._map.cameraHelper.handlePanInertia(z,this._map.transform);C.center=V.easingCenter,C.offset=V.easingOffset,ap(C,I)}if(m.zoom){const I=Xm(m.zoom,b,Bs);C.zoom=this._map.transform.zoom+I.amount,ap(C,I)}if(m.bearing){const I=Xm(m.bearing,b,Ua);C.bearing=this._map.transform.bearing+s.an(I.amount,-179,179),ap(C,I)}if(m.pitch){const I=Xm(m.pitch,b,$d);C.pitch=this._map.transform.pitch+I.amount,ap(C,I)}if(m.roll){const I=Xm(m.roll,b,Fs);C.roll=this._map.transform.roll+s.an(I.amount,-179,179),ap(C,I)}if(C.zoom||C.bearing){const I=m.pinchAround===void 0?m.around:m.pinchAround;C.around=I?this._map.unproject(I):this._map.getCenter()}return this.clear(),s.e(C,{noMoveStart:!0})}}function ap(P,c){(!P.duration||P.duration<c.duration)&&(P.duration=c.duration,P.easing=c.easing)}function Xm(P,c,m){const{maxSpeed:b,linearity:C,deceleration:I}=m,z=s.an(P*C/(c/1e3),-b,b),V=Math.abs(z)/(I*C);return{easing:m.easing,duration:1e3*V,amount:z*(V/2)}}class es extends s.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,m,b,C={}){b=b instanceof MouseEvent?b:new MouseEvent(c,b);const I=M.mousePos(m.getCanvas(),b),z=m.unproject(I);super(c,s.e({point:I,lngLat:z,originalEvent:b},C)),this._defaultPrevented=!1,this.target=m}}class Wl extends s.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,m,b){const C=c==="touchend"?b.changedTouches:b.touches,I=M.touchPos(m.getCanvasContainer(),C),z=I.map((H=>m.unproject(H))),V=I.reduce(((H,J,ne,he)=>H.add(J.div(he.length))),new s.P(0,0));super(c,{points:I,point:V,lngLats:z,lngLat:m.unproject(V),originalEvent:b}),this._defaultPrevented=!1}}class Ny extends s.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,m,b){super(c,{originalEvent:b}),this._defaultPrevented=!1}}class By{constructor(c,m){this._map=c,this._clickTolerance=m.clickTolerance}reset(){delete this._mousedownPos}wheel(c){return this._firePreventable(new Ny(c.type,this._map,c))}mousedown(c,m){return this._mousedownPos=m,this._firePreventable(new es(c.type,this._map,c))}mouseup(c){this._map.fire(new es(c.type,this._map,c))}click(c,m){this._mousedownPos&&this._mousedownPos.dist(m)>=this._clickTolerance||this._map.fire(new es(c.type,this._map,c))}dblclick(c){return this._firePreventable(new es(c.type,this._map,c))}mouseover(c){this._map.fire(new es(c.type,this._map,c))}mouseout(c){this._map.fire(new es(c.type,this._map,c))}touchstart(c){return this._firePreventable(new Wl(c.type,this._map,c))}touchmove(c){this._map.fire(new Wl(c.type,this._map,c))}touchend(c){this._map.fire(new Wl(c.type,this._map,c))}touchcancel(c){this._map.fire(new Wl(c.type,this._map,c))}_firePreventable(c){if(this._map.fire(c),c.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class pb{constructor(c){this._map=c}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(c){this._map.fire(new es(c.type,this._map,c))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new es("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(c){this._delayContextMenu?this._contextMenuEvent=c:this._ignoreContextMenu||this._map.fire(new es(c.type,this._map,c)),this._map.listens("contextmenu")&&c.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Hl{constructor(c){this._map=c}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(c){return this.transform.screenPointToLocation(s.P.convert(c),this._map.terrain)}}class Ph{constructor(c,m){this._map=c,this._tr=new Hl(c),this._el=c.getCanvasContainer(),this._container=c.getContainer(),this._clickTolerance=m.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(c,m){this.isEnabled()&&c.shiftKey&&c.button===0&&(M.disableDrag(),this._startPos=this._lastPos=m,this._active=!0)}mousemoveWindow(c,m){if(!this._active)return;const b=m;if(this._lastPos.equals(b)||!this._box&&b.dist(this._startPos)<this._clickTolerance)return;const C=this._startPos;this._lastPos=b,this._box||(this._box=M.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",c));const I=Math.min(C.x,b.x),z=Math.max(C.x,b.x),V=Math.min(C.y,b.y),H=Math.max(C.y,b.y);M.setTransform(this._box,`translate(${I}px,${V}px)`),this._box.style.width=z-I+"px",this._box.style.height=H-V+"px"}mouseupWindow(c,m){if(!this._active||c.button!==0)return;const b=this._startPos,C=m;if(this.reset(),M.suppressClick(),b.x!==C.x||b.y!==C.y)return this._map.fire(new s.l("boxzoomend",{originalEvent:c})),{cameraAnimation:I=>I.fitScreenCoordinates(b,C,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",c)}keydown(c){this._active&&c.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",c))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(M.remove(this._box),this._box=null),M.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(c,m){return this._map.fire(new s.l(c,{originalEvent:m}))}}function wa(P,c){if(P.length!==c.length)throw new Error(`The number of touches and points are not equal - touches ${P.length}, points ${c.length}`);const m={};for(let b=0;b<P.length;b++)m[P[b].identifier]=c[b];return m}class yn{constructor(c){this.reset(),this.numTouches=c.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(c,m,b){(this.centroid||b.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=c.timeStamp),b.length===this.numTouches&&(this.centroid=(function(C){const I=new s.P(0,0);for(const z of C)I._add(z);return I.div(C.length)})(m),this.touches=wa(b,m)))}touchmove(c,m,b){if(this.aborted||!this.centroid)return;const C=wa(b,m);for(const I in this.touches){const z=C[I];(!z||z.dist(this.touches[I])>30)&&(this.aborted=!0)}}touchend(c,m,b){if((!this.centroid||c.timeStamp-this.startTime>500)&&(this.aborted=!0),b.length===0){const C=!this.aborted&&this.centroid;if(this.reset(),C)return C}}}class Ym{constructor(c){this.singleTap=new yn(c),this.numTaps=c.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(c,m,b){this.singleTap.touchstart(c,m,b)}touchmove(c,m,b){this.singleTap.touchmove(c,m,b)}touchend(c,m,b){const C=this.singleTap.touchend(c,m,b);if(C){const I=c.timeStamp-this.lastTime<500,z=!this.lastTap||this.lastTap.dist(C)<30;if(I&&z||this.reset(),this.count++,this.lastTime=c.timeStamp,this.lastTap=C,this.count===this.numTaps)return this.reset(),C}}}class Fy{constructor(c){this._tr=new Hl(c),this._zoomIn=new Ym({numTouches:1,numTaps:2}),this._zoomOut=new Ym({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(c,m,b){this._zoomIn.touchstart(c,m,b),this._zoomOut.touchstart(c,m,b)}touchmove(c,m,b){this._zoomIn.touchmove(c,m,b),this._zoomOut.touchmove(c,m,b)}touchend(c,m,b){const C=this._zoomIn.touchend(c,m,b),I=this._zoomOut.touchend(c,m,b),z=this._tr;return C?(this._active=!0,c.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:V=>V.easeTo({duration:300,zoom:z.zoom+1,around:z.unproject(C)},{originalEvent:c})}):I?(this._active=!0,c.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:V=>V.easeTo({duration:300,zoom:z.zoom-1,around:z.unproject(I)},{originalEvent:c})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class yl{constructor(c){this._enabled=!!c.enable,this._moveStateManager=c.moveStateManager,this._clickTolerance=c.clickTolerance||1,this._moveFunction=c.move,this._activateOnStart=!!c.activateOnStart,c.assignEvents(this),this.reset()}reset(c){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(c)}_move(...c){const m=this._moveFunction(...c);if(m.bearingDelta||m.pitchDelta||m.rollDelta||m.around||m.panDelta)return this._active=!0,m}dragStart(c,m){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(c)&&(this._moveStateManager.startMove(c),this._lastPoint=Array.isArray(m)?m[0]:m,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(c,m){if(!this.isEnabled())return;const b=this._lastPoint;if(!b)return;if(c.preventDefault(),!this._moveStateManager.isValidMoveEvent(c))return void this.reset(c);const C=Array.isArray(m)?m[0]:m;return!this._moved&&C.dist(b)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=C,this._move(b,C))}dragEnd(c){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(c)&&(this._moved&&M.suppressClick(),this.reset(c))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const Gl=0,lp=2,jy={[Gl]:1,[lp]:2};class $c{constructor(c){this._correctEvent=c.checkCorrectEvent}startMove(c){const m=M.mouseButton(c);this._eventButton=m}endMove(c){delete this._eventButton}isValidStartEvent(c){return this._correctEvent(c)}isValidMoveEvent(c){return!(function(m,b){const C=jy[b];return m.buttons===void 0||(m.buttons&C)!==C})(c,this._eventButton)}isValidEndEvent(c){return M.mouseButton(c)===this._eventButton}}class zd{constructor(){this._firstTouch=void 0}_isOneFingerTouch(c){return c.targetTouches.length===1}_isSameTouchEvent(c){return c.targetTouches[0].identifier===this._firstTouch}startMove(c){this._firstTouch=c.targetTouches[0].identifier}endMove(c){delete this._firstTouch}isValidStartEvent(c){return this._isOneFingerTouch(c)}isValidMoveEvent(c){return this._isOneFingerTouch(c)&&this._isSameTouchEvent(c)}isValidEndEvent(c){return this._isOneFingerTouch(c)&&this._isSameTouchEvent(c)}}class Km{constructor(c=new $c({checkCorrectEvent:()=>!0}),m=new zd){this.mouseMoveStateManager=c,this.oneFingerTouchMoveStateManager=m}_executeRelevantHandler(c,m,b){return c instanceof MouseEvent?m(c):typeof TouchEvent<"u"&&c instanceof TouchEvent?b(c):void 0}startMove(c){this._executeRelevantHandler(c,(m=>this.mouseMoveStateManager.startMove(m)),(m=>this.oneFingerTouchMoveStateManager.startMove(m)))}endMove(c){this._executeRelevantHandler(c,(m=>this.mouseMoveStateManager.endMove(m)),(m=>this.oneFingerTouchMoveStateManager.endMove(m)))}isValidStartEvent(c){return this._executeRelevantHandler(c,(m=>this.mouseMoveStateManager.isValidStartEvent(m)),(m=>this.oneFingerTouchMoveStateManager.isValidStartEvent(m)))}isValidMoveEvent(c){return this._executeRelevantHandler(c,(m=>this.mouseMoveStateManager.isValidMoveEvent(m)),(m=>this.oneFingerTouchMoveStateManager.isValidMoveEvent(m)))}isValidEndEvent(c){return this._executeRelevantHandler(c,(m=>this.mouseMoveStateManager.isValidEndEvent(m)),(m=>this.oneFingerTouchMoveStateManager.isValidEndEvent(m)))}}const zc=P=>{P.mousedown=P.dragStart,P.mousemoveWindow=P.dragMove,P.mouseup=P.dragEnd,P.contextmenu=c=>{c.preventDefault()}};class Vy{constructor(c,m){this._clickTolerance=c.clickTolerance||1,this._map=m,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new s.P(0,0)}_shouldBePrevented(c){return c<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(c,m,b){return this._calculateTransform(c,m,b)}touchmove(c,m,b){if(this._active){if(!this._shouldBePrevented(b.length))return c.preventDefault(),this._calculateTransform(c,m,b);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",c)}}touchend(c,m,b){this._calculateTransform(c,m,b),this._active&&this._shouldBePrevented(b.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(c,m,b){b.length>0&&(this._active=!0);const C=wa(b,m),I=new s.P(0,0),z=new s.P(0,0);let V=0;for(const J in C){const ne=C[J],he=this._touches[J];he&&(I._add(ne),z._add(ne.sub(he)),V++,C[J]=ne)}if(this._touches=C,this._shouldBePrevented(V)||!z.mag())return;const H=z.div(V);return this._sum._add(H),this._sum.mag()<this._clickTolerance?void 0:{around:I.div(V),panDelta:H}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Jm{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(c,m,b){this._firstTwoTouches||b.length<2||(this._firstTwoTouches=[b[0].identifier,b[1].identifier],this._start([m[0],m[1]]))}touchmove(c,m,b){if(!this._firstTwoTouches)return;c.preventDefault();const[C,I]=this._firstTwoTouches,z=Nc(b,m,C),V=Nc(b,m,I);if(!z||!V)return;const H=this._aroundCenter?null:z.add(V).div(2);return this._move([z,V],H,c)}touchend(c,m,b){if(!this._firstTwoTouches)return;const[C,I]=this._firstTwoTouches,z=Nc(b,m,C),V=Nc(b,m,I);z&&V||(this._active&&M.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(c){this._enabled=!0,this._aroundCenter=!!c&&c.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function Nc(P,c,m){for(let b=0;b<P.length;b++)if(P[b].identifier===m)return c[b]}function Rv(P,c){return Math.log(P/c)/Math.LN2}class Bc extends Jm{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(c){this._startDistance=this._distance=c[0].dist(c[1])}_move(c,m){const b=this._distance;if(this._distance=c[0].dist(c[1]),this._active||!(Math.abs(Rv(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Rv(this._distance,b),pinchAround:m}}}function Qy(P,c){return 180*P.angleWith(c)/Math.PI}class eg extends Jm{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(c){this._startVector=this._vector=c[0].sub(c[1]),this._minDiameter=c[0].dist(c[1])}_move(c,m,b){const C=this._vector;if(this._vector=c[0].sub(c[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Qy(this._vector,C),pinchAround:m}}_isBelowThreshold(c){this._minDiameter=Math.min(this._minDiameter,c.mag());const m=25/(Math.PI*this._minDiameter)*360,b=Qy(c,this._startVector);return Math.abs(b)<m}}function Fc(P){return Math.abs(P.y)>Math.abs(P.x)}class Ou extends Jm{constructor(c){super(),this._currentTouchCount=0,this._map=c}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(c,m,b){super.touchstart(c,m,b),this._currentTouchCount=b.length}_start(c){this._lastPoints=c,Fc(c[0].sub(c[1]))&&(this._valid=!1)}_move(c,m,b){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const C=c[0].sub(this._lastPoints[0]),I=c[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(C,I,b.timeStamp),this._valid?(this._lastPoints=c,this._active=!0,{pitchDelta:(C.y+I.y)/2*-.5}):void 0}gestureBeginsVertically(c,m,b){if(this._valid!==void 0)return this._valid;const C=c.mag()>=2,I=m.mag()>=2;if(!C&&!I)return;if(!C||!I)return this._firstMove===void 0&&(this._firstMove=b),b-this._firstMove<100&&void 0;const z=c.y>0==m.y>0;return Fc(c)&&Fc(m)&&z}}const vl={panStep:100,bearingStep:15,pitchStep:10};class Kr{constructor(c){this._tr=new Hl(c);const m=vl;this._panStep=m.panStep,this._bearingStep=m.bearingStep,this._pitchStep=m.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(c){if(c.altKey||c.ctrlKey||c.metaKey)return;let m=0,b=0,C=0,I=0,z=0;switch(c.keyCode){case 61:case 107:case 171:case 187:m=1;break;case 189:case 109:case 173:m=-1;break;case 37:c.shiftKey?b=-1:(c.preventDefault(),I=-1);break;case 39:c.shiftKey?b=1:(c.preventDefault(),I=1);break;case 38:c.shiftKey?C=1:(c.preventDefault(),z=-1);break;case 40:c.shiftKey?C=-1:(c.preventDefault(),z=1);break;default:return}return this._rotationDisabled&&(b=0,C=0),{cameraAnimation:V=>{const H=this._tr;V.easeTo({duration:300,easeId:"keyboardHandler",easing:Iv,zoom:m?Math.round(H.zoom)+m*(c.shiftKey?2:1):H.zoom,bearing:H.bearing+b*this._bearingStep,pitch:H.pitch+C*this._pitchStep,offset:[-I*this._panStep,-z*this._panStep],center:H.center},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Iv(P){return P*(2-P)}const Su=4.000244140625,Mh=1/450;class tg{constructor(c,m){this._onTimeout=b=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(b)},this._map=c,this._tr=new Hl(c),this._triggerRenderFrame=m,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=Mh}setZoomRate(c){this._defaultZoomRate=c}setWheelZoomRate(c){this._wheelZoomRate=c}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(c){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!c&&c.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(c){return!!this._map.cooperativeGestures.isEnabled()&&!(c.ctrlKey||this._map.cooperativeGestures.isBypassed(c))}wheel(c){if(!this.isEnabled())return;if(this._shouldBePrevented(c))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",c);let m=c.deltaMode===WheelEvent.DOM_DELTA_LINE?40*c.deltaY:c.deltaY;const b=A(),C=b-(this._lastWheelEventTime||0);this._lastWheelEventTime=b,m!==0&&m%Su==0?this._type="wheel":m!==0&&Math.abs(m)<4?this._type="trackpad":C>400?(this._type=null,this._lastValue=m,this._timeout=setTimeout(this._onTimeout,40,c)):this._type||(this._type=Math.abs(C*m)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,m+=this._lastValue)),c.shiftKey&&m&&(m/=4),this._type&&(this._lastWheelEvent=c,this._delta-=m,this._active||this._start(c)),c.preventDefault()}_start(c){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const m=M.mousePos(this._map.getCanvas(),c),b=this._tr;this._aroundPoint=this._aroundCenter?b.transform.locationToScreenPoint(s.V.convert(b.center)):m,this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const c=this._tr.transform;if(typeof this._lastExpectedZoom=="number"){const V=c.zoom-this._lastExpectedZoom;typeof this._startZoom=="number"&&(this._startZoom+=V),typeof this._targetZoom=="number"&&(this._targetZoom+=V)}if(this._delta!==0){const V=this._type==="wheel"&&Math.abs(this._delta)>Su?this._wheelZoomRate:this._defaultZoomRate;let H=2/(1+Math.exp(-Math.abs(this._delta*V)));this._delta<0&&H!==0&&(H=1/H);const J=typeof this._targetZoom!="number"?c.scale:s.aq(this._targetZoom);this._targetZoom=c.applyConstrain(c.getCameraLngLat(),s.at(J*H)).zoom,this._type==="wheel"&&(this._startZoom=c.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const m=typeof this._targetZoom!="number"?c.zoom:this._targetZoom,b=this._startZoom,C=this._easing;let I,z=!1;if(this._type==="wheel"&&b&&C){const V=A()-this._lastWheelEventTime,H=Math.min((V+5)/200,1),J=C(H);I=s.G.number(b,m,J),H<1?this._frameId||(this._frameId=!0):z=!0}else I=m,z=!0;return this._active=!0,z&&(this._active=!1,this._finishTimeout=setTimeout((()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._lastExpectedZoom,delete this._finishTimeout}),200)),this._lastExpectedZoom=I,{noInertia:!0,needsRenderFrame:!z,zoomDelta:I-c.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(c){let m=s.cy;if(this._prevEase){const b=this._prevEase,C=(A()-b.start)/b.duration,I=b.easing(C+.01)-b.easing(C),z=.27/Math.sqrt(I*I+1e-4)*.01,V=Math.sqrt(.0729-z*z);m=s.cw(z,V,.25,1)}return this._prevEase={start:A(),duration:c,easing:m},m}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,delete this._lastExpectedZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class Uy{constructor(c,m){this._clickZoom=c,this._tapZoom=m}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Nd{constructor(c){this._tr=new Hl(c),this.reset()}reset(){this._active=!1}dblclick(c,m){return c.preventDefault(),{cameraAnimation:b=>{b.easeTo({duration:300,zoom:this._tr.zoom+(c.shiftKey?-1:1),around:this._tr.unproject(m)},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ng{constructor(){this._tap=new Ym({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(c,m,b){if(!this._swipePoint)if(this._tapTime){const C=m[0],I=c.timeStamp-this._tapTime<500,z=this._tapPoint.dist(C)<30;I&&z?b.length>0&&(this._swipePoint=C,this._swipeTouch=b[0].identifier):this.reset()}else this._tap.touchstart(c,m,b)}touchmove(c,m,b){if(this._tapTime){if(this._swipePoint){if(b[0].identifier!==this._swipeTouch)return;const C=m[0],I=C.y-this._swipePoint.y;return this._swipePoint=C,c.preventDefault(),this._active=!0,{zoomDelta:I/128}}}else this._tap.touchmove(c,m,b)}touchend(c,m,b){if(this._tapTime)this._swipePoint&&b.length===0&&this.reset();else{const C=this._tap.touchend(c,m,b);C&&(this._tapTime=c.timeStamp,this._tapPoint=C)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Dv{constructor(c,m,b){this._el=c,this._mousePan=m,this._touchPan=b}enable(c){this._inertiaOptions=c||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Za{constructor(c,m,b,C){this._pitchWithRotate=c.pitchWithRotate,this._rollEnabled=c.rollEnabled,this._mouseRotate=m,this._mousePitch=b,this._mouseRoll=C}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable(),this._rollEnabled&&this._mouseRoll.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable(),this._mouseRoll.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())&&(!this._rollEnabled||this._mouseRoll.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()||this._mouseRoll.isActive()}}class Bd{constructor(c,m,b,C){this._el=c,this._touchZoom=m,this._touchRotate=b,this._tapDragZoom=C,this._rotationDisabled=!1,this._enabled=!0}enable(c){this._touchZoom.enable(c),this._rotationDisabled||this._touchRotate.enable(c),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class xn{constructor(c,m){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=c,this._options=m,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const c=this._map.getCanvasContainer();c.classList.add("maplibregl-cooperative-gestures"),this._container=M.create("div","maplibregl-cooperative-gesture-screen",c);let m=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(m=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const b=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),C=document.createElement("div");C.className="maplibregl-desktop-message",C.textContent=m,this._container.appendChild(C);const I=document.createElement("div");I.className="maplibregl-mobile-message",I.textContent=b,this._container.appendChild(I),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(M.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(c){return c[this._bypassKey]}notifyGestureBlocked(c,m){this._enabled&&(this._map.fire(new s.l("cooperativegestureprevented",{gestureType:c,originalEvent:m})),this._container.classList.add("maplibregl-show"),setTimeout((()=>{this._container.classList.remove("maplibregl-show")}),100))}}const An=P=>P.zoom||P.drag||P.roll||P.pitch||P.rotate;class _l extends s.l{}function cp(P){return P.panDelta&&P.panDelta.mag()||P.zoomDelta||P.bearingDelta||P.pitchDelta||P.rollDelta}class rg{constructor(c,m){this.handleWindowEvent=C=>{this.handleEvent(C,`${C.type}Window`)},this.handleEvent=(C,I)=>{if(C.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const z=C.type==="renderFrame"?void 0:C,V={needsRenderFrame:!1},H={},J={};for(const{handlerName:ue,handler:ye,allowed:Se}of this._handlers){if(!ye.isEnabled())continue;let Ie;if(this._blockedByActive(J,Se,ue))ye.reset();else if(ye[I||C.type]){if(s.cz(C,I||C.type)){const Le=M.mousePos(this._map.getCanvas(),C);Ie=ye[I||C.type](C,Le)}else if(s.cA(C,I||C.type)){const Le=this._getMapTouches(C.touches),De=M.touchPos(this._map.getCanvas(),Le);Ie=ye[I||C.type](C,De,Le)}else s.cB(I||C.type)||(Ie=ye[I||C.type](C));this.mergeHandlerResult(V,H,Ie,ue,z),Ie&&Ie.needsRenderFrame&&this._triggerRenderFrame()}(Ie||ye.isActive())&&(J[ue]=ye)}const ne={};for(const ue in this._previousActiveHandlers)J[ue]||(ne[ue]=z);this._previousActiveHandlers=J,(Object.keys(ne).length||cp(V))&&(this._changes.push([V,H,ne]),this._triggerRenderFrame()),(Object.keys(J).length||cp(V))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:he}=V;he&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],he(this._map))},this._map=c,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new hS(c),this._bearingSnap=m.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(m);const b=this._el;this._listeners=[[b,"touchstart",{passive:!0}],[b,"touchmove",{passive:!1}],[b,"touchend",void 0],[b,"touchcancel",void 0],[b,"mousedown",void 0],[b,"mousemove",void 0],[b,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[b,"mouseover",void 0],[b,"mouseout",void 0],[b,"dblclick",void 0],[b,"click",void 0],[b,"keydown",{capture:!1}],[b,"keyup",void 0],[b,"wheel",{passive:!1}],[b,"contextmenu",void 0],[window,"blur",void 0]];for(const[C,I,z]of this._listeners)M.addEventListener(C,I,C===document?this.handleWindowEvent:this.handleEvent,z)}destroy(){for(const[c,m,b]of this._listeners)M.removeEventListener(c,m,c===document?this.handleWindowEvent:this.handleEvent,b)}_addDefaultHandlers(c){const m=this._map,b=m.getCanvasContainer();this._add("mapEvent",new By(m,c));const C=m.boxZoom=new Ph(m,c);this._add("boxZoom",C),c.interactive&&c.boxZoom&&C.enable();const I=m.cooperativeGestures=new xn(m,c.cooperativeGestures);this._add("cooperativeGestures",I),c.cooperativeGestures&&I.enable();const z=new Fy(m),V=new Nd(m);m.doubleClickZoom=new Uy(V,z),this._add("tapZoom",z),this._add("clickZoom",V),c.interactive&&c.doubleClickZoom&&m.doubleClickZoom.enable();const H=new ng;this._add("tapDragZoom",H);const J=m.touchPitch=new Ou(m);this._add("touchPitch",J),c.interactive&&c.touchPitch&&m.touchPitch.enable(c.touchPitch);const ne=()=>m.project(m.getCenter()),he=(function({enable:Fe,clickTolerance:We,aroundCenter:Je=!0,minPixelCenterThreshold:Ze=100,rotateDegreesPerPixelMoved:nt=.8},yt){const ht=new $c({checkCorrectEvent:ft=>M.mouseButton(ft)===0&&ft.ctrlKey||M.mouseButton(ft)===2&&!ft.ctrlKey});return new yl({clickTolerance:We,move:(ft,pt)=>{const tn=yt();if(Je&&Math.abs(tn.y-ft.y)>Ze)return{bearingDelta:s.cx(new s.P(ft.x,pt.y),pt,tn)};let nn=(pt.x-ft.x)*nt;return Je&&pt.y<tn.y&&(nn=-nn),{bearingDelta:nn}},moveStateManager:ht,enable:Fe,assignEvents:zc})})(c,ne),ue=(function({enable:Fe,clickTolerance:We,pitchDegreesPerPixelMoved:Je=-.5}){const Ze=new $c({checkCorrectEvent:nt=>M.mouseButton(nt)===0&&nt.ctrlKey||M.mouseButton(nt)===2});return new yl({clickTolerance:We,move:(nt,yt)=>({pitchDelta:(yt.y-nt.y)*Je}),moveStateManager:Ze,enable:Fe,assignEvents:zc})})(c),ye=(function({enable:Fe,clickTolerance:We,rollDegreesPerPixelMoved:Je=.3},Ze){const nt=new $c({checkCorrectEvent:yt=>M.mouseButton(yt)===2&&yt.ctrlKey});return new yl({clickTolerance:We,move:(yt,ht)=>{const ft=Ze();let pt=(ht.x-yt.x)*Je;return ht.y<ft.y&&(pt=-pt),{rollDelta:pt}},moveStateManager:nt,enable:Fe,assignEvents:zc})})(c,ne);m.dragRotate=new Za(c,he,ue,ye),this._add("mouseRotate",he,["mousePitch"]),this._add("mousePitch",ue,["mouseRotate","mouseRoll"]),this._add("mouseRoll",ye,["mousePitch"]),c.interactive&&c.dragRotate&&m.dragRotate.enable();const Se=(function({enable:Fe,clickTolerance:We}){const Je=new $c({checkCorrectEvent:Ze=>M.mouseButton(Ze)===0&&!Ze.ctrlKey});return new yl({clickTolerance:We,move:(Ze,nt)=>({around:nt,panDelta:nt.sub(Ze)}),activateOnStart:!0,moveStateManager:Je,enable:Fe,assignEvents:zc})})(c),Ie=new Vy(c,m);m.dragPan=new Dv(b,Se,Ie),this._add("mousePan",Se),this._add("touchPan",Ie,["touchZoom","touchRotate"]),c.interactive&&c.dragPan&&m.dragPan.enable(c.dragPan);const Le=new eg,De=new Bc;m.touchZoomRotate=new Bd(b,De,Le,H),this._add("touchRotate",Le,["touchPan","touchZoom"]),this._add("touchZoom",De,["touchPan","touchRotate"]),c.interactive&&c.touchZoomRotate&&m.touchZoomRotate.enable(c.touchZoomRotate),this._add("blockableMapEvent",new pb(m));const je=m.scrollZoom=new tg(m,(()=>this._triggerRenderFrame()));this._add("scrollZoom",je,["mousePan"]),c.interactive&&c.scrollZoom&&m.scrollZoom.enable(c.scrollZoom);const He=m.keyboard=new Kr(m);this._add("keyboard",He),c.interactive&&c.keyboard&&m.keyboard.enable()}_add(c,m,b){this._handlers.push({handlerName:c,handler:m,allowed:b}),this._handlersById[c]=m}stop(c){if(!this._updatingCamera){for(const{handler:m}of this._handlers)m.reset();this._inertia.clear(),this._fireEvents({},{},c),this._changes=[]}}isActive(){for(const{handler:c}of this._handlers)if(c.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!An(this._eventsInProgress)||this.isZooming()}_blockedByActive(c,m,b){for(const C in c)if(C!==b&&(!m||m.indexOf(C)<0))return!0;return!1}_getMapTouches(c){const m=[];for(const b of c)this._el.contains(b.target)&&m.push(b);return m}mergeHandlerResult(c,m,b,C,I){if(!b)return;s.e(c,b);const z={handlerName:C,originalEvent:b.originalEvent||I};b.zoomDelta!==void 0&&(m.zoom=z),b.panDelta!==void 0&&(m.drag=z),b.rollDelta!==void 0&&(m.roll=z),b.pitchDelta!==void 0&&(m.pitch=z),b.bearingDelta!==void 0&&(m.rotate=z)}_applyChanges(){const c={},m={},b={};for(const[C,I,z]of this._changes)C.panDelta&&(c.panDelta=(c.panDelta||new s.P(0,0))._add(C.panDelta)),C.zoomDelta&&(c.zoomDelta=(c.zoomDelta||0)+C.zoomDelta),C.bearingDelta&&(c.bearingDelta=(c.bearingDelta||0)+C.bearingDelta),C.pitchDelta&&(c.pitchDelta=(c.pitchDelta||0)+C.pitchDelta),C.rollDelta&&(c.rollDelta=(c.rollDelta||0)+C.rollDelta),C.around!==void 0&&(c.around=C.around),C.pinchAround!==void 0&&(c.pinchAround=C.pinchAround),C.noInertia&&(c.noInertia=C.noInertia),s.e(m,I),s.e(b,z);this._updateMapTransform(c,m,b),this._changes=[]}_updateMapTransform(c,m,b){const C=this._map,I=C._getTransformForUpdate(),z=C.terrain;if(!(cp(c)||z&&this._terrainMovement))return this._fireEvents(m,b,!0);C._stop(!0);let{panDelta:V,zoomDelta:H,bearingDelta:J,pitchDelta:ne,rollDelta:he,around:ue,pinchAround:ye}=c;ye!==void 0&&(ue=ye),ue=ue||C.transform.centerPoint,z&&!I.isPointOnMapSurface(ue)&&(ue=I.centerPoint);const Se={panDelta:V,zoomDelta:H,rollDelta:he,pitchDelta:ne,bearingDelta:J,around:ue};this._map.cameraHelper.useGlobeControls&&!I.isPointOnMapSurface(ue)&&(ue=I.centerPoint);const Ie=ue.distSqr(I.centerPoint)<.01?I.center:I.screenPointToLocation(V?ue.sub(V):ue);this._handleMapControls({terrain:z,tr:I,deltasForHelper:Se,preZoomAroundLoc:Ie,combinedEventsInProgress:m,panDelta:V}),C._applyUpdatedTransform(I),this._map._update(),c.noInertia||this._inertia.record(c),this._fireEvents(m,b,!0)}_handleMapControls({terrain:c,tr:m,deltasForHelper:b,preZoomAroundLoc:C,combinedEventsInProgress:I,panDelta:z}){const V=this._map.cameraHelper;if(V.handleMapControlsRollPitchBearingZoom(b,m),c)return V.useGlobeControls?(this._terrainMovement||!I.drag&&!I.zoom||(this._terrainMovement=!0,this._map._elevationFreeze=!0),void V.handleMapControlsPan(b,m,C)):this._terrainMovement||!I.drag&&!I.zoom?void(I.drag&&this._terrainMovement&&z?m.setCenter(m.screenPointToLocation(m.centerPoint.sub(z))):V.handleMapControlsPan(b,m,C)):(this._terrainMovement=!0,this._map._elevationFreeze=!0,void V.handleMapControlsPan(b,m,C));V.handleMapControlsPan(b,m,C)}_fireEvents(c,m,b){const C=An(this._eventsInProgress),I=An(c),z={};for(const he in c){const{originalEvent:ue}=c[he];this._eventsInProgress[he]||(z[`${he}start`]=ue),this._eventsInProgress[he]=c[he]}!C&&I&&this._fireEvent("movestart",I.originalEvent);for(const he in z)this._fireEvent(he,z[he]);I&&this._fireEvent("move",I.originalEvent);for(const he in c){const{originalEvent:ue}=c[he];this._fireEvent(he,ue)}const V={};let H;for(const he in this._eventsInProgress){const{handlerName:ue,originalEvent:ye}=this._eventsInProgress[he];this._handlersById[ue].isActive()||(delete this._eventsInProgress[he],H=m[ue]||ye,V[`${he}end`]=H)}for(const he in V)this._fireEvent(he,V[he]);const J=An(this._eventsInProgress),ne=(C||I)&&!J;if(ne&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;const he=this._map._getTransformForUpdate();this._map.getCenterClampedToGround()&&he.recalculateZoomAndCenter(this._map.terrain),this._map._applyUpdatedTransform(he)}if(b&&ne){this._updatingCamera=!0;const he=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),ue=ye=>ye!==0&&-this._bearingSnap<ye&&ye<this._bearingSnap;!he||!he.essential&&O.prefersReducedMotion?(this._map.fire(new s.l("moveend",{originalEvent:H})),ue(this._map.getBearing())&&this._map.resetNorth()):(ue(he.bearing||this._map.getBearing())&&(he.bearing=0),he.freezeElevation=!0,this._map.easeTo(he,{originalEvent:H})),this._updatingCamera=!1}}_fireEvent(c,m){this._map.fire(new s.l(c,m?{originalEvent:m}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add((c=>{delete this._frameId,this.handleEvent(new _l("renderFrame",{timeStamp:c})),this._applyChanges()}))}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class wo extends s.E{constructor(c,m,b){super(),this._renderFrameCallback=()=>{const C=Math.min((A()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(C)),C<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=c,this._bearingSnap=b.bearingSnap,this.cameraHelper=m,this.on("moveend",(()=>{delete this._requestedCameraState}))}migrateProjection(c,m){c.apply(this.transform),this.transform=c,this.cameraHelper=m}getCenter(){return new s.V(this.transform.center.lng,this.transform.center.lat)}setCenter(c,m){return this.jumpTo({center:c},m)}getCenterElevation(){return this.transform.elevation}setCenterElevation(c,m){return this.jumpTo({elevation:c},m),this}getCenterClampedToGround(){return this._centerClampedToGround}setCenterClampedToGround(c){this._centerClampedToGround=c}panBy(c,m,b){return c=s.P.convert(c).mult(-1),this.panTo(this.transform.center,s.e({offset:c},m),b)}panTo(c,m,b){return this.easeTo(s.e({center:c},m),b)}getZoom(){return this.transform.zoom}setZoom(c,m){return this.jumpTo({zoom:c},m),this}zoomTo(c,m,b){return this.easeTo(s.e({zoom:c},m),b)}zoomIn(c,m){return this.zoomTo(this.getZoom()+1,c,m),this}zoomOut(c,m){return this.zoomTo(this.getZoom()-1,c,m),this}getVerticalFieldOfView(){return this.transform.fov}setVerticalFieldOfView(c,m){return c!=this.transform.fov&&(this.transform.setFov(c),this.fire(new s.l("movestart",m)).fire(new s.l("move",m)).fire(new s.l("moveend",m))),this}getBearing(){return this.transform.bearing}setBearing(c,m){return this.jumpTo({bearing:c},m),this}getPadding(){return this.transform.padding}setPadding(c,m){return this.jumpTo({padding:c},m),this}rotateTo(c,m,b){return this.easeTo(s.e({bearing:c},m),b)}resetNorth(c,m){return this.rotateTo(0,s.e({duration:1e3},c),m),this}resetNorthPitch(c,m){return this.easeTo(s.e({bearing:0,pitch:0,roll:0,duration:1e3},c),m),this}snapToNorth(c,m){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(c,m):this}getPitch(){return this.transform.pitch}setPitch(c,m){return this.jumpTo({pitch:c},m),this}getRoll(){return this.transform.roll}setRoll(c,m){return this.jumpTo({roll:c},m),this}cameraForBounds(c,m){c=sn.convert(c).adjustAntiMeridian();const b=m&&m.bearing||0;return this._cameraForBoxAndBearing(c.getNorthWest(),c.getSouthEast(),b,m)}_cameraForBoxAndBearing(c,m,b,C){const I={top:0,bottom:0,right:0,left:0};if(typeof(C=s.e({padding:I,offset:[0,0],maxZoom:this.transform.maxZoom},C)).padding=="number"){const J=C.padding;C.padding={top:J,bottom:J,right:J,left:J}}const z=s.e(I,C.padding);C.padding=z;const V=this.transform,H=new sn(c,m);return this.cameraHelper.cameraForBoxAndBearing(C,z,H,b,V)}fitBounds(c,m,b){return this._fitInternal(this.cameraForBounds(c,m),m,b)}fitScreenCoordinates(c,m,b,C,I){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.screenPointToLocation(s.P.convert(c)),this.transform.screenPointToLocation(s.P.convert(m)),b,C),C,I)}_fitInternal(c,m,b){return c?(delete(m=s.e(c,m)).padding,m.linear?this.easeTo(m,b):this.flyTo(m,b)):this}jumpTo(c,m){this.stop();const b=this._getTransformForUpdate();let C=!1,I=!1,z=!1;const V=b.zoom;this.cameraHelper.handleJumpToCenterZoom(b,c);const H=b.zoom!==V;return"elevation"in c&&b.elevation!==+c.elevation&&b.setElevation(+c.elevation),"bearing"in c&&b.bearing!==+c.bearing&&(C=!0,b.setBearing(+c.bearing)),"pitch"in c&&b.pitch!==+c.pitch&&(I=!0,b.setPitch(+c.pitch)),"roll"in c&&b.roll!==+c.roll&&(z=!0,b.setRoll(+c.roll)),c.padding==null||b.isPaddingEqual(c.padding)||b.setPadding(c.padding),this._applyUpdatedTransform(b),this.fire(new s.l("movestart",m)).fire(new s.l("move",m)),H&&this.fire(new s.l("zoomstart",m)).fire(new s.l("zoom",m)).fire(new s.l("zoomend",m)),C&&this.fire(new s.l("rotatestart",m)).fire(new s.l("rotate",m)).fire(new s.l("rotateend",m)),I&&this.fire(new s.l("pitchstart",m)).fire(new s.l("pitch",m)).fire(new s.l("pitchend",m)),z&&this.fire(new s.l("rollstart",m)).fire(new s.l("roll",m)).fire(new s.l("rollend",m)),this.fire(new s.l("moveend",m))}calculateCameraOptionsFromTo(c,m,b,C=0){const I=s.a9.fromLngLat(c,m),z=s.a9.fromLngLat(b,C),V=z.x-I.x,H=z.y-I.y,J=z.z-I.z,ne=Math.hypot(V,H,J);if(ne===0)throw new Error("Can't calculate camera options with same From and To");const he=Math.hypot(V,H),ue=s.at(this.transform.cameraToCenterDistance/ne/this.transform.tileSize),ye=180*Math.atan2(V,-H)/Math.PI;let Se=180*Math.acos(he/ne)/Math.PI;return Se=J<0?90-Se:90+Se,{center:z.toLngLat(),elevation:C,zoom:ue,pitch:Se,bearing:ye}}calculateCameraOptionsFromCameraLngLatAltRotation(c,m,b,C,I){const z=this.transform.calculateCenterFromCameraLngLatAlt(c,m,b,C);return{center:z.center,elevation:z.elevation,zoom:z.zoom,bearing:b,pitch:C,roll:I}}easeTo(c,m){this._stop(!1,c.easeId),((c=s.e({offset:[0,0],duration:500,easing:s.cy},c)).animate===!1||!c.essential&&O.prefersReducedMotion)&&(c.duration=0);const b=this._getTransformForUpdate(),C=this.getBearing(),I=b.pitch,z=b.roll,V="bearing"in c?this._normalizeBearing(c.bearing,C):C,H="pitch"in c?+c.pitch:I,J="roll"in c?this._normalizeBearing(c.roll,z):z,ne="padding"in c?c.padding:b.padding,he=s.P.convert(c.offset);let ue,ye;c.around&&(ue=s.V.convert(c.around),ye=b.locationToScreenPoint(ue));const Se={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching,rolling:this._rolling},Ie=this.cameraHelper.handleEaseTo(b,{bearing:V,pitch:H,roll:J,padding:ne,around:ue,aroundPoint:ye,offsetAsPoint:he,offset:c.offset,zoom:c.zoom,center:c.center});return this._rotating=this._rotating||C!==V,this._pitching=this._pitching||H!==I,this._rolling=this._rolling||J!==z,this._padding=!b.isPaddingEqual(ne),this._zooming=this._zooming||Ie.isZooming,this._easeId=c.easeId,this._prepareEase(m,c.noMoveStart,Se),this.terrain&&this._prepareElevation(Ie.elevationCenter),this._ease((Le=>{Ie.easeFunc(Le),this.terrain&&!c.freezeElevation&&this._updateElevation(Le),this._applyUpdatedTransform(b),this._fireMoveEvents(m)}),(Le=>{this.terrain&&c.freezeElevation&&this._finalizeElevation(),this._afterEase(m,Le)}),c),this}_prepareEase(c,m,b={}){this._moving=!0,m||b.moving||this.fire(new s.l("movestart",c)),this._zooming&&!b.zooming&&this.fire(new s.l("zoomstart",c)),this._rotating&&!b.rotating&&this.fire(new s.l("rotatestart",c)),this._pitching&&!b.pitching&&this.fire(new s.l("pitchstart",c)),this._rolling&&!b.rolling&&this.fire(new s.l("rollstart",c))}_prepareElevation(c){this._elevationCenter=c,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(c,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(c){this._elevationStart!==void 0&&this._elevationCenter!==void 0||this._prepareElevation(this.transform.center),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom));const m=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(c<1&&m!==this._elevationTarget){const b=this._elevationTarget-this._elevationStart;this._elevationStart+=c*(b-(m-(b*c+this._elevationStart))/(1-c)),this._elevationTarget=m}this.transform.setElevation(s.G.number(this._elevationStart,this._elevationTarget,c))}_finalizeElevation(){this._elevationFreeze=!1,this.getCenterClampedToGround()&&this.transform.recalculateZoomAndCenter(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(c){if(!this.terrain&&c.elevation>=0&&c.pitch<=90)return{};const m=c.getCameraLngLat(),b=c.getCameraAltitude(),C=this.terrain?this.terrain.getElevationForLngLatZoom(m,c.zoom):0;if(b<C){const I=this.calculateCameraOptionsFromTo(m,C,c.center,c.elevation);return{pitch:I.pitch,zoom:I.zoom}}return{}}_applyUpdatedTransform(c){const m=[];if(m.push((C=>this._elevateCameraIfInsideTerrain(C))),this.transformCameraUpdate&&m.push((C=>this.transformCameraUpdate(C))),!m.length)return;const b=c.clone();for(const C of m){const I=b.clone(),{center:z,zoom:V,roll:H,pitch:J,bearing:ne,elevation:he}=C(I);z&&I.setCenter(z),he!==void 0&&I.setElevation(he),V!==void 0&&I.setZoom(V),H!==void 0&&I.setRoll(H),J!==void 0&&I.setPitch(J),ne!==void 0&&I.setBearing(ne),b.apply(I)}this.transform.apply(b)}_fireMoveEvents(c){this.fire(new s.l("move",c)),this._zooming&&this.fire(new s.l("zoom",c)),this._rotating&&this.fire(new s.l("rotate",c)),this._pitching&&this.fire(new s.l("pitch",c)),this._rolling&&this.fire(new s.l("roll",c))}_afterEase(c,m){if(this._easeId&&m&&this._easeId===m)return;delete this._easeId;const b=this._zooming,C=this._rotating,I=this._pitching,z=this._rolling;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._rolling=!1,this._padding=!1,b&&this.fire(new s.l("zoomend",c)),C&&this.fire(new s.l("rotateend",c)),I&&this.fire(new s.l("pitchend",c)),z&&this.fire(new s.l("rollend",c)),this.fire(new s.l("moveend",c))}flyTo(c,m){if(!c.essential&&O.prefersReducedMotion){const pt=s.U(c,["center","zoom","bearing","pitch","roll","elevation","padding"]);return this.jumpTo(pt,m)}this.stop(),c=s.e({offset:[0,0],speed:1.2,curve:1.42,easing:s.cy},c);const b=this._getTransformForUpdate(),C=b.bearing,I=b.pitch,z=b.roll,V=b.padding,H="bearing"in c?this._normalizeBearing(c.bearing,C):C,J="pitch"in c?+c.pitch:I,ne="roll"in c?this._normalizeBearing(c.roll,z):z,he="padding"in c?c.padding:b.padding,ue=s.P.convert(c.offset);let ye=b.centerPoint.add(ue);const Se=b.screenPointToLocation(ye),Ie=this.cameraHelper.handleFlyTo(b,{bearing:H,pitch:J,roll:ne,padding:he,locationAtOffset:Se,offsetAsPoint:ue,center:c.center,minZoom:c.minZoom,zoom:c.zoom});let Le=c.curve;const De=Math.max(b.width,b.height),je=De/Ie.scaleOfZoom,He=Ie.pixelPathLength;typeof Ie.scaleOfMinZoom=="number"&&(Le=Math.sqrt(De/Ie.scaleOfMinZoom/He*2));const Fe=Le*Le;function We(pt){const tn=(je*je-De*De+(pt?-1:1)*Fe*Fe*He*He)/(2*(pt?je:De)*Fe*He);return Math.log(Math.sqrt(tn*tn+1)-tn)}function Je(pt){return(Math.exp(pt)-Math.exp(-pt))/2}function Ze(pt){return(Math.exp(pt)+Math.exp(-pt))/2}const nt=We(!1);let yt=function(pt){return Ze(nt)/Ze(nt+Le*pt)},ht=function(pt){return De*((Ze(nt)*(Je(tn=nt+Le*pt)/Ze(tn))-Je(nt))/Fe)/He;var tn},ft=(We(!0)-nt)/Le;if(Math.abs(He)<2e-6||!isFinite(ft)){if(Math.abs(De-je)<1e-6)return this.easeTo(c,m);const pt=je<De?-1:1;ft=Math.abs(Math.log(je/De))/Le,ht=()=>0,yt=tn=>Math.exp(pt*Le*tn)}return c.duration="duration"in c?+c.duration:1e3*ft/("screenSpeed"in c?+c.screenSpeed/Le:+c.speed),c.maxDuration&&c.duration>c.maxDuration&&(c.duration=0),this._zooming=!0,this._rotating=C!==H,this._pitching=J!==I,this._rolling=ne!==z,this._padding=!b.isPaddingEqual(he),this._prepareEase(m,!1),this.terrain&&this._prepareElevation(Ie.targetCenter),this._ease((pt=>{const tn=pt*ft,nn=1/yt(tn),Nt=ht(tn);this._rotating&&b.setBearing(s.G.number(C,H,pt)),this._pitching&&b.setPitch(s.G.number(I,J,pt)),this._rolling&&b.setRoll(s.G.number(z,ne,pt)),this._padding&&(b.interpolatePadding(V,he,pt),ye=b.centerPoint.add(ue)),Ie.easeFunc(pt,nn,Nt,ye),this.terrain&&!c.freezeElevation&&this._updateElevation(pt),this._applyUpdatedTransform(b),this._fireMoveEvents(m)}),(()=>{this.terrain&&c.freezeElevation&&this._finalizeElevation(),this._afterEase(m)}),c),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(c,m){var b;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const C=this._onEaseEnd;delete this._onEaseEnd,C.call(this,m)}return c||(b=this.handlers)===null||b===void 0||b.stop(!1),this}_ease(c,m,b){b.animate===!1||b.duration===0?(c(1),m()):(this._easeStart=A(),this._easeOptions=b,this._onEaseFrame=c,this._onEaseEnd=m,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(c,m){c=s.W(c,-180,180);const b=Math.abs(c-m);return Math.abs(c-360-m)<b&&(c-=360),Math.abs(c+360-m)<b&&(c+=360),c}queryTerrainElevation(c){return this.terrain?this.terrain.getElevationForLngLat(s.V.convert(c),this.transform):null}}const Gi={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class lo{constructor(c=Gi){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=m=>{!m||m.sourceDataType!=="metadata"&&m.sourceDataType!=="visibility"&&m.dataType!=="style"&&m.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=c}getDefaultPosition(){return"bottom-right"}onAdd(c){return this._map=c,this._compact=this.options.compact,this._container=M.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=M.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=M.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){M.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(c,m){const b=this._map._getUIString(`AttributionControl.${m}`);c.title=b,c.setAttribute("aria-label",b)}_updateAttributions(){if(!this._map.style)return;let c=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?c=c.concat(this.options.customAttribution.map((C=>typeof C!="string"?"":C))):typeof this.options.customAttribution=="string"&&c.push(this.options.customAttribution)),this._map.style.stylesheet){const C=this._map.style.stylesheet;this.styleOwner=C.owner,this.styleId=C.id}const m=this._map.style.tileManagers;for(const C in m){const I=m[C];if(I.used||I.usedForTerrain){const z=I.getSource();z.attribution&&c.indexOf(z.attribution)<0&&c.push(z.attribution)}}c=c.filter((C=>String(C).trim())),c.sort(((C,I)=>C.length-I.length)),c=c.filter(((C,I)=>{for(let z=I+1;z<c.length;z++)if(c[z].indexOf(C)>=0)return!1;return!0}));const b=c.join(" | ");b!==this._attribHTML&&(this._attribHTML=b,c.length?(this._innerContainer.innerHTML=M.sanitize(b),this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class ig{constructor(c={}){this._updateCompact=()=>{const m=this._container.children;if(m.length){const b=m[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&b.classList.add("maplibregl-compact"):b.classList.remove("maplibregl-compact")}},this.options=c}getDefaultPosition(){return"bottom-left"}onAdd(c){this._map=c,this._compact=this.options&&this.options.compact,this._container=M.create("div","maplibregl-ctrl");const m=M.create("a","maplibregl-ctrl-logo");return m.target="_blank",m.rel="noopener nofollow",m.href="https://maplibre.org/",m.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),m.setAttribute("rel","noopener nofollow"),this._container.appendChild(m),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){M.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Cu{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(c){const m=++this._id;return this._queue.push({callback:c,id:m,cancelled:!1}),m}remove(c){const m=this._currentlyRunning,b=m?this._queue.concat(m):this._queue;for(const C of b)if(C.id===c)return void(C.cancelled=!0)}run(c=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const m=this._currentlyRunning=this._queue;this._queue=[];for(const b of m)if(!b.cancelled&&(b.callback(c),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var _r=s.aU([{name:"a_pos3d",type:"Int16",components:3}]);class Gr extends s.E{constructor(c){super(),this._lastTilesetChange=A(),this.tileManager=c,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.deltaZoom=1,this.tileSize=c._source.tileSize*2**this.deltaZoom,c.usedForTerrain=!0,c.tileSize=this.tileSize}destruct(){this.tileManager.usedForTerrain=!1,this.tileManager.tileSize=null}getSource(){return this.tileManager._source}update(c,m){this.tileManager.update(c,m),this._renderableTilesKeys=[];const b={};for(const C of io(c,{tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:m,calculateTileZoom:this.tileManager._source.calculateTileZoom}))b[C.key]=!0,this._renderableTilesKeys.push(C.key),this._tiles[C.key]||(C.terrainRttPosMatrix32f=new Float64Array(16),s.c7(C.terrainRttPosMatrix32f,0,s.a5,s.a5,0,0,1),this._tiles[C.key]=new St(C,this.tileSize),this._lastTilesetChange=A());for(const C in this._tiles)b[C]||delete this._tiles[C]}freeRtt(c){for(const m in this._tiles){const b=this._tiles[m];(!c||b.tileID.equals(c)||b.tileID.isChildOf(c)||c.isChildOf(b.tileID))&&(b.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map((c=>this.getTileByID(c)))}getTileByID(c){return this._tiles[c]}getTerrainCoords(c,m){return m?this._getTerrainCoordsForTileRanges(c,m):this._getTerrainCoordsForRegularTile(c)}_getTerrainCoordsForRegularTile(c){const m={};for(const b of this._renderableTilesKeys){const C=this._tiles[b].tileID,I=c.clone(),z=s.bk();if(C.canonical.equals(c.canonical))s.c7(z,0,s.a5,s.a5,0,0,1);else if(C.canonical.isChildOf(c.canonical)){const V=C.canonical.z-c.canonical.z,H=C.canonical.x-(C.canonical.x>>V<<V),J=C.canonical.y-(C.canonical.y>>V<<V),ne=s.a5>>V;s.c7(z,0,ne,ne,0,0,1),s.O(z,z,[-H*ne,-J*ne,0])}else{if(!c.canonical.isChildOf(C.canonical))continue;{const V=c.canonical.z-C.canonical.z,H=c.canonical.x-(c.canonical.x>>V<<V),J=c.canonical.y-(c.canonical.y>>V<<V),ne=s.a5>>V;s.c7(z,0,s.a5,s.a5,0,0,1),s.O(z,z,[H*ne,J*ne,0]),s.Q(z,z,[1/2**V,1/2**V,0])}}I.terrainRttPosMatrix32f=new Float32Array(z),m[b]=I}return m}_getTerrainCoordsForTileRanges(c,m){const b={};for(const C of this._renderableTilesKeys){const I=this._tiles[C].tileID;if(!this._isWithinTileRanges(I,m))continue;const z=c.clone(),V=s.bk();if(I.canonical.z===c.canonical.z){const H=c.canonical.x-I.canonical.x,J=c.canonical.y-I.canonical.y;s.c7(V,0,s.a5,s.a5,0,0,1),s.O(V,V,[H*s.a5,J*s.a5,0])}else if(I.canonical.z>c.canonical.z){const H=I.canonical.z-c.canonical.z,J=I.canonical.x-(I.canonical.x>>H<<H),ne=I.canonical.y-(I.canonical.y>>H<<H),he=c.canonical.x-(I.canonical.x>>H),ue=c.canonical.y-(I.canonical.y>>H),ye=s.a5>>H;s.c7(V,0,ye,ye,0,0,1),s.O(V,V,[-J*ye+he*s.a5,-ne*ye+ue*s.a5,0])}else{const H=c.canonical.z-I.canonical.z,J=c.canonical.x-(c.canonical.x>>H<<H),ne=c.canonical.y-(c.canonical.y>>H<<H),he=(c.canonical.x>>H)-I.canonical.x,ue=(c.canonical.y>>H)-I.canonical.y,ye=s.a5<<H;s.c7(V,0,ye,ye,0,0,1),s.O(V,V,[J*s.a5+he*ye,ne*s.a5+ue*ye,0])}z.terrainRttPosMatrix32f=new Float32Array(V),b[C]=z}return b}getSourceTile(c,m){const b=this.tileManager._source;let C=c.overscaledZ-this.deltaZoom;if(C>b.maxzoom&&(C=b.maxzoom),C<b.minzoom)return;this._sourceTileCache[c.key]||(this._sourceTileCache[c.key]=c.scaledTo(C).key);let I=this.findTileInCaches(this._sourceTileCache[c.key]);if(!I?.dem&&m)for(;C>=b.minzoom&&!I?.dem;)I=this.findTileInCaches(c.scaledTo(C--).key);return I}findTileInCaches(c){let m=this.tileManager.getTileByID(c);return m||(m=this.tileManager._outOfViewCache.getByKey(c),m)}anyTilesAfterTime(c=Date.now()){return this._lastTilesetChange>=c}_isWithinTileRanges(c,m){return m[c.canonical.z]&&c.canonical.x>=m[c.canonical.z].minTileX&&c.canonical.x<=m[c.canonical.z].maxTileX&&c.canonical.y>=m[c.canonical.z].minTileY&&c.canonical.y<=m[c.canonical.z].maxTileY}}class gr{constructor(c,m,b){this._meshCache={},this.painter=c,this.tileManager=new Gr(m),this.options=b,this.exaggeration=typeof b.exaggeration=="number"?b.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(c,m,b,C=s.a5){var I;if(!(m>=0&&m<C&&b>=0&&b<C))return 0;const z=this.getTerrainData(c),V=(I=z.tile)===null||I===void 0?void 0:I.dem;if(!V)return 0;const H=s.cC([],[m/C*s.a5,b/C*s.a5],z.u_terrain_matrix),J=[H[0]*V.dim,H[1]*V.dim],ne=Math.floor(J[0]),he=Math.floor(J[1]),ue=J[0]-ne,ye=J[1]-he;return V.get(ne,he)*(1-ue)*(1-ye)+V.get(ne+1,he)*ue*(1-ye)+V.get(ne,he+1)*(1-ue)*ye+V.get(ne+1,he+1)*ue*ye}getElevationForLngLatZoom(c,m){if(!s.cD(m,c.wrap()))return 0;const{tileID:b,mercatorX:C,mercatorY:I}=this._getOverscaledTileIDFromLngLatZoom(c,m);return this.getElevation(b,C%s.a5,I%s.a5,s.a5)}getElevationForLngLat(c,m){const b=io(m,{maxzoom:this.tileManager.maxzoom,minzoom:this.tileManager.minzoom,tileSize:512,terrain:this});let C=0;for(const I of b)I.canonical.z>C&&(C=Math.min(I.canonical.z,this.tileManager.maxzoom));return this.getElevationForLngLatZoom(c,C)}getElevation(c,m,b,C=s.a5){return this.getDEMElevation(c,m,b,C)*this.exaggeration}getTerrainData(c){if(!this._emptyDemTexture){const C=this.painter.context,I=new s.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new s.T(C,I,C.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new s.T(C,new s.R({width:1,height:1}),C.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(C.gl.NEAREST,C.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=s.ar([])}const m=this.tileManager.getSourceTile(c,!0);if(m&&m.dem&&(!m.demTexture||m.needsTerrainPrepare)){const C=this.painter.context;m.demTexture=this.painter.getTileTexture(m.dem.stride),m.demTexture?m.demTexture.update(m.dem.getPixels(),{premultiply:!1}):m.demTexture=new s.T(C,m.dem.getPixels(),C.gl.RGBA,{premultiply:!1}),m.demTexture.bind(C.gl.NEAREST,C.gl.CLAMP_TO_EDGE),m.needsTerrainPrepare=!1}const b=m&&m.toString()+m.tileID.key+c.key;if(b&&!this._demMatrixCache[b]){const C=this.tileManager.getSource().maxzoom;let I=c.canonical.z-m.tileID.canonical.z;c.overscaledZ>c.canonical.z&&(c.canonical.z>=C?I=c.canonical.z-C:s.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const z=c.canonical.x-(c.canonical.x>>I<<I),V=c.canonical.y-(c.canonical.y>>I<<I),H=s.cE(new Float64Array(16),[1/(s.a5<<I),1/(s.a5<<I),0]);s.O(H,H,[z*s.a5,V*s.a5,0]),this._demMatrixCache[c.key]={matrix:H,coord:c}}return{u_depth:2,u_terrain:3,u_terrain_dim:m&&m.dem&&m.dem.dim||1,u_terrain_matrix:b?this._demMatrixCache[c.key].matrix:this._emptyDemMatrix,u_terrain_unpack:m&&m.dem&&m.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(m&&m.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:m}}getFramebuffer(c){const m=this.painter,b=m.width/devicePixelRatio,C=m.height/devicePixelRatio;return!this._fbo||this._fbo.width===b&&this._fbo.height===C||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new s.T(m.context,{width:b,height:C,data:null},m.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(m.context.gl.NEAREST,m.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new s.T(m.context,{width:b,height:C,data:null},m.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(m.context.gl.NEAREST,m.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=m.context.createFramebuffer(b,C,!0,!1),this._fbo.depthAttachment.set(m.context.createRenderbuffer(m.context.gl.DEPTH_COMPONENT16,b,C))),this._fbo.colorAttachment.set(c==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const c=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const m=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let I=0,z=0;I<this._coordsTextureSize;I++)for(let V=0;V<this._coordsTextureSize;V++,z+=4)m[z+0]=255&V,m[z+1]=255&I,m[z+2]=V>>8<<4|I>>8,m[z+3]=0;const b=new s.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(m.buffer)),C=new s.T(c,b,c.gl.RGBA,{premultiply:!1});return C.bind(c.gl.NEAREST,c.gl.CLAMP_TO_EDGE),this._coordsTexture=C,C}pointCoordinate(c){this.painter.maybeDrawDepthAndCoords(!0);const m=new Uint8Array(4),b=this.painter.context,C=b.gl,I=Math.round(c.x*this.painter.pixelRatio/devicePixelRatio),z=Math.round(c.y*this.painter.pixelRatio/devicePixelRatio),V=Math.round(this.painter.height/devicePixelRatio);b.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),C.readPixels(I,V-z-1,1,1,C.RGBA,C.UNSIGNED_BYTE,m),b.bindFramebuffer.set(null);const H=m[0]+(m[2]>>4<<8),J=m[1]+((15&m[2])<<8),ne=this.coordsIndex[255-m[3]],he=ne&&this.tileManager.getTileByID(ne);if(!he)return null;const ue=this._coordsTextureSize,ye=(1<<he.tileID.canonical.z)*ue;return new s.a9((he.tileID.canonical.x*ue+H)/ye+he.tileID.wrap,(he.tileID.canonical.y*ue+J)/ye,this.getElevation(he.tileID,H,J,ue))}depthAtPoint(c){const m=new Uint8Array(4),b=this.painter.context,C=b.gl;return b.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),C.readPixels(c.x,this.painter.height/devicePixelRatio-c.y-1,1,1,C.RGBA,C.UNSIGNED_BYTE,m),b.bindFramebuffer.set(null),(m[0]/16777216+m[1]/65536+m[2]/256+m[3])/256}getTerrainMesh(c){var m;const b=((m=this.painter.style.projection)===null||m===void 0?void 0:m.transitionState)>0,C=b&&c.canonical.y===0,I=b&&c.canonical.y===(1<<c.canonical.z)-1,z=`m_${C?"n":""}_${I?"s":""}`;if(this._meshCache[z])return this._meshCache[z];const V=this.painter.context,H=new s.cF,J=new s.aY,ne=this.meshSize,he=s.a5/ne,ue=ne*ne;for(let Ze=0;Ze<=ne;Ze++)for(let nt=0;nt<=ne;nt++)H.emplaceBack(nt*he,Ze*he,0);for(let Ze=0;Ze<ue;Ze+=ne+1)for(let nt=0;nt<ne;nt++)J.emplaceBack(nt+Ze,ne+nt+Ze+1,ne+nt+Ze+2),J.emplaceBack(nt+Ze,ne+nt+Ze+2,nt+Ze+1);const ye=H.length,Se=ye+(ne+1),Ie=(ne+1)*ne,Le=C?s.br:0,De=C?0:1,je=I?s.bs:s.a5,He=I?0:1;for(let Ze=0;Ze<=ne;Ze++)H.emplaceBack(Ze*he,Le,De);for(let Ze=0;Ze<=ne;Ze++)H.emplaceBack(Ze*he,je,He);for(let Ze=0;Ze<ne;Ze++)J.emplaceBack(Ie+Ze,Se+Ze,Se+Ze+1),J.emplaceBack(Ie+Ze,Se+Ze+1,Ie+Ze+1),J.emplaceBack(0+Ze,ye+Ze+1,ye+Ze),J.emplaceBack(0+Ze,0+Ze+1,ye+Ze+1);const Fe=H.length,We=Fe+2*(ne+1);for(const Ze of[0,1])for(let nt=0;nt<=ne;nt++)for(const yt of[0,1])H.emplaceBack(Ze*s.a5,nt*he,yt);for(let Ze=0;Ze<2*ne;Ze+=2)J.emplaceBack(Fe+Ze,Fe+Ze+1,Fe+Ze+3),J.emplaceBack(Fe+Ze,Fe+Ze+3,Fe+Ze+2),J.emplaceBack(We+Ze,We+Ze+3,We+Ze+1),J.emplaceBack(We+Ze,We+Ze+2,We+Ze+3);const Je=new hi(V.createVertexBuffer(H,_r.members),V.createIndexBuffer(J),s.aX.simpleSegment(0,0,H.length,J.length));return this._meshCache[z]=Je,Je}getMeshFrameDelta(c){return 2*Math.PI*s.bE/Math.pow(2,Math.max(c,0))/5}getMinTileElevationForLngLatZoom(c,m){var b;if(!s.cD(m,c.wrap()))return 0;const{tileID:C}=this._getOverscaledTileIDFromLngLatZoom(c,m);return(b=this.getMinMaxElevation(C).minElevation)!==null&&b!==void 0?b:0}getMinMaxElevation(c){const m=this.getTerrainData(c).tile,b={minElevation:null,maxElevation:null};return m&&m.dem&&(b.minElevation=m.dem.min*this.exaggeration,b.maxElevation=m.dem.max*this.exaggeration),b}_getOverscaledTileIDFromLngLatZoom(c,m){const b=s.a9.fromLngLat(c.wrap()),C=(1<<m)*s.a5,I=b.x*C,z=b.y*C,V=Math.floor(I/s.a5),H=Math.floor(z/s.a5);return{tileID:new s.a2(m,0,m,V,H),mercatorX:I,mercatorY:z}}}class Bi{constructor(c,m,b){this._context=c,this._size=m,this._tileSize=b,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const c of this._objects)c.texture.destroy(),c.fbo.destroy()}_createObject(c){const m=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),b=new s.T(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return b.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),this._context.extTextureFilterAnisotropic&&this._context.gl.texParameterf(this._context.gl.TEXTURE_2D,this._context.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this._context.extTextureFilterAnisotropicMax),m.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),m.colorAttachment.set(b.texture),{id:c,fbo:m,texture:b,stamp:-1,inUse:!1}}getObjectForId(c){return this._objects[c]}useObject(c){c.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter((m=>c.id!==m)),this._recentlyUsed.push(c.id)}stampObject(c){c.stamp=++this._stamp}getOrCreateFreeObject(){for(const m of this._recentlyUsed)if(!this._objects[m].inUse)return this._objects[m];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const c=this._createObject(this._objects.length);return this._objects.push(c),c}freeObject(c){c.inUse=!1}freeAllObjects(){for(const c of this._objects)this.freeObject(c)}isFull(){return!(this._objects.length<this._size)&&this._objects.some((c=>!c.inUse))===!1}}const xl={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0,"color-relief":!0};class Xl{constructor(c,m){this.painter=c,this.terrain=m,this.pool=new Bi(c.context,30,m.tileManager.tileSize*m.qualityFactor)}destruct(){this.pool.destruct()}getTexture(c){return this.pool.getObjectForId(c.rtt[this._stacks.length-1].id).texture}prepareForRender(c,m){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.tileManager.getRenderableTiles(),this._renderableLayerIds=c._order.filter((b=>!c._layers[b].isHidden(m))),this._coordsAscending={};for(const b in c.tileManagers){this._coordsAscending[b]={};const C=c.tileManagers[b].getVisibleCoordinates(),I=c.tileManagers[b].getSource(),z=I instanceof Vt?I.terrainTileRanges:null;for(const V of C){const H=this.terrain.tileManager.getTerrainCoords(V,z);for(const J in H)this._coordsAscending[b][J]||(this._coordsAscending[b][J]=[]),this._coordsAscending[b][J].push(H[J])}}this._coordsAscendingStr={};for(const b of c._order){const C=c._layers[b],I=C.source;if(xl[C.type]&&!this._coordsAscendingStr[I]){this._coordsAscendingStr[I]={};for(const z in this._coordsAscending[I])this._coordsAscendingStr[I][z]=this._coordsAscending[I][z].map((V=>V.key)).sort().join()}}for(const b of this._renderableTiles)for(const C in this._coordsAscendingStr){const I=this._coordsAscendingStr[C][b.tileID.key];I&&I!==b.rttCoords[C]&&(b.rtt=[])}}renderLayer(c,m){if(c.isHidden(this.painter.transform.zoom))return!1;const b=Object.assign(Object.assign({},m),{isRenderingToTexture:!0}),C=c.type,I=this.painter,z=this._renderableLayerIds[this._renderableLayerIds.length-1]===c.id;if(xl[C]&&(this._prevType&&xl[this._prevType]||this._stacks.push([]),this._prevType=C,this._stacks[this._stacks.length-1].push(c.id),!z))return!0;if(xl[this._prevType]||xl[C]&&z){this._prevType=C;const V=this._stacks.length-1,H=this._stacks[V]||[];for(const J of this._renderableTiles){if(this.pool.isFull()&&(zy(this.painter,this.terrain,this._rttTiles,b),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(J),J.rtt[V]){const he=this.pool.getObjectForId(J.rtt[V].id);if(he.stamp===J.rtt[V].stamp){this.pool.useObject(he);continue}}const ne=this.pool.getOrCreateFreeObject();this.pool.useObject(ne),this.pool.stampObject(ne),J.rtt[V]={id:ne.id,stamp:ne.stamp},I.context.bindFramebuffer.set(ne.fbo.framebuffer),I.context.clear({color:s.bp.transparent,stencil:0}),I.currentStencilSource=void 0;for(let he=0;he<H.length;he++){const ue=I.style._layers[H[he]],ye=ue.source?this._coordsAscending[ue.source][J.tileID.key]:[J.tileID];I.context.viewport.set([0,0,ne.fbo.width,ne.fbo.height]),I._renderTileClippingMasks(ue,ye,!0),I.renderLayer(I,I.style.tileManagers[ue.source],ue,ye,b),ue.source&&(J.rttCoords[ue.source]=this._coordsAscendingStr[ue.source][J.tileID.key])}}return zy(this.painter,this.terrain,this._rttTiles,b),this._rttTiles=[],this.pool.freeAllObjects(),xl[C]}return!1}}const Fd={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","GlobeControl.Enable":"Enable globe","GlobeControl.Disable":"Disable globe","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use  + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},jd=u,Tu={hash:!1,interactive:!0,bearingSnap:7,attributionControl:Gi,maplibreLogo:!1,refreshExpiredTiles:!0,canvasContextAttributes:{antialias:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,desynchronized:!1,contextType:void 0},scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],elevation:0,zoom:0,bearing:0,pitch:0,roll:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:s.c.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,transformConstrain:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,rollEnabled:!1,reduceMotion:void 0,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0,centerClampedToGround:!0,experimentalZoomLevelsToOverscale:void 0},Lv={showCompass:!0,showZoom:!0,visualizePitch:!1,visualizeRoll:!0};class Pi{constructor(c,m,b=!1){this.mousedown=I=>{this.startMove(I,M.mousePos(this.element,I)),M.addEventListener(window,"mousemove",this.mousemove),M.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=I=>{this.move(I,M.mousePos(this.element,I))},this.mouseup=I=>{this._rotatePitchHandler.dragEnd(I),this.offTemp()},this.touchstart=I=>{I.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=M.touchPos(this.element,I.targetTouches)[0],this.startMove(I,this._startPos),M.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),M.addEventListener(window,"touchend",this.touchend))},this.touchmove=I=>{I.targetTouches.length!==1?this.reset():(this._lastPos=M.touchPos(this.element,I.targetTouches)[0],this.move(I,this._lastPos))},this.touchend=I=>{I.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this._rotatePitchHandler.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10,this.element=m;const C=new Km;this._rotatePitchHandler=new yl({clickTolerance:3,move:(I,z)=>{const V=m.getBoundingClientRect(),H=new s.P((V.bottom-V.top)/2,(V.right-V.left)/2);return{bearingDelta:s.cx(new s.P(I.x,z.y),z,H),pitchDelta:b?-.5*(z.y-I.y):void 0}},moveStateManager:C,enable:!0,assignEvents:()=>{}}),this.map=c,M.addEventListener(m,"mousedown",this.mousedown),M.addEventListener(m,"touchstart",this.touchstart,{passive:!1}),M.addEventListener(m,"touchcancel",this.reset)}startMove(c,m){this._rotatePitchHandler.dragStart(c,m),M.disableDrag()}move(c,m){const b=this.map,{bearingDelta:C,pitchDelta:I}=this._rotatePitchHandler.dragMove(c,m)||{};C&&b.setBearing(b.getBearing()+C),I&&b.setPitch(b.getPitch()+I)}off(){const c=this.element;M.removeEventListener(c,"mousedown",this.mousedown),M.removeEventListener(c,"touchstart",this.touchstart,{passive:!1}),M.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),M.removeEventListener(window,"touchend",this.touchend),M.removeEventListener(c,"touchcancel",this.reset),this.offTemp()}offTemp(){M.enableDrag(),M.removeEventListener(window,"mousemove",this.mousemove),M.removeEventListener(window,"mouseup",this.mouseup),M.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),M.removeEventListener(window,"touchend",this.touchend)}}let Yl;function up(P,c,m,b=!1){if(b||!m.getCoveringTilesDetailsProvider().allowWorldCopies())return P?.wrap();const C=new s.V(P.lng,P.lat);if(P=new s.V(P.lng,P.lat),c){const I=new s.V(P.lng-360,P.lat),z=new s.V(P.lng+360,P.lat),V=m.locationToScreenPoint(P).distSqr(c);m.locationToScreenPoint(I).distSqr(c)<V?P=I:m.locationToScreenPoint(z).distSqr(c)<V&&(P=z)}for(;Math.abs(P.lng-m.center.lng)>180;){const I=m.locationToScreenPoint(P);if(I.x>=0&&I.y>=0&&I.x<=m.width&&I.y<=m.height)break;P.lng>m.center.lng?P.lng-=360:P.lng+=360}return P.lng!==C.lng&&m.isPointOnMapSurface(m.locationToScreenPoint(P))?P:C}const hp={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function og(P,c,m){const b=P.classList;for(const C in hp)b.remove(`maplibregl-${m}-anchor-${C}`);b.add(`maplibregl-${m}-anchor-${c}`)}class sg extends s.E{constructor(c){if(super(),this._onKeyPress=m=>{const b=m.code,C=m.charCode||m.keyCode;b!=="Space"&&b!=="Enter"&&C!==32&&C!==13||this.togglePopup()},this._onMapClick=m=>{const b=m.originalEvent.target,C=this._element;this._popup&&(b===C||C.contains(b))&&this.togglePopup()},this._update=m=>{if(!this._map)return;const b=this._map.loaded()&&!this._map.isMoving();(m?.type==="terrain"||m?.type==="render"&&!b)&&this._map.once("render",this._update),this._lngLat=up(this._lngLat,this._flatPos,this._map.transform),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationToScreenPoint(this._lngLat)._add(this._offset));let C="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?C=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(C=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let I="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?I="rotateX(0deg)":this._pitchAlignment==="map"&&(I=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||m&&m.type!=="moveend"||(this._pos=this._pos.round()),M.setTransform(this._element,`${hp[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${I} ${C}`),O.frameAsync(new AbortController).then((()=>{this._updateOpacity(m&&m.type==="moveend")})).catch((()=>{}))},this._onMove=m=>{if(!this._isDragging){const b=this._clickTolerance||this._map._clickTolerance;this._isDragging=m.point.dist(this._pointerdownPos)>=b}this._isDragging&&(this._pos=m.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new s.l("dragstart"))),this.fire(new s.l("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new s.l("dragend")),this._state="inactive"},this._addDragHandler=m=>{this._element.contains(m.originalEvent.target)&&(m.preventDefault(),this._positionDelta=m.point.sub(this._pos).add(this._offset),this._pointerdownPos=m.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=c&&c.anchor||"center",this._color=c&&c.color||"#3FB1CE",this._scale=c&&c.scale||1,this._draggable=c&&c.draggable||!1,this._clickTolerance=c&&c.clickTolerance||0,this._subpixelPositioning=c&&c.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=c&&c.rotation||0,this._rotationAlignment=c&&c.rotationAlignment||"auto",this._pitchAlignment=c&&c.pitchAlignment&&c.pitchAlignment!=="auto"?c.pitchAlignment:this._rotationAlignment,this.setOpacity(c?.opacity,c?.opacityWhenCovered),c&&c.element)this._element=c.element,this._offset=s.P.convert(c&&c.offset||[0,0]);else{this._defaultMarker=!0,this._element=M.create("div");const m=M.createNS("http://www.w3.org/2000/svg","svg"),b=41,C=27;m.setAttributeNS(null,"display","block"),m.setAttributeNS(null,"height",`${b}px`),m.setAttributeNS(null,"width",`${C}px`),m.setAttributeNS(null,"viewBox",`0 0 ${C} ${b}`);const I=M.createNS("http://www.w3.org/2000/svg","g");I.setAttributeNS(null,"stroke","none"),I.setAttributeNS(null,"stroke-width","1"),I.setAttributeNS(null,"fill","none"),I.setAttributeNS(null,"fill-rule","evenodd");const z=M.createNS("http://www.w3.org/2000/svg","g");z.setAttributeNS(null,"fill-rule","nonzero");const V=M.createNS("http://www.w3.org/2000/svg","g");V.setAttributeNS(null,"transform","translate(3.0, 29.0)"),V.setAttributeNS(null,"fill","#000000");const H=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const De of H){const je=M.createNS("http://www.w3.org/2000/svg","ellipse");je.setAttributeNS(null,"opacity","0.04"),je.setAttributeNS(null,"cx","10.5"),je.setAttributeNS(null,"cy","5.80029008"),je.setAttributeNS(null,"rx",De.rx),je.setAttributeNS(null,"ry",De.ry),V.appendChild(je)}const J=M.createNS("http://www.w3.org/2000/svg","g");J.setAttributeNS(null,"fill",this._color);const ne=M.createNS("http://www.w3.org/2000/svg","path");ne.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),J.appendChild(ne);const he=M.createNS("http://www.w3.org/2000/svg","g");he.setAttributeNS(null,"opacity","0.25"),he.setAttributeNS(null,"fill","#000000");const ue=M.createNS("http://www.w3.org/2000/svg","path");ue.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),he.appendChild(ue);const ye=M.createNS("http://www.w3.org/2000/svg","g");ye.setAttributeNS(null,"transform","translate(6.0, 7.0)"),ye.setAttributeNS(null,"fill","#FFFFFF");const Se=M.createNS("http://www.w3.org/2000/svg","g");Se.setAttributeNS(null,"transform","translate(8.0, 8.0)");const Ie=M.createNS("http://www.w3.org/2000/svg","circle");Ie.setAttributeNS(null,"fill","#000000"),Ie.setAttributeNS(null,"opacity","0.25"),Ie.setAttributeNS(null,"cx","5.5"),Ie.setAttributeNS(null,"cy","5.5"),Ie.setAttributeNS(null,"r","5.4999962");const Le=M.createNS("http://www.w3.org/2000/svg","circle");Le.setAttributeNS(null,"fill","#FFFFFF"),Le.setAttributeNS(null,"cx","5.5"),Le.setAttributeNS(null,"cy","5.5"),Le.setAttributeNS(null,"r","5.4999962"),Se.appendChild(Ie),Se.appendChild(Le),z.appendChild(V),z.appendChild(J),z.appendChild(he),z.appendChild(ye),z.appendChild(Se),m.appendChild(z),m.setAttributeNS(null,"height",b*this._scale+"px"),m.setAttributeNS(null,"width",C*this._scale+"px"),this._element.appendChild(m),this._offset=s.P.convert(c&&c.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",(m=>{m.preventDefault()})),this._element.addEventListener("mousedown",(m=>{m.preventDefault()})),og(this._element,this._anchor,"marker"),c&&c.className)for(const m of c.className.split(" "))this._element.classList.add(m);this._popup=null}addTo(c){return this.remove(),this._map=c,this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label",c._getUIString("Marker.Title")),this._element.hasAttribute("role")||this._element.setAttribute("role","button"),c.getCanvasContainer().appendChild(this._element),c.on("move",this._update),c.on("moveend",this._update),c.on("terrain",this._update),c.on("projectiontransition",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("projectiontransition",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),M.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(c){return this._lngLat=s.V.convert(c),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(c){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),c){if(!("offset"in c.options)){const C=Math.abs(13.5)/Math.SQRT2;c.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[C,-1*(38.1-13.5+C)],"bottom-right":[-C,-1*(38.1-13.5+C)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=c,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(c){return this._subpixelPositioning=c,this}getPopup(){return this._popup}togglePopup(){const c=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:c?(c.isOpen()?c.remove():(c.setLngLat(this._lngLat),c.addTo(this._map)),this):this}_updateOpacity(c=!1){var m,b;const C=(m=this._map)===null||m===void 0?void 0:m.terrain,I=this._map.transform.isLocationOccluded(this._lngLat);if(!C||I){const ye=I?this._opacityWhenCovered:this._opacity;return void(this._element.style.opacity!==ye&&(this._element.style.opacity=ye))}if(c)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout((()=>{this._opacityTimeout=null}),100)}const z=this._map,V=z.terrain.depthAtPoint(this._pos),H=z.terrain.getElevationForLngLat(this._lngLat,z.transform);if(z.transform.lngLatToCameraDepth(this._lngLat,H)-V<.006)return void(this._element.style.opacity=this._opacity);const J=-this._offset.y/z.transform.pixelsPerMeter,ne=Math.sin(z.getPitch()*Math.PI/180)*J,he=z.terrain.depthAtPoint(new s.P(this._pos.x,this._pos.y-this._offset.y)),ue=z.transform.lngLatToCameraDepth(this._lngLat,H+ne)-he>.006;!((b=this._popup)===null||b===void 0)&&b.isOpen()&&ue&&this._popup.remove(),this._element.style.opacity=ue?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(c){return this._offset=s.P.convert(c),this._update(),this}addClassName(c){this._element.classList.add(c)}removeClassName(c){this._element.classList.remove(c)}toggleClassName(c){return this._element.classList.toggle(c)}setDraggable(c){return this._draggable=!!c,this._map&&(c?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(c){return this._rotation=c||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(c){return this._rotationAlignment=c||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(c){return this._pitchAlignment=c&&c!=="auto"?c:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(c,m){return(this._opacity===void 0||c===void 0&&m===void 0)&&(this._opacity="1",this._opacityWhenCovered="0.2"),c!==void 0&&(this._opacity=c),m!==void 0&&(this._opacityWhenCovered=m),this._map&&this._updateOpacity(!0),this}}const ag={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Rh=0,ku=!1;const Cs={maxWidth:100,unit:"metric"};function Fi(P,c,m){const b=m&&m.maxWidth||100,C=P._container.clientHeight/2,I=P._container.clientWidth/2,z=P.unproject([I-b/2,C]),V=P.unproject([I+b/2,C]),H=Math.round(P.project(V).x-P.project(z).x),J=Math.min(b,H,P._container.clientWidth),ne=z.distanceTo(V);if(m&&m.unit==="imperial"){const he=3.2808*ne;he>5280?jc(c,J,he/5280,P._getUIString("ScaleControl.Miles")):jc(c,J,he,P._getUIString("ScaleControl.Feet"))}else m&&m.unit==="nautical"?jc(c,J,ne/1852,P._getUIString("ScaleControl.NauticalMiles")):ne>=1e3?jc(c,J,ne/1e3,P._getUIString("ScaleControl.Kilometers")):jc(c,J,ne,P._getUIString("ScaleControl.Meters"))}function jc(P,c,m,b){const C=(function(I){const z=Math.pow(10,`${Math.floor(I)}`.length-1);let V=I/z;return V=V>=10?10:V>=5?5:V>=3?3:V>=2?2:V>=1?1:(function(H){const J=Math.pow(10,Math.ceil(-Math.log(H)/Math.LN10));return Math.round(H*J)/J})(V),z*V})(m);P.style.width=c*(C/m)+"px",P.innerHTML=`${C}&nbsp;${b}`}const Vd={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1,locationOccludedOpacity:void 0},Qd=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function dp(P){if(P){if(typeof P=="number"){const c=Math.round(Math.abs(P)/Math.SQRT2);return{center:new s.P(0,0),top:new s.P(0,P),"top-left":new s.P(c,c),"top-right":new s.P(-c,c),bottom:new s.P(0,-P),"bottom-left":new s.P(c,-c),"bottom-right":new s.P(-c,-c),left:new s.P(P,0),right:new s.P(-P,0)}}if(P instanceof s.P||Array.isArray(P)){const c=s.P.convert(P);return{center:c,top:c,"top-left":c,"top-right":c,bottom:c,"bottom-left":c,"bottom-right":c,left:c,right:c}}return{center:s.P.convert(P.center||[0,0]),top:s.P.convert(P.top||[0,0]),"top-left":s.P.convert(P["top-left"]||[0,0]),"top-right":s.P.convert(P["top-right"]||[0,0]),bottom:s.P.convert(P.bottom||[0,0]),"bottom-left":s.P.convert(P["bottom-left"]||[0,0]),"bottom-right":s.P.convert(P["bottom-right"]||[0,0]),left:s.P.convert(P.left||[0,0]),right:s.P.convert(P.right||[0,0])}}return dp(new s.P(0,0))}const Kl=u;a.AJAXError=s.cI,a.Event=s.l,a.Evented=s.E,a.LngLat=s.V,a.MercatorCoordinate=s.a9,a.Point=s.P,a.addProtocol=s.cJ,a.config=s.c,a.removeProtocol=s.cK,a.AttributionControl=lo,a.BoxZoomHandler=Ph,a.CanvasSource=se,a.CooperativeGesturesHandler=xn,a.DoubleClickZoomHandler=Uy,a.DragPanHandler=Dv,a.DragRotateHandler=Za,a.EdgeInsets=$a,a.FullscreenControl=class extends s.E{constructor(P={}){super(),this._onFullscreenChange=()=>{var c;let m=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((c=m?.shadowRoot)===null||c===void 0)&&c.fullscreenElement;)m=m.shadowRoot.fullscreenElement;m===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,P&&P.container&&(P.container instanceof HTMLElement?this._container=P.container:s.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(P){return this._map=P,this._container||(this._container=this._map.getContainer()),this._controlContainer=M.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){M.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const P=this._fullscreenButton=M.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);M.create("span","maplibregl-ctrl-icon",P).setAttribute("aria-hidden","true"),P.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const P=this._getTitle();this._fullscreenButton.setAttribute("aria-label",P),this._fullscreenButton.title=P}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new s.l("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new s.l("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},a.GeoJSONSource=kt,a.GeolocateControl=class extends s.E{constructor(P){super(),this._onSuccess=c=>{if(this._map){if(this._isOutOfMapMaxBounds(c))return this._setErrorState(),this.fire(new s.l("outofmaxbounds",c)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=c,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(c),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(c),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new s.l("geolocate",c)),this._finish()}},this._updateCamera=c=>{const m=new s.V(c.coords.longitude,c.coords.latitude),b=c.coords.accuracy,C=this._map.getBearing(),I=s.e({bearing:C},this.options.fitBoundsOptions),z=sn.fromLngLat(m,b);this._map.fitBounds(z,I,{geolocateSource:!0})},this._updateMarker=c=>{if(c){const m=new s.V(c.coords.longitude,c.coords.latitude);this._accuracyCircleMarker.setLngLat(m).addTo(this._map),this._userLocationDotMarker.setLngLat(m).addTo(this._map),this._accuracy=c.coords.accuracy,this._updateCircleRadiusIfNeeded()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onUpdate=()=>{this._updateCircleRadiusIfNeeded()},this._onError=c=>{if(this._map){if(c.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const m=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=m,this._geolocateButton.setAttribute("aria-label",m),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(c.code===3&&ku)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new s.l("error",c)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",(c=>c.preventDefault())),this._geolocateButton=M.create("button","maplibregl-ctrl-geolocate",this._container),M.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=c=>{if(this._map){if(c===!1){s.w("Geolocation support is not available so the GeolocateControl will be disabled.");const m=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=m,this._geolocateButton.setAttribute("aria-label",m)}else{const m=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=m,this._geolocateButton.setAttribute("aria-label",m)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=M.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new sg({element:this._dotElement}),this._circleElement=M.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new sg({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onUpdate),this._map.on("move",this._onUpdate),this._map.on("rotate",this._onUpdate),this._map.on("pitch",this._onUpdate)),this._geolocateButton.addEventListener("click",(()=>this.trigger())),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(m=>{const b=m?.[0]instanceof ResizeObserverEntry;m.geolocateSource||this._watchState!=="ACTIVE_LOCK"||b||this._map.isZooming()||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new s.l("trackuserlocationend")),this.fire(new s.l("userlocationlostfocus")))}))}},this.options=s.e({},ag,P)}onAdd(P){return this._map=P,this._container=M.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),(function(){return s._(this,arguments,void 0,(function*(c=!1){if(Yl!==void 0&&!c)return Yl;if(window.navigator.permissions===void 0)return Yl=!!window.navigator.geolocation,Yl;try{Yl=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{Yl=!!window.navigator.geolocation}return Yl}))})().then((c=>this._finishSetupUI(c))),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),M.remove(this._container),this._map.off("zoom",this._onUpdate),this._map.off("move",this._onUpdate),this._map.off("rotate",this._onUpdate),this._map.off("pitch",this._onUpdate),this._map=void 0,Rh=0,ku=!1}_isOutOfMapMaxBounds(P){const c=this._map.getMaxBounds(),m=P.coords;return c&&(m.longitude<c.getWest()||m.longitude>c.getEast()||m.latitude<c.getSouth()||m.latitude>c.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":case"BACKGROUND_ERROR":case"OFF":case void 0:break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadiusIfNeeded(){const P=this._userLocationDotMarker.getLngLat();if(!(this.options.showUserLocation&&this.options.showAccuracyCircle&&this._accuracy&&P))return;const c=this._map.project(P),m=this._map.unproject([c.x+100,c.y]),b=P.distanceTo(m)/100,C=2*this._accuracy/b;this._circleElement.style.width=`${C.toFixed(2)}px`,this._circleElement.style.height=`${C.toFixed(2)}px`}trigger(){if(!this._setup)return s.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new s.l("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Rh--,ku=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new s.l("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new s.l("trackuserlocationstart")),this.fire(new s.l("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let P;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Rh++,Rh>1?(P={maximumAge:6e5,timeout:0},ku=!0):(P=this.options.positionOptions,ku=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,P)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},a.GlobeControl=class{constructor(){this._toggleProjection=()=>{var P;const c=(P=this._map.getProjection())===null||P===void 0?void 0:P.type;this._map.setProjection(c!=="mercator"&&c?{type:"mercator"}:{type:"globe"}),this._updateGlobeIcon()},this._updateGlobeIcon=()=>{var P;this._globeButton.classList.remove("maplibregl-ctrl-globe"),this._globeButton.classList.remove("maplibregl-ctrl-globe-enabled"),((P=this._map.getProjection())===null||P===void 0?void 0:P.type)==="globe"?(this._globeButton.classList.add("maplibregl-ctrl-globe-enabled"),this._globeButton.title=this._map._getUIString("GlobeControl.Disable")):(this._globeButton.classList.add("maplibregl-ctrl-globe"),this._globeButton.title=this._map._getUIString("GlobeControl.Enable"))}}onAdd(P){return this._map=P,this._container=M.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._globeButton=M.create("button","maplibregl-ctrl-globe",this._container),M.create("span","maplibregl-ctrl-icon",this._globeButton).setAttribute("aria-hidden","true"),this._globeButton.type="button",this._globeButton.addEventListener("click",this._toggleProjection),this._updateGlobeIcon(),this._map.on("styledata",this._updateGlobeIcon),this._container}onRemove(){M.remove(this._container),this._map.off("styledata",this._updateGlobeIcon),this._globeButton.removeEventListener("click",this._toggleProjection),this._map=void 0}},a.Hash=bo,a.ImageSource=Vt,a.KeyboardHandler=Kr,a.LngLatBounds=sn,a.LogoControl=ig,a.Map=class extends wo{constructor(P){var c,m;s.cG.mark(s.cH.create);const b=Object.assign(Object.assign(Object.assign({},Tu),P),{canvasContextAttributes:Object.assign(Object.assign({},Tu.canvasContextAttributes),P.canvasContextAttributes)});if(b.minZoom!=null&&b.maxZoom!=null&&b.minZoom>b.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(b.minPitch!=null&&b.maxPitch!=null&&b.minPitch>b.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(b.minPitch!=null&&b.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(b.maxPitch!=null&&b.maxPitch>180)throw new Error("maxPitch must be less than or equal to 180");const C=new Qo,I=new Cd;if(b.minZoom!==void 0&&C.setMinZoom(b.minZoom),b.maxZoom!==void 0&&C.setMaxZoom(b.maxZoom),b.minPitch!==void 0&&C.setMinPitch(b.minPitch),b.maxPitch!==void 0&&C.setMaxPitch(b.maxPitch),b.renderWorldCopies!==void 0&&C.setRenderWorldCopies(b.renderWorldCopies),b.transformConstrain!==null&&C.setConstrainOverride(b.transformConstrain),super(C,I,{bearingSnap:b.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new Cu,this._controls=[],this._mapId=s.af(),this._lostContextStyle={style:null,images:null},this._contextLost=V=>{V.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.painter.destroy();for(const H of Object.values(this.style._layers))if(H.type==="custom"&&console.warn(`Custom layer with id '${H.id}' cannot be restored after WebGL context loss. You will need to re-add it manually after context restoration.`),H._listeners)for(const[J]of Object.entries(H._listeners))console.warn(`Custom layer with id '${H.id}' had event listeners for event '${J}' which cannot be restored after WebGL context loss. You will need to re-add them manually after context restoration.`);this._lostContextStyle=this._getStyleAndImages(),this.style.destroy(),this.style=null,this.fire(new s.l("webglcontextlost",{originalEvent:V}))},this._contextRestored=V=>{this._lostContextStyle.style&&this.setStyle(this._lostContextStyle.style,{diff:!1}),this._lostContextStyle.images&&(this.style.imageManager.images=this._lostContextStyle.images),this._setupPainter(),this.resize(),this._update(),this.fire(new s.l("webglcontextrestored",{originalEvent:V}))},this._onMapScroll=V=>{if(V.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=b.interactive,this._maxTileCacheSize=b.maxTileCacheSize,this._maxTileCacheZoomLevels=b.maxTileCacheZoomLevels,this._canvasContextAttributes=Object.assign({},b.canvasContextAttributes),this._trackResize=b.trackResize===!0,this._bearingSnap=b.bearingSnap,this._centerClampedToGround=b.centerClampedToGround,this._refreshExpiredTiles=b.refreshExpiredTiles===!0,this._fadeDuration=b.fadeDuration,this._crossSourceCollisions=b.crossSourceCollisions===!0,this._collectResourceTiming=b.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},Fd),b.locale),this._clickTolerance=b.clickTolerance,this._overridePixelRatio=b.pixelRatio,this._maxCanvasSize=b.maxCanvasSize,this._zoomLevelsToOverscale=b.experimentalZoomLevelsToOverscale,this.transformCameraUpdate=b.transformCameraUpdate,this.transformConstrain=b.transformConstrain,this.cancelPendingTileRequestsWhileZooming=b.cancelPendingTileRequestsWhileZooming===!0,b.reduceMotion!==void 0&&(O.prefersReducedMotion=b.reduceMotion),this._imageQueueHandle=W.addThrottleControl((()=>this.isMoving())),this._requestManager=new te(b.transformRequest),typeof b.container=="string"){if(this._container=document.getElementById(b.container),!this._container)throw new Error(`Container '${b.container}' not found.`)}else{if(!(b.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=b.container}if(b.maxBounds&&this.setMaxBounds(b.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",(()=>this._update(!1))),this.on("moveend",(()=>this._update(!1))),this.on("zoom",(()=>this._update(!0))),this.on("terrain",(()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)})),this.once("idle",(()=>{this._idleTriggered=!0})),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let V=!1;const H=Mv((J=>{this._trackResize&&!this._removed&&(this.resize(J),this.redraw())}),50);this._resizeObserver=new ResizeObserver((J=>{V?H(J):V=!0})),this._resizeObserver.observe(this._container)}this.handlers=new rg(this,b),this._hash=b.hash&&new bo(typeof b.hash=="string"&&b.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:b.center,elevation:b.elevation,zoom:b.zoom,bearing:b.bearing,pitch:b.pitch,roll:b.roll}),b.bounds&&(this.resize(),this.fitBounds(b.bounds,s.e({},b.fitBoundsOptions,{duration:0}))));const z=typeof b.style=="string"||((m=(c=b.style)===null||c===void 0?void 0:c.projection)===null||m===void 0?void 0:m.type)!=="globe";this.resize(null,z),this._localIdeographFontFamily=b.localIdeographFontFamily,this._validateStyle=b.validateStyle,b.style&&this.setStyle(b.style,{localIdeographFontFamily:b.localIdeographFontFamily}),b.attributionControl&&this.addControl(new lo(typeof b.attributionControl=="boolean"?void 0:b.attributionControl)),b.maplibreLogo&&this.addControl(new ig,b.logoPosition),this.on("style.load",(()=>{if(z||this._resizeTransform(),this.transform.unmodified){const V=s.U(this.style.stylesheet,["center","zoom","bearing","pitch","roll"]);this.jumpTo(V)}})),this.on("data",(V=>{this._update(V.dataType==="style"),this.fire(new s.l(`${V.dataType}data`,V))})),this.on("dataloading",(V=>{this.fire(new s.l(`${V.dataType}dataloading`,V))})),this.on("dataabort",(V=>{this.fire(new s.l("sourcedataabort",V))}))}_getMapId(){return this._mapId}setGlobalStateProperty(P,c){return this.style.setGlobalStateProperty(P,c),this._update(!0)}getGlobalState(){return this.style.getGlobalState()}addControl(P,c){if(c===void 0&&(c=P.getDefaultPosition?P.getDefaultPosition():"top-right"),!P||!P.onAdd)return this.fire(new s.k(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const m=P.onAdd(this);this._controls.push(P);const b=this._controlPositions[c];return c.indexOf("bottom")!==-1?b.insertBefore(m,b.firstChild):b.appendChild(m),this}removeControl(P){if(!P||!P.onRemove)return this.fire(new s.k(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const c=this._controls.indexOf(P);return c>-1&&this._controls.splice(c,1),P.onRemove(this),this}hasControl(P){return this._controls.indexOf(P)>-1}coveringTiles(P){return io(this.transform,P)}calculateCameraOptionsFromTo(P,c,m,b){return b==null&&this.terrain&&(b=this.terrain.getElevationForLngLat(m,this.transform)),super.calculateCameraOptionsFromTo(P,c,m,b)}resize(P,c=!0){const[m,b]=this._containerDimensions(),C=this._getClampedPixelRatio(m,b);if(this._resizeCanvas(m,b,C),this.painter.resize(m,b,C),this.painter.overLimit()){const z=this.painter.context.gl;this._maxCanvasSize=[z.drawingBufferWidth,z.drawingBufferHeight];const V=this._getClampedPixelRatio(m,b);this._resizeCanvas(m,b,V),this.painter.resize(m,b,V)}this._resizeTransform(c);const I=!this._moving;return I&&(this.stop(),this.fire(new s.l("movestart",P)).fire(new s.l("move",P))),this.fire(new s.l("resize",P)),I&&this.fire(new s.l("moveend",P)),this}_resizeTransform(P=!0){var c;const[m,b]=this._containerDimensions();this.transform.resize(m,b,P),(c=this._requestedCameraState)===null||c===void 0||c.resize(m,b,P)}_getClampedPixelRatio(P,c){const{0:m,1:b}=this._maxCanvasSize,C=this.getPixelRatio(),I=P*C,z=c*C;return Math.min(I>m?m/I:1,z>b?b/z:1)*C}getPixelRatio(){var P;return(P=this._overridePixelRatio)!==null&&P!==void 0?P:devicePixelRatio}setPixelRatio(P){this._overridePixelRatio=P,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(P){return this.transform.setMaxBounds(sn.convert(P)),this._update()}setMinZoom(P){if((P=P??-2)>=-2&&P<=this.transform.maxZoom){const c=this._getTransformForUpdate();return c.setMinZoom(P),this._applyUpdatedTransform(c),this._update(),this}throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(P){if((P=P??22)>=this.transform.minZoom){const c=this._getTransformForUpdate();return c.setMaxZoom(P),this._applyUpdatedTransform(c),this._update(),this}throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(P){if((P=P??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(P>=0&&P<=this.transform.maxPitch)return this.transform.setMinPitch(P),this._update(),this.getPitch()<P&&this.setPitch(P),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(P){if((P=P??60)>180)throw new Error("maxPitch must be less than or equal to 180");if(P>=this.transform.minPitch)return this.transform.setMaxPitch(P),this._update(),this.getPitch()>P&&this.setPitch(P),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(P){return this.transform.setRenderWorldCopies(P),this._update()}setTransformConstrain(P){return this.transform.setConstrainOverride(P),this._update()}project(P){return this.transform.locationToScreenPoint(s.V.convert(P),this.style&&this.terrain)}unproject(P){return this.transform.screenPointToLocation(s.P.convert(P),this.terrain)}isMoving(){var P;return this._moving||((P=this.handlers)===null||P===void 0?void 0:P.isMoving())}isZooming(){var P;return this._zooming||((P=this.handlers)===null||P===void 0?void 0:P.isZooming())}isRotating(){var P;return this._rotating||((P=this.handlers)===null||P===void 0?void 0:P.isRotating())}_createDelegatedListener(P,c,m){if(P==="mouseenter"||P==="mouseover"){let b=!1;return{layers:c,listener:m,delegates:{mousemove:I=>{const z=c.filter((H=>this.getLayer(H))),V=z.length!==0?this.queryRenderedFeatures(I.point,{layers:z}):[];V.length?b||(b=!0,m.call(this,new es(P,this,I.originalEvent,{features:V}))):b=!1},mouseout:()=>{b=!1}}}}if(P==="mouseleave"||P==="mouseout"){let b=!1;return{layers:c,listener:m,delegates:{mousemove:z=>{const V=c.filter((H=>this.getLayer(H)));(V.length!==0?this.queryRenderedFeatures(z.point,{layers:V}):[]).length?b=!0:b&&(b=!1,m.call(this,new es(P,this,z.originalEvent)))},mouseout:z=>{b&&(b=!1,m.call(this,new es(P,this,z.originalEvent)))}}}}{const b=C=>{const I=c.filter((V=>this.getLayer(V))),z=I.length!==0?this.queryRenderedFeatures(C.point,{layers:I}):[];z.length&&(C.features=z,m.call(this,C),delete C.features)};return{layers:c,listener:m,delegates:{[P]:b}}}}_saveDelegatedListener(P,c){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[P]=this._delegatedListeners[P]||[],this._delegatedListeners[P].push(c)}_removeDelegatedListener(P,c,m){if(!this._delegatedListeners||!this._delegatedListeners[P])return;const b=this._delegatedListeners[P];for(let C=0;C<b.length;C++){const I=b[C];if(I.listener===m&&I.layers.length===c.length&&I.layers.every((z=>c.includes(z)))){for(const z in I.delegates)this.off(z,I.delegates[z]);return void b.splice(C,1)}}}on(P,c,m){if(m===void 0)return super.on(P,c);const b=typeof c=="string"?[c]:c,C=this._createDelegatedListener(P,b,m);this._saveDelegatedListener(P,C);for(const I in C.delegates)this.on(I,C.delegates[I]);return{unsubscribe:()=>{this._removeDelegatedListener(P,b,m)}}}once(P,c,m){if(m===void 0)return super.once(P,c);const b=typeof c=="string"?[c]:c,C=this._createDelegatedListener(P,b,m);for(const I in C.delegates){const z=C.delegates[I];C.delegates[I]=(...V)=>{this._removeDelegatedListener(P,b,m),z(...V)}}this._saveDelegatedListener(P,C);for(const I in C.delegates)this.once(I,C.delegates[I]);return this}off(P,c,m){return m===void 0?super.off(P,c):(this._removeDelegatedListener(P,typeof c=="string"?[c]:c,m),this)}queryRenderedFeatures(P,c){if(!this.style)return[];let m;const b=P instanceof s.P||Array.isArray(P),C=b?P:[[0,0],[this.transform.width,this.transform.height]];if(c=c||(b?{}:P)||{},C instanceof s.P||typeof C[0]=="number")m=[s.P.convert(C)];else{const I=s.P.convert(C[0]),z=s.P.convert(C[1]);m=[I,new s.P(z.x,I.y),z,new s.P(I.x,z.y),I]}return this.style.queryRenderedFeatures(m,c,this.transform)}querySourceFeatures(P,c){return this.style.querySourceFeatures(P,c)}setStyle(P,c){return(c=s.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},c)).diff!==!1&&c.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&P?(this._diffStyle(P,c),this):(this._localIdeographFontFamily=c.localIdeographFontFamily,this._updateStyle(P,c))}setTransformRequest(P){return this._requestManager.setTransformRequest(P),this}_getUIString(P){const c=this._locale[P];if(c==null)throw new Error(`Missing UI string '${P}'`);return c}_updateStyle(P,c){var m,b;if(c.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",(()=>this._updateStyle(P,c)));const C=this.style&&c.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!P)),P?(this.style=new xh(this,c||{}),this.style.setEventedParent(this,{style:this.style}),typeof P=="string"?this.style.loadURL(P,c,C):this.style.loadJSON(P,c,C),this):((b=(m=this.style)===null||m===void 0?void 0:m.projection)===null||b===void 0||b.destroy(),delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new xh(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(P,c){if(typeof P=="string"){const m=this._requestManager.transformRequest(P,"Style");s.j(m,new AbortController).then((b=>{this._updateDiff(b.data,c)})).catch((b=>{b&&this.fire(new s.k(b))}))}else typeof P=="object"&&this._updateDiff(P,c)}_updateDiff(P,c){try{this.style.setState(P,c)&&this._update(!0)}catch(m){s.w(`Unable to perform style diff: ${m.message||m.error||m}.  Rebuilding the style from scratch.`),this._updateStyle(P,c)}}getStyle(){if(this.style)return this.style.serialize()}_getStyleAndImages(){return this.style?{style:this.style.serialize(),images:this.style.imageManager.cloneImages()}:{style:null,images:{}}}isStyleLoaded(){return this.style?this.style.loaded():s.w("There is no style added to the map.")}addSource(P,c){return this._lazyInitEmptyStyle(),this.style.addSource(P,c),this._update(!0)}isSourceLoaded(P){const c=this.style&&this.style.tileManagers[P];if(c!==void 0)return c.loaded();this.fire(new s.k(new Error(`There is no tile manager with ID '${P}'`)))}setTerrain(P){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),P){const c=this.style.tileManagers[P.source];if(!c)throw new Error(`cannot load terrain, because there exists no source with ID: ${P.source}`);this.terrain===null&&c.reload();for(const m in this.style._layers){const b=this.style._layers[m];b.type==="hillshade"&&b.source===P.source&&s.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality."),b.type==="color-relief"&&b.source===P.source&&s.w("You are using the same source for a color-relief layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new gr(this.painter,c,P),this.painter.renderToTexture=new Xl(this.painter,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._terrainDataCallback=m=>{var b;m.dataType==="style"?this.terrain.tileManager.freeRtt():m.dataType==="source"&&m.tile&&(m.sourceId!==P.source||this._elevationFreeze||(this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))),((b=m.source)===null||b===void 0?void 0:b.type)==="image"?this.terrain.tileManager.freeRtt():this.terrain.tileManager.freeRtt(m.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.tileManager.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0);return this.fire(new s.l("terrain",{terrain:P})),this}getTerrain(){var P,c;return(c=(P=this.terrain)===null||P===void 0?void 0:P.options)!==null&&c!==void 0?c:null}areTilesLoaded(){const P=this.style&&this.style.tileManagers;for(const c of Object.values(P))if(!c.areTilesLoaded())return!1;return!0}removeSource(P){return this.style.removeSource(P),this._update(!0)}getSource(P){return this.style.getSource(P)}setSourceTileLodParams(P,c,m){if(m){const b=this.getSource(m);if(!b)throw new Error(`There is no source with ID "${m}", cannot set LOD parameters`);b.calculateTileZoom=En(Math.max(1,P),Math.max(1,c))}else for(const b in this.style.tileManagers)this.style.tileManagers[b].getSource().calculateTileZoom=En(Math.max(1,P),Math.max(1,c));return this._update(!0),this}refreshTiles(P,c){const m=this.style.tileManagers[P];if(!m)throw new Error(`There is no tile manager with ID "${P}", cannot refresh tile`);c===void 0?m.reload(!0):m.refreshTiles(c.map((b=>new s.ac(b.z,b.x,b.y))))}addImage(P,c,m={}){const{pixelRatio:b=1,sdf:C=!1,stretchX:I,stretchY:z,content:V,textFitWidth:H,textFitHeight:J}=m;if(this._lazyInitEmptyStyle(),!(c instanceof HTMLImageElement||s.b(c))){if(c.width===void 0||c.height===void 0)return this.fire(new s.k(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:ne,height:he,data:ue}=c,ye=c;return this.style.addImage(P,{data:new s.R({width:ne,height:he},new Uint8Array(ue)),pixelRatio:b,stretchX:I,stretchY:z,content:V,textFitWidth:H,textFitHeight:J,sdf:C,version:0,userImage:ye}),ye.onAdd&&ye.onAdd(this,P),this}}{const{width:ne,height:he,data:ue}=O.getImageData(c);this.style.addImage(P,{data:new s.R({width:ne,height:he},ue),pixelRatio:b,stretchX:I,stretchY:z,content:V,textFitWidth:H,textFitHeight:J,sdf:C,version:0})}}updateImage(P,c){const m=this.style.getImage(P);if(!m)return this.fire(new s.k(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const b=c instanceof HTMLImageElement||s.b(c)?O.getImageData(c):c,{width:C,height:I,data:z}=b;if(C===void 0||I===void 0)return this.fire(new s.k(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(C!==m.data.width||I!==m.data.height)return this.fire(new s.k(new Error("The width and height of the updated image must be that same as the previous version of the image")));const V=!(c instanceof HTMLImageElement||s.b(c));return m.data.replace(z,V),this.style.updateImage(P,m),this}getImage(P){return this.style.getImage(P)}hasImage(P){return P?!!this.style.getImage(P):(this.fire(new s.k(new Error("Missing required image id"))),!1)}removeImage(P){this.style.removeImage(P)}loadImage(P){return W.getImage(this._requestManager.transformRequest(P,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(P,c){return this._lazyInitEmptyStyle(),this.style.addLayer(P,c),this._update(!0)}moveLayer(P,c){return this.style.moveLayer(P,c),this._update(!0)}removeLayer(P){return this.style.removeLayer(P),this._update(!0)}getLayer(P){return this.style.getLayer(P)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(P,c,m){return this.style.setLayerZoomRange(P,c,m),this._update(!0)}setFilter(P,c,m={}){return this.style.setFilter(P,c,m),this._update(!0)}getFilter(P){return this.style.getFilter(P)}setPaintProperty(P,c,m,b={}){return this.style.setPaintProperty(P,c,m,b),this._update(!0)}getPaintProperty(P,c){return this.style.getPaintProperty(P,c)}setLayoutProperty(P,c,m,b={}){return this.style.setLayoutProperty(P,c,m,b),this._update(!0)}getLayoutProperty(P,c){return this.style.getLayoutProperty(P,c)}setGlyphs(P,c={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(P,c),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(P,c,m={}){return this._lazyInitEmptyStyle(),this.style.addSprite(P,c,m,(b=>{b||this._update(!0)})),this}removeSprite(P){return this._lazyInitEmptyStyle(),this.style.removeSprite(P),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(P,c={}){return this._lazyInitEmptyStyle(),this.style.setSprite(P,c,(m=>{m||this._update(!0)})),this}setLight(P,c={}){return this._lazyInitEmptyStyle(),this.style.setLight(P,c),this._update(!0)}getLight(){return this.style.getLight()}setSky(P,c={}){return this._lazyInitEmptyStyle(),this.style.setSky(P,c),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(P,c){return this.style.setFeatureState(P,c),this._update()}removeFeatureState(P,c){return this.style.removeFeatureState(P,c),this._update()}getFeatureState(P){return this.style.getFeatureState(P)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let P=0,c=0;return this._container&&(P=this._container.clientWidth||400,c=this._container.clientHeight||300),[P,c]}_setupContainer(){const P=this._container;P.classList.add("maplibregl-map");const c=this._canvasContainer=M.create("div","maplibregl-canvas-container",P);this._interactive&&c.classList.add("maplibregl-interactive"),this._canvas=M.create("canvas","maplibregl-canvas",c),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");const m=this._containerDimensions(),b=this._getClampedPixelRatio(m[0],m[1]);this._resizeCanvas(m[0],m[1],b);const C=this._controlContainer=M.create("div","maplibregl-control-container",P),I=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((z=>{I[z]=M.create("div",`maplibregl-ctrl-${z} `,C)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(P,c,m){this._canvas.width=Math.floor(m*P),this._canvas.height=Math.floor(m*c),this._canvas.style.width=`${P}px`,this._canvas.style.height=`${c}px`}_setupPainter(){const P=Object.assign(Object.assign({},this._canvasContextAttributes),{alpha:!0,depth:!0,stencil:!0,premultipliedAlpha:!0});let c=null;this._canvas.addEventListener("webglcontextcreationerror",(b=>{c={requestedAttributes:P},b&&(c.statusMessage=b.statusMessage,c.type=b.type)}),{once:!0});let m=null;if(m=this._canvasContextAttributes.contextType?this._canvas.getContext(this._canvasContextAttributes.contextType,P):this._canvas.getContext("webgl2",P)||this._canvas.getContext("webgl",P),!m){const b="Failed to initialize WebGL";throw c?(c.message=b,new Error(JSON.stringify(c))):new Error(b)}this.painter=new fb(m,this.transform),L.testSupport(m)}migrateProjection(P,c){super.migrateProjection(P,c),this.painter.transform=P,this.fire(new s.l("projectiontransition",{newProjection:this.style.projection.name}))}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(P){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||P,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(P){return this._update(),this._renderTaskQueue.add(P)}_cancelRenderFrame(P){this._renderTaskQueue.remove(P)}_render(P){var c,m,b,C,I;const z=this._idleTriggered?this._fadeDuration:0,V=((c=this.style.projection)===null||c===void 0?void 0:c.transitionState)>0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(P),this._removed)return;let H=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const he=this.transform.zoom,ue=A();this.style.zoomHistory.update(he,ue);const ye=new s.H(he,{now:ue,fadeDuration:z,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Se=ye.crossFadingFactor();Se===1&&Se===this._crossFadingFactor||(H=!0,this._crossFadingFactor=Se),this.style.update(ye)}const J=((m=this.style.projection)===null||m===void 0?void 0:m.transitionState)>0!==V;(b=this.style.projection)===null||b===void 0||b.setErrorQueryLatitudeDegrees(this.transform.center.lat),this.transform.setTransitionState((C=this.style.projection)===null||C===void 0?void 0:C.transitionState,(I=this.style.projection)===null||I===void 0?void 0:I.latitudeErrorCorrectionRadians),this.style&&(this._sourcesDirty||J)&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.tileManager.update(this.transform,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),!this._elevationFreeze&&this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0)),this._placementDirty=this.style&&this.style._updatePlacement(this.transform,this.showCollisionBoxes,z,this._crossSourceCollisions,J),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:z,showPadding:this.showPadding}),this.fire(new s.l("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,s.cG.mark(s.cH.load),this.fire(new s.l("load"))),this.style&&(this.style.hasTransitions()||H)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const ne=this._sourcesDirty||this._styleDirty||this._placementDirty;return ne||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new s.l("idle")),!this._loaded||this._fullyLoaded||ne||(this._fullyLoaded=!0,s.cG.mark(s.cH.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var P;this._hash&&this._hash.remove();for(const m of this._controls)m.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),W.removeThrottleControl(this._imageQueueHandle),(P=this._resizeObserver)===null||P===void 0||P.disconnect();const c=this.painter.context.gl.getExtension("WEBGL_lose_context");c?.loseContext&&c.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),M.remove(this._canvasContainer),M.remove(this._controlContainer),this._container.removeEventListener("scroll",this._onMapScroll,!1),this._container.classList.remove("maplibregl-map"),s.cG.clearMetrics(),this._removed=!0,this.fire(new s.l("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,O.frame(this._frameRequest,(P=>{s.cG.frame(P),this._frameRequest=null;try{this._render(P)}catch(c){if(!s.Z(c)&&!(function(m){return m.message===Eh})(c))throw c}}),(()=>{})))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(P){this._showTileBoundaries!==P&&(this._showTileBoundaries=P,this._update())}get showPadding(){return!!this._showPadding}set showPadding(P){this._showPadding!==P&&(this._showPadding=P,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(P){this._showCollisionBoxes!==P&&(this._showCollisionBoxes=P,P?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(P){this._showOverdrawInspector!==P&&(this._showOverdrawInspector=P,this._update())}get repaint(){return!!this._repaint}set repaint(P){this._repaint!==P&&(this._repaint=P,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(P){this._vertices=P,this._update()}get version(){return jd}getCameraTargetElevation(){return this.transform.elevation}getProjection(){return this.style.getProjection()}setProjection(P){return this._lazyInitEmptyStyle(),this.style.setProjection(P),this._update(!0)}},a.MapMouseEvent=es,a.MapTouchEvent=Wl,a.MapWheelEvent=Ny,a.Marker=sg,a.NavigationControl=class{constructor(P){this._updateZoomButtons=()=>{const c=this._map.getZoom(),m=c===this._map.getMaxZoom(),b=c===this._map.getMinZoom();this._zoomInButton.disabled=m,this._zoomOutButton.disabled=b,this._zoomInButton.setAttribute("aria-disabled",m.toString()),this._zoomOutButton.setAttribute("aria-disabled",b.toString())},this._rotateCompassArrow=()=>{this._compassIcon.style.transform=this.options.visualizePitch&&this.options.visualizeRoll?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateZ(${-this._map.transform.roll}deg) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizeRoll?`rotate(${-this._map.transform.bearing-this._map.transform.roll}deg)`:`rotate(${-this._map.transform.bearing}deg)`},this._setButtonTitle=(c,m)=>{const b=this._map._getUIString(`NavigationControl.${m}`);c.title=b,c.setAttribute("aria-label",b)},this.options=s.e({},Lv,P),this._container=M.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",(c=>c.preventDefault())),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",(c=>this._map.zoomIn({},{originalEvent:c}))),M.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",(c=>this._map.zoomOut({},{originalEvent:c}))),M.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",(c=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:c}):this._map.resetNorth({},{originalEvent:c})})),this._compassIcon=M.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(P){return this._map=P,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.on("roll",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Pi(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){M.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.off("roll",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(P,c){const m=M.create("button",P,this._container);return m.type="button",m.addEventListener("click",c),m}},a.Popup=class extends s.E{constructor(P){super(),this._updateOpacity=()=>{this.options.locationOccludedOpacity!==void 0&&(this._container.style.opacity=this._map.transform.isLocationOccluded(this.getLngLat())?`${this.options.locationOccludedOpacity}`:"")},this.remove=()=>(this._content&&M.remove(this._content),this._container&&(M.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new s.l("close"))),this),this._onMouseUp=c=>{this._update(c.point)},this._onMouseMove=c=>{this._update(c.point)},this._onDrag=c=>{this._update(c.point)},this._update=c=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=M.create("div","maplibregl-popup",this._map.getContainer()),this._tip=M.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const z of this.options.className.split(" "))this._container.classList.add(z);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=up(this._lngLat,this._flatPos,this._map.transform,this._trackPointer),this._trackPointer&&!c)return;const m=this._flatPos=this._pos=this._trackPointer&&c?c:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&c?c:this._map.transform.locationToScreenPoint(this._lngLat));let b=this.options.anchor;const C=dp(this.options.offset);if(!b){const z=this._container.offsetWidth,V=this._container.offsetHeight;let H;H=m.y+C.bottom.y<V?["top"]:m.y>this._map.transform.height-V?["bottom"]:[],m.x<z/2?H.push("left"):m.x>this._map.transform.width-z/2&&H.push("right"),b=H.length===0?"bottom":H.join("-")}let I=m.add(C[b]);this.options.subpixelPositioning||(I=I.round()),M.setTransform(this._container,`${hp[b]} translate(${I.x}px,${I.y}px)`),og(this._container,b,"popup"),this._updateOpacity()},this._onClose=()=>{this.remove()},this.options=s.e(Object.create(Vd),P)}addTo(P){return this._map&&this.remove(),this._map=P,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new s.l("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(P){return this._lngLat=s.V.convert(P),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(P){return this.setDOMContent(document.createTextNode(P))}setHTML(P){const c=document.createDocumentFragment(),m=document.createElement("body");let b;for(m.innerHTML=P;b=m.firstChild,b;)c.appendChild(b);return this.setDOMContent(c)}getMaxWidth(){var P;return(P=this._container)===null||P===void 0?void 0:P.style.maxWidth}setMaxWidth(P){return this.options.maxWidth=P,this._update(),this}setDOMContent(P){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=M.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(P),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(P){return this._container&&this._container.classList.add(P),this}removeClassName(P){return this._container&&this._container.classList.remove(P),this}setOffset(P){return this.options.offset=P,this._update(),this}toggleClassName(P){if(this._container)return this._container.classList.toggle(P)}setSubpixelPositioning(P){this.options.subpixelPositioning=P}_createCloseButton(){this.options.closeButton&&(this._closeButton=M.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const P=this._container.querySelector(Qd);P&&P.focus()}},a.RasterDEMTileSource=Qe,a.RasterTileSource=Vn,a.ScaleControl=class{constructor(P){this._onMove=()=>{Fi(this._map,this._container,this.options)},this.setUnit=c=>{this.options.unit=c,Fi(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},Cs),P)}getDefaultPosition(){return"bottom-left"}onAdd(P){return this._map=P,this._container=M.create("div","maplibregl-ctrl maplibregl-ctrl-scale",P.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){M.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},a.ScrollZoomHandler=tg,a.Style=xh,a.TerrainControl=class{constructor(P){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=P}onAdd(P){return this._map=P,this._container=M.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=M.create("button","maplibregl-ctrl-terrain",this._container),M.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){M.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},a.TwoFingersTouchPitchHandler=Ou,a.TwoFingersTouchRotateHandler=eg,a.TwoFingersTouchZoomHandler=Bc,a.TwoFingersTouchZoomRotateHandler=Bd,a.VectorTileSource=Fn,a.VideoSource=Oe,a.addSourceType=(P,c)=>s._(void 0,void 0,void 0,(function*(){if(xe(P))throw new Error(`A source type called "${P}" already exists.`);((m,b)=>{K[m]=b})(P,c)})),a.clearPrewarmedResources=function(){const P=ot;P&&(P.isPreloaded()&&P.numActive()===1?(P.release(mt),ot=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},a.createTileMesh=eb,a.getMaxParallelImageRequests=function(){return s.c.MAX_PARALLEL_IMAGE_REQUESTS},a.getRTLTextPluginStatus=function(){return tt().getRTLTextPluginStatus()},a.getVersion=function(){return Kl},a.getWorkerCount=function(){return gt.workerCount},a.getWorkerUrl=function(){return s.c.WORKER_URL},a.importScriptInWorkers=function(P){return Wt().broadcast("IS",P)},a.isTimeFrozen=function(){return E.isFrozen()},a.now=A,a.prewarm=function(){At().acquire(mt)},a.restoreNow=function(){E.restoreNow()},a.setMaxParallelImageRequests=function(P){s.c.MAX_PARALLEL_IMAGE_REQUESTS=P},a.setNow=function(P){E.setNow(P)},a.setRTLTextPlugin=function(P,c){return tt().setRTLTextPlugin(P,c)},a.setWorkerCount=function(P){gt.workerCount=P},a.setWorkerUrl=function(P){s.c.WORKER_URL=P}}));var o=n;return o}))})(kP)),kP.exports}var XX=Xfe();const YX=tv(XX),Yfe=AX({__proto__:null,default:YX},[XX]),ZC={black:"#000",white:"#fff"},y1={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},v1={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},_1={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},x1={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},b1={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},y2={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Kfe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Gg(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}const ik="$$material";function Ao(){return Ao=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ao.apply(null,arguments)}function Jfe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function epe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var tpe=(function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(epe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=Jfe(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t})(),Pl="-ms-",h5="-moz-",Ci="-webkit-",KX="comm",_N="rule",xN="decl",npe="@import",JX="@keyframes",rpe="@layer",ipe=Math.abs,iR=String.fromCharCode,ope=Object.assign;function spe(t,e){return nl(t,0)^45?(((e<<2^nl(t,0))<<2^nl(t,1))<<2^nl(t,2))<<2^nl(t,3):0}function eY(t){return t.trim()}function ape(t,e){return(t=e.exec(t))?t[0]:t}function Ti(t,e,n){return t.replace(e,n)}function I$(t,e){return t.indexOf(e)}function nl(t,e){return t.charCodeAt(e)|0}function qC(t,e,n){return t.slice(e,n)}function Fp(t){return t.length}function bN(t){return t.length}function sA(t,e){return e.push(t),t}function lpe(t,e){return t.map(e).join("")}var oR=1,Dw=1,tY=0,cu=0,Hs=0,kO="";function sR(t,e,n,r,i,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:oR,column:Dw,length:a,return:""}}function v2(t,e){return ope(sR("",null,null,"",null,null,0),t,{length:-t.length},e)}function cpe(){return Hs}function upe(){return Hs=cu>0?nl(kO,--cu):0,Dw--,Hs===10&&(Dw=1,oR--),Hs}function rh(){return Hs=cu<tY?nl(kO,cu++):0,Dw++,Hs===10&&(Dw=1,oR++),Hs}function rm(){return nl(kO,cu)}function EP(){return cu}function ok(t,e){return qC(kO,t,e)}function WC(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function nY(t){return oR=Dw=1,tY=Fp(kO=t),cu=0,[]}function rY(t){return kO="",t}function AP(t){return eY(ok(cu-1,D$(t===91?t+2:t===40?t+1:t)))}function hpe(t){for(;(Hs=rm())&&Hs<33;)rh();return WC(t)>2||WC(Hs)>3?"":" "}function dpe(t,e){for(;--e&&rh()&&!(Hs<48||Hs>102||Hs>57&&Hs<65||Hs>70&&Hs<97););return ok(t,EP()+(e<6&&rm()==32&&rh()==32))}function D$(t){for(;rh();)switch(Hs){case t:return cu;case 34:case 39:t!==34&&t!==39&&D$(Hs);break;case 40:t===41&&D$(t);break;case 92:rh();break}return cu}function fpe(t,e){for(;rh()&&t+Hs!==57;)if(t+Hs===84&&rm()===47)break;return"/*"+ok(e,cu-1)+"*"+iR(t===47?t:rh())}function ppe(t){for(;!WC(rm());)rh();return ok(t,cu)}function mpe(t){return rY(PP("",null,null,null,[""],t=nY(t),0,[0],t))}function PP(t,e,n,r,i,o,a,s,u){for(var d=0,g=0,v=a,x=0,O=0,E=0,A=1,M=1,L=1,$=0,N="",F=i,U=o,q=r,W=N;M;)switch(E=$,$=rh()){case 40:if(E!=108&&nl(W,v-1)==58){I$(W+=Ti(AP($),"&","&\f"),"&\f")!=-1&&(L=-1);break}case 34:case 39:case 91:W+=AP($);break;case 9:case 10:case 13:case 32:W+=hpe(E);break;case 92:W+=dpe(EP()-1,7);continue;case 47:switch(rm()){case 42:case 47:sA(gpe(fpe(rh(),EP()),e,n),u);break;default:W+="/"}break;case 123*A:s[d++]=Fp(W)*L;case 125*A:case 59:case 0:switch($){case 0:case 125:M=0;case 59+g:L==-1&&(W=Ti(W,/\f/g,"")),O>0&&Fp(W)-v&&sA(O>32?V7(W+";",r,n,v-1):V7(Ti(W," ","")+";",r,n,v-2),u);break;case 59:W+=";";default:if(sA(q=j7(W,e,n,d,g,i,s,N,F=[],U=[],v),o),$===123)if(g===0)PP(W,e,q,q,F,o,v,s,U);else switch(x===99&&nl(W,3)===110?100:x){case 100:case 108:case 109:case 115:PP(t,q,q,r&&sA(j7(t,q,q,0,0,i,s,N,i,F=[],v),U),i,U,v,s,r?F:U);break;default:PP(W,q,q,q,[""],U,0,s,U)}}d=g=O=0,A=L=1,N=W="",v=a;break;case 58:v=1+Fp(W),O=E;default:if(A<1){if($==123)--A;else if($==125&&A++==0&&upe()==125)continue}switch(W+=iR($),$*A){case 38:L=g>0?1:(W+="\f",-1);break;case 44:s[d++]=(Fp(W)-1)*L,L=1;break;case 64:rm()===45&&(W+=AP(rh())),x=rm(),g=v=Fp(N=W+=ppe(EP())),$++;break;case 45:E===45&&Fp(W)==2&&(A=0)}}return o}function j7(t,e,n,r,i,o,a,s,u,d,g){for(var v=i-1,x=i===0?o:[""],O=bN(x),E=0,A=0,M=0;E<r;++E)for(var L=0,$=qC(t,v+1,v=ipe(A=a[E])),N=t;L<O;++L)(N=eY(A>0?x[L]+" "+$:Ti($,/&\f/g,x[L])))&&(u[M++]=N);return sR(t,e,n,i===0?_N:s,u,d,g)}function gpe(t,e,n){return sR(t,e,n,KX,iR(cpe()),qC(t,2,-2),0)}function V7(t,e,n,r){return sR(t,e,n,xN,qC(t,0,r),qC(t,r+1,-1),r)}function uw(t,e){for(var n="",r=bN(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function ype(t,e,n,r){switch(t.type){case rpe:if(t.children.length)break;case npe:case xN:return t.return=t.return||t.value;case KX:return"";case JX:return t.return=t.value+"{"+uw(t.children,r)+"}";case _N:t.value=t.props.join(",")}return Fp(n=uw(t.children,r))?t.return=t.value+"{"+n+"}":""}function vpe(t){var e=bN(t);return function(n,r,i,o){for(var a="",s=0;s<e;s++)a+=t[s](n,r,i,o)||"";return a}}function _pe(t){return function(e){e.root||(e=e.return)&&t(e)}}function iY(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var xpe=function(e,n,r){for(var i=0,o=0;i=o,o=rm(),i===38&&o===12&&(n[r]=1),!WC(o);)rh();return ok(e,cu)},bpe=function(e,n){var r=-1,i=44;do switch(WC(i)){case 0:i===38&&rm()===12&&(n[r]=1),e[r]+=xpe(cu-1,n,r);break;case 2:e[r]+=AP(i);break;case 4:if(i===44){e[++r]=rm()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=iR(i)}while(i=rh());return e},wpe=function(e,n){return rY(bpe(nY(e),n))},Q7=new WeakMap,Ope=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Q7.get(r))&&!i){Q7.set(e,!0);for(var o=[],a=wpe(n,o),s=r.props,u=0,d=0;u<a.length;u++)for(var g=0;g<s.length;g++,d++)e.props[d]=o[u]?a[u].replace(/&\f/g,s[g]):s[g]+" "+a[u]}}},Spe=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function oY(t,e){switch(spe(t,e)){case 5103:return Ci+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ci+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ci+t+h5+t+Pl+t+t;case 6828:case 4268:return Ci+t+Pl+t+t;case 6165:return Ci+t+Pl+"flex-"+t+t;case 5187:return Ci+t+Ti(t,/(\w+).+(:[^]+)/,Ci+"box-$1$2"+Pl+"flex-$1$2")+t;case 5443:return Ci+t+Pl+"flex-item-"+Ti(t,/flex-|-self/,"")+t;case 4675:return Ci+t+Pl+"flex-line-pack"+Ti(t,/align-content|flex-|-self/,"")+t;case 5548:return Ci+t+Pl+Ti(t,"shrink","negative")+t;case 5292:return Ci+t+Pl+Ti(t,"basis","preferred-size")+t;case 6060:return Ci+"box-"+Ti(t,"-grow","")+Ci+t+Pl+Ti(t,"grow","positive")+t;case 4554:return Ci+Ti(t,/([^-])(transform)/g,"$1"+Ci+"$2")+t;case 6187:return Ti(Ti(Ti(t,/(zoom-|grab)/,Ci+"$1"),/(image-set)/,Ci+"$1"),t,"")+t;case 5495:case 3959:return Ti(t,/(image-set\([^]*)/,Ci+"$1$`$1");case 4968:return Ti(Ti(t,/(.+:)(flex-)?(.*)/,Ci+"box-pack:$3"+Pl+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ci+t+t;case 4095:case 3583:case 4068:case 2532:return Ti(t,/(.+)-inline(.+)/,Ci+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Fp(t)-1-e>6)switch(nl(t,e+1)){case 109:if(nl(t,e+4)!==45)break;case 102:return Ti(t,/(.+:)(.+)-([^]+)/,"$1"+Ci+"$2-$3$1"+h5+(nl(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~I$(t,"stretch")?oY(Ti(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(nl(t,e+1)!==115)break;case 6444:switch(nl(t,Fp(t)-3-(~I$(t,"!important")&&10))){case 107:return Ti(t,":",":"+Ci)+t;case 101:return Ti(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ci+(nl(t,14)===45?"inline-":"")+"box$3$1"+Ci+"$2$3$1"+Pl+"$2box$3")+t}break;case 5936:switch(nl(t,e+11)){case 114:return Ci+t+Pl+Ti(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ci+t+Pl+Ti(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ci+t+Pl+Ti(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ci+t+Pl+t+t}return t}var Cpe=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case xN:e.return=oY(e.value,e.length);break;case JX:return uw([v2(e,{value:Ti(e.value,"@","@"+Ci)})],i);case _N:if(e.length)return lpe(e.props,function(o){switch(ape(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return uw([v2(e,{props:[Ti(o,/:(read-\w+)/,":"+h5+"$1")]})],i);case"::placeholder":return uw([v2(e,{props:[Ti(o,/:(plac\w+)/,":"+Ci+"input-$1")]}),v2(e,{props:[Ti(o,/:(plac\w+)/,":"+h5+"$1")]}),v2(e,{props:[Ti(o,/:(plac\w+)/,Pl+"input-$1")]})],i)}return""})}},Tpe=[Cpe],kpe=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(A){var M=A.getAttribute("data-emotion");M.indexOf(" ")!==-1&&(document.head.appendChild(A),A.setAttribute("data-s",""))})}var i=e.stylisPlugins||Tpe,o={},a,s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(A){for(var M=A.getAttribute("data-emotion").split(" "),L=1;L<M.length;L++)o[M[L]]=!0;s.push(A)});var u,d=[Ope,Spe];{var g,v=[ype,_pe(function(A){g.insert(A)})],x=vpe(d.concat(i,v)),O=function(M){return uw(mpe(M),x)};u=function(M,L,$,N){g=$,O(M?M+"{"+L.styles+"}":L.styles),N&&(E.inserted[L.name]=!0)}}var E={key:n,sheet:new tpe({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:u};return E.sheet.hydrate(s),E},LD={exports:{}},Ii={};var U7;function Epe(){if(U7)return Ii;U7=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,a=t?Symbol.for("react.provider"):60109,s=t?Symbol.for("react.context"):60110,u=t?Symbol.for("react.async_mode"):60111,d=t?Symbol.for("react.concurrent_mode"):60111,g=t?Symbol.for("react.forward_ref"):60112,v=t?Symbol.for("react.suspense"):60113,x=t?Symbol.for("react.suspense_list"):60120,O=t?Symbol.for("react.memo"):60115,E=t?Symbol.for("react.lazy"):60116,A=t?Symbol.for("react.block"):60121,M=t?Symbol.for("react.fundamental"):60117,L=t?Symbol.for("react.responder"):60118,$=t?Symbol.for("react.scope"):60119;function N(U){if(typeof U=="object"&&U!==null){var q=U.$$typeof;switch(q){case e:switch(U=U.type,U){case u:case d:case r:case o:case i:case v:return U;default:switch(U=U&&U.$$typeof,U){case s:case g:case E:case O:case a:return U;default:return q}}case n:return q}}}function F(U){return N(U)===d}return Ii.AsyncMode=u,Ii.ConcurrentMode=d,Ii.ContextConsumer=s,Ii.ContextProvider=a,Ii.Element=e,Ii.ForwardRef=g,Ii.Fragment=r,Ii.Lazy=E,Ii.Memo=O,Ii.Portal=n,Ii.Profiler=o,Ii.StrictMode=i,Ii.Suspense=v,Ii.isAsyncMode=function(U){return F(U)||N(U)===u},Ii.isConcurrentMode=F,Ii.isContextConsumer=function(U){return N(U)===s},Ii.isContextProvider=function(U){return N(U)===a},Ii.isElement=function(U){return typeof U=="object"&&U!==null&&U.$$typeof===e},Ii.isForwardRef=function(U){return N(U)===g},Ii.isFragment=function(U){return N(U)===r},Ii.isLazy=function(U){return N(U)===E},Ii.isMemo=function(U){return N(U)===O},Ii.isPortal=function(U){return N(U)===n},Ii.isProfiler=function(U){return N(U)===o},Ii.isStrictMode=function(U){return N(U)===i},Ii.isSuspense=function(U){return N(U)===v},Ii.isValidElementType=function(U){return typeof U=="string"||typeof U=="function"||U===r||U===d||U===o||U===i||U===v||U===x||typeof U=="object"&&U!==null&&(U.$$typeof===E||U.$$typeof===O||U.$$typeof===a||U.$$typeof===s||U.$$typeof===g||U.$$typeof===M||U.$$typeof===L||U.$$typeof===$||U.$$typeof===A)},Ii.typeOf=N,Ii}var Z7;function Ape(){return Z7||(Z7=1,LD.exports=Epe()),LD.exports}var $D,q7;function Ppe(){if(q7)return $D;q7=1;var t=Ape(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[t.ForwardRef]=r,o[t.Memo]=i;function a(E){return t.isMemo(E)?i:o[E.$$typeof]||e}var s=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,v=Object.getPrototypeOf,x=Object.prototype;function O(E,A,M){if(typeof A!="string"){if(x){var L=v(A);L&&L!==x&&O(E,L,M)}var $=u(A);d&&($=$.concat(d(A)));for(var N=a(E),F=a(A),U=0;U<$.length;++U){var q=$[U];if(!n[q]&&!(M&&M[q])&&!(F&&F[q])&&!(N&&N[q])){var W=g(A,q);try{s(E,q,W)}catch{}}}}return E}return $D=O,$D}Ppe();var Mpe=!0;function sY(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var wN=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||Mpe===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},ON=function(e,n,r){wN(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function Rpe(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Ipe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Dpe=/[A-Z]|^ms/g,Lpe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,aY=function(e){return e.charCodeAt(1)===45},W7=function(e){return e!=null&&typeof e!="boolean"},zD=iY(function(t){return aY(t)?t:t.replace(Dpe,"-$&").toLowerCase()}),H7=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Lpe,function(r,i,o){return jp={name:i,styles:o,next:jp},i})}return Ipe[e]!==1&&!aY(e)&&typeof n=="number"&&n!==0?n+"px":n};function HC(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return jp={name:i.name,styles:i.styles,next:jp},i.name;var o=n;if(o.styles!==void 0){var a=o.next;if(a!==void 0)for(;a!==void 0;)jp={name:a.name,styles:a.styles,next:jp},a=a.next;var s=o.styles+";";return s}return $pe(t,e,n)}case"function":{if(t!==void 0){var u=jp,d=n(t);return jp=u,HC(t,e,d)}break}}var g=n;if(e==null)return g;var v=e[g];return v!==void 0?v:g}function $pe(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=HC(t,e,n[i])+";";else for(var o in n){var a=n[o];if(typeof a!="object"){var s=a;e!=null&&e[s]!==void 0?r+=o+"{"+e[s]+"}":W7(s)&&(r+=zD(o)+":"+H7(o,s)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var u=0;u<a.length;u++)W7(a[u])&&(r+=zD(o)+":"+H7(o,a[u])+";");else{var d=HC(t,e,a);switch(o){case"animation":case"animationName":{r+=zD(o)+":"+d+";";break}default:r+=o+"{"+d+"}"}}}return r}var G7=/label:\s*([^\s;{]+)\s*(;|$)/g,jp;function sk(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";jp=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=HC(n,e,o);else{var a=o;i+=a[0]}for(var s=1;s<t.length;s++)if(i+=HC(n,e,t[s]),r){var u=o;i+=u[s]}G7.lastIndex=0;for(var d="",g;(g=G7.exec(i))!==null;)d+="-"+g[1];var v=Rpe(i)+d;return{name:v,styles:i,next:jp}}var zpe=function(e){return e()},lY=Iw.useInsertionEffect?Iw.useInsertionEffect:!1,cY=lY||zpe,X7=lY||j.useLayoutEffect,uY=j.createContext(typeof HTMLElement<"u"?kpe({key:"css"}):null);uY.Provider;var SN=function(e){return j.forwardRef(function(n,r){var i=j.useContext(uY);return e(n,i,r)})},aR=j.createContext({}),CN={}.hasOwnProperty,L$="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Npe=function(e,n){var r={};for(var i in n)CN.call(n,i)&&(r[i]=n[i]);return r[L$]=e,r},Bpe=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return wN(n,r,i),cY(function(){return ON(n,r,i)}),null},Fpe=SN(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[L$],o=[r],a="";typeof t.className=="string"?a=sY(e.registered,o,t.className):t.className!=null&&(a=t.className+" ");var s=sk(o,void 0,j.useContext(aR));a+=e.key+"-"+s.name;var u={};for(var d in t)CN.call(t,d)&&d!=="css"&&d!==L$&&(u[d]=t[d]);return u.className=a,n&&(u.ref=n),j.createElement(j.Fragment,null,j.createElement(Bpe,{cache:e,serialized:s,isStringTag:typeof i=="string"}),j.createElement(i,u))}),jpe=Fpe,Y7=function(e,n){var r=arguments;if(n==null||!CN.call(n,"css"))return j.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=jpe,o[1]=Npe(e,n);for(var a=2;a<i;a++)o[a]=r[a];return j.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Y7||(Y7={}));var Vpe=SN(function(t,e){var n=t.styles,r=sk([n],void 0,j.useContext(aR)),i=j.useRef();return X7(function(){var o=e.key+"-global",a=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),s=!1,u=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(a.before=e.sheet.tags[0]),u!==null&&(s=!0,u.setAttribute("data-emotion",o),a.hydrate([u])),i.current=[a,s],function(){a.flush()}},[e]),X7(function(){var o=i.current,a=o[0],s=o[1];if(s){o[1]=!1;return}if(r.next!==void 0&&ON(e,r.next,!0),a.tags.length){var u=a.tags[a.tags.length-1].nextElementSibling;a.before=u,a.flush()}e.insert("",r,a,!1)},[e,r.name]),null});function TN(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return sk(e)}function ak(){var t=TN.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Qpe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Upe=iY(function(t){return Qpe.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),Zpe=Upe,qpe=function(e){return e!=="theme"},K7=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Zpe:qpe},J7=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(a){return e.__emotion_forwardProp(a)&&o(a)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},Wpe=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return wN(n,r,i),cY(function(){return ON(n,r,i)}),null},Hpe=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,a;n!==void 0&&(o=n.label,a=n.target);var s=J7(e,n,r),u=s||K7(i),d=!u("as");return function(){var g=arguments,v=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&v.push("label:"+o+";"),g[0]==null||g[0].raw===void 0)v.push.apply(v,g);else{var x=g[0];v.push(x[0]);for(var O=g.length,E=1;E<O;E++)v.push(g[E],x[E])}var A=SN(function(M,L,$){var N=d&&M.as||i,F="",U=[],q=M;if(M.theme==null){q={};for(var W in M)q[W]=M[W];q.theme=j.useContext(aR)}typeof M.className=="string"?F=sY(L.registered,U,M.className):M.className!=null&&(F=M.className+" ");var te=sk(v.concat(U),L.registered,q);F+=L.key+"-"+te.name,a!==void 0&&(F+=" "+a);var re=d&&s===void 0?K7(N):u,ce={};for(var be in M)d&&be==="as"||re(be)&&(ce[be]=M[be]);return ce.className=F,$&&(ce.ref=$),j.createElement(j.Fragment,null,j.createElement(Wpe,{cache:L,serialized:te,isStringTag:typeof N=="string"}),j.createElement(N,ce))});return A.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",A.defaultProps=e.defaultProps,A.__emotion_real=A,A.__emotion_base=i,A.__emotion_styles=v,A.__emotion_forwardProp=s,Object.defineProperty(A,"toString",{value:function(){return"."+a}}),A.withComponent=function(M,L){var $=t(M,Ao({},n,L,{shouldForwardProp:J7(A,L,!0)}));return $.apply(void 0,v)},A}},Gpe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],$$=Hpe.bind(null);Gpe.forEach(function(t){$$[t]=$$(t)});var ND={exports:{}},BD,ej;function Xpe(){if(ej)return BD;ej=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return BD=t,BD}var FD,tj;function Ype(){if(tj)return FD;tj=1;var t=Xpe();function e(){}function n(){}return n.resetWarningCache=e,FD=function(){function r(a,s,u,d,g,v){if(v!==t){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},FD}var nj;function Kpe(){return nj||(nj=1,ND.exports=Ype()()),ND.exports}var Jpe=Kpe();const _n=tv(Jpe);function eme(t){return t==null||Object.keys(t).length===0}function tme(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(eme(i)?n:i):e;return Y.jsx(Vpe,{styles:r})}function hY(t,e){return $$(t,e)}function nme(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const rj=[];function D0(t){return rj[0]=t,sk(rj)}var jD={exports:{}},Ki={};var ij;function rme(){if(ij)return Ki;ij=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),O=Symbol.for("react.client.reference");function E(A){if(typeof A=="object"&&A!==null){var M=A.$$typeof;switch(M){case t:switch(A=A.type,A){case n:case i:case r:case u:case d:case x:return A;default:switch(A=A&&A.$$typeof,A){case a:case s:case v:case g:return A;case o:return A;default:return M}}case e:return M}}}return Ki.ContextConsumer=o,Ki.ContextProvider=a,Ki.Element=t,Ki.ForwardRef=s,Ki.Fragment=n,Ki.Lazy=v,Ki.Memo=g,Ki.Portal=e,Ki.Profiler=i,Ki.StrictMode=r,Ki.Suspense=u,Ki.SuspenseList=d,Ki.isContextConsumer=function(A){return E(A)===o},Ki.isContextProvider=function(A){return E(A)===a},Ki.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===t},Ki.isForwardRef=function(A){return E(A)===s},Ki.isFragment=function(A){return E(A)===n},Ki.isLazy=function(A){return E(A)===v},Ki.isMemo=function(A){return E(A)===g},Ki.isPortal=function(A){return E(A)===e},Ki.isProfiler=function(A){return E(A)===i},Ki.isStrictMode=function(A){return E(A)===r},Ki.isSuspense=function(A){return E(A)===u},Ki.isSuspenseList=function(A){return E(A)===d},Ki.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===n||A===i||A===r||A===u||A===d||typeof A=="object"&&A!==null&&(A.$$typeof===v||A.$$typeof===g||A.$$typeof===a||A.$$typeof===o||A.$$typeof===s||A.$$typeof===O||A.getModuleId!==void 0)},Ki.typeOf=E,Ki}var oj;function ime(){return oj||(oj=1,jD.exports=rme()),jD.exports}var dY=ime();function Up(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function fY(t){if(j.isValidElement(t)||dY.isValidElementType(t)||!Up(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=fY(t[n])}),e}function Da(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return Up(t)&&Up(e)&&Object.keys(e).forEach(i=>{j.isValidElement(e[i])||dY.isValidElementType(e[i])?r[i]=e[i]:Up(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Up(t[i])?r[i]=Da(t[i],e[i],n):n.clone?r[i]=Up(e[i])?fY(e[i]):e[i]:r[i]=e[i]}),r}const ome=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function sme(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,o=ome(e),a=Object.keys(o);function s(x){return`@media (min-width:${typeof e[x]=="number"?e[x]:x}${n})`}function u(x){return`@media (max-width:${(typeof e[x]=="number"?e[x]:x)-r/100}${n})`}function d(x,O){const E=a.indexOf(O);return`@media (min-width:${typeof e[x]=="number"?e[x]:x}${n}) and (max-width:${(E!==-1&&typeof e[a[E]]=="number"?e[a[E]]:O)-r/100}${n})`}function g(x){return a.indexOf(x)+1<a.length?d(x,a[a.indexOf(x)+1]):s(x)}function v(x){const O=a.indexOf(x);return O===0?s(a[1]):O===a.length-1?u(a[O]):d(x,a[a.indexOf(x)+1]).replace("@media","@media not all and")}return{keys:a,values:o,up:s,down:u,between:d,only:g,not:v,unit:n,...i}}function sj(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{const o=/min-width:\s*([0-9.]+)/;return+(r.match(o)?.[1]||0)-+(i.match(o)?.[1]||0)});return n.length?n.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function ame(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function lme(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(o)}function cme(t){const e=(o,a)=>o.replace("@media",a?`@container ${a}`:"@container");function n(o,a){o.up=(...s)=>e(t.breakpoints.up(...s),a),o.down=(...s)=>e(t.breakpoints.down(...s),a),o.between=(...s)=>e(t.breakpoints.between(...s),a),o.only=(...s)=>e(t.breakpoints.only(...s),a),o.not=(...s)=>{const u=e(t.breakpoints.not(...s),a);return u.includes("not all and")?u.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):u}}const r={},i=o=>(n(r,o),r);return n(i),{...t,containerQueries:i}}const ume={borderRadius:4};function mC(t,e){return e?Da(t,e,{clone:!1}):t}const lR={xs:0,sm:600,md:900,lg:1200,xl:1536},aj={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${lR[t]}px)`},hme={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:lR[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function Sf(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||aj;return e.reduce((a,s,u)=>(a[o.up(o.keys[u])]=n(e[u]),a),{})}if(typeof e=="object"){const o=r.breakpoints||aj;return Object.keys(e).reduce((a,s)=>{if(ame(o.keys,s)){const u=lme(r.containerQueries?r:hme,s);u&&(a[u]=n(e[s],s))}else if(Object.keys(o.values||lR).includes(s)){const u=o.up(s);a[u]=n(e[s],s)}else{const u=s;a[u]=e[u]}return a},{})}return n(e)}function pY(t={}){return t.keys?.reduce((n,r)=>{const i=t.up(r);return n[i]={},n},{})||{}}function z$(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function dme(t,...e){const n=pY(t),r=[n,...e].reduce((i,o)=>Da(i,o),{});return z$(Object.keys(n),r)}function fme(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,o)=>{o<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function VD({values:t,breakpoints:e,base:n}){const r=n||fme(t,e),i=Object.keys(r);if(i.length===0)return t;let o;return i.reduce((a,s,u)=>(Array.isArray(t)?(a[s]=t[u]!=null?t[u]:t[o],o=u):typeof t=="object"?(a[s]=t[s]!=null?t[s]:t[o],o=s):a[s]=t,a),{})}function qt(t){if(typeof t!="string")throw new Error(Gg(7));return t.charAt(0).toUpperCase()+t.slice(1)}function Vp(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function d5(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Vp(t,n)||r,e&&(i=e(i,r,t)),i}function Is(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,o=a=>{if(a[e]==null)return null;const s=a[e],u=a.theme,d=Vp(u,r)||{};return Sf(a,s,v=>{let x=d5(d,i,v);return v===x&&typeof v=="string"&&(x=d5(d,i,`${e}${v==="default"?"":qt(v)}`,v)),n===!1?x:{[n]:x}})};return o.propTypes={},o.filterProps=[e],o}function pme(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const mme={m:"margin",p:"padding"},gme={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},lj={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},yme=pme(t=>{if(t.length>2)if(lj[t])t=lj[t];else return[t];const[e,n]=t.split(""),r=mme[e],i=gme[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),kN=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],EN=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...kN,...EN];function lk(t,e,n,r){const i=Vp(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?i.startsWith("var(")&&o===0?0:i.startsWith("var(")&&o===1?i:`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const a=Math.abs(o),s=i[a];return o>=0?s:typeof s=="number"?-s:typeof s=="string"&&s.startsWith("var(")?`calc(-1 * ${s})`:`-${s}`}:typeof i=="function"?i:()=>{}}function cR(t){return lk(t,"spacing",8)}function dx(t,e){return typeof e=="string"||e==null?e:t(e)}function vme(t,e){return n=>t.reduce((r,i)=>(r[i]=dx(e,n),r),{})}function _me(t,e,n,r){if(!e.includes(n))return null;const i=yme(n),o=vme(i,r),a=t[n];return Sf(t,a,o)}function mY(t,e){const n=cR(t.theme);return Object.keys(t).map(r=>_me(t,e,r,n)).reduce(mC,{})}function xs(t){return mY(t,kN)}xs.propTypes={};xs.filterProps=kN;function bs(t){return mY(t,EN)}bs.propTypes={};bs.filterProps=EN;function gY(t=8,e=cR({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(o=>{const a=e(o);return typeof a=="number"?`${a}px`:a}).join(" ");return n.mui=!0,n}function uR(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>e[o]?mC(i,e[o](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Qh(t){return typeof t!="number"?t:`${t}px solid`}function dd(t,e){return Is({prop:t,themeKey:"borders",transform:e})}const xme=dd("border",Qh),bme=dd("borderTop",Qh),wme=dd("borderRight",Qh),Ome=dd("borderBottom",Qh),Sme=dd("borderLeft",Qh),Cme=dd("borderColor"),Tme=dd("borderTopColor"),kme=dd("borderRightColor"),Eme=dd("borderBottomColor"),Ame=dd("borderLeftColor"),Pme=dd("outline",Qh),Mme=dd("outlineColor"),hR=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=lk(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:dx(e,r)});return Sf(t,t.borderRadius,n)}return null};hR.propTypes={};hR.filterProps=["borderRadius"];uR(xme,bme,wme,Ome,Sme,Cme,Tme,kme,Eme,Ame,hR,Pme,Mme);const dR=t=>{if(t.gap!==void 0&&t.gap!==null){const e=lk(t.theme,"spacing",8),n=r=>({gap:dx(e,r)});return Sf(t,t.gap,n)}return null};dR.propTypes={};dR.filterProps=["gap"];const fR=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=lk(t.theme,"spacing",8),n=r=>({columnGap:dx(e,r)});return Sf(t,t.columnGap,n)}return null};fR.propTypes={};fR.filterProps=["columnGap"];const pR=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=lk(t.theme,"spacing",8),n=r=>({rowGap:dx(e,r)});return Sf(t,t.rowGap,n)}return null};pR.propTypes={};pR.filterProps=["rowGap"];const Rme=Is({prop:"gridColumn"}),Ime=Is({prop:"gridRow"}),Dme=Is({prop:"gridAutoFlow"}),Lme=Is({prop:"gridAutoColumns"}),$me=Is({prop:"gridAutoRows"}),zme=Is({prop:"gridTemplateColumns"}),Nme=Is({prop:"gridTemplateRows"}),Bme=Is({prop:"gridTemplateAreas"}),Fme=Is({prop:"gridArea"});uR(dR,fR,pR,Rme,Ime,Dme,Lme,$me,zme,Nme,Bme,Fme);function hw(t,e){return e==="grey"?e:t}const jme=Is({prop:"color",themeKey:"palette",transform:hw}),Vme=Is({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:hw}),Qme=Is({prop:"backgroundColor",themeKey:"palette",transform:hw});uR(jme,Vme,Qme);function Gu(t){return t<=1&&t!==0?`${t*100}%`:t}const Ume=Is({prop:"width",transform:Gu}),AN=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{const r=t.theme?.breakpoints?.values?.[n]||lR[n];return r?t.theme?.breakpoints?.unit!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Gu(n)}};return Sf(t,t.maxWidth,e)}return null};AN.filterProps=["maxWidth"];const Zme=Is({prop:"minWidth",transform:Gu}),qme=Is({prop:"height",transform:Gu}),Wme=Is({prop:"maxHeight",transform:Gu}),Hme=Is({prop:"minHeight",transform:Gu});Is({prop:"size",cssProperty:"width",transform:Gu});Is({prop:"size",cssProperty:"height",transform:Gu});const Gme=Is({prop:"boxSizing"});uR(Ume,AN,Zme,qme,Wme,Hme,Gme);const ck={border:{themeKey:"borders",transform:Qh},borderTop:{themeKey:"borders",transform:Qh},borderRight:{themeKey:"borders",transform:Qh},borderBottom:{themeKey:"borders",transform:Qh},borderLeft:{themeKey:"borders",transform:Qh},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Qh},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:hR},color:{themeKey:"palette",transform:hw},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:hw},backgroundColor:{themeKey:"palette",transform:hw},p:{style:bs},pt:{style:bs},pr:{style:bs},pb:{style:bs},pl:{style:bs},px:{style:bs},py:{style:bs},padding:{style:bs},paddingTop:{style:bs},paddingRight:{style:bs},paddingBottom:{style:bs},paddingLeft:{style:bs},paddingX:{style:bs},paddingY:{style:bs},paddingInline:{style:bs},paddingInlineStart:{style:bs},paddingInlineEnd:{style:bs},paddingBlock:{style:bs},paddingBlockStart:{style:bs},paddingBlockEnd:{style:bs},m:{style:xs},mt:{style:xs},mr:{style:xs},mb:{style:xs},ml:{style:xs},mx:{style:xs},my:{style:xs},margin:{style:xs},marginTop:{style:xs},marginRight:{style:xs},marginBottom:{style:xs},marginLeft:{style:xs},marginX:{style:xs},marginY:{style:xs},marginInline:{style:xs},marginInlineStart:{style:xs},marginInlineEnd:{style:xs},marginBlock:{style:xs},marginBlockStart:{style:xs},marginBlockEnd:{style:xs},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:dR},rowGap:{style:pR},columnGap:{style:fR},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Gu},maxWidth:{style:AN},minWidth:{transform:Gu},height:{transform:Gu},maxHeight:{transform:Gu},minHeight:{transform:Gu},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Xme(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function Yme(t,e){return typeof t=="function"?t(e):t}function Kme(){function t(n,r,i,o){const a={[n]:r,theme:i},s=o[n];if(!s)return{[n]:r};const{cssProperty:u=n,themeKey:d,transform:g,style:v}=s;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[n]:r};const x=Vp(i,d)||{};return v?v(a):Sf(a,r,E=>{let A=d5(x,g,E);return E===A&&typeof E=="string"&&(A=d5(x,g,`${n}${E==="default"?"":qt(E)}`,E)),u===!1?A:{[u]:A}})}function e(n){const{sx:r,theme:i={},nested:o}=n||{};if(!r)return null;const a=i.unstable_sxConfig??ck;function s(u){let d=u;if(typeof u=="function")d=u(i);else if(typeof u!="object")return u;if(!d)return null;const g=pY(i.breakpoints),v=Object.keys(g);let x=g;return Object.keys(d).forEach(O=>{const E=Yme(d[O],i);if(E!=null)if(typeof E=="object")if(a[O])x=mC(x,t(O,E,i,a));else{const A=Sf({theme:i},E,M=>({[O]:M}));Xme(A,E)?x[O]=e({sx:E,theme:i,nested:!0}):x=mC(x,A)}else x=mC(x,t(O,E,i,a))}),!o&&i.modularCssLayers?{"@layer sx":sj(i,z$(v,x))}:sj(i,z$(v,x))}return Array.isArray(r)?r.map(s):s(r)}return e}const fx=Kme();fx.filterProps=["sx"];function Jme(t,e){const n=this;if(n.vars){if(!n.colorSchemes?.[t]||typeof n.getColorSchemeSelector!="function")return{};let r=n.getColorSchemeSelector(t);return r==="&"?e:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:e})}return n.palette.mode===t?e:{}}function EO(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:o={},...a}=t,s=sme(n),u=gY(i);let d=Da({breakpoints:s,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:u,shape:{...ume,...o}},a);return d=cme(d),d.applyStyles=Jme,d=e.reduce((g,v)=>Da(g,v),d),d.unstable_sxConfig={...ck,...a?.unstable_sxConfig},d.unstable_sx=function(v){return fx({sx:v,theme:this})},d}function ege(t){return Object.keys(t).length===0}function yY(t=null){const e=j.useContext(aR);return!e||ege(e)?t:e}const tge=EO();function uk(t=tge){return yY(t)}function QD(t){const e=D0(t);return t!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):t}function nge({styles:t,themeId:e,defaultTheme:n={}}){const r=uk(n),i=e&&r[e]||r;let o=typeof t=="function"?t(i):t;return i.modularCssLayers&&(Array.isArray(o)?o=o.map(a=>QD(typeof a=="function"?a(i):a)):o=QD(o)),Y.jsx(tme,{styles:o})}const rge=t=>{const e={systemProps:{},otherProps:{}},n=t?.theme?.unstable_sxConfig??ck;return Object.keys(t).forEach(r=>{n[r]?e.systemProps[r]=t[r]:e.otherProps[r]=t[r]}),e};function mR(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=rge(n);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...a)=>{const s=e(...a);return Up(s)?{...r,...s}:r}:o={...r,...e},{...i,sx:o}}const cj=t=>t,ige=()=>{let t=cj;return{configure(e){t=e},generate(e){return t(e)},reset(){t=cj}}},vY=ige();function _Y(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=_Y(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function wn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=_Y(t))&&(r&&(r+=" "),r+=e);return r}function oge(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,o=hY("div",{shouldForwardProp:s=>s!=="theme"&&s!=="sx"&&s!=="as"})(fx);return j.forwardRef(function(u,d){const g=uk(n),{className:v,component:x="div",...O}=mR(u);return Y.jsx(o,{as:x,ref:d,className:wn(v,i?i(r):r),theme:e&&g[e]||g,...O})})}const sge={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Hn(t,e,n="Mui"){const r=sge[e];return r?`${n}-${r}`:`${vY.generate(t)}-${e}`}function tr(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Hn(t,i,n)}),r}function xY(t){const{variants:e,...n}=t,r={variants:e,style:D0(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=D0(i.style))}),r}const age=EO();function UD(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function Z_(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}function lge(t){return t?(e,n)=>n[t]:null}function cge(t,e,n){t.theme=hge(t.theme)?n:t.theme[e]||t.theme}function MP(t,e,n){const r=typeof e=="function"?e(t):e;if(Array.isArray(r))return r.flatMap(i=>MP(t,i,n));if(Array.isArray(r?.variants)){let i;if(r.isProcessed)i=n?Z_(r.style,n):r.style;else{const{variants:o,...a}=r;i=n?Z_(D0(a),n):a}return bY(t,r.variants,[i],n)}return r?.isProcessed?n?Z_(D0(r.style),n):r.style:n?Z_(D0(r),n):r}function bY(t,e,n=[],r=void 0){let i;e:for(let o=0;o<e.length;o+=1){const a=e[o];if(typeof a.props=="function"){if(i??={...t,...t.ownerState,ownerState:t.ownerState},!a.props(i))continue}else for(const s in a.props)if(t[s]!==a.props[s]&&t.ownerState?.[s]!==a.props[s])continue e;typeof a.style=="function"?(i??={...t,...t.ownerState,ownerState:t.ownerState},n.push(r?Z_(D0(a.style(i)),r):a.style(i))):n.push(r?Z_(D0(a.style),r):a.style)}return n}function wY(t={}){const{themeId:e,defaultTheme:n=age,rootShouldForwardProp:r=UD,slotShouldForwardProp:i=UD}=t;function o(s){cge(s,e,n)}return(s,u={})=>{nme(s,q=>q.filter(W=>W!==fx));const{name:d,slot:g,skipVariantsResolver:v,skipSx:x,overridesResolver:O=lge(fge(g)),...E}=u,A=d&&d.startsWith("Mui")||g?"components":"custom",M=v!==void 0?v:g&&g!=="Root"&&g!=="root"||!1,L=x||!1;let $=UD;g==="Root"||g==="root"?$=r:g?$=i:dge(s)&&($=void 0);const N=hY(s,{shouldForwardProp:$,label:uge(),...E}),F=q=>{if(q.__emotion_real===q)return q;if(typeof q=="function")return function(te){return MP(te,q,te.theme.modularCssLayers?A:void 0)};if(Up(q)){const W=xY(q);return function(re){return W.variants?MP(re,W,re.theme.modularCssLayers?A:void 0):re.theme.modularCssLayers?Z_(W.style,A):W.style}}return q},U=(...q)=>{const W=[],te=q.map(F),re=[];if(W.push(o),d&&O&&re.push(function(me){const pe=me.theme.components?.[d]?.styleOverrides;if(!pe)return null;const _e={};for(const Me in pe)_e[Me]=MP(me,pe[Me],me.theme.modularCssLayers?"theme":void 0);return O(me,_e)}),d&&!M&&re.push(function(me){const pe=me.theme?.components?.[d]?.variants;return pe?bY(me,pe,[],me.theme.modularCssLayers?"theme":void 0):null}),L||re.push(fx),Array.isArray(te[0])){const ie=te.shift(),me=new Array(W.length).fill(""),we=new Array(re.length).fill("");let pe;pe=[...me,...ie,...we],pe.raw=[...me,...ie.raw,...we],W.unshift(pe)}const ce=[...W,...te,...re],be=N(...ce);return s.muiName&&(be.muiName=s.muiName),be};return N.withConfig&&(U.withConfig=N.withConfig),U}}function uge(t,e){return void 0}function hge(t){for(const e in t)return!1;return!0}function dge(t){return typeof t=="string"&&t.charCodeAt(0)>96}function fge(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const PN=wY();function GC(t,e,n=!1){const r={...e};for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const o=i;if(o==="components"||o==="slots")r[o]={...t[o],...r[o]};else if(o==="componentsProps"||o==="slotProps"){const a=t[o],s=e[o];if(!s)r[o]=a||{};else if(!a)r[o]=s;else{r[o]={...s};for(const u in a)if(Object.prototype.hasOwnProperty.call(a,u)){const d=u;r[o][d]=GC(a[d],s[d],n)}}}else o==="className"&&n&&e.className?r.className=wn(t?.className,e?.className):o==="style"&&n&&e.style?r.style={...t?.style,...e?.style}:r[o]===void 0&&(r[o]=t[o])}return r}function OY(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:GC(e.components[n].defaultProps,r)}function MN({props:t,name:e,defaultTheme:n,themeId:r}){let i=uk(n);return r&&(i=i[r]||i),OY({theme:i,name:e,props:t})}const od=typeof window<"u"?j.useLayoutEffect:j.useEffect;function pge(t,e,n,r,i){const[o,a]=j.useState(()=>i&&n?n(t).matches:r?r(t).matches:e);return od(()=>{if(!n)return;const s=n(t),u=()=>{a(s.matches)};return u(),s.addEventListener("change",u),()=>{s.removeEventListener("change",u)}},[t,n]),o}const mge={...Iw},SY=mge.useSyncExternalStore;function gge(t,e,n,r,i){const o=j.useCallback(()=>e,[e]),a=j.useMemo(()=>{if(i&&n)return()=>n(t).matches;if(r!==null){const{matches:g}=r(t);return()=>g}return o},[o,t,r,i,n]),[s,u]=j.useMemo(()=>{if(n===null)return[o,()=>()=>{}];const g=n(t);return[()=>g.matches,v=>(g.addEventListener("change",v),()=>{g.removeEventListener("change",v)})]},[o,n,t]);return SY(u,s,a)}function CY(t={}){const{themeId:e}=t;return function(r,i={}){let o=yY();o&&e&&(o=o[e]||o);const a=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:s=!1,matchMedia:u=a?window.matchMedia:null,ssrMatchMedia:d=null,noSsr:g=!1}=OY({name:"MuiUseMediaQuery",props:i,theme:o});let v=typeof r=="function"?r(o):r;return v=v.replace(/^@media( ?)/m,""),v.includes("print")&&console.warn(["MUI: You have provided a `print` query to the `useMediaQuery` hook.","Using the print media query to modify print styles can lead to unexpected results.","Consider using the `displayPrint` field in the `sx` prop instead.","More information about `displayPrint` on our docs: https://mui.com/system/display/#display-in-print."].join(`
`)),(SY!==void 0?gge:pge)(v,s,u,d,g)}}CY();function yge(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function RN(t,e=0,n=1){return yge(t,e,n)}function vge(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function F0(t){if(t.type)return t;if(t.charAt(0)==="#")return F0(vge(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Gg(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Gg(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const _ge=t=>{const e=F0(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},G2=(t,e)=>{try{return _ge(t)}catch{return t}};function gR(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function TY(t){t=F0(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),a=(d,g=(d+n/30)%12)=>i-o*Math.max(Math.min(g-3,9-g,1),-1);let s="rgb";const u=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return t.type==="hsla"&&(s+="a",u.push(e[3])),gR({type:s,values:u})}function N$(t){t=F0(t);let e=t.type==="hsl"||t.type==="hsla"?F0(TY(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function xge(t,e){const n=N$(t),r=N$(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function XC(t,e){return t=F0(t),e=RN(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,gR(t)}function C_(t,e,n){try{return XC(t,e)}catch{return t}}function yR(t,e){if(t=F0(t),e=RN(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return gR(t)}function Qi(t,e,n){try{return yR(t,e)}catch{return t}}function vR(t,e){if(t=F0(t),e=RN(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return gR(t)}function Ui(t,e,n){try{return vR(t,e)}catch{return t}}function bge(t,e=.15){return N$(t)>.5?yR(t,e):vR(t,e)}function aA(t,e,n){try{return bge(t,e)}catch{return t}}const wge=j.createContext(),_R=()=>j.useContext(wge)??!1,Oge=j.createContext(void 0);function Sge(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?GC(i.defaultProps,r,e.components.mergeClassNameAndStyle):!i.styleOverrides&&!i.variants?GC(i,r,e.components.mergeClassNameAndStyle):r}function Cge({props:t,name:e}){const n=j.useContext(Oge);return Sge({props:t,name:e,theme:{components:n}})}let uj=0;function Tge(t){const[e,n]=j.useState(t),r=t||e;return j.useEffect(()=>{e==null&&(uj+=1,n(`mui-${uj}`))},[e]),r}const kge={...Iw},hj=kge.useId;function AO(t){if(hj!==void 0){const e=hj();return t??e}return Tge(t)}const dj={theme:void 0};function Ege(t){let e,n;return function(i){let o=e;return(o===void 0||i.theme!==n)&&(dj.theme=i.theme,o=xY(t(dj)),e=o,n=i.theme),o}}function Age(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const fj=(t,e,n,r=[])=>{let i=t;e.forEach((o,a)=>{a===e.length-1?Array.isArray(i)?i[Number(o)]=n:i&&typeof i=="object"&&(i[o]=n):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},Pge=(t,e,n)=>{function r(i,o=[],a=[]){Object.entries(i).forEach(([s,u])=>{(!n||n&&!n([...o,s]))&&u!=null&&(typeof u=="object"&&Object.keys(u).length>0?r(u,[...o,s],Array.isArray(u)?[...a,s]:a):e([...o,s],u,a))})}r(t)},Mge=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function ZD(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},o={},a={};return Pge(t,(s,u,d)=>{if((typeof u=="string"||typeof u=="number")&&(!r||!r(s,u))){const g=`--${n?`${n}-`:""}${s.join("-")}`,v=Mge(s,u);Object.assign(i,{[g]:v}),fj(o,s,`var(${g})`,d),fj(a,s,`var(${g}, ${v})`,d)}},s=>s[0]==="vars"),{css:i,vars:o,varsWithDefaults:a}}function Rge(t,e={}){const{getSelector:n=L,disableCssColorScheme:r,colorSchemeSelector:i,enableContrastVars:o}=e,{colorSchemes:a={},components:s,defaultColorScheme:u="light",...d}=t,{vars:g,css:v,varsWithDefaults:x}=ZD(d,e);let O=x;const E={},{[u]:A,...M}=a;if(Object.entries(M||{}).forEach(([F,U])=>{const{vars:q,css:W,varsWithDefaults:te}=ZD(U,e);O=Da(O,te),E[F]={css:W,vars:q}}),A){const{css:F,vars:U,varsWithDefaults:q}=ZD(A,e);O=Da(O,q),E[u]={css:F,vars:U}}function L(F,U){let q=i;if(i==="class"&&(q=".%s"),i==="data"&&(q="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(q=`[${i}="%s"]`),F){if(q==="media")return t.defaultColorScheme===F?":root":{[`@media (prefers-color-scheme: ${a[F]?.palette?.mode||F})`]:{":root":U}};if(q)return t.defaultColorScheme===F?`:root, ${q.replace("%s",String(F))}`:q.replace("%s",String(F))}return":root"}return{vars:O,generateThemeVars:()=>{let F={...g};return Object.entries(E).forEach(([,{vars:U}])=>{F=Da(F,U)}),F},generateStyleSheets:()=>{const F=[],U=t.defaultColorScheme||"light";function q(re,ce){Object.keys(ce).length&&F.push(typeof re=="string"?{[re]:{...ce}}:re)}q(n(void 0,{...v}),v);const{[U]:W,...te}=E;if(W){const{css:re}=W,ce=a[U]?.palette?.mode,be=!r&&ce?{colorScheme:ce,...re}:{...re};q(n(U,{...be}),be)}return Object.entries(te).forEach(([re,{css:ce}])=>{const be=a[re]?.palette?.mode,ie=!r&&be?{colorScheme:be,...ce}:{...ce};q(n(re,{...ie}),ie)}),o&&F.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),F}}}function Ige(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}function Gn(t,e,n=void 0){const r={};for(const i in t){const o=t[i];let a="",s=!0;for(let u=0;u<o.length;u+=1){const d=o[u];d&&(a+=(s===!0?"":" ")+e(d),s=!1,n&&n[d]&&(a+=" "+n[d]))}r[i]=a}return r}const Dge=EO(),Lge=PN("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${qt(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),$ge=t=>MN({props:t,name:"MuiContainer",defaultTheme:Dge}),zge=(t,e)=>{const n=u=>Hn(e,u),{classes:r,fixed:i,disableGutters:o,maxWidth:a}=t,s={root:["root",a&&`maxWidth${qt(String(a))}`,i&&"fixed",o&&"disableGutters"]};return Gn(s,n,r)};function Nge(t={}){const{createStyledComponent:e=Lge,useThemeProps:n=$ge,componentName:r="MuiContainer"}=t,i=e(({theme:a,ownerState:s})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!s.disableGutters&&{paddingLeft:a.spacing(2),paddingRight:a.spacing(2),[a.breakpoints.up("sm")]:{paddingLeft:a.spacing(3),paddingRight:a.spacing(3)}}}),({theme:a,ownerState:s})=>s.fixed&&Object.keys(a.breakpoints.values).reduce((u,d)=>{const g=d,v=a.breakpoints.values[g];return v!==0&&(u[a.breakpoints.up(g)]={maxWidth:`${v}${a.breakpoints.unit}`}),u},{}),({theme:a,ownerState:s})=>({...s.maxWidth==="xs"&&{[a.breakpoints.up("xs")]:{maxWidth:Math.max(a.breakpoints.values.xs,444)}},...s.maxWidth&&s.maxWidth!=="xs"&&{[a.breakpoints.up(s.maxWidth)]:{maxWidth:`${a.breakpoints.values[s.maxWidth]}${a.breakpoints.unit}`}}}));return j.forwardRef(function(s,u){const d=n(s),{className:g,component:v="div",disableGutters:x=!1,fixed:O=!1,maxWidth:E="lg",classes:A,...M}=d,L={...d,component:v,disableGutters:x,fixed:O,maxWidth:E},$=zge(L,r);return Y.jsx(i,{as:v,ownerState:L,className:wn($.root,g),ref:u,...M})})}function gC(t,e){return j.isValidElement(t)&&e.indexOf(t.type.muiName??t.type?._payload?.value?.muiName)!==-1}const Bge=(t,e)=>t.filter(n=>e.includes(n)),PO=(t,e,n)=>{const r=t.keys[0];Array.isArray(e)?e.forEach((i,o)=>{n((a,s)=>{o<=t.keys.length-1&&(o===0?Object.assign(a,s):a[t.up(t.keys[o])]=s)},i)}):e&&typeof e=="object"?(Object.keys(e).length>t.keys.length?t.keys:Bge(t.keys,Object.keys(e))).forEach(o=>{if(t.keys.includes(o)){const a=e[o];a!==void 0&&n((s,u)=>{r===o?Object.assign(s,u):s[t.up(o)]=u},a)}}):(typeof e=="number"||typeof e=="string")&&n((i,o)=>{Object.assign(i,o)},e)};function f5(t){return`--Grid-${t}Spacing`}function xR(t){return`--Grid-parent-${t}Spacing`}const pj="--Grid-columns",dw="--Grid-parent-columns",Fge=({theme:t,ownerState:e})=>{const n={};return PO(t.breakpoints,e.size,(r,i)=>{let o={};i==="grow"&&(o={flexBasis:0,flexGrow:1,maxWidth:"100%"}),i==="auto"&&(o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof i=="number"&&(o={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${i} / var(${dw}) - (var(${dw}) - ${i}) * (var(${xR("column")}) / var(${dw})))`}),r(n,o)}),n},jge=({theme:t,ownerState:e})=>{const n={};return PO(t.breakpoints,e.offset,(r,i)=>{let o={};i==="auto"&&(o={marginLeft:"auto"}),typeof i=="number"&&(o={marginLeft:i===0?"0px":`calc(100% * ${i} / var(${dw}) + var(${xR("column")}) * ${i} / var(${dw}))`}),r(n,o)}),n},Vge=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={[pj]:12};return PO(t.breakpoints,e.columns,(r,i)=>{const o=i??12;r(n,{[pj]:o,"> *":{[dw]:o}})}),n},Qge=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return PO(t.breakpoints,e.rowSpacing,(r,i)=>{const o=typeof i=="string"?i:t.spacing?.(i);r(n,{[f5("row")]:o,"> *":{[xR("row")]:o}})}),n},Uge=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return PO(t.breakpoints,e.columnSpacing,(r,i)=>{const o=typeof i=="string"?i:t.spacing?.(i);r(n,{[f5("column")]:o,"> *":{[xR("column")]:o}})}),n},Zge=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return PO(t.breakpoints,e.direction,(r,i)=>{r(n,{flexDirection:i})}),n},qge=({ownerState:t})=>({minWidth:0,boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",...t.wrap&&t.wrap!=="wrap"&&{flexWrap:t.wrap},gap:`var(${f5("row")}) var(${f5("column")})`}}),Wge=t=>{const e=[];return Object.entries(t).forEach(([n,r])=>{r!==!1&&r!==void 0&&e.push(`grid-${n}-${String(r)}`)}),e},Hge=(t,e="xs")=>{function n(r){return r===void 0?!1:typeof r=="string"&&!Number.isNaN(Number(r))||typeof r=="number"&&r>0}if(n(t))return[`spacing-${e}-${String(t)}`];if(typeof t=="object"&&!Array.isArray(t)){const r=[];return Object.entries(t).forEach(([i,o])=>{n(o)&&r.push(`spacing-${i}-${String(o)}`)}),r}return[]},Gge=t=>t===void 0?[]:typeof t=="object"?Object.entries(t).map(([e,n])=>`direction-${e}-${n}`):[`direction-xs-${String(t)}`];function Xge(t,e){t.item!==void 0&&delete t.item,t.zeroMinWidth!==void 0&&delete t.zeroMinWidth,e.keys.forEach(n=>{t[n]!==void 0&&delete t[n]})}const Yge=EO(),Kge=PN("div",{name:"MuiGrid",slot:"Root"});function Jge(t){return MN({props:t,name:"MuiGrid",defaultTheme:Yge})}function eye(t={}){const{createStyledComponent:e=Kge,useThemeProps:n=Jge,useTheme:r=uk,componentName:i="MuiGrid"}=t,o=(d,g)=>{const{container:v,direction:x,spacing:O,wrap:E,size:A}=d,M={root:["root",v&&"container",E!=="wrap"&&`wrap-xs-${String(E)}`,...Gge(x),...Wge(A),...v?Hge(O,g.breakpoints.keys[0]):[]]};return Gn(M,L=>Hn(i,L),{})};function a(d,g,v=()=>!0){const x={};return d===null||(Array.isArray(d)?d.forEach((O,E)=>{O!==null&&v(O)&&g.keys[E]&&(x[g.keys[E]]=O)}):typeof d=="object"?Object.keys(d).forEach(O=>{const E=d[O];E!=null&&v(E)&&(x[O]=E)}):x[g.keys[0]]=d),x}const s=e(Vge,Uge,Qge,Fge,Zge,qge,jge),u=j.forwardRef(function(g,v){const x=r(),O=n(g),E=mR(O);Xge(E,x.breakpoints);const{className:A,children:M,columns:L=12,container:$=!1,component:N="div",direction:F="row",wrap:U="wrap",size:q={},offset:W={},spacing:te=0,rowSpacing:re=te,columnSpacing:ce=te,unstable_level:be=0,...ie}=E,me=a(q,x.breakpoints,Pe=>Pe!==!1),we=a(W,x.breakpoints),pe=g.columns??(be?void 0:L),_e=g.spacing??(be?void 0:te),Me=g.rowSpacing??g.spacing??(be?void 0:re),Be=g.columnSpacing??g.spacing??(be?void 0:ce),Ue={...E,level:be,columns:pe,container:$,direction:F,wrap:U,spacing:_e,rowSpacing:Me,columnSpacing:Be,size:me,offset:we},Ce=o(Ue,x);return Y.jsx(s,{ref:v,as:N,ownerState:Ue,className:wn(Ce.root,A),...ie,children:j.Children.map(M,Pe=>j.isValidElement(Pe)&&gC(Pe,["Grid"])&&$&&Pe.props.container?j.cloneElement(Pe,{unstable_level:Pe.props?.unstable_level??be+1}):Pe)})});return u.muiName="Grid",u}const tye=EO(),nye=PN("div",{name:"MuiStack",slot:"Root"});function rye(t){return MN({props:t,name:"MuiStack",defaultTheme:tye})}function iye(t,e){const n=j.Children.toArray(t).filter(Boolean);return n.reduce((r,i,o)=>(r.push(i),o<n.length-1&&r.push(j.cloneElement(e,{key:`separator-${o}`})),r),[])}const oye=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],sye=({ownerState:t,theme:e})=>{let n={display:"flex",flexDirection:"column",...Sf({theme:e},VD({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r}))};if(t.spacing){const r=cR(e),i=Object.keys(e.breakpoints.values).reduce((u,d)=>((typeof t.spacing=="object"&&t.spacing[d]!=null||typeof t.direction=="object"&&t.direction[d]!=null)&&(u[d]=!0),u),{}),o=VD({values:t.direction,base:i}),a=VD({values:t.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((u,d,g)=>{if(!o[u]){const x=d>0?o[g[d-1]]:"column";o[u]=x}}),n=Da(n,Sf({theme:e},a,(u,d)=>t.useFlexGap?{gap:dx(r,u)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${oye(d?o[d]:t.direction)}`]:dx(r,u)}}))}return n=dme(e.breakpoints,n),n};function aye(t={}){const{createStyledComponent:e=nye,useThemeProps:n=rye,componentName:r="MuiStack"}=t,i=()=>Gn({root:["root"]},u=>Hn(r,u),{}),o=e(sye);return j.forwardRef(function(u,d){const g=n(u),v=mR(g),{component:x="div",direction:O="column",spacing:E=0,divider:A,children:M,className:L,useFlexGap:$=!1,...N}=v,F={direction:O,spacing:E,useFlexGap:$},U=i();return Y.jsx(o,{as:x,ownerState:F,ref:d,className:wn(U.root,L),...N,children:A?iye(M,A):M})})}function kY(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ZC.white,default:ZC.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const EY=kY();function AY(){return{text:{primary:ZC.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ZC.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const B$=AY();function mj(t,e,n,r){const i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=vR(t.main,i):e==="dark"&&(t.dark=yR(t.main,o)))}function gj(t,e,n,r,i){const o=i.light||i,a=i.dark||i*1.5;e[n]||(e.hasOwnProperty(r)?e[n]=e[r]:n==="light"?e.light=`color-mix(in ${t}, ${e.main}, #fff ${(o*100).toFixed(0)}%)`:n==="dark"&&(e.dark=`color-mix(in ${t}, ${e.main}, #000 ${(a*100).toFixed(0)}%)`))}function lye(t="light"){return t==="dark"?{main:_1[200],light:_1[50],dark:_1[400]}:{main:_1[700],light:_1[400],dark:_1[800]}}function cye(t="light"){return t==="dark"?{main:v1[200],light:v1[50],dark:v1[400]}:{main:v1[500],light:v1[300],dark:v1[700]}}function uye(t="light"){return t==="dark"?{main:y1[500],light:y1[300],dark:y1[700]}:{main:y1[700],light:y1[400],dark:y1[800]}}function hye(t="light"){return t==="dark"?{main:x1[400],light:x1[300],dark:x1[700]}:{main:x1[700],light:x1[500],dark:x1[900]}}function dye(t="light"){return t==="dark"?{main:b1[400],light:b1[300],dark:b1[700]}:{main:b1[800],light:b1[500],dark:b1[900]}}function fye(t="light"){return t==="dark"?{main:y2[400],light:y2[300],dark:y2[700]}:{main:"#ed6c02",light:y2[500],dark:y2[900]}}function pye(t){return`oklch(from ${t} var(--__l) 0 h / var(--__a))`}function IN(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,colorSpace:i,...o}=t,a=t.primary||lye(e),s=t.secondary||cye(e),u=t.error||uye(e),d=t.info||hye(e),g=t.success||dye(e),v=t.warning||fye(e);function x(M){return i?pye(M):xge(M,B$.text.primary)>=n?B$.text.primary:EY.text.primary}const O=({color:M,name:L,mainShade:$=500,lightShade:N=300,darkShade:F=700})=>{if(M={...M},!M.main&&M[$]&&(M.main=M[$]),!M.hasOwnProperty("main"))throw new Error(Gg(11,L?` (${L})`:"",$));if(typeof M.main!="string")throw new Error(Gg(12,L?` (${L})`:"",JSON.stringify(M.main)));return i?(gj(i,M,"light",N,r),gj(i,M,"dark",F,r)):(mj(M,"light",N,r),mj(M,"dark",F,r)),M.contrastText||(M.contrastText=x(M.main)),M};let E;return e==="light"?E=kY():e==="dark"&&(E=AY()),Da({common:{...ZC},mode:e,primary:O({color:a,name:"primary"}),secondary:O({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:O({color:u,name:"error"}),warning:O({color:v,name:"warning"}),info:O({color:d,name:"info"}),success:O({color:g,name:"success"}),grey:Kfe,contrastThreshold:n,getContrastText:x,augmentColor:O,tonalOffset:r,...E},o)}function mye(t){const e={};return Object.entries(t).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function gye(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function yye(t){return Math.round(t*1e5)/1e5}const yj={textTransform:"uppercase"},vj='"Roboto", "Helvetica", "Arial", sans-serif';function vye(t,e){const{fontFamily:n=vj,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:s=700,htmlFontSize:u=16,allVariants:d,pxToRem:g,...v}=typeof e=="function"?e(t):e,x=r/14,O=g||(M=>`${M/u*x}rem`),E=(M,L,$,N,F)=>({fontFamily:n,fontWeight:M,fontSize:O(L),lineHeight:$,...n===vj?{letterSpacing:`${yye(N/L)}em`}:{},...F,...d}),A={h1:E(i,96,1.167,-1.5),h2:E(i,60,1.2,-.5),h3:E(o,48,1.167,0),h4:E(o,34,1.235,.25),h5:E(o,24,1.334,0),h6:E(a,20,1.6,.15),subtitle1:E(o,16,1.75,.15),subtitle2:E(a,14,1.57,.1),body1:E(o,16,1.5,.15),body2:E(o,14,1.43,.15),button:E(a,14,1.75,.4,yj),caption:E(o,12,1.66,.4),overline:E(o,12,2.66,1,yj),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Da({htmlFontSize:u,pxToRem:O,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:s,...A},v,{clone:!1})}const _ye=.2,xye=.14,bye=.12;function Wo(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${_ye})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${xye})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${bye})`].join(",")}const wye=["none",Wo(0,2,1,-1,0,1,1,0,0,1,3,0),Wo(0,3,1,-2,0,2,2,0,0,1,5,0),Wo(0,3,3,-2,0,3,4,0,0,1,8,0),Wo(0,2,4,-1,0,4,5,0,0,1,10,0),Wo(0,3,5,-1,0,5,8,0,0,1,14,0),Wo(0,3,5,-1,0,6,10,0,0,1,18,0),Wo(0,4,5,-2,0,7,10,1,0,2,16,1),Wo(0,5,5,-3,0,8,10,1,0,3,14,2),Wo(0,5,6,-3,0,9,12,1,0,3,16,2),Wo(0,6,6,-3,0,10,14,1,0,4,18,3),Wo(0,6,7,-4,0,11,15,1,0,4,20,3),Wo(0,7,8,-4,0,12,17,2,0,5,22,4),Wo(0,7,8,-4,0,13,19,2,0,5,24,4),Wo(0,7,9,-4,0,14,21,2,0,5,26,4),Wo(0,8,9,-5,0,15,22,2,0,6,28,5),Wo(0,8,10,-5,0,16,24,2,0,6,30,5),Wo(0,8,11,-5,0,17,26,2,0,6,32,5),Wo(0,9,11,-5,0,18,28,2,0,7,34,6),Wo(0,9,12,-6,0,19,29,2,0,7,36,6),Wo(0,10,13,-6,0,20,31,3,0,8,38,7),Wo(0,10,13,-6,0,21,33,3,0,8,40,7),Wo(0,10,14,-6,0,22,35,3,0,8,42,7),Wo(0,11,14,-7,0,23,36,3,0,9,44,8),Wo(0,11,15,-7,0,24,38,3,0,9,46,8)],Oye={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},PY={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function _j(t){return`${Math.round(t)}ms`}function Sye(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function Cye(t){const e={...Oye,...t.easing},n={...PY,...t.duration};return{getAutoHeightDuration:Sye,create:(i=["all"],o={})=>{const{duration:a=n.standard,easing:s=e.easeInOut,delay:u=0,...d}=o;return(Array.isArray(i)?i:[i]).map(g=>`${g} ${typeof a=="string"?a:_j(a)} ${s} ${typeof u=="string"?u:_j(u)}`).join(",")},...t,easing:e,duration:n}}const Tye={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function kye(t){return Up(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function MY(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[a,s]=i[o];!kye(s)||a.startsWith("unstable_")?delete r[a]:Up(s)&&(r[a]={...s},n(r[a]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function xj(t){return typeof t=="number"?`${(t*100).toFixed(0)}%`:`calc((${t}) * 100%)`}const Eye=t=>{if(!Number.isNaN(+t))return+t;const e=t.match(/\d*\.?\d+/g);if(!e)return 0;let n=0;for(let r=0;r<e.length;r+=1)n+=+e[r];return n};function Aye(t){Object.assign(t,{alpha(e,n){const r=this||t;return r.colorSpace?`oklch(from ${e} l c h / ${typeof n=="string"?`calc(${n})`:n})`:r.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof n=="string"?`calc(${n})`:n})`:XC(e,Eye(n))},lighten(e,n){const r=this||t;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #fff ${xj(n)})`:vR(e,n)},darken(e,n){const r=this||t;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #000 ${xj(n)})`:yR(e,n)}})}function F$(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:o={},transitions:a={},typography:s={},shape:u,colorSpace:d,...g}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Gg(20));const v=IN({...o,colorSpace:d}),x=EO(t);let O=Da(x,{mixins:gye(x.breakpoints,r),palette:v,shadows:wye.slice(),typography:vye(v,s),transitions:Cye(a),zIndex:{...Tye}});return O=Da(O,g),O=e.reduce((E,A)=>Da(E,A),O),O.unstable_sxConfig={...ck,...g?.unstable_sxConfig},O.unstable_sx=function(A){return fx({sx:A,theme:this})},O.toRuntimeSource=MY,Aye(O),O}function j$(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const Pye=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=j$(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function RY(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function IY(t){return t==="dark"?Pye:[]}function Mye(t){const{palette:e={mode:"light"},opacity:n,overlays:r,colorSpace:i,...o}=t,a=IN({...e,colorSpace:i});return{palette:a,opacity:{...RY(a.mode),...n},overlays:r||IY(a.mode),...o}}function Rye(t){return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!t[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const Iye=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],Dye=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const a={};return Iye(t.cssVarPrefix).forEach(s=>{a[s]=n[s],delete n[s]}),o==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:a}}:o?{[o.replace("%s",e)]:a,[`${r}, ${o.replace("%s",e)}`]:n}:{[r]:{...n,...a}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(o)return o.replace("%s",String(e))}return r};function Lye(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function Bt(t,e,n){!t[e]&&n&&(t[e]=n)}function X2(t){return typeof t!="string"||!t.startsWith("hsl")?t:TY(t)}function wg(t,e){`${e}Channel`in t||(t[`${e}Channel`]=G2(X2(t[e])))}function $ye(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Pp=t=>{try{return t()}catch{}},zye=(t="mui")=>Age(t);function qD(t,e,n,r,i){if(!n)return;n=n===!0?{}:n;const o=i==="dark"?"dark":"light";if(!r){e[i]=Mye({...n,palette:{mode:o,...n?.palette},colorSpace:t});return}const{palette:a,...s}=F$({...r,palette:{mode:o,...n?.palette},colorSpace:t});return e[i]={...n,palette:a,opacity:{...RY(o),...n?.opacity},overlays:n?.overlays||IY(o)},s}function Nye(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",nativeColor:a=!1,shouldSkipGeneratingVar:s=Rye,colorSchemeSelector:u=n.light&&n.dark?"media":void 0,rootSelector:d=":root",...g}=t,v=Object.keys(n)[0],x=r||(n.light&&v!=="light"?"light":v),O=zye(o),{[x]:E,light:A,dark:M,...L}=n,$={...L};let N=E;if((x==="dark"&&!("dark"in n)||x==="light"&&!("light"in n))&&(N=!0),!N)throw new Error(Gg(21,x));let F;a&&(F="oklch");const U=qD(F,$,N,g,x);A&&!$.light&&qD(F,$,A,void 0,"light"),M&&!$.dark&&qD(F,$,M,void 0,"dark");let q={defaultColorScheme:x,...U,cssVarPrefix:o,colorSchemeSelector:u,rootSelector:d,getCssVar:O,colorSchemes:$,font:{...mye(U.typography),...U.font},spacing:$ye(g.spacing)};Object.keys(q.colorSchemes).forEach(be=>{const ie=q.colorSchemes[be].palette,me=pe=>{const _e=pe.split("-"),Me=_e[1],Be=_e[2];return O(pe,ie[Me][Be])};ie.mode==="light"&&(Bt(ie.common,"background","#fff"),Bt(ie.common,"onBackground","#000")),ie.mode==="dark"&&(Bt(ie.common,"background","#000"),Bt(ie.common,"onBackground","#fff"));function we(pe,_e,Me){if(F){let Be;return pe===C_&&(Be=`transparent ${((1-Me)*100).toFixed(0)}%`),pe===Qi&&(Be=`#000 ${(Me*100).toFixed(0)}%`),pe===Ui&&(Be=`#fff ${(Me*100).toFixed(0)}%`),`color-mix(in ${F}, ${_e}, ${Be})`}return pe(_e,Me)}if(Lye(ie,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),ie.mode==="light"){Bt(ie.Alert,"errorColor",we(Qi,ie.error.light,.6)),Bt(ie.Alert,"infoColor",we(Qi,ie.info.light,.6)),Bt(ie.Alert,"successColor",we(Qi,ie.success.light,.6)),Bt(ie.Alert,"warningColor",we(Qi,ie.warning.light,.6)),Bt(ie.Alert,"errorFilledBg",me("palette-error-main")),Bt(ie.Alert,"infoFilledBg",me("palette-info-main")),Bt(ie.Alert,"successFilledBg",me("palette-success-main")),Bt(ie.Alert,"warningFilledBg",me("palette-warning-main")),Bt(ie.Alert,"errorFilledColor",Pp(()=>ie.getContrastText(ie.error.main))),Bt(ie.Alert,"infoFilledColor",Pp(()=>ie.getContrastText(ie.info.main))),Bt(ie.Alert,"successFilledColor",Pp(()=>ie.getContrastText(ie.success.main))),Bt(ie.Alert,"warningFilledColor",Pp(()=>ie.getContrastText(ie.warning.main))),Bt(ie.Alert,"errorStandardBg",we(Ui,ie.error.light,.9)),Bt(ie.Alert,"infoStandardBg",we(Ui,ie.info.light,.9)),Bt(ie.Alert,"successStandardBg",we(Ui,ie.success.light,.9)),Bt(ie.Alert,"warningStandardBg",we(Ui,ie.warning.light,.9)),Bt(ie.Alert,"errorIconColor",me("palette-error-main")),Bt(ie.Alert,"infoIconColor",me("palette-info-main")),Bt(ie.Alert,"successIconColor",me("palette-success-main")),Bt(ie.Alert,"warningIconColor",me("palette-warning-main")),Bt(ie.AppBar,"defaultBg",me("palette-grey-100")),Bt(ie.Avatar,"defaultBg",me("palette-grey-400")),Bt(ie.Button,"inheritContainedBg",me("palette-grey-300")),Bt(ie.Button,"inheritContainedHoverBg",me("palette-grey-A100")),Bt(ie.Chip,"defaultBorder",me("palette-grey-400")),Bt(ie.Chip,"defaultAvatarColor",me("palette-grey-700")),Bt(ie.Chip,"defaultIconColor",me("palette-grey-700")),Bt(ie.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Bt(ie.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Bt(ie.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Bt(ie.LinearProgress,"primaryBg",we(Ui,ie.primary.main,.62)),Bt(ie.LinearProgress,"secondaryBg",we(Ui,ie.secondary.main,.62)),Bt(ie.LinearProgress,"errorBg",we(Ui,ie.error.main,.62)),Bt(ie.LinearProgress,"infoBg",we(Ui,ie.info.main,.62)),Bt(ie.LinearProgress,"successBg",we(Ui,ie.success.main,.62)),Bt(ie.LinearProgress,"warningBg",we(Ui,ie.warning.main,.62)),Bt(ie.Skeleton,"bg",F?we(C_,ie.text.primary,.11):`rgba(${me("palette-text-primaryChannel")} / 0.11)`),Bt(ie.Slider,"primaryTrack",we(Ui,ie.primary.main,.62)),Bt(ie.Slider,"secondaryTrack",we(Ui,ie.secondary.main,.62)),Bt(ie.Slider,"errorTrack",we(Ui,ie.error.main,.62)),Bt(ie.Slider,"infoTrack",we(Ui,ie.info.main,.62)),Bt(ie.Slider,"successTrack",we(Ui,ie.success.main,.62)),Bt(ie.Slider,"warningTrack",we(Ui,ie.warning.main,.62));const pe=F?we(Qi,ie.background.default,.6825):aA(ie.background.default,.8);Bt(ie.SnackbarContent,"bg",pe),Bt(ie.SnackbarContent,"color",Pp(()=>F?B$.text.primary:ie.getContrastText(pe))),Bt(ie.SpeedDialAction,"fabHoverBg",aA(ie.background.paper,.15)),Bt(ie.StepConnector,"border",me("palette-grey-400")),Bt(ie.StepContent,"border",me("palette-grey-400")),Bt(ie.Switch,"defaultColor",me("palette-common-white")),Bt(ie.Switch,"defaultDisabledColor",me("palette-grey-100")),Bt(ie.Switch,"primaryDisabledColor",we(Ui,ie.primary.main,.62)),Bt(ie.Switch,"secondaryDisabledColor",we(Ui,ie.secondary.main,.62)),Bt(ie.Switch,"errorDisabledColor",we(Ui,ie.error.main,.62)),Bt(ie.Switch,"infoDisabledColor",we(Ui,ie.info.main,.62)),Bt(ie.Switch,"successDisabledColor",we(Ui,ie.success.main,.62)),Bt(ie.Switch,"warningDisabledColor",we(Ui,ie.warning.main,.62)),Bt(ie.TableCell,"border",we(Ui,we(C_,ie.divider,1),.88)),Bt(ie.Tooltip,"bg",we(C_,ie.grey[700],.92))}if(ie.mode==="dark"){Bt(ie.Alert,"errorColor",we(Ui,ie.error.light,.6)),Bt(ie.Alert,"infoColor",we(Ui,ie.info.light,.6)),Bt(ie.Alert,"successColor",we(Ui,ie.success.light,.6)),Bt(ie.Alert,"warningColor",we(Ui,ie.warning.light,.6)),Bt(ie.Alert,"errorFilledBg",me("palette-error-dark")),Bt(ie.Alert,"infoFilledBg",me("palette-info-dark")),Bt(ie.Alert,"successFilledBg",me("palette-success-dark")),Bt(ie.Alert,"warningFilledBg",me("palette-warning-dark")),Bt(ie.Alert,"errorFilledColor",Pp(()=>ie.getContrastText(ie.error.dark))),Bt(ie.Alert,"infoFilledColor",Pp(()=>ie.getContrastText(ie.info.dark))),Bt(ie.Alert,"successFilledColor",Pp(()=>ie.getContrastText(ie.success.dark))),Bt(ie.Alert,"warningFilledColor",Pp(()=>ie.getContrastText(ie.warning.dark))),Bt(ie.Alert,"errorStandardBg",we(Qi,ie.error.light,.9)),Bt(ie.Alert,"infoStandardBg",we(Qi,ie.info.light,.9)),Bt(ie.Alert,"successStandardBg",we(Qi,ie.success.light,.9)),Bt(ie.Alert,"warningStandardBg",we(Qi,ie.warning.light,.9)),Bt(ie.Alert,"errorIconColor",me("palette-error-main")),Bt(ie.Alert,"infoIconColor",me("palette-info-main")),Bt(ie.Alert,"successIconColor",me("palette-success-main")),Bt(ie.Alert,"warningIconColor",me("palette-warning-main")),Bt(ie.AppBar,"defaultBg",me("palette-grey-900")),Bt(ie.AppBar,"darkBg",me("palette-background-paper")),Bt(ie.AppBar,"darkColor",me("palette-text-primary")),Bt(ie.Avatar,"defaultBg",me("palette-grey-600")),Bt(ie.Button,"inheritContainedBg",me("palette-grey-800")),Bt(ie.Button,"inheritContainedHoverBg",me("palette-grey-700")),Bt(ie.Chip,"defaultBorder",me("palette-grey-700")),Bt(ie.Chip,"defaultAvatarColor",me("palette-grey-300")),Bt(ie.Chip,"defaultIconColor",me("palette-grey-300")),Bt(ie.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Bt(ie.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Bt(ie.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Bt(ie.LinearProgress,"primaryBg",we(Qi,ie.primary.main,.5)),Bt(ie.LinearProgress,"secondaryBg",we(Qi,ie.secondary.main,.5)),Bt(ie.LinearProgress,"errorBg",we(Qi,ie.error.main,.5)),Bt(ie.LinearProgress,"infoBg",we(Qi,ie.info.main,.5)),Bt(ie.LinearProgress,"successBg",we(Qi,ie.success.main,.5)),Bt(ie.LinearProgress,"warningBg",we(Qi,ie.warning.main,.5)),Bt(ie.Skeleton,"bg",F?we(C_,ie.text.primary,.13):`rgba(${me("palette-text-primaryChannel")} / 0.13)`),Bt(ie.Slider,"primaryTrack",we(Qi,ie.primary.main,.5)),Bt(ie.Slider,"secondaryTrack",we(Qi,ie.secondary.main,.5)),Bt(ie.Slider,"errorTrack",we(Qi,ie.error.main,.5)),Bt(ie.Slider,"infoTrack",we(Qi,ie.info.main,.5)),Bt(ie.Slider,"successTrack",we(Qi,ie.success.main,.5)),Bt(ie.Slider,"warningTrack",we(Qi,ie.warning.main,.5));const pe=F?we(Ui,ie.background.default,.985):aA(ie.background.default,.98);Bt(ie.SnackbarContent,"bg",pe),Bt(ie.SnackbarContent,"color",Pp(()=>F?EY.text.primary:ie.getContrastText(pe))),Bt(ie.SpeedDialAction,"fabHoverBg",aA(ie.background.paper,.15)),Bt(ie.StepConnector,"border",me("palette-grey-600")),Bt(ie.StepContent,"border",me("palette-grey-600")),Bt(ie.Switch,"defaultColor",me("palette-grey-300")),Bt(ie.Switch,"defaultDisabledColor",me("palette-grey-600")),Bt(ie.Switch,"primaryDisabledColor",we(Qi,ie.primary.main,.55)),Bt(ie.Switch,"secondaryDisabledColor",we(Qi,ie.secondary.main,.55)),Bt(ie.Switch,"errorDisabledColor",we(Qi,ie.error.main,.55)),Bt(ie.Switch,"infoDisabledColor",we(Qi,ie.info.main,.55)),Bt(ie.Switch,"successDisabledColor",we(Qi,ie.success.main,.55)),Bt(ie.Switch,"warningDisabledColor",we(Qi,ie.warning.main,.55)),Bt(ie.TableCell,"border",we(Qi,we(C_,ie.divider,1),.68)),Bt(ie.Tooltip,"bg",we(C_,ie.grey[700],.92))}wg(ie.background,"default"),wg(ie.background,"paper"),wg(ie.common,"background"),wg(ie.common,"onBackground"),wg(ie,"divider"),Object.keys(ie).forEach(pe=>{const _e=ie[pe];pe!=="tonalOffset"&&_e&&typeof _e=="object"&&(_e.main&&Bt(ie[pe],"mainChannel",G2(X2(_e.main))),_e.light&&Bt(ie[pe],"lightChannel",G2(X2(_e.light))),_e.dark&&Bt(ie[pe],"darkChannel",G2(X2(_e.dark))),_e.contrastText&&Bt(ie[pe],"contrastTextChannel",G2(X2(_e.contrastText))),pe==="text"&&(wg(ie[pe],"primary"),wg(ie[pe],"secondary")),pe==="action"&&(_e.active&&wg(ie[pe],"active"),_e.selected&&wg(ie[pe],"selected")))})}),q=e.reduce((be,ie)=>Da(be,ie),q);const W={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:s,getSelector:Dye(q),enableContrastVars:a},{vars:te,generateThemeVars:re,generateStyleSheets:ce}=Rge(q,W);return q.vars=te,Object.entries(q.colorSchemes[q.defaultColorScheme]).forEach(([be,ie])=>{q[be]=ie}),q.generateThemeVars=re,q.generateStyleSheets=ce,q.generateSpacing=function(){return gY(g.spacing,cR(this))},q.getColorSchemeSelector=Ige(u),q.spacing=q.generateSpacing(),q.shouldSkipGeneratingVar=s,q.unstable_sxConfig={...ck,...g?.unstable_sxConfig},q.unstable_sx=function(ie){return fx({sx:ie,theme:this})},q.toRuntimeSource=MY,q}function bj(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:IN({...n===!0?{}:n.palette,mode:e})})}function DY(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:o=n?.mode,...a}=t,s=o||"light",u=i?.[s],d={...i,...n?{[s]:{...typeof u!="boolean"&&u,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return F$(t,...e);let g=n;"palette"in t||d[s]&&(d[s]!==!0?g=d[s].palette:s==="dark"&&(g={mode:"dark"}));const v=F$({...t,palette:g},...e);return v.defaultColorScheme=s,v.colorSchemes=d,v.palette.mode==="light"&&(v.colorSchemes.light={...d.light!==!0&&d.light,palette:v.palette},bj(v,"dark",d.dark)),v.palette.mode==="dark"&&(v.colorSchemes.dark={...d.dark!==!0&&d.dark,palette:v.palette},bj(v,"light",d.light)),v}return!n&&!("light"in d)&&s==="light"&&(d.light=!0),Nye({...a,colorSchemes:d,defaultColorScheme:s,...typeof r!="boolean"&&r},...e)}const DN=DY();function If(){const t=uk(DN);return t[ik]||t}function LY(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const gc=t=>LY(t)&&t!=="classes",en=wY({themeId:ik,defaultTheme:DN,rootShouldForwardProp:gc});function wj(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function Bye(t){return Y.jsx(nge,{...t,defaultTheme:DN,themeId:ik})}function LN(t){return function(n){return Y.jsx(Bye,{styles:typeof t=="function"?r=>t({theme:r,...n}):t})}}function Fye(){return mR}const cr=Ege;function Kn(t){return Cge(t)}function jye(t){return Hn("MuiSvgIcon",t)}tr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Vye=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${qt(e)}`,`fontSize${qt(n)}`]};return Gn(i,jye,r)},Qye=en("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${qt(n.color)}`],e[`fontSize${qt(n.fontSize)}`]]}})(cr(({theme:t})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:t.transitions?.create?.("fill",{duration:(t.vars??t).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:t.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:t.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:t.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,e])=>e&&e.main).map(([e])=>({props:{color:e},style:{color:(t.vars??t).palette?.[e]?.main}})),{props:{color:"action"},style:{color:(t.vars??t).palette?.action?.active}},{props:{color:"disabled"},style:{color:(t.vars??t).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),V$=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:a="inherit",component:s="svg",fontSize:u="medium",htmlColor:d,inheritViewBox:g=!1,titleAccess:v,viewBox:x="0 0 24 24",...O}=r,E=j.isValidElement(i)&&i.type==="svg",A={...r,color:a,component:s,fontSize:u,instanceFontSize:e.fontSize,inheritViewBox:g,viewBox:x,hasSvgAsChild:E},M={};g||(M.viewBox=x);const L=Vye(A);return Y.jsxs(Qye,{as:s,className:wn(L.root,o),focusable:"false",color:d,"aria-hidden":v?void 0:!0,role:v?"img":void 0,ref:n,...M,...O,...E&&i.props,ownerState:A,children:[E?i.props.children:i,v?Y.jsx("title",{children:v}):null]})});V$.muiName="SvgIcon";function Wi(t,e){function n(r,i){return Y.jsx(V$,{"data-testid":void 0,ref:i,...r,children:t})}return n.muiName=V$.muiName,j.memo(j.forwardRef(n))}function $N(t,e=166){let n;function r(...i){const o=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(o,e)}return r.clear=()=>{clearTimeout(n)},r}function sh(t){return t&&t.ownerDocument||document}function Cf(t){return sh(t).defaultView||window}function Oj(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function p5(t){const{controlled:e,default:n,name:r,state:i="value"}=t,{current:o}=j.useRef(e!==void 0),[a,s]=j.useState(n),u=o?e:a,d=j.useCallback(g=>{o||s(g)},[]);return[u,d]}function Zg(t){const e=j.useRef(t);return od(()=>{e.current=t}),j.useRef((...n)=>(0,e.current)(...n)).current}function is(...t){const e=j.useRef(void 0),n=j.useCallback(r=>{const i=t.map(o=>{if(o==null)return null;if(typeof o=="function"){const a=o,s=a(r);return typeof s=="function"?s:()=>{a(null)}}return o.current=r,()=>{o.current=null}});return()=>{i.forEach(o=>o?.())}},t);return j.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}function Uye(t,e){const n=t.charCodeAt(2);return t[0]==="o"&&t[1]==="n"&&n>=65&&n<=90&&typeof e=="function"}function $Y(t,e){if(!t)return e;function n(a,s){const u={};return Object.keys(s).forEach(d=>{Uye(d,s[d])&&typeof a[d]=="function"&&(u[d]=(...g)=>{a[d](...g),s[d](...g)})}),u}if(typeof t=="function"||typeof e=="function")return a=>{const s=typeof e=="function"?e(a):e,u=typeof t=="function"?t({...a,...s}):t,d=wn(a?.className,s?.className,u?.className),g=n(u,s);return{...s,...u,...g,...!!d&&{className:d},...s?.style&&u?.style&&{style:{...s.style,...u.style}},...s?.sx&&u?.sx&&{sx:[...Array.isArray(s.sx)?s.sx:[s.sx],...Array.isArray(u.sx)?u.sx:[u.sx]]}}};const r=e,i=n(t,r),o=wn(r?.className,t?.className);return{...e,...t,...i,...!!o&&{className:o},...r?.style&&t?.style&&{style:{...r.style,...t.style}},...r?.sx&&t?.sx&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function q_(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Q$(t,e){return Q$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Q$(t,e)}function zY(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Q$(t,e)}const Sj={disabled:!1},m5=ae.createContext(null);var Zye=function(e){return e.scrollTop},Y2="unmounted",D_="exited",L_="entering",j1="entered",U$="exiting",fd=(function(t){zY(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var a=i,s=a&&!a.isMounting?r.enter:r.appear,u;return o.appearStatus=null,r.in?s?(u=D_,o.appearStatus=L_):u=j1:r.unmountOnExit||r.mountOnEnter?u=Y2:u=D_,o.state={status:u},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var a=i.in;return a&&o.status===Y2?{status:D_}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==L_&&a!==j1&&(o=L_):(a===L_||a===j1)&&(o=U$)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,a,s;return o=a=s=i,i!=null&&typeof i!="number"&&(o=i.exit,a=i.enter,s=i.appear!==void 0?i.appear:a),{exit:o,enter:a,appear:s}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===L_){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:H2.findDOMNode(this);a&&Zye(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===D_&&this.setState({status:Y2})},n.performEnter=function(i){var o=this,a=this.props.enter,s=this.context?this.context.isMounting:i,u=this.props.nodeRef?[s]:[H2.findDOMNode(this),s],d=u[0],g=u[1],v=this.getTimeouts(),x=s?v.appear:v.enter;if(!i&&!a||Sj.disabled){this.safeSetState({status:j1},function(){o.props.onEntered(d)});return}this.props.onEnter(d,g),this.safeSetState({status:L_},function(){o.props.onEntering(d,g),o.onTransitionEnd(x,function(){o.safeSetState({status:j1},function(){o.props.onEntered(d,g)})})})},n.performExit=function(){var i=this,o=this.props.exit,a=this.getTimeouts(),s=this.props.nodeRef?void 0:H2.findDOMNode(this);if(!o||Sj.disabled){this.safeSetState({status:D_},function(){i.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:U$},function(){i.props.onExiting(s),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:D_},function(){i.props.onExited(s)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,a=!0;return this.nextCallback=function(s){a&&(a=!1,o.nextCallback=null,i(s))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var a=this.props.nodeRef?this.props.nodeRef.current:H2.findDOMNode(this),s=i==null&&!this.props.addEndListener;if(!a||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],d=u[0],g=u[1];this.props.addEndListener(d,g)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Y2)return null;var o=this.props,a=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var s=q_(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ae.createElement(m5.Provider,{value:null},typeof a=="function"?a(i,s):ae.cloneElement(ae.Children.only(a),s))},e})(ae.Component);fd.contextType=m5;fd.propTypes={};function w1(){}fd.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:w1,onEntering:w1,onEntered:w1,onExit:w1,onExiting:w1,onExited:w1};fd.UNMOUNTED=Y2;fd.EXITED=D_;fd.ENTERING=L_;fd.ENTERED=j1;fd.EXITING=U$;function qye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zN(t,e){var n=function(o){return e&&j.isValidElement(o)?e(o):o},r=Object.create(null);return t&&j.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function Wye(t,e){t=t||{},e=e||{};function n(g){return g in e?e[g]:t[g]}var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var a,s={};for(var u in e){if(r[u])for(a=0;a<r[u].length;a++){var d=r[u][a];s[r[u][a]]=n(d)}s[u]=n(u)}for(a=0;a<i.length;a++)s[i[a]]=n(i[a]);return s}function W_(t,e,n){return n[e]!=null?n[e]:t.props[e]}function Hye(t,e){return zN(t.children,function(n){return j.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:W_(n,"appear",t),enter:W_(n,"enter",t),exit:W_(n,"exit",t)})})}function Gye(t,e,n){var r=zN(t.children),i=Wye(e,r);return Object.keys(i).forEach(function(o){var a=i[o];if(j.isValidElement(a)){var s=o in e,u=o in r,d=e[o],g=j.isValidElement(d)&&!d.props.in;u&&(!s||g)?i[o]=j.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:W_(a,"exit",t),enter:W_(a,"enter",t)}):!u&&s&&!g?i[o]=j.cloneElement(a,{in:!1}):u&&s&&j.isValidElement(d)&&(i[o]=j.cloneElement(a,{onExited:n.bind(null,a),in:d.props.in,exit:W_(a,"exit",t),enter:W_(a,"enter",t)}))}}),i}var Xye=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},Yye={component:"div",childFactory:function(e){return e}},NN=(function(t){zY(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var a=o.handleExited.bind(qye(o));return o.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var a=o.children,s=o.handleExited,u=o.firstRender;return{children:u?Hye(i,s):Gye(i,a,s),firstRender:!1}},n.handleExited=function(i,o){var a=zN(this.props.children);i.key in a||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(s){var u=Ao({},s.children);return delete u[i.key],{children:u}}))},n.render=function(){var i=this.props,o=i.component,a=i.childFactory,s=q_(i,["component","childFactory"]),u=this.state.contextValue,d=Xye(this.state.children).map(a);return delete s.appear,delete s.enter,delete s.exit,o===null?ae.createElement(m5.Provider,{value:u},d):ae.createElement(m5.Provider,{value:u},ae.createElement(o,s,d))},e})(ae.Component);NN.propTypes={};NN.defaultProps=Yye;const Cj={};function NY(t,e){const n=j.useRef(Cj);return n.current===Cj&&(n.current=t(e)),n}const Kye=[];function Jye(t){j.useEffect(t,Kye)}class bR{static create(){return new bR}currentId=null;start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function H_(){const t=NY(bR.create).current;return Jye(t.disposeEffect),t}const BN=t=>t.scrollTop;function j0(t,e){const{timeout:n,easing:r,style:i={}}=t;return{duration:i.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}function Lw(t){return typeof t=="string"}function BY(t,e,n){return t===void 0||Lw(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function FY(t,e,n){return typeof t=="function"?t(e,n):t}function jY(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function Tj(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function VY(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=t;if(!e){const O=wn(n?.className,o,i?.className,r?.className),E={...n?.style,...i?.style,...r?.style},A={...n,...i,...r};return O.length>0&&(A.className=O),Object.keys(E).length>0&&(A.style=E),{props:A,internalRef:void 0}}const a=jY({...i,...r}),s=Tj(r),u=Tj(i),d=e(a),g=wn(d?.className,n?.className,o,i?.className,r?.className),v={...d?.style,...n?.style,...i?.style,...r?.style},x={...d,...n,...u,...s};return g.length>0&&(x.className=g),Object.keys(v).length>0&&(x.style=v),{props:x,internalRef:d.ref}}function er(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:a,shouldForwardComponentProp:s=!1,...u}=e,{component:d,slots:g={[t]:void 0},slotProps:v={[t]:void 0},...x}=o,O=g[t]||r,E=FY(v[t],i),{props:{component:A,...M},internalRef:L}=VY({className:n,...u,externalForwardedProps:t==="root"?x:void 0,externalSlotProps:E}),$=is(L,E?.ref,e.ref),N=t==="root"?A||d:A,F=BY(O,{...t==="root"&&!d&&!g[t]&&a,...t!=="root"&&!g[t]&&a,...M,...N&&!s&&{as:N},...N&&s&&{component:N},ref:$},i);return[O,F]}function e0e(t){return Hn("MuiCollapse",t)}tr("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const t0e=t=>{const{orientation:e,classes:n}=t,r={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return Gn(r,e0e,n)},n0e=en("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation],n.state==="entered"&&e.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&e.hidden]}})(cr(({theme:t})=>({height:0,overflow:"hidden",transition:t.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:t.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:e})=>e.state==="exited"&&!e.in&&e.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),r0e=en("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),i0e=en("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Z$=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiCollapse"}),{addEndListener:i,children:o,className:a,collapsedSize:s="0px",component:u,easing:d,in:g,onEnter:v,onEntered:x,onEntering:O,onExit:E,onExited:A,onExiting:M,orientation:L="vertical",slots:$={},slotProps:N={},style:F,timeout:U=PY.standard,TransitionComponent:q=fd,...W}=r,te={...r,orientation:L,collapsedSize:s},re=t0e(te),ce=If(),be=H_(),ie=j.useRef(null),me=j.useRef(),we=typeof s=="number"?`${s}px`:s,pe=L==="horizontal",_e=pe?"width":"height",Me=j.useRef(null),Be=is(n,Me),Ue=Yt=>Cn=>{if(Yt){const sn=Me.current;Cn===void 0?Yt(sn):Yt(sn,Cn)}},Ce=()=>ie.current?ie.current[pe?"clientWidth":"clientHeight"]:0,Pe=Ue((Yt,Cn)=>{ie.current&&pe&&(ie.current.style.position="absolute"),Yt.style[_e]=we,v&&v(Yt,Cn)}),Xe=Ue((Yt,Cn)=>{const sn=Ce();ie.current&&pe&&(ie.current.style.position="");const{duration:Rn,easing:Fn}=j0({style:F,timeout:U,easing:d},{mode:"enter"});if(U==="auto"){const Vn=ce.transitions.getAutoHeightDuration(sn);Yt.style.transitionDuration=`${Vn}ms`,me.current=Vn}else Yt.style.transitionDuration=typeof Rn=="string"?Rn:`${Rn}ms`;Yt.style[_e]=`${sn}px`,Yt.style.transitionTimingFunction=Fn,O&&O(Yt,Cn)}),ke=Ue((Yt,Cn)=>{Yt.style[_e]="auto",x&&x(Yt,Cn)}),mt=Ue(Yt=>{Yt.style[_e]=`${Ce()}px`,E&&E(Yt)}),gt=Ue(A),ct=Ue(Yt=>{const Cn=Ce(),{duration:sn,easing:Rn}=j0({style:F,timeout:U,easing:d},{mode:"exit"});if(U==="auto"){const Fn=ce.transitions.getAutoHeightDuration(Cn);Yt.style.transitionDuration=`${Fn}ms`,me.current=Fn}else Yt.style.transitionDuration=typeof sn=="string"?sn:`${sn}ms`;Yt.style[_e]=we,Yt.style.transitionTimingFunction=Rn,M&&M(Yt)}),ot=Yt=>{U==="auto"&&be.start(me.current||0,Yt),i&&i(Me.current,Yt)},vt={slots:$,slotProps:N,component:u},[At,Tt]=er("root",{ref:Be,className:wn(re.root,a),elementType:n0e,externalForwardedProps:vt,ownerState:te,additionalProps:{style:{[pe?"minWidth":"minHeight"]:we,...F}}}),[Wt,Ot]=er("wrapper",{ref:ie,className:re.wrapper,elementType:r0e,externalForwardedProps:vt,ownerState:te}),[hn,Gt]=er("wrapperInner",{className:re.wrapperInner,elementType:i0e,externalForwardedProps:vt,ownerState:te});return Y.jsx(q,{in:g,onEnter:Pe,onEntered:ke,onEntering:Xe,onExit:mt,onExited:gt,onExiting:ct,addEndListener:ot,nodeRef:Me,timeout:U==="auto"?null:U,...W,children:(Yt,{ownerState:Cn,...sn})=>{const Rn={...te,state:Yt};return Y.jsx(At,{...Tt,className:wn(Tt.className,{entered:re.entered,exited:!g&&we==="0px"&&re.hidden}[Yt]),ownerState:Rn,...sn,children:Y.jsx(Wt,{...Ot,ownerState:Rn,children:Y.jsx(hn,{...Gt,ownerState:Rn,children:o})})})}})});Z$&&(Z$.muiSupportAuto=!0);function o0e(t){return Hn("MuiPaper",t)}tr("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const s0e=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Gn(o,o0e,i)},a0e=en("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(cr(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),yc=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiPaper"}),i=If(),{className:o,component:a="div",elevation:s=1,square:u=!1,variant:d="elevation",...g}=r,v={...r,component:a,elevation:s,square:u,variant:d},x=s0e(v);return Y.jsx(a0e,{as:a,ownerState:v,className:wn(x.root,o),ref:n,...g,style:{...d==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[s],...i.vars&&{"--Paper-overlay":i.vars.overlays?.[s]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${XC("#fff",j$(s))}, ${XC("#fff",j$(s))})`}},...g.style}})});function $w(t){try{return t.matches(":focus-visible")}catch{}return!1}class g5{static create(){return new g5}static use(){const e=NY(g5.create).current,[n,r]=j.useState(!1);return e.shouldMount=n,e.setShouldMount=r,j.useEffect(e.mountEffect,[n]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=c0e(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...e){this.mount().then(()=>this.ref.current?.start(...e))}stop(...e){this.mount().then(()=>this.ref.current?.stop(...e))}pulsate(...e){this.mount().then(()=>this.ref.current?.pulsate(...e))}}function l0e(){return g5.use()}function c0e(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function u0e(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:a,in:s,onExited:u,timeout:d}=t,[g,v]=j.useState(!1),x=wn(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),O={width:a,height:a,top:-(a/2)+o,left:-(a/2)+i},E=wn(n.child,g&&n.childLeaving,r&&n.childPulsate);return!s&&!g&&v(!0),j.useEffect(()=>{if(!s&&u!=null){const A=setTimeout(u,d);return()=>{clearTimeout(A)}}},[u,s,d]),Y.jsx("span",{className:x,style:O,children:Y.jsx("span",{className:E})})}const Vh=tr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),q$=550,h0e=80,d0e=ak`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,f0e=ak`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,p0e=ak`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,m0e=en("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),g0e=en(u0e,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Vh.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${d0e};
    animation-duration: ${q$}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${Vh.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${Vh.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Vh.childLeaving} {
    opacity: 0;
    animation-name: ${f0e};
    animation-duration: ${q$}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${Vh.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${p0e};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,y0e=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:a,...s}=r,[u,d]=j.useState([]),g=j.useRef(0),v=j.useRef(null);j.useEffect(()=>{v.current&&(v.current(),v.current=null)},[u]);const x=j.useRef(!1),O=H_(),E=j.useRef(null),A=j.useRef(null),M=j.useCallback(F=>{const{pulsate:U,rippleX:q,rippleY:W,rippleSize:te,cb:re}=F;d(ce=>[...ce,Y.jsx(g0e,{classes:{ripple:wn(o.ripple,Vh.ripple),rippleVisible:wn(o.rippleVisible,Vh.rippleVisible),ripplePulsate:wn(o.ripplePulsate,Vh.ripplePulsate),child:wn(o.child,Vh.child),childLeaving:wn(o.childLeaving,Vh.childLeaving),childPulsate:wn(o.childPulsate,Vh.childPulsate)},timeout:q$,pulsate:U,rippleX:q,rippleY:W,rippleSize:te},g.current)]),g.current+=1,v.current=re},[o]),L=j.useCallback((F={},U={},q=()=>{})=>{const{pulsate:W=!1,center:te=i||U.pulsate,fakeElement:re=!1}=U;if(F?.type==="mousedown"&&x.current){x.current=!1;return}F?.type==="touchstart"&&(x.current=!0);const ce=re?null:A.current,be=ce?ce.getBoundingClientRect():{width:0,height:0,left:0,top:0};let ie,me,we;if(te||F===void 0||F.clientX===0&&F.clientY===0||!F.clientX&&!F.touches)ie=Math.round(be.width/2),me=Math.round(be.height/2);else{const{clientX:pe,clientY:_e}=F.touches&&F.touches.length>0?F.touches[0]:F;ie=Math.round(pe-be.left),me=Math.round(_e-be.top)}if(te)we=Math.sqrt((2*be.width**2+be.height**2)/3),we%2===0&&(we+=1);else{const pe=Math.max(Math.abs((ce?ce.clientWidth:0)-ie),ie)*2+2,_e=Math.max(Math.abs((ce?ce.clientHeight:0)-me),me)*2+2;we=Math.sqrt(pe**2+_e**2)}F?.touches?E.current===null&&(E.current=()=>{M({pulsate:W,rippleX:ie,rippleY:me,rippleSize:we,cb:q})},O.start(h0e,()=>{E.current&&(E.current(),E.current=null)})):M({pulsate:W,rippleX:ie,rippleY:me,rippleSize:we,cb:q})},[i,M,O]),$=j.useCallback(()=>{L({},{pulsate:!0})},[L]),N=j.useCallback((F,U)=>{if(O.clear(),F?.type==="touchend"&&E.current){E.current(),E.current=null,O.start(0,()=>{N(F,U)});return}E.current=null,d(q=>q.length>0?q.slice(1):q),v.current=U},[O]);return j.useImperativeHandle(n,()=>({pulsate:$,start:L,stop:N}),[$,L,N]),Y.jsx(m0e,{className:wn(Vh.root,o.root,a),ref:A,...s,children:Y.jsx(NN,{component:null,exit:!0,children:u})})});function v0e(t){return Hn("MuiButtonBase",t)}const _0e=tr("MuiButtonBase",["root","disabled","focusVisible"]),x0e=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,a=Gn({root:["root",e&&"disabled",n&&"focusVisible"]},v0e,i);return n&&r&&(a.root+=` ${r}`),a},b0e=en("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${_0e.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),px=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:a,className:s,component:u="button",disabled:d=!1,disableRipple:g=!1,disableTouchRipple:v=!1,focusRipple:x=!1,focusVisibleClassName:O,LinkComponent:E="a",onBlur:A,onClick:M,onContextMenu:L,onDragLeave:$,onFocus:N,onFocusVisible:F,onKeyDown:U,onKeyUp:q,onMouseDown:W,onMouseLeave:te,onMouseUp:re,onTouchEnd:ce,onTouchMove:be,onTouchStart:ie,tabIndex:me=0,TouchRippleProps:we,touchRippleRef:pe,type:_e,...Me}=r,Be=j.useRef(null),Ue=l0e(),Ce=is(Ue.ref,pe),[Pe,Xe]=j.useState(!1);d&&Pe&&Xe(!1),j.useImperativeHandle(i,()=>({focusVisible:()=>{Xe(!0),Be.current.focus()}}),[]);const ke=Ue.shouldMount&&!g&&!d;j.useEffect(()=>{Pe&&x&&!g&&Ue.pulsate()},[g,x,Pe,Ue]);const mt=Og(Ue,"start",W,v),gt=Og(Ue,"stop",L,v),ct=Og(Ue,"stop",$,v),ot=Og(Ue,"stop",re,v),vt=Og(Ue,"stop",Ye=>{Pe&&Ye.preventDefault(),te&&te(Ye)},v),At=Og(Ue,"start",ie,v),Tt=Og(Ue,"stop",ce,v),Wt=Og(Ue,"stop",be,v),Ot=Og(Ue,"stop",Ye=>{$w(Ye.target)||Xe(!1),A&&A(Ye)},!1),hn=Zg(Ye=>{Be.current||(Be.current=Ye.currentTarget),$w(Ye.target)&&(Xe(!0),F&&F(Ye)),N&&N(Ye)}),Gt=()=>{const Ye=Be.current;return u&&u!=="button"&&!(Ye.tagName==="A"&&Ye.href)},Yt=Zg(Ye=>{x&&!Ye.repeat&&Pe&&Ye.key===" "&&Ue.stop(Ye,()=>{Ue.start(Ye)}),Ye.target===Ye.currentTarget&&Gt()&&Ye.key===" "&&Ye.preventDefault(),U&&U(Ye),Ye.target===Ye.currentTarget&&Gt()&&Ye.key==="Enter"&&!d&&(Ye.preventDefault(),M&&M(Ye))}),Cn=Zg(Ye=>{x&&Ye.key===" "&&Pe&&!Ye.defaultPrevented&&Ue.stop(Ye,()=>{Ue.pulsate(Ye)}),q&&q(Ye),M&&Ye.target===Ye.currentTarget&&Gt()&&Ye.key===" "&&!Ye.defaultPrevented&&M(Ye)});let sn=u;sn==="button"&&(Me.href||Me.to)&&(sn=E);const Rn={};if(sn==="button"){const Ye=!!Me.formAction;Rn.type=_e===void 0&&!Ye?"button":_e,Rn.disabled=d}else!Me.href&&!Me.to&&(Rn.role="button"),d&&(Rn["aria-disabled"]=d);const Fn=is(n,Be),Vn={...r,centerRipple:o,component:u,disabled:d,disableRipple:g,disableTouchRipple:v,focusRipple:x,tabIndex:me,focusVisible:Pe},Qe=x0e(Vn);return Y.jsxs(b0e,{as:sn,className:wn(Qe.root,s),ownerState:Vn,onBlur:Ot,onClick:M,onContextMenu:gt,onFocus:hn,onKeyDown:Yt,onKeyUp:Cn,onMouseDown:mt,onMouseLeave:vt,onMouseUp:ot,onDragLeave:ct,onTouchEnd:Tt,onTouchMove:Wt,onTouchStart:At,ref:Fn,tabIndex:d?-1:me,type:_e,...Rn,...Me,children:[a,ke?Y.jsx(y0e,{ref:Ce,center:o,...we}):null]})});function Og(t,e,n,r=!1){return Zg(i=>(n&&n(i),r||t[e](i),!0))}function w0e(t){return typeof t.main=="string"}function O0e(t,e=[]){if(!w0e(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function Ys(t=[]){return([,e])=>e&&O0e(e,t)}function S0e(t){return Hn("MuiAlert",t)}const kj=tr("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function C0e(t){return Hn("MuiCircularProgress",t)}tr("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const cf=44,W$=ak`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,H$=ak`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,T0e=typeof W$!="string"?TN`
        animation: ${W$} 1.4s linear infinite;
      `:null,k0e=typeof H$!="string"?TN`
        animation: ${H$} 1.4s ease-in-out infinite;
      `:null,E0e=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,o={root:["root",n,`color${qt(r)}`],svg:["svg"],track:["track"],circle:["circle",`circle${qt(n)}`,i&&"circleDisableShrink"]};return Gn(o,C0e,e)},A0e=en("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${qt(n.color)}`]]}})(cr(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:T0e||{animation:`${W$} 1.4s linear infinite`}},...Object.entries(t.palette).filter(Ys()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),P0e=en("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),M0e=en("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${qt(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(cr(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:k0e||{animation:`${H$} 1.4s ease-in-out infinite`}}]}))),R0e=en("circle",{name:"MuiCircularProgress",slot:"Track"})(cr(({theme:t})=>({stroke:"currentColor",opacity:(t.vars||t).palette.action.activatedOpacity}))),ah=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:a=!1,enableTrackSlot:s=!1,size:u=40,style:d,thickness:g=3.6,value:v=0,variant:x="indeterminate",...O}=r,E={...r,color:o,disableShrink:a,size:u,thickness:g,value:v,variant:x,enableTrackSlot:s},A=E0e(E),M={},L={},$={};if(x==="determinate"){const N=2*Math.PI*((cf-g)/2);M.strokeDasharray=N.toFixed(3),$["aria-valuenow"]=Math.round(v),M.strokeDashoffset=`${((100-v)/100*N).toFixed(3)}px`,L.transform="rotate(-90deg)"}return Y.jsx(A0e,{className:wn(A.root,i),style:{width:u,height:u,...L,...d},ownerState:E,ref:n,role:"progressbar",...$,...O,children:Y.jsxs(P0e,{className:A.svg,ownerState:E,viewBox:`${cf/2} ${cf/2} ${cf} ${cf}`,children:[s?Y.jsx(R0e,{className:A.track,ownerState:E,cx:cf,cy:cf,r:(cf-g)/2,fill:"none",strokeWidth:g,"aria-hidden":"true"}):null,Y.jsx(M0e,{className:A.circle,style:M,ownerState:E,cx:cf,cy:cf,r:(cf-g)/2,fill:"none",strokeWidth:g})]})})});function I0e(t){return Hn("MuiIconButton",t)}const Ej=tr("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),D0e=t=>{const{classes:e,disabled:n,color:r,edge:i,size:o,loading:a}=t,s={root:["root",a&&"loading",n&&"disabled",r!=="default"&&`color${qt(r)}`,i&&`edge${qt(i)}`,`size${qt(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Gn(s,I0e,e)},L0e=en(px,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${qt(n.color)}`],n.edge&&e[`edge${qt(n.edge)}`],e[`size${qt(n.size)}`]]}})(cr(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),cr(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(Ys()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(Ys()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${Ej.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${Ej.loading}`]:{color:"transparent"}}))),$0e=en("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),yC=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiIconButton"}),{edge:i=!1,children:o,className:a,color:s="default",disabled:u=!1,disableFocusRipple:d=!1,size:g="medium",id:v,loading:x=null,loadingIndicator:O,...E}=r,A=AO(v),M=O??Y.jsx(ah,{"aria-labelledby":A,color:"inherit",size:16}),L={...r,edge:i,color:s,disabled:u,disableFocusRipple:d,loading:x,loadingIndicator:M,size:g},$=D0e(L);return Y.jsxs(L0e,{id:x?A:v,className:wn($.root,a),centerRipple:!0,focusRipple:!d,disabled:u||x,ref:n,...E,ownerState:L,children:[typeof x=="boolean"&&Y.jsx("span",{className:$.loadingWrapper,style:{display:"contents"},children:Y.jsx($0e,{className:$.loadingIndicator,ownerState:L,children:x&&M})}),o]})}),z0e=Wi(Y.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),N0e=Wi(Y.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),B0e=Wi(Y.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),F0e=Wi(Y.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),j0e=Wi(Y.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),V0e=t=>{const{variant:e,color:n,severity:r,classes:i}=t,o={root:["root",`color${qt(n||r)}`,`${e}${qt(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return Gn(o,S0e,i)},Q0e=en(yc,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${qt(n.color||n.severity)}`]]}})(cr(({theme:t})=>{const e=t.palette.mode==="light"?t.darken:t.lighten,n=t.palette.mode==="light"?t.lighten:t.darken;return{...t.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(Ys(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${r}StandardBg`]:n(t.palette[r].light,.9),[`& .${kj.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(Ys(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${kj.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(Ys(["dark"])).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:{fontWeight:t.typography.fontWeightMedium,...t.vars?{color:t.vars.palette.Alert[`${r}FilledColor`],backgroundColor:t.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)}}}))]}})),U0e=en("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Z0e=en("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),q0e=en("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),Aj={success:Y.jsx(z0e,{fontSize:"inherit"}),warning:Y.jsx(N0e,{fontSize:"inherit"}),error:Y.jsx(B0e,{fontSize:"inherit"}),info:Y.jsx(F0e,{fontSize:"inherit"})},tx=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiAlert"}),{action:i,children:o,className:a,closeText:s="Close",color:u,components:d={},componentsProps:g={},icon:v,iconMapping:x=Aj,onClose:O,role:E="alert",severity:A="success",slotProps:M={},slots:L={},variant:$="standard",...N}=r,F={...r,color:u,severity:A,variant:$,colorSeverity:u||A},U=V0e(F),q={slots:{closeButton:d.CloseButton,closeIcon:d.CloseIcon,...L},slotProps:{...g,...M}},[W,te]=er("root",{ref:n,shouldForwardComponentProp:!0,className:wn(U.root,a),elementType:Q0e,externalForwardedProps:{...q,...N},ownerState:F,additionalProps:{role:E,elevation:0}}),[re,ce]=er("icon",{className:U.icon,elementType:U0e,externalForwardedProps:q,ownerState:F}),[be,ie]=er("message",{className:U.message,elementType:Z0e,externalForwardedProps:q,ownerState:F}),[me,we]=er("action",{className:U.action,elementType:q0e,externalForwardedProps:q,ownerState:F}),[pe,_e]=er("closeButton",{elementType:yC,externalForwardedProps:q,ownerState:F}),[Me,Be]=er("closeIcon",{elementType:j0e,externalForwardedProps:q,ownerState:F});return Y.jsxs(W,{...te,children:[v!==!1?Y.jsx(re,{...ce,children:v||x[A]||Aj[A]}):null,Y.jsx(be,{...ie,children:o}),i!=null?Y.jsx(me,{...we,children:i}):null,i==null&&O?Y.jsx(me,{...we,children:Y.jsx(pe,{size:"small","aria-label":s,title:s,color:"inherit",onClick:O,..._e,children:Y.jsx(Me,{fontSize:"small",...Be})})}):null]})});function W0e(t){return Hn("MuiTypography",t)}const Pj=tr("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),H0e={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},G0e=Fye(),X0e=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:a}=t,s={root:["root",o,t.align!=="inherit"&&`align${qt(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Gn(s,W0e,a)},Y0e=en("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${qt(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(cr(({theme:t})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([e,n])=>e!=="inherit"&&n&&typeof n=="object").map(([e,n])=>({props:{variant:e},style:n})),...Object.entries(t.palette).filter(Ys()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette?.text||{}).filter(([,e])=>typeof e=="string").map(([e])=>({props:{color:`text${qt(e)}`},style:{color:(t.vars||t).palette.text[e]}})),{props:({ownerState:e})=>e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}))),Mj={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},yr=j.forwardRef(function(e,n){const{color:r,...i}=Kn({props:e,name:"MuiTypography"}),o=!H0e[r],a=G0e({...i,...o&&{color:r}}),{align:s="inherit",className:u,component:d,gutterBottom:g=!1,noWrap:v=!1,paragraph:x=!1,variant:O="body1",variantMapping:E=Mj,...A}=a,M={...a,align:s,color:r,className:u,component:d,gutterBottom:g,noWrap:v,paragraph:x,variant:O,variantMapping:E},L=d||(x?"p":E[O]||Mj[O])||"span",$=X0e(M);return Y.jsx(Y0e,{as:L,ref:n,className:wn($.root,u),...A,ownerState:M,style:{...s!=="inherit"&&{"--Typography-textAlign":s},...A.style}})});function K0e(t){return Hn("MuiAppBar",t)}tr("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const J0e=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${qt(e)}`,`position${qt(n)}`]};return Gn(i,K0e,r)},Rj=(t,e)=>t?`${t?.replace(")","")}, ${e})`:e,eve=en(yc,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${qt(n.position)}`],e[`color${qt(n.color)}`]]}})(cr(({theme:t})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100]),...t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])})}},...Object.entries(t.palette).filter(Ys(["contrastText"])).map(([e])=>({props:{color:e},style:{"--AppBar-background":(t.vars??t).palette[e].main,"--AppBar-color":(t.vars??t).palette[e].contrastText}})),{props:e=>e.enableColorOnDark===!0&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>e.enableColorOnDark===!1&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundColor:t.vars?Rj(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?Rj(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundImage:"none"})}}]}))),tve=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:a=!1,position:s="fixed",...u}=r,d={...r,color:o,position:s,enableColorOnDark:a},g=J0e(d);return Y.jsx(eve,{square:!0,component:"header",ownerState:d,elevation:4,className:wn(g.root,i,s==="fixed"&&"mui-fixed"),ref:n,...u})});function QY(t){const e=j.useRef({});return j.useEffect(()=>{e.current=t}),e.current}var su="top",sd="bottom",ad="right",au="left",FN="auto",hk=[su,sd,ad,au],zw="start",YC="end",nve="clippingParents",UY="viewport",_2="popper",rve="reference",Ij=hk.reduce(function(t,e){return t.concat([e+"-"+zw,e+"-"+YC])},[]),ZY=[].concat(hk,[FN]).reduce(function(t,e){return t.concat([e,e+"-"+zw,e+"-"+YC])},[]),ive="beforeRead",ove="read",sve="afterRead",ave="beforeMain",lve="main",cve="afterMain",uve="beforeWrite",hve="write",dve="afterWrite",fve=[ive,ove,sve,ave,lve,cve,uve,hve,dve];function hm(t){return t?(t.nodeName||"").toLowerCase():null}function lh(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function mx(t){var e=lh(t).Element;return t instanceof e||t instanceof Element}function ed(t){var e=lh(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function jN(t){if(typeof ShadowRoot>"u")return!1;var e=lh(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function pve(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!ed(o)||!hm(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(a){var s=i[a];s===!1?o.removeAttribute(a):o.setAttribute(a,s===!0?"":s)}))})}function mve(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),s=a.reduce(function(u,d){return u[d]="",u},{});!ed(i)||!hm(i)||(Object.assign(i.style,s),Object.keys(o).forEach(function(u){i.removeAttribute(u)}))})}}const gve={name:"applyStyles",enabled:!0,phase:"write",fn:pve,effect:mve,requires:["computeStyles"]};function im(t){return t.split("-")[0]}var nx=Math.max,y5=Math.min,Nw=Math.round;function G$(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function qY(){return!/^((?!chrome|android).)*safari/i.test(G$())}function Bw(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&ed(t)&&(i=t.offsetWidth>0&&Nw(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Nw(r.height)/t.offsetHeight||1);var a=mx(t)?lh(t):window,s=a.visualViewport,u=!qY()&&n,d=(r.left+(u&&s?s.offsetLeft:0))/i,g=(r.top+(u&&s?s.offsetTop:0))/o,v=r.width/i,x=r.height/o;return{width:v,height:x,top:g,right:d+v,bottom:g+x,left:d,x:d,y:g}}function VN(t){var e=Bw(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function WY(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&jN(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Xg(t){return lh(t).getComputedStyle(t)}function yve(t){return["table","td","th"].indexOf(hm(t))>=0}function nv(t){return((mx(t)?t.ownerDocument:t.document)||window.document).documentElement}function wR(t){return hm(t)==="html"?t:t.assignedSlot||t.parentNode||(jN(t)?t.host:null)||nv(t)}function Dj(t){return!ed(t)||Xg(t).position==="fixed"?null:t.offsetParent}function vve(t){var e=/firefox/i.test(G$()),n=/Trident/i.test(G$());if(n&&ed(t)){var r=Xg(t);if(r.position==="fixed")return null}var i=wR(t);for(jN(i)&&(i=i.host);ed(i)&&["html","body"].indexOf(hm(i))<0;){var o=Xg(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function dk(t){for(var e=lh(t),n=Dj(t);n&&yve(n)&&Xg(n).position==="static";)n=Dj(n);return n&&(hm(n)==="html"||hm(n)==="body"&&Xg(n).position==="static")?e:n||vve(t)||e}function QN(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function vC(t,e,n){return nx(t,y5(e,n))}function _ve(t,e,n){var r=vC(t,e,n);return r>n?n:r}function HY(){return{top:0,right:0,bottom:0,left:0}}function GY(t){return Object.assign({},HY(),t)}function XY(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var xve=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,GY(typeof e!="number"?e:XY(e,hk))};function bve(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=im(n.placement),u=QN(s),d=[au,ad].indexOf(s)>=0,g=d?"height":"width";if(!(!o||!a)){var v=xve(i.padding,n),x=VN(o),O=u==="y"?su:au,E=u==="y"?sd:ad,A=n.rects.reference[g]+n.rects.reference[u]-a[u]-n.rects.popper[g],M=a[u]-n.rects.reference[u],L=dk(o),$=L?u==="y"?L.clientHeight||0:L.clientWidth||0:0,N=A/2-M/2,F=v[O],U=$-x[g]-v[E],q=$/2-x[g]/2+N,W=vC(F,q,U),te=u;n.modifiersData[r]=(e={},e[te]=W,e.centerOffset=W-q,e)}}function wve(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||WY(e.elements.popper,i)&&(e.elements.arrow=i))}const Ove={name:"arrow",enabled:!0,phase:"main",fn:bve,effect:wve,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Fw(t){return t.split("-")[1]}var Sve={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Cve(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Nw(n*i)/i||0,y:Nw(r*i)/i||0}}function Lj(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,a=t.offsets,s=t.position,u=t.gpuAcceleration,d=t.adaptive,g=t.roundOffsets,v=t.isFixed,x=a.x,O=x===void 0?0:x,E=a.y,A=E===void 0?0:E,M=typeof g=="function"?g({x:O,y:A}):{x:O,y:A};O=M.x,A=M.y;var L=a.hasOwnProperty("x"),$=a.hasOwnProperty("y"),N=au,F=su,U=window;if(d){var q=dk(n),W="clientHeight",te="clientWidth";if(q===lh(n)&&(q=nv(n),Xg(q).position!=="static"&&s==="absolute"&&(W="scrollHeight",te="scrollWidth")),q=q,i===su||(i===au||i===ad)&&o===YC){F=sd;var re=v&&q===U&&U.visualViewport?U.visualViewport.height:q[W];A-=re-r.height,A*=u?1:-1}if(i===au||(i===su||i===sd)&&o===YC){N=ad;var ce=v&&q===U&&U.visualViewport?U.visualViewport.width:q[te];O-=ce-r.width,O*=u?1:-1}}var be=Object.assign({position:s},d&&Sve),ie=g===!0?Cve({x:O,y:A},lh(n)):{x:O,y:A};if(O=ie.x,A=ie.y,u){var me;return Object.assign({},be,(me={},me[F]=$?"0":"",me[N]=L?"0":"",me.transform=(U.devicePixelRatio||1)<=1?"translate("+O+"px, "+A+"px)":"translate3d("+O+"px, "+A+"px, 0)",me))}return Object.assign({},be,(e={},e[F]=$?A+"px":"",e[N]=L?O+"px":"",e.transform="",e))}function Tve(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,a=o===void 0?!0:o,s=n.roundOffsets,u=s===void 0?!0:s,d={placement:im(e.placement),variation:Fw(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Lj(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Lj(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const kve={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Tve,data:{}};var lA={passive:!0};function Eve(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,a=r.resize,s=a===void 0?!0:a,u=lh(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&d.forEach(function(g){g.addEventListener("scroll",n.update,lA)}),s&&u.addEventListener("resize",n.update,lA),function(){o&&d.forEach(function(g){g.removeEventListener("scroll",n.update,lA)}),s&&u.removeEventListener("resize",n.update,lA)}}const Ave={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Eve,data:{}};var Pve={left:"right",right:"left",bottom:"top",top:"bottom"};function RP(t){return t.replace(/left|right|bottom|top/g,function(e){return Pve[e]})}var Mve={start:"end",end:"start"};function $j(t){return t.replace(/start|end/g,function(e){return Mve[e]})}function UN(t){var e=lh(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function ZN(t){return Bw(nv(t)).left+UN(t).scrollLeft}function Rve(t,e){var n=lh(t),r=nv(t),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,u=0;if(i){o=i.width,a=i.height;var d=qY();(d||!d&&e==="fixed")&&(s=i.offsetLeft,u=i.offsetTop)}return{width:o,height:a,x:s+ZN(t),y:u}}function Ive(t){var e,n=nv(t),r=UN(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=nx(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=nx(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+ZN(t),u=-r.scrollTop;return Xg(i||n).direction==="rtl"&&(s+=nx(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:u}}function qN(t){var e=Xg(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function YY(t){return["html","body","#document"].indexOf(hm(t))>=0?t.ownerDocument.body:ed(t)&&qN(t)?t:YY(wR(t))}function _C(t,e){var n;e===void 0&&(e=[]);var r=YY(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=lh(r),a=i?[o].concat(o.visualViewport||[],qN(r)?r:[]):r,s=e.concat(a);return i?s:s.concat(_C(wR(a)))}function X$(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Dve(t,e){var n=Bw(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function zj(t,e,n){return e===UY?X$(Rve(t,n)):mx(e)?Dve(e,n):X$(Ive(nv(t)))}function Lve(t){var e=_C(wR(t)),n=["absolute","fixed"].indexOf(Xg(t).position)>=0,r=n&&ed(t)?dk(t):t;return mx(r)?e.filter(function(i){return mx(i)&&WY(i,r)&&hm(i)!=="body"}):[]}function $ve(t,e,n,r){var i=e==="clippingParents"?Lve(t):[].concat(e),o=[].concat(i,[n]),a=o[0],s=o.reduce(function(u,d){var g=zj(t,d,r);return u.top=nx(g.top,u.top),u.right=y5(g.right,u.right),u.bottom=y5(g.bottom,u.bottom),u.left=nx(g.left,u.left),u},zj(t,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function KY(t){var e=t.reference,n=t.element,r=t.placement,i=r?im(r):null,o=r?Fw(r):null,a=e.x+e.width/2-n.width/2,s=e.y+e.height/2-n.height/2,u;switch(i){case su:u={x:a,y:e.y-n.height};break;case sd:u={x:a,y:e.y+e.height};break;case ad:u={x:e.x+e.width,y:s};break;case au:u={x:e.x-n.width,y:s};break;default:u={x:e.x,y:e.y}}var d=i?QN(i):null;if(d!=null){var g=d==="y"?"height":"width";switch(o){case zw:u[d]=u[d]-(e[g]/2-n[g]/2);break;case YC:u[d]=u[d]+(e[g]/2-n[g]/2);break}}return u}function KC(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,a=o===void 0?t.strategy:o,s=n.boundary,u=s===void 0?nve:s,d=n.rootBoundary,g=d===void 0?UY:d,v=n.elementContext,x=v===void 0?_2:v,O=n.altBoundary,E=O===void 0?!1:O,A=n.padding,M=A===void 0?0:A,L=GY(typeof M!="number"?M:XY(M,hk)),$=x===_2?rve:_2,N=t.rects.popper,F=t.elements[E?$:x],U=$ve(mx(F)?F:F.contextElement||nv(t.elements.popper),u,g,a),q=Bw(t.elements.reference),W=KY({reference:q,element:N,placement:i}),te=X$(Object.assign({},N,W)),re=x===_2?te:q,ce={top:U.top-re.top+L.top,bottom:re.bottom-U.bottom+L.bottom,left:U.left-re.left+L.left,right:re.right-U.right+L.right},be=t.modifiersData.offset;if(x===_2&&be){var ie=be[i];Object.keys(ce).forEach(function(me){var we=[ad,sd].indexOf(me)>=0?1:-1,pe=[su,sd].indexOf(me)>=0?"y":"x";ce[me]+=ie[pe]*we})}return ce}function zve(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,d=u===void 0?ZY:u,g=Fw(r),v=g?s?Ij:Ij.filter(function(E){return Fw(E)===g}):hk,x=v.filter(function(E){return d.indexOf(E)>=0});x.length===0&&(x=v);var O=x.reduce(function(E,A){return E[A]=KC(t,{placement:A,boundary:i,rootBoundary:o,padding:a})[im(A)],E},{});return Object.keys(O).sort(function(E,A){return O[E]-O[A]})}function Nve(t){if(im(t)===FN)return[];var e=RP(t);return[$j(t),e,$j(e)]}function Bve(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!0:a,u=n.fallbackPlacements,d=n.padding,g=n.boundary,v=n.rootBoundary,x=n.altBoundary,O=n.flipVariations,E=O===void 0?!0:O,A=n.allowedAutoPlacements,M=e.options.placement,L=im(M),$=L===M,N=u||($||!E?[RP(M)]:Nve(M)),F=[M].concat(N).reduce(function(mt,gt){return mt.concat(im(gt)===FN?zve(e,{placement:gt,boundary:g,rootBoundary:v,padding:d,flipVariations:E,allowedAutoPlacements:A}):gt)},[]),U=e.rects.reference,q=e.rects.popper,W=new Map,te=!0,re=F[0],ce=0;ce<F.length;ce++){var be=F[ce],ie=im(be),me=Fw(be)===zw,we=[su,sd].indexOf(ie)>=0,pe=we?"width":"height",_e=KC(e,{placement:be,boundary:g,rootBoundary:v,altBoundary:x,padding:d}),Me=we?me?ad:au:me?sd:su;U[pe]>q[pe]&&(Me=RP(Me));var Be=RP(Me),Ue=[];if(o&&Ue.push(_e[ie]<=0),s&&Ue.push(_e[Me]<=0,_e[Be]<=0),Ue.every(function(mt){return mt})){re=be,te=!1;break}W.set(be,Ue)}if(te)for(var Ce=E?3:1,Pe=function(gt){var ct=F.find(function(ot){var vt=W.get(ot);if(vt)return vt.slice(0,gt).every(function(At){return At})});if(ct)return re=ct,"break"},Xe=Ce;Xe>0;Xe--){var ke=Pe(Xe);if(ke==="break")break}e.placement!==re&&(e.modifiersData[r]._skip=!0,e.placement=re,e.reset=!0)}}const Fve={name:"flip",enabled:!0,phase:"main",fn:Bve,requiresIfExists:["offset"],data:{_skip:!1}};function Nj(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Bj(t){return[su,ad,sd,au].some(function(e){return t[e]>=0})}function jve(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,a=KC(e,{elementContext:"reference"}),s=KC(e,{altBoundary:!0}),u=Nj(a,r),d=Nj(s,i,o),g=Bj(u),v=Bj(d);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:d,isReferenceHidden:g,hasPopperEscaped:v},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":v})}const Vve={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:jve};function Qve(t,e,n){var r=im(t),i=[au,su].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[au,ad].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}function Uve(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,a=ZY.reduce(function(g,v){return g[v]=Qve(v,e.rects,o),g},{}),s=a[e.placement],u=s.x,d=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=d),e.modifiersData[r]=a}const Zve={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Uve};function qve(t){var e=t.state,n=t.name;e.modifiersData[n]=KY({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Wve={name:"popperOffsets",enabled:!0,phase:"read",fn:qve,data:{}};function Hve(t){return t==="x"?"y":"x"}function Gve(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!1:a,u=n.boundary,d=n.rootBoundary,g=n.altBoundary,v=n.padding,x=n.tether,O=x===void 0?!0:x,E=n.tetherOffset,A=E===void 0?0:E,M=KC(e,{boundary:u,rootBoundary:d,padding:v,altBoundary:g}),L=im(e.placement),$=Fw(e.placement),N=!$,F=QN(L),U=Hve(F),q=e.modifiersData.popperOffsets,W=e.rects.reference,te=e.rects.popper,re=typeof A=="function"?A(Object.assign({},e.rects,{placement:e.placement})):A,ce=typeof re=="number"?{mainAxis:re,altAxis:re}:Object.assign({mainAxis:0,altAxis:0},re),be=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ie={x:0,y:0};if(q){if(o){var me,we=F==="y"?su:au,pe=F==="y"?sd:ad,_e=F==="y"?"height":"width",Me=q[F],Be=Me+M[we],Ue=Me-M[pe],Ce=O?-te[_e]/2:0,Pe=$===zw?W[_e]:te[_e],Xe=$===zw?-te[_e]:-W[_e],ke=e.elements.arrow,mt=O&&ke?VN(ke):{width:0,height:0},gt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:HY(),ct=gt[we],ot=gt[pe],vt=vC(0,W[_e],mt[_e]),At=N?W[_e]/2-Ce-vt-ct-ce.mainAxis:Pe-vt-ct-ce.mainAxis,Tt=N?-W[_e]/2+Ce+vt+ot+ce.mainAxis:Xe+vt+ot+ce.mainAxis,Wt=e.elements.arrow&&dk(e.elements.arrow),Ot=Wt?F==="y"?Wt.clientTop||0:Wt.clientLeft||0:0,hn=(me=be?.[F])!=null?me:0,Gt=Me+At-hn-Ot,Yt=Me+Tt-hn,Cn=vC(O?y5(Be,Gt):Be,Me,O?nx(Ue,Yt):Ue);q[F]=Cn,ie[F]=Cn-Me}if(s){var sn,Rn=F==="x"?su:au,Fn=F==="x"?sd:ad,Vn=q[U],Qe=U==="y"?"height":"width",Ye=Vn+M[Rn],bt=Vn-M[Fn],kt=[su,au].indexOf(L)!==-1,Vt=(sn=be?.[U])!=null?sn:0,Oe=kt?Ye:Vn-W[Qe]-te[Qe]-Vt+ce.altAxis,se=kt?Vn+W[Qe]+te[Qe]-Vt-ce.altAxis:bt,K=O&&kt?_ve(Oe,Vn,se):vC(O?Oe:Ye,Vn,O?se:bt);q[U]=K,ie[U]=K-Vn}e.modifiersData[r]=ie}}const Xve={name:"preventOverflow",enabled:!0,phase:"main",fn:Gve,requiresIfExists:["offset"]};function Yve(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Kve(t){return t===lh(t)||!ed(t)?UN(t):Yve(t)}function Jve(t){var e=t.getBoundingClientRect(),n=Nw(e.width)/t.offsetWidth||1,r=Nw(e.height)/t.offsetHeight||1;return n!==1||r!==1}function e_e(t,e,n){n===void 0&&(n=!1);var r=ed(e),i=ed(e)&&Jve(e),o=nv(e),a=Bw(t,i,n),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((hm(e)!=="body"||qN(o))&&(s=Kve(e)),ed(e)?(u=Bw(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):o&&(u.x=ZN(o))),{x:a.left+s.scrollLeft-u.x,y:a.top+s.scrollTop-u.y,width:a.width,height:a.height}}function t_e(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!n.has(s)){var u=e.get(s);u&&i(u)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function n_e(t){var e=t_e(t);return fve.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function r_e(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function i_e(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Fj={placement:"bottom",modifiers:[],strategy:"absolute"};function jj(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function o_e(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?Fj:i;return function(s,u,d){d===void 0&&(d=o);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},Fj,o),modifiersData:{},elements:{reference:s,popper:u},attributes:{},styles:{}},v=[],x=!1,O={state:g,setOptions:function(L){var $=typeof L=="function"?L(g.options):L;A(),g.options=Object.assign({},o,g.options,$),g.scrollParents={reference:mx(s)?_C(s):s.contextElement?_C(s.contextElement):[],popper:_C(u)};var N=n_e(i_e([].concat(r,g.options.modifiers)));return g.orderedModifiers=N.filter(function(F){return F.enabled}),E(),O.update()},forceUpdate:function(){if(!x){var L=g.elements,$=L.reference,N=L.popper;if(jj($,N)){g.rects={reference:e_e($,dk(N),g.options.strategy==="fixed"),popper:VN(N)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(ce){return g.modifiersData[ce.name]=Object.assign({},ce.data)});for(var F=0;F<g.orderedModifiers.length;F++){if(g.reset===!0){g.reset=!1,F=-1;continue}var U=g.orderedModifiers[F],q=U.fn,W=U.options,te=W===void 0?{}:W,re=U.name;typeof q=="function"&&(g=q({state:g,options:te,name:re,instance:O})||g)}}}},update:r_e(function(){return new Promise(function(M){O.forceUpdate(),M(g)})}),destroy:function(){A(),x=!0}};if(!jj(s,u))return O;O.setOptions(d).then(function(M){!x&&d.onFirstUpdate&&d.onFirstUpdate(M)});function E(){g.orderedModifiers.forEach(function(M){var L=M.name,$=M.options,N=$===void 0?{}:$,F=M.effect;if(typeof F=="function"){var U=F({state:g,name:L,instance:O,options:N}),q=function(){};v.push(U||q)}})}function A(){v.forEach(function(M){return M()}),v=[]}return O}}var s_e=[Ave,Wve,kve,gve,Zve,Fve,Xve,Ove,Vve],a_e=o_e({defaultModifiers:s_e});function JY(t){const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...o}=t,a=i?{}:FY(n,r),{props:s,internalRef:u}=VY({...o,externalSlotProps:a}),d=is(u,a?.ref,t.additionalProps?.ref);return BY(e,{...s,ref:d},r)}function jx(t){return parseInt(j.version,10)>=19?t?.props?.ref||null:t?.ref||null}function l_e(t){return typeof t=="function"?t():t}const eK=j.forwardRef(function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[a,s]=j.useState(null),u=is(j.isValidElement(r)?jx(r):null,n);if(od(()=>{o||s(l_e(i)||document.body)},[i,o]),od(()=>{if(a&&!o)return Oj(n,a),()=>{Oj(n,null)}},[n,a,o]),o){if(j.isValidElement(r)){const d={ref:u};return j.cloneElement(r,d)}return r}return a&&um.createPortal(r,a)});function c_e(t){return Hn("MuiPopper",t)}tr("MuiPopper",["root"]);function u_e(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function Y$(t){return typeof t=="function"?t():t}function h_e(t){return t.nodeType!==void 0}const d_e=t=>{const{classes:e}=t;return Gn({root:["root"]},c_e,e)},f_e={},p_e=j.forwardRef(function(e,n){const{anchorEl:r,children:i,direction:o,disablePortal:a,modifiers:s,open:u,placement:d,popperOptions:g,popperRef:v,slotProps:x={},slots:O={},TransitionProps:E,ownerState:A,...M}=e,L=j.useRef(null),$=is(L,n),N=j.useRef(null),F=is(N,v),U=j.useRef(F);od(()=>{U.current=F},[F]),j.useImperativeHandle(v,()=>N.current,[]);const q=u_e(d,o),[W,te]=j.useState(q),[re,ce]=j.useState(Y$(r));j.useEffect(()=>{N.current&&N.current.forceUpdate()}),j.useEffect(()=>{r&&ce(Y$(r))},[r]),od(()=>{if(!re||!u)return;const pe=Be=>{te(Be.placement)};let _e=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:Be})=>{pe(Be)}}];s!=null&&(_e=_e.concat(s)),g&&g.modifiers!=null&&(_e=_e.concat(g.modifiers));const Me=a_e(re,L.current,{placement:q,...g,modifiers:_e});return U.current(Me),()=>{Me.destroy(),U.current(null)}},[re,a,s,u,g,q]);const be={placement:W};E!==null&&(be.TransitionProps=E);const ie=d_e(e),me=O.root??"div",we=JY({elementType:me,externalSlotProps:x.root,externalForwardedProps:M,additionalProps:{role:"tooltip",ref:$},ownerState:e,className:ie.root});return Y.jsx(me,{...we,children:typeof i=="function"?i(be):i})}),m_e=j.forwardRef(function(e,n){const{anchorEl:r,children:i,container:o,direction:a="ltr",disablePortal:s=!1,keepMounted:u=!1,modifiers:d,open:g,placement:v="bottom",popperOptions:x=f_e,popperRef:O,style:E,transition:A=!1,slotProps:M={},slots:L={},...$}=e,[N,F]=j.useState(!0),U=()=>{F(!1)},q=()=>{F(!0)};if(!u&&!g&&(!A||N))return null;let W;if(o)W=o;else if(r){const ce=Y$(r);W=ce&&h_e(ce)?sh(ce).body:sh(null).body}const te=!g&&u&&(!A||N)?"none":void 0,re=A?{in:g,onEnter:U,onExited:q}:void 0;return Y.jsx(eK,{disablePortal:s,container:W,children:Y.jsx(p_e,{anchorEl:r,direction:a,disablePortal:s,modifiers:d,ref:n,open:A?!N:g,placement:v,popperOptions:x,popperRef:O,slotProps:M,slots:L,...$,style:{position:"fixed",top:0,left:0,display:te,...E},TransitionProps:re,children:i})})}),g_e=en(m_e,{name:"MuiPopper",slot:"Root"})({}),tK=j.forwardRef(function(e,n){const r=_R(),i=Kn({props:e,name:"MuiPopper"}),{anchorEl:o,component:a,components:s,componentsProps:u,container:d,disablePortal:g,keepMounted:v,modifiers:x,open:O,placement:E,popperOptions:A,popperRef:M,transition:L,slots:$,slotProps:N,...F}=i,U=$?.root??s?.Root,q={anchorEl:o,container:d,disablePortal:g,keepMounted:v,modifiers:x,open:O,placement:E,popperOptions:A,popperRef:M,transition:L,...F};return Y.jsx(g_e,{as:a,direction:r?"rtl":"ltr",slots:{root:U},slotProps:N??u,...q,ref:n})});function y_e(t){return Hn("MuiListSubheader",t)}tr("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const v_e=t=>{const{classes:e,color:n,disableGutters:r,inset:i,disableSticky:o}=t,a={root:["root",n!=="default"&&`color${qt(n)}`,!r&&"gutters",i&&"inset",!o&&"sticky"]};return Gn(a,y_e,e)},__e=en("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${qt(n.color)}`],!n.disableGutters&&e.gutters,n.inset&&e.inset,!n.disableSticky&&e.sticky]}})(cr(({theme:t})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(t.vars||t).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:72}},{props:({ownerState:e})=>!e.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper}}]}))),K$=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiListSubheader"}),{className:i,color:o="default",component:a="li",disableGutters:s=!1,disableSticky:u=!1,inset:d=!1,...g}=r,v={...r,color:o,component:a,disableGutters:s,disableSticky:u,inset:d},x=v_e(v);return Y.jsx(__e,{as:a,className:wn(x.root,i),ref:n,ownerState:v,...g})});K$&&(K$.muiSkipListHighlight=!0);const x_e=Wi(Y.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function b_e(t){return Hn("MuiChip",t)}const Wr=tr("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),w_e=t=>{const{classes:e,disabled:n,size:r,color:i,iconColor:o,onDelete:a,clickable:s,variant:u}=t,d={root:["root",u,n&&"disabled",`size${qt(r)}`,`color${qt(i)}`,s&&"clickable",s&&`clickableColor${qt(i)}`,a&&"deletable",a&&`deletableColor${qt(i)}`,`${u}${qt(i)}`],label:["label",`label${qt(r)}`],avatar:["avatar",`avatar${qt(r)}`,`avatarColor${qt(i)}`],icon:["icon",`icon${qt(r)}`,`iconColor${qt(o)}`],deleteIcon:["deleteIcon",`deleteIcon${qt(r)}`,`deleteIconColor${qt(i)}`,`deleteIcon${qt(u)}Color${qt(i)}`]};return Gn(d,b_e,e)},O_e=en("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:i,clickable:o,onDelete:a,size:s,variant:u}=n;return[{[`& .${Wr.avatar}`]:e.avatar},{[`& .${Wr.avatar}`]:e[`avatar${qt(s)}`]},{[`& .${Wr.avatar}`]:e[`avatarColor${qt(r)}`]},{[`& .${Wr.icon}`]:e.icon},{[`& .${Wr.icon}`]:e[`icon${qt(s)}`]},{[`& .${Wr.icon}`]:e[`iconColor${qt(i)}`]},{[`& .${Wr.deleteIcon}`]:e.deleteIcon},{[`& .${Wr.deleteIcon}`]:e[`deleteIcon${qt(s)}`]},{[`& .${Wr.deleteIcon}`]:e[`deleteIconColor${qt(r)}`]},{[`& .${Wr.deleteIcon}`]:e[`deleteIcon${qt(u)}Color${qt(r)}`]},e.root,e[`size${qt(s)}`],e[`color${qt(r)}`],o&&e.clickable,o&&r!=="default"&&e[`clickableColor${qt(r)}`],a&&e.deletable,a&&r!=="default"&&e[`deletableColor${qt(r)}`],e[u],e[`${u}${qt(r)}`]]}})(cr(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Wr.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Wr.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:e,fontSize:t.typography.pxToRem(12)},[`& .${Wr.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${Wr.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${Wr.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${Wr.icon}`]:{marginLeft:5,marginRight:-6},[`& .${Wr.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.alpha((t.vars||t).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.alpha((t.vars||t).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${Wr.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${Wr.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(Ys(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText,[`& .${Wr.deleteIcon}`]:{color:t.alpha((t.vars||t).palette[n].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${Wr.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:e}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${Wr.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${Wr.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}}},...Object.entries(t.palette).filter(Ys(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${Wr.focusVisible}`]:{background:(t.vars||t).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`)},[`&.${Wr.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(Ys(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${Wr.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${Wr.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Wr.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${Wr.avatar}`]:{marginLeft:4},[`& .${Wr.avatarSmall}`]:{marginLeft:2},[`& .${Wr.icon}`]:{marginLeft:4},[`& .${Wr.iconSmall}`]:{marginLeft:2},[`& .${Wr.deleteIcon}`]:{marginRight:5},[`& .${Wr.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(Ys()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(t.vars||t).palette[n].main,border:`1px solid ${t.alpha((t.vars||t).palette[n].main,.7)}`,[`&.${Wr.clickable}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity)},[`&.${Wr.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.focusOpacity)},[`& .${Wr.deleteIcon}`]:{color:t.alpha((t.vars||t).palette[n].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].main}}}}))]}})),S_e=en("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${qt(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function Vj(t){return t.key==="Backspace"||t.key==="Delete"}const v5=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiChip"}),{avatar:i,className:o,clickable:a,color:s="default",component:u,deleteIcon:d,disabled:g=!1,icon:v,label:x,onClick:O,onDelete:E,onKeyDown:A,onKeyUp:M,size:L="medium",variant:$="filled",tabIndex:N,skipFocusWhenDisabled:F=!1,slots:U={},slotProps:q={},...W}=r,te=j.useRef(null),re=is(te,n),ce=ct=>{ct.stopPropagation(),E&&E(ct)},be=ct=>{ct.currentTarget===ct.target&&Vj(ct)&&ct.preventDefault(),A&&A(ct)},ie=ct=>{ct.currentTarget===ct.target&&E&&Vj(ct)&&E(ct),M&&M(ct)},me=a!==!1&&O?!0:a,we=me||E?px:u||"div",pe={...r,component:we,disabled:g,size:L,color:s,iconColor:j.isValidElement(v)&&v.props.color||s,onDelete:!!E,clickable:me,variant:$},_e=w_e(pe),Me=we===px?{component:u||"div",focusVisibleClassName:_e.focusVisible,...E&&{disableRipple:!0}}:{};let Be=null;E&&(Be=d&&j.isValidElement(d)?j.cloneElement(d,{className:wn(d.props.className,_e.deleteIcon),onClick:ce}):Y.jsx(x_e,{className:_e.deleteIcon,onClick:ce}));let Ue=null;i&&j.isValidElement(i)&&(Ue=j.cloneElement(i,{className:wn(_e.avatar,i.props.className)}));let Ce=null;v&&j.isValidElement(v)&&(Ce=j.cloneElement(v,{className:wn(_e.icon,v.props.className)}));const Pe={slots:U,slotProps:q},[Xe,ke]=er("root",{elementType:O_e,externalForwardedProps:{...Pe,...W},ownerState:pe,shouldForwardComponentProp:!0,ref:re,className:wn(_e.root,o),additionalProps:{disabled:me&&g?!0:void 0,tabIndex:F&&g?-1:N,...Me},getSlotProps:ct=>({...ct,onClick:ot=>{ct.onClick?.(ot),O?.(ot)},onKeyDown:ot=>{ct.onKeyDown?.(ot),be(ot)},onKeyUp:ot=>{ct.onKeyUp?.(ot),ie(ot)}})}),[mt,gt]=er("label",{elementType:S_e,externalForwardedProps:Pe,ownerState:pe,className:_e.label});return Y.jsxs(Xe,{as:we,...ke,children:[Ue||Ce,Y.jsx(mt,{...gt,children:x}),Be]})});function cA(t){return parseInt(t,10)||0}const C_e={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function T_e(t){for(const e in t)return!1;return!0}function Qj(t){return T_e(t)||t.outerHeightStyle===0&&!t.overflowing}const k_e=j.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:o=1,style:a,value:s,...u}=e,{current:d}=j.useRef(s!=null),g=j.useRef(null),v=is(n,g),x=j.useRef(null),O=j.useRef(null),E=j.useCallback(()=>{const N=g.current,F=O.current;if(!N||!F)return;const q=Cf(N).getComputedStyle(N);if(q.width==="0px")return{outerHeightStyle:0,overflowing:!1};F.style.width=q.width,F.value=N.value||e.placeholder||"x",F.value.slice(-1)===`
`&&(F.value+=" ");const W=q.boxSizing,te=cA(q.paddingBottom)+cA(q.paddingTop),re=cA(q.borderBottomWidth)+cA(q.borderTopWidth),ce=F.scrollHeight;F.value="x";const be=F.scrollHeight;let ie=ce;o&&(ie=Math.max(Number(o)*be,ie)),i&&(ie=Math.min(Number(i)*be,ie)),ie=Math.max(ie,be);const me=ie+(W==="border-box"?te+re:0),we=Math.abs(ie-ce)<=1;return{outerHeightStyle:me,overflowing:we}},[i,o,e.placeholder]),A=Zg(()=>{const N=g.current,F=E();if(!N||!F||Qj(F))return!1;const U=F.outerHeightStyle;return x.current!=null&&x.current!==U}),M=j.useCallback(()=>{const N=g.current,F=E();if(!N||!F||Qj(F))return;const U=F.outerHeightStyle;x.current!==U&&(x.current=U,N.style.height=`${U}px`),N.style.overflow=F.overflowing?"hidden":""},[E]),L=j.useRef(-1);od(()=>{const N=$N(M),F=g?.current;if(!F)return;const U=Cf(F);U.addEventListener("resize",N);let q;return typeof ResizeObserver<"u"&&(q=new ResizeObserver(()=>{A()&&(q.unobserve(F),cancelAnimationFrame(L.current),M(),L.current=requestAnimationFrame(()=>{q.observe(F)}))}),q.observe(F)),()=>{N.clear(),cancelAnimationFrame(L.current),U.removeEventListener("resize",N),q&&q.disconnect()}},[E,M,A]),od(()=>{M()});const $=N=>{d||M();const F=N.target,U=F.value.length,q=F.value.endsWith(`
`),W=F.selectionStart===U;q&&W&&F.setSelectionRange(U,U),r&&r(N)};return Y.jsxs(j.Fragment,{children:[Y.jsx("textarea",{value:s,onChange:$,ref:v,rows:o,style:a,...u}),Y.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:O,tabIndex:-1,style:{...C_e.shadow,...a,paddingTop:0,paddingBottom:0}})]})});function Vx({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const WN=j.createContext(void 0);function rv(){return j.useContext(WN)}function Uj(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function _5(t,e=!1){return t&&(Uj(t.value)&&t.value!==""||e&&Uj(t.defaultValue)&&t.defaultValue!=="")}function E_e(t){return t.startAdornment}function A_e(t){return Hn("MuiInputBase",t)}const jw=tr("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var Zj;const OR=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${qt(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},SR=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},P_e=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:o,focused:a,formControl:s,fullWidth:u,hiddenLabel:d,multiline:g,readOnly:v,size:x,startAdornment:O,type:E}=t,A={root:["root",`color${qt(n)}`,r&&"disabled",i&&"error",u&&"fullWidth",a&&"focused",s&&"formControl",x&&x!=="medium"&&`size${qt(x)}`,g&&"multiline",O&&"adornedStart",o&&"adornedEnd",d&&"hiddenLabel",v&&"readOnly"],input:["input",r&&"disabled",E==="search"&&"inputTypeSearch",g&&"inputMultiline",x==="small"&&"inputSizeSmall",d&&"inputHiddenLabel",O&&"inputAdornedStart",o&&"inputAdornedEnd",v&&"readOnly"]};return Gn(A,A_e,e)},CR=en("div",{name:"MuiInputBase",slot:"Root",overridesResolver:OR})(cr(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${jw.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),TR=en("input",{name:"MuiInputBase",slot:"Input",overridesResolver:SR})(cr(({theme:t})=>{const e=t.palette.mode==="light",n={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${jw.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${jw.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:o})=>!o.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:o})=>o.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),qj=LN({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),HN=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:o,autoFocus:a,className:s,color:u,components:d={},componentsProps:g={},defaultValue:v,disabled:x,disableInjectingGlobalStyles:O,endAdornment:E,error:A,fullWidth:M=!1,id:L,inputComponent:$="input",inputProps:N={},inputRef:F,margin:U,maxRows:q,minRows:W,multiline:te=!1,name:re,onBlur:ce,onChange:be,onClick:ie,onFocus:me,onKeyDown:we,onKeyUp:pe,placeholder:_e,readOnly:Me,renderSuffix:Be,rows:Ue,size:Ce,slotProps:Pe={},slots:Xe={},startAdornment:ke,type:mt="text",value:gt,...ct}=r,ot=N.value!=null?N.value:gt,{current:vt}=j.useRef(ot!=null),At=j.useRef(),Tt=j.useCallback(ze=>{},[]),Wt=is(At,F,N.ref,Tt),[Ot,hn]=j.useState(!1),Gt=rv(),Yt=Vx({props:r,muiFormControl:Gt,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Yt.focused=Gt?Gt.focused:Ot,j.useEffect(()=>{!Gt&&x&&Ot&&(hn(!1),ce&&ce())},[Gt,x,Ot,ce]);const Cn=Gt&&Gt.onFilled,sn=Gt&&Gt.onEmpty,Rn=j.useCallback(ze=>{_5(ze)?Cn&&Cn():sn&&sn()},[Cn,sn]);od(()=>{vt&&Rn({value:ot})},[ot,Rn,vt]);const Fn=ze=>{me&&me(ze),N.onFocus&&N.onFocus(ze),Gt&&Gt.onFocus?Gt.onFocus(ze):hn(!0)},Vn=ze=>{ce&&ce(ze),N.onBlur&&N.onBlur(ze),Gt&&Gt.onBlur?Gt.onBlur(ze):hn(!1)},Qe=(ze,...rt)=>{if(!vt){const tt=ze.target||At.current;if(tt==null)throw new Error(Gg(1));Rn({value:tt.value})}N.onChange&&N.onChange(ze,...rt),be&&be(ze,...rt)};j.useEffect(()=>{Rn(At.current)},[]);const Ye=ze=>{At.current&&ze.currentTarget===ze.target&&At.current.focus(),ie&&ie(ze)};let bt=$,kt=N;te&&bt==="input"&&(Ue?kt={type:void 0,minRows:Ue,maxRows:Ue,...kt}:kt={type:void 0,maxRows:q,minRows:W,...kt},bt=k_e);const Vt=ze=>{Rn(ze.animationName==="mui-auto-fill-cancel"?At.current:{value:"x"})};j.useEffect(()=>{Gt&&Gt.setAdornedStart(!!ke)},[Gt,ke]);const Oe={...r,color:Yt.color||"primary",disabled:Yt.disabled,endAdornment:E,error:Yt.error,focused:Yt.focused,formControl:Gt,fullWidth:M,hiddenLabel:Yt.hiddenLabel,multiline:te,size:Yt.size,startAdornment:ke,type:mt},se=P_e(Oe),K=Xe.root||d.Root||CR,xe=Pe.root||g.root||{},$e=Xe.input||d.Input||TR;return kt={...kt,...Pe.input??g.input},Y.jsxs(j.Fragment,{children:[!O&&typeof qj=="function"&&(Zj||(Zj=Y.jsx(qj,{}))),Y.jsxs(K,{...xe,ref:n,onClick:Ye,...ct,...!Lw(K)&&{ownerState:{...Oe,...xe.ownerState}},className:wn(se.root,xe.className,s,Me&&"MuiInputBase-readOnly"),children:[ke,Y.jsx(WN.Provider,{value:null,children:Y.jsx($e,{"aria-invalid":Yt.error,"aria-describedby":i,autoComplete:o,autoFocus:a,defaultValue:v,disabled:Yt.disabled,id:L,onAnimationStart:Vt,name:re,placeholder:_e,readOnly:Me,required:Yt.required,rows:Ue,value:ot,onKeyDown:we,onKeyUp:pe,type:mt,...kt,...!Lw($e)&&{as:bt,ownerState:{...Oe,...kt.ownerState}},ref:Wt,className:wn(se.input,kt.className,Me&&"MuiInputBase-readOnly"),onBlur:Vn,onChange:Qe,onFocus:Fn})}),E,Be?Be({...Yt,startAdornment:ke}):null]})]})});function M_e(t){return Hn("MuiInput",t)}const x2={...jw,...tr("MuiInput",["root","underline","input"])};function R_e(t){return Hn("MuiOutlinedInput",t)}const Mp={...jw,...tr("MuiOutlinedInput",["root","notchedOutline","input"])};function I_e(t){return Hn("MuiFilledInput",t)}const T_={...jw,...tr("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},D_e=Wi(Y.jsx("path",{d:"M7 10l5 5 5-5z"})),L_e=Wi(Y.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function $_e(t){return Hn("MuiAvatar",t)}tr("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const z_e=t=>{const{classes:e,variant:n,colorDefault:r}=t;return Gn({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},$_e,e)},N_e=en("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(cr(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}))),B_e=en("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),F_e=en(L_e,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});function j_e({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,o]=j.useState(!1);return j.useEffect(()=>{if(!n&&!r)return;o(!1);let a=!0;const s=new Image;return s.onload=()=>{a&&o("loaded")},s.onerror=()=>{a&&o("error")},s.crossOrigin=t,s.referrerPolicy=e,s.src=n,r&&(s.srcset=r),()=>{a=!1}},[t,e,n,r]),i}const kR=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiAvatar"}),{alt:i,children:o,className:a,component:s="div",slots:u={},slotProps:d={},imgProps:g,sizes:v,src:x,srcSet:O,variant:E="circular",...A}=r;let M=null;const L={...r,component:s,variant:E},$=j_e({...g,...typeof d.img=="function"?d.img(L):d.img,src:x,srcSet:O}),N=x||O,F=N&&$!=="error";L.colorDefault=!F,delete L.ownerState;const U=z_e(L),[q,W]=er("root",{ref:n,className:wn(U.root,a),elementType:N_e,externalForwardedProps:{slots:u,slotProps:d,component:s,...A},ownerState:L}),[te,re]=er("img",{className:U.img,elementType:B_e,externalForwardedProps:{slots:u,slotProps:{img:{...g,...d.img}}},additionalProps:{alt:i,src:x,srcSet:O,sizes:v},ownerState:L}),[ce,be]=er("fallback",{className:U.fallback,elementType:F_e,externalForwardedProps:{slots:u,slotProps:d},shouldForwardComponentProp:!0,ownerState:L});return F?M=Y.jsx(te,{...re}):o||o===0?M=o:N&&i?M=i[0]:M=Y.jsx(ce,{...be}),Y.jsx(q,{...W,children:M})}),V_e={entering:{opacity:1},entered:{opacity:1}},J$=j.forwardRef(function(e,n){const r=If(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:s,easing:u,in:d,onEnter:g,onEntered:v,onEntering:x,onExit:O,onExited:E,onExiting:A,style:M,timeout:L=i,TransitionComponent:$=fd,...N}=e,F=j.useRef(null),U=is(F,jx(s),n),q=we=>pe=>{if(we){const _e=F.current;pe===void 0?we(_e):we(_e,pe)}},W=q(x),te=q((we,pe)=>{BN(we);const _e=j0({style:M,timeout:L,easing:u},{mode:"enter"});we.style.webkitTransition=r.transitions.create("opacity",_e),we.style.transition=r.transitions.create("opacity",_e),g&&g(we,pe)}),re=q(v),ce=q(A),be=q(we=>{const pe=j0({style:M,timeout:L,easing:u},{mode:"exit"});we.style.webkitTransition=r.transitions.create("opacity",pe),we.style.transition=r.transitions.create("opacity",pe),O&&O(we)}),ie=q(E),me=we=>{o&&o(F.current,we)};return Y.jsx($,{appear:a,in:d,nodeRef:F,onEnter:te,onEntered:re,onEntering:W,onExit:be,onExited:ie,onExiting:ce,addEndListener:me,timeout:L,...N,children:(we,{ownerState:pe,..._e})=>j.cloneElement(s,{style:{opacity:0,visibility:we==="exited"&&!d?"hidden":void 0,...V_e[we],...M,...s.props.style},ref:U,..._e})})});function Q_e(t){return Hn("MuiBackdrop",t)}tr("MuiBackdrop",["root","invisible"]);const U_e=t=>{const{classes:e,invisible:n}=t;return Gn({root:["root",n&&"invisible"]},Q_e,e)},Z_e=en("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),nK=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiBackdrop"}),{children:i,className:o,component:a="div",invisible:s=!1,open:u,components:d={},componentsProps:g={},slotProps:v={},slots:x={},TransitionComponent:O,transitionDuration:E,...A}=r,M={...r,component:a,invisible:s},L=U_e(M),$={transition:O,root:d.Root,...x},N={...g,...v},F={component:a,slots:$,slotProps:N},[U,q]=er("root",{elementType:Z_e,externalForwardedProps:F,className:wn(L.root,o),ownerState:M}),[W,te]=er("transition",{elementType:J$,externalForwardedProps:F,ownerState:M});return Y.jsx(W,{in:u,timeout:E,...A,...te,children:Y.jsx(U,{"aria-hidden":!0,...q,classes:L,ref:n,children:i})})});function q_e(t){const{badgeContent:e,invisible:n=!1,max:r=99,showZero:i=!1}=t,o=QY({badgeContent:e,max:r});let a=n;n===!1&&e===0&&!i&&(a=!0);const{badgeContent:s,max:u=r}=a?o:t,d=s&&Number(s)>u?`${u}+`:s;return{badgeContent:s,invisible:a,max:u,displayValue:d}}function W_e(t){return Hn("MuiBadge",t)}const g0=tr("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),WD=10,HD=4,H_e=t=>{const{color:e,anchorOrigin:n,invisible:r,overlap:i,variant:o,classes:a={}}=t,s={root:["root"],badge:["badge",o,r&&"invisible",`anchorOrigin${qt(n.vertical)}${qt(n.horizontal)}`,`anchorOrigin${qt(n.vertical)}${qt(n.horizontal)}${qt(i)}`,`overlap${qt(i)}`,e!=="default"&&`color${qt(e)}`]};return Gn(s,W_e,a)},G_e=en("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),X_e=en("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.badge,e[n.variant],e[`anchorOrigin${qt(n.anchorOrigin.vertical)}${qt(n.anchorOrigin.horizontal)}${qt(n.overlap)}`],n.color!=="default"&&e[`color${qt(n.color)}`],n.invisible&&e.invisible]}})(cr(({theme:t})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:WD*2,lineHeight:1,padding:"0 6px",height:WD*2,borderRadius:WD,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.entries(t.palette).filter(Ys(["contrastText"])).map(([e])=>({props:{color:e},style:{backgroundColor:(t.vars||t).palette[e].main,color:(t.vars||t).palette[e].contrastText}})),{props:{variant:"dot"},style:{borderRadius:HD,height:HD*2,minWidth:HD*2,padding:0}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${g0.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${g0.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${g0.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${g0.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${g0.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${g0.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${g0.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${g0.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]})));function Wj(t){return{vertical:t?.vertical??"top",horizontal:t?.horizontal??"right"}}const Y_e=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiBadge"}),{anchorOrigin:i,className:o,classes:a,component:s,components:u={},componentsProps:d={},children:g,overlap:v="rectangular",color:x="default",invisible:O=!1,max:E=99,badgeContent:A,slots:M,slotProps:L,showZero:$=!1,variant:N="standard",...F}=r,{badgeContent:U,invisible:q,max:W,displayValue:te}=q_e({max:E,invisible:O,badgeContent:A,showZero:$}),re=QY({anchorOrigin:Wj(i),color:x,overlap:v,variant:N,badgeContent:A}),ce=q||U==null&&N!=="dot",{color:be=x,overlap:ie=v,anchorOrigin:me,variant:we=N}=ce?re:r,pe=Wj(me),_e=we!=="dot"?te:void 0,Me={...r,badgeContent:U,invisible:ce,max:W,displayValue:_e,showZero:$,anchorOrigin:pe,color:be,overlap:ie,variant:we},Be=H_e(Me),Ue={slots:{root:M?.root??u.Root,badge:M?.badge??u.Badge},slotProps:{root:L?.root??d.root,badge:L?.badge??d.badge}},[Ce,Pe]=er("root",{elementType:G_e,externalForwardedProps:{...Ue,...F},ownerState:Me,className:wn(Be.root,o),ref:n,additionalProps:{as:s}}),[Xe,ke]=er("badge",{elementType:X_e,externalForwardedProps:Ue,ownerState:Me,className:Be.badge});return Y.jsxs(Ce,{...Pe,children:[g,Y.jsx(Xe,{...ke,children:_e})]})}),K_e=tr("MuiBox",["root"]),J_e=DY(),qn=oge({themeId:ik,defaultTheme:J_e,defaultClassName:K_e.root,generateClassName:vY.generate});function exe(t){return Hn("MuiButton",t)}const k_=tr("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),txe=j.createContext({}),nxe=j.createContext(void 0),rxe=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:o,loading:a,loadingPosition:s,classes:u}=t,d={root:["root",a&&"loading",o,`${o}${qt(e)}`,`size${qt(i)}`,`${o}Size${qt(i)}`,`color${qt(e)}`,n&&"disableElevation",r&&"fullWidth",a&&`loadingPosition${qt(s)}`],startIcon:["icon","startIcon",`iconSize${qt(i)}`],endIcon:["icon","endIcon",`iconSize${qt(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},g=Gn(d,exe,u);return{...u,...g}},rK=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],ixe=en(px,{shouldForwardProp:t=>gc(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${qt(n.color)}`],e[`size${qt(n.size)}`],e[`${n.variant}Size${qt(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(cr(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${k_.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${k_.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${k_.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${k_.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(Ys()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.alpha((t.vars||t).palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${k_.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${k_.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${k_.loading}`]:{color:"transparent"}}}]}})),oxe=en("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${qt(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...rK]})),sxe=en("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${qt(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...rK]})),axe=en("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),Hj=en("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),Po=j.forwardRef(function(e,n){const r=j.useContext(txe),i=j.useContext(nxe),o=GC(r,e),a=Kn({props:o,name:"MuiButton"}),{children:s,color:u="primary",component:d="button",className:g,disabled:v=!1,disableElevation:x=!1,disableFocusRipple:O=!1,endIcon:E,focusVisibleClassName:A,fullWidth:M=!1,id:L,loading:$=null,loadingIndicator:N,loadingPosition:F="center",size:U="medium",startIcon:q,type:W,variant:te="text",...re}=a,ce=AO(L),be=N??Y.jsx(ah,{"aria-labelledby":ce,color:"inherit",size:16}),ie={...a,color:u,component:d,disabled:v,disableElevation:x,disableFocusRipple:O,fullWidth:M,loading:$,loadingIndicator:be,loadingPosition:F,size:U,type:W,variant:te},me=rxe(ie),we=(q||$&&F==="start")&&Y.jsx(oxe,{className:me.startIcon,ownerState:ie,children:q||Y.jsx(Hj,{className:me.loadingIconPlaceholder,ownerState:ie})}),pe=(E||$&&F==="end")&&Y.jsx(sxe,{className:me.endIcon,ownerState:ie,children:E||Y.jsx(Hj,{className:me.loadingIconPlaceholder,ownerState:ie})}),_e=i||"",Me=typeof $=="boolean"?Y.jsx("span",{className:me.loadingWrapper,style:{display:"contents"},children:$&&Y.jsx(axe,{className:me.loadingIndicator,ownerState:ie,children:be})}):null;return Y.jsxs(ixe,{ownerState:ie,className:wn(r.className,me.root,g,_e),component:d,disabled:v||$,focusRipple:!O,focusVisibleClassName:wn(me.focusVisible,A),ref:n,type:W,id:$?ce:L,...re,classes:me,children:[we,F!=="end"&&Me,s,F==="end"&&Me,pe]})});function lxe(t){return Hn("MuiCard",t)}tr("MuiCard",["root"]);const cxe=t=>{const{classes:e}=t;return Gn({root:["root"]},lxe,e)},uxe=en(yc,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),hxe=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiCard"}),{className:i,raised:o=!1,...a}=r,s={...r,raised:o},u=cxe(s);return Y.jsx(uxe,{className:wn(u.root,i),elevation:o?8:void 0,ref:n,ownerState:s,...a})});function dxe(t){return Hn("MuiCardActions",t)}tr("MuiCardActions",["root","spacing"]);const fxe=t=>{const{classes:e,disableSpacing:n}=t;return Gn({root:["root",!n&&"spacing"]},dxe,e)},pxe=en("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),mxe=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiCardActions"}),{disableSpacing:i=!1,className:o,...a}=r,s={...r,disableSpacing:i},u=fxe(s);return Y.jsx(pxe,{className:wn(u.root,o),ownerState:s,ref:n,...a})});function gxe(t){return Hn("MuiCardContent",t)}tr("MuiCardContent",["root"]);const yxe=t=>{const{classes:e}=t;return Gn({root:["root"]},gxe,e)},vxe=en("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),_xe=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiCardContent"}),{className:i,component:o="div",...a}=r,s={...r,component:o},u=yxe(s);return Y.jsx(vxe,{as:o,className:wn(u.root,i),ownerState:s,ref:n,...a})});function xxe(t){return Hn("PrivateSwitchBase",t)}tr("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const bxe=t=>{const{classes:e,checked:n,disabled:r,edge:i}=t,o={root:["root",n&&"checked",r&&"disabled",i&&`edge${qt(i)}`],input:["input"]};return Gn(o,xxe,e)},wxe=en(px,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:t,ownerState:e})=>t==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:t,ownerState:e})=>t==="end"&&e.size!=="small",style:{marginRight:-12}}]}),Oxe=en("input",{name:"MuiSwitchBase",shouldForwardProp:gc})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Sxe=j.forwardRef(function(e,n){const{autoFocus:r,checked:i,checkedIcon:o,defaultChecked:a,disabled:s,disableFocusRipple:u=!1,edge:d=!1,icon:g,id:v,inputProps:x,inputRef:O,name:E,onBlur:A,onChange:M,onFocus:L,readOnly:$,required:N=!1,tabIndex:F,type:U,value:q,slots:W={},slotProps:te={},...re}=e,[ce,be]=p5({controlled:i,default:!!a,name:"SwitchBase",state:"checked"}),ie=rv(),me=gt=>{L&&L(gt),ie&&ie.onFocus&&ie.onFocus(gt)},we=gt=>{A&&A(gt),ie&&ie.onBlur&&ie.onBlur(gt)},pe=gt=>{if(gt.nativeEvent.defaultPrevented)return;const ct=gt.target.checked;be(ct),M&&M(gt,ct)};let _e=s;ie&&typeof _e>"u"&&(_e=ie.disabled);const Me=U==="checkbox"||U==="radio",Be={...e,checked:ce,disabled:_e,disableFocusRipple:u,edge:d},Ue=bxe(Be),Ce={slots:W,slotProps:{input:x,...te}},[Pe,Xe]=er("root",{ref:n,elementType:wxe,className:Ue.root,shouldForwardComponentProp:!0,externalForwardedProps:{...Ce,component:"span",...re},getSlotProps:gt=>({...gt,onFocus:ct=>{gt.onFocus?.(ct),me(ct)},onBlur:ct=>{gt.onBlur?.(ct),we(ct)}}),ownerState:Be,additionalProps:{centerRipple:!0,focusRipple:!u,disabled:_e,role:void 0,tabIndex:null}}),[ke,mt]=er("input",{ref:O,elementType:Oxe,className:Ue.input,externalForwardedProps:Ce,getSlotProps:gt=>({...gt,onChange:ct=>{gt.onChange?.(ct),pe(ct)}}),ownerState:Be,additionalProps:{autoFocus:r,checked:i,defaultChecked:a,disabled:_e,id:Me?v:void 0,name:E,readOnly:$,required:N,tabIndex:F,type:U,...U==="checkbox"&&q===void 0?{}:{value:q}}});return Y.jsxs(Pe,{...Xe,children:[Y.jsx(ke,{...mt}),ce?o:g]})}),Vw=Nge({createStyledComponent:en("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${qt(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>Kn({props:t,name:"MuiContainer"})}),e4=typeof LN({})=="function",Cxe=(t,e)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...e&&!t.vars&&{colorScheme:t.palette.mode}}),Txe=t=>({color:(t.vars||t).palette.text.primary,...t.typography.body1,backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),iK=(t,e=!1)=>{const n={};e&&t.colorSchemes&&typeof t.getColorSchemeSelector=="function"&&Object.entries(t.colorSchemes).forEach(([o,a])=>{const s=t.getColorSchemeSelector(o);s.startsWith("@")?n[s]={":root":{colorScheme:a.palette?.mode}}:n[s.replace(/\s*&/,"")]={colorScheme:a.palette?.mode}});let r={html:Cxe(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:{margin:0,...Txe(t),"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}},...n};const i=t.components?.MuiCssBaseline?.styleOverrides;return i&&(r=[r,i]),r},IP="mui-ecs",kxe=t=>{const e=iK(t,!1),n=Array.isArray(e)?e[0]:e;return!t.vars&&n&&(n.html[`:root:has(${IP})`]={colorScheme:t.palette.mode}),t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([r,i])=>{const o=t.getColorSchemeSelector(r);o.startsWith("@")?n[o]={[`:root:not(:has(.${IP}))`]:{colorScheme:i.palette?.mode}}:n[o.replace(/\s*&/,"")]={[`&:not(:has(.${IP}))`]:{colorScheme:i.palette?.mode}}}),e},Exe=LN(e4?({theme:t,enableColorScheme:e})=>iK(t,e):({theme:t})=>kxe(t));function Axe(t){const e=Kn({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return Y.jsxs(j.Fragment,{children:[e4&&Y.jsx(Exe,{enableColorScheme:r}),!e4&&!r&&Y.jsx("span",{className:IP,style:{display:"none"}}),n]})}function oK(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function Pxe(t){const e=sh(t);return e.body===t?Cf(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function xC(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function Gj(t){return parseInt(Cf(t).getComputedStyle(t).paddingRight,10)||0}function Mxe(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function Xj(t,e,n,r,i){const o=[e,n,...r];[].forEach.call(t.children,a=>{const s=!o.includes(a),u=!Mxe(a);s&&u&&xC(a,i)})}function GD(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function Rxe(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(Pxe(r)){const a=oK(Cf(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${Gj(r)+a}px`;const s=sh(r).querySelectorAll(".mui-fixed");[].forEach.call(s,u=>{n.push({value:u.style.paddingRight,property:"padding-right",el:u}),u.style.paddingRight=`${Gj(u)+a}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=sh(r).body;else{const a=r.parentElement,s=Cf(r);o=a?.nodeName==="HTML"&&s.getComputedStyle(a).overflowY==="scroll"?a:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:a,property:s})=>{o?a.style.setProperty(s,o):a.style.removeProperty(s)})}}function Ixe(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class Dxe{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&xC(e.modalRef,!1);const i=Ixe(n);Xj(n,e.mount,e.modalRef,i,!0);const o=GD(this.containers,a=>a.container===n);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=GD(this.containers,o=>o.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=Rxe(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=GD(this.containers,a=>a.modals.includes(e)),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&xC(e.modalRef,n),Xj(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const a=o.modals[o.modals.length-1];a.modalRef&&xC(a.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function K2(t){let e=t.activeElement;for(;e?.shadowRoot?.activeElement!=null;)e=e.shadowRoot.activeElement;return e}const Lxe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function $xe(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function zxe(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function Nxe(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||zxe(t))}function Bxe(t){const e=[],n=[];return Array.from(t.querySelectorAll(Lxe)).forEach((r,i)=>{const o=$xe(r);o===-1||!Nxe(r)||(o===0?e.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function Fxe(){return!0}function jxe(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=Bxe,isEnabled:a=Fxe,open:s}=t,u=j.useRef(!1),d=j.useRef(null),g=j.useRef(null),v=j.useRef(null),x=j.useRef(null),O=j.useRef(!1),E=j.useRef(null),A=is(jx(e),E),M=j.useRef(null);j.useEffect(()=>{!s||!E.current||(O.current=!n)},[n,s]),j.useEffect(()=>{if(!s||!E.current)return;const N=sh(E.current),F=K2(N);return E.current.contains(F)||(E.current.hasAttribute("tabIndex")||E.current.setAttribute("tabIndex","-1"),O.current&&E.current.focus()),()=>{i||(v.current&&v.current.focus&&(u.current=!0,v.current.focus()),v.current=null)}},[s]),j.useEffect(()=>{if(!s||!E.current)return;const N=sh(E.current),F=K2(N),U=te=>{M.current=te,!(r||!a()||te.key!=="Tab")&&F===E.current&&te.shiftKey&&(u.current=!0,g.current&&g.current.focus())},q=()=>{const te=E.current;if(te===null)return;const re=K2(N);if(!N.hasFocus()||!a()||u.current){u.current=!1;return}if(te.contains(re)||r&&re!==d.current&&re!==g.current)return;if(re!==x.current)x.current=null;else if(x.current!==null)return;if(!O.current)return;let ce=[];if((re===d.current||re===g.current)&&(ce=o(E.current)),ce.length>0){const be=!!(M.current?.shiftKey&&M.current?.key==="Tab"),ie=ce[0],me=ce[ce.length-1];typeof ie!="string"&&typeof me!="string"&&(be?me.focus():ie.focus())}else te.focus()};N.addEventListener("focusin",q),N.addEventListener("keydown",U,!0);const W=setInterval(()=>{const te=K2(N);te&&te.tagName==="BODY"&&q()},50);return()=>{clearInterval(W),N.removeEventListener("focusin",q),N.removeEventListener("keydown",U,!0)}},[n,r,i,a,s,o]);const L=N=>{v.current===null&&(v.current=N.relatedTarget),O.current=!0,x.current=N.target;const F=e.props.onFocus;F&&F(N)},$=N=>{v.current===null&&(v.current=N.relatedTarget),O.current=!0};return Y.jsxs(j.Fragment,{children:[Y.jsx("div",{tabIndex:s?0:-1,onFocus:$,ref:d,"data-testid":"sentinelStart"}),j.cloneElement(e,{ref:A,onFocus:L}),Y.jsx("div",{tabIndex:s?0:-1,onFocus:$,ref:g,"data-testid":"sentinelEnd"})]})}function Vxe(t){return typeof t=="function"?t():t}function Qxe(t){return t?t.props.hasOwnProperty("in"):!1}const Yj=()=>{},uA=new Dxe;function Uxe(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:a,children:s,onClose:u,open:d,rootRef:g}=t,v=j.useRef({}),x=j.useRef(null),O=j.useRef(null),E=is(O,g),[A,M]=j.useState(!d),L=Qxe(s);let $=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&($=!1);const N=()=>sh(x.current),F=()=>(v.current.modalRef=O.current,v.current.mount=x.current,v.current),U=()=>{uA.mount(F(),{disableScrollLock:r}),O.current&&(O.current.scrollTop=0)},q=Zg(()=>{const pe=Vxe(e)||N().body;uA.add(F(),pe),O.current&&U()}),W=()=>uA.isTopModal(F()),te=Zg(pe=>{x.current=pe,pe&&(d&&W()?U():O.current&&xC(O.current,$))}),re=j.useCallback(()=>{uA.remove(F(),$)},[$]);j.useEffect(()=>()=>{re()},[re]),j.useEffect(()=>{d?q():(!L||!i)&&re()},[d,re,L,i,q]);const ce=pe=>_e=>{pe.onKeyDown?.(_e),!(_e.key!=="Escape"||_e.which===229||!W())&&(n||(_e.stopPropagation(),u&&u(_e,"escapeKeyDown")))},be=pe=>_e=>{pe.onClick?.(_e),_e.target===_e.currentTarget&&u&&u(_e,"backdropClick")};return{getRootProps:(pe={})=>{const _e=jY(t);delete _e.onTransitionEnter,delete _e.onTransitionExited;const Me={..._e,...pe};return{role:"presentation",...Me,onKeyDown:ce(Me),ref:E}},getBackdropProps:(pe={})=>{const _e=pe;return{"aria-hidden":!0,..._e,onClick:be(_e),open:d}},getTransitionProps:()=>{const pe=()=>{M(!1),o&&o()},_e=()=>{M(!0),a&&a(),i&&re()};return{onEnter:wj(pe,s?.props.onEnter??Yj),onExited:wj(_e,s?.props.onExited??Yj)}},rootRef:E,portalRef:te,isTopModal:W,exited:A,hasTransition:L}}function Zxe(t){return Hn("MuiModal",t)}tr("MuiModal",["root","hidden","backdrop"]);const qxe=t=>{const{open:e,exited:n,classes:r}=t;return Gn({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},Zxe,r)},Wxe=en("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(cr(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),Hxe=en(nK,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),GN=j.forwardRef(function(e,n){const r=Kn({name:"MuiModal",props:e}),{BackdropComponent:i=Hxe,BackdropProps:o,classes:a,className:s,closeAfterTransition:u=!1,children:d,container:g,component:v,components:x={},componentsProps:O={},disableAutoFocus:E=!1,disableEnforceFocus:A=!1,disableEscapeKeyDown:M=!1,disablePortal:L=!1,disableRestoreFocus:$=!1,disableScrollLock:N=!1,hideBackdrop:F=!1,keepMounted:U=!1,onClose:q,onTransitionEnter:W,onTransitionExited:te,open:re,slotProps:ce={},slots:be={},theme:ie,...me}=r,we={...r,closeAfterTransition:u,disableAutoFocus:E,disableEnforceFocus:A,disableEscapeKeyDown:M,disablePortal:L,disableRestoreFocus:$,disableScrollLock:N,hideBackdrop:F,keepMounted:U},{getRootProps:pe,getBackdropProps:_e,getTransitionProps:Me,portalRef:Be,isTopModal:Ue,exited:Ce,hasTransition:Pe}=Uxe({...we,rootRef:n}),Xe={...we,exited:Ce},ke=qxe(Xe),mt={};if(d.props.tabIndex===void 0&&(mt.tabIndex="-1"),Pe){const{onEnter:Tt,onExited:Wt}=Me();mt.onEnter=Tt,mt.onExited=Wt}const gt={slots:{root:x.Root,backdrop:x.Backdrop,...be},slotProps:{...O,...ce}},[ct,ot]=er("root",{ref:n,elementType:Wxe,externalForwardedProps:{...gt,...me,component:v},getSlotProps:pe,ownerState:Xe,className:wn(s,ke?.root,!Xe.open&&Xe.exited&&ke?.hidden)}),[vt,At]=er("backdrop",{ref:o?.ref,elementType:i,externalForwardedProps:gt,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:Tt=>_e({...Tt,onClick:Wt=>{Tt?.onClick&&Tt.onClick(Wt)}}),className:wn(o?.className,ke?.backdrop),ownerState:Xe});return!U&&!re&&(!Pe||Ce)?null:Y.jsx(eK,{ref:Be,container:g,disablePortal:L,children:Y.jsxs(ct,{...ot,children:[!F&&i?Y.jsx(vt,{...At}):null,Y.jsx(jxe,{disableEnforceFocus:A,disableAutoFocus:E,disableRestoreFocus:$,isEnabled:Ue,open:re,children:j.cloneElement(d,mt)})]})})});function Gxe(t){return Hn("MuiDialog",t)}const XD=tr("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),sK=j.createContext({}),Xxe=en(nK,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),Yxe=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=t,a={root:["root"],container:["container",`scroll${qt(n)}`],paper:["paper",`paperScroll${qt(n)}`,`paperWidth${qt(String(r))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return Gn(a,Gxe,e)},Kxe=en(GN,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),Jxe=en("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${qt(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),ebe=en(yc,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${qt(n.scroll)}`],e[`paperWidth${qt(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(cr(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${XD.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${XD.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${XD.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),XN=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiDialog"}),i=If(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":a,"aria-labelledby":s,"aria-modal":u=!0,BackdropComponent:d,BackdropProps:g,children:v,className:x,disableEscapeKeyDown:O=!1,fullScreen:E=!1,fullWidth:A=!1,maxWidth:M="sm",onClick:L,onClose:$,open:N,PaperComponent:F=yc,PaperProps:U={},scroll:q="paper",slots:W={},slotProps:te={},TransitionComponent:re=J$,transitionDuration:ce=o,TransitionProps:be,...ie}=r,me={...r,disableEscapeKeyDown:O,fullScreen:E,fullWidth:A,maxWidth:M,scroll:q},we=Yxe(me),pe=j.useRef(),_e=hn=>{pe.current=hn.target===hn.currentTarget},Me=hn=>{L&&L(hn),pe.current&&(pe.current=null,$&&$(hn,"backdropClick"))},Be=AO(s),Ue=j.useMemo(()=>({titleId:Be}),[Be]),Ce={transition:re,...W},Pe={transition:be,paper:U,backdrop:g,...te},Xe={slots:Ce,slotProps:Pe},[ke,mt]=er("root",{elementType:Kxe,shouldForwardComponentProp:!0,externalForwardedProps:Xe,ownerState:me,className:wn(we.root,x),ref:n}),[gt,ct]=er("backdrop",{elementType:Xxe,shouldForwardComponentProp:!0,externalForwardedProps:Xe,ownerState:me}),[ot,vt]=er("paper",{elementType:ebe,shouldForwardComponentProp:!0,externalForwardedProps:Xe,ownerState:me,className:wn(we.paper,U.className)}),[At,Tt]=er("container",{elementType:Jxe,externalForwardedProps:Xe,ownerState:me,className:we.container}),[Wt,Ot]=er("transition",{elementType:J$,externalForwardedProps:Xe,ownerState:me,additionalProps:{appear:!0,in:N,timeout:ce,role:"presentation"}});return Y.jsx(ke,{closeAfterTransition:!0,slots:{backdrop:gt},slotProps:{backdrop:{transitionDuration:ce,as:d,...ct}},disableEscapeKeyDown:O,onClose:$,open:N,onClick:Me,...mt,...ie,children:Y.jsx(Wt,{...Ot,children:Y.jsx(At,{onMouseDown:_e,...Tt,children:Y.jsx(ot,{as:F,elevation:24,role:"dialog","aria-describedby":a,"aria-labelledby":Be,"aria-modal":u,...vt,children:Y.jsx(sK.Provider,{value:Ue,children:v})})})})})});function tbe(t){return Hn("MuiDialogActions",t)}tr("MuiDialogActions",["root","spacing"]);const nbe=t=>{const{classes:e,disableSpacing:n}=t;return Gn({root:["root",!n&&"spacing"]},tbe,e)},rbe=en("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),YN=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:o=!1,...a}=r,s={...r,disableSpacing:o},u=nbe(s);return Y.jsx(rbe,{className:wn(u.root,i),ownerState:s,ref:n,...a})});function ibe(t){return Hn("MuiDialogContent",t)}tr("MuiDialogContent",["root","dividers"]);function obe(t){return Hn("MuiDialogTitle",t)}const sbe=tr("MuiDialogTitle",["root"]),abe=t=>{const{classes:e,dividers:n}=t;return Gn({root:["root",n&&"dividers"]},ibe,e)},lbe=en("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(cr(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${sbe.root} + &`]:{paddingTop:0}}}]}))),KN=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiDialogContent"}),{className:i,dividers:o=!1,...a}=r,s={...r,dividers:o},u=abe(s);return Y.jsx(lbe,{className:wn(u.root,i),ownerState:s,ref:n,...a})}),cbe=t=>{const{classes:e}=t;return Gn({root:["root"]},obe,e)},ube=en(yr,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),JN=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiDialogTitle"}),{className:i,id:o,...a}=r,s=r,u=cbe(s),{titleId:d=o}=j.useContext(sK);return Y.jsx(ube,{component:"h2",className:wn(u.root,i),ownerState:s,ref:n,variant:"h6",id:o??d,...a})});function hbe(t){return Hn("MuiDivider",t)}const Kj=tr("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),dbe=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:o,orientation:a,textAlign:s,variant:u}=t;return Gn({root:["root",e&&"absolute",u,o&&"light",a==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&a==="vertical"&&"withChildrenVertical",s==="right"&&a!=="vertical"&&"textAlignRight",s==="left"&&a!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",a==="vertical"&&"wrapperVertical"]},hbe,r)},fbe=en("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(cr(({theme:t})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.alpha((t.vars||t).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),pbe=en("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(cr(({theme:t})=>({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}))),Gh=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiDivider"}),{absolute:i=!1,children:o,className:a,orientation:s="horizontal",component:u=o||s==="vertical"?"div":"hr",flexItem:d=!1,light:g=!1,role:v=u!=="hr"?"separator":void 0,textAlign:x="center",variant:O="fullWidth",...E}=r,A={...r,absolute:i,component:u,flexItem:d,light:g,orientation:s,role:v,textAlign:x,variant:O},M=dbe(A);return Y.jsx(fbe,{as:u,className:wn(M.root,a),role:v,ref:n,ownerState:A,"aria-orientation":v==="separator"&&(u!=="hr"||s==="vertical")?s:void 0,...E,children:o?Y.jsx(pbe,{className:M.wrapper,ownerState:A,children:o}):null})});Gh&&(Gh.muiSkipListHighlight=!0);function mbe(t,e,n){const r=e.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),o=Cf(e);let a;if(e.fakeTransform)a=e.fakeTransform;else{const d=o.getComputedStyle(e);a=d.getPropertyValue("-webkit-transform")||d.getPropertyValue("transform")}let s=0,u=0;if(a&&a!=="none"&&typeof a=="string"){const d=a.split("(")[1].split(")")[0].split(",");s=parseInt(d[4],10),u=parseInt(d[5],10)}return t==="left"?i?`translateX(${i.right+s-r.left}px)`:`translateX(${o.innerWidth+s-r.left}px)`:t==="right"?i?`translateX(-${r.right-i.left-s}px)`:`translateX(-${r.left+r.width-s}px)`:t==="up"?i?`translateY(${i.bottom+u-r.top}px)`:`translateY(${o.innerHeight+u-r.top}px)`:i?`translateY(-${r.top-i.top+r.height-u}px)`:`translateY(-${r.top+r.height-u}px)`}function gbe(t){return typeof t=="function"?t():t}function hA(t,e,n){const r=gbe(n),i=mbe(t,e,r);i&&(e.style.webkitTransform=i,e.style.transform=i)}const ybe=j.forwardRef(function(e,n){const r=If(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:a,appear:s=!0,children:u,container:d,direction:g="down",easing:v=i,in:x,onEnter:O,onEntered:E,onEntering:A,onExit:M,onExited:L,onExiting:$,style:N,timeout:F=o,TransitionComponent:U=fd,...q}=e,W=j.useRef(null),te=is(jx(u),W,n),re=Be=>Ue=>{Be&&(Ue===void 0?Be(W.current):Be(W.current,Ue))},ce=re((Be,Ue)=>{hA(g,Be,d),BN(Be),O&&O(Be,Ue)}),be=re((Be,Ue)=>{const Ce=j0({timeout:F,style:N,easing:v},{mode:"enter"});Be.style.webkitTransition=r.transitions.create("-webkit-transform",{...Ce}),Be.style.transition=r.transitions.create("transform",{...Ce}),Be.style.webkitTransform="none",Be.style.transform="none",A&&A(Be,Ue)}),ie=re(E),me=re($),we=re(Be=>{const Ue=j0({timeout:F,style:N,easing:v},{mode:"exit"});Be.style.webkitTransition=r.transitions.create("-webkit-transform",Ue),Be.style.transition=r.transitions.create("transform",Ue),hA(g,Be,d),M&&M(Be)}),pe=re(Be=>{Be.style.webkitTransition="",Be.style.transition="",L&&L(Be)}),_e=Be=>{a&&a(W.current,Be)},Me=j.useCallback(()=>{W.current&&hA(g,W.current,d)},[g,d]);return j.useEffect(()=>{if(x||g==="down"||g==="right")return;const Be=$N(()=>{W.current&&hA(g,W.current,d)}),Ue=Cf(W.current);return Ue.addEventListener("resize",Be),()=>{Be.clear(),Ue.removeEventListener("resize",Be)}},[g,x,d]),j.useEffect(()=>{x||Me()},[x,Me]),Y.jsx(U,{nodeRef:W,onEnter:ce,onEntered:ie,onEntering:be,onExit:we,onExited:pe,onExiting:me,addEndListener:_e,appear:s,in:x,timeout:F,...q,children:(Be,{ownerState:Ue,...Ce})=>j.cloneElement(u,{ref:te,style:{visibility:Be==="exited"&&!x?"hidden":void 0,...N,...u.props.style},...Ce})})});function vbe(t){return Hn("MuiDrawer",t)}tr("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const aK=(t,e)=>{const{ownerState:n}=t;return[e.root,(n.variant==="permanent"||n.variant==="persistent")&&e.docked,e.modal]},_be=t=>{const{classes:e,anchor:n,variant:r}=t,i={root:["root",`anchor${qt(n)}`],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${qt(n)}`,r!=="temporary"&&`paperAnchorDocked${qt(n)}`]};return Gn(i,vbe,e)},xbe=en(GN,{name:"MuiDrawer",slot:"Root",overridesResolver:aK})(cr(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer}))),bbe=en("div",{shouldForwardProp:gc,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:aK})({flex:"0 0 auto"}),wbe=en(yc,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`paperAnchor${qt(n.anchor)}`],n.variant!=="temporary"&&e[`paperAnchorDocked${qt(n.anchor)}`]]}})(cr(({theme:t})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:e})=>e.anchor==="left"&&e.variant!=="temporary",style:{borderRight:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="top"&&e.variant!=="temporary",style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="right"&&e.variant!=="temporary",style:{borderLeft:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="bottom"&&e.variant!=="temporary",style:{borderTop:`1px solid ${(t.vars||t).palette.divider}`}}]}))),lK={left:"right",right:"left",top:"down",bottom:"up"};function Obe(t){return["left","right"].includes(t)}function Sbe({direction:t},e){return t==="rtl"&&Obe(e)?lK[e]:e}const Cbe=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiDrawer"}),i=If(),o=_R(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:s="left",BackdropProps:u,children:d,className:g,elevation:v=16,hideBackdrop:x=!1,ModalProps:{BackdropProps:O,...E}={},onClose:A,open:M=!1,PaperProps:L={},SlideProps:$,TransitionComponent:N,transitionDuration:F=a,variant:U="temporary",slots:q={},slotProps:W={},...te}=r,re=j.useRef(!1);j.useEffect(()=>{re.current=!0},[]);const ce=Sbe({direction:o?"rtl":"ltr"},s),ie={...r,anchor:s,elevation:v,open:M,variant:U,...te},me=_be(ie),we={slots:{transition:N,...q},slotProps:{paper:L,transition:$,...W,backdrop:$Y(W.backdrop||{...u,...O},{transitionDuration:F})}},[pe,_e]=er("root",{ref:n,elementType:xbe,className:wn(me.root,me.modal,g),shouldForwardComponentProp:!0,ownerState:ie,externalForwardedProps:{...we,...te,...E},additionalProps:{open:M,onClose:A,hideBackdrop:x,slots:{backdrop:we.slots.backdrop},slotProps:{backdrop:we.slotProps.backdrop}}}),[Me,Be]=er("paper",{elementType:wbe,shouldForwardComponentProp:!0,className:wn(me.paper,L.className),ownerState:ie,externalForwardedProps:we,additionalProps:{elevation:U==="temporary"?v:0,square:!0,...U==="temporary"&&{role:"dialog","aria-modal":"true"}}}),[Ue,Ce]=er("docked",{elementType:bbe,ref:n,className:wn(me.root,me.docked,g),ownerState:ie,externalForwardedProps:we,additionalProps:te}),[Pe,Xe]=er("transition",{elementType:ybe,ownerState:ie,externalForwardedProps:we,additionalProps:{in:M,direction:lK[ce],timeout:F,appear:re.current}}),ke=Y.jsx(Me,{...Be,children:d});if(U==="permanent")return Y.jsx(Ue,{...Ce,children:ke});const mt=Y.jsx(Pe,{...Xe,children:ke});return U==="persistent"?Y.jsx(Ue,{...Ce,children:mt}):Y.jsx(pe,{..._e,children:mt})}),Tbe=t=>{const{classes:e,disableUnderline:n,startAdornment:r,endAdornment:i,size:o,hiddenLabel:a,multiline:s}=t,u={root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd",o==="small"&&`size${qt(o)}`,a&&"hiddenLabel",s&&"multiline"],input:["input"]},d=Gn(u,I_e,e);return{...e,...d}},kbe=en(CR,{shouldForwardProp:t=>gc(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...OR(t,e),!n.disableUnderline&&e.underline]}})(cr(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${T_.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${T_.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:o},variants:[{props:({ownerState:a})=>!a.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${T_.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${T_.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline):n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${T_.disabled}, .${T_.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${T_.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Ys()).map(([a])=>({props:{disableUnderline:!1,color:a},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[a]?.main}`}}})),{props:({ownerState:a})=>a.startAdornment,style:{paddingLeft:12}},{props:({ownerState:a})=>a.endAdornment,style:{paddingRight:12}},{props:({ownerState:a})=>a.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:a,size:s})=>a.multiline&&s==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:a})=>a.multiline&&a.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:a})=>a.multiline&&a.hiddenLabel&&a.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),Ebe=en(TR,{name:"MuiFilledInput",slot:"Input",overridesResolver:SR})(cr(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),eB=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:o={},componentsProps:a,fullWidth:s=!1,hiddenLabel:u,inputComponent:d="input",multiline:g=!1,slotProps:v,slots:x={},type:O="text",...E}=r,A={...r,disableUnderline:i,fullWidth:s,inputComponent:d,multiline:g,type:O},M=Tbe(r),L={root:{ownerState:A},input:{ownerState:A}},$=v??a?Da(L,v??a):L,N=x.root??o.Root??kbe,F=x.input??o.Input??Ebe;return Y.jsx(HN,{slots:{root:N,input:F},slotProps:$,fullWidth:s,inputComponent:d,multiline:g,ref:n,type:O,...E,classes:M})});eB.muiName="Input";function Abe(t){return Hn("MuiFormControl",t)}tr("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Pbe=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${qt(n)}`,r&&"fullWidth"]};return Gn(i,Abe,e)},Mbe=en("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`margin${qt(n.margin)}`],n.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),Rbe=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiFormControl"}),{children:i,className:o,color:a="primary",component:s="div",disabled:u=!1,error:d=!1,focused:g,fullWidth:v=!1,hiddenLabel:x=!1,margin:O="none",required:E=!1,size:A="medium",variant:M="outlined",...L}=r,$={...r,color:a,component:s,disabled:u,error:d,fullWidth:v,hiddenLabel:x,margin:O,required:E,size:A,variant:M},N=Pbe($),[F,U]=j.useState(()=>{let pe=!1;return i&&j.Children.forEach(i,_e=>{if(!gC(_e,["Input","Select"]))return;const Me=gC(_e,["Select"])?_e.props.input:_e;Me&&E_e(Me.props)&&(pe=!0)}),pe}),[q,W]=j.useState(()=>{let pe=!1;return i&&j.Children.forEach(i,_e=>{gC(_e,["Input","Select"])&&(_5(_e.props,!0)||_5(_e.props.inputProps,!0))&&(pe=!0)}),pe}),[te,re]=j.useState(!1);u&&te&&re(!1);const ce=g!==void 0&&!u?g:te;let be;j.useRef(!1);const ie=j.useCallback(()=>{W(!0)},[]),me=j.useCallback(()=>{W(!1)},[]),we=j.useMemo(()=>({adornedStart:F,setAdornedStart:U,color:a,disabled:u,error:d,filled:q,focused:ce,fullWidth:v,hiddenLabel:x,size:A,onBlur:()=>{re(!1)},onFocus:()=>{re(!0)},onEmpty:me,onFilled:ie,registerEffect:be,required:E,variant:M}),[F,a,u,d,q,ce,v,x,be,me,ie,E,A,M]);return Y.jsx(WN.Provider,{value:we,children:Y.jsx(Mbe,{as:s,ownerState:$,className:wn(N.root,o),ref:n,...L,children:i})})});function Ibe(t){return Hn("MuiFormControlLabel",t)}const J2=tr("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Dbe=t=>{const{classes:e,disabled:n,labelPlacement:r,error:i,required:o}=t,a={root:["root",n&&"disabled",`labelPlacement${qt(r)}`,i&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return Gn(a,Ibe,e)},Lbe=en("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${J2.label}`]:e.label},e.root,e[`labelPlacement${qt(n.labelPlacement)}`]]}})(cr(({theme:t})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${J2.disabled}`]:{cursor:"default"},[`& .${J2.label}`]:{[`&.${J2.disabled}`]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),$be=en("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(cr(({theme:t})=>({[`&.${J2.error}`]:{color:(t.vars||t).palette.error.main}}))),tB=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiFormControlLabel"}),{checked:i,className:o,componentsProps:a={},control:s,disabled:u,disableTypography:d,inputRef:g,label:v,labelPlacement:x="end",name:O,onChange:E,required:A,slots:M={},slotProps:L={},value:$,...N}=r,F=rv(),U=u??s.props.disabled??F?.disabled,q=A??s.props.required,W={disabled:U,required:q};["checked","name","onChange","value","inputRef"].forEach(pe=>{typeof s.props[pe]>"u"&&typeof r[pe]<"u"&&(W[pe]=r[pe])});const te=Vx({props:r,muiFormControl:F,states:["error"]}),re={...r,disabled:U,labelPlacement:x,required:q,error:te.error},ce=Dbe(re),be={slots:M,slotProps:{...a,...L}},[ie,me]=er("typography",{elementType:yr,externalForwardedProps:be,ownerState:re});let we=v;return we!=null&&we.type!==yr&&!d&&(we=Y.jsx(ie,{component:"span",...me,className:wn(ce.label,me?.className),children:we})),Y.jsxs(Lbe,{className:wn(ce.root,o),ownerState:re,ref:n,...N,children:[j.cloneElement(s,W),q?Y.jsxs("div",{children:[we,Y.jsxs($be,{ownerState:re,"aria-hidden":!0,className:ce.asterisk,children:["","*"]})]}):we]})});function zbe(t){return Hn("MuiFormHelperText",t)}const Jj=tr("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var eV;const Nbe=t=>{const{classes:e,contained:n,size:r,disabled:i,error:o,filled:a,focused:s,required:u}=t,d={root:["root",i&&"disabled",o&&"error",r&&`size${qt(r)}`,n&&"contained",s&&"focused",a&&"filled",u&&"required"]};return Gn(d,zbe,e)},Bbe=en("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${qt(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(cr(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Jj.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Jj.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),Fbe=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:a="p",disabled:s,error:u,filled:d,focused:g,margin:v,required:x,variant:O,...E}=r,A=rv(),M=Vx({props:r,muiFormControl:A,states:["variant","size","disabled","error","filled","focused","required"]}),L={...r,component:a,contained:M.variant==="filled"||M.variant==="outlined",variant:M.variant,size:M.size,disabled:M.disabled,error:M.error,filled:M.filled,focused:M.focused,required:M.required};delete L.ownerState;const $=Nbe(L);return Y.jsx(Bbe,{as:a,className:wn($.root,o),ref:n,...E,ownerState:L,children:i===" "?eV||(eV=Y.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):i})});function jbe(t){return Hn("MuiFormLabel",t)}const bC=tr("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Vbe=t=>{const{classes:e,color:n,focused:r,disabled:i,error:o,filled:a,required:s}=t,u={root:["root",`color${qt(n)}`,i&&"disabled",o&&"error",a&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",o&&"error"]};return Gn(u,jbe,e)},Qbe=en("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled]}})(cr(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(Ys()).map(([e])=>({props:{color:e},style:{[`&.${bC.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${bC.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${bC.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),Ube=en("span",{name:"MuiFormLabel",slot:"Asterisk"})(cr(({theme:t})=>({[`&.${bC.error}`]:{color:(t.vars||t).palette.error.main}}))),Zbe=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiFormLabel"}),{children:i,className:o,color:a,component:s="label",disabled:u,error:d,filled:g,focused:v,required:x,...O}=r,E=rv(),A=Vx({props:r,muiFormControl:E,states:["color","required","focused","disabled","error","filled"]}),M={...r,color:A.color||"primary",component:s,disabled:A.disabled,error:A.error,filled:A.filled,focused:A.focused,required:A.required},L=Vbe(M);return Y.jsxs(Qbe,{as:s,ownerState:M,className:wn(L.root,o),ref:n,...O,children:[i,A.required&&Y.jsxs(Ube,{ownerState:M,"aria-hidden":!0,className:L.asterisk,children:["","*"]})]})}),N_=eye({createStyledComponent:en("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.container&&e.container]}}),componentName:"MuiGrid",useThemeProps:t=>Kn({props:t,name:"MuiGrid"}),useTheme:If});function t4(t){return`scale(${t}, ${t**2})`}const qbe={entering:{opacity:1,transform:t4(1)},entered:{opacity:1,transform:"none"}},YD=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),x5=j.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:o,easing:a,in:s,onEnter:u,onEntered:d,onEntering:g,onExit:v,onExited:x,onExiting:O,style:E,timeout:A="auto",TransitionComponent:M=fd,...L}=e,$=H_(),N=j.useRef(),F=If(),U=j.useRef(null),q=is(U,jx(o),n),W=pe=>_e=>{if(pe){const Me=U.current;_e===void 0?pe(Me):pe(Me,_e)}},te=W(g),re=W((pe,_e)=>{BN(pe);const{duration:Me,delay:Be,easing:Ue}=j0({style:E,timeout:A,easing:a},{mode:"enter"});let Ce;A==="auto"?(Ce=F.transitions.getAutoHeightDuration(pe.clientHeight),N.current=Ce):Ce=Me,pe.style.transition=[F.transitions.create("opacity",{duration:Ce,delay:Be}),F.transitions.create("transform",{duration:YD?Ce:Ce*.666,delay:Be,easing:Ue})].join(","),u&&u(pe,_e)}),ce=W(d),be=W(O),ie=W(pe=>{const{duration:_e,delay:Me,easing:Be}=j0({style:E,timeout:A,easing:a},{mode:"exit"});let Ue;A==="auto"?(Ue=F.transitions.getAutoHeightDuration(pe.clientHeight),N.current=Ue):Ue=_e,pe.style.transition=[F.transitions.create("opacity",{duration:Ue,delay:Me}),F.transitions.create("transform",{duration:YD?Ue:Ue*.666,delay:YD?Me:Me||Ue*.333,easing:Be})].join(","),pe.style.opacity=0,pe.style.transform=t4(.75),v&&v(pe)}),me=W(x),we=pe=>{A==="auto"&&$.start(N.current||0,pe),r&&r(U.current,pe)};return Y.jsx(M,{appear:i,in:s,nodeRef:U,onEnter:re,onEntered:ce,onEntering:te,onExit:ie,onExited:me,onExiting:be,addEndListener:we,timeout:A==="auto"?null:A,...L,children:(pe,{ownerState:_e,...Me})=>j.cloneElement(o,{style:{opacity:0,transform:t4(.75),visibility:pe==="exited"&&!s?"hidden":void 0,...qbe[pe],...E,...o.props.style},ref:q,...Me})})});x5&&(x5.muiSupportAuto=!0);const Wbe=t=>{const{classes:e,disableUnderline:n}=t,i=Gn({root:["root",!n&&"underline"],input:["input"]},M_e,e);return{...e,...i}},Hbe=en(CR,{shouldForwardProp:t=>gc(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...OR(t,e),!n.disableUnderline&&e.underline]}})(cr(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${x2.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${x2.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${x2.disabled}, .${x2.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${x2.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Ys()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}}))]}})),Gbe=en(TR,{name:"MuiInput",slot:"Input",overridesResolver:SR})({}),nB=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:o={},componentsProps:a,fullWidth:s=!1,inputComponent:u="input",multiline:d=!1,slotProps:g,slots:v={},type:x="text",...O}=r,E=Wbe(r),M={root:{ownerState:{disableUnderline:i}}},L=g??a?Da(g??a,M):M,$=v.root??o.Root??Hbe,N=v.input??o.Input??Gbe;return Y.jsx(HN,{slots:{root:$,input:N},slotProps:L,fullWidth:s,inputComponent:u,multiline:d,ref:n,type:x,...O,classes:E})});nB.muiName="Input";function Xbe(t){return Hn("MuiInputLabel",t)}tr("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Ybe=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:o,variant:a,required:s}=t,u={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="medium"&&`size${qt(r)}`,a],asterisk:[s&&"asterisk"]},d=Gn(u,Xbe,e);return{...e,...d}},Kbe=en(Zbe,{shouldForwardProp:t=>gc(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${bC.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(cr(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:n,size:r})=>e==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),Jbe=j.forwardRef(function(e,n){const r=Kn({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:o,shrink:a,variant:s,className:u,...d}=r,g=rv();let v=a;typeof v>"u"&&g&&(v=g.filled||g.focused||g.adornedStart);const x=Vx({props:r,muiFormControl:g,states:["size","variant","required","focused"]}),O={...r,disableAnimation:i,formControl:g,shrink:v,size:x.size,variant:x.variant,required:x.required,focused:x.focused},E=Ybe(O);return Y.jsx(Kbe,{"data-shrink":v,ref:n,className:wn(E.root,u),...d,ownerState:O,classes:E})});function e1e(t){return Hn("MuiLink",t)}const t1e=tr("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),n1e=({theme:t,ownerState:e})=>{const n=e.color;if("colorSpace"in t&&t.colorSpace){const o=Vp(t,`palette.${n}.main`)||Vp(t,`palette.${n}`)||e.color;return t.alpha(o,.4)}const r=Vp(t,`palette.${n}.main`,!1)||Vp(t,`palette.${n}`,!1)||e.color,i=Vp(t,`palette.${n}.mainChannel`)||Vp(t,`palette.${n}Channel`);return"vars"in t&&i?`rgba(${i} / 0.4)`:XC(r,.4)},tV={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},r1e=t=>{const{classes:e,component:n,focusVisible:r,underline:i}=t,o={root:["root",`underline${qt(i)}`,n==="button"&&"button",r&&"focusVisible"]};return Gn(o,e1e,e)},i1e=en(yr,{name:"MuiLink",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`underline${qt(n.underline)}`],n.component==="button"&&e.button]}})(cr(({theme:t})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:e,ownerState:n})=>e==="always"&&n.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},{props:({underline:e,ownerState:n})=>e==="always"&&n.color==="inherit",style:t.colorSpace?{textDecorationColor:t.alpha("currentColor",.4)}:null},...Object.entries(t.palette).filter(Ys()).map(([e])=>({props:{underline:"always",color:e},style:{"--Link-underlineColor":t.alpha((t.vars||t).palette[e].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":t.alpha((t.vars||t).palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":t.alpha((t.vars||t).palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(t.vars||t).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${t1e.focusVisible}`]:{outline:"auto"}}}]}))),nV=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiLink"}),i=If(),{className:o,color:a="primary",component:s="a",onBlur:u,onFocus:d,TypographyClasses:g,underline:v="always",variant:x="inherit",sx:O,...E}=r,[A,M]=j.useState(!1),L=U=>{$w(U.target)||M(!1),u&&u(U)},$=U=>{$w(U.target)&&M(!0),d&&d(U)},N={...r,color:a,component:s,focusVisible:A,underline:v,variant:x},F=r1e(N);return Y.jsx(i1e,{color:a,className:wn(F.root,o),classes:g,component:s,onBlur:L,onFocus:$,ref:n,ownerState:N,variant:x,...E,sx:[...tV[a]===void 0?[{color:a}]:[],...Array.isArray(O)?O:[O]],style:{...E.style,...v==="always"&&a!=="inherit"&&!tV[a]&&{"--Link-underlineColor":n1e({theme:i,ownerState:N})}}})}),td=j.createContext({});function o1e(t){return Hn("MuiList",t)}tr("MuiList",["root","padding","dense","subheader"]);const s1e=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return Gn({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},o1e,e)},a1e=en("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),MO=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiList"}),{children:i,className:o,component:a="ul",dense:s=!1,disablePadding:u=!1,subheader:d,...g}=r,v=j.useMemo(()=>({dense:s}),[s]),x={...r,component:a,dense:s,disablePadding:u},O=s1e(x);return Y.jsx(td.Provider,{value:v,children:Y.jsxs(a1e,{as:a,className:wn(O.root,o),ref:n,ownerState:x,...g,children:[d,i]})})});function l1e(t){return Hn("MuiListItem",t)}tr("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function c1e(t){return Hn("MuiListItemButton",t)}const V1=tr("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),u1e=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters]},h1e=t=>{const{alignItems:e,classes:n,dense:r,disabled:i,disableGutters:o,divider:a,selected:s}=t,d=Gn({root:["root",r&&"dense",!o&&"gutters",a&&"divider",i&&"disabled",e==="flex-start"&&"alignItemsFlexStart",s&&"selected"]},c1e,n);return{...n,...d}},d1e=en(px,{shouldForwardProp:t=>gc(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:u1e})(cr(({theme:t})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${V1.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${V1.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}},[`&.${V1.selected}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},[`&.${V1.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${V1.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.dense,style:{paddingTop:4,paddingBottom:4}}]}))),G_=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:o=!1,component:a="div",children:s,dense:u=!1,disableGutters:d=!1,divider:g=!1,focusVisibleClassName:v,selected:x=!1,className:O,...E}=r,A=j.useContext(td),M=j.useMemo(()=>({dense:u||A.dense||!1,alignItems:i,disableGutters:d}),[i,A.dense,u,d]),L=j.useRef(null);od(()=>{o&&L.current&&L.current.focus()},[o]);const $={...r,alignItems:i,dense:M.dense,disableGutters:d,divider:g,selected:x},N=h1e($),F=is(L,n);return Y.jsx(td.Provider,{value:M,children:Y.jsx(d1e,{ref:F,href:E.href||E.to,component:(E.href||E.to)&&a==="div"?"button":a,focusVisibleClassName:wn(N.focusVisible,v),ownerState:$,className:wn(N.root,O),...E,classes:N,children:s})})});function f1e(t){return Hn("MuiListItemSecondaryAction",t)}tr("MuiListItemSecondaryAction",["root","disableGutters"]);const p1e=t=>{const{disableGutters:e,classes:n}=t;return Gn({root:["root",e&&"disableGutters"]},f1e,n)},m1e=en("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:t})=>t.disableGutters,style:{right:0}}]}),cK=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiListItemSecondaryAction"}),{className:i,...o}=r,a=j.useContext(td),s={...r,disableGutters:a.disableGutters},u=p1e(s);return Y.jsx(m1e,{className:wn(u.root,i),ownerState:s,ref:n,...o})});cK.muiName="ListItemSecondaryAction";const g1e=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.hasSecondaryAction&&e.secondaryAction]},y1e=t=>{const{alignItems:e,classes:n,dense:r,disableGutters:i,disablePadding:o,divider:a,hasSecondaryAction:s}=t;return Gn({root:["root",r&&"dense",!i&&"gutters",!o&&"padding",a&&"divider",e==="flex-start"&&"alignItemsFlexStart",s&&"secondaryAction"],container:["container"],secondaryAction:["secondaryAction"]},l1e,n)},v1e=en("div",{name:"MuiListItem",slot:"Root",overridesResolver:g1e})(cr(({theme:t})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${V1.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),_1e=en("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),b5=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiListItem"}),{alignItems:i="center",children:o,className:a,component:s,components:u={},componentsProps:d={},ContainerComponent:g="li",ContainerProps:{className:v,...x}={},dense:O=!1,disableGutters:E=!1,disablePadding:A=!1,divider:M=!1,secondaryAction:L,slotProps:$={},slots:N={},...F}=r,U=j.useContext(td),q=j.useMemo(()=>({dense:O||U.dense||!1,alignItems:i,disableGutters:E}),[i,U.dense,O,E]),W=j.useRef(null),te=j.Children.toArray(o),re=te.length&&gC(te[te.length-1],["ListItemSecondaryAction"]),ce={...r,alignItems:i,dense:q.dense,disableGutters:E,disablePadding:A,divider:M,hasSecondaryAction:re},be=y1e(ce),ie=is(W,n),me={slots:N,slotProps:$},[we,pe]=er("secondaryAction",{elementType:cK,externalForwardedProps:me,ownerState:ce,className:be.secondaryAction}),_e=N.root||u.Root||v1e,Me=$.root||d.root||{},Be={className:wn(be.root,Me.className,a),...F};let Ue=s||"li";return re?(Ue=!Be.component&&!s?"div":Ue,g==="li"&&(Ue==="li"?Ue="div":Be.component==="li"&&(Be.component="div")),Y.jsx(td.Provider,{value:q,children:Y.jsxs(_1e,{as:g,className:wn(be.container,v),ref:ie,ownerState:ce,...x,children:[Y.jsx(_e,{...Me,...!Lw(_e)&&{as:Ue,ownerState:{...ce,...Me.ownerState}},...Be,children:te}),te.pop()]})})):Y.jsx(td.Provider,{value:q,children:Y.jsxs(_e,{...Me,as:Ue,ref:ie,...!Lw(_e)&&{ownerState:{...ce,...Me.ownerState}},...Be,children:[te,L&&Y.jsx(we,{...pe,children:L})]})})});function x1e(t){return Hn("MuiListItemAvatar",t)}tr("MuiListItemAvatar",["root","alignItemsFlexStart"]);const b1e=t=>{const{alignItems:e,classes:n}=t;return Gn({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},x1e,n)},w1e=en("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})({minWidth:56,flexShrink:0,variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}),O1e=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiListItemAvatar"}),{className:i,...o}=r,a=j.useContext(td),s={...r,alignItems:a.alignItems},u=b1e(s);return Y.jsx(w1e,{className:wn(u.root,i),ownerState:s,ref:n,...o})});function S1e(t){return Hn("MuiListItemIcon",t)}const rV=tr("MuiListItemIcon",["root","alignItemsFlexStart"]),C1e=t=>{const{alignItems:e,classes:n}=t;return Gn({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},S1e,n)},T1e=en("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(cr(({theme:t})=>({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),J1=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiListItemIcon"}),{className:i,...o}=r,a=j.useContext(td),s={...r,alignItems:a.alignItems},u=C1e(s);return Y.jsx(T1e,{className:wn(u.root,i),ownerState:s,ref:n,...o})});function k1e(t){return Hn("MuiListItemText",t)}const ew=tr("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),E1e=t=>{const{classes:e,inset:n,primary:r,secondary:i,dense:o}=t;return Gn({root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},k1e,e)},A1e=en("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${ew.primary}`]:e.primary},{[`& .${ew.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${Pj.root}:where(& .${ew.primary})`]:{display:"block"},[`.${Pj.root}:where(& .${ew.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),Xp=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiListItemText"}),{children:i,className:o,disableTypography:a=!1,inset:s=!1,primary:u,primaryTypographyProps:d,secondary:g,secondaryTypographyProps:v,slots:x={},slotProps:O={},...E}=r,{dense:A}=j.useContext(td);let M=u??i,L=g;const $={...r,disableTypography:a,inset:s,primary:!!M,secondary:!!L,dense:A},N=E1e($),F={slots:x,slotProps:{primary:d,secondary:v,...O}},[U,q]=er("root",{className:wn(N.root,o),elementType:A1e,externalForwardedProps:{...F,...E},ownerState:$,ref:n}),[W,te]=er("primary",{className:N.primary,elementType:yr,externalForwardedProps:F,ownerState:$}),[re,ce]=er("secondary",{className:N.secondary,elementType:yr,externalForwardedProps:F,ownerState:$});return M!=null&&M.type!==yr&&!a&&(M=Y.jsx(W,{variant:A?"body2":"body1",component:te?.variant?void 0:"span",...te,children:M})),L!=null&&L.type!==yr&&!a&&(L=Y.jsx(re,{variant:"body2",color:"textSecondary",...ce,children:L})),Y.jsxs(U,{...q,children:[M,L]})});function KD(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function iV(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function uK(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join(""))}function b2(t,e,n,r,i,o){let a=!1,s=i(t,e,e?n:!1);for(;s;){if(s===t.firstChild){if(a)return!1;a=!0}const u=r?!1:s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||!uK(s,o)||u)s=i(t,s,n);else return s.focus(),!0}return!1}const P1e=j.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:a,className:s,disabledItemsFocusable:u=!1,disableListWrap:d=!1,onKeyDown:g,variant:v="selectedMenu",...x}=e,O=j.useRef(null),E=j.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});od(()=>{i&&O.current.focus()},[i]),j.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(N,{direction:F})=>{const U=!O.current.style.width;if(N.clientHeight<O.current.clientHeight&&U){const q=`${oK(Cf(N))}px`;O.current.style[F==="rtl"?"paddingLeft":"paddingRight"]=q,O.current.style.width=`calc(100% + ${q})`}return O.current}}),[]);const A=N=>{const F=O.current,U=N.key;if(N.ctrlKey||N.metaKey||N.altKey){g&&g(N);return}const W=K2(sh(F));if(U==="ArrowDown")N.preventDefault(),b2(F,W,d,u,KD);else if(U==="ArrowUp")N.preventDefault(),b2(F,W,d,u,iV);else if(U==="Home")N.preventDefault(),b2(F,null,d,u,KD);else if(U==="End")N.preventDefault(),b2(F,null,d,u,iV);else if(U.length===1){const te=E.current,re=U.toLowerCase(),ce=performance.now();te.keys.length>0&&(ce-te.lastTime>500?(te.keys=[],te.repeating=!0,te.previousKeyMatched=!0):te.repeating&&re!==te.keys[0]&&(te.repeating=!1)),te.lastTime=ce,te.keys.push(re);const be=W&&!te.repeating&&uK(W,te);te.previousKeyMatched&&(be||b2(F,W,!1,u,KD,te))?N.preventDefault():te.previousKeyMatched=!1}g&&g(N)},M=is(O,n);let L=-1;j.Children.forEach(a,(N,F)=>{if(!j.isValidElement(N)){L===F&&(L+=1,L>=a.length&&(L=-1));return}N.props.disabled||(v==="selectedMenu"&&N.props.selected||L===-1)&&(L=F),L===F&&(N.props.disabled||N.props.muiSkipListHighlight||N.type.muiSkipListHighlight)&&(L+=1,L>=a.length&&(L=-1))});const $=j.Children.map(a,(N,F)=>{if(F===L){const U={};return o&&(U.autoFocus=!0),N.props.tabIndex===void 0&&v==="selectedMenu"&&(U.tabIndex=0),j.cloneElement(N,U)}return N});return Y.jsx(MO,{role:"menu",ref:M,className:s,onKeyDown:A,tabIndex:i?0:-1,...x,children:$})});function M1e(t){return Hn("MuiPopover",t)}tr("MuiPopover",["root","paper"]);function oV(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function sV(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function aV(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function dA(t){return typeof t=="function"?t():t}const R1e=t=>{const{classes:e}=t;return Gn({root:["root"],paper:["paper"]},M1e,e)},I1e=en(GN,{name:"MuiPopover",slot:"Root"})({}),hK=en(yc,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),dK=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiPopover"}),{action:i,anchorEl:o,anchorOrigin:a={vertical:"top",horizontal:"left"},anchorPosition:s,anchorReference:u="anchorEl",children:d,className:g,container:v,elevation:x=8,marginThreshold:O=16,open:E,PaperProps:A={},slots:M={},slotProps:L={},transformOrigin:$={vertical:"top",horizontal:"left"},TransitionComponent:N,transitionDuration:F="auto",TransitionProps:U={},disableScrollLock:q=!1,...W}=r,te=j.useRef(),re={...r,anchorOrigin:a,anchorReference:u,elevation:x,marginThreshold:O,transformOrigin:$,TransitionComponent:N,transitionDuration:F,TransitionProps:U},ce=R1e(re),be=j.useCallback(()=>{if(u==="anchorPosition")return s;const Tt=dA(o),Ot=(Tt&&Tt.nodeType===1?Tt:sh(te.current).body).getBoundingClientRect();return{top:Ot.top+oV(Ot,a.vertical),left:Ot.left+sV(Ot,a.horizontal)}},[o,a.horizontal,a.vertical,s,u]),ie=j.useCallback(Tt=>({vertical:oV(Tt,$.vertical),horizontal:sV(Tt,$.horizontal)}),[$.horizontal,$.vertical]),me=j.useCallback(Tt=>{const Wt={width:Tt.offsetWidth,height:Tt.offsetHeight},Ot=ie(Wt);if(u==="none")return{top:null,left:null,transformOrigin:aV(Ot)};const hn=be();let Gt=hn.top-Ot.vertical,Yt=hn.left-Ot.horizontal;const Cn=Gt+Wt.height,sn=Yt+Wt.width,Rn=Cf(dA(o)),Fn=Rn.innerHeight-O,Vn=Rn.innerWidth-O;if(O!==null&&Gt<O){const Qe=Gt-O;Gt-=Qe,Ot.vertical+=Qe}else if(O!==null&&Cn>Fn){const Qe=Cn-Fn;Gt-=Qe,Ot.vertical+=Qe}if(O!==null&&Yt<O){const Qe=Yt-O;Yt-=Qe,Ot.horizontal+=Qe}else if(sn>Vn){const Qe=sn-Vn;Yt-=Qe,Ot.horizontal+=Qe}return{top:`${Math.round(Gt)}px`,left:`${Math.round(Yt)}px`,transformOrigin:aV(Ot)}},[o,u,be,ie,O]),[we,pe]=j.useState(E),_e=j.useCallback(()=>{const Tt=te.current;if(!Tt)return;const Wt=me(Tt);Wt.top!==null&&Tt.style.setProperty("top",Wt.top),Wt.left!==null&&(Tt.style.left=Wt.left),Tt.style.transformOrigin=Wt.transformOrigin,pe(!0)},[me]);j.useEffect(()=>(q&&window.addEventListener("scroll",_e),()=>window.removeEventListener("scroll",_e)),[o,q,_e]);const Me=()=>{_e()},Be=()=>{pe(!1)};j.useEffect(()=>{E&&_e()}),j.useImperativeHandle(i,()=>E?{updatePosition:()=>{_e()}}:null,[E,_e]),j.useEffect(()=>{if(!E)return;const Tt=$N(()=>{_e()}),Wt=Cf(dA(o));return Wt.addEventListener("resize",Tt),()=>{Tt.clear(),Wt.removeEventListener("resize",Tt)}},[o,E,_e]);let Ue=F;const Ce={slots:{transition:N,...M},slotProps:{transition:U,paper:A,...L}},[Pe,Xe]=er("transition",{elementType:x5,externalForwardedProps:Ce,ownerState:re,getSlotProps:Tt=>({...Tt,onEntering:(Wt,Ot)=>{Tt.onEntering?.(Wt,Ot),Me()},onExited:Wt=>{Tt.onExited?.(Wt),Be()}}),additionalProps:{appear:!0,in:E}});F==="auto"&&!Pe.muiSupportAuto&&(Ue=void 0);const ke=v||(o?sh(dA(o)).body:void 0),[mt,{slots:gt,slotProps:ct,...ot}]=er("root",{ref:n,elementType:I1e,externalForwardedProps:{...Ce,...W},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:M.backdrop},slotProps:{backdrop:$Y(typeof L.backdrop=="function"?L.backdrop(re):L.backdrop,{invisible:!0})},container:ke,open:E},ownerState:re,className:wn(ce.root,g)}),[vt,At]=er("paper",{ref:te,className:ce.paper,elementType:hK,externalForwardedProps:Ce,shouldForwardComponentProp:!0,additionalProps:{elevation:x,style:we?void 0:{opacity:0}},ownerState:re});return Y.jsx(mt,{...ot,...!Lw(mt)&&{slots:gt,slotProps:ct,disableScrollLock:q},children:Y.jsx(Pe,{...Xe,timeout:Ue,children:Y.jsx(vt,{...At,children:d})})})});function D1e(t){return Hn("MuiMenu",t)}tr("MuiMenu",["root","paper","list"]);const L1e={vertical:"top",horizontal:"right"},$1e={vertical:"top",horizontal:"left"},z1e=t=>{const{classes:e}=t;return Gn({root:["root"],paper:["paper"],list:["list"]},D1e,e)},N1e=en(dK,{shouldForwardProp:t=>gc(t)||t==="classes",name:"MuiMenu",slot:"Root"})({}),B1e=en(hK,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),F1e=en(P1e,{name:"MuiMenu",slot:"List"})({outline:0}),fK=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:o,className:a,disableAutoFocusItem:s=!1,MenuListProps:u={},onClose:d,open:g,PaperProps:v={},PopoverClasses:x,transitionDuration:O="auto",TransitionProps:{onEntering:E,...A}={},variant:M="selectedMenu",slots:L={},slotProps:$={},...N}=r,F=_R(),U={...r,autoFocus:i,disableAutoFocusItem:s,MenuListProps:u,onEntering:E,PaperProps:v,transitionDuration:O,TransitionProps:A,variant:M},q=z1e(U),W=i&&!s&&g,te=j.useRef(null),re=(Ue,Ce)=>{te.current&&te.current.adjustStyleForScrollbar(Ue,{direction:F?"rtl":"ltr"}),E&&E(Ue,Ce)},ce=Ue=>{Ue.key==="Tab"&&(Ue.preventDefault(),d&&d(Ue,"tabKeyDown"))};let be=-1;j.Children.map(o,(Ue,Ce)=>{j.isValidElement(Ue)&&(Ue.props.disabled||(M==="selectedMenu"&&Ue.props.selected||be===-1)&&(be=Ce))});const ie={slots:L,slotProps:{list:u,transition:A,paper:v,...$}},me=JY({elementType:L.root,externalSlotProps:$.root,ownerState:U,className:[q.root,a]}),[we,pe]=er("paper",{className:q.paper,elementType:B1e,externalForwardedProps:ie,shouldForwardComponentProp:!0,ownerState:U}),[_e,Me]=er("list",{className:wn(q.list,u.className),elementType:F1e,shouldForwardComponentProp:!0,externalForwardedProps:ie,getSlotProps:Ue=>({...Ue,onKeyDown:Ce=>{ce(Ce),Ue.onKeyDown?.(Ce)}}),ownerState:U}),Be=typeof ie.slotProps.transition=="function"?ie.slotProps.transition(U):ie.slotProps.transition;return Y.jsx(N1e,{onClose:d,anchorOrigin:{vertical:"bottom",horizontal:F?"right":"left"},transformOrigin:F?L1e:$1e,slots:{root:L.root,paper:we,backdrop:L.backdrop,...L.transition&&{transition:L.transition}},slotProps:{root:me,paper:pe,backdrop:typeof $.backdrop=="function"?$.backdrop(U):$.backdrop,transition:{...Be,onEntering:(...Ue)=>{re(...Ue),Be?.onEntering?.(...Ue)}}},open:g,ref:n,transitionDuration:O,ownerState:U,...N,classes:x,children:Y.jsx(_e,{actions:te,autoFocus:i&&(be===-1||s),autoFocusItem:W,variant:M,...Me,children:o})})});function j1e(t){return Hn("MuiMenuItem",t)}const w2=tr("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),V1e=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},Q1e=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:o,classes:a}=t,u=Gn({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},j1e,a);return{...a,...u}},U1e=en(px,{shouldForwardProp:t=>gc(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:V1e})(cr(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${w2.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${w2.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}},[`&.${w2.selected}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},[`&.${w2.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${w2.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${Kj.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${Kj.inset}`]:{marginLeft:52},[`& .${ew.root}`]:{marginTop:0,marginBottom:0},[`& .${ew.inset}`]:{paddingLeft:36},[`& .${rV.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${rV.root} svg`]:{fontSize:"1.25rem"}}}]}))),lV=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:a=!1,divider:s=!1,disableGutters:u=!1,focusVisibleClassName:d,role:g="menuitem",tabIndex:v,className:x,...O}=r,E=j.useContext(td),A=j.useMemo(()=>({dense:a||E.dense||!1,disableGutters:u}),[E.dense,a,u]),M=j.useRef(null);od(()=>{i&&M.current&&M.current.focus()},[i]);const L={...r,dense:A.dense,divider:s,disableGutters:u},$=Q1e(r),N=is(M,n);let F;return r.disabled||(F=v!==void 0?v:-1),Y.jsx(td.Provider,{value:A,children:Y.jsx(U1e,{ref:N,role:g,tabIndex:F,component:o,focusVisibleClassName:wn($.focusVisible,d),className:wn($.root,x),...O,ownerState:L,classes:$})})});function Z1e(t){return Hn("MuiNativeSelect",t)}const rB=tr("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),q1e=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:a}=t,s={select:["select",n,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${qt(n)}`,o&&"iconOpen",r&&"disabled"]};return Gn(s,Z1e,e)},pK=en("select",{name:"MuiNativeSelect"})(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${rB.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),W1e=en(pK,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:gc,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${rB.multiple}`]:e.multiple}]}})({}),mK=en("svg",{name:"MuiNativeSelect"})(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${rB.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),H1e=en(mK,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${qt(n.variant)}`],n.open&&e.iconOpen]}})({}),G1e=j.forwardRef(function(e,n){const{className:r,disabled:i,error:o,IconComponent:a,inputRef:s,variant:u="standard",...d}=e,g={...e,disabled:i,variant:u,error:o},v=q1e(g);return Y.jsxs(j.Fragment,{children:[Y.jsx(W1e,{ownerState:g,className:wn(v.select,r),disabled:i,ref:s||n,...d}),e.multiple?null:Y.jsx(H1e,{as:a,ownerState:g,className:v.icon})]})});var cV;const X1e=en("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:gc})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Y1e=en("legend",{name:"MuiNotchedOutlined",shouldForwardProp:gc})(cr(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function K1e(t){const{children:e,classes:n,className:r,label:i,notched:o,...a}=t,s=i!=null&&i!=="",u={...t,notched:o,withLabel:s};return Y.jsx(X1e,{"aria-hidden":!0,className:r,ownerState:u,...a,children:Y.jsx(Y1e,{ownerState:u,children:s?Y.jsx("span",{children:i}):cV||(cV=Y.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const J1e=t=>{const{classes:e}=t,r=Gn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},R_e,e);return{...e,...r}},ewe=en(CR,{shouldForwardProp:t=>gc(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:OR})(cr(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Mp.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Mp.notchedOutline}`]:{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):e}},[`&.${Mp.focused} .${Mp.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(Ys()).map(([n])=>({props:{color:n},style:{[`&.${Mp.focused} .${Mp.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}})),{props:{},style:{[`&.${Mp.error} .${Mp.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Mp.disabled} .${Mp.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),twe=en(K1e,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(cr(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):e}})),nwe=en(TR,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:SR})(cr(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),iB=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiOutlinedInput"}),{components:i={},fullWidth:o=!1,inputComponent:a="input",label:s,multiline:u=!1,notched:d,slots:g={},slotProps:v={},type:x="text",...O}=r,E=J1e(r),A=rv(),M=Vx({props:r,muiFormControl:A,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),L={...r,color:M.color||"primary",disabled:M.disabled,error:M.error,focused:M.focused,formControl:A,fullWidth:o,hiddenLabel:M.hiddenLabel,multiline:u,size:M.size,type:x},$=g.root??i.Root??ewe,N=g.input??i.Input??nwe,[F,U]=er("notchedOutline",{elementType:twe,className:E.notchedOutline,shouldForwardComponentProp:!0,ownerState:L,externalForwardedProps:{slots:g,slotProps:v},additionalProps:{label:s!=null&&s!==""&&M.required?Y.jsxs(j.Fragment,{children:[s,"","*"]}):s}});return Y.jsx(HN,{slots:{root:$,input:N},slotProps:v,renderSuffix:q=>Y.jsx(F,{...U,notched:typeof d<"u"?d:!!(q.startAdornment||q.filled||q.focused)}),fullWidth:o,inputComponent:a,multiline:u,ref:n,type:x,...O,classes:{...E,notchedOutline:null}})});iB.muiName="Input";function gK(t){return Hn("MuiSelect",t)}const O2=tr("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var uV;const rwe=en(pK,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${O2.select}`]:e.select},{[`&.${O2.select}`]:e[n.variant]},{[`&.${O2.error}`]:e.error},{[`&.${O2.multiple}`]:e.multiple}]}})({[`&.${O2.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),iwe=en(mK,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${qt(n.variant)}`],n.open&&e.iconOpen]}})({}),owe=en("input",{shouldForwardProp:t=>LY(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function hV(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function swe(t){return t==null||typeof t=="string"&&!t.trim()}const awe=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:a}=t,s={select:["select",n,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${qt(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Gn(s,gK,e)},lwe=j.forwardRef(function(e,n){const{"aria-describedby":r,"aria-label":i,autoFocus:o,autoWidth:a,children:s,className:u,defaultOpen:d,defaultValue:g,disabled:v,displayEmpty:x,error:O=!1,IconComponent:E,inputRef:A,labelId:M,MenuProps:L={},multiple:$,name:N,onBlur:F,onChange:U,onClose:q,onFocus:W,onKeyDown:te,onMouseDown:re,onOpen:ce,open:be,readOnly:ie,renderValue:me,required:we,SelectDisplayProps:pe={},tabIndex:_e,type:Me,value:Be,variant:Ue="standard",...Ce}=e,[Pe,Xe]=p5({controlled:Be,default:g,name:"Select"}),[ke,mt]=p5({controlled:be,default:d,name:"Select"}),gt=j.useRef(null),ct=j.useRef(null),[ot,vt]=j.useState(null),{current:At}=j.useRef(be!=null),[Tt,Wt]=j.useState(),Ot=is(n,A),hn=j.useCallback(st=>{ct.current=st,st&&vt(st)},[]),Gt=ot?.parentNode;j.useImperativeHandle(Ot,()=>({focus:()=>{ct.current.focus()},node:gt.current,value:Pe}),[Pe]),j.useEffect(()=>{d&&ke&&ot&&!At&&(Wt(a?null:Gt.clientWidth),ct.current.focus())},[ot,a]),j.useEffect(()=>{o&&ct.current.focus()},[o]),j.useEffect(()=>{if(!M)return;const st=sh(ct.current).getElementById(M);if(st){const zt=()=>{getSelection().isCollapsed&&ct.current.focus()};return st.addEventListener("click",zt),()=>{st.removeEventListener("click",zt)}}},[M]);const Yt=(st,zt)=>{st?ce&&ce(zt):q&&q(zt),At||(Wt(a?null:Gt.clientWidth),mt(st))},Cn=st=>{re?.(st),st.button===0&&(st.preventDefault(),ct.current.focus(),Yt(!0,st))},sn=st=>{Yt(!1,st)},Rn=j.Children.toArray(s),Fn=st=>{const zt=Rn.find(ln=>ln.props.value===st.target.value);zt!==void 0&&(Xe(zt.props.value),U&&U(st,zt))},Vn=st=>zt=>{let ln;if(zt.currentTarget.hasAttribute("tabindex")){if($){ln=Array.isArray(Pe)?Pe.slice():[];const Nn=Pe.indexOf(st.props.value);Nn===-1?ln.push(st.props.value):ln.splice(Nn,1)}else ln=st.props.value;if(st.props.onClick&&st.props.onClick(zt),Pe!==ln&&(Xe(ln),U)){const Nn=zt.nativeEvent||zt,Ar=new Nn.constructor(Nn.type,Nn);Object.defineProperty(Ar,"target",{writable:!0,value:{value:ln,name:N}}),U(Ar,st)}$||Yt(!1,zt)}},Qe=st=>{ie||([" ","ArrowUp","ArrowDown","Enter"].includes(st.key)&&(st.preventDefault(),Yt(!0,st)),te?.(st))},Ye=ot!==null&&ke,bt=st=>{!Ye&&F&&(Object.defineProperty(st,"target",{writable:!0,value:{value:Pe,name:N}}),F(st))};delete Ce["aria-invalid"];let kt,Vt;const Oe=[];let se=!1;(_5({value:Pe})||x)&&(me?kt=me(Pe):se=!0);const K=Rn.map(st=>{if(!j.isValidElement(st))return null;let zt;if($){if(!Array.isArray(Pe))throw new Error(Gg(2));zt=Pe.some(ln=>hV(ln,st.props.value)),zt&&se&&Oe.push(st.props.children)}else zt=hV(Pe,st.props.value),zt&&se&&(Vt=st.props.children);return j.cloneElement(st,{"aria-selected":zt?"true":"false",onClick:Vn(st),onKeyUp:ln=>{ln.key===" "&&ln.preventDefault(),st.props.onKeyUp&&st.props.onKeyUp(ln)},role:"option",selected:zt,value:void 0,"data-value":st.props.value})});se&&($?Oe.length===0?kt=null:kt=Oe.reduce((st,zt,ln)=>(st.push(zt),ln<Oe.length-1&&st.push(", "),st),[]):kt=Vt);let xe=Tt;!a&&At&&ot&&(xe=Gt.clientWidth);let $e;typeof _e<"u"?$e=_e:$e=v?null:0;const ze=pe.id||(N?`mui-component-select-${N}`:void 0),rt={...e,variant:Ue,value:Pe,open:Ye,error:O},tt=awe(rt),Ke={...L.PaperProps,...typeof L.slotProps?.paper=="function"?L.slotProps.paper(rt):L.slotProps?.paper},at={...L.MenuListProps,...typeof L.slotProps?.list=="function"?L.slotProps.list(rt):L.slotProps?.list},St=AO();return Y.jsxs(j.Fragment,{children:[Y.jsx(rwe,{as:"div",ref:hn,tabIndex:$e,role:"combobox","aria-controls":Ye?St:void 0,"aria-disabled":v?"true":void 0,"aria-expanded":Ye?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[M,ze].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":we?"true":void 0,"aria-invalid":O?"true":void 0,onKeyDown:Qe,onMouseDown:v||ie?null:Cn,onBlur:bt,onFocus:W,...pe,ownerState:rt,className:wn(pe.className,tt.select,u),id:ze,children:swe(kt)?uV||(uV=Y.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):kt}),Y.jsx(owe,{"aria-invalid":O,value:Array.isArray(Pe)?Pe.join(","):Pe,name:N,ref:gt,"aria-hidden":!0,onChange:Fn,tabIndex:-1,disabled:v,className:tt.nativeInput,autoFocus:o,required:we,...Ce,ownerState:rt}),Y.jsx(iwe,{as:E,className:tt.icon,ownerState:rt}),Y.jsx(fK,{id:`menu-${N||""}`,anchorEl:Gt,open:Ye,onClose:sn,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...L,slotProps:{...L.slotProps,list:{"aria-labelledby":M,role:"listbox","aria-multiselectable":$?"true":void 0,disableListWrap:!0,id:St,...at},paper:{...Ke,style:{minWidth:xe,...Ke!=null?Ke.style:null}}},children:K})]})}),cwe=t=>{const{classes:e}=t,r=Gn({root:["root"]},gK,e);return{...e,...r}},oB={name:"MuiSelect",slot:"Root",shouldForwardProp:t=>gc(t)&&t!=="variant"},uwe=en(nB,oB)(""),hwe=en(iB,oB)(""),dwe=en(eB,oB)(""),yK=j.forwardRef(function(e,n){const r=Kn({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:a={},className:s,defaultOpen:u=!1,displayEmpty:d=!1,IconComponent:g=D_e,id:v,input:x,inputProps:O,label:E,labelId:A,MenuProps:M,multiple:L=!1,native:$=!1,onClose:N,onOpen:F,open:U,renderValue:q,SelectDisplayProps:W,variant:te="outlined",...re}=r,ce=$?G1e:lwe,be=rv(),ie=Vx({props:r,muiFormControl:be,states:["variant","error"]}),me=ie.variant||te,we={...r,variant:me,classes:a},pe=cwe(we),{root:_e,...Me}=pe,Be=x||{standard:Y.jsx(uwe,{ownerState:we}),outlined:Y.jsx(hwe,{label:E,ownerState:we}),filled:Y.jsx(dwe,{ownerState:we})}[me],Ue=is(n,jx(Be));return Y.jsx(j.Fragment,{children:j.cloneElement(Be,{inputComponent:ce,inputProps:{children:o,error:ie.error,IconComponent:g,variant:me,type:void 0,multiple:L,...$?{id:v}:{autoWidth:i,defaultOpen:u,displayEmpty:d,labelId:A,MenuProps:M,onClose:N,onOpen:F,open:U,renderValue:q,SelectDisplayProps:{id:v,...W}},...O,classes:O?Da(Me,O.classes):Me,...x?x.props.inputProps:{}},...(L&&$||d)&&me==="outlined"?{notched:!0}:{},ref:Ue,className:wn(Be.props.className,s,pe.root),...!x&&{variant:me},...re})})});yK.muiName="Select";function fwe(t){return Hn("MuiTooltip",t)}const ws=tr("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function pwe(t){return Math.round(t*1e5)/1e5}const mwe=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:i,placement:o}=t,a={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${qt(o.split("-")[0])}`],arrow:["arrow"]};return Gn(a,fwe,e)},gwe=en(tK,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(cr(({theme:t})=>({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${ws.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${ws.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${ws.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${ws.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${ws.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${ws.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${ws.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${ws.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),ywe=en("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${qt(n.placement.split("-")[0])}`]]}})(cr(({theme:t})=>({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[`.${ws.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${ws.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${ws.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${ws.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${pwe(16/14)}em`,fontWeight:t.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${ws.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${ws.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${ws.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${ws.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${ws.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${ws.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${ws.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${ws.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${ws.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${ws.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),vwe=en("span",{name:"MuiTooltip",slot:"Arrow"})(cr(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let fA=!1;const dV=new bR;let S2={x:0,y:0};function pA(t,e){return(n,...r)=>{e&&e(n,...r),t(n,...r)}}const vK=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiTooltip"}),{arrow:i=!1,children:o,classes:a,components:s={},componentsProps:u={},describeChild:d=!1,disableFocusListener:g=!1,disableHoverListener:v=!1,disableInteractive:x=!1,disableTouchListener:O=!1,enterDelay:E=100,enterNextDelay:A=0,enterTouchDelay:M=700,followCursor:L=!1,id:$,leaveDelay:N=0,leaveTouchDelay:F=1500,onClose:U,onOpen:q,open:W,placement:te="bottom",PopperComponent:re,PopperProps:ce={},slotProps:be={},slots:ie={},title:me,TransitionComponent:we,TransitionProps:pe,..._e}=r,Me=j.isValidElement(o)?o:Y.jsx("span",{children:o}),Be=If(),Ue=_R(),[Ce,Pe]=j.useState(),[Xe,ke]=j.useState(null),mt=j.useRef(!1),gt=x||L,ct=H_(),ot=H_(),vt=H_(),At=H_(),[Tt,Wt]=p5({controlled:W,default:!1,name:"Tooltip",state:"open"});let Ot=Tt;const hn=AO($),Gt=j.useRef(),Yt=Zg(()=>{Gt.current!==void 0&&(document.body.style.WebkitUserSelect=Gt.current,Gt.current=void 0),At.clear()});j.useEffect(()=>Yt,[Yt]);const Cn=En=>{dV.clear(),fA=!0,Wt(!0),q&&!Ot&&q(En)},sn=Zg(En=>{dV.start(800+N,()=>{fA=!1}),Wt(!1),U&&Ot&&U(En),ct.start(Be.transitions.duration.shortest,()=>{mt.current=!1})}),Rn=En=>{mt.current&&En.type!=="touchstart"||(Ce&&Ce.removeAttribute("title"),ot.clear(),vt.clear(),E||fA&&A?ot.start(fA?A:E,()=>{Cn(En)}):Cn(En))},Fn=En=>{ot.clear(),vt.start(N,()=>{sn(En)})},[,Vn]=j.useState(!1),Qe=En=>{$w(En.target)||(Vn(!1),Fn(En))},Ye=En=>{Ce||Pe(En.currentTarget),$w(En.target)&&(Vn(!0),Rn(En))},bt=En=>{mt.current=!0;const vi=Me.props;vi.onTouchStart&&vi.onTouchStart(En)},kt=En=>{bt(En),vt.clear(),ct.clear(),Yt(),Gt.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",At.start(M,()=>{document.body.style.WebkitUserSelect=Gt.current,Rn(En)})},Vt=En=>{Me.props.onTouchEnd&&Me.props.onTouchEnd(En),Yt(),vt.start(F,()=>{sn(En)})};j.useEffect(()=>{if(!Ot)return;function En(vi){vi.key==="Escape"&&sn(vi)}return document.addEventListener("keydown",En),()=>{document.removeEventListener("keydown",En)}},[sn,Ot]);const Oe=is(jx(Me),Pe,n);!me&&me!==0&&(Ot=!1);const se=j.useRef(),K=En=>{const vi=Me.props;vi.onMouseMove&&vi.onMouseMove(En),S2={x:En.clientX,y:En.clientY},se.current&&se.current.update()},xe={},$e=typeof me=="string";d?(xe.title=!Ot&&$e&&!v?me:null,xe["aria-describedby"]=Ot?hn:null):(xe["aria-label"]=$e?me:null,xe["aria-labelledby"]=Ot&&!$e?hn:null);const ze={...xe,..._e,...Me.props,className:wn(_e.className,Me.props.className),onTouchStart:bt,ref:Oe,...L?{onMouseMove:K}:{}},rt={};O||(ze.onTouchStart=kt,ze.onTouchEnd=Vt),v||(ze.onMouseOver=pA(Rn,ze.onMouseOver),ze.onMouseLeave=pA(Fn,ze.onMouseLeave),gt||(rt.onMouseOver=Rn,rt.onMouseLeave=Fn)),g||(ze.onFocus=pA(Ye,ze.onFocus),ze.onBlur=pA(Qe,ze.onBlur),gt||(rt.onFocus=Ye,rt.onBlur=Qe));const tt={...r,isRtl:Ue,arrow:i,disableInteractive:gt,placement:te,PopperComponentProp:re,touch:mt.current},Ke=typeof be.popper=="function"?be.popper(tt):be.popper,at=j.useMemo(()=>{let En=[{name:"arrow",enabled:!!Xe,options:{element:Xe,padding:4}}];return ce.popperOptions?.modifiers&&(En=En.concat(ce.popperOptions.modifiers)),Ke?.popperOptions?.modifiers&&(En=En.concat(Ke.popperOptions.modifiers)),{...ce.popperOptions,...Ke?.popperOptions,modifiers:En}},[Xe,ce.popperOptions,Ke?.popperOptions]),St=mwe(tt),st=typeof be.transition=="function"?be.transition(tt):be.transition,zt={slots:{popper:s.Popper,transition:s.Transition??we,tooltip:s.Tooltip,arrow:s.Arrow,...ie},slotProps:{arrow:be.arrow??u.arrow,popper:{...ce,...Ke??u.popper},tooltip:be.tooltip??u.tooltip,transition:{...pe,...st??u.transition}}},[ln,Nn]=er("popper",{elementType:gwe,externalForwardedProps:zt,ownerState:tt,className:wn(St.popper,ce?.className)}),[Ar,kr]=er("transition",{elementType:x5,externalForwardedProps:zt,ownerState:tt}),[ut,qr]=er("tooltip",{elementType:ywe,className:St.tooltip,externalForwardedProps:zt,ownerState:tt}),[ro,Jn]=er("arrow",{elementType:vwe,className:St.arrow,externalForwardedProps:zt,ownerState:tt,ref:ke});return Y.jsxs(j.Fragment,{children:[j.cloneElement(Me,ze),Y.jsx(ln,{as:re??tK,placement:te,anchorEl:L?{getBoundingClientRect:()=>({top:S2.y,left:S2.x,right:S2.x,bottom:S2.y,width:0,height:0})}:Ce,popperRef:se,open:Ce?Ot:!1,id:hn,transition:!0,...rt,...Nn,popperOptions:at,children:({TransitionProps:En})=>Y.jsx(Ar,{timeout:Be.transitions.duration.shorter,...En,...kr,children:Y.jsxs(ut,{...qr,children:[me,i?Y.jsx(ro,{...Jn}):null]})})})]})}),L0=aye({createStyledComponent:en("div",{name:"MuiStack",slot:"Root"}),useThemeProps:t=>Kn({props:t,name:"MuiStack"})});function _we(t){return Hn("MuiSwitch",t)}const ac=tr("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),xwe=t=>{const{classes:e,edge:n,size:r,color:i,checked:o,disabled:a}=t,s={root:["root",n&&`edge${qt(n)}`,`size${qt(r)}`],switchBase:["switchBase",`color${qt(i)}`,o&&"checked",a&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},u=Gn(s,_we,e);return{...e,...u}},bwe=en("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.edge&&e[`edge${qt(n.edge)}`],e[`size${qt(n.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${ac.thumb}`]:{width:16,height:16},[`& .${ac.switchBase}`]:{padding:4,[`&.${ac.checked}`]:{transform:"translateX(16px)"}}}}]}),wwe=en(Sxe,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.switchBase,{[`& .${ac.input}`]:e.input},n.color!=="default"&&e[`color${qt(n.color)}`]]}})(cr(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${ac.checked}`]:{transform:"translateX(20px)"},[`&.${ac.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${ac.checked} + .${ac.track}`]:{opacity:.5},[`&.${ac.disabled} + .${ac.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${ac.input}`]:{left:"-100%",width:"300%"}})),cr(({theme:t})=>({"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(Ys(["light"])).map(([e])=>({props:{color:e},style:{[`&.${ac.checked}`]:{color:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ac.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e}DisabledColor`]:`${t.palette.mode==="light"?t.lighten(t.palette[e].main,.62):t.darken(t.palette[e].main,.55)}`}},[`&.${ac.checked} + .${ac.track}`]:{backgroundColor:(t.vars||t).palette[e].main}}}))]}))),Owe=en("span",{name:"MuiSwitch",slot:"Track"})(cr(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`}))),Swe=en("span",{name:"MuiSwitch",slot:"Thumb"})(cr(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),sB=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiSwitch"}),{className:i,color:o="primary",edge:a=!1,size:s="medium",sx:u,slots:d={},slotProps:g={},...v}=r,x={...r,color:o,edge:a,size:s},O=xwe(x),E={slots:d,slotProps:g},[A,M]=er("root",{className:wn(O.root,i),elementType:bwe,externalForwardedProps:E,ownerState:x,additionalProps:{sx:u}}),[L,$]=er("thumb",{className:O.thumb,elementType:Swe,externalForwardedProps:E,ownerState:x}),N=Y.jsx(L,{...$}),[F,U]=er("track",{className:O.track,elementType:Owe,externalForwardedProps:E,ownerState:x});return Y.jsxs(A,{...M,children:[Y.jsx(wwe,{type:"checkbox",icon:N,checkedIcon:N,ref:n,ownerState:x,...v,classes:{...O,root:O.switchBase},slots:{...d.switchBase&&{root:d.switchBase},...d.input&&{input:d.input}},slotProps:{...g.switchBase&&{root:typeof g.switchBase=="function"?g.switchBase(x):g.switchBase},input:{role:"switch"},...g.input&&{input:typeof g.input=="function"?g.input(x):g.input}}}),Y.jsx(F,{...U})]})});function Cwe(t){return Hn("MuiToolbar",t)}tr("MuiToolbar",["root","gutters","regular","dense"]);const Twe=t=>{const{classes:e,disableGutters:n,variant:r}=t;return Gn({root:["root",!n&&"gutters",r]},Cwe,e)},kwe=en("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(cr(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}))),aB=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:a=!1,variant:s="regular",...u}=r,d={...r,component:o,disableGutters:a,variant:s},g=Twe(d);return Y.jsx(kwe,{as:o,className:wn(g.root,i),ref:n,ownerState:d,...u})});function Ewe(t){return Hn("MuiTextField",t)}tr("MuiTextField",["root"]);const Awe={standard:nB,filled:eB,outlined:iB},Pwe=t=>{const{classes:e}=t;return Gn({root:["root"]},Ewe,e)},Mwe=en(Rbe,{name:"MuiTextField",slot:"Root"})({}),Ju=j.forwardRef(function(e,n){const r=Kn({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:a,className:s,color:u="primary",defaultValue:d,disabled:g=!1,error:v=!1,FormHelperTextProps:x,fullWidth:O=!1,helperText:E,id:A,InputLabelProps:M,inputProps:L,InputProps:$,inputRef:N,label:F,maxRows:U,minRows:q,multiline:W=!1,name:te,onBlur:re,onChange:ce,onFocus:be,placeholder:ie,required:me=!1,rows:we,select:pe=!1,SelectProps:_e,slots:Me={},slotProps:Be={},type:Ue,value:Ce,variant:Pe="outlined",...Xe}=r,ke={...r,autoFocus:o,color:u,disabled:g,error:v,fullWidth:O,multiline:W,required:me,select:pe,variant:Pe},mt=Pwe(ke),gt=AO(A),ct=E&&gt?`${gt}-helper-text`:void 0,ot=F&&gt?`${gt}-label`:void 0,vt=Awe[Pe],At={slots:Me,slotProps:{input:$,inputLabel:M,htmlInput:L,formHelperText:x,select:_e,...Be}},Tt={},Wt=At.slotProps.inputLabel;Pe==="outlined"&&(Wt&&typeof Wt.shrink<"u"&&(Tt.notched=Wt.shrink),Tt.label=F),pe&&((!_e||!_e.native)&&(Tt.id=void 0),Tt["aria-describedby"]=void 0);const[Ot,hn]=er("root",{elementType:Mwe,shouldForwardComponentProp:!0,externalForwardedProps:{...At,...Xe},ownerState:ke,className:wn(mt.root,s),ref:n,additionalProps:{disabled:g,error:v,fullWidth:O,required:me,color:u,variant:Pe}}),[Gt,Yt]=er("input",{elementType:vt,externalForwardedProps:At,additionalProps:Tt,ownerState:ke}),[Cn,sn]=er("inputLabel",{elementType:Jbe,externalForwardedProps:At,ownerState:ke}),[Rn,Fn]=er("htmlInput",{elementType:"input",externalForwardedProps:At,ownerState:ke}),[Vn,Qe]=er("formHelperText",{elementType:Fbe,externalForwardedProps:At,ownerState:ke}),[Ye,bt]=er("select",{elementType:yK,externalForwardedProps:At,ownerState:ke}),kt=Y.jsx(Gt,{"aria-describedby":ct,autoComplete:i,autoFocus:o,defaultValue:d,fullWidth:O,multiline:W,name:te,rows:we,maxRows:U,minRows:q,type:Ue,value:Ce,id:gt,inputRef:N,onBlur:re,onChange:ce,onFocus:be,placeholder:ie,inputProps:Fn,slots:{input:Me.htmlInput?Rn:void 0},...Yt});return Y.jsxs(Ot,{...hn,children:[F!=null&&F!==""&&Y.jsx(Cn,{htmlFor:gt,id:ot,...sn,children:F}),pe?Y.jsx(Ye,{"aria-describedby":ct,id:gt,labelId:ot,value:Ce,input:kt,...bt,children:a}):kt,E&&Y.jsx(Vn,{id:ct,...Qe,children:E})]})}),Rwe=CY({themeId:ik}),Iwe=Wi(Y.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"})),Dwe=Wi(Y.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"})),ER=Wi(Y.jsx("path",{d:"m20.5 3-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5M15 19l-6-2.11V5l6 2.11z"})),AR=Wi(Y.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"})),Qw=Wi(Y.jsx("path",{d:"M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2m-11-4 2.03 2.71L16 11l4 5H8zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6z"}));var Zh=function(){return Zh=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Zh.apply(this,arguments)};function RO(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Lwe(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(g){try{d(r.next(g))}catch(v){a(v)}}function u(g){try{d(r.throw(g))}catch(v){a(v)}}function d(g){g.done?o(g.value):i(g.value).then(s,u)}d((r=r.apply(t,e||[])).next())})}function $we(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}const zwe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class lB extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Nwe extends lB{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class fV extends lB{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class pV extends lB{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var n4;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(n4||(n4={}));class Bwe{constructor(e,{headers:n={},customFetch:r,region:i=n4.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=zwe(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Lwe(this,arguments,void 0,function*(n,r={}){var i;let o,a;try{const{headers:s,method:u,body:d,signal:g,timeout:v}=r;let x={},{region:O}=r;O||(O=this.region);const E=new URL(`${this.url}/${n}`);O&&O!=="any"&&(x["x-region"]=O,E.searchParams.set("forceFunctionRegion",O));let A;d&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",A=d):typeof d=="string"?(x["Content-Type"]="text/plain",A=d):typeof FormData<"u"&&d instanceof FormData?A=d:(x["Content-Type"]="application/json",A=JSON.stringify(d)):A=d;let M=g;v&&(a=new AbortController,o=setTimeout(()=>a.abort(),v),g?(M=a.signal,g.addEventListener("abort",()=>a.abort())):M=a.signal);const L=yield this.fetch(E.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),s),body:A,signal:M}).catch(U=>{throw new Nwe(U)}),$=L.headers.get("x-relay-error");if($&&$==="true")throw new fV(L);if(!L.ok)throw new pV(L);let N=((i=L.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),F;return N==="application/json"?F=yield L.json():N==="application/octet-stream"||N==="application/pdf"?F=yield L.blob():N==="text/event-stream"?F=L:N==="multipart/form-data"?F=yield L.formData():F=yield L.text(),{data:F,error:null,response:L}}catch(s){return{data:null,error:s,response:s instanceof pV||s instanceof fV?s.context:void 0}}finally{o&&clearTimeout(o)}})}}var Fwe=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},jwe=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let a=null,s=null,u=null,d=o.status,g=o.statusText;if(o.ok){var v,x;if(n.method!=="HEAD"){var O;const L=await o.text();L===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((O=n.headers.get("Accept"))===null||O===void 0)&&O.includes("application/vnd.pgrst.plan+text"))?s=L:s=JSON.parse(L))}const A=(v=n.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),M=(x=o.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");A&&M&&M.length>1&&(u=parseInt(M[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(s)&&(s.length>1?(a={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,u=null,d=406,g="Not Acceptable"):s.length===1?s=s[0]:s=null)}else{var E;const A=await o.text();try{a=JSON.parse(A),Array.isArray(a)&&o.status===404&&(s=[],a=null,d=200,g="OK")}catch{o.status===404&&A===""?(d=204,g="No Content"):a={message:A}}if(a&&n.isMaybeSingle&&(!(a==null||(E=a.details)===null||E===void 0)&&E.includes("0 rows"))&&(a=null,d=200,g="OK"),a&&n.shouldThrowOnError)throw new Fwe(a)}return{error:a,data:s,count:u,status:d,statusText:g}});return this.shouldThrowOnError||(i=i.catch(o=>{var a;let s="";const u=o?.cause;if(u){var d,g,v,x;const E=(d=u?.message)!==null&&d!==void 0?d:"",A=(g=u?.code)!==null&&g!==void 0?g:"";s=`${(v=o?.name)!==null&&v!==void 0?v:"FetchError"}: ${o?.message}`,s+=`

Caused by: ${(x=u?.name)!==null&&x!==void 0?x:"Error"}: ${E}`,A&&(s+=` (${A})`),u?.stack&&(s+=`
${u.stack}`)}else{var O;s=(O=o?.stack)!==null&&O!==void 0?O:""}return{error:{message:`${(a=o?.name)!==null&&a!==void 0?a:"FetchError"}: ${o?.message}`,details:s,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},Vwe=class extends jwe{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;const s=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${s};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const mV=new RegExp("[,()]");var Q1=class extends Vwe{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&mV.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&mV.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},Qwe=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(s=>/\s/.test(s)&&!o?"":(s==='"'&&(o=!o),s)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new Q1({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((a,s)=>a.concat(Object.keys(s)),[]);if(o.length>0){const a=[...new Set(o)].map(s=>`"${s}"`);this.url.searchParams.set("columns",a.join(","))}}return new Q1({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(s.length>0){const u=[...new Set(s)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Q1({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var n;const r="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new Q1({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Q1({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},Uwe=class _K{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Qwe(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new _K(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:o}={}){var a;let s;const u=new URL(`${this.url}/rpc/${e}`);let d;r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([v,x])=>x!==void 0).map(([v,x])=>[v,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([v,x])=>{u.searchParams.append(v,x)})):(s="POST",d=n);const g=new Headers(this.headers);return o&&g.set("Prefer",`count=${o}`),new Q1({method:s,url:u,headers:g,schema:this.schemaName,body:d,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class Zwe{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const qwe="2.89.0",Wwe=`realtime-js/${qwe}`,xK="1.0.0",Hwe="2.0.0",gV=xK,r4=1e4,Gwe=1e3,Xwe=100;var O0;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(O0||(O0={}));var pa;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(pa||(pa={}));var gf;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(gf||(gf={}));var i4;(function(t){t.websocket="websocket"})(i4||(i4={}));var B_;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(B_||(B_={}));class Ywe{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,n,r){var i,o;const a=e.topic,s=(i=e.ref)!==null&&i!==void 0?i:"",u=(o=e.join_ref)!==null&&o!==void 0?o:"",d=e.payload.event,g=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},v=Object.keys(g).length===0?"":JSON.stringify(g);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+s.length+a.length+d.length+v.length,O=new ArrayBuffer(this.HEADER_LENGTH+x);let E=new DataView(O),A=0;E.setUint8(A++,this.KINDS.userBroadcastPush),E.setUint8(A++,u.length),E.setUint8(A++,s.length),E.setUint8(A++,a.length),E.setUint8(A++,d.length),E.setUint8(A++,v.length),E.setUint8(A++,n),Array.from(u,L=>E.setUint8(A++,L.charCodeAt(0))),Array.from(s,L=>E.setUint8(A++,L.charCodeAt(0))),Array.from(a,L=>E.setUint8(A++,L.charCodeAt(0))),Array.from(d,L=>E.setUint8(A++,L.charCodeAt(0))),Array.from(v,L=>E.setUint8(A++,L.charCodeAt(0)));var M=new Uint8Array(O.byteLength+r.byteLength);return M.set(new Uint8Array(O),0),M.set(new Uint8Array(r),O.byteLength),M.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,o,a,s,u]=r;return n({join_ref:i,ref:o,topic:a,event:s,payload:u})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,n,i)}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4);let u=this.HEADER_LENGTH+4;const d=r.decode(e.slice(u,u+i));u=u+i;const g=r.decode(e.slice(u,u+o));u=u+o;const v=r.decode(e.slice(u,u+a));u=u+a;const x=e.slice(u,e.byteLength),O=s===this.JSON_ENCODING?JSON.parse(r.decode(x)):x,E={type:this.BROADCAST_EVENT,event:g,payload:O};return a>0&&(E.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class bK{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var To;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(To||(To={}));const yV=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,a)=>(o[a]=Kwe(a,t,e,i),o),{}):{}},Kwe=(t,e,n,r)=>{const i=e.find(s=>s.name===t),o=i?.type,a=n[t];return o&&!r.includes(o)?wK(o,a):o4(a)},wK=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return nOe(e,n)}switch(t){case To.bool:return Jwe(e);case To.float4:case To.float8:case To.int2:case To.int4:case To.int8:case To.numeric:case To.oid:return eOe(e);case To.json:case To.jsonb:return tOe(e);case To.timestamp:return rOe(e);case To.abstime:case To.date:case To.daterange:case To.int4range:case To.int8range:case To.money:case To.reltime:case To.text:case To.time:case To.timestamptz:case To.timetz:case To.tsrange:case To.tstzrange:return o4(e);default:return o4(e)}},o4=t=>t,Jwe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},eOe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},tOe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},nOe=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const a=t.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>wK(e,s))}return t},rOe=t=>typeof t=="string"?t.replace(" ","T"):t,OK=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class JD{constructor(e,n,r={},i=r4){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var vV;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(vV||(vV={}));class wC{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wC.syncState(this.state,i,o,a),this.pendingDiffs.forEach(u=>{this.state=wC.syncDiff(this.state,u,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=wC.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const o=this.cloneDeep(e),a=this.transformState(n),s={},u={};return this.map(o,(d,g)=>{a[d]||(u[d]=g)}),this.map(a,(d,g)=>{const v=o[d];if(v){const x=g.map(M=>M.presence_ref),O=v.map(M=>M.presence_ref),E=g.filter(M=>O.indexOf(M.presence_ref)<0),A=v.filter(M=>x.indexOf(M.presence_ref)<0);E.length>0&&(s[d]=E),A.length>0&&(u[d]=A)}else s[d]=g}),this.syncDiff(o,{joins:s,leaves:u},r,i)}static syncDiff(e,n,r,i){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(s,u)=>{var d;const g=(d=e[s])!==null&&d!==void 0?d:[];if(e[s]=this.cloneDeep(u),g.length>0){const v=e[s].map(O=>O.presence_ref),x=g.filter(O=>v.indexOf(O.presence_ref)<0);e[s].unshift(...x)}r(s,g,u)}),this.map(a,(s,u)=>{let d=e[s];if(!d)return;const g=u.map(v=>v.presence_ref);d=d.filter(v=>g.indexOf(v.presence_ref)<0),e[s]=d,i(s,d,u),d.length===0&&delete e[s]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _V;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(_V||(_V={}));var OC;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(OC||(OC={}));var Rg;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Rg||(Rg={}));class tw{constructor(e,n={config:{}},r){var i,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=pa.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new JD(this,gf.join,this.params,this.timeout),this.rejoinTimer=new bK(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pa.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pa.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=pa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=pa.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gf.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new wC(this),this.broadcastEndpointURL=OK(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==pa.closed){const{config:{broadcast:a,presence:s,private:u}}=this.params,d=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(O=>O.filter))!==null&&i!==void 0?i:[],g=!!this.bindings[OC.PRESENCE]&&this.bindings[OC.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,v={},x={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:g}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(O=>e?.(Rg.CHANNEL_ERROR,O)),this._onClose(()=>e?.(Rg.CLOSED)),this.updateJoinPayload(Object.assign({config:x},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:O})=>{var E;if(this.socket._isManualToken()||this.socket.setAuth(),O===void 0){e?.(Rg.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,M=(E=A?.length)!==null&&E!==void 0?E:0,L=[];for(let $=0;$<M;$++){const N=A[$],{filter:{event:F,schema:U,table:q,filter:W}}=N,te=O&&O[$];if(te&&te.event===F&&tw.isFilterValueEqual(te.schema,U)&&tw.isFilterValueEqual(te.table,q)&&tw.isFilterValueEqual(te.filter,W))L.push(Object.assign(Object.assign({},N),{id:te.id}));else{this.unsubscribe(),this.state=pa.errored,e?.(Rg.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=L,e&&e(Rg.SUBSCRIBED);return}}).receive("error",O=>{this.state=pa.errored,e?.(Rg.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(O).join(", ")||"error")))}).receive("timeout",()=>{e?.(Rg.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===pa.joined&&e===OC.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let u=s.statusText;try{const d=await s.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=e,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,u;const d=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||u===void 0)&&u.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pa.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gf.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new JD(this,gf.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pa.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new JD(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Xwe){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;const a=e.toLocaleLowerCase(),{close:s,error:u,leave:d,join:g}=gf;if(r&&[s,u,d,g].indexOf(a)>=0&&r!==this._joinRef())return;let x=this._onMessage(a,n,r);if(n&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(O=>{var E,A,M;return((E=O.filter)===null||E===void 0?void 0:E.event)==="*"||((M=(A=O.filter)===null||A===void 0?void 0:A.event)===null||M===void 0?void 0:M.toLocaleLowerCase())===a}).map(O=>O.callback(x,r)):(o=this.bindings[a])===null||o===void 0||o.filter(O=>{var E,A,M,L,$,N;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in O){const F=O.id,U=(E=O.filter)===null||E===void 0?void 0:E.event;return F&&((A=n.ids)===null||A===void 0?void 0:A.includes(F))&&(U==="*"||U?.toLocaleLowerCase()===((M=n.data)===null||M===void 0?void 0:M.type.toLocaleLowerCase()))}else{const F=($=(L=O?.filter)===null||L===void 0?void 0:L.event)===null||$===void 0?void 0:$.toLocaleLowerCase();return F==="*"||F===((N=n?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return O.type.toLocaleLowerCase()===a}).map(O=>{if(typeof x=="object"&&"ids"in x){const E=x.data,{schema:A,table:M,commit_timestamp:L,type:$,errors:N}=E;x=Object.assign(Object.assign({},{schema:A,table:M,commit_timestamp:L,eventType:$,new:{},old:{},errors:N}),this._getPayloadRecords(E))}O.callback(x,r)})}_isClosed(){return this.state===pa.closed}_isJoined(){return this.state===pa.joined}_isJoining(){return this.state===pa.joining}_isLeaving(){return this.state===pa.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&tw.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(gf.close,{},e)}_onError(e){this._on(gf.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pa.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=yV(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=yV(e.columns,e.old_record)),n}}const e3=()=>{},mA={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},iOe=[1e3,2e3,5e3,1e4],oOe=1e4,sOe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class aOe{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=r4,this.transport=null,this.heartbeatIntervalMs=mA.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=e3,this.ref=0,this.reconnectTimer=null,this.vsn=gV,this.logger=e3,this.conn=null,this.sendBuffer=[],this.serializer=new Ywe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${i4.websocket}`,this.httpEndpoint=OK(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Zwe.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case O0.connecting:return B_.Connecting;case O0.open:return B_.Open;case O0.closing:return B_.Closing;default:return B_.Closed}}isConnected(){return this.connectionState()===B_.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new tw(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:i,ref:o}=e,a=()=>{this.encode(e,s=>{var u;(u=this.conn)===null||u===void 0||u.send(s)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Gwe,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},mA.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:a}=n,s=a?`(${a})`:"",u=o.status||"";this.log("receive",`${u} ${r} ${i} ${s}`.trim(),o),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(i,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===O0.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===O0.open||this.conn.readyState===O0.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(gf.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([sOe],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:Wwe};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(gf.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new bK(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},mA.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,o,a,s,u,d,g,v,x,O;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:r4,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:mA.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=e?.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=e?.heartbeatCallback)!==null&&s!==void 0?s:e3,this.vsn=(u=e?.vsn)!==null&&u!==void 0?u:gV,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e?.reconnectAfterMs)!==null&&d!==void 0?d:(E=>iOe[E-1]||oOe),this.vsn){case xK:this.encode=(g=e?.encode)!==null&&g!==void 0?g:((E,A)=>A(JSON.stringify(E))),this.decode=(v=e?.decode)!==null&&v!==void 0?v:((E,A)=>A(JSON.parse(E)));break;case Hwe:this.encode=(x=e?.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(O=e?.decode)!==null&&O!==void 0?O:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var JC=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function lOe(t,e,n){const r=new URL(e,t);if(n)for(const[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function cOe(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function uOe(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:a}){const s=lOe(t.baseUrl,r,i),u=await cOe(t.auth),d=await e(s,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...u,...a},body:o?JSON.stringify(o):void 0}),g=await d.text(),v=(d.headers.get("content-type")||"").includes("application/json"),x=v&&g?JSON.parse(g):g;if(!d.ok){const O=v?x:void 0,E=O?.error;throw new JC(E?.message??`Request failed with status ${d.status}`,{status:d.status,icebergType:E?.type,icebergCode:E?.code,details:O})}return{status:d.status,headers:d.headers,data:x}}}}function gA(t){return t.join("")}var hOe=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:gA(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${gA(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gA(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${gA(t.namespace)}`}),!0}catch(e){if(e instanceof JC&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof JC&&n.status===409)return;throw n}}};function O1(t){return t.join("")}var dOe=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${O1(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${O1(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${O1(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${O1(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${O1(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${O1(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof JC&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof JC&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},fOe=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=uOe({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new hOe(this.client,e),this.tableOps=new dOe(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},PR=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function ns(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var pOe=class extends PR{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},s4=class extends PR{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const cB=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),mOe=()=>Response,a4=t=>{if(Array.isArray(t))return t.map(n=>a4(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=a4(r)}),e},gOe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},yOe=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function eT(t){"@babel/helpers - typeof";return eT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eT(t)}function vOe(t,e){if(eT(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Oe(t){var e=vOe(t,"string");return eT(e)=="symbol"?e:e+""}function xOe(t,e,n){return(e=_Oe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xV(Object(n),!0).forEach(function(r){xOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const t3=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},bOe=async(t,e,n)=>{t instanceof await mOe()&&!n?.noResolveJson?t.json().then(r=>{const i=t.status||500,o=r?.statusCode||i+"";e(new pOe(t3(r),i,o))}).catch(r=>{e(new s4(t3(r),r))}):e(new s4(t3(t),t))},wOe=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!r?i:(gOe(r)?(i.headers=dr({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,e?.duplex&&(i.duplex=e.duplex),dr(dr({},i),n))};async function fk(t,e,n,r,i,o){return new Promise((a,s)=>{t(n,wOe(e,r,i,o)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>bOe(u,s,r))})}async function tT(t,e,n,r){return fk(t,"GET",e,n,r)}async function pf(t,e,n,r,i){return fk(t,"POST",e,r,i,n)}async function l4(t,e,n,r,i){return fk(t,"PUT",e,r,i,n)}async function OOe(t,e,n,r){return fk(t,"HEAD",e,dr(dr({},n),{},{noResolveJson:!0}),r)}async function uB(t,e,n,r,i){return fk(t,"DELETE",e,r,i,n)}var SOe=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ns(e))return{data:null,error:e};throw e}}};let SK;SK=Symbol.toStringTag;var COe=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[SK]="BlobDownloadBuilder",this.promise=null}asStream(){return new SOe(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ns(e))return{data:null,error:e};throw e}}};const TOe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bV={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var kOe=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=cB(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var i=this;try{let o;const a=dr(dr({},bV),r);let s=dr(dr({},i.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),u&&o.append("metadata",i.encodeMetadata(u)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),u&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(u))):(o=n,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,u&&(s["x-metadata"]=i.toBase64(i.encodeMetadata(u))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),r?.headers&&(s=dr(dr({},s),r.headers));const d=i._removeEmptyFolders(e),g=i._getFinalPath(d),v=await(t=="PUT"?l4:pf)(i.fetch,`${i.url}/object/${g}`,o,dr({headers:s},a?.duplex?{duplex:a.duplex}:{}));return{data:{path:d,id:v.Id,fullPath:v.Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(ns(o))return{data:null,error:o};throw o}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const o=i._removeEmptyFolders(t),a=i._getFinalPath(o),s=new URL(i.url+`/object/upload/sign/${a}`);s.searchParams.set("token",e);try{let u;const d=dr({upsert:bV.upsert},r),g=dr(dr({},i.headers),{"x-upsert":String(d.upsert)});return typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",d.cacheControl)):(u=n,g["cache-control"]=`max-age=${d.cacheControl}`,g["content-type"]=d.contentType),{data:{path:o,fullPath:(await l4(i.fetch,s.toString(),u,{headers:g})).Key},error:null}}catch(u){if(i.shouldThrowOnError)throw u;if(ns(u))return{data:null,error:u};throw u}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const i=dr({},n.headers);e?.upsert&&(i["x-upsert"]="true");const o=await pf(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(n.url+o.url),s=a.searchParams.get("token");if(!s)throw new PR("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:s},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ns(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await pf(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ns(i))return{data:null,error:i};throw i}}async copy(t,e,n){var r=this;try{return{data:{path:(await pf(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ns(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,n){var r=this;try{let i=r._getFinalPath(t),o=await pf(r.fetch,`${r.url}/object/sign/${i}`,dr({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${r.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ns(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,n){var r=this;try{const i=await pf(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>dr(dr({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${o}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ns(i))return{data:null,error:i};throw i}}download(t,e){const n=typeof e?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(e?.transform||{}),i=r?`?${r}`:"",o=this._getFinalPath(t),a=()=>tT(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new COe(a,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:a4(await tT(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ns(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await OOe(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ns(r)&&r instanceof s4){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const o=typeof e?.transform<"u"?"render/image":"object",a=this.transformOptsToQueryString(e?.transform||{});a!==""&&r.push(a);let s=r.join("&");return s!==""&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${s}`)}}}async remove(t){var e=this;try{return{data:await uB(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ns(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const i=dr(dr(dr({},TOe),e),{},{prefix:t||""});return{data:await pf(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ns(i))return{data:null,error:i};throw i}}async listV2(t,e){var n=this;try{const r=dr({},t);return{data:await pf(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ns(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const CK="2.89.0",TK={"X-Client-Info":`storage-js/${CK}`};var EOe=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const i=new URL(t);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=dr(dr({},TK),e),this.fetch=cB(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await tT(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ns(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await tT(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ns(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await pf(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ns(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await l4(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ns(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await pf(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ns(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await uB(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ns(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},AOe=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=dr(dr({},TK),e),this.fetch=cB(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await pf(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ns(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await tT(e.fetch,i,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ns(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await uB(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ns(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!yOe(t))throw new PR("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new fOe({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){const a=i[o];return typeof a!="function"?a:async(...s)=>{try{return{data:await a.apply(i,s),error:null}}catch(u){if(r)throw u;return{data:null,error:u}}}}})}};const hB={"X-Client-Info":`storage-js/${CK}`,"Content-Type":"application/json"};var kK=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Xu(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var n3=class extends kK{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},POe=class extends kK{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const dB=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),MOe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},wV=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ROe=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const r=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=o?.statusCode||o?.code||r+"";e(new n3(wV(o),r,a))}).catch(()=>{const o=r+"";e(new n3(i.statusText||`HTTP ${r} error`,r,o))});else{const o=r+"";e(new n3(i.statusText||`HTTP ${r} error`,r,o))}}else e(new POe(wV(t),t))},IOe=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return r?(MOe(r)?(i.headers=dr({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,dr(dr({},i),n)):i};async function DOe(t,e,n,r,i,o){return new Promise((a,s)=>{t(n,IOe(e,r,i,o)).then(u=>{if(!u.ok)throw u;if(r?.noResolveJson)return u;const d=u.headers.get("content-type");return!d||!d.includes("application/json")?{}:u.json()}).then(u=>a(u)).catch(u=>ROe(u,s,r))})}async function Yu(t,e,n,r,i){return DOe(t,"POST",e,r,i,n)}var LOe=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=dr(dr({},hB),e),this.fetch=dB(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Yu(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Xu(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await Yu(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Xu(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await Yu(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Xu(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await Yu(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Xu(r))return{data:null,error:r};throw r}}},$Oe=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=dr(dr({},hB),e),this.fetch=dB(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Yu(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Xu(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await Yu(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Xu(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Yu(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Xu(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await Yu(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Xu(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Yu(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Xu(n))return{data:null,error:n};throw n}}},zOe=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=dr(dr({},hB),e),this.fetch=dB(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Yu(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Xu(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Yu(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Xu(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await Yu(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Xu(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Yu(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Xu(n))return{data:null,error:n};throw n}}},NOe=class extends zOe{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new BOe(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},BOe=class extends LOe{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,dr(dr({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,dr(dr({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new FOe(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},FOe=class extends $Oe{constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,dr(dr({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,dr(dr({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,dr(dr({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,dr(dr({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,dr(dr({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},jOe=class extends EOe{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new kOe(this.url,this.headers,t,this.fetch)}get vectors(){return new NOe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new AOe(this.url+"/iceberg",this.headers,this.fetch)}};const EK="2.89.0",U1=30*1e3,c4=3,r3=c4*U1,VOe="http://localhost:9999",QOe="supabase.auth.token",UOe={"X-Client-Info":`gotrue-js/${EK}`},u4="X-Supabase-Api-Version",AK={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ZOe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qOe=600*1e3;class nT extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Zn(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class WOe extends nT{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function HOe(t){return Zn(t)&&t.name==="AuthApiError"}class F_ extends nT{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ly extends nT{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Fu extends ly{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function GOe(t){return Zn(t)&&t.name==="AuthSessionMissingError"}class S1 extends ly{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yA extends ly{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class vA extends ly{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function XOe(t){return Zn(t)&&t.name==="AuthImplicitGrantRedirectError"}class OV extends ly{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class YOe extends ly{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class h4 extends ly{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function i3(t){return Zn(t)&&t.name==="AuthRetryableFetchError"}class SV extends ly{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class d4 extends ly{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const w5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),CV=` 	
\r=`.split(""),KOe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<CV.length;e+=1)t[CV[e].charCodeAt(0)]=-2;for(let e=0;e<w5.length;e+=1)t[w5[e].charCodeAt(0)]=e;return t})();function TV(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(w5[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(w5[r]),e.queuedBits-=6}}function PK(t,e,n){const r=KOe[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function kV(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{tSe(a,r,n)};for(let a=0;a<t.length;a+=1)PK(t.charCodeAt(a),i,o);return e.join("")}function JOe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function eSe(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}JOe(r,e)}}function tSe(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function fw(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)PK(t.charCodeAt(i),n,r);return new Uint8Array(e)}function nSe(t){const e=[];return eSe(t,n=>e.push(n)),new Uint8Array(e)}function X_(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>TV(i,n,r)),TV(null,n,r),e.join("")}function rSe(t){return Math.round(Date.now()/1e3)+t}function iSe(){return Symbol("auth-callback")}const el=()=>typeof window<"u"&&typeof document<"u",E_={tested:!1,writable:!1},MK=()=>{if(!el())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(E_.tested)return E_.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),E_.tested=!0,E_.writable=!0}catch{E_.tested=!0,E_.writable=!1}return E_.writable};function oSe(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const RK=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),sSe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Z1=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},A_=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ka=async(t,e)=>{await t.removeItem(e)};class MR{constructor(){this.promise=new MR.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}MR.promiseConstructor=Promise;function o3(t){const e=t.split(".");if(e.length!==3)throw new d4("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!ZOe.test(e[r]))throw new d4("JWT not in base64url format");return{header:JSON.parse(kV(e[0])),payload:JSON.parse(kV(e[1])),signature:fw(e[2]),raw:{header:e[0],payload:e[1]}}}async function aSe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function lSe(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await t(o);if(!e(o,null,a)){r(a);return}}catch(a){if(!e(o,a)){i(a);return}}})()})}function cSe(t){return("0"+t.toString(16)).substr(-2)}function uSe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,cSe).join("")}async function hSe(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function dSe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await hSe(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function C1(t,e,n=!1){const r=uSe();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Z1(t,`${e}-code-verifier`,i);const o=await dSe(r);return[o,r===o?"plain":"s256"]}const fSe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function pSe(t){const e=t.headers.get(u4);if(!e||!e.match(fSe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function mSe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function gSe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ySe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function T1(t){if(!ySe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function s3(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function vSe(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function EV(t){return JSON.parse(JSON.stringify(t))}const $_=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),_Se=[502,503,504];async function AV(t){var e;if(!sSe(t))throw new h4($_(t),0);if(_Se.includes(t.status))throw new h4($_(t),t.status);let n;try{n=await t.json()}catch(o){throw new F_($_(o),o)}let r;const i=pSe(t);if(i&&i.getTime()>=AK["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new SV($_(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Fu}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new SV($_(n),t.status,n.weak_password.reasons);throw new WOe($_(n),t.status||500,r)}const xSe=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function hr(t,e,n,r){var i;const o=Object.assign({},r?.headers);o[u4]||(o[u4]=AK["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(a.redirect_to=r.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await bSe(t,e,n+s,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}async function bSe(t,e,n,r,i,o){const a=xSe(e,r,i,o);let s;try{s=await t(n,Object.assign({},a))}catch(u){throw console.error(u),new h4($_(u),0)}if(s.ok||await AV(s),r?.noResolveJson)return s;try{return await s.json()}catch(u){await AV(u)}}function df(t){var e;let n=null;SSe(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=rSe(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function PV(t){const e=df(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function T0(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function wSe(t){return{data:t,error:null}}function OSe(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,a=RO(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},u=Object.assign({},a);return{data:{properties:s,user:u},error:null}}function MV(t){return t}function SSe(t){return t.access_token&&t.refresh_token&&t.expires_in}const a3=["global","local","others"];class CSe{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=RK(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=a3[0]){if(a3.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${a3.join(", ")}`);try{return await hr(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Zn(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await hr(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:T0})}catch(r){if(Zn(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=RO(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await hr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:OSe,redirectTo:n?.redirectTo})}catch(n){if(Zn(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await hr(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:T0})}catch(n){if(Zn(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,a,s,u;try{const d={nextPage:null,lastPage:0,total:0},g=await hr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:MV});if(g.error)throw g.error;const v=await g.json(),x=(a=g.headers.get("x-total-count"))!==null&&a!==void 0?a:0,O=(u=(s=g.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&u!==void 0?u:[];return O.length>0&&(O.forEach(E=>{const A=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),M=JSON.parse(E.split(";")[1].split("=")[1]);d[`${M}Page`]=A}),d.total=parseInt(x)),{data:Object.assign(Object.assign({},v),d),error:null}}catch(d){if(Zn(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){T1(e);try{return await hr(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:T0})}catch(n){if(Zn(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){T1(e);try{return await hr(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:T0})}catch(r){if(Zn(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){T1(e);try{return await hr(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:T0})}catch(r){if(Zn(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){T1(e.userId);try{const{data:n,error:r}=await hr(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Zn(n))return{data:null,error:n};throw n}}async _deleteFactor(e){T1(e.userId),T1(e.id);try{return{data:await hr(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Zn(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,o,a,s,u;try{const d={nextPage:null,lastPage:0,total:0},g=await hr(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:MV});if(g.error)throw g.error;const v=await g.json(),x=(a=g.headers.get("x-total-count"))!==null&&a!==void 0?a:0,O=(u=(s=g.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&u!==void 0?u:[];return O.length>0&&(O.forEach(E=>{const A=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),M=JSON.parse(E.split(";")[1].split("=")[1]);d[`${M}Page`]=A}),d.total=parseInt(x)),{data:Object.assign(Object.assign({},v),d),error:null}}catch(d){if(Zn(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await hr(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Zn(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await hr(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Zn(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await hr(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Zn(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await hr(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Zn(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await hr(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Zn(n))return{data:null,error:n};throw n}}}function RV(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const k1={debug:!!(globalThis&&MK()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class IK extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class TSe extends IK{}async function kSe(t,e,n){k1.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),k1.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){k1.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{k1.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw k1.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new TSe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(k1.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function ESe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function DK(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function ASe(t){return parseInt(t,16)}function PSe(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function MSe(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:s,requestId:u,resources:d,scheme:g,uri:v,version:x}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const O=DK(t.address),E=g?`${g}://${r}`:r,A=t.statement?`${t.statement}
`:"",M=`${E} wants you to sign in with your Ethereum account:
${O}

${A}`;let L=`URI: ${v}
Version: ${x}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(L+=`
Expiration Time: ${i.toISOString()}`),s&&(L+=`
Not Before: ${s.toISOString()}`),u&&(L+=`
Request ID: ${u}`),d){let $=`
Resources:`;for(const N of d){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);$+=`
- ${N}`}L+=$}return`${M}
${L}`}class qs extends Error{constructor({message:e,code:n,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class O5 extends qs{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function RSe({error:t,options:e}){var n,r,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new qs({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new qs({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new qs({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new qs({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new qs({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new qs({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new qs({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new qs({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(LK(a)){if(o.rp.id!==a)return new qs({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new qs({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new qs({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new qs({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new qs({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function ISe({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new qs({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new qs({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(LK(r)){if(n.rpId!==r)return new qs({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new qs({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new qs({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new qs({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class DSe{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const LSe=new DSe;function $Se(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=RO(t,["challenge","user","excludeCredentials"]),o=fw(e).buffer,a=Object.assign(Object.assign({},n),{id:fw(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:o,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const d=r[u];s.excludeCredentials[u]=Object.assign(Object.assign({},d),{id:fw(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return s}function zSe(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=RO(t,["challenge","allowCredentials"]),i=fw(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const s=n[a];o.allowCredentials[a]=Object.assign(Object.assign({},s),{id:fw(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return o}function NSe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:X_(new Uint8Array(t.response.attestationObject)),clientDataJSON:X_(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function BSe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:X_(new Uint8Array(i.authenticatorData)),clientDataJSON:X_(new Uint8Array(i.clientDataJSON)),signature:X_(new Uint8Array(i.signature)),userHandle:i.userHandle?X_(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function LK(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function IV(){var t,e;return!!(el()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function FSe(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new O5("Browser returned unexpected credential type",e)}:{data:null,error:new O5("Empty credential response",e)}}catch(e){return{data:null,error:RSe({error:e,options:t})}}}async function jSe(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new O5("Browser returned unexpected credential type",e)}:{data:null,error:new O5("Empty credential response",e)}}catch(e){return{data:null,error:ISe({error:e,options:t})}}}const VSe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},QSe={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function S5(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const o in i){const a=i[o];if(a!==void 0)if(Array.isArray(a))r[o]=a;else if(n(a))r[o]=a;else if(e(a)){const s=r[o];e(s)?r[o]=S5(s,a):r[o]=S5(a)}else r[o]=a}return r}function USe(t,e){return S5(VSe,t,e||{})}function ZSe(t,e){return S5(QSe,t,e||{})}class qSe{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},o){try{const{data:a,error:s}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:s};const u=i??LSe.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:d}=a.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(a.webauthn.type){case"create":{const d=USe(a.webauthn.credential_options.publicKey,o?.create),{data:g,error:v}=await FSe({publicKey:d,signal:u});return g?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}case"request":{const d=ZSe(a.webauthn.credential_options.publicKey,o?.request),{data:g,error:v}=await jSe(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:d,signal:u}));return g?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}}}catch(a){return Zn(a)?{data:null,error:a}:{data:null,error:new F_("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new nT("rpId is required for WebAuthn authentication")};try{if(!IV())return{data:null,error:new F_("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!a)return{data:null,error:s};const{webauthn:u}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(a){return Zn(a)?{data:null,error:a}:{data:null,error:new F_("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new nT("rpId is required for WebAuthn registration")};try{if(!IV())return{data:null,error:new F_("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(g=>{var v;return(v=g.data)===null||v===void 0?void 0:v.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===e&&x.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:s};const{data:u,error:d}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return u?this._verify({factorId:a.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(a){return Zn(a)?{data:null,error:a}:{data:null,error:new F_("Unexpected error in register",a)}}}}ESe();const WSe={url:VOe,storageKey:QOe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:UOe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function DV(t,e,n){return await n()}const E1={};class rT{get jwks(){var e,n;return(n=(e=E1[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){E1[this.storageKey]=Object.assign(Object.assign({},E1[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=E1[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){E1[this.storageKey]=Object.assign(Object.assign({},E1[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},WSe),e);if(this.storageKey=o.storageKey,this.instanceID=(n=rT.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,rT.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&el()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new CSe({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=RK(o.fetch),this.lock=o.lock||DV,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&el()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=kSe:this.lock=DV,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new qSe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:MK()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=RV(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=RV(this.memoryStorage)),el()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${EK}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(el()&&(n=oSe(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),el()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),XOe(o)){const u=(e=o.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Zn(n)?this._returnResult({error:n}):this._returnResult({error:new F_("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const o=await hr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:df}),{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const u=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(o){if(Zn(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,r,i;try{let o;if("email"in e){const{email:g,password:v,options:x}=e;let O=null,E=null;this.flowType==="pkce"&&([O,E]=await C1(this.storage,this.storageKey)),o=await hr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:g,password:v,data:(n=x?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:O,code_challenge_method:E},xform:df})}else if("phone"in e){const{phone:g,password:v,options:x}=e;o=await hr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(r=x?.data)!==null&&r!==void 0?r:{},channel:(i=x?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:df})}else throw new yA("You must provide either an email or phone number and a password");const{data:a,error:s}=o;if(s||!a)return await Ka(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const u=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(o){if(await Ka(this.storage,`${this.storageKey}-code-verifier`),Zn(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:a,options:s}=e;n=await hr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:PV})}else if("phone"in e){const{phone:o,password:a,options:s}=e;n=await hr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:PV})}else throw new yA("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new S1;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Zn(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,o,a,s,u,d,g,v,x;let O,E;if("message"in e)O=e.message,E=e.signature;else{const{chain:A,wallet:M,statement:L,options:$}=e;let N;if(el())if(typeof M=="object")N=M;else{const re=window;if("ethereum"in re&&typeof re.ethereum=="object"&&"request"in re.ethereum&&typeof re.ethereum.request=="function")N=re.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!$?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=M}const F=new URL((n=$?.url)!==null&&n!==void 0?n:window.location.href),U=await N.request({method:"eth_requestAccounts"}).then(re=>re).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!U||U.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const q=DK(U[0]);let W=(r=$?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!W){const re=await N.request({method:"eth_chainId"});W=ASe(re)}const te={domain:F.host,address:q,statement:L,uri:F.href,version:"1",chainId:W,nonce:(i=$?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(o=$?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(s=$?.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(u=$?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(d=$?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(g=$?.signInWithEthereum)===null||g===void 0?void 0:g.resources};O=MSe(te),E=await N.request({method:"personal_sign",params:[PSe(O),q]})}try{const{data:A,error:M}=await hr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:O,signature:E},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:df});if(M)throw M;if(!A||!A.session||!A.user){const L=new S1;return this._returnResult({data:{user:null,session:null},error:L})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:M})}catch(A){if(Zn(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async signInWithSolana(e){var n,r,i,o,a,s,u,d,g,v,x,O;let E,A;if("message"in e)E=e.message,A=e.signature;else{const{chain:M,wallet:L,statement:$,options:N}=e;let F;if(el())if(typeof L=="object")F=L;else{const q=window;if("solana"in q&&typeof q.solana=="object"&&("signIn"in q.solana&&typeof q.solana.signIn=="function"||"signMessage"in q.solana&&typeof q.solana.signMessage=="function"))F=q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=L}const U=new URL((n=N?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in F&&F.signIn){const q=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:U.host,uri:U.href}),$?{statement:$}:null));let W;if(Array.isArray(q)&&q[0]&&typeof q[0]=="object")W=q[0];else if(q&&typeof q=="object"&&"signedMessage"in q&&"signature"in q)W=q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in W&&"signature"in W&&(typeof W.signedMessage=="string"||W.signedMessage instanceof Uint8Array)&&W.signature instanceof Uint8Array)E=typeof W.signedMessage=="string"?W.signedMessage:new TextDecoder().decode(W.signedMessage),A=W.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${U.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...$?["",$,""]:[""],"Version: 1",`URI: ${U.href}`,`Issued At: ${(i=(r=N?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=N?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((a=N?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((s=N?.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((u=N?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((d=N?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((v=(g=N?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...N.signInWithSolana.resources.map(W=>`- ${W}`)]:[]].join(`
`);const q=await F.signMessage(new TextEncoder().encode(E),"utf8");if(!q||!(q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=q}}try{const{data:M,error:L}=await hr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:X_(A)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(O=e.options)===null||O===void 0?void 0:O.captchaToken}}:null),xform:df});if(L)throw L;if(!M||!M.session||!M.user){const $=new S1;return this._returnResult({data:{user:null,session:null},error:$})}return M.session&&(await this._saveSession(M.session),await this._notifyAllSubscribers("SIGNED_IN",M.session)),this._returnResult({data:Object.assign({},M),error:L})}catch(M){if(Zn(M))return this._returnResult({data:{user:null,session:null},error:M});throw M}}async _exchangeCodeForSession(e){const n=await A_(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new YOe;const{data:o,error:a}=await hr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:df});if(await Ka(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const s=new S1;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:a})}catch(o){if(await Ka(this.storage,`${this.storageKey}-code-verifier`),Zn(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:o,nonce:a}=e,s=await hr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:df}),{data:u,error:d}=s;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u||!u.session||!u.user){const g=new S1;return this._returnResult({data:{user:null,session:null},error:g})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:d})}catch(n){if(Zn(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,o,a;try{if("email"in e){const{email:s,options:u}=e;let d=null,g=null;this.flowType==="pkce"&&([d,g]=await C1(this.storage,this.storageKey));const{error:v}=await hr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(r=u?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:d,code_challenge_method:g},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:s,options:u}=e,{data:d,error:g}=await hr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(o=u?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(a=u?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:g})}throw new yA("You must provide either an email or phone number.")}catch(s){if(await Ka(this.storage,`${this.storageKey}-code-verifier`),Zn(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var n,r;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:s}=await hr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:df});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,d=a.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(i){if(Zn(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,o,a;try{let s=null,u=null;this.flowType==="pkce"&&([s,u]=await C1(this.storage,this.storageKey));const d=await hr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:u}),headers:this.headers,xform:wSe});return!((o=d.data)===null||o===void 0)&&o.url&&el()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(s){if(await Ka(this.storage,`${this.storageKey}-code-verifier`),Zn(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Fu;const{error:i}=await hr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Zn(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:a}=await hr(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:a,error:s}=await hr(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:s})}throw new yA("You must provide either an email or phone number and a type")}catch(n){if(Zn(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await A_(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<r3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await A_(this.userStorage,this.storageKey+"-user");a?.user?e.user=a.user:e.user=s3()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=vSe(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await hr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:T0}):await this._useSession(async n=>{var r,i,o;const{data:a,error:s}=n;if(s)throw s;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Fu}:await hr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:T0})})}catch(n){if(Zn(n))return GOe(n)&&(await this._removeSession(),await Ka(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new Fu;const a=i.session;let s=null,u=null;this.flowType==="pkce"&&e.email!=null&&([s,u]=await C1(this.storage,this.storageKey));const{data:d,error:g}=await hr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:u}),jwt:a.access_token,xform:T0});if(g)throw g;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await Ka(this.storage,`${this.storageKey}-code-verifier`),Zn(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Fu;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:a}=o3(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:s,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:u}=await this._getUser(e.access_token);if(u)throw u;o={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(Zn(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:s}=n;if(s)throw s;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new Fu;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Zn(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!el())throw new vA("No browser detected.");if(e.error||e.error_description||e.error_code)throw new vA(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new OV("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vA("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new OV("No code detected.");const{data:$,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:$.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:s,expires_at:u,token_type:d}=e;if(!o||!s||!a||!d)throw new vA("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(s);let x=g+v;u&&(x=parseInt(u));const O=x-g;O*1e3<=U1&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${O}s, should have been closer to ${v}s`);const E=x-v;g-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,x,g):g-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,x,g);const{data:A,error:M}=await this._getUser(o);if(M)throw M;const L={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:v,expires_at:x,refresh_token:a,token_type:d,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:L,redirectType:e.type},error:null})}catch(r){if(Zn(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await A_(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({error:o});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:s}=await this.admin.signOut(a,e);if(s&&!(HOe(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return e!=="others"&&(await this._removeSession(),await Ka(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=iSe(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await C1(this.storage,this.storageKey,!0));try{return await hr(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await Ka(this.storage,`${this.storageKey}-code-verifier`),Zn(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(Zn(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var a,s,u,d,g;const{data:v,error:x}=o;if(x)throw x;const O=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await hr(this.fetch,"GET",O,{headers:this.headers,jwt:(g=(d=v.session)===null||d===void 0?void 0:d.access_token)!==null&&g!==void 0?g:void 0})});if(i)throw i;return el()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:e.provider,url:r?.url},error:null})}catch(r){if(Zn(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:a,provider:s,token:u,access_token:d,nonce:g}=e,v=await hr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:u,access_token:d,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:df}),{data:x,error:O}=v;return O?this._returnResult({data:{user:null,session:null},error:O}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new S1}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:O}))}catch(i){if(await Ka(this.storage,`${this.storageKey}-code-verifier`),Zn(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)throw a;return await hr(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Zn(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await lSe(async i=>(i>0&&await aSe(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await hr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:df})),(i,o)=>{const a=200*Math.pow(2,i);return o&&i3(o)&&Date.now()+a-r<U1})}catch(r){if(this._debug(n,"error",r),Zn(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),el()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await A_(this.storage,this.storageKey);if(i&&this.userStorage){let a=await A_(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Z1(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a?.user)!==null&&e!==void 0?e:s3()}else if(i&&!i.user&&!i.user){const a=await A_(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,await Ka(this.storage,this.storageKey+"-user"),await Z1(this.storage,this.storageKey,i)):i.user=s3()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<r3;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${r3}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),i3(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:s}=await this._getUser(i.access_token);!s&&a?.user?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Fu;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new MR;const{data:o,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new Fu;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={data:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),Zn(o)){const a={data:null,error:o};return i3(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,n)}catch(u){o.push(u)}});if(await Promise.all(a),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ka(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Z1(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=EV(i);await Z1(this.storage,this.storageKey,o)}else{const i=EV(n);await Z1(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ka(this.storage,this.storageKey),await Ka(this.storage,this.storageKey+"-code-verifier"),await Ka(this.storage,this.storageKey+"-user"),this.userStorage&&await Ka(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&el()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),U1);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/U1);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${U1}ms, refresh threshold is ${c4} ticks`),i<=c4&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof IK)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!el()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await C1(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(s.toString())}if(r?.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await hr(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Zn(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:u,error:d}=await hr(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(e.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(Zn(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?NSe(e.webauthn.credential_response):BSe(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:u}=await hr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:u}))})}catch(n){if(Zn(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=await hr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:s}=a;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:$Se(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:zSe(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Zn(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n?.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=o3(r.access_token);let a=null;o.aal&&(a=o.aal);let s=a;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(s="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await hr(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Fu})})}catch(n){if(Zn(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Fu});const a=await hr(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&el()&&!n?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(r){if(Zn(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Fu});const a=await hr(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&el()&&!n?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(r){if(Zn(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await hr(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Fu})})}catch(e){if(Zn(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await hr(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Fu})})}catch(n){if(Zn(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+qOe>i)return r;const{data:o,error:a}=await hr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(s=>s.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:O,error:E}=await this.getSession();if(E||!O.session)return this._returnResult({data:null,error:E});r=O.session.access_token}const{header:i,payload:o,signature:a,raw:{header:s,payload:u}}=o3(r);n?.allowExpired||mSe(o.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!d){const{error:O}=await this.getUser(r);if(O)throw O;return{data:{claims:o,header:i,signature:a},error:null}}const g=gSe(i.alg),v=await crypto.subtle.importKey("jwk",d,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,a,nSe(`${s}.${u}`)))throw new d4("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(r){if(Zn(r))return this._returnResult({data:null,error:r});throw r}}}rT.nextInstanceID={};const HSe=rT,GSe="2.89.0";let eC="";typeof Deno<"u"?eC="deno":typeof document<"u"?eC="web":typeof navigator<"u"&&navigator.product==="ReactNative"?eC="react-native":eC="node";const XSe={"X-Client-Info":`supabase-js-${eC}/${GSe}`},YSe={headers:XSe},KSe={schema:"public"},JSe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e2e={};function iT(t){"@babel/helpers - typeof";return iT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iT(t)}function t2e(t,e){if(iT(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function n2e(t){var e=t2e(t,"string");return iT(e)=="symbol"?e:e+""}function r2e(t,e,n){return(e=n2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Os(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LV(Object(n),!0).forEach(function(r){r2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const i2e=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),o2e=()=>Headers,s2e=(t,e,n)=>{const r=i2e(n),i=o2e();return async(o,a)=>{var s;const u=(s=await e())!==null&&s!==void 0?s:t;let d=new i(a?.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),r(o,Os(Os({},a),{},{headers:d}))}};function a2e(t){return t.endsWith("/")?t:t+"/"}function l2e(t,e){var n,r;const{db:i,auth:o,realtime:a,global:s}=t,{db:u,auth:d,realtime:g,global:v}=e,x={db:Os(Os({},u),i),auth:Os(Os({},d),o),realtime:Os(Os({},g),a),storage:{},global:Os(Os(Os({},v),s),{},{headers:Os(Os({},(n=v?.headers)!==null&&n!==void 0?n:{}),(r=s?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?x.accessToken=t.accessToken:delete x.accessToken,x}function c2e(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(a2e(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var u2e=class extends HSe{constructor(t){super(t)}},h2e=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const o=c2e(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const a=`sb-${o.hostname.split(".")[0]}-auth-token`,s={db:KSe,realtime:e2e,auth:Os(Os({},JSe),{},{storageKey:a}),global:YSe},u=l2e(n??{},s);if(this.storageKey=(r=u.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken)this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var d;this.auth=this._initSupabaseAuthClient((d=u.auth)!==null&&d!==void 0?d:{},this.headers,u.global.fetch)}this.fetch=s2e(e,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Os({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new Uwe(new URL("rest/v1",o).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new jOe(this.storageUrl.href,this.headers,this.fetch,n?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Bwe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:a,lock:s,debug:u,throwOnError:d},g,v){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new u2e({url:this.authUrl.href,headers:Os(Os({},x),g),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:s,debug:u,throwOnError:d,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(O=>O.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new aOe(this.realtimeUrl.href,Os(Os({},t),{},{params:Os(Os({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const d2e=(t,e,n)=>new h2e(t,e,n);function f2e(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}f2e()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const p2e="https://llgcvbswrfgswttnevud.supabase.co",m2e="sb_publishable_6OnPZh7s5SgKVm6eagWfYQ_PQU-qJzK",bi=d2e(p2e,m2e),$K=j.createContext(void 0),g2e=({children:t})=>{const[e,n]=j.useState(null),[r,i]=j.useState(null),[o,a]=j.useState(null),[s,u]=j.useState([]),[d,g]=j.useState(null),[v,x]=j.useState(null),[O,E]=j.useState(!0),A=async()=>{try{const{data:q,error:W}=await bi.from("check_in").select("*").order("created_at",{ascending:!1}).limit(1).single();W?(W.code!=="PGRST116"&&console.error("Error fetching latest check-in:",W),a(null)):a(q);const{data:te,error:re}=await bi.from("check_in").select("status");if(re)console.error("Error fetching visited stops:",re),u([]);else if(te){const ce=[...new Set(te.map(be=>be.status))];u(ce)}}catch(q){console.error("Unexpected error fetching check-ins:",q)}},M=async q=>{try{const{data:W,error:te}=await bi.from("user_profile").select("*").eq("id",q).single();te?(te.code!=="PGRST116"&&console.error("Error fetching user profile:",te),g(null)):g(W)}catch(W){console.error("Unexpected error fetching profile:",W)}},L=async q=>{try{const{data:W,error:te}=await bi.from("user_role").select("role").eq("user_id",q).maybeSingle();te?(console.error("Error fetching user role:",te),x(null)):x(W?W.role:null)}catch(W){console.error("Unexpected error fetching role:",W),x(null)}};j.useEffect(()=>{let q=!0;const W=async ce=>{try{await Promise.all([A(),M(ce),L(ce)])}catch(be){console.error("Error fetching user data:",be)}},re=(async()=>{const{data:{session:ce}}=await bi.auth.getSession();q&&(i(ce),n(ce?.user??null),ce&&await W(ce.user.id),E(!1));const{data:{subscription:be}}=bi.auth.onAuthStateChange(async(ie,me)=>{q&&(ie==="SIGNED_OUT"?(i(null),n(null),a(null),u([]),g(null),x(null),E(!1)):me&&(ie==="SIGNED_IN"||ie==="TOKEN_REFRESHED"||ie==="INITIAL_SESSION")&&(ie==="SIGNED_IN"||ie==="INITIAL_SESSION"?(E(!0),i(me),n(me.user),await W(me.user.id)):(i(me),n(me.user)),E(!1)))});return be})();return()=>{q=!1,re.then(ce=>ce?.unsubscribe())}},[]);const $=async()=>{try{const{error:q}=await bi.auth.signOut();q&&console.error("Error signing out:",q)}catch(q){console.error("Unexpected error during sign out:",q)}finally{i(null),n(null),a(null),u([]),g(null),x(null),E(!1)}},N=async()=>{await A()},F=async()=>{e&&await M(e.id)},U=async()=>{e&&await L(e.id)};return Y.jsx($K.Provider,{value:{user:e,session:r,latestCheckIn:o,visitedStops:s,profile:d,role:v,loading:O,signOut:$,refreshCheckIn:N,refreshProfile:F,refreshRole:U},children:t})},iv=()=>{const t=j.useContext($K);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},ti={Zrich:[8.5417,47.3769],Tokyo:[139.6917,35.6895],Osaka:[135.5022,34.6937],Papeete:[-149.5667,-17.5333],Auckland:[174.7633,-36.8485],Tahiti:[-149.4068,-17.6509],"Bora-Bora":[-151.7415,-16.5004],Queenstown:[168.6626,-45.0312],Christchurch:[172.6362,-43.5321],Wellington:[174.7762,-41.2865],Sydney:[151.2093,-33.8688],Singapore:[103.8198,1.3521],Frankfurt:[8.6821,50.1109]},fB=[{category:"Stop",key:"Zrich",section:null,name:"Zrich",geolocation:ti.Zrich,startDate:new Date("2025-12-28"),endDate:new Date("2025-12-28")},{key:"ZRH-TYO",category:"Trip",section:null,name:"LX999 ZRH-TYO",startLocation:"Zrich",endLocation:"Tokyo",transportationMode:"Plane",geometricShape:{type:"LineString",coordinates:[ti.Zrich,ti.Tokyo]},startDateTime:new Date("2025-12-28 13:00 CET"),endTime:new Date("2025-12-29 10:15 JST")},{key:"TYO-OSA",category:"Trip",section:"Japan ",startLocation:"Tokyo",endLocation:"Osaka",transportationMode:"Train",geometricShape:{type:"LineString",coordinates:[ti.Tokyo,ti.Osaka]},startDateTime:new Date("2025-12-29 13:48 JST"),endTime:new Date("2025-12-29 16:15 JST")},{category:"Stop",key:"Osaka",section:"Japan ",name:"Osaka",geolocation:ti.Osaka,startDate:new Date("2025-12-29"),endDate:new Date("2026-01-03")},{key:"OSA-TYO",category:"Trip",section:"Japan ",startLocation:"Osaka",endLocation:"Tokyo",transportationMode:"Train",geometricShape:{type:"LineString",coordinates:[ti.Osaka,ti.Tokyo]},startDateTime:new Date("2026-01-03 11:51 JST"),endTime:new Date("2026-01-03 14:21 JST")},{category:"Stop",key:"Tokyo",section:"Japan ",name:"Tokyo",geolocation:ti.Tokyo,startDate:new Date("2026-01-03"),endDate:new Date("2026-01-06")},{key:"TYO-PPT",category:"Trip",section:null,startLocation:"Tokyo",endLocation:"Papeete",transportationMode:"Plane",geometricShape:{type:"LineString",coordinates:[ti.Tokyo,ti.Papeete]},startDateTime:new Date("2026-01-06 20:00 JST"),endTime:new Date("2026-01-06 11:40 GMT-10")},{key:"PPT-AKL",category:"Trip",section:null,startLocation:"Papeete",endLocation:"Auckland",transportationMode:"Plane",geometricShape:{type:"LineString",coordinates:[ti.Papeete,ti.Auckland]},startDateTime:new Date("2026-01-24 09:10 GMT-10"),endTime:new Date("2026-01-25 13:40 GMT+13")},{category:"Stop",key:"Tahiti",section:"French Polynesia ",name:"Tahiti",geolocation:ti.Tahiti,startDate:new Date("2026-01-03"),endDate:new Date("2026-01-06")},{category:"Stop",key:"Bora-Bora",section:"French Polynesia ",name:"Bora-Bora",geolocation:ti["Bora-Bora"],startDate:new Date("2026-01-03"),endDate:new Date("2026-01-06")},{category:"Stop",key:"Queenstown",section:"South Island ",name:"Queenstown",geolocation:ti.Queenstown,startDate:new Date("2026-01-03"),endDate:new Date("2026-01-06")},{category:"Stop",key:"Christchurch",section:"South Island ",name:"Christchurch",geolocation:ti.Christchurch,startDate:new Date("2026-01-03"),endDate:new Date("2026-01-06")},{category:"Stop",key:"Auckland",section:"North Island ",name:"Auckland",geolocation:ti.Auckland,startDate:new Date("2026-01-03"),endDate:new Date("2026-01-06")},{category:"Stop",key:"Wellington",section:"Cruise ",name:"Wellington",geolocation:ti.Wellington,startDate:new Date("2026-01-03"),endDate:new Date("2026-01-06")},{category:"Stop",key:"Sydney",section:"Cruise ",name:"Sydney",geolocation:ti.Sydney,startDate:new Date("2026-01-03"),endDate:new Date("2026-01-06")},{key:"SYD-SIN",category:"Trip",section:null,startLocation:"Sydney",endLocation:"Singapore",transportationMode:"Plane",geometricShape:{type:"LineString",coordinates:[ti.Sydney,ti.Singapore]},startDateTime:new Date("2026-01-26 15:50 AEDT"),endTime:new Date("2026-01-26 21:00 SGT")},{category:"Stop",key:"Singapore",section:"Singapore ",name:"Singapore",geolocation:ti.Singapore,startDate:new Date("2026-01-03"),endDate:new Date("2026-01-06")},{key:"SIN-FRA",category:"Trip",section:null,startLocation:"Singapore",endLocation:"Frankfurt",transportationMode:"Plane",geometricShape:{type:"LineString",coordinates:[ti.Singapore,ti.Frankfurt]},startDateTime:new Date("2026-01-26 23:55 SGT"),endTime:new Date("2026-01-27 06:05 CET")},{key:"FRA-ZRH",category:"Trip",section:null,startLocation:"Frankfurt",endLocation:"Zrich",transportationMode:"Plane",geometricShape:{type:"LineString",coordinates:[ti.Frankfurt,ti.Zrich]},startDateTime:new Date("2026-01-27 08:00 CET"),endTime:new Date("2026-01-27 08:50 CET")},{key:"AKL-ZQN",category:"Trip",section:"South Island ",startLocation:"Auckland",endLocation:"Queenstown",transportationMode:"Plane",geometricShape:{type:"LineString",coordinates:[ti.Auckland,ti.Queenstown]},startDateTime:new Date("2026-01-20 09:00 NZDT"),endTime:new Date("2026-01-20 10:50 NZDT")},{key:"CHC-AKL",category:"Trip",section:"North Island ",startLocation:"Christchurch",endLocation:"Auckland",transportationMode:"Plane",geometricShape:{type:"LineString",coordinates:[ti.Christchurch,ti.Auckland]},startDateTime:new Date("2026-01-23 16:00 NZDT"),endTime:new Date("2026-01-23 17:25 NZDT")},{key:"PPT-BOB",category:"Trip",section:"French Polynesia ",startLocation:"Papeete",endLocation:"Bora-Bora",transportationMode:"Plane",geometricShape:{type:"LineString",coordinates:[ti.Papeete,ti["Bora-Bora"]]},startDateTime:new Date("2026-01-08 10:00 GMT-10"),endTime:new Date("2026-01-08 10:50 GMT-10")},{key:"BOB-PPT",category:"Trip",section:"French Polynesia ",startLocation:"Bora-Bora",endLocation:"Papeete",transportationMode:"Plane",geometricShape:{type:"LineString",coordinates:[ti["Bora-Bora"],ti.Papeete]},startDateTime:new Date("2026-01-22 14:00 GMT-10"),endTime:new Date("2026-01-22 14:50 GMT-10")},{key:"CHC-DUN",category:"Trip",section:"South Island ",startLocation:"Christchurch",endLocation:"Dunedin",transportationMode:"Boat",geometricShape:{type:"LineString",coordinates:[[172.719,-43.603],[172.95,-43.65],[173.2,-43.9],[172.4,-44.6],[171.4,-45.3],[170.75,-45.77],[170.619,-45.818]]},startDateTime:new Date("2026-01-20 08:00 NZDT"),endTime:new Date("2026-01-20 18:00 NZDT")},{category:"Stop",key:"Dunedin",section:"South Island ",name:"Dunedin",geolocation:[170.5027,-45.8742],startDate:new Date("2026-01-20"),endDate:new Date("2026-01-22")}],_A=43200,$V=1440,zV=Symbol.for("constructDateFrom");function pB(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&zV in t?t[zV](e):t instanceof Date?new t.constructor(e):new Date(e)}function V0(t,e){return pB(t,t)}let y2e={};function v2e(){return y2e}function NV(t){const e=V0(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function mB(t,...e){const n=pB.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function DP(t,e){const n=+V0(t)-+V0(e);return n<0?-1:n>0?1:n}function _2e(t){return pB(t,Date.now())}function x2e(t,e,n){const[r,i]=mB(n?.in,t,e),o=r.getFullYear()-i.getFullYear(),a=r.getMonth()-i.getMonth();return o*12+a}function b2e(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function w2e(t,e){return+V0(t)-+V0(e)}function O2e(t,e){const n=V0(t);return n.setHours(23,59,59,999),n}function S2e(t,e){const n=V0(t),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function C2e(t,e){const n=V0(t);return+O2e(n)==+S2e(n)}function T2e(t,e,n){const[r,i,o]=mB(n?.in,t,t,e),a=DP(i,o),s=Math.abs(x2e(i,o));if(s<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-a*s);let u=DP(i,o)===-a;C2e(r)&&s===1&&DP(r,o)===1&&(u=!1);const d=a*(s-+u);return d===0?0:d}function k2e(t,e,n){const r=w2e(t,e)/1e3;return b2e(n?.roundingMethod)(r)}const E2e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},A2e=(t,e,n)=>{let r;const i=E2e[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function l3(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const P2e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},M2e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},R2e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},I2e={date:l3({formats:P2e,defaultWidth:"full"}),time:l3({formats:M2e,defaultWidth:"full"}),dateTime:l3({formats:R2e,defaultWidth:"full"})},D2e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},L2e=(t,e,n,r)=>D2e[t];function C2(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,s=n?.width?String(n.width):a;i=t.formattingValues[s]||t.formattingValues[a]}else{const a=t.defaultWidth,s=n?.width?String(n.width):t.defaultWidth;i=t.values[s]||t.values[a]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const $2e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},z2e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},N2e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},B2e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},F2e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},j2e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},V2e=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Q2e={ordinalNumber:V2e,era:C2({values:$2e,defaultWidth:"wide"}),quarter:C2({values:z2e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:C2({values:N2e,defaultWidth:"wide"}),day:C2({values:B2e,defaultWidth:"wide"}),dayPeriod:C2({values:F2e,defaultWidth:"wide",formattingValues:j2e,defaultFormattingWidth:"wide"})};function T2(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const a=o[0],s=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(s)?Z2e(s,v=>v.test(a)):U2e(s,v=>v.test(a));let d;d=t.valueCallback?t.valueCallback(u):u,d=n.valueCallback?n.valueCallback(d):d;const g=e.slice(a.length);return{value:d,rest:g}}}function U2e(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Z2e(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function q2e(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let a=t.valueCallback?t.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;const s=e.slice(i.length);return{value:a,rest:s}}}const W2e=/^(\d+)(th|st|nd|rd)?/i,H2e=/\d+/i,G2e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},X2e={any:[/^b/i,/^(a|c)/i]},Y2e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},K2e={any:[/1/i,/2/i,/3/i,/4/i]},J2e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},eCe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tCe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},nCe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rCe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},iCe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},oCe={ordinalNumber:q2e({matchPattern:W2e,parsePattern:H2e,valueCallback:t=>parseInt(t,10)}),era:T2({matchPatterns:G2e,defaultMatchWidth:"wide",parsePatterns:X2e,defaultParseWidth:"any"}),quarter:T2({matchPatterns:Y2e,defaultMatchWidth:"wide",parsePatterns:K2e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:T2({matchPatterns:J2e,defaultMatchWidth:"wide",parsePatterns:eCe,defaultParseWidth:"any"}),day:T2({matchPatterns:tCe,defaultMatchWidth:"wide",parsePatterns:nCe,defaultParseWidth:"any"}),dayPeriod:T2({matchPatterns:rCe,defaultMatchWidth:"any",parsePatterns:iCe,defaultParseWidth:"any"})},sCe={code:"en-US",formatDistance:A2e,formatLong:I2e,formatRelative:L2e,localize:Q2e,match:oCe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function aCe(t,e,n){const r=v2e(),i=n?.locale??r.locale??sCe,o=2520,a=DP(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const s=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:a}),[u,d]=mB(n?.in,...a>0?[e,t]:[t,e]),g=k2e(d,u),v=(NV(d)-NV(u))/1e3,x=Math.round((g-v)/60);let O;if(x<2)return n?.includeSeconds?g<5?i.formatDistance("lessThanXSeconds",5,s):g<10?i.formatDistance("lessThanXSeconds",10,s):g<20?i.formatDistance("lessThanXSeconds",20,s):g<40?i.formatDistance("halfAMinute",0,s):g<60?i.formatDistance("lessThanXMinutes",1,s):i.formatDistance("xMinutes",1,s):x===0?i.formatDistance("lessThanXMinutes",1,s):i.formatDistance("xMinutes",x,s);if(x<45)return i.formatDistance("xMinutes",x,s);if(x<90)return i.formatDistance("aboutXHours",1,s);if(x<$V){const E=Math.round(x/60);return i.formatDistance("aboutXHours",E,s)}else{if(x<o)return i.formatDistance("xDays",1,s);if(x<_A){const E=Math.round(x/$V);return i.formatDistance("xDays",E,s)}else if(x<_A*2)return O=Math.round(x/_A),i.formatDistance("aboutXMonths",O,s)}if(O=T2e(d,u),O<12){const E=Math.round(x/_A);return i.formatDistance("xMonths",E,s)}else{const E=O%12,A=Math.trunc(O/12);return E<3?i.formatDistance("aboutXYears",A,s):E<9?i.formatDistance("overXYears",A,s):i.formatDistance("almostXYears",A+1,s)}}function zK(t,e){return aCe(t,_2e(t),e)}const lCe=t=>{switch(t){case"Plane":return"";case"Train":return"";case"Boat":return"";case"Car":return"";default:return""}},cCe=({onMenuClick:t})=>{const{user:e,profile:n,latestCheckIn:r,signOut:i,role:o}=iv(),a=nk(),[s,u]=j.useState(null),[d,g]=j.useState(null),[v,x]=j.useState([]),O=async()=>{try{const[F,U,q]=await Promise.all([bi.from("check_in").select("*").order("created_at",{ascending:!1}).limit(4),bi.from("blog_post").select("*").order("created_date",{ascending:!1}).limit(4),bi.from("photo_album").select("*").order("created_at",{ascending:!1}).limit(4)]),W=[...(F.data||[]).map(te=>({id:`checkin-${te.id}`,type:"check-in",title:te.message||`Checked in: ${te.status}`,date:new Date(te.created_at),icon:Y.jsx(ER,{color:"primary"}),link:"/"})),...(U.data||[]).map(te=>({id:`blog-${te.id}`,type:"blog",title:`New Post: ${te.title}`,date:new Date(te.created_date),icon:Y.jsx(AR,{color:"secondary"}),link:`/blog?id=${te.id}`})),...(q.data||[]).map(te=>({id:`photo-${te.id}`,type:"photo",title:`Photo Album: ${te.title}`,date:new Date(te.created_at),icon:Y.jsx(Qw,{sx:{color:"#10b981"}}),link:te.icloud_link,external:!0}))].sort((te,re)=>re.date.getTime()-te.date.getTime()).slice(0,4);x(W)}catch(F){console.error("Error fetching notifications:",F)}};j.useEffect(()=>{e&&O()},[e]);const E=F=>{u(F.currentTarget)},A=()=>{u(null)},M=async()=>{await i(),A(),a("/")},L=F=>{g(F.currentTarget)},$=()=>{g(null)},N=j.useMemo(()=>{if(!r)return null;const F=fB.find(W=>W.key===r.status);if(!F)return null;let U="";F.category==="Stop"?U=`Now in ${F.name}!`:U=`Now in ${lCe(F.transportationMode)} ${F.startLocation} -> ${F.endLocation}!`;const q="".repeat(U.length*1.5);return`${U}${q}`},[r]);return Y.jsx(tve,{position:"fixed",sx:{zIndex:F=>F.zIndex.drawer+1},children:Y.jsxs(aB,{children:[Y.jsx(yC,{color:"inherit","aria-label":"open drawer",onClick:t,edge:"start",sx:{mr:2},children:Y.jsx(Iwe,{})}),Y.jsx(yr,{variant:"h6",noWrap:!0,component:"div",sx:{mr:4},children:"Pacific Trip 2026"}),Y.jsxs(qn,{sx:{display:{xs:"none",md:"flex"},gap:2},children:[Y.jsx(Po,{color:"inherit",component:lc,to:"/blog",children:"Blog"}),Y.jsx(Po,{color:"inherit",component:lc,to:"/photos",children:"Photos"}),Y.jsx(Po,{color:"inherit",component:lc,to:"/map",children:"Map"}),o==="admin"&&Y.jsx(Po,{color:"inherit",component:lc,to:"/admin",children:"Admin"})]}),Y.jsx(qn,{sx:{flexGrow:1,display:{xs:"flex",sm:"none"}}}),Y.jsx(qn,{sx:{flexGrow:1,display:{xs:"none",sm:"flex"},justifyContent:"center"},children:e&&N&&Y.jsx(qn,{sx:{display:"flex",alignItems:"center",bgcolor:"#ef4444",color:"white",px:1.5,py:.5,borderRadius:1,overflow:"hidden",width:{xs:150,sm:250,md:350},position:"relative"},children:Y.jsx(yr,{sx:{whiteSpace:"nowrap",fontSize:"0.85rem",fontWeight:600,animation:"ticker 5s linear","@keyframes ticker":{"0%":{transform:"translateX(100%)"},"100%":{}},"&:hover":{animationPlayState:"paused"}},children:N})})}),e?Y.jsxs(qn,{sx:{display:"flex",alignItems:"center",gap:2},children:[Y.jsx(yC,{color:"inherit",onClick:L,children:Y.jsx(Y_e,{badgeContent:v.length,color:"error",children:Y.jsx(Dwe,{})})}),Y.jsxs(dK,{open:!!d,anchorEl:d,onClose:$,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{width:320,borderRadius:2,mt:1.5}},children:[Y.jsx(qn,{sx:{p:2,bgcolor:"primary.main",color:"white"},children:Y.jsx(yr,{variant:"subtitle1",fontWeight:"bold",children:"Recent Updates"})}),Y.jsx(Gh,{}),Y.jsx(MO,{sx:{p:0},children:v.length>0?v.map((F,U)=>Y.jsxs(ae.Fragment,{children:[Y.jsxs(b5,{component:F.external?"a":lc,...F.external?{href:F.link,target:"_blank",rel:"noopener noreferrer"}:{to:F.link},onClick:$,sx:{"&:hover":{bgcolor:"action.hover"},textDecoration:"none",color:"inherit",display:"flex",alignItems:"center"},children:[Y.jsx(J1,{sx:{minWidth:40},children:F.icon}),Y.jsx(Xp,{primary:F.title,secondary:zK(F.date,{addSuffix:!0}),primaryTypographyProps:{variant:"body2",fontWeight:500},secondaryTypographyProps:{variant:"caption"}})]}),U<v.length-1&&Y.jsx(Gh,{})]},F.id)):Y.jsx(b5,{children:Y.jsx(Xp,{primary:"No recent activity",primaryTypographyProps:{variant:"body2",textAlign:"center",py:2}})})}),Y.jsx(Gh,{}),Y.jsx(Po,{fullWidth:!0,component:lc,to:"/updates",onClick:$,sx:{textTransform:"none",py:1,borderRadius:0},children:"View All Updates"})]}),Y.jsx(qn,{sx:{display:"flex",alignItems:"center",gap:1.5},children:Y.jsx(vK,{title:"Account settings",children:Y.jsx(yC,{onClick:E,sx:{p:0},children:Y.jsx(kR,{alt:n?.display_name||e.email||"",src:n?.avatar_url||e.user_metadata?.avatar_url,children:(n?.display_name||e.email||"U")[0].toUpperCase()})})})}),Y.jsxs(fK,{id:"menu-appbar",anchorEl:s,anchorOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!s,onClose:A,children:[Y.jsxs(qn,{sx:{px:2,py:1.5},children:[Y.jsx(yr,{variant:"subtitle2",noWrap:!0,sx:{fontWeight:600},children:n?.display_name||e.email}),n?.display_name&&Y.jsx(yr,{variant:"caption",color:"text.secondary",noWrap:!0,display:"block",children:e.email})]}),Y.jsx(Gh,{}),Y.jsx(lV,{onClick:()=>{A(),a("/profile")},children:"Profile"}),Y.jsx(lV,{onClick:M,children:"Logout"})]})]}):Y.jsx(Po,{color:"inherit",component:lc,to:"/login",children:"Login"})]})})},NK=Wi(Y.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),uCe=Wi([Y.jsx("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6"},"0"),Y.jsx("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12m0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17"},"1")]),hCe=Wi(Y.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"})),dCe=Wi(Y.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"})),fCe=Wi(Y.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),pCe=Wi(Y.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"})),mCe=Wi(Y.jsx("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"})),gCe=Wi(Y.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})),yCe=Wi(Y.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"})),vCe=Wi(Y.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"})),_Ce=Wi(Y.jsx("path",{d:"M3 13h2v-2H3zm0 4h2v-2H3zm0-8h2V7H3zm4 4h14v-2H7zm0 4h14v-2H7zM7 7v2h14V7z"})),xCe=Wi(Y.jsx("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"})),bCe=Wi(Y.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),wCe=Wi(Y.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39"})),gB=Wi(Y.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"})),OCe=Wi(Y.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"})),C5=280,SCe=({node:t,onSectionClick:e,onStopClick:n,activeKey:r,visitedStops:i,showTransits:o})=>{const[a,s]=j.useState(!1);j.useEffect(()=>{r&&t.children.some(x=>x.key===r)&&s(!0)},[r,t.children]);const u=()=>{s(!a),e(t)},d=r?t.children.some(x=>x.key===r):!1,g=i&&t.children.length>0?t.children.every(x=>i.includes(x.key)):!1;let v="";return d?v="":g&&(v=""),Y.jsxs(Y.Fragment,{children:[Y.jsxs(G_,{onClick:u,sx:{pl:2},children:[Y.jsx(qn,{component:"span",sx:{mr:2,width:24,display:"flex",justifyContent:"center",alignItems:"center",flexShrink:0,fontSize:"1.2rem",lineHeight:1,transition:"all 0.3s ease",textShadow:d?"0 0 10px rgba(255, 255, 255, 0.8), 0 0 20px currentColor":"none",filter:d?"brightness(1.2)":"none",transform:d?"scale(1.2)":"scale(1)"},children:v}),Y.jsx(Xp,{primary:t.name,primaryTypographyProps:{noWrap:!0,fontWeight:"medium"}}),a?Y.jsx(mCe,{}):Y.jsx(gCe,{})]}),Y.jsx(Z$,{in:a,timeout:"auto",unmountOnExit:!0,children:Y.jsx(MO,{component:"div",disablePadding:!0,sx:{pl:2},children:t.children.map(x=>Y.jsx(BK,{node:x,onStopClick:n,active:r===x.key,visited:i?.includes(x.key),showTransits:o},x.key))})})]})},CCe=t=>{switch(t){case"Plane":return"";case"Train":return"";case"Boat":return"";case"Car":return"";default:return""}},BK=({node:t,onStopClick:e,active:n,visited:r,indent:i=4,showTransits:o})=>{if(t.category==="Trip"&&!n&&!o)return null;const a=v=>{v.stopPropagation(),t.category==="Stop"&&e(t)};let s="";t.category==="Trip"?s=CCe(t.transportationMode):n?s="":r?s="":s="";const u={"@keyframes move-horizontal":{"0%":{transform:"translateX(-2px)"},"50%":{transform:"translateX(2px)"},"100%":{transform:"translateX(-2px)"}}},d=t.category==="Trip"?t.name:null,g=t.category==="Trip";return Y.jsx(Y.Fragment,{children:Y.jsxs(G_,{onClick:a,sx:{pl:i,py:1,justifyContent:"flex-start",alignItems:"center",minHeight:48},children:[Y.jsxs(qn,{sx:{position:"relative",mr:2,display:"flex",flexDirection:"column",alignItems:"center",width:24,flexShrink:0},children:[g&&Y.jsx(qn,{sx:{position:"absolute",top:-24,bottom:-24,width:"2px",bgcolor:"divider",zIndex:0}}),Y.jsx(qn,{component:"span",sx:{position:"relative",zIndex:1,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"background.paper",fontSize:g?"1.5rem":"1.2rem",lineHeight:1,transition:"all 0.3s ease",animation:n&&g?"move-horizontal 2s infinite ease-in-out":"none",...u},children:s})]}),(d||!g)&&Y.jsx(Xp,{primary:g?d:t.name,primaryTypographyProps:{fontWeight:n?"bold":"normal",color:n?"primary.main":"text.primary",noWrap:!0}})]})})},TCe=({open:t,onClose:e,variant:n,onStopClick:r,onSectionClick:i,activeKey:o,visitedStops:a})=>{const{role:s}=iv(),[u,d]=j.useState(!1),g=ae.useMemo(()=>{const v=[],x=new Map;return fB.forEach((O,E)=>{if(O.section){let A=x.get(O.section);A||(A={type:"section",id:O.section,name:O.section,children:[]},x.set(O.section,A),v.push(A)),A.children.push(O)}else v.push({type:"item",node:O})}),v},[]);return Y.jsxs(Cbe,{variant:n,open:t,onClose:e,sx:{width:C5,flexShrink:0,"& .MuiDrawer-paper":{width:C5,boxSizing:"border-box",display:"flex",flexDirection:"column"}},children:[Y.jsx(aB,{})," ",Y.jsx(Gh,{}),Y.jsxs(MO,{sx:{flexGrow:1,overflowY:"auto"},children:[Y.jsxs(G_,{component:lc,to:"/blog",onClick:n==="temporary"?e:void 0,children:[Y.jsx(J1,{children:Y.jsx(AR,{})}),Y.jsx(Xp,{primary:"Blog"})]}),Y.jsxs(G_,{component:lc,to:"/photos",onClick:n==="temporary"?e:void 0,children:[Y.jsx(J1,{children:Y.jsx(Qw,{})}),Y.jsx(Xp,{primary:"Photos"})]}),Y.jsxs(G_,{component:lc,to:"/map",onClick:n==="temporary"?e:void 0,children:[Y.jsx(J1,{children:Y.jsx(ER,{})}),Y.jsx(Xp,{primary:"Map"})]}),s==="admin"&&Y.jsxs(G_,{component:lc,to:"/admin",onClick:n==="temporary"?e:void 0,children:[Y.jsx(J1,{children:Y.jsx(uCe,{})}),Y.jsx(Xp,{primary:"Admin"})]}),Y.jsx(Gh,{}),g.map((v,x)=>v.type==="section"?Y.jsx(SCe,{node:v,onSectionClick:i,onStopClick:r,activeKey:o,visitedStops:a,showTransits:u},v.id):Y.jsx(BK,{node:v.node,onStopClick:r,active:o===v.node.key,visited:a?.includes(v.node.key),indent:2,showTransits:u},v.node.key+x))]}),Y.jsx(Gh,{}),Y.jsx(qn,{sx:{p:2},children:Y.jsx(tB,{control:Y.jsx(sB,{checked:u,onChange:v=>d(v.target.checked),size:"small"}),label:"Show Transits"})})]})},kCe=({children:t,onStopClick:e,onSectionClick:n,activeKey:r,visitedStops:i})=>{const o=If(),a=Rwe(o.breakpoints.down("md")),[s,u]=j.useState(!a),d=()=>{u(!s)};return Y.jsxs(qn,{sx:{display:"flex"},children:[Y.jsx(Axe,{}),Y.jsx(cCe,{onMenuClick:d}),Y.jsx(TCe,{open:s,onClose:d,variant:a?"temporary":"persistent",onStopClick:e,onSectionClick:n,activeKey:r,visitedStops:i}),Y.jsxs(qn,{component:"main",sx:{flexGrow:1,display:"flex",flexDirection:"column",height:"100vh",overflow:"hidden",width:a?"100%":{sm:`calc(100% - ${C5}px)`},marginLeft:a||s?0:`-${C5}px`,transition:g=>g.transitions.create("margin",{easing:g.transitions.easing.sharp,duration:g.transitions.duration.leavingScreen}),...!a&&s&&{transition:g=>g.transitions.create("margin",{easing:g.transitions.easing.easeOut,duration:g.transitions.duration.enteringScreen})}},children:[Y.jsx(aB,{})," ",Y.jsx(qn,{sx:{flexGrow:1,position:"relative",overflowY:"auto"},children:t})]})]})},ECe="modulepreload",ACe=function(t){return"/"+t},BV={},Dt=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let u=function(d){return Promise.all(d.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),s=a?.nonce||a?.getAttribute("nonce");i=u(n.map(d=>{if(d=ACe(d),d in BV)return;BV[d]=!0;const g=d.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${v}`))return;const x=document.createElement("link");if(x.rel=g?"stylesheet":ECe,g||(x.as="script"),x.crossOrigin="",x.href=d,s&&x.setAttribute("nonce",s),document.head.appendChild(x),g)return new Promise((O,E)=>{x.addEventListener("load",O),x.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return i.then(a=>{for(const s of a||[])s.status==="rejected"&&o(s.reason);return e().catch(o)})},PCe=j.createContext(null);function MCe(t,e){const n=Array.isArray(t)?t[0]:t?t.x:0,r=Array.isArray(t)?t[1]:t?t.y:0,i=Array.isArray(e)?e[0]:e?e.x:0,o=Array.isArray(e)?e[1]:e?e.y:0;return n===i&&r===o}function Kc(t,e){if(t===e)return!0;if(!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!Kc(t[n],e[n]))return!1;return!0}else if(Array.isArray(e))return!1;if(typeof t=="object"&&typeof e=="object"){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n)if(!e.hasOwnProperty(i)||!Kc(t[i],e[i]))return!1;return!0}return!1}function FV(t){return{longitude:t.center.lng,latitude:t.center.lat,zoom:t.zoom,pitch:t.pitch,bearing:t.bearing,padding:t.padding}}function jV(t,e){const n=e.viewState||e,r={};if("longitude"in n&&"latitude"in n&&(n.longitude!==t.center.lng||n.latitude!==t.center.lat)){const i=t.center.constructor;r.center=new i(n.longitude,n.latitude)}return"zoom"in n&&n.zoom!==t.zoom&&(r.zoom=n.zoom),"bearing"in n&&n.bearing!==t.bearing&&(r.bearing=n.bearing),"pitch"in n&&n.pitch!==t.pitch&&(r.pitch=n.pitch),n.padding&&t.padding&&!Kc(n.padding,t.padding)&&(r.padding=n.padding),r}const RCe=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function VV(t){if(!t)return null;if(typeof t=="string"||("toJS"in t&&(t=t.toJS()),!t.layers))return t;const e={};for(const r of t.layers)e[r.id]=r;const n=t.layers.map(r=>{let i=null;"interactive"in r&&(i=Object.assign({},r),delete i.interactive);const o=e[r.ref];if(o){i=i||Object.assign({},r),delete i.ref;for(const a of RCe)a in o&&(i[a]=o[a])}return i||r});return{...t,layers:n}}const QV={version:8,sources:{},layers:[]},UV={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},ZV={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},qV={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},ICe=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],DCe=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class Uw{constructor(e,n,r){this._map=null,this._internalUpdate=!1,this._hoveredFeatures=null,this._propsedCameraUpdate=null,this._styleComponents={},this._onEvent=i=>{const o=this.props[qV[i.type]];o?o(i):i.type==="error"&&console.error(i.error)},this._onCameraEvent=i=>{if(this._internalUpdate)return;i.viewState=this._propsedCameraUpdate||FV(this._map.transform);const o=this.props[ZV[i.type]];o&&o(i)},this._onCameraUpdate=i=>this._internalUpdate?i:(this._propsedCameraUpdate=FV(i),jV(i,this.props)),this._onPointerEvent=i=>{(i.type==="mousemove"||i.type==="mouseout")&&this._updateHover(i);const o=this.props[UV[i.type]];o&&(this.props.interactiveLayerIds&&i.type!=="mouseover"&&i.type!=="mouseout"&&(i.features=this._hoveredFeatures||this._queryRenderedFeatures(i.point)),o(i),delete i.features)},this._MapClass=e,this.props=n,this._initialize(r)}get map(){return this._map}setProps(e){const n=this.props;this.props=e;const r=this._updateSettings(e,n),i=this._updateSize(e),o=this._updateViewState(e);this._updateStyle(e,n),this._updateStyleComponents(e),this._updateHandlers(e,n),(r||i||o&&!this._map.isMoving())&&this.redraw()}static reuse(e,n){const r=Uw.savedMaps.pop();if(!r)return null;const i=r.map,o=i.getContainer();for(n.className=o.className;o.childNodes.length>0;)n.appendChild(o.childNodes[0]);i._container=n;const a=i._resizeObserver;a&&(a.disconnect(),a.observe(n)),r.setProps({...e,styleDiffing:!1}),i.resize();const{initialViewState:s}=e;return s&&(s.bounds?i.fitBounds(s.bounds,{...s.fitBoundsOptions,duration:0}):r._updateViewState(s)),i.isStyleLoaded()?i.fire("load"):i.once("style.load",()=>i.fire("load")),i._update(),r}_initialize(e){const{props:n}=this,{mapStyle:r=QV}=n,i={...n,...n.initialViewState,container:e,style:VV(r)},o=i.initialViewState||i.viewState||i;if(Object.assign(i,{center:[o.longitude||0,o.latitude||0],zoom:o.zoom||0,pitch:o.pitch||0,bearing:o.bearing||0}),n.gl){const s=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=s,n.gl)}const a=new this._MapClass(i);o.padding&&a.setPadding(o.padding),n.cursor&&(a.getCanvas().style.cursor=n.cursor),a.transformCameraUpdate=this._onCameraUpdate,a.on("style.load",()=>{this._styleComponents={light:a.getLight(),sky:a.getSky(),projection:a.getProjection?.(),terrain:a.getTerrain()},this._updateStyleComponents(this.props)}),a.on("sourcedata",()=>{this._updateStyleComponents(this.props)});for(const s in UV)a.on(s,this._onPointerEvent);for(const s in ZV)a.on(s,this._onCameraEvent);for(const s in qV)a.on(s,this._onEvent);this._map=a}recycle(){this.map.getContainer().querySelector("[mapboxgl-children]")?.remove(),Uw.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const e=this._map;e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}_updateSize(e){const{viewState:n}=e;if(n){const r=this._map;if(n.width!==r.transform.width||n.height!==r.transform.height)return r.resize(),!0}return!1}_updateViewState(e){const n=this._map,r=n.transform;if(!n.isMoving()){const o=jV(r,e);if(Object.keys(o).length>0)return this._internalUpdate=!0,n.jumpTo(o),this._internalUpdate=!1,!0}return!1}_updateSettings(e,n){const r=this._map;let i=!1;for(const o of ICe)o in e&&!Kc(e[o],n[o])&&(i=!0,r[`set${o[0].toUpperCase()}${o.slice(1)}`]?.call(r,e[o]));return i}_updateStyle(e,n){if(e.cursor!==n.cursor&&(this._map.getCanvas().style.cursor=e.cursor||""),e.mapStyle!==n.mapStyle){const{mapStyle:r=QV,styleDiffing:i=!0}=e,o={diff:i};"localIdeographFontFamily"in e&&(o.localIdeographFontFamily=e.localIdeographFontFamily),this._map.setStyle(VV(r),o)}}_updateStyleComponents({light:e,projection:n,sky:r,terrain:i}){const o=this._map,a=this._styleComponents;o.style._loaded&&(e&&!Kc(e,a.light)&&(a.light=e,o.setLight(e)),n&&!Kc(n,a.projection)&&n!==a.projection?.type&&(a.projection=typeof n=="string"?{type:n}:n,o.setProjection?.(a.projection)),r&&!Kc(r,a.sky)&&(a.sky=r,o.setSky(r)),i!==void 0&&!Kc(i,a.terrain)&&(!i||o.getSource(i.source))&&(a.terrain=i,o.setTerrain(i)))}_updateHandlers(e,n){const r=this._map;for(const i of DCe){const o=e[i]??!0,a=n[i]??!0;Kc(o,a)||(o?r[i].enable(o):r[i].disable())}}_queryRenderedFeatures(e){const n=this._map,{interactiveLayerIds:r=[]}=this.props;try{return n.queryRenderedFeatures(e,{layers:r.filter(n.getLayer.bind(n))})}catch{return[]}}_updateHover(e){const{props:n}=this;if(n.interactiveLayerIds&&(n.onMouseMove||n.onMouseEnter||n.onMouseLeave)){const i=e.type,o=this._hoveredFeatures?.length>0,a=this._queryRenderedFeatures(e.point),s=a.length>0;!s&&o&&(e.type="mouseleave",this._onPointerEvent(e)),this._hoveredFeatures=a,s&&!o&&(e.type="mouseenter",this._onPointerEvent(e)),e.type=i}else this._hoveredFeatures=null}}Uw.savedMaps=[];const LCe=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function $Ce(t){if(!t)return null;const e=t.map,n={getMap:()=>e};for(const r of zCe(e))!(r in n)&&!LCe.includes(r)&&(n[r]=e[r].bind(e));return n}function zCe(t){const e=new Set;let n=t;for(;n;){for(const r of Object.getOwnPropertyNames(n))r[0]!=="_"&&typeof t[r]=="function"&&r!=="fire"&&r!=="setEventedParent"&&e.add(r);n=Object.getPrototypeOf(n)}return Array.from(e)}const NCe=typeof document<"u"?j.useLayoutEffect:j.useEffect;function BCe(t,e){const{RTLTextPlugin:n,maxParallelImageRequests:r,workerCount:i,workerUrl:o}=e;if(n&&t.getRTLTextPluginStatus&&t.getRTLTextPluginStatus()==="unavailable"){const{pluginUrl:a,lazy:s=!0}=typeof n=="string"?{pluginUrl:n}:n;t.setRTLTextPlugin(a,u=>{u&&console.error(u)},s)}r!==void 0&&t.setMaxParallelImageRequests(r),i!==void 0&&t.setWorkerCount(i),o!==void 0&&t.setWorkerUrl(o)}const IO=j.createContext(null);function FCe(t,e){const n=j.useContext(PCe),[r,i]=j.useState(null),o=j.useRef(),{current:a}=j.useRef({mapLib:null,map:null});j.useEffect(()=>{const d=t.mapLib;let g=!0,v;return Promise.resolve(d||Dt(()=>Promise.resolve().then(()=>Yfe),[])).then(x=>{if(!g)return;if(!x)throw new Error("Invalid mapLib");const O="Map"in x?x:x.default;if(!O.Map)throw new Error("Invalid mapLib");BCe(O,t),t.reuseMaps&&(v=Uw.reuse(t,o.current)),v||(v=new Uw(O.Map,t,o.current)),a.map=$Ce(v),a.mapLib=O,i(v),n?.onMapMount(a.map,t.id)}).catch(x=>{const{onError:O}=t;O?O({type:"error",target:null,originalEvent:null,error:x}):console.error(x)}),()=>{g=!1,v&&(n?.onMapUnmount(t.id),t.reuseMaps?v.recycle():v.destroy())}},[]),NCe(()=>{r&&r.setProps(t)}),j.useImperativeHandle(e,()=>a.map,[r]);const s=j.useMemo(()=>({position:"relative",width:"100%",height:"100%",...t.style}),[t.style]),u={height:"100%"};return j.createElement("div",{id:t.id,ref:o,style:s},r&&j.createElement(IO.Provider,{value:a},j.createElement("div",{"mapboxgl-children":"",style:u},t.children)))}const jCe=j.forwardRef(FCe),VCe=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function cy(t,e){if(!t||!e)return;const n=t.style;for(const r in e){const i=e[r];Number.isFinite(i)&&!VCe.test(r)?n[r]=`${i}px`:n[r]=i}}function FK(t,e){if(t===e)return null;const n=WV(t),r=WV(e),i=[];for(const o of r)n.has(o)||i.push(o);for(const o of n)r.has(o)||i.push(o);return i.length===0?null:i}function WV(t){return new Set(t?t.trim().split(/\s+/):[])}j.memo(j.forwardRef((t,e)=>{const{map:n,mapLib:r}=j.useContext(IO),i=j.useRef({props:t}),o=j.useMemo(()=>{let L=!1;j.Children.forEach(t.children,F=>{F&&(L=!0)});const $={...t,element:L?document.createElement("div"):void 0},N=new r.Marker($);return N.setLngLat([t.longitude,t.latitude]),N.getElement().addEventListener("click",F=>{i.current.props.onClick?.({type:"click",target:N,originalEvent:F})}),N.on("dragstart",F=>{const U=F;U.lngLat=o.getLngLat(),i.current.props.onDragStart?.(U)}),N.on("drag",F=>{const U=F;U.lngLat=o.getLngLat(),i.current.props.onDrag?.(U)}),N.on("dragend",F=>{const U=F;U.lngLat=o.getLngLat(),i.current.props.onDragEnd?.(U)}),N},[]);j.useEffect(()=>(o.addTo(n.getMap()),()=>{o.remove()}),[]);const{longitude:a,latitude:s,offset:u,style:d,draggable:g=!1,popup:v=null,rotation:x=0,rotationAlignment:O="auto",pitchAlignment:E="auto"}=t;j.useEffect(()=>{cy(o.getElement(),d)},[d]),j.useImperativeHandle(e,()=>o,[]);const A=i.current.props;(o.getLngLat().lng!==a||o.getLngLat().lat!==s)&&o.setLngLat([a,s]),u&&!MCe(o.getOffset(),u)&&o.setOffset(u),o.isDraggable()!==g&&o.setDraggable(g),o.getRotation()!==x&&o.setRotation(x),o.getRotationAlignment()!==O&&o.setRotationAlignment(O),o.getPitchAlignment()!==E&&o.setPitchAlignment(E),o.getPopup()!==v&&o.setPopup(v);const M=FK(A.className,t.className);if(M)for(const L of M)o.toggleClassName(L);return i.current.props=t,um.createPortal(t.children,o.getElement())}));const QCe=j.memo(j.forwardRef((t,e)=>{const{map:n,mapLib:r}=j.useContext(IO),i=j.useMemo(()=>document.createElement("div"),[]),o=j.useRef({props:t}),a=j.useMemo(()=>{const s={...t},u=new r.Popup(s);return u.setLngLat([t.longitude,t.latitude]),u.once("open",d=>{o.current.props.onOpen?.(d)}),u},[]);if(j.useEffect(()=>{const s=u=>{o.current.props.onClose?.(u)};return a.on("close",s),a.setDOMContent(i).addTo(n.getMap()),()=>{a.off("close",s),a.isOpen()&&a.remove()}},[]),j.useEffect(()=>{cy(a.getElement(),t.style)},[t.style]),j.useImperativeHandle(e,()=>a,[]),a.isOpen()){const s=o.current.props;(a.getLngLat().lng!==t.longitude||a.getLngLat().lat!==t.latitude)&&a.setLngLat([t.longitude,t.latitude]),t.offset&&!Kc(s.offset,t.offset)&&a.setOffset(t.offset),(s.anchor!==t.anchor||s.maxWidth!==t.maxWidth)&&(a.options.anchor=t.anchor,a.setMaxWidth(t.maxWidth));const u=FK(s.className,t.className);if(u)for(const d of u)a.toggleClassName(d);o.current.props=t}return um.createPortal(t.children,i)}));function Qx(t,e,n,r){const i=j.useContext(IO),o=j.useMemo(()=>t(i),[]);return j.useEffect(()=>{const a=e,s=null,u=typeof e=="function"?e:null,{map:d}=i;return d.hasControl(o)||(d.addControl(o,a?.position),s&&s(i)),()=>{u&&u(i),d.hasControl(o)&&d.removeControl(o)}},[]),o}function UCe(t){const e=Qx(({mapLib:n})=>new n.AttributionControl(t),{position:t.position});return j.useEffect(()=>{cy(e._container,t.style)},[t.style]),null}j.memo(UCe);function ZCe(t){const e=Qx(({mapLib:n})=>new n.FullscreenControl({container:t.containerId&&document.getElementById(t.containerId)}),{position:t.position});return j.useEffect(()=>{cy(e._controlContainer,t.style)},[t.style]),null}const qCe=j.memo(ZCe);function WCe(t,e){const n=j.useRef({props:t}),r=Qx(({mapLib:i})=>{const o=new i.GeolocateControl(t),a=o._setupUI;return o._setupUI=()=>{o._container.hasChildNodes()||a()},o.on("geolocate",s=>{n.current.props.onGeolocate?.(s)}),o.on("error",s=>{n.current.props.onError?.(s)}),o.on("outofmaxbounds",s=>{n.current.props.onOutOfMaxBounds?.(s)}),o.on("trackuserlocationstart",s=>{n.current.props.onTrackUserLocationStart?.(s)}),o.on("trackuserlocationend",s=>{n.current.props.onTrackUserLocationEnd?.(s)}),o},{position:t.position});return n.current.props=t,j.useImperativeHandle(e,()=>r,[]),j.useEffect(()=>{cy(r._container,t.style)},[t.style]),null}j.memo(j.forwardRef(WCe));function HCe(t){const e=Qx(({mapLib:n})=>new n.NavigationControl(t),{position:t.position});return j.useEffect(()=>{cy(e._container,t.style)},[t.style]),null}const GCe=j.memo(HCe);function XCe(t){const e=Qx(({mapLib:o})=>new o.ScaleControl(t),{position:t.position}),n=j.useRef(t),r=n.current;n.current=t;const{style:i}=t;return t.maxWidth!==void 0&&t.maxWidth!==r.maxWidth&&(e.options.maxWidth=t.maxWidth),t.unit!==void 0&&t.unit!==r.unit&&e.setUnit(t.unit),j.useEffect(()=>{cy(e._container,i)},[i]),null}j.memo(XCe);function YCe(t){const e=Qx(({mapLib:n})=>new n.TerrainControl(t),{position:t.position});return j.useEffect(()=>{cy(e._container,t.style)},[t.style]),null}j.memo(YCe);function KCe(t){const e=Qx(({mapLib:n})=>new n.LogoControl(t),{position:t.position});return j.useEffect(()=>{cy(e._container,t.style)},[t.style]),null}j.memo(KCe);function T5(t,e){if(!t)throw new Error(e)}let JCe=0;function eTe(t,e,n){if(t.style&&t.style._loaded){const r={...n};return delete r.id,delete r.children,t.addSource(e,r),t.getSource(e)}return null}function tTe(t,e,n){T5(e.id===n.id,"source id changed"),T5(e.type===n.type,"source type changed");let r="",i=0;for(const a in e)a!=="children"&&a!=="id"&&!Kc(n[a],e[a])&&(r=a,i++);if(!i)return;const o=e.type;if(o==="geojson")t.setData(e.data);else if(o==="image")t.updateImage({url:e.url,coordinates:e.coordinates});else switch(r){case"coordinates":t.setCoordinates?.(e.coordinates);break;case"url":t.setUrl?.(e.url);break;case"tiles":t.setTiles?.(e.tiles);break;default:console.warn(`Unable to update <Source> prop: ${r}`)}}function HV(t){const e=j.useContext(IO).map.getMap(),n=j.useRef(t),[,r]=j.useState(0),i=j.useMemo(()=>t.id||`jsx-source-${JCe++}`,[]);j.useEffect(()=>{if(e){const a=()=>setTimeout(()=>r(s=>s+1),0);return e.on("styledata",a),a(),()=>{if(e.off("styledata",a),e.style&&e.style._loaded&&e.getSource(i)){const s=e.getStyle()?.layers;if(s)for(const u of s)u.source===i&&e.removeLayer(u.id);e.removeSource(i)}}}},[e]);let o=e&&e.style&&e.getSource(i);return o?tTe(o,t,n.current):o=eTe(e,i,t),n.current=t,o&&j.Children.map(t.children,a=>a&&j.cloneElement(a,{source:i}))||null}function nTe(t,e,n,r){if(T5(n.id===r.id,"layer id changed"),T5(n.type===r.type,"layer type changed"),n.type==="custom"||r.type==="custom")return;const{layout:i={},paint:o={},filter:a,minzoom:s,maxzoom:u,beforeId:d}=n;if(d!==r.beforeId&&t.moveLayer(e,d),i!==r.layout){const g=r.layout||{};for(const v in i)Kc(i[v],g[v])||t.setLayoutProperty(e,v,i[v]);for(const v in g)i.hasOwnProperty(v)||t.setLayoutProperty(e,v,void 0)}if(o!==r.paint){const g=r.paint||{};for(const v in o)Kc(o[v],g[v])||t.setPaintProperty(e,v,o[v]);for(const v in g)o.hasOwnProperty(v)||t.setPaintProperty(e,v,void 0)}Kc(a,r.filter)||t.setFilter(e,a),(s!==r.minzoom||u!==r.maxzoom)&&t.setLayerZoomRange(e,s,u)}function rTe(t,e,n){if(t.style&&t.style._loaded&&(!("source"in n)||t.getSource(n.source))){const r={...n,id:e};delete r.beforeId,t.addLayer(r,n.beforeId)}}let iTe=0;function k2(t){const e=j.useContext(IO).map.getMap(),n=j.useRef(t),[,r]=j.useState(0),i=j.useMemo(()=>t.id||`jsx-layer-${iTe++}`,[]);if(j.useEffect(()=>{if(e){const a=()=>r(s=>s+1);return e.on("styledata",a),a(),()=>{e.off("styledata",a),e.style&&e.style._loaded&&e.getLayer(i)&&e.removeLayer(i)}}},[e]),e&&e.style&&e.getLayer(i))try{nTe(e,i,t,n.current)}catch(a){console.warn(a)}else rTe(e,i,t);return n.current=t,null}const oTe=t=>({version:8,projection:{type:t},sources:{osm:{type:"raster",tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256,attribution:"&copy; OpenStreetMap Contributors",maxzoom:19}},layers:[{id:"osm",type:"raster",source:"osm"}]}),sTe=t=>{switch(t){case"Plane":return"#3b82f6";case"Train":return"#22c55e";case"Boat":return"#06b6d4";case"Car":return"#f59e0b";default:return"#64748b"}},aTe=t=>{switch(t){case"Plane":return"";case"Train":return"";case"Boat":return"";case"Car":return"";default:return""}},lTe={id:"trip-layer",type:"line",paint:{"line-color":["get","color"],"line-width":4,"line-opacity":.8},layout:{"line-join":"round","line-cap":"round"}},cTe={id:"trip-symbol-layer",type:"symbol",layout:{"symbol-placement":"line","symbol-spacing":50,"text-field":["get","symbol"],"text-size":20,"text-keep-upright":!1,"text-rotation-alignment":"map","symbol-avoid-edges":!1,"text-allow-overlap":!0,"text-ignore-placement":!1,"text-rotate":0,"text-offset":[0,.5]},paint:{"text-color":["get","color"],"text-halo-color":"#fff","text-halo-width":1}},uTe={id:"stops-layer",type:"circle",paint:{"circle-radius":6,"circle-color":"#fff","circle-stroke-color":"#000","circle-stroke-width":2}},Vu=t=>t>-130?t-360:t,hTe=({item:t,onClose:e})=>{const{role:n,refreshCheckIn:r,user:i}=iv(),[o,a]=j.useState(null),[s,u]=j.useState(!0),[d,g]=j.useState(!1),[v,x]=j.useState(!1),[O,E]=j.useState("");j.useEffect(()=>{(async()=>{try{u(!0);const[$,N,F]=await Promise.all([bi.from("check_in").select("created_at").eq("status",t.key).order("created_at",{ascending:!1}).limit(1),bi.from("blog_post").select("id",{count:"exact",head:!0}).contains("tags",[t.key]),bi.from("photo_album").select("id",{count:"exact",head:!0}).contains("tags",[t.key])]),[U,q]=await Promise.all([bi.from("blog_post").select("id").contains("tags",[t.key]).order("created_date",{ascending:!1}).limit(1),bi.from("photo_album").select("icloud_link").contains("tags",[t.key]).order("created_at",{ascending:!1}).limit(1)]);a({lastCheckIn:$.data?.[0]?new Date($.data[0].created_at):null,blogCount:N.count||0,photoCount:F.count||0,latestBlogId:U.data?.[0]?.id,latestPhotoLink:q.data?.[0]?.icloud_link})}catch($){console.error("Error fetching stats:",$)}finally{u(!1)}})()},[t.key]);const A=()=>{x(!0)},M=async()=>{if(!(!n||n!=="admin"&&n!=="editor"||!i))try{g(!0);const{error:L}=await bi.from("check_in").insert([{status:t.key,user_id:i.id,message:O||null,created_at:new Date().toISOString()}]);if(L)throw L;await r(),x(!1),E(""),e()}catch(L){console.error("Error checking in:",L),alert("Failed to check in")}finally{g(!1)}};return s?Y.jsx(qn,{sx:{display:"flex",justifyContent:"center",p:2,minWidth:150},children:Y.jsx(ah,{size:20})}):o?Y.jsxs(qn,{sx:{p:.5,minWidth:160},children:[Y.jsx(yr,{variant:"subtitle2",fontWeight:"bold",sx:{mb:1,color:"primary.main"},children:t.category==="Stop"?t.name:t.description||t.key}),Y.jsx(Gh,{sx:{mb:1.5}}),Y.jsxs(L0,{spacing:1.5,children:[o.lastCheckIn&&Y.jsxs(qn,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[Y.jsx(yCe,{sx:{fontSize:18,color:"text.secondary"}}),Y.jsxs(yr,{variant:"caption",sx:{fontWeight:500},children:["Last check-in: ",o.lastCheckIn.toLocaleDateString()]})]}),Y.jsxs(qn,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[Y.jsx(AR,{sx:{fontSize:18,color:"secondary.main"}}),o.blogCount>0?Y.jsxs(nV,{component:lc,to:`/blog?id=${o.latestBlogId}`,variant:"caption",sx:{fontWeight:500,textDecoration:"none","&:hover":{textDecoration:"underline"}},children:[o.blogCount," Blog posts"]}):Y.jsxs(yr,{variant:"caption",sx:{fontWeight:500},children:[o.blogCount," Blog posts"]})]}),Y.jsxs(qn,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[Y.jsx(Qw,{sx:{fontSize:18,color:"#10b981"}}),o.photoCount>0?Y.jsxs(nV,{href:o.latestPhotoLink,target:"_blank",rel:"noopener noreferrer",variant:"caption",sx:{fontWeight:500,textDecoration:"none","&:hover":{textDecoration:"underline"}},children:[o.photoCount," Photo albums"]}):Y.jsxs(yr,{variant:"caption",sx:{fontWeight:500},children:[o.photoCount," Photo albums"]})]}),(n==="admin"||n==="editor")&&Y.jsx(qn,{sx:{pt:1},children:Y.jsx(Po,{variant:"contained",size:"small",startIcon:d?Y.jsx(ah,{size:16,color:"inherit"}):Y.jsx(hCe,{}),onClick:A,fullWidth:!0,disabled:d,sx:{fontSize:"0.75rem",textTransform:"none"},children:"Check In Here"})}),Y.jsxs(XN,{open:v,onClose:()=>x(!1),maxWidth:"xs",fullWidth:!0,children:[Y.jsxs(JN,{children:["Check In: ",t.category==="Stop"?t.name:t.key]}),Y.jsx(KN,{children:Y.jsx(Ju,{autoFocus:!0,margin:"dense",label:"Message (Optional)",fullWidth:!0,variant:"outlined",value:O,onChange:L=>E(L.target.value),multiline:!0,rows:3})}),Y.jsxs(YN,{children:[Y.jsx(Po,{onClick:()=>x(!1),children:"Cancel"}),Y.jsx(Po,{onClick:M,variant:"contained",disabled:d,children:d?"Checking In...":"Confirm"})]})]})]})]}):null},jK=j.forwardRef(({items:t},e)=>{const{latestCheckIn:n}=iv(),r=n?.status,[i,o]=j.useState(null),[a,s]=j.useState("auto"),[u,d]=j.useState("globe"),[g,v]=j.useState(0),x=j.useMemo(()=>oTe(u),[u]);j.useEffect(()=>{let U;const q=()=>{v(W=>(W+1)%2),U=requestAnimationFrame(()=>setTimeout(q,500))};return U=requestAnimationFrame(q),()=>cancelAnimationFrame(U)},[]);const{stopsGeoJson:O,tripsGeoJson:E}=j.useMemo(()=>{const U=t.filter(re=>re.category==="Stop"),q=t.filter(re=>re.category==="Trip"),W=U.map(re=>({type:"Feature",properties:re,geometry:{type:"Point",coordinates:[Vu(re.geolocation[0]),re.geolocation[1]]}})),te=q.map(re=>{const ce=re.geometricShape,be=ce.coordinates.map(ie=>[Vu(ie[0]),ie[1]]);return{type:"Feature",properties:{key:re.key,color:sTe(re.transportationMode),symbol:aTe(re.transportationMode),mode:re.transportationMode,description:`${re.startLocation} to ${re.endLocation} (${re.transportationMode})`},geometry:{...ce,coordinates:be}}});return{stopsGeoJson:{type:"FeatureCollection",features:W},tripsGeoJson:{type:"FeatureCollection",features:te}}},[t]),A=j.useMemo(()=>{const U=t.find(W=>W.key===r);if(U){if(U.category==="Stop")return{longitude:Vu(U.geolocation[0]),latitude:U.geolocation[1],zoom:3};if(U.category==="Trip"){const W=U.geometricShape.coordinates[0];return{longitude:Vu(W[0]),latitude:W[1],zoom:3}}}const q=t.find(W=>W.category==="Stop");return q?{longitude:Vu(q.geolocation[0]),latitude:q.geolocation[1],zoom:2}:{longitude:0,latitude:0,zoom:1}},[t,r]);j.useEffect(()=>{if(!r||!e||!e.current)return;const U=t.find(W=>W.key===r);if(!U)return;const q=e.current;if(U.category==="Stop")q.flyTo({center:[Vu(U.geolocation[0]),U.geolocation[1]],zoom:10,essential:!0});else if(U.category==="Trip"){const W=U.geometricShape.coordinates;if(W.length>0){let te=Vu(W[0][0]),re=Vu(W[0][0]),ce=W[0][1],be=W[0][1];W.forEach(ie=>{const me=Vu(ie[0]),we=ie[1];te=Math.min(te,me),re=Math.max(re,me),ce=Math.min(ce,we),be=Math.max(be,we)}),q.fitBounds([[te,ce],[re,be]],{padding:80,maxZoom:10,essential:!0})}}},[r,t,e]);const M=j.useCallback(U=>{const q=U.features?.[0];if(q){const W=Vu(U.lngLat.lng),te=U.lngLat.lat;if(q.geometry.type==="Point"){const ce=q.geometry.coordinates;o({item:q.properties,position:[ce[0],ce[1]]})}else o({item:q.properties,position:[W,te]})}},[]),L=j.useCallback(()=>s("pointer"),[]),$=j.useCallback(()=>s("auto"),[]),N=j.useMemo(()=>({id:"stops-label",type:"symbol",layout:{"text-field":["get","name"],"text-variable-anchor":["top","bottom","left","right"],"text-radial-offset":.5,"text-justify":"auto","text-size":["case",["==",["get","key"],r||""],18,14],"text-font":["case",["==",["get","key"],r||""],["literal",["Noto Sans Regular"]],["literal",["Noto Sans Regular"]]]},paint:{"text-color":["case",["==",["get","key"],r||""],"#ef4444","#000"],"text-halo-color":"#fff","text-halo-width":["case",["==",["get","key"],r||""],2,2]}}),[r]),F=j.useMemo(()=>({id:"active-trip-layer",type:"line",filter:["==",["get","key"],r||""],paint:{"line-color":"#ffffff","line-width":2,"line-dasharray":[2+g,4+g],"line-opacity":.9},layout:{"line-join":"round","line-cap":"round"}}),[r,g]);return Y.jsxs("div",{className:"h-full w-full",style:{height:"100%"},children:[Y.jsxs(jCe,{ref:e,initialViewState:A,style:{width:"100%",height:"100%"},mapStyle:x,renderWorldCopies:!0,interactiveLayerIds:["stops-layer","stops-label","trip-layer"],onClick:M,cursor:a,onMouseEnter:L,onMouseLeave:$,children:[Y.jsx(qCe,{position:"top-right"}),Y.jsx(GCe,{position:"top-right"}),Y.jsxs(HV,{id:"trips",type:"geojson",data:E,children:[Y.jsx(k2,{...lTe}),Y.jsx(k2,{...F}),Y.jsx(k2,{...cTe})]}),Y.jsxs(HV,{id:"stops",type:"geojson",data:O,children:[Y.jsx(k2,{...uTe}),Y.jsx(k2,{...N})]}),i&&Y.jsx(QCe,{anchor:"top",longitude:i.position[0],latitude:i.position[1],onClose:()=>o(null),closeButton:!1,maxWidth:"300px",children:Y.jsx(hTe,{item:i.item,onClose:()=>o(null)})})]}),Y.jsxs(yc,{elevation:3,sx:{position:"absolute",bottom:24,left:24,p:"2px 12px",borderRadius:2,display:"flex",alignItems:"center",gap:1,backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(4px)",zIndex:10},children:[Y.jsx(ER,{fontSize:"small",color:u==="mercator"?"primary":"disabled"}),Y.jsx(tB,{control:Y.jsx(sB,{size:"small",checked:u==="globe",onChange:U=>d(U.target.checked?"globe":"mercator")}),label:"",sx:{m:0}}),Y.jsx(wCe,{fontSize:"small",color:u==="globe"?"primary":"disabled"})]})]})});jK.displayName="MapComponent";const dTe=()=>{const{user:t,role:e}=iv(),[n,r]=j.useState([]),[i,o]=j.useState(!0),[a,s]=j.useState(null),[u,d]=j.useState(!1),[g,v]=j.useState(!1),[x,O]=j.useState({title:"",icloud_link:"",tags:""}),E=async()=>{try{o(!0);const{data:M,error:L}=await bi.from("photo_album").select("*").order("created_at",{ascending:!1});if(L)throw L;r(M||[])}catch(M){s(M.message)}finally{o(!1)}};j.useEffect(()=>{E()},[]);const A=async()=>{if(t){if(!x.title||!x.icloud_link){s("Please provide at least a title and a link.");return}try{v(!0);const M=x.tags.split(",").map($=>$.trim()).filter(Boolean),{error:L}=await bi.from("photo_album").insert([{title:x.title,icloud_link:x.icloud_link,tags:M,owner_id:t.id}]);if(L)throw L;d(!1),O({title:"",icloud_link:"",tags:""}),E()}catch(M){s(M.message)}finally{v(!1)}}};return i?Y.jsx(qn,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:Y.jsx(ah,{})}):Y.jsxs(Vw,{maxWidth:"lg",sx:{py:4},children:[Y.jsxs(qn,{sx:{mb:4,display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:2},children:[Y.jsxs(qn,{children:[Y.jsx(yr,{variant:"h4",fontWeight:"bold",gutterBottom:!0,children:"Photo Albums"}),Y.jsx(yr,{variant:"body1",color:"text.secondary",children:"Capturing the best moments of our journey across the Pacific."})]}),t&&(e==="admin"||e==="editor")&&Y.jsx(Po,{variant:"contained",startIcon:Y.jsx(NK,{}),onClick:()=>d(!0),sx:{borderRadius:2,textTransform:"none",px:3,mt:1},children:"Add Album"})]}),a&&Y.jsxs(tx,{severity:"error",sx:{mb:4,borderRadius:2},children:["Error loading albums: ",a]}),!a&&n.length===0&&Y.jsxs(qn,{sx:{textAlign:"center",py:8},children:[Y.jsx(Qw,{sx:{fontSize:64,color:"text.disabled",mb:2}}),Y.jsx(yr,{variant:"h6",color:"text.secondary",children:"No photo albums found."})]}),Y.jsx(N_,{container:!0,spacing:3,children:n.map(M=>Y.jsx(N_,{size:{xs:12,sm:6,md:4},children:Y.jsxs(hxe,{elevation:3,sx:{height:"100%",display:"flex",flexDirection:"column",borderRadius:3,transition:"transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out","&:hover":{transform:"translateY(-4px)",boxShadow:6}},children:[Y.jsxs(_xe,{sx:{flexGrow:1,py:4,textAlign:"center"},children:[Y.jsx(Qw,{color:"primary",sx:{fontSize:48,mb:2}}),Y.jsx(yr,{variant:"h5",component:"h2",fontWeight:"bold",gutterBottom:!0,children:M.title}),Y.jsx(L0,{direction:"row",spacing:1,sx:{mt:1,mb:1,flexWrap:"wrap",justifyContent:"center",gap:1},children:M.tags?.map(L=>Y.jsx(v5,{label:L,size:"small",variant:"outlined"},L))}),Y.jsxs(yr,{variant:"body2",color:"text.secondary",children:["Added on ",new Date(M.created_at).toLocaleDateString()]})]}),Y.jsx(mxe,{sx:{p:2,pt:0,justifyContent:"center"},children:Y.jsx(Po,{variant:"contained",fullWidth:!0,startIcon:Y.jsx(xCe,{}),href:M.icloud_link,target:"_blank",rel:"noopener noreferrer",sx:{borderRadius:2,textTransform:"none",py:1},children:"View Album"})})]})},M.id))}),Y.jsxs(XN,{open:u,onClose:()=>d(!1),fullWidth:!0,maxWidth:"sm",children:[Y.jsx(JN,{sx:{fontWeight:"bold"},children:"Add New Photo Album"}),Y.jsx(KN,{dividers:!0,children:Y.jsxs(L0,{spacing:3,sx:{mt:1},children:[Y.jsx(Ju,{fullWidth:!0,label:"Album Title",value:x.title,onChange:M=>O({...x,title:M.target.value}),placeholder:"e.g. Sunset in Tahiti"}),Y.jsx(Ju,{fullWidth:!0,label:"iCloud Album Link",value:x.icloud_link,onChange:M=>O({...x,icloud_link:M.target.value}),placeholder:"https://www.icloud.com/sharedalbum/..."}),Y.jsx(Ju,{fullWidth:!0,label:"Tags (comma separated)",value:x.tags,onChange:M=>O({...x,tags:M.target.value}),placeholder:"e.g. islands, beach, nature",helperText:"Add location keys like 'Auckland' to link with the map"})]})}),Y.jsxs(YN,{sx:{p:3},children:[Y.jsx(Po,{onClick:()=>d(!1),color:"inherit",children:"Cancel"}),Y.jsx(Po,{variant:"contained",onClick:A,disabled:g,startIcon:g?Y.jsx(ah,{size:20}):Y.jsx(gB,{}),children:g?"Saving...":"Save Album"})]})]})]})};function fTe(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const pTe=/[$_\p{ID_Start}]/u,mTe=/[$_\u{200C}\u{200D}\p{ID_Continue}]/u,gTe=/[-$_\u{200C}\u{200D}\p{ID_Continue}]/u,yTe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,vTe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,VK={};function uf(t){return t?pTe.test(String.fromCodePoint(t)):!1}function E2(t,e){const r=(e||VK).jsx?gTe:mTe;return t?r.test(String.fromCodePoint(t)):!1}function GV(t,e){return(VK.jsx?vTe:yTe).test(t)}const _Te=/[ \t\n\f\r]/g;function xTe(t){return typeof t=="object"?t.type==="text"?XV(t.value):!1:XV(t)}function XV(t){return t.replace(_Te,"")===""}let pk=class{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}};pk.prototype.normal={};pk.prototype.property={};pk.prototype.space=void 0;function QK(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new pk(n,r,e)}function f4(t){return t.toLowerCase()}class du{constructor(e,n){this.attribute=n,this.property=e}}du.prototype.attribute="";du.prototype.booleanish=!1;du.prototype.boolean=!1;du.prototype.commaOrSpaceSeparated=!1;du.prototype.commaSeparated=!1;du.prototype.defined=!1;du.prototype.mustUseProperty=!1;du.prototype.number=!1;du.prototype.overloadedBoolean=!1;du.prototype.property="";du.prototype.spaceSeparated=!1;du.prototype.space=void 0;let bTe=0;const Pr=Ux(),Zs=Ux(),p4=Ux(),fn=Ux(),ko=Ux(),pw=Ux(),ju=Ux();function Ux(){return 2**++bTe}const m4=Object.freeze(Object.defineProperty({__proto__:null,boolean:Pr,booleanish:Zs,commaOrSpaceSeparated:ju,commaSeparated:pw,number:fn,overloadedBoolean:p4,spaceSeparated:ko},Symbol.toStringTag,{value:"Module"})),c3=Object.keys(m4);class yB extends du{constructor(e,n,r,i){let o=-1;if(super(e,n),YV(this,"space",i),typeof r=="number")for(;++o<c3.length;){const a=c3[o];YV(this,c3[o],(r&m4[a])===m4[a])}}}yB.prototype.defined=!0;function YV(t,e,n){n&&(t[e]=n)}function DO(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const o=new yB(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[f4(r)]=r,n[f4(o.attribute)]=r}return new pk(e,n,t.space)}const UK=DO({properties:{ariaActiveDescendant:null,ariaAtomic:Zs,ariaAutoComplete:null,ariaBusy:Zs,ariaChecked:Zs,ariaColCount:fn,ariaColIndex:fn,ariaColSpan:fn,ariaControls:ko,ariaCurrent:null,ariaDescribedBy:ko,ariaDetails:null,ariaDisabled:Zs,ariaDropEffect:ko,ariaErrorMessage:null,ariaExpanded:Zs,ariaFlowTo:ko,ariaGrabbed:Zs,ariaHasPopup:null,ariaHidden:Zs,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ko,ariaLevel:fn,ariaLive:null,ariaModal:Zs,ariaMultiLine:Zs,ariaMultiSelectable:Zs,ariaOrientation:null,ariaOwns:ko,ariaPlaceholder:null,ariaPosInSet:fn,ariaPressed:Zs,ariaReadOnly:Zs,ariaRelevant:null,ariaRequired:Zs,ariaRoleDescription:ko,ariaRowCount:fn,ariaRowIndex:fn,ariaRowSpan:fn,ariaSelected:Zs,ariaSetSize:fn,ariaSort:null,ariaValueMax:fn,ariaValueMin:fn,ariaValueNow:fn,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function ZK(t,e){return e in t?t[e]:e}function qK(t,e){return ZK(t,e.toLowerCase())}const wTe=DO({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:pw,acceptCharset:ko,accessKey:ko,action:null,allow:null,allowFullScreen:Pr,allowPaymentRequest:Pr,allowUserMedia:Pr,alt:null,as:null,async:Pr,autoCapitalize:null,autoComplete:ko,autoFocus:Pr,autoPlay:Pr,blocking:ko,capture:null,charSet:null,checked:Pr,cite:null,className:ko,cols:fn,colSpan:null,content:null,contentEditable:Zs,controls:Pr,controlsList:ko,coords:fn|pw,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Pr,defer:Pr,dir:null,dirName:null,disabled:Pr,download:p4,draggable:Zs,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Pr,formTarget:null,headers:ko,height:fn,hidden:p4,high:fn,href:null,hrefLang:null,htmlFor:ko,httpEquiv:ko,id:null,imageSizes:null,imageSrcSet:null,inert:Pr,inputMode:null,integrity:null,is:null,isMap:Pr,itemId:null,itemProp:ko,itemRef:ko,itemScope:Pr,itemType:ko,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Pr,low:fn,manifest:null,max:null,maxLength:fn,media:null,method:null,min:null,minLength:fn,multiple:Pr,muted:Pr,name:null,nonce:null,noModule:Pr,noValidate:Pr,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Pr,optimum:fn,pattern:null,ping:ko,placeholder:null,playsInline:Pr,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Pr,referrerPolicy:null,rel:ko,required:Pr,reversed:Pr,rows:fn,rowSpan:fn,sandbox:ko,scope:null,scoped:Pr,seamless:Pr,selected:Pr,shadowRootClonable:Pr,shadowRootDelegatesFocus:Pr,shadowRootMode:null,shape:null,size:fn,sizes:null,slot:null,span:fn,spellCheck:Zs,src:null,srcDoc:null,srcLang:null,srcSet:null,start:fn,step:null,style:null,tabIndex:fn,target:null,title:null,translate:null,type:null,typeMustMatch:Pr,useMap:null,value:Zs,width:fn,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ko,axis:null,background:null,bgColor:null,border:fn,borderColor:null,bottomMargin:fn,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Pr,declare:Pr,event:null,face:null,frame:null,frameBorder:null,hSpace:fn,leftMargin:fn,link:null,longDesc:null,lowSrc:null,marginHeight:fn,marginWidth:fn,noResize:Pr,noHref:Pr,noShade:Pr,noWrap:Pr,object:null,profile:null,prompt:null,rev:null,rightMargin:fn,rules:null,scheme:null,scrolling:Zs,standby:null,summary:null,text:null,topMargin:fn,valueType:null,version:null,vAlign:null,vLink:null,vSpace:fn,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Pr,disableRemotePlayback:Pr,prefix:null,property:null,results:fn,security:null,unselectable:null},space:"html",transform:qK}),OTe=DO({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ju,accentHeight:fn,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:fn,amplitude:fn,arabicForm:null,ascent:fn,attributeName:null,attributeType:null,azimuth:fn,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:fn,by:null,calcMode:null,capHeight:fn,className:ko,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:fn,diffuseConstant:fn,direction:null,display:null,dur:null,divisor:fn,dominantBaseline:null,download:Pr,dx:null,dy:null,edgeMode:null,editable:null,elevation:fn,enableBackground:null,end:null,event:null,exponent:fn,externalResourcesRequired:null,fill:null,fillOpacity:fn,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:pw,g2:pw,glyphName:pw,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:fn,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:fn,horizOriginX:fn,horizOriginY:fn,id:null,ideographic:fn,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:fn,k:fn,k1:fn,k2:fn,k3:fn,k4:fn,kernelMatrix:ju,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:fn,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:fn,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:fn,overlineThickness:fn,paintOrder:null,panose1:null,path:null,pathLength:fn,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ko,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:fn,pointsAtY:fn,pointsAtZ:fn,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ju,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ju,rev:ju,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ju,requiredFeatures:ju,requiredFonts:ju,requiredFormats:ju,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:fn,specularExponent:fn,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:fn,strikethroughThickness:fn,string:null,stroke:null,strokeDashArray:ju,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:fn,strokeOpacity:fn,strokeWidth:null,style:null,surfaceScale:fn,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ju,tabIndex:fn,tableValues:null,target:null,targetX:fn,targetY:fn,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ju,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:fn,underlineThickness:fn,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:fn,values:null,vAlphabetic:fn,vMathematical:fn,vectorEffect:null,vHanging:fn,vIdeographic:fn,version:null,vertAdvY:fn,vertOriginX:fn,vertOriginY:fn,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:fn,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:ZK}),WK=DO({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),HK=DO({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:qK}),GK=DO({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),STe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},CTe=/[A-Z]/g,KV=/-[a-z]/g,TTe=/^data[-\w.:]+$/i;function kTe(t,e){const n=f4(e);let r=e,i=du;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&TTe.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(KV,ATe);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!KV.test(o)){let a=o.replace(CTe,ETe);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=yB}return new i(r,e)}function ETe(t){return"-"+t.toLowerCase()}function ATe(t){return t.charAt(1).toUpperCase()}const PTe=QK([UK,wTe,WK,HK,GK],"html"),vB=QK([UK,OTe,WK,HK,GK],"svg");function MTe(t){return t.join(" ").trim()}var A1={},u3,JV;function RTe(){if(JV)return u3;JV=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,s=/^\s+|\s+$/g,u=`
`,d="/",g="*",v="",x="comment",O="declaration";function E(M,L){if(typeof M!="string")throw new TypeError("First argument must be a string");if(!M)return[];L=L||{};var $=1,N=1;function F(we){var pe=we.match(e);pe&&($+=pe.length);var _e=we.lastIndexOf(u);N=~_e?we.length-_e:N+we.length}function U(){var we={line:$,column:N};return function(pe){return pe.position=new q(we),re(),pe}}function q(we){this.start=we,this.end={line:$,column:N},this.source=L.source}q.prototype.content=M;function W(we){var pe=new Error(L.source+":"+$+":"+N+": "+we);if(pe.reason=we,pe.filename=L.source,pe.line=$,pe.column=N,pe.source=M,!L.silent)throw pe}function te(we){var pe=we.exec(M);if(pe){var _e=pe[0];return F(_e),M=M.slice(_e.length),pe}}function re(){te(n)}function ce(we){var pe;for(we=we||[];pe=be();)pe!==!1&&we.push(pe);return we}function be(){var we=U();if(!(d!=M.charAt(0)||g!=M.charAt(1))){for(var pe=2;v!=M.charAt(pe)&&(g!=M.charAt(pe)||d!=M.charAt(pe+1));)++pe;if(pe+=2,v===M.charAt(pe-1))return W("End of comment missing");var _e=M.slice(2,pe-2);return N+=2,F(_e),M=M.slice(pe),N+=2,we({type:x,comment:_e})}}function ie(){var we=U(),pe=te(r);if(pe){if(be(),!te(i))return W("property missing ':'");var _e=te(o),Me=we({type:O,property:A(pe[0].replace(t,v)),value:_e?A(_e[0].replace(t,v)):v});return te(a),Me}}function me(){var we=[];ce(we);for(var pe;pe=ie();)pe!==!1&&(we.push(pe),ce(we));return we}return re(),me()}function A(M){return M?M.replace(s,v):v}return u3=E,u3}var eQ;function ITe(){if(eQ)return A1;eQ=1;var t=A1&&A1.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(A1,"__esModule",{value:!0}),A1.default=n;const e=t(RTe());function n(r,i){let o=null;if(!r||typeof r!="string")return o;const a=(0,e.default)(r),s=typeof i=="function";return a.forEach(u=>{if(u.type!=="declaration")return;const{property:d,value:g}=u;s?i(d,g,u):g&&(o=o||{},o[d]=g)}),o}return A1}var A2={},tQ;function DTe(){if(tQ)return A2;tQ=1,Object.defineProperty(A2,"__esModule",{value:!0}),A2.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(d){return!d||n.test(d)||t.test(d)},a=function(d,g){return g.toUpperCase()},s=function(d,g){return"".concat(g,"-")},u=function(d,g){return g===void 0&&(g={}),o(d)?d:(d=d.toLowerCase(),g.reactCompat?d=d.replace(i,s):d=d.replace(r,s),d.replace(e,a))};return A2.camelCase=u,A2}var P2,nQ;function LTe(){if(nQ)return P2;nQ=1;var t=P2&&P2.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(ITe()),n=DTe();function r(i,o){var a={};return!i||typeof i!="string"||(0,e.default)(i,function(s,u){s&&u&&(a[(0,n.camelCase)(s,o)]=u)}),a}return r.default=r,P2=r,P2}var $Te=LTe();const zTe=tv($Te),XK=YK("end"),_B=YK("start");function YK(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function NTe(t){const e=_B(t),n=XK(t);if(e&&n)return{start:e,end:n}}function Bg(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?rQ(t.position):"start"in t||"end"in t?rQ(t):"line"in t||"column"in t?g4(t):""}function g4(t){return iQ(t&&t.line)+":"+iQ(t&&t.column)}function rQ(t){return g4(t&&t.start)+"-"+g4(t&&t.end)}function iQ(t){return t&&typeof t=="number"?t:1}class Ei extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},a=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?i=e:!o.cause&&e&&(a=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?o.ruleId=r:(o.source=r.slice(0,u),o.ruleId=r.slice(u+1))}if(!o.place&&o.ancestors&&o.ancestors){const u=o.ancestors[o.ancestors.length-1];u&&(o.place=u.position)}const s=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=Bg(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=a&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ei.prototype.file="";Ei.prototype.name="";Ei.prototype.reason="";Ei.prototype.message="";Ei.prototype.stack="";Ei.prototype.column=void 0;Ei.prototype.line=void 0;Ei.prototype.ancestors=void 0;Ei.prototype.cause=void 0;Ei.prototype.fatal=void 0;Ei.prototype.place=void 0;Ei.prototype.ruleId=void 0;Ei.prototype.source=void 0;const xB={}.hasOwnProperty,BTe=new Map,FTe=/[A-Z]/g,jTe=new Set(["table","tbody","thead","tfoot","tr"]),VTe=new Set(["td","th"]),KK="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function QTe(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=YTe(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=XTe(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?vB:PTe,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=JK(i,t,void 0);return o&&typeof o!="string"?o:i.create(t,i.Fragment,{children:o||void 0},void 0)}function JK(t,e,n){if(e.type==="element")return UTe(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return ZTe(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return WTe(t,e,n);if(e.type==="mdxjsEsm")return qTe(t,e);if(e.type==="root")return HTe(t,e,n);if(e.type==="text")return GTe(t,e)}function UTe(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=vB,t.schema=i),t.ancestors.push(e);const o=tJ(t,e.tagName,!1),a=KTe(t,e);let s=wB(t,e);return jTe.has(e.tagName)&&(s=s.filter(function(u){return typeof u=="string"?!xTe(u):!0})),eJ(t,a,o,e),bB(a,s),t.ancestors.pop(),t.schema=r,t.create(e,o,a,n)}function ZTe(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}oT(t,e.position)}function qTe(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);oT(t,e.position)}function WTe(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=vB,t.schema=i),t.ancestors.push(e);const o=e.name===null?t.Fragment:tJ(t,e.name,!0),a=JTe(t,e),s=wB(t,e);return eJ(t,a,o,e),bB(a,s),t.ancestors.pop(),t.schema=r,t.create(e,o,a,n)}function HTe(t,e,n){const r={};return bB(r,wB(t,e)),t.create(e,t.Fragment,r,n)}function GTe(t,e){return e.value}function eJ(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function bB(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function XTe(t,e,n){return r;function r(i,o,a,s){const d=Array.isArray(a.children)?n:e;return s?d(o,a,s):d(o,a)}}function YTe(t,e){return n;function n(r,i,o,a){const s=Array.isArray(o.children),u=_B(r);return e(i,o,a,s,{columnNumber:u?u.column-1:void 0,fileName:t,lineNumber:u?u.line:void 0},void 0)}}function KTe(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&xB.call(e.properties,i)){const o=eke(t,i,e.properties[i]);if(o){const[a,s]=o;t.tableCellAlignToStyle&&a==="align"&&typeof s=="string"&&VTe.has(e.tagName)?r=s:n[a]=s}}if(r){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function JTe(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const o=r.data.estree.body[0];o.type;const a=o.expression;a.type;const s=a.properties[0];s.type,Object.assign(n,t.evaluater.evaluateExpression(s.argument))}else oT(t,e.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const s=r.value.data.estree.body[0];s.type,o=t.evaluater.evaluateExpression(s.expression)}else oT(t,e.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function wB(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:BTe;for(;++r<e.children.length;){const o=e.children[r];let a;if(t.passKeys){const u=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(u){const d=i.get(u)||0;a=u+"-"+d,i.set(u,d+1)}}const s=JK(t,o,a);s!==void 0&&n.push(s)}return n}function eke(t,e,n){const r=kTe(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?fTe(n):MTe(n)),r.property==="style"){let i=typeof n=="object"?n:tke(t,String(n));return t.stylePropertyNameCase==="css"&&(i=nke(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?STe[r.property]||r.property:r.attribute,n]}}function tke(t,e){try{return zTe(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Ei("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=KK+"#cannot-parse-style-attribute",i}}function tJ(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let o=-1,a;for(;++o<i.length;){const s=GV(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};a=a?{type:"MemberExpression",object:a,property:s,computed:!!(o&&s.type==="Literal"),optional:!1}:s}r=a}else r=GV(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return xB.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);oT(t)}function oT(t,e){const n=new Ei("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=KK+"#cannot-handle-mdx-estrees-without-createevaluater",n}function nke(t){const e={};let n;for(n in t)xB.call(t,n)&&(e[rke(n)]=t[n]);return e}function rke(t){let e=t.replace(FTe,ike);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function ike(t){return"-"+t.toLowerCase()}const h3={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},oke={};function OB(t,e){const n=oke,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return nJ(t,r,i)}function nJ(t,e,n){if(ske(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return oQ(t.children,e,n)}return Array.isArray(t)?oQ(t,e,n):""}function oQ(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=nJ(t[i],e,n);return r.join("")}function ske(t){return!!(t&&typeof t=="object")}const sQ=document.createElement("i");function sT(t){const e="&"+t+";";sQ.innerHTML=e;const n=sQ.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Dl(t,e,n,r){const i=t.length;let o=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(e,n),t.splice(...a);else for(n&&t.splice(e,n);o<r.length;)a=r.slice(o,o+1e4),a.unshift(e,0),t.splice(...a),o+=1e4,e+=1e4}function Uh(t,e){return t.length>0?(Dl(t,t.length,0,e),t):e}const aQ={}.hasOwnProperty;function ake(t){const e={};let n=-1;for(;++n<t.length;)lke(e,t[n]);return e}function lke(t,e){let n;for(n in e){const i=(aQ.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let a;if(o)for(a in o){aQ.call(i,a)||(i[a]=[]);const s=o[a];cke(i[a],Array.isArray(s)?s:s?[s]:[])}}}function cke(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Dl(t,0,0,r)}function rJ(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function mw(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const qh=ov(/[A-Za-z]/),dc=ov(/[\dA-Za-z]/),uke=ov(/[#-'*+\--9=?A-Z^-~]/);function y4(t){return t!==null&&(t<32||t===127)}const v4=ov(/\d/),hke=ov(/[\dA-Fa-f]/),dke=ov(/[!-/:-@[-`{-~]/);function kn(t){return t!==null&&t<-2}function ki(t){return t!==null&&(t<0||t===32)}function mr(t){return t===-2||t===-1||t===32}const fke=ov(new RegExp("\\p{P}|\\p{S}","u")),Ag=ov(/\s/);function ov(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function LO(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const o=t.charCodeAt(n);let a="";if(o===37&&dc(t.charCodeAt(n+1))&&dc(t.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const s=t.charCodeAt(n+1);o<56320&&s>56319&&s<57344?(a=String.fromCharCode(o,s),i=1):a=""}else a=String.fromCharCode(o);a&&(e.push(t.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Tr(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return a;function a(u){return mr(u)?(t.enter(n),s(u)):e(u)}function s(u){return mr(u)&&o++<i?(t.consume(u),s):(t.exit(n),e(u))}}const pke={tokenize:mke};function mke(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),Tr(t,e,"linePrefix")}function i(s){return t.enter("paragraph"),o(s)}function o(s){const u=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,a(s)}function a(s){if(s===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(s);return}return kn(s)?(t.consume(s),t.exit("chunkText"),o):(t.consume(s),a)}}const gke={tokenize:yke},lQ={tokenize:vke};function yke(t){const e=this,n=[];let r=0,i,o,a;return s;function s(N){if(r<n.length){const F=n[r];return e.containerState=F[1],t.attempt(F[0].continuation,u,d)(N)}return d(N)}function u(N){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&$();const F=e.events.length;let U=F,q;for(;U--;)if(e.events[U][0]==="exit"&&e.events[U][1].type==="chunkFlow"){q=e.events[U][1].end;break}L(r);let W=F;for(;W<e.events.length;)e.events[W][1].end={...q},W++;return Dl(e.events,U+1,0,e.events.slice(F)),e.events.length=W,d(N)}return s(N)}function d(N){if(r===n.length){if(!i)return x(N);if(i.currentConstruct&&i.currentConstruct.concrete)return E(N);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(lQ,g,v)(N)}function g(N){return i&&$(),L(r),x(N)}function v(N){return e.parser.lazy[e.now().line]=r!==n.length,a=e.now().offset,E(N)}function x(N){return e.containerState={},t.attempt(lQ,O,E)(N)}function O(N){return r++,n.push([e.currentConstruct,e.containerState]),x(N)}function E(N){if(N===null){i&&$(),L(0),t.consume(N);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),A(N)}function A(N){if(N===null){M(t.exit("chunkFlow"),!0),L(0),t.consume(N);return}return kn(N)?(t.consume(N),M(t.exit("chunkFlow")),r=0,e.interrupt=void 0,s):(t.consume(N),A)}function M(N,F){const U=e.sliceStream(N);if(F&&U.push(null),N.previous=o,o&&(o.next=N),o=N,i.defineSkip(N.start),i.write(U),e.parser.lazy[N.start.line]){let q=i.events.length;for(;q--;)if(i.events[q][1].start.offset<a&&(!i.events[q][1].end||i.events[q][1].end.offset>a))return;const W=e.events.length;let te=W,re,ce;for(;te--;)if(e.events[te][0]==="exit"&&e.events[te][1].type==="chunkFlow"){if(re){ce=e.events[te][1].end;break}re=!0}for(L(r),q=W;q<e.events.length;)e.events[q][1].end={...ce},q++;Dl(e.events,te+1,0,e.events.slice(W)),e.events.length=q}}function L(N){let F=n.length;for(;F-- >N;){const U=n[F];e.containerState=U[1],U[0].exit.call(e,t)}n.length=N}function $(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}function vke(t,e,n){return Tr(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Q0(t){if(t===null||ki(t)||Ag(t))return 1;if(fke(t))return 2}function mk(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const o=t[i].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const _4={name:"attention",resolveAll:_ke,tokenize:xke};function _ke(t,e){let n=-1,r,i,o,a,s,u,d,g;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;u=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const v={...t[r][1].end},x={...t[n][1].start};cQ(v,-u),cQ(x,u),a={type:u>1?"strongSequence":"emphasisSequence",start:v,end:{...t[r][1].end}},s={type:u>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:x},o={type:u>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:u>1?"strong":"emphasis",start:{...a.start},end:{...s.end}},t[r][1].end={...a.start},t[n][1].start={...s.end},d=[],t[r][1].end.offset-t[r][1].start.offset&&(d=Uh(d,[["enter",t[r][1],e],["exit",t[r][1],e]])),d=Uh(d,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",o,e]]),d=Uh(d,mk(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),d=Uh(d,[["exit",o,e],["enter",s,e],["exit",s,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(g=2,d=Uh(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):g=0,Dl(t,r-1,n-r+3,d),n=r+d.length-g-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function xke(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Q0(r);let o;return a;function a(u){return o=u,t.enter("attentionSequence"),s(u)}function s(u){if(u===o)return t.consume(u),s;const d=t.exit("attentionSequence"),g=Q0(u),v=!g||g===2&&i||n.includes(u),x=!i||i===2&&g||n.includes(r);return d._open=!!(o===42?v:v&&(i||!x)),d._close=!!(o===42?x:x&&(g||!v)),e(u)}}function cQ(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const bke={name:"autolink",tokenize:wke};function wke(t,e,n){let r=0;return i;function i(O){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(O),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(O){return qh(O)?(t.consume(O),a):O===64?n(O):d(O)}function a(O){return O===43||O===45||O===46||dc(O)?(r=1,s(O)):d(O)}function s(O){return O===58?(t.consume(O),r=0,u):(O===43||O===45||O===46||dc(O))&&r++<32?(t.consume(O),s):(r=0,d(O))}function u(O){return O===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(O),t.exit("autolinkMarker"),t.exit("autolink"),e):O===null||O===32||O===60||y4(O)?n(O):(t.consume(O),u)}function d(O){return O===64?(t.consume(O),g):uke(O)?(t.consume(O),d):n(O)}function g(O){return dc(O)?v(O):n(O)}function v(O){return O===46?(t.consume(O),r=0,g):O===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(O),t.exit("autolinkMarker"),t.exit("autolink"),e):x(O)}function x(O){if((O===45||dc(O))&&r++<63){const E=O===45?x:v;return t.consume(O),E}return n(O)}}const RR={partial:!0,tokenize:Oke};function Oke(t,e,n){return r;function r(o){return mr(o)?Tr(t,i,"linePrefix")(o):i(o)}function i(o){return o===null||kn(o)?e(o):n(o)}}const iJ={continuation:{tokenize:Cke},exit:Tke,name:"blockQuote",tokenize:Ske};function Ske(t,e,n){const r=this;return i;function i(a){if(a===62){const s=r.containerState;return s.open||(t.enter("blockQuote",{_container:!0}),s.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),o}return n(a)}function o(a){return mr(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function Cke(t,e,n){const r=this;return i;function i(a){return mr(a)?Tr(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):o(a)}function o(a){return t.attempt(iJ,e,n)(a)}}function Tke(t){t.exit("blockQuote")}const oJ={name:"characterEscape",tokenize:kke};function kke(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return dke(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const sJ={name:"characterReference",tokenize:Eke};function Eke(t,e,n){const r=this;let i=0,o,a;return s;function s(v){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(v),t.exit("characterReferenceMarker"),u}function u(v){return v===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(v),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),o=31,a=dc,g(v))}function d(v){return v===88||v===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(v),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,a=hke,g):(t.enter("characterReferenceValue"),o=7,a=v4,g(v))}function g(v){if(v===59&&i){const x=t.exit("characterReferenceValue");return a===dc&&!sT(r.sliceSerialize(x))?n(v):(t.enter("characterReferenceMarker"),t.consume(v),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(v)&&i++<o?(t.consume(v),g):n(v)}}const uQ={partial:!0,tokenize:Pke},hQ={concrete:!0,name:"codeFenced",tokenize:Ake};function Ake(t,e,n){const r=this,i={partial:!0,tokenize:U};let o=0,a=0,s;return u;function u(q){return d(q)}function d(q){const W=r.events[r.events.length-1];return o=W&&W[1].type==="linePrefix"?W[2].sliceSerialize(W[1],!0).length:0,s=q,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),g(q)}function g(q){return q===s?(a++,t.consume(q),g):a<3?n(q):(t.exit("codeFencedFenceSequence"),mr(q)?Tr(t,v,"whitespace")(q):v(q))}function v(q){return q===null||kn(q)?(t.exit("codeFencedFence"),r.interrupt?e(q):t.check(uQ,A,F)(q)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),x(q))}function x(q){return q===null||kn(q)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),v(q)):mr(q)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Tr(t,O,"whitespace")(q)):q===96&&q===s?n(q):(t.consume(q),x)}function O(q){return q===null||kn(q)?v(q):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),E(q))}function E(q){return q===null||kn(q)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),v(q)):q===96&&q===s?n(q):(t.consume(q),E)}function A(q){return t.attempt(i,F,M)(q)}function M(q){return t.enter("lineEnding"),t.consume(q),t.exit("lineEnding"),L}function L(q){return o>0&&mr(q)?Tr(t,$,"linePrefix",o+1)(q):$(q)}function $(q){return q===null||kn(q)?t.check(uQ,A,F)(q):(t.enter("codeFlowValue"),N(q))}function N(q){return q===null||kn(q)?(t.exit("codeFlowValue"),$(q)):(t.consume(q),N)}function F(q){return t.exit("codeFenced"),e(q)}function U(q,W,te){let re=0;return ce;function ce(pe){return q.enter("lineEnding"),q.consume(pe),q.exit("lineEnding"),be}function be(pe){return q.enter("codeFencedFence"),mr(pe)?Tr(q,ie,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(pe):ie(pe)}function ie(pe){return pe===s?(q.enter("codeFencedFenceSequence"),me(pe)):te(pe)}function me(pe){return pe===s?(re++,q.consume(pe),me):re>=a?(q.exit("codeFencedFenceSequence"),mr(pe)?Tr(q,we,"whitespace")(pe):we(pe)):te(pe)}function we(pe){return pe===null||kn(pe)?(q.exit("codeFencedFence"),W(pe)):te(pe)}}}function Pke(t,e,n){const r=this;return i;function i(a){return a===null?n(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),o)}function o(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}const d3={name:"codeIndented",tokenize:Rke},Mke={partial:!0,tokenize:Ike};function Rke(t,e,n){const r=this;return i;function i(d){return t.enter("codeIndented"),Tr(t,o,"linePrefix",5)(d)}function o(d){const g=r.events[r.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?a(d):n(d)}function a(d){return d===null?u(d):kn(d)?t.attempt(Mke,a,u)(d):(t.enter("codeFlowValue"),s(d))}function s(d){return d===null||kn(d)?(t.exit("codeFlowValue"),a(d)):(t.consume(d),s)}function u(d){return t.exit("codeIndented"),e(d)}}function Ike(t,e,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):kn(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):Tr(t,o,"linePrefix",5)(a)}function o(a){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?e(a):kn(a)?i(a):n(a)}}const Dke={name:"codeText",previous:$ke,resolve:Lke,tokenize:zke};function Lke(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function $ke(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function zke(t,e,n){let r=0,i,o;return a;function a(v){return t.enter("codeText"),t.enter("codeTextSequence"),s(v)}function s(v){return v===96?(t.consume(v),r++,s):(t.exit("codeTextSequence"),u(v))}function u(v){return v===null?n(v):v===32?(t.enter("space"),t.consume(v),t.exit("space"),u):v===96?(o=t.enter("codeTextSequence"),i=0,g(v)):kn(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),u):(t.enter("codeTextData"),d(v))}function d(v){return v===null||v===32||v===96||kn(v)?(t.exit("codeTextData"),u(v)):(t.consume(v),d)}function g(v){return v===96?(t.consume(v),i++,g):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(v)):(o.type="codeTextData",d(v))}}class Nke{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&M2(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),M2(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),M2(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);M2(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);M2(this.left,n.reverse())}}}function M2(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function aJ(t){const e={};let n=-1,r,i,o,a,s,u,d;const g=new Nke(t);for(;++n<g.length;){for(;n in e;)n=e[n];if(r=g.get(n),n&&r[1].type==="chunkFlow"&&g.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,o=0,o<u.length&&u[o][1].type==="lineEndingBlank"&&(o+=2),o<u.length&&u[o][1].type==="content"))for(;++o<u.length&&u[o][1].type!=="content";)u[o][1].type==="chunkText"&&(u[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Bke(g,n)),n=e[n],d=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(a=g.get(o),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(g.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=o);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...g.get(i)[1].start},s=g.slice(i,n),s.unshift(r),g.splice(i,n-i+1,s))}}return Dl(t,0,Number.POSITIVE_INFINITY,g.slice(0)),!d}function Bke(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const o=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const s=a.events,u=[],d={};let g,v,x=-1,O=n,E=0,A=0;const M=[A];for(;O;){for(;t.get(++i)[1]!==O;);o.push(i),O._tokenizer||(g=r.sliceStream(O),O.next||g.push(null),v&&a.defineSkip(O.start),O._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(g),O._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),v=O,O=O.next}for(O=n;++x<s.length;)s[x][0]==="exit"&&s[x-1][0]==="enter"&&s[x][1].type===s[x-1][1].type&&s[x][1].start.line!==s[x][1].end.line&&(A=x+1,M.push(A),O._tokenizer=void 0,O.previous=void 0,O=O.next);for(a.events=[],O?(O._tokenizer=void 0,O.previous=void 0):M.pop(),x=M.length;x--;){const L=s.slice(M[x],M[x+1]),$=o.pop();u.push([$,$+L.length-1]),t.splice($,2,L)}for(u.reverse(),x=-1;++x<u.length;)d[E+u[x][0]]=E+u[x][1],E+=u[x][1]-u[x][0]-1;return d}const Fke={resolve:Vke,tokenize:Qke},jke={partial:!0,tokenize:Uke};function Vke(t){return aJ(t),t}function Qke(t,e){let n;return r;function r(s){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?o(s):kn(s)?t.check(jke,a,o)(s):(t.consume(s),i)}function o(s){return t.exit("chunkContent"),t.exit("content"),e(s)}function a(s){return t.consume(s),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Uke(t,e,n){const r=this;return i;function i(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Tr(t,o,"linePrefix")}function o(a){if(a===null||kn(a))return n(a);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?e(a):t.interrupt(r.parser.constructs.flow,n,e)(a)}}function lJ(t,e,n,r,i,o,a,s,u){const d=u||Number.POSITIVE_INFINITY;let g=0;return v;function v(L){return L===60?(t.enter(r),t.enter(i),t.enter(o),t.consume(L),t.exit(o),x):L===null||L===32||L===41||y4(L)?n(L):(t.enter(r),t.enter(a),t.enter(s),t.enter("chunkString",{contentType:"string"}),A(L))}function x(L){return L===62?(t.enter(o),t.consume(L),t.exit(o),t.exit(i),t.exit(r),e):(t.enter(s),t.enter("chunkString",{contentType:"string"}),O(L))}function O(L){return L===62?(t.exit("chunkString"),t.exit(s),x(L)):L===null||L===60||kn(L)?n(L):(t.consume(L),L===92?E:O)}function E(L){return L===60||L===62||L===92?(t.consume(L),O):O(L)}function A(L){return!g&&(L===null||L===41||ki(L))?(t.exit("chunkString"),t.exit(s),t.exit(a),t.exit(r),e(L)):g<d&&L===40?(t.consume(L),g++,A):L===41?(t.consume(L),g--,A):L===null||L===32||L===40||y4(L)?n(L):(t.consume(L),L===92?M:A)}function M(L){return L===40||L===41||L===92?(t.consume(L),A):A(L)}}function cJ(t,e,n,r,i,o){const a=this;let s=0,u;return d;function d(O){return t.enter(r),t.enter(i),t.consume(O),t.exit(i),t.enter(o),g}function g(O){return s>999||O===null||O===91||O===93&&!u||O===94&&!s&&"_hiddenFootnoteSupport"in a.parser.constructs?n(O):O===93?(t.exit(o),t.enter(i),t.consume(O),t.exit(i),t.exit(r),e):kn(O)?(t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),g):(t.enter("chunkString",{contentType:"string"}),v(O))}function v(O){return O===null||O===91||O===93||kn(O)||s++>999?(t.exit("chunkString"),g(O)):(t.consume(O),u||(u=!mr(O)),O===92?x:v)}function x(O){return O===91||O===92||O===93?(t.consume(O),s++,v):v(O)}}function uJ(t,e,n,r,i,o){let a;return s;function s(x){return x===34||x===39||x===40?(t.enter(r),t.enter(i),t.consume(x),t.exit(i),a=x===40?41:x,u):n(x)}function u(x){return x===a?(t.enter(i),t.consume(x),t.exit(i),t.exit(r),e):(t.enter(o),d(x))}function d(x){return x===a?(t.exit(o),u(a)):x===null?n(x):kn(x)?(t.enter("lineEnding"),t.consume(x),t.exit("lineEnding"),Tr(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),g(x))}function g(x){return x===a||x===null||kn(x)?(t.exit("chunkString"),d(x)):(t.consume(x),x===92?v:g)}function v(x){return x===a||x===92?(t.consume(x),g):g(x)}}function Fg(t,e){let n;return r;function r(i){return kn(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):mr(i)?Tr(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const Zke={name:"definition",tokenize:Wke},qke={partial:!0,tokenize:Hke};function Wke(t,e,n){const r=this;let i;return o;function o(O){return t.enter("definition"),a(O)}function a(O){return cJ.call(r,t,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(O)}function s(O){return i=mw(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),O===58?(t.enter("definitionMarker"),t.consume(O),t.exit("definitionMarker"),u):n(O)}function u(O){return ki(O)?Fg(t,d)(O):d(O)}function d(O){return lJ(t,g,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(O)}function g(O){return t.attempt(qke,v,v)(O)}function v(O){return mr(O)?Tr(t,x,"whitespace")(O):x(O)}function x(O){return O===null||kn(O)?(t.exit("definition"),r.parser.defined.push(i),e(O)):n(O)}}function Hke(t,e,n){return r;function r(s){return ki(s)?Fg(t,i)(s):n(s)}function i(s){return uJ(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function o(s){return mr(s)?Tr(t,a,"whitespace")(s):a(s)}function a(s){return s===null||kn(s)?e(s):n(s)}}const Gke={name:"hardBreakEscape",tokenize:Xke};function Xke(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),i}function i(o){return kn(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const Yke={name:"headingAtx",resolve:Kke,tokenize:Jke};function Kke(t,e){let n=t.length-2,r=3,i,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Dl(t,r,n-r+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}function Jke(t,e,n){let r=0;return i;function i(g){return t.enter("atxHeading"),o(g)}function o(g){return t.enter("atxHeadingSequence"),a(g)}function a(g){return g===35&&r++<6?(t.consume(g),a):g===null||ki(g)?(t.exit("atxHeadingSequence"),s(g)):n(g)}function s(g){return g===35?(t.enter("atxHeadingSequence"),u(g)):g===null||kn(g)?(t.exit("atxHeading"),e(g)):mr(g)?Tr(t,s,"whitespace")(g):(t.enter("atxHeadingText"),d(g))}function u(g){return g===35?(t.consume(g),u):(t.exit("atxHeadingSequence"),s(g))}function d(g){return g===null||g===35||ki(g)?(t.exit("atxHeadingText"),s(g)):(t.consume(g),d)}}const eEe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],dQ=["pre","script","style","textarea"],tEe={concrete:!0,name:"htmlFlow",resolveTo:iEe,tokenize:oEe},nEe={partial:!0,tokenize:aEe},rEe={partial:!0,tokenize:sEe};function iEe(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function oEe(t,e,n){const r=this;let i,o,a,s,u;return d;function d(ke){return g(ke)}function g(ke){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(ke),v}function v(ke){return ke===33?(t.consume(ke),x):ke===47?(t.consume(ke),o=!0,A):ke===63?(t.consume(ke),i=3,r.interrupt?e:Ce):qh(ke)?(t.consume(ke),a=String.fromCharCode(ke),M):n(ke)}function x(ke){return ke===45?(t.consume(ke),i=2,O):ke===91?(t.consume(ke),i=5,s=0,E):qh(ke)?(t.consume(ke),i=4,r.interrupt?e:Ce):n(ke)}function O(ke){return ke===45?(t.consume(ke),r.interrupt?e:Ce):n(ke)}function E(ke){const mt="CDATA[";return ke===mt.charCodeAt(s++)?(t.consume(ke),s===mt.length?r.interrupt?e:ie:E):n(ke)}function A(ke){return qh(ke)?(t.consume(ke),a=String.fromCharCode(ke),M):n(ke)}function M(ke){if(ke===null||ke===47||ke===62||ki(ke)){const mt=ke===47,gt=a.toLowerCase();return!mt&&!o&&dQ.includes(gt)?(i=1,r.interrupt?e(ke):ie(ke)):eEe.includes(a.toLowerCase())?(i=6,mt?(t.consume(ke),L):r.interrupt?e(ke):ie(ke)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(ke):o?$(ke):N(ke))}return ke===45||dc(ke)?(t.consume(ke),a+=String.fromCharCode(ke),M):n(ke)}function L(ke){return ke===62?(t.consume(ke),r.interrupt?e:ie):n(ke)}function $(ke){return mr(ke)?(t.consume(ke),$):ce(ke)}function N(ke){return ke===47?(t.consume(ke),ce):ke===58||ke===95||qh(ke)?(t.consume(ke),F):mr(ke)?(t.consume(ke),N):ce(ke)}function F(ke){return ke===45||ke===46||ke===58||ke===95||dc(ke)?(t.consume(ke),F):U(ke)}function U(ke){return ke===61?(t.consume(ke),q):mr(ke)?(t.consume(ke),U):N(ke)}function q(ke){return ke===null||ke===60||ke===61||ke===62||ke===96?n(ke):ke===34||ke===39?(t.consume(ke),u=ke,W):mr(ke)?(t.consume(ke),q):te(ke)}function W(ke){return ke===u?(t.consume(ke),u=null,re):ke===null||kn(ke)?n(ke):(t.consume(ke),W)}function te(ke){return ke===null||ke===34||ke===39||ke===47||ke===60||ke===61||ke===62||ke===96||ki(ke)?U(ke):(t.consume(ke),te)}function re(ke){return ke===47||ke===62||mr(ke)?N(ke):n(ke)}function ce(ke){return ke===62?(t.consume(ke),be):n(ke)}function be(ke){return ke===null||kn(ke)?ie(ke):mr(ke)?(t.consume(ke),be):n(ke)}function ie(ke){return ke===45&&i===2?(t.consume(ke),_e):ke===60&&i===1?(t.consume(ke),Me):ke===62&&i===4?(t.consume(ke),Pe):ke===63&&i===3?(t.consume(ke),Ce):ke===93&&i===5?(t.consume(ke),Ue):kn(ke)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(nEe,Xe,me)(ke)):ke===null||kn(ke)?(t.exit("htmlFlowData"),me(ke)):(t.consume(ke),ie)}function me(ke){return t.check(rEe,we,Xe)(ke)}function we(ke){return t.enter("lineEnding"),t.consume(ke),t.exit("lineEnding"),pe}function pe(ke){return ke===null||kn(ke)?me(ke):(t.enter("htmlFlowData"),ie(ke))}function _e(ke){return ke===45?(t.consume(ke),Ce):ie(ke)}function Me(ke){return ke===47?(t.consume(ke),a="",Be):ie(ke)}function Be(ke){if(ke===62){const mt=a.toLowerCase();return dQ.includes(mt)?(t.consume(ke),Pe):ie(ke)}return qh(ke)&&a.length<8?(t.consume(ke),a+=String.fromCharCode(ke),Be):ie(ke)}function Ue(ke){return ke===93?(t.consume(ke),Ce):ie(ke)}function Ce(ke){return ke===62?(t.consume(ke),Pe):ke===45&&i===2?(t.consume(ke),Ce):ie(ke)}function Pe(ke){return ke===null||kn(ke)?(t.exit("htmlFlowData"),Xe(ke)):(t.consume(ke),Pe)}function Xe(ke){return t.exit("htmlFlow"),e(ke)}}function sEe(t,e,n){const r=this;return i;function i(a){return kn(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),o):n(a)}function o(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}function aEe(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(RR,e,n)}}const lEe={name:"htmlText",tokenize:cEe};function cEe(t,e,n){const r=this;let i,o,a;return s;function s(Ce){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(Ce),u}function u(Ce){return Ce===33?(t.consume(Ce),d):Ce===47?(t.consume(Ce),U):Ce===63?(t.consume(Ce),N):qh(Ce)?(t.consume(Ce),te):n(Ce)}function d(Ce){return Ce===45?(t.consume(Ce),g):Ce===91?(t.consume(Ce),o=0,E):qh(Ce)?(t.consume(Ce),$):n(Ce)}function g(Ce){return Ce===45?(t.consume(Ce),O):n(Ce)}function v(Ce){return Ce===null?n(Ce):Ce===45?(t.consume(Ce),x):kn(Ce)?(a=v,Me(Ce)):(t.consume(Ce),v)}function x(Ce){return Ce===45?(t.consume(Ce),O):v(Ce)}function O(Ce){return Ce===62?_e(Ce):Ce===45?x(Ce):v(Ce)}function E(Ce){const Pe="CDATA[";return Ce===Pe.charCodeAt(o++)?(t.consume(Ce),o===Pe.length?A:E):n(Ce)}function A(Ce){return Ce===null?n(Ce):Ce===93?(t.consume(Ce),M):kn(Ce)?(a=A,Me(Ce)):(t.consume(Ce),A)}function M(Ce){return Ce===93?(t.consume(Ce),L):A(Ce)}function L(Ce){return Ce===62?_e(Ce):Ce===93?(t.consume(Ce),L):A(Ce)}function $(Ce){return Ce===null||Ce===62?_e(Ce):kn(Ce)?(a=$,Me(Ce)):(t.consume(Ce),$)}function N(Ce){return Ce===null?n(Ce):Ce===63?(t.consume(Ce),F):kn(Ce)?(a=N,Me(Ce)):(t.consume(Ce),N)}function F(Ce){return Ce===62?_e(Ce):N(Ce)}function U(Ce){return qh(Ce)?(t.consume(Ce),q):n(Ce)}function q(Ce){return Ce===45||dc(Ce)?(t.consume(Ce),q):W(Ce)}function W(Ce){return kn(Ce)?(a=W,Me(Ce)):mr(Ce)?(t.consume(Ce),W):_e(Ce)}function te(Ce){return Ce===45||dc(Ce)?(t.consume(Ce),te):Ce===47||Ce===62||ki(Ce)?re(Ce):n(Ce)}function re(Ce){return Ce===47?(t.consume(Ce),_e):Ce===58||Ce===95||qh(Ce)?(t.consume(Ce),ce):kn(Ce)?(a=re,Me(Ce)):mr(Ce)?(t.consume(Ce),re):_e(Ce)}function ce(Ce){return Ce===45||Ce===46||Ce===58||Ce===95||dc(Ce)?(t.consume(Ce),ce):be(Ce)}function be(Ce){return Ce===61?(t.consume(Ce),ie):kn(Ce)?(a=be,Me(Ce)):mr(Ce)?(t.consume(Ce),be):re(Ce)}function ie(Ce){return Ce===null||Ce===60||Ce===61||Ce===62||Ce===96?n(Ce):Ce===34||Ce===39?(t.consume(Ce),i=Ce,me):kn(Ce)?(a=ie,Me(Ce)):mr(Ce)?(t.consume(Ce),ie):(t.consume(Ce),we)}function me(Ce){return Ce===i?(t.consume(Ce),i=void 0,pe):Ce===null?n(Ce):kn(Ce)?(a=me,Me(Ce)):(t.consume(Ce),me)}function we(Ce){return Ce===null||Ce===34||Ce===39||Ce===60||Ce===61||Ce===96?n(Ce):Ce===47||Ce===62||ki(Ce)?re(Ce):(t.consume(Ce),we)}function pe(Ce){return Ce===47||Ce===62||ki(Ce)?re(Ce):n(Ce)}function _e(Ce){return Ce===62?(t.consume(Ce),t.exit("htmlTextData"),t.exit("htmlText"),e):n(Ce)}function Me(Ce){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(Ce),t.exit("lineEnding"),Be}function Be(Ce){return mr(Ce)?Tr(t,Ue,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Ce):Ue(Ce)}function Ue(Ce){return t.enter("htmlTextData"),a(Ce)}}const SB={name:"labelEnd",resolveAll:fEe,resolveTo:pEe,tokenize:mEe},uEe={tokenize:gEe},hEe={tokenize:yEe},dEe={tokenize:vEe};function fEe(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Dl(t,0,t.length,n),t}function pEe(t,e){let n=t.length,r=0,i,o,a,s;for(;n--;)if(i=t[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const u={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[o][1].start},end:{...t[a][1].end}},g={type:"labelText",start:{...t[o+r+2][1].end},end:{...t[a-2][1].start}};return s=[["enter",u,e],["enter",d,e]],s=Uh(s,t.slice(o+1,o+r+3)),s=Uh(s,[["enter",g,e]]),s=Uh(s,mk(e.parser.constructs.insideSpan.null,t.slice(o+r+4,a-3),e)),s=Uh(s,[["exit",g,e],t[a-2],t[a-1],["exit",d,e]]),s=Uh(s,t.slice(a+1)),s=Uh(s,[["exit",u,e]]),Dl(t,o,t.length,s),t}function mEe(t,e,n){const r=this;let i=r.events.length,o,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return s;function s(x){return o?o._inactive?v(x):(a=r.parser.defined.includes(mw(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(x),t.exit("labelMarker"),t.exit("labelEnd"),u):n(x)}function u(x){return x===40?t.attempt(uEe,g,a?g:v)(x):x===91?t.attempt(hEe,g,a?d:v)(x):a?g(x):v(x)}function d(x){return t.attempt(dEe,g,v)(x)}function g(x){return e(x)}function v(x){return o._balanced=!0,n(x)}}function gEe(t,e,n){return r;function r(v){return t.enter("resource"),t.enter("resourceMarker"),t.consume(v),t.exit("resourceMarker"),i}function i(v){return ki(v)?Fg(t,o)(v):o(v)}function o(v){return v===41?g(v):lJ(t,a,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(v)}function a(v){return ki(v)?Fg(t,u)(v):g(v)}function s(v){return n(v)}function u(v){return v===34||v===39||v===40?uJ(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(v):g(v)}function d(v){return ki(v)?Fg(t,g)(v):g(v)}function g(v){return v===41?(t.enter("resourceMarker"),t.consume(v),t.exit("resourceMarker"),t.exit("resource"),e):n(v)}}function yEe(t,e,n){const r=this;return i;function i(s){return cJ.call(r,t,o,a,"reference","referenceMarker","referenceString")(s)}function o(s){return r.parser.defined.includes(mw(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(s):n(s)}function a(s){return n(s)}}function vEe(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const _Ee={name:"labelStartImage",resolveAll:SB.resolveAll,tokenize:xEe};function xEe(t,e,n){const r=this;return i;function i(s){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(s),t.exit("labelImageMarker"),o}function o(s){return s===91?(t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelImage"),a):n(s)}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const bEe={name:"labelStartLink",resolveAll:SB.resolveAll,tokenize:wEe};function wEe(t,e,n){const r=this;return i;function i(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),o}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const f3={name:"lineEnding",tokenize:OEe};function OEe(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Tr(t,e,"linePrefix")}}const LP={name:"thematicBreak",tokenize:SEe};function SEe(t,e,n){let r=0,i;return o;function o(d){return t.enter("thematicBreak"),a(d)}function a(d){return i=d,s(d)}function s(d){return d===i?(t.enter("thematicBreakSequence"),u(d)):r>=3&&(d===null||kn(d))?(t.exit("thematicBreak"),e(d)):n(d)}function u(d){return d===i?(t.consume(d),r++,u):(t.exit("thematicBreakSequence"),mr(d)?Tr(t,s,"whitespace")(d):s(d))}}const Wc={continuation:{tokenize:EEe},exit:PEe,name:"list",tokenize:kEe},CEe={partial:!0,tokenize:MEe},TEe={partial:!0,tokenize:AEe};function kEe(t,e,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return s;function s(O){const E=r.containerState.type||(O===42||O===43||O===45?"listUnordered":"listOrdered");if(E==="listUnordered"?!r.containerState.marker||O===r.containerState.marker:v4(O)){if(r.containerState.type||(r.containerState.type=E,t.enter(E,{_container:!0})),E==="listUnordered")return t.enter("listItemPrefix"),O===42||O===45?t.check(LP,n,d)(O):d(O);if(!r.interrupt||O===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),u(O)}return n(O)}function u(O){return v4(O)&&++a<10?(t.consume(O),u):(!r.interrupt||a<2)&&(r.containerState.marker?O===r.containerState.marker:O===41||O===46)?(t.exit("listItemValue"),d(O)):n(O)}function d(O){return t.enter("listItemMarker"),t.consume(O),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||O,t.check(RR,r.interrupt?n:g,t.attempt(CEe,x,v))}function g(O){return r.containerState.initialBlankLine=!0,o++,x(O)}function v(O){return mr(O)?(t.enter("listItemPrefixWhitespace"),t.consume(O),t.exit("listItemPrefixWhitespace"),x):n(O)}function x(O){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(O)}}function EEe(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(RR,i,o);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Tr(t,e,"listItemIndent",r.containerState.size+1)(s)}function o(s){return r.containerState.furtherBlankLines||!mr(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(TEe,e,a)(s))}function a(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,Tr(t,t.attempt(Wc,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function AEe(t,e,n){const r=this;return Tr(t,i,"listItemIndent",r.containerState.size+1);function i(o){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(o):n(o)}}function PEe(t){t.exit(this.containerState.type)}function MEe(t,e,n){const r=this;return Tr(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const a=r.events[r.events.length-1];return!mr(o)&&a&&a[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const fQ={name:"setextUnderline",resolveTo:REe,tokenize:IEe};function REe(t,e){let n=t.length,r,i,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const a={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",a,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end={...t[o][1].end}):t[r][1]=a,t.push(["exit",a,e]),t}function IEe(t,e,n){const r=this;let i;return o;function o(d){let g=r.events.length,v;for(;g--;)if(r.events[g][1].type!=="lineEnding"&&r.events[g][1].type!=="linePrefix"&&r.events[g][1].type!=="content"){v=r.events[g][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||v)?(t.enter("setextHeadingLine"),i=d,a(d)):n(d)}function a(d){return t.enter("setextHeadingLineSequence"),s(d)}function s(d){return d===i?(t.consume(d),s):(t.exit("setextHeadingLineSequence"),mr(d)?Tr(t,u,"lineSuffix")(d):u(d))}function u(d){return d===null||kn(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const DEe={tokenize:LEe};function LEe(t){const e=this,n=t.attempt(RR,r,t.attempt(this.parser.constructs.flowInitial,i,Tr(t,t.attempt(this.parser.constructs.flow,i,t.attempt(Fke,i)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const $Ee={resolveAll:dJ()},zEe=hJ("string"),NEe=hJ("text");function hJ(t){return{resolveAll:dJ(t==="text"?BEe:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],o=n.attempt(i,a,s);return a;function a(g){return d(g)?o(g):s(g)}function s(g){if(g===null){n.consume(g);return}return n.enter("data"),n.consume(g),u}function u(g){return d(g)?(n.exit("data"),o(g)):(n.consume(g),u)}function d(g){if(g===null)return!0;const v=i[g];let x=-1;if(v)for(;++x<v.length;){const O=v[x];if(!O.previous||O.previous.call(r,r.previous))return!0}return!1}}}function dJ(t){return e;function e(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(n,r):n}}function BEe(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let o=i.length,a=-1,s=0,u;for(;o--;){const d=i[o];if(typeof d=="string"){for(a=d.length;d.charCodeAt(a-1)===32;)s++,a--;if(a)break;a=-1}else if(d===-2)u=!0,s++;else if(d!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(s=0),s){const d={type:n===t.length||u||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?a:r.start._bufferIndex+a,_index:r.start._index+o,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const FEe={42:Wc,43:Wc,45:Wc,48:Wc,49:Wc,50:Wc,51:Wc,52:Wc,53:Wc,54:Wc,55:Wc,56:Wc,57:Wc,62:iJ},jEe={91:Zke},VEe={[-2]:d3,[-1]:d3,32:d3},QEe={35:Yke,42:LP,45:[fQ,LP],60:tEe,61:fQ,95:LP,96:hQ,126:hQ},UEe={38:sJ,92:oJ},ZEe={[-5]:f3,[-4]:f3,[-3]:f3,33:_Ee,38:sJ,42:_4,60:[bke,lEe],91:bEe,92:[Gke,oJ],93:SB,95:_4,96:Dke},qEe={null:[_4,$Ee]},WEe={null:[42,95]},HEe={null:[]},GEe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:WEe,contentInitial:jEe,disable:HEe,document:FEe,flow:QEe,flowInitial:VEe,insideSpan:qEe,string:UEe,text:ZEe},Symbol.toStringTag,{value:"Module"}));function XEe(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let a=[],s=[];const u={attempt:W(U),check:W(q),consume:$,enter:N,exit:F,interrupt:W(q,{interrupt:!0})},d={code:null,containerState:{},defineSkip:A,events:[],now:E,parser:t,previous:null,sliceSerialize:x,sliceStream:O,write:v};let g=e.tokenize.call(d,u);return e.resolveAll&&o.push(e),d;function v(be){return a=Uh(a,be),M(),a[a.length-1]!==null?[]:(te(e,0),d.events=mk(o,d.events,d),d.events)}function x(be,ie){return KEe(O(be),ie)}function O(be){return YEe(a,be)}function E(){const{_bufferIndex:be,_index:ie,line:me,column:we,offset:pe}=r;return{_bufferIndex:be,_index:ie,line:me,column:we,offset:pe}}function A(be){i[be.line]=be.column,ce()}function M(){let be;for(;r._index<a.length;){const ie=a[r._index];if(typeof ie=="string")for(be=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===be&&r._bufferIndex<ie.length;)L(ie.charCodeAt(r._bufferIndex));else L(ie)}}function L(be){g=g(be)}function $(be){kn(be)?(r.line++,r.column=1,r.offset+=be===-3?2:1,ce()):be!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=be}function N(be,ie){const me=ie||{};return me.type=be,me.start=E(),d.events.push(["enter",me,d]),s.push(me),me}function F(be){const ie=s.pop();return ie.end=E(),d.events.push(["exit",ie,d]),ie}function U(be,ie){te(be,ie.from)}function q(be,ie){ie.restore()}function W(be,ie){return me;function me(we,pe,_e){let Me,Be,Ue,Ce;return Array.isArray(we)?Xe(we):"tokenize"in we?Xe([we]):Pe(we);function Pe(ct){return ot;function ot(vt){const At=vt!==null&&ct[vt],Tt=vt!==null&&ct.null,Wt=[...Array.isArray(At)?At:At?[At]:[],...Array.isArray(Tt)?Tt:Tt?[Tt]:[]];return Xe(Wt)(vt)}}function Xe(ct){return Me=ct,Be=0,ct.length===0?_e:ke(ct[Be])}function ke(ct){return ot;function ot(vt){return Ce=re(),Ue=ct,ct.partial||(d.currentConstruct=ct),ct.name&&d.parser.constructs.disable.null.includes(ct.name)?gt():ct.tokenize.call(ie?Object.assign(Object.create(d),ie):d,u,mt,gt)(vt)}}function mt(ct){return be(Ue,Ce),pe}function gt(ct){return Ce.restore(),++Be<Me.length?ke(Me[Be]):_e}}}function te(be,ie){be.resolveAll&&!o.includes(be)&&o.push(be),be.resolve&&Dl(d.events,ie,d.events.length-ie,be.resolve(d.events.slice(ie),d)),be.resolveTo&&(d.events=be.resolveTo(d.events,d))}function re(){const be=E(),ie=d.previous,me=d.currentConstruct,we=d.events.length,pe=Array.from(s);return{from:we,restore:_e};function _e(){r=be,d.previous=ie,d.currentConstruct=me,d.events.length=we,s=pe,ce()}}function ce(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function YEe(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex;let a;if(n===i)a=[t[n].slice(r,o)];else{if(a=t.slice(n,i),r>-1){const s=a[0];typeof s=="string"?a[0]=s.slice(r):a.shift()}o>0&&a.push(t[i].slice(0,o))}return a}function KEe(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const o=t[n];let a;if(typeof o=="string")a=o;else switch(o){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(o)}i=o===-2,r.push(a)}return r.join("")}function JEe(t){const r={constructs:ake([GEe,...(t||{}).extensions||[]]),content:i(pke),defined:[],document:i(gke),flow:i(DEe),lazy:{},string:i(zEe),text:i(NEe)};return r;function i(o){return a;function a(s){return XEe(r,o,s)}}}function eAe(t){for(;!aJ(t););return t}const pQ=/[\0\t\n\r]/g;function tAe(){let t=1,e="",n=!0,r;return i;function i(o,a,s){const u=[];let d,g,v,x,O;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(a||void 0).decode(o)),v=0,e="",n&&(o.charCodeAt(0)===65279&&v++,n=void 0);v<o.length;){if(pQ.lastIndex=v,d=pQ.exec(o),x=d&&d.index!==void 0?d.index:o.length,O=o.charCodeAt(x),!d){e=o.slice(v);break}if(O===10&&v===x&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),v<x&&(u.push(o.slice(v,x)),t+=x-v),O){case 0:{u.push(65533),t++;break}case 9:{for(g=Math.ceil(t/4)*4,u.push(-2);t++<g;)u.push(-1);break}case 10:{u.push(-4),t=1;break}default:r=!0,t=1}v=x+1}return s&&(r&&u.push(-5),e&&u.push(e),u.push(null)),u}}const nAe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function fJ(t){return t.replace(nAe,rAe)}function rAe(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return rJ(n.slice(o?2:1),o?16:10)}return sT(n)||t}const pJ={}.hasOwnProperty;function mJ(t,e,n){return typeof e!="string"&&(n=e,e=void 0),iAe(n)(eAe(JEe(n).document().write(tAe()(t,e,!0))))}function iAe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Fn),autolinkProtocol:re,autolinkEmail:re,atxHeading:o(Yt),blockQuote:o(Tt),characterEscape:re,characterReference:re,codeFenced:o(Wt),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:o(Wt,a),codeText:o(Ot,a),codeTextData:re,data:re,codeFlowValue:re,definition:o(hn),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:o(Gt),hardBreakEscape:o(Cn),hardBreakTrailing:o(Cn),htmlFlow:o(sn,a),htmlFlowData:re,htmlText:o(sn,a),htmlTextData:re,image:o(Rn),label:a,link:o(Fn),listItem:o(Qe),listItemValue:x,listOrdered:o(Vn,v),listUnordered:o(Vn),paragraph:o(Ye),reference:ke,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:o(Yt),strong:o(bt),thematicBreak:o(Vt)},exit:{atxHeading:u(),atxHeadingSequence:U,autolink:u(),autolinkEmail:At,autolinkProtocol:vt,blockQuote:u(),characterEscapeValue:ce,characterReferenceMarkerHexadecimal:gt,characterReferenceMarkerNumeric:gt,characterReferenceValue:ct,characterReference:ot,codeFenced:u(M),codeFencedFence:A,codeFencedFenceInfo:O,codeFencedFenceMeta:E,codeFlowValue:ce,codeIndented:u(L),codeText:u(pe),codeTextData:ce,data:ce,definition:u(),definitionDestinationString:F,definitionLabelString:$,definitionTitleString:N,emphasis:u(),hardBreakEscape:u(ie),hardBreakTrailing:u(ie),htmlFlow:u(me),htmlFlowData:ce,htmlText:u(we),htmlTextData:ce,image:u(Me),label:Ue,labelText:Be,lineEnding:be,link:u(_e),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:mt,resourceDestinationString:Ce,resourceTitleString:Pe,resource:Xe,setextHeading:u(te),setextHeadingLineSequence:W,setextHeadingText:q,strong:u(),thematicBreak:u()}};gJ(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(Oe){let se={type:"root",children:[]};const K={stack:[se],tokenStack:[],config:e,enter:s,exit:d,buffer:a,resume:g,data:n},xe=[];let $e=-1;for(;++$e<Oe.length;)if(Oe[$e][1].type==="listOrdered"||Oe[$e][1].type==="listUnordered")if(Oe[$e][0]==="enter")xe.push($e);else{const ze=xe.pop();$e=i(Oe,ze,$e)}for($e=-1;++$e<Oe.length;){const ze=e[Oe[$e][0]];pJ.call(ze,Oe[$e][1].type)&&ze[Oe[$e][1].type].call(Object.assign({sliceSerialize:Oe[$e][2].sliceSerialize},K),Oe[$e][1])}if(K.tokenStack.length>0){const ze=K.tokenStack[K.tokenStack.length-1];(ze[1]||mQ).call(K,void 0,ze[0])}for(se.position={start:y0(Oe.length>0?Oe[0][1].start:{line:1,column:1,offset:0}),end:y0(Oe.length>0?Oe[Oe.length-2][1].end:{line:1,column:1,offset:0})},$e=-1;++$e<e.transforms.length;)se=e.transforms[$e](se)||se;return se}function i(Oe,se,K){let xe=se-1,$e=-1,ze=!1,rt,tt,Ke,at;for(;++xe<=K;){const St=Oe[xe];switch(St[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{St[0]==="enter"?$e++:$e--,at=void 0;break}case"lineEndingBlank":{St[0]==="enter"&&(rt&&!at&&!$e&&!Ke&&(Ke=xe),at=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:at=void 0}if(!$e&&St[0]==="enter"&&St[1].type==="listItemPrefix"||$e===-1&&St[0]==="exit"&&(St[1].type==="listUnordered"||St[1].type==="listOrdered")){if(rt){let st=xe;for(tt=void 0;st--;){const zt=Oe[st];if(zt[1].type==="lineEnding"||zt[1].type==="lineEndingBlank"){if(zt[0]==="exit")continue;tt&&(Oe[tt][1].type="lineEndingBlank",ze=!0),zt[1].type="lineEnding",tt=st}else if(!(zt[1].type==="linePrefix"||zt[1].type==="blockQuotePrefix"||zt[1].type==="blockQuotePrefixWhitespace"||zt[1].type==="blockQuoteMarker"||zt[1].type==="listItemIndent"))break}Ke&&(!tt||Ke<tt)&&(rt._spread=!0),rt.end=Object.assign({},tt?Oe[tt][1].start:St[1].end),Oe.splice(tt||xe,0,["exit",rt,St[2]]),xe++,K++}if(St[1].type==="listItemPrefix"){const st={type:"listItem",_spread:!1,start:Object.assign({},St[1].start),end:void 0};rt=st,Oe.splice(xe,0,["enter",st,St[2]]),xe++,K++,Ke=void 0,at=!0}}}return Oe[se][1]._spread=ze,K}function o(Oe,se){return K;function K(xe){s.call(this,Oe(xe),xe),se&&se.call(this,xe)}}function a(){this.stack.push({type:"fragment",children:[]})}function s(Oe,se,K){this.stack[this.stack.length-1].children.push(Oe),this.stack.push(Oe),this.tokenStack.push([se,K||void 0]),Oe.position={start:y0(se.start),end:void 0}}function u(Oe){return se;function se(K){Oe&&Oe.call(this,K),d.call(this,K)}}function d(Oe,se){const K=this.stack.pop(),xe=this.tokenStack.pop();if(xe)xe[0].type!==Oe.type&&(se?se.call(this,Oe,xe[0]):(xe[1]||mQ).call(this,Oe,xe[0]));else throw new Error("Cannot close `"+Oe.type+"` ("+Bg({start:Oe.start,end:Oe.end})+"): its not open");K.position.end=y0(Oe.end)}function g(){return OB(this.stack.pop())}function v(){this.data.expectingFirstListItemValue=!0}function x(Oe){if(this.data.expectingFirstListItemValue){const se=this.stack[this.stack.length-2];se.start=Number.parseInt(this.sliceSerialize(Oe),10),this.data.expectingFirstListItemValue=void 0}}function O(){const Oe=this.resume(),se=this.stack[this.stack.length-1];se.lang=Oe}function E(){const Oe=this.resume(),se=this.stack[this.stack.length-1];se.meta=Oe}function A(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function M(){const Oe=this.resume(),se=this.stack[this.stack.length-1];se.value=Oe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function L(){const Oe=this.resume(),se=this.stack[this.stack.length-1];se.value=Oe.replace(/(\r?\n|\r)$/g,"")}function $(Oe){const se=this.resume(),K=this.stack[this.stack.length-1];K.label=se,K.identifier=mw(this.sliceSerialize(Oe)).toLowerCase()}function N(){const Oe=this.resume(),se=this.stack[this.stack.length-1];se.title=Oe}function F(){const Oe=this.resume(),se=this.stack[this.stack.length-1];se.url=Oe}function U(Oe){const se=this.stack[this.stack.length-1];if(!se.depth){const K=this.sliceSerialize(Oe).length;se.depth=K}}function q(){this.data.setextHeadingSlurpLineEnding=!0}function W(Oe){const se=this.stack[this.stack.length-1];se.depth=this.sliceSerialize(Oe).codePointAt(0)===61?1:2}function te(){this.data.setextHeadingSlurpLineEnding=void 0}function re(Oe){const K=this.stack[this.stack.length-1].children;let xe=K[K.length-1];(!xe||xe.type!=="text")&&(xe=kt(),xe.position={start:y0(Oe.start),end:void 0},K.push(xe)),this.stack.push(xe)}function ce(Oe){const se=this.stack.pop();se.value+=this.sliceSerialize(Oe),se.position.end=y0(Oe.end)}function be(Oe){const se=this.stack[this.stack.length-1];if(this.data.atHardBreak){const K=se.children[se.children.length-1];K.position.end=y0(Oe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(se.type)&&(re.call(this,Oe),ce.call(this,Oe))}function ie(){this.data.atHardBreak=!0}function me(){const Oe=this.resume(),se=this.stack[this.stack.length-1];se.value=Oe}function we(){const Oe=this.resume(),se=this.stack[this.stack.length-1];se.value=Oe}function pe(){const Oe=this.resume(),se=this.stack[this.stack.length-1];se.value=Oe}function _e(){const Oe=this.stack[this.stack.length-1];if(this.data.inReference){const se=this.data.referenceType||"shortcut";Oe.type+="Reference",Oe.referenceType=se,delete Oe.url,delete Oe.title}else delete Oe.identifier,delete Oe.label;this.data.referenceType=void 0}function Me(){const Oe=this.stack[this.stack.length-1];if(this.data.inReference){const se=this.data.referenceType||"shortcut";Oe.type+="Reference",Oe.referenceType=se,delete Oe.url,delete Oe.title}else delete Oe.identifier,delete Oe.label;this.data.referenceType=void 0}function Be(Oe){const se=this.sliceSerialize(Oe),K=this.stack[this.stack.length-2];K.label=fJ(se),K.identifier=mw(se).toLowerCase()}function Ue(){const Oe=this.stack[this.stack.length-1],se=this.resume(),K=this.stack[this.stack.length-1];if(this.data.inReference=!0,K.type==="link"){const xe=Oe.children;K.children=xe}else K.alt=se}function Ce(){const Oe=this.resume(),se=this.stack[this.stack.length-1];se.url=Oe}function Pe(){const Oe=this.resume(),se=this.stack[this.stack.length-1];se.title=Oe}function Xe(){this.data.inReference=void 0}function ke(){this.data.referenceType="collapsed"}function mt(Oe){const se=this.resume(),K=this.stack[this.stack.length-1];K.label=se,K.identifier=mw(this.sliceSerialize(Oe)).toLowerCase(),this.data.referenceType="full"}function gt(Oe){this.data.characterReferenceType=Oe.type}function ct(Oe){const se=this.sliceSerialize(Oe),K=this.data.characterReferenceType;let xe;K?(xe=rJ(se,K==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):xe=sT(se);const $e=this.stack[this.stack.length-1];$e.value+=xe}function ot(Oe){const se=this.stack.pop();se.position.end=y0(Oe.end)}function vt(Oe){ce.call(this,Oe);const se=this.stack[this.stack.length-1];se.url=this.sliceSerialize(Oe)}function At(Oe){ce.call(this,Oe);const se=this.stack[this.stack.length-1];se.url="mailto:"+this.sliceSerialize(Oe)}function Tt(){return{type:"blockquote",children:[]}}function Wt(){return{type:"code",lang:null,meta:null,value:""}}function Ot(){return{type:"inlineCode",value:""}}function hn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Gt(){return{type:"emphasis",children:[]}}function Yt(){return{type:"heading",depth:0,children:[]}}function Cn(){return{type:"break"}}function sn(){return{type:"html",value:""}}function Rn(){return{type:"image",title:null,url:"",alt:null}}function Fn(){return{type:"link",title:null,url:"",children:[]}}function Vn(Oe){return{type:"list",ordered:Oe.type==="listOrdered",start:null,spread:Oe._spread,children:[]}}function Qe(Oe){return{type:"listItem",spread:Oe._spread,checked:null,children:[]}}function Ye(){return{type:"paragraph",children:[]}}function bt(){return{type:"strong",children:[]}}function kt(){return{type:"text",value:""}}function Vt(){return{type:"thematicBreak"}}}function y0(t){return{line:t.line,column:t.column,offset:t.offset}}function gJ(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?gJ(t,r):oAe(t,r)}}function oAe(t,e){let n;for(n in e)if(pJ.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function mQ(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Bg({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Bg({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Bg({start:e.start,end:e.end})+") is still open")}function sAe(t){const e=this;e.parser=n;function n(r){return mJ(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function aAe(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function lAe(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function cAe(t,e){const n=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(o.data={meta:e.meta}),t.patch(e,o),o=t.applyData(e,o),o={type:"element",tagName:"pre",properties:{},children:[o]},t.patch(e,o),o}function uAe(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function hAe(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function dAe(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=LO(r.toLowerCase()),o=t.footnoteOrder.indexOf(r);let a,s=t.footnoteCounts.get(r);s===void 0?(s=0,t.footnoteOrder.push(r),a=t.footnoteOrder.length):a=o+1,s+=1,t.footnoteCounts.set(r,s);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};t.patch(e,u);const d={type:"element",tagName:"sup",properties:{},children:[u]};return t.patch(e,d),t.applyData(e,d)}function fAe(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function pAe(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function yJ(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function mAe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return yJ(t,e);const i={src:LO(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,o),t.applyData(e,o)}function gAe(t,e){const n={src:LO(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function yAe(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function vAe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return yJ(t,e);const i={href:LO(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function _Ae(t,e){const n={href:LO(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function xAe(t,e,n){const r=t.all(e),i=n?bAe(n):vJ(e),o={},a=[];if(typeof e.checked=="boolean"){const g=r[0];let v;g&&g.type==="element"&&g.tagName==="p"?v=g:(v={type:"element",tagName:"p",properties:{},children:[]},r.unshift(v)),v.children.length>0&&v.children.unshift({type:"text",value:" "}),v.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const g=r[s];(i||s!==0||g.type!=="element"||g.tagName!=="p")&&a.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!i?a.push(...g.children):a.push(g)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:o,children:a};return t.patch(e,d),t.applyData(e,d)}function bAe(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=vJ(n[r])}return e}function vJ(t){const e=t.spread;return e??t.children.length>1}function wAe(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function OAe(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function SAe(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function CAe(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function TAe(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},s=_B(e.children[1]),u=XK(e.children[e.children.length-1]);s&&u&&(a.position={start:s,end:u}),i.push(a)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,o),t.applyData(e,o)}function kAe(t,e,n){const r=n?n.children:void 0,o=(r?r.indexOf(e):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,s=a?a.length:e.children.length;let u=-1;const d=[];for(;++u<s;){const v=e.children[u],x={},O=a?a[u]:void 0;O&&(x.align=O);let E={type:"element",tagName:o,properties:x,children:[]};v&&(E.children=t.all(v),t.patch(v,E),E=t.applyData(v,E)),d.push(E)}const g={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,g),t.applyData(e,g)}function EAe(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const gQ=9,yQ=32;function AAe(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const o=[];for(;r;)o.push(vQ(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return o.push(vQ(e.slice(i),i>0,!1)),o.join("")}function vQ(t,e,n){let r=0,i=t.length;if(e){let o=t.codePointAt(r);for(;o===gQ||o===yQ;)r++,o=t.codePointAt(r)}if(n){let o=t.codePointAt(i-1);for(;o===gQ||o===yQ;)i--,o=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function PAe(t,e){const n={type:"text",value:AAe(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function MAe(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const RAe={blockquote:aAe,break:lAe,code:cAe,delete:uAe,emphasis:hAe,footnoteReference:dAe,heading:fAe,html:pAe,imageReference:mAe,image:gAe,inlineCode:yAe,linkReference:vAe,link:_Ae,listItem:xAe,list:wAe,paragraph:OAe,root:SAe,strong:CAe,table:TAe,tableCell:EAe,tableRow:kAe,text:PAe,thematicBreak:MAe,toml:xA,yaml:xA,definition:xA,footnoteDefinition:xA};function xA(){}const _J=-1,IR=0,SC=1,k5=2,CB=3,TB=4,kB=5,EB=6,xJ=7,bJ=8,_Q=typeof self=="object"?self:globalThis,IAe=(t,e)=>{const n=(i,o)=>(t.set(o,i),i),r=i=>{if(t.has(i))return t.get(i);const[o,a]=e[i];switch(o){case IR:case _J:return n(a,i);case SC:{const s=n([],i);for(const u of a)s.push(r(u));return s}case k5:{const s=n({},i);for(const[u,d]of a)s[r(u)]=r(d);return s}case CB:return n(new Date(a),i);case TB:{const{source:s,flags:u}=a;return n(new RegExp(s,u),i)}case kB:{const s=n(new Map,i);for(const[u,d]of a)s.set(r(u),r(d));return s}case EB:{const s=n(new Set,i);for(const u of a)s.add(r(u));return s}case xJ:{const{name:s,message:u}=a;return n(new _Q[s](u),i)}case bJ:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:s}=new Uint8Array(a);return n(new DataView(s),a)}}return n(new _Q[o](a),i)};return r},xQ=t=>IAe(new Map,t)(0),P1="",{toString:DAe}={},{keys:LAe}=Object,R2=t=>{const e=typeof t;if(e!=="object"||!t)return[IR,e];const n=DAe.call(t).slice(8,-1);switch(n){case"Array":return[SC,P1];case"Object":return[k5,P1];case"Date":return[CB,P1];case"RegExp":return[TB,P1];case"Map":return[kB,P1];case"Set":return[EB,P1];case"DataView":return[SC,n]}return n.includes("Array")?[SC,n]:n.includes("Error")?[xJ,n]:[k5,n]},bA=([t,e])=>t===IR&&(e==="function"||e==="symbol"),$Ae=(t,e,n,r)=>{const i=(a,s)=>{const u=r.push(a)-1;return n.set(s,u),u},o=a=>{if(n.has(a))return n.get(a);let[s,u]=R2(a);switch(s){case IR:{let g=a;switch(u){case"bigint":s=bJ,g=a.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+u);g=null;break;case"undefined":return i([_J],a)}return i([s,g],a)}case SC:{if(u){let x=a;return u==="DataView"?x=new Uint8Array(a.buffer):u==="ArrayBuffer"&&(x=new Uint8Array(a)),i([u,[...x]],a)}const g=[],v=i([s,g],a);for(const x of a)g.push(o(x));return v}case k5:{if(u)switch(u){case"BigInt":return i([u,a.toString()],a);case"Boolean":case"Number":case"String":return i([u,a.valueOf()],a)}if(e&&"toJSON"in a)return o(a.toJSON());const g=[],v=i([s,g],a);for(const x of LAe(a))(t||!bA(R2(a[x])))&&g.push([o(x),o(a[x])]);return v}case CB:return i([s,a.toISOString()],a);case TB:{const{source:g,flags:v}=a;return i([s,{source:g,flags:v}],a)}case kB:{const g=[],v=i([s,g],a);for(const[x,O]of a)(t||!(bA(R2(x))||bA(R2(O))))&&g.push([o(x),o(O)]);return v}case EB:{const g=[],v=i([s,g],a);for(const x of a)(t||!bA(R2(x)))&&g.push(o(x));return v}}const{message:d}=a;return i([s,{name:u,message:d}],a)};return o},bQ=(t,{json:e,lossy:n}={})=>{const r=[];return $Ae(!(e||n),!!e,new Map,r)(t),r},E5=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?xQ(bQ(t,e)):structuredClone(t):(t,e)=>xQ(bQ(t,e));function zAe(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function NAe(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function BAe(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||zAe,r=t.options.footnoteBackLabel||NAe,i=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",a=t.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let u=-1;for(;++u<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[u]);if(!d)continue;const g=t.all(d),v=String(d.identifier).toUpperCase(),x=LO(v.toLowerCase());let O=0;const E=[],A=t.footnoteCounts.get(v);for(;A!==void 0&&++O<=A;){E.length>0&&E.push({type:"text",value:" "});let $=typeof n=="string"?n:n(u,O);typeof $=="string"&&($={type:"text",value:$}),E.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+x+(O>1?"-"+O:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,O),className:["data-footnote-backref"]},children:Array.isArray($)?$:[$]})}const M=g[g.length-1];if(M&&M.type==="element"&&M.tagName==="p"){const $=M.children[M.children.length-1];$&&$.type==="text"?$.value+=" ":M.children.push({type:"text",value:" "}),M.children.push(...E)}else g.push(...E);const L={type:"element",tagName:"li",properties:{id:e+"fn-"+x},children:t.wrap(g,!0)};t.patch(d,L),s.push(L)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...E5(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(s,!0)},{type:"text",value:`
`}]}}const AB=(function(t){if(t==null)return QAe;if(typeof t=="function")return DR(t);if(typeof t=="object")return Array.isArray(t)?FAe(t):jAe(t);if(typeof t=="string")return VAe(t);throw new Error("Expected function, string, or object as test")});function FAe(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=AB(t[n]);return DR(r);function r(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}function jAe(t){const e=t;return DR(n);function n(r){const i=r;let o;for(o in t)if(i[o]!==e[o])return!1;return!0}}function VAe(t){return DR(e);function e(n){return n&&n.type===t}}function DR(t){return e;function e(n,r,i){return!!(UAe(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function QAe(){return!0}function UAe(t){return t!==null&&typeof t=="object"&&"type"in t}const wJ=[],ZAe=!0,x4=!1,qAe="skip";function OJ(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const o=AB(i),a=r?-1:1;s(t,void 0,[])();function s(u,d,g){const v=u&&typeof u=="object"?u:{};if(typeof v.type=="string"){const O=typeof v.tagName=="string"?v.tagName:typeof v.name=="string"?v.name:void 0;Object.defineProperty(x,"name",{value:"node ("+(u.type+(O?"<"+O+">":""))+")"})}return x;function x(){let O=wJ,E,A,M;if((!e||o(u,d,g[g.length-1]||void 0))&&(O=WAe(n(u,g)),O[0]===x4))return O;if("children"in u&&u.children){const L=u;if(L.children&&O[0]!==qAe)for(A=(r?L.children.length:-1)+a,M=g.concat(L);A>-1&&A<L.children.length;){const $=L.children[A];if(E=s($,A,M)(),E[0]===x4)return E;A=typeof E[1]=="number"?E[1]:A+a}}return O}}}function WAe(t){return Array.isArray(t)?t:typeof t=="number"?[ZAe,t]:t==null?wJ:[t]}function PB(t,e,n,r){let i,o,a;typeof e=="function"&&typeof n!="function"?(o=void 0,a=e,i=n):(o=e,a=n,i=r),OJ(t,o,s,i);function s(u,d){const g=d[d.length-1],v=g?g.children.indexOf(u):void 0;return a(u,v,g)}}const b4={}.hasOwnProperty,HAe={};function GAe(t,e){const n=e||HAe,r=new Map,i=new Map,o=new Map,a={...RAe,...n.handlers},s={all:d,applyData:YAe,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:a,one:u,options:n,patch:XAe,wrap:JAe};return PB(t,function(g){if(g.type==="definition"||g.type==="footnoteDefinition"){const v=g.type==="definition"?r:i,x=String(g.identifier).toUpperCase();v.has(x)||v.set(x,g)}}),s;function u(g,v){const x=g.type,O=s.handlers[x];if(b4.call(s.handlers,x)&&O)return O(s,g,v);if(s.options.passThrough&&s.options.passThrough.includes(x)){if("children"in g){const{children:A,...M}=g,L=E5(M);return L.children=s.all(g),L}return E5(g)}return(s.options.unknownHandler||KAe)(s,g,v)}function d(g){const v=[];if("children"in g){const x=g.children;let O=-1;for(;++O<x.length;){const E=s.one(x[O],g);if(E){if(O&&x[O-1].type==="break"&&(!Array.isArray(E)&&E.type==="text"&&(E.value=wQ(E.value)),!Array.isArray(E)&&E.type==="element")){const A=E.children[0];A&&A.type==="text"&&(A.value=wQ(A.value))}Array.isArray(E)?v.push(...E):v.push(E)}}}return v}}function XAe(t,e){t.position&&(e.position=NTe(t))}function YAe(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,o=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&o&&Object.assign(n.properties,E5(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function KAe(t,e){const n=e.data||{},r="value"in e&&!(b4.call(n,"hProperties")||b4.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function JAe(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function wQ(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function OQ(t,e){const n=GAe(t,e),r=n.one(t,void 0),i=BAe(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function ePe(t,e){return t&&"run"in t?async function(n,r){const i=OQ(n,{file:r,...e});await t.run(i,r)}:function(n,r){return OQ(n,{file:r,...t||e})}}function SQ(t){if(t)throw t}var p3,CQ;function tPe(){if(CQ)return p3;CQ=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},o=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var g=t.call(d,"constructor"),v=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!g&&!v)return!1;var x;for(x in d);return typeof x>"u"||t.call(d,x)},a=function(d,g){n&&g.name==="__proto__"?n(d,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):d[g.name]=g.newValue},s=function(d,g){if(g==="__proto__")if(t.call(d,g)){if(r)return r(d,g).value}else return;return d[g]};return p3=function u(){var d,g,v,x,O,E,A=arguments[0],M=1,L=arguments.length,$=!1;for(typeof A=="boolean"&&($=A,A=arguments[1]||{},M=2),(A==null||typeof A!="object"&&typeof A!="function")&&(A={});M<L;++M)if(d=arguments[M],d!=null)for(g in d)v=s(A,g),x=s(d,g),A!==x&&($&&x&&(o(x)||(O=i(x)))?(O?(O=!1,E=v&&i(v)?v:[]):E=v&&o(v)?v:{},a(A,{name:g,newValue:u($,E,x)})):typeof x<"u"&&a(A,{name:g,newValue:x}));return A},p3}var nPe=tPe();const m3=tv(nPe);function w4(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function rPe(){const t=[],e={run:n,use:r};return e;function n(...i){let o=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);s(null,...i);function s(u,...d){const g=t[++o];let v=-1;if(u){a(u);return}for(;++v<i.length;)(d[v]===null||d[v]===void 0)&&(d[v]=i[v]);i=d,g?iPe(g,s)(...d):a(null,...d)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function iPe(t,e){let n;return r;function r(...a){const s=t.length>a.length;let u;s&&a.push(i);try{u=t.apply(this,a)}catch(d){const g=d;if(s&&n)throw g;return i(g)}s||(u&&u.then&&typeof u.then=="function"?u.then(o,i):u instanceof Error?i(u):o(u))}function i(a,...s){n||(n=!0,e(a,...s))}function o(a){i(null,a)}}const zp={basename:oPe,dirname:sPe,extname:aPe,join:lPe,sep:"/"};function oPe(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');gk(t);let n=0,r=-1,i=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let a=-1,s=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else a<0&&(o=!0,a=i+1),s>-1&&(t.codePointAt(i)===e.codePointAt(s--)?s<0&&(r=i):(s=-1,r=a));return n===r?r=a:r<0&&(r=t.length),t.slice(n,r)}function sPe(t){if(gk(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function aPe(t){gk(t);let e=t.length,n=-1,r=0,i=-1,o=0,a;for(;e--;){const s=t.codePointAt(e);if(s===47){if(a){r=e+1;break}continue}n<0&&(a=!0,n=e+1),s===46?i<0?i=e:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function lPe(...t){let e=-1,n;for(;++e<t.length;)gk(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":cPe(n)}function cPe(t){gk(t);const e=t.codePointAt(0)===47;let n=uPe(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function uPe(t,e){let n="",r=0,i=-1,o=0,a=-1,s,u;for(;++a<=t.length;){if(a<t.length)s=t.codePointAt(a);else{if(s===47)break;s=47}if(s===47){if(!(i===a-1||o===1))if(i!==a-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=a,o=0;continue}}else if(n.length>0){n="",r=0,i=a,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,a):n=t.slice(i+1,a),r=a-i-1;i=a,o=0}else s===46&&o>-1?o++:o=-1}return n}function gk(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const hPe={cwd:dPe};function dPe(){return"/"}function O4(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function fPe(t){if(typeof t=="string")t=new URL(t);else if(!O4(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return pPe(t)}function pPe(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const g3=["history","path","basename","stem","extname","dirname"];class SJ{constructor(e){let n;e?O4(e)?n={path:e}:typeof e=="string"||mPe(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":hPe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<g3.length;){const o=g3[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)g3.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?zp.basename(this.path):void 0}set basename(e){v3(e,"basename"),y3(e,"basename"),this.path=zp.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?zp.dirname(this.path):void 0}set dirname(e){TQ(this.basename,"dirname"),this.path=zp.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?zp.extname(this.path):void 0}set extname(e){if(y3(e,"extname"),TQ(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=zp.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){O4(e)&&(e=fPe(e)),v3(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?zp.basename(this.path,this.extname):void 0}set stem(e){v3(e,"stem"),y3(e,"stem"),this.path=zp.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Ei(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function y3(t,e){if(t&&t.includes(zp.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+zp.sep+"`")}function v3(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function TQ(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function mPe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const gPe=(function(t){const r=this.constructor.prototype,i=r[t],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),yPe={}.hasOwnProperty;class MB extends gPe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=rPe()}copy(){const e=new MB;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(m3(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(b3("data",this.frozen),this.namespace[e]=n,this):yPe.call(this.namespace,e)&&this.namespace[e]||void 0:e?(b3("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=wA(e),r=this.parser||this.Parser;return _3("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),_3("process",this.parser||this.Parser),x3("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,a){const s=wA(e),u=r.parse(s);r.run(u,s,function(g,v,x){if(g||!v||!x)return d(g);const O=v,E=r.stringify(O,x);xPe(E)?x.value=E:x.result=E,d(g,x)});function d(g,v){g||!v?a(g):o?o(v):n(void 0,v)}}}processSync(e){let n=!1,r;return this.freeze(),_3("processSync",this.parser||this.Parser),x3("processSync",this.compiler||this.Compiler),this.process(e,i),EQ("processSync","process",n),r;function i(o,a){n=!0,SQ(o),r=a}}run(e,n,r){kQ(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(a,s){const u=wA(n);i.run(e,u,d);function d(g,v,x){const O=v||e;g?s(g):a?a(O):r(void 0,O,x)}}}runSync(e,n){let r=!1,i;return this.run(e,n,o),EQ("runSync","run",r),i;function o(a,s){SQ(a),i=s,r=!0}}stringify(e,n){this.freeze();const r=wA(n),i=this.compiler||this.Compiler;return x3("stringify",i),kQ(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(b3("use",this.frozen),e!=null)if(typeof e=="function")u(e,n);else if(typeof e=="object")Array.isArray(e)?s(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(d){if(typeof d=="function")u(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[g,...v]=d;u(g,v)}else a(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function a(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(d.plugins),d.settings&&(i.settings=m3(!0,i.settings,d.settings))}function s(d){let g=-1;if(d!=null)if(Array.isArray(d))for(;++g<d.length;){const v=d[g];o(v)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function u(d,g){let v=-1,x=-1;for(;++v<r.length;)if(r[v][0]===d){x=v;break}if(x===-1)r.push([d,...g]);else if(g.length>0){let[O,...E]=g;const A=r[x][1];w4(A)&&w4(O)&&(O=m3(!0,A,O)),r[x]=[d,O,...E]}}}}const vPe=new MB().freeze();function _3(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function x3(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function b3(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function kQ(t){if(!w4(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function EQ(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function wA(t){return _Pe(t)?t:new SJ(t)}function _Pe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function xPe(t){return typeof t=="string"||bPe(t)}function bPe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const wPe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",AQ=[],PQ={allowDangerousHtml:!0},OPe=/^(https?|ircs?|mailto|xmpp)$/i,SPe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function CPe(t){const e=TPe(t),n=kPe(t);return EPe(e.runSync(e.parse(n),n),t)}function TPe(t){const e=t.rehypePlugins||AQ,n=t.remarkPlugins||AQ,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...PQ}:PQ;return vPe().use(sAe).use(n).use(ePe,r).use(e)}function kPe(t){const e=t.children||"",n=new SJ;return typeof e=="string"&&(n.value=e),n}function EPe(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,o=e.disallowedElements,a=e.skipHtml,s=e.unwrapDisallowed,u=e.urlTransform||APe;for(const g of SPe)Object.hasOwn(e,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+wPe+g.id,void 0);return PB(t,d),QTe(t,{Fragment:Y.Fragment,components:i,ignoreInvalidStyle:!0,jsx:Y.jsx,jsxs:Y.jsxs,passKeys:!0,passNode:!0});function d(g,v,x){if(g.type==="raw"&&x&&typeof v=="number")return a?x.children.splice(v,1):x.children[v]={type:"text",value:g.value},v;if(g.type==="element"){let O;for(O in h3)if(Object.hasOwn(h3,O)&&Object.hasOwn(g.properties,O)){const E=g.properties[O],A=h3[O];(A===null||A.includes(g.tagName))&&(g.properties[O]=u(String(E||""),O,g))}}if(g.type==="element"){let O=n?!n.includes(g.tagName):o?o.includes(g.tagName):!1;if(!O&&r&&typeof v=="number"&&(O=!r(g,v,x)),O&&x&&typeof v=="number")return s&&g.children?x.children.splice(v,1,...g.children):x.children.splice(v,1),v}}}function APe(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||OPe.test(t.slice(0,e))?t:""}var PPe=Object.defineProperty,MPe=(t,e,n)=>e in t?PPe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pg=(t,e,n)=>MPe(t,typeof e!="symbol"?e+"":e,n);let RPe=class CJ{constructor(e=new Map){this.map=e}clone(){return new CJ(new Map(this.map))}increment(e){const n=this.map.get(e)??0;this.map.set(e,n+1)}decrement(e,n){let r=this.map.get(e);r!==void 0&&(r-=1,this.map.set(e,r),r===0&&n())}},OA=class{constructor(){Pg(this,"map",new Map)}getOrCreate(e){let n=this.map.get(e);return n===void 0&&(n=new Set,this.map.set(e,n)),n}get(e){return this.map.get(e)}use(e,n){const r=this.get(e);r!==void 0&&n(r)}delete(e){return this.map.delete(e)}};function gw(t,e){return e(t),t}function RB(){}const TJ="cell";function MQ(t,e){return t===e}const LR=new Map;let IPe=class{constructor(e={}){Pg(this,"subscriptions",new OA),Pg(this,"singletonSubscriptions",new Map),Pg(this,"graph",new OA),Pg(this,"state",new Map),Pg(this,"distinctNodes",new Map),Pg(this,"executionMaps",new Map),Pg(this,"definitionRegistry",new Set),Pg(this,"combinedCells",[]);for(const n of Object.getOwnPropertySymbols(e))this.state.set(n,e[n])}cellInstance(e,n=!0,r=Symbol()){return this.state.has(r)||this.state.set(r,e),n!==!1&&!this.distinctNodes.has(r)&&this.distinctNodes.set(r,n===!0?MQ:n),r}signalInstance(e=!0,n=Symbol()){return e!==!1&&this.distinctNodes.set(n,e===!0?MQ:e),n}sub(e,n){this.register(e);const r=this.subscriptions.getOrCreate(e);return r.add(n),()=>r.delete(n)}singletonSub(e,n){return this.register(e),n===void 0?this.singletonSubscriptions.delete(e):this.singletonSubscriptions.set(e,n),()=>this.singletonSubscriptions.delete(e)}resetSingletonSubs(){this.singletonSubscriptions.clear()}subMultiple(e,n){const r=this.signalInstance();return this.connect({map:i=>(...o)=>{i(o)},sink:r,sources:e}),this.sub(r,n)}pubIn(e){var n;const r=Reflect.ownKeys(e),i=this.getExecutionMap(r),o=i.refCount.clone(),a=i.participatingNodes.slice(),s=new Map(this.state),u=d=>{this.graph.use(d,g=>{for(const{sources:v,sink:x}of g)v.has(d)&&o.decrement(x,()=>{a.splice(a.indexOf(x),1),u(x)})})};for(;;){const d=a.shift();if(d===void 0)break;const g=d;let v=!1;const x=O=>{const E=this.distinctNodes.get(g);if(E!=null&&E(s.get(g),O)){v=!1;return}v=!0,s.set(g,O),this.state.has(g)&&this.state.set(g,O)};if(Object.prototype.hasOwnProperty.call(e,g)?x(e[g]):i.projections.use(g,O=>{for(const E of O){const A=[...Array.from(E.sources),...Array.from(E.pulls)].map(M=>s.get(M));E.map(x)(...A)}}),v){const O=s.get(g);this.inContext(()=>{this.subscriptions.use(g,E=>{for(const A of E)A(O)})}),(n=this.singletonSubscriptions.get(g))==null||n(O)}else u(g)}}connect({sources:e,pulls:n=[],map:r,sink:i}){const o={map:r,pulls:new Set(n),sink:this.register(i),sources:new Set(e)};for(const a of[...e,...n])this.register(a),this.graph.getOrCreate(a).add(o);this.executionMaps.clear()}pub(e,n){this.pubIn({[e]:n})}pipe(e,...n){return this.combineOperators(...n)(e)}transformer(...e){return n=>gw(this.signalInstance(),r=>(this.link(this.pipe(r,...e),n),r))}link(e,n){this.connect({map:r=>i=>{r(i)},sink:n,sources:[e]})}combine(...e){return gw(this.signalInstance(),n=>{this.connect({map:r=>(...i)=>{r(i)},sink:n,sources:e})})}combineCells(...e){const n=this.combinedCells.find(i=>e.length===i.sources.length&&e.every((o,a)=>o===i.sources[a]));if(n)return n.cell;const r=this.cellInstance(e.map(i=>this.getValue(i)),!0);return this.connect({map:i=>(...o)=>{i(o)},sink:r,sources:e}),this.combinedCells.push({sources:e,cell:r}),r}getValue(e){return this.register(e),this.state.get(e)}getValues(e){return e.map(n=>this.getValue(n))}register(e){const n=LR.get(e);return n===void 0||this.definitionRegistry.has(e)?e:(this.definitionRegistry.add(e),gw(n.type===TJ?this.cellInstance(n.initial,n.distinct,e):this.signalInstance(n.distinct,e),r=>{this.inContext(()=>{n.init(this,r)})}))}inContext(e){return e()}changeWith(e,n,r){this.connect({sources:[n],pulls:[e],sink:e,map:i=>(o,a)=>{i(r(a,o))}})}calculateExecutionMap(e){const n=[],r=new Set,i=new OA,o=new RPe,a=new OA,s=(u,d=0)=>{o.increment(u),!r.has(u)&&(this.register(u),i.use(u,g=>{d=Math.max(...Array.from(g).map(v=>n.indexOf(v)))+1}),this.graph.use(u,g=>{for(const v of g)v.sources.has(u)?(a.getOrCreate(v.sink).add(v),s(v.sink,d)):i.getOrCreate(v.sink).add(u)}),r.add(u),n.splice(d,0,u))};return e.forEach(s),{participatingNodes:n,pendingPulls:i,projections:a,refCount:o}}getExecutionMap(e){let n=e;if(e.length===1){n=e[0];const i=this.executionMaps.get(n);if(i!==void 0)return i}else for(const[i,o]of this.executionMaps.entries())if(Array.isArray(i)&&i.length===e.length&&i.every(a=>e.includes(a)))return o;const r=this.calculateExecutionMap(e);return this.executionMaps.set(n,r),r}combineOperators(...e){return n=>{for(const r of e)n=r(n,this);return n}}};function Pn(t,e=RB,n=!0){return gw(Symbol(),r=>{LR.set(r,{type:TJ,distinct:n,initial:t,init:e})})}function Ss(t=RB,e=!1){return gw(Symbol(),n=>{LR.set(n,{type:"signal",distinct:e,init:t})})}function xm(t=RB){return gw(Symbol(),e=>{LR.set(e,{type:"signal",distinct:!1,init:t})})}const kJ=j.createContext(null);function $O(){const t=j.useContext(kJ);if(t===null)throw new Error("useRealm must be used within a RealmContextProvider");return t}function Ms(t){const e=$O();e.register(t);const n=j.useCallback(r=>e.sub(t,r),[e,t]);return j.useSyncExternalStore(n,()=>e.getValue(t),()=>e.getValue(t))}function as(...t){const e=$O(),n=j.useMemo(()=>e.combineCells.apply(e,t),[e,...t]);return Ms(n)}function qi(t){const e=$O();return e.register(t),j.useCallback(n=>{e.pub(t,n)},[e,t])}function Yg(t){return(e,n)=>{const r=n.signalInstance();return n.connect({map:i=>o=>{i(t(o))},sink:r,sources:[e]}),r}}function jo(...t){return(e,n)=>{const r=n.signalInstance();return n.connect({map:i=>(...o)=>{i(o)},pulls:t,sink:r,sources:[e]}),r}}function EJ(t){return(e,n)=>{const r=n.signalInstance();return n.connect({map:i=>()=>{i(t)},sink:r,sources:[e]}),r}}function yk(t){return(e,n)=>{const r=n.signalInstance();return n.connect({map:i=>o=>{t(o)&&i(o)},sink:r,sources:[e]}),r}}function AJ(t,e){return(n,r)=>{const i=r.signalInstance();return r.connect({map:o=>a=>{o(e=t(e,a))},sink:i,sources:[n]}),i}}function DPe(t,e){return e(t),t}function $0(){}function Nl(t){return function(e){return{init:n=>{var r;return(r=t.init)==null?void 0:r.call(t,n,e)},postInit:n=>{var r;return(r=t.postInit)==null?void 0:r.call(t,n,e)},update:n=>{var r;return(r=t.update)==null?void 0:r.call(t,n,e)}}}}function LPe({children:t,plugins:e}){const n=ae.useMemo(()=>DPe(new IPe,r=>{var i,o;for(const a of e)(i=a.init)==null||i.call(a,r);for(const a of e)(o=a.postInit)==null||o.call(a,r)}),[]);return ae.useEffect(()=>{var r;for(const i of e)(r=i.update)==null||r.call(i,n)}),ae.createElement(kJ.Provider,{value:n},t)}const A5=j.createContext(null);function PJ(t,e){let n=null;return t!=null&&(n=t[1]),{getTheme:function(){return e??(n!=null?n.getTheme():null)}}}function Bl(){const t=j.useContext(A5);return t==null&&(function(e,...n){const r=new URL("https://lexical.dev/docs/error"),i=new URLSearchParams;i.append("code",e);for(const o of n)i.append("v",o);throw r.search=i.toString(),Error(`Minified Lexical error #${e}; visit ${r.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)})(8),t}function on(t,...e){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",t);for(const i of e)r.append("v",i);throw n.search=r.toString(),Error(`Minified Lexical error #${t}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const Df=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,$Pe=Df&&"documentMode"in document?document.documentMode:null,Qp=Df&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),gx=Df&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),P5=!(!Df||!("InputEvent"in window)||$Pe)&&"getTargetRanges"in new window.InputEvent("input"),aT=Df&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Zw=Df&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,zPe=Df&&/Android/.test(navigator.userAgent),MJ=Df&&/^(?=.*Chrome).*/i.test(navigator.userAgent),RQ=Df&&zPe&&MJ,M5=Df&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!MJ;function RJ(...t){const e=[];for(const n of t)if(n&&typeof n=="string")for(const[r]of n.matchAll(/\S+/g))e.push(r);return e}const NPe=1,BPe=3,FPe=9,jPe=11,yx=0,IJ=1,qw=2,VPe=0,QPe=1,UPe=2,R5=4,I5=8,IB=128,ZPe=1792|(112|(3|R5|I5)|IB),DB=1,LB=2,$B=3,zB=4,NB=5,BB=6,$R=aT||Zw||M5?"":"",Kg=`

`,qPe=gx?"":$R,vx={bold:1,capitalize:1024,code:16,highlight:IB,italic:2,lowercase:256,strikethrough:R5,subscript:32,superscript:64,underline:I5,uppercase:512},WPe={directionless:1,unmergeable:2},IQ={center:LB,end:BB,justify:zB,left:DB,right:$B,start:NB},HPe={[LB]:"center",[BB]:"end",[zB]:"justify",[DB]:"left",[$B]:"right",[NB]:"start"},GPe={normal:0,segmented:2,token:1},XPe={[VPe]:"normal",[UPe]:"segmented",[QPe]:"token"},DQ="$config";function DJ(t,e,n,r,i,o){let a=t.getFirstChild();for(;a!==null;){const s=a.__key;a.__parent===e&&(It(a)&&DJ(a,s,n,r,i,o),n.has(s)||o.delete(s),i.push(s)),a=a.getNextSibling()}}const YPe=100;let S4=!1,FB=0;function KPe(t){FB=t.timeStamp}function w3(t,e,n){const r=t.nodeName==="BR",i=e.__lexicalLineBreak;return i&&(t===i||r&&t.previousSibling===i)||r&&nI(t,n)!==void 0}function JPe(t,e,n){const r=kf(ld(n));let i=null,o=null;r!==null&&r.anchorNode===t&&(i=r.anchorOffset,o=r.focusOffset);const a=t.nodeValue;a!==null&&l8(e,a,i,o,!1)}function e5e(t,e,n){if(Xt(t)){const r=t.anchor.getNode();if(r.is(n)&&t.format!==r.getFormat())return!1}return hy(e)&&n.isAttached()}function t5e(t,e,n,r){for(let i=t;i&&!U5e(i);i=Tk(i)){const o=nI(i,e);if(o!==void 0){const a=Li(o,n);if(a)return wi(a)||!Xo(i)?void 0:[i,a]}else if(i===r)return[r,vee(n)]}}function LJ(t,e,n){S4=!0;const r=performance.now()-FB>YPe;try{qu(t,(()=>{const i=an()||(function(x){return x.getEditorState().read((()=>{const O=an();return O!==null?O.clone():null}))})(t),o=new Map,a=t.getRootElement(),s=t._editorState,u=t._blockCursorElement;let d=!1,g="";for(let x=0;x<e.length;x++){const O=e[x],E=O.type,A=O.target,M=t5e(A,t,s,a);if(!M)continue;const[L,$]=M;if(E==="characterData")r&&pn($)&&hy(A)&&e5e(i,A,$)&&JPe(A,$,t);else if(E==="childList"){d=!0;const N=O.addedNodes;for(let q=0;q<N.length;q++){const W=N[q],te=gee(W),re=W.parentNode;if(re!=null&&W!==u&&te===null&&!w3(W,re,t)){if(gx){const ce=(Xo(W)?W.innerText:null)||W.nodeValue;ce&&(g+=ce)}re.removeChild(W)}}const F=O.removedNodes,U=F.length;if(U>0){let q=0;for(let W=0;W<U;W++){const te=F[W];(w3(te,A,t)||u===te)&&(A.appendChild(te),q++)}U!==q&&o.set(L,$)}}}if(o.size>0)for(const[x,O]of o)O.reconcileObservedMutation(x,t);const v=n.takeRecords();if(v.length>0){for(let x=0;x<v.length;x++){const O=v[x],E=O.addedNodes,A=O.target;for(let M=0;M<E.length;M++){const L=E[M],$=L.parentNode;$==null||L.nodeName!=="BR"||w3(L,A,t)||$.removeChild(L)}}n.takeRecords()}i!==null&&(d&&ss(i),gx&&wee(t)&&i.insertRawText(g))}))}finally{S4=!1}}function $J(t){const e=t._observer;e!==null&&LJ(t,e.takeRecords(),e)}function zJ(t){(function(e){FB===0&&ld(e).addEventListener("textInput",KPe,!0)})(t),t._observer=new MutationObserver(((e,n)=>{LJ(t,e,n)}))}function C4(t){const e=new Map,n=new Set;for(let r=typeof t=="function"?t:t.replace;r.prototype&&r.prototype.getType!==void 0;r=Object.getPrototypeOf(r)){const{ownNodeConfig:i}=oI(r);if(i&&i.stateConfigs)for(const o of i.stateConfigs){let a;"stateConfig"in o?(a=o.stateConfig,o.flat&&n.add(a.key)):a=o,e.set(a.key,a)}}return{flatKeys:n,sharedConfigMap:e}}let n5e=class NJ{constructor(e,n,r=void 0,i=new Map,o=void 0){this.node=e,this.sharedNodeState=n,this.unknownState=r,this.knownState=i;const{sharedConfigMap:a}=this.sharedNodeState,s=o!==void 0?o:(function(u,d,g){let v=g.size;if(d)for(const x in d){const O=u.get(x);O&&g.has(O)||v++}return v})(a,r,i);this.size=s}getValue(e){const n=this.knownState.get(e);if(n!==void 0)return n;this.sharedNodeState.sharedConfigMap.set(e.key,e);let r=e.defaultValue;if(this.unknownState&&e.key in this.unknownState){const i=this.unknownState[e.key];i!==void 0&&(r=e.parse(i)),this.updateFromKnown(e,r)}return r}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){const e={...this.unknownState},n={};for(const[r,i]of this.knownState)r.isEqual(i,r.defaultValue)?delete e[r.key]:e[r.key]=r.unparse(i);for(const r of this.sharedNodeState.flatKeys)r in e&&(n[r]=e[r],delete e[r]);return LQ(e)&&(n.$=e),n}getWritable(e){if(this.node===e)return this;const{sharedNodeState:n,unknownState:r}=this,i=new Map(this.knownState);return new NJ(e,n,(function(o,a,s){let u;if(s)for(const[d,g]of Object.entries(s)){const v=o.get(d);v?a.has(v)||a.set(v,v.parse(g)):(u=u||{},u[d]=g)}return u})(n.sharedConfigMap,i,r),i,this.size)}updateFromKnown(e,n){const r=e.key;this.sharedNodeState.sharedConfigMap.set(r,e);const{knownState:i,unknownState:o}=this;i.has(e)||o&&r in o||(o&&(delete o[r],this.unknownState=LQ(o)),this.size++),i.set(e,n)}updateFromUnknown(e,n){const r=this.sharedNodeState.sharedConfigMap.get(e);r?this.updateFromKnown(r,r.parse(n)):(this.unknownState=this.unknownState||{},e in this.unknownState||this.size++,this.unknownState[e]=n)}updateFromJSON(e){const{knownState:n}=this;for(const r of n.keys())n.set(r,r.defaultValue);if(this.size=n.size,this.unknownState=void 0,e)for(const[r,i]of Object.entries(e))this.updateFromUnknown(r,i)}};function r5e(t){const e=t.getWritable(),n=e.__state?e.__state.getWritable(e):new n5e(e,BJ(e));return e.__state=n,n}function BJ(t){return t.__state?t.__state.sharedNodeState:fee(iI(),t.getType()).sharedNodeState}function LQ(t){if(t)for(const e in t)return t}function $Q(t,e,n){for(const[r,i]of e.knownState){if(t.has(r.key))continue;t.add(r.key);const o=n?n.getValue(r):r.defaultValue;if(o!==i&&!r.isEqual(o,i))return!0}return!1}function zQ(t,e,n){const{unknownState:r}=e,i=n?n.unknownState:void 0;if(r){for(const[o,a]of Object.entries(r))if(!t.has(o)&&(t.add(o),a!==(i?i[o]:void 0)))return!0}return!1}function NQ(t,e){const n=t.__state;return n&&n.node===t?n.getWritable(e):n}function BQ(t,e){const n=t.__mode,r=t.__format,i=t.__style,o=e.__mode,a=e.__format,s=e.__style,u=t.__state,d=e.__state;return(n===null||n===o)&&(r===null||r===a)&&(i===null||i===s)&&(t.__state===null||u===d||(function(g,v){if(g===v)return!0;if(g&&v&&g.size!==v.size)return!1;const x=new Set;return!(g&&$Q(x,g,v)||v&&$Q(x,v,g)||g&&zQ(x,g,v)||v&&zQ(x,v,g))})(u,d))}function FQ(t,e){const n=t.mergeWithSibling(e),r=os()._normalizedNodes;return r.add(t.__key),r.add(e.__key),n}function jQ(t){let e,n,r=t;if(r.__text!==""||!r.isSimpleText()||r.isUnmergeable()){for(;(e=r.getPreviousSibling())!==null&&pn(e)&&e.isSimpleText()&&!e.isUnmergeable();){if(e.__text!==""){if(BQ(e,r)){r=FQ(e,r);break}break}e.remove()}for(;(n=r.getNextSibling())!==null&&pn(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(n.__text!==""){if(BQ(r,n)){r=FQ(r,n);break}break}n.remove()}}else r.remove()}function _x(t){return VQ(t.anchor),VQ(t.focus),t}function VQ(t){for(;t.type==="element";){const e=t.getNode(),n=t.offset;let r,i;if(n===e.getChildrenSize()?(r=e.getChildAtIndex(n-1),i=!0):(r=e.getChildAtIndex(n),i=!1),pn(r)){t.set(r.__key,i?r.getTextContentSize():0,"text",!0);break}if(!It(r))break;t.set(r.__key,i?r.getChildrenSize():0,"element",!0)}}let xx,Ll,lT,zR,T4,k4,bx,bf,E4,cT,ma="",Np=null,Bp="",Lg="",q1=!1,D5=!1;function L5(t,e){const n=bx.get(t);if(e!==null){const r=R4(t);r.parentNode===e&&e.removeChild(r)}if(bf.has(t)||Ll._keyToDOMMap.delete(t),It(n)){const r=z5(n,bx);A4(r,0,r.length-1,null)}n!==void 0&&c8(cT,lT,zR,n,"destroyed")}function A4(t,e,n,r){let i=e;for(;i<=n;++i){const o=t[i];o!==void 0&&L5(o,r)}}function P_(t,e){t.setProperty("text-align",e)}const i5e="40px";function FJ(t,e){const n=xx.theme.indent;if(typeof n=="string"){const i=t.classList.contains(n);e>0&&!i?t.classList.add(n):e<1&&i&&t.classList.remove(n)}const r=getComputedStyle(t).getPropertyValue("--lexical-indent-base-value")||i5e;t.style.setProperty("padding-inline-start",e===0?"":`calc(${e} * ${r})`)}function jJ(t,e){const n=t.style;e===0?P_(n,""):e===DB?P_(n,"left"):e===LB?P_(n,"center"):e===$B?P_(n,"right"):e===zB?P_(n,"justify"):e===NB?P_(n,"start"):e===BB&&P_(n,"end")}function P4(t,e){const n=(function(r){const i=r.__dir;if(i!==null)return i;if(Ks(r))return null;const o=r.getParentOrThrow();return Ks(o)&&o.__dir===null?"auto":null})(e);n!==null?t.dir=n:t.removeAttribute("dir")}function $5(t,e){const n=bf.get(t);n===void 0&&on(60);const r=n.createDOM(xx,Ll);if((function(i,o,a){const s=a._keyToDOMMap;(function(u,d,g){const v=`__lexicalKey_${d._key}`;u[v]=g})(o,a,i),s.set(i,o)})(t,r,Ll),pn(n)?r.setAttribute("data-lexical-text","true"):wi(n)&&r.setAttribute("data-lexical-decorator","true"),It(n)){const i=n.__indent,o=n.__size;if(P4(r,n),i!==0&&FJ(r,i),o!==0){const s=o-1;M4(z5(n,bf),n,0,s,n.getDOMSlot(r))}const a=n.__format;a!==0&&jJ(r,a),n.isInline()||VJ(null,n,r),rI(n)&&(ma+=Kg,Lg+=Kg)}else{const i=n.getTextContent();if(wi(n)){const o=n.decorate(Ll,xx);o!==null&&QJ(t,o),r.contentEditable="false"}ma+=i,Lg+=i}return e!==null&&e.insertChild(r),c8(cT,lT,zR,n,"created"),r}function M4(t,e,n,r,i){const o=ma;ma="";let a=n;for(;a<=r;++a){$5(t[a],i);const s=bf.get(t[a]);s!==null&&pn(s)&&(Np===null&&(Np=s.getFormat()),Bp===""&&(Bp=s.getStyle()))}rI(e)&&(ma+=Kg),i.element.__lexicalTextContent=ma,ma=o+ma}function QQ(t,e){if(t){const n=t.__last;if(n){const r=e.get(n);if(r)return wf(r)?"line-break":wi(r)&&r.isInline()?"decorator":null}return"empty"}return null}function VJ(t,e,n){const r=QQ(t,bx),i=QQ(e,bf);r!==i&&e.getDOMSlot(n).setManagedLineBreak(i)}function o5e(t,e,n){var r;Np=null,Bp="",(function(i,o,a){const s=ma,u=i.__size,d=o.__size;ma="";const g=a.element;if(u===1&&d===1){const v=i.__first,x=o.__first;if(v===x)tC(v,g);else{const E=R4(v),A=$5(x,null);try{g.replaceChild(A,E)}catch(M){if(typeof M=="object"&&M!=null){const L=`${M.toString()} Parent: ${g.tagName}, new child: {tag: ${A.tagName} key: ${x}}, old child: {tag: ${E.tagName}, key: ${v}}.`;throw new Error(L)}throw M}L5(v,null)}const O=bf.get(x);pn(O)&&(Np===null&&(Np=O.getFormat()),Bp===""&&(Bp=O.getStyle()))}else{const v=z5(i,bx),x=z5(o,bf);if(v.length!==u&&on(227),x.length!==d&&on(228),u===0)d!==0&&M4(x,o,0,d-1,a);else if(d===0){if(u!==0){const O=a.after==null&&a.before==null&&a.element.__lexicalLineBreak==null;A4(v,0,u-1,O?null:g),O&&(g.textContent="")}}else(function(O,E,A,M,L,$){const N=M-1,F=L-1;let U,q,W=$.getFirstChild(),te=0,re=0;for(;te<=N&&re<=F;){const ie=E[te],me=A[re];if(ie===me)W=O3(tC(me,$.element)),te++,re++;else{U===void 0&&(U=new Set(E)),q===void 0&&(q=new Set(A));const pe=q.has(ie),_e=U.has(me);if(pe)if(_e){const Me=wx(Ll,me);Me===W?W=O3(tC(me,$.element)):($.withBefore(W).insertChild(Me),tC(me,$.element)),te++,re++}else $5(me,$.withBefore(W)),re++;else W=O3(R4(ie)),L5(ie,$.element),te++}const we=bf.get(me);we!==null&&pn(we)&&(Np===null&&(Np=we.getFormat()),Bp===""&&(Bp=we.getStyle()))}const ce=te>N,be=re>F;if(ce&&!be){const ie=A[F+1],me=ie===void 0?null:Ll.getElementByKey(ie);M4(A,O,re,F,$.withBefore(me))}else be&&!ce&&A4(E,te,N,$.element)})(o,v,x,u,d,a)}rI(o)&&(ma+=Kg),g.__lexicalTextContent=ma,ma=s+ma})(t,e,e.getDOMSlot(n)),r=e,Np==null||Np===r.__textFormat||D5||r.setTextFormat(Np),(function(i){Bp===""||Bp===i.__textStyle||D5||i.setTextStyle(Bp)})(e)}function z5(t,e){const n=[];let r=t.__first;for(;r!==null;){const i=e.get(r);i===void 0&&on(101),n.push(r),r=i.__next}return n}function tC(t,e){const n=bx.get(t);let r=bf.get(t);n!==void 0&&r!==void 0||on(61);const i=q1||k4.has(t)||T4.has(t),o=wx(Ll,t);if(n===r&&!i){if(It(n)){const a=o.__lexicalTextContent;a!==void 0&&(ma+=a,Lg+=a)}else{const a=n.getTextContent();Lg+=a,ma+=a}return o}if(n!==r&&i&&c8(cT,lT,zR,r,"updated"),r.updateDOM(n,o,xx)){const a=$5(t,null);return e===null&&on(62),e.replaceChild(a,o),L5(t,null),a}if(It(n)&&It(r)){const a=r.__indent;(q1||a!==n.__indent)&&FJ(o,a);const s=r.__format;if((q1||s!==n.__format)&&jJ(o,s),i&&(o5e(n,r,o),Ks(r)||r.isInline()||VJ(n,r,o)),rI(r)&&(ma+=Kg,Lg+=Kg),(q1||r.__dir!==n.__dir)&&(P4(o,r),Ks(r)&&!q1))for(const u of r.getChildren())It(u)&&P4(wx(Ll,u.getKey()),u)}else{const a=r.getTextContent();if(wi(r)){const s=r.decorate(Ll,xx);s!==null&&QJ(t,s)}ma+=a,Lg+=a}if(!D5&&Ks(r)&&r.__cachedText!==Lg){const a=r.getWritable();a.__cachedText=Lg,r=a}return o}function QJ(t,e){let n=Ll._pendingDecorators;const r=Ll._decorators;if(n===null){if(r[t]===e)return;n=yee(Ll)}n[t]=e}function O3(t){let e=t.nextSibling;return e!==null&&e===Ll._blockCursorElement&&(e=e.nextSibling),e}function s5e(t,e,n,r,i,o){ma="",Lg="",q1=r===qw,Ll=n,xx=n._config,lT=n._nodes,zR=Ll._listeners.mutation,T4=i,k4=o,bx=t._nodeMap,bf=e._nodeMap,D5=e._readOnly,E4=new Map(n._keyToDOMMap);const a=new Map;return cT=a,tC("root",null),Ll=void 0,lT=void 0,T4=void 0,k4=void 0,bx=void 0,bf=void 0,xx=void 0,E4=void 0,cT=void 0,a}function R4(t){const e=E4.get(t);return e===void 0&&on(75,t),e}function nr(t){return{type:t}}const vk=nr("SELECTION_CHANGE_COMMAND"),a5e=nr("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),NR=nr("CLICK_COMMAND"),rx=nr("DELETE_CHARACTER_COMMAND"),yw=nr("INSERT_LINE_BREAK_COMMAND"),uT=nr("INSERT_PARAGRAPH_COMMAND"),vw=nr("CONTROLLED_TEXT_INSERTION_COMMAND"),_k=nr("PASTE_COMMAND"),I4=nr("REMOVE_TEXT_COMMAND"),hT=nr("DELETE_WORD_COMMAND"),dT=nr("DELETE_LINE_COMMAND"),jg=nr("FORMAT_TEXT_COMMAND"),BR=nr("UNDO_COMMAND"),FR=nr("REDO_COMMAND"),jR=nr("KEYDOWN_COMMAND"),UJ=nr("KEY_ARROW_RIGHT_COMMAND"),l5e=nr("MOVE_TO_END"),jB=nr("KEY_ARROW_LEFT_COMMAND"),c5e=nr("MOVE_TO_START"),VB=nr("KEY_ARROW_UP_COMMAND"),QB=nr("KEY_ARROW_DOWN_COMMAND"),Ww=nr("KEY_ENTER_COMMAND"),UB=nr("KEY_SPACE_COMMAND"),VR=nr("KEY_BACKSPACE_COMMAND"),xk=nr("KEY_ESCAPE_COMMAND"),ZB=nr("KEY_DELETE_COMMAND"),QR=nr("KEY_TAB_COMMAND"),ZJ=nr("INSERT_TAB_COMMAND"),N5=nr("INDENT_CONTENT_COMMAND"),D4=nr("OUTDENT_CONTENT_COMMAND"),qB=nr("DROP_COMMAND"),u5e=nr("FORMAT_ELEMENT_COMMAND"),UR=nr("DRAGSTART_COMMAND"),WB=nr("DRAGOVER_COMMAND"),h5e=nr("DRAGEND_COMMAND"),ZR=nr("COPY_COMMAND"),HB=nr("CUT_COMMAND"),L4=nr("SELECT_ALL_COMMAND"),d5e=nr("CLEAR_EDITOR_COMMAND"),f5e=nr("CLEAR_HISTORY_COMMAND"),nC=nr("CAN_REDO_COMMAND"),rC=nr("CAN_UNDO_COMMAND"),qR=nr("FOCUS_COMMAND"),WR=nr("BLUR_COMMAND"),p5e=nr("KEY_MODIFIER_COMMAND"),Sg=Object.freeze({}),$4=30,z4=[["keydown",function(t,e){if(CC=t.timeStamp,qJ=t.key,!e.isComposing()&&!Dn(e,jR,t)&&t.key!=null){if(S3&&yU(t))return qu(e,(()=>{SA(e,C3)})),S3=!1,void(C3="");if((function(n){return Zi(n,"ArrowRight",{shiftKey:"any"})})(t))Dn(e,UJ,t);else if((function(n){return Zi(n,"ArrowRight",Mg)})(t))Dn(e,l5e,t);else if((function(n){return Zi(n,"ArrowLeft",{shiftKey:"any"})})(t))Dn(e,jB,t);else if((function(n){return Zi(n,"ArrowLeft",Mg)})(t))Dn(e,c5e,t);else if((function(n){return Zi(n,"ArrowUp",{altKey:"any",shiftKey:"any"})})(t))Dn(e,VB,t);else if((function(n){return Zi(n,"ArrowDown",{altKey:"any",shiftKey:"any"})})(t))Dn(e,QB,t);else if((function(n){return Zi(n,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any",shiftKey:!0})})(t))TC=!0,Dn(e,Ww,t);else if((function(n){return n.key===" "})(t))Dn(e,UB,t);else if((function(n){return Qp&&Zi(n,"o",{ctrlKey:!0})})(t))t.preventDefault(),TC=!0,Dn(e,yw,!0);else if((function(n){return Zi(n,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any"})})(t))TC=!1,Dn(e,Ww,t);else if((function(n){return Zi(n,"Backspace",{shiftKey:"any"})||Qp&&Zi(n,"h",{ctrlKey:!0})})(t))yU(t)?Dn(e,VR,t):(t.preventDefault(),Dn(e,rx,!0));else if((function(n){return n.key==="Escape"})(t))Dn(e,xk,t);else if((function(n){return Zi(n,"Delete",{})||Qp&&Zi(n,"d",{ctrlKey:!0})})(t))(function(n){return n.key==="Delete"})(t)?Dn(e,ZB,t):(t.preventDefault(),Dn(e,rx,!1));else if((function(n){return Zi(n,"Backspace",gU)})(t))t.preventDefault(),Dn(e,hT,!0);else if((function(n){return Zi(n,"Delete",gU)})(t))t.preventDefault(),Dn(e,hT,!1);else if((function(n){return Qp&&Zi(n,"Backspace",{metaKey:!0})})(t))t.preventDefault(),Dn(e,dT,!0);else if((function(n){return Qp&&(Zi(n,"Delete",{metaKey:!0})||Zi(n,"k",{ctrlKey:!0}))})(t))t.preventDefault(),Dn(e,dT,!1);else if((function(n){return Zi(n,"b",Mg)})(t))t.preventDefault(),Dn(e,jg,"bold");else if((function(n){return Zi(n,"u",Mg)})(t))t.preventDefault(),Dn(e,jg,"underline");else if((function(n){return Zi(n,"i",Mg)})(t))t.preventDefault(),Dn(e,jg,"italic");else if((function(n){return Zi(n,"Tab",{shiftKey:"any"})})(t))Dn(e,QR,t);else if((function(n){return Zi(n,"z",Mg)})(t))t.preventDefault(),Dn(e,BR,void 0);else if((function(n){return Qp?Zi(n,"z",{metaKey:!0,shiftKey:!0}):Zi(n,"y",{ctrlKey:!0})||Zi(n,"z",{ctrlKey:!0,shiftKey:!0})})(t))t.preventDefault(),Dn(e,FR,void 0);else{const n=e._editorState._selection;n===null||Xt(n)?vU(t)&&(t.preventDefault(),Dn(e,L4,t)):(function(r){return Zi(r,"c",Mg)})(t)?(t.preventDefault(),Dn(e,ZR,t)):(function(r){return Zi(r,"x",Mg)})(t)?(t.preventDefault(),Dn(e,HB,t)):vU(t)&&(t.preventDefault(),Dn(e,L4,t))}(function(n){return n.ctrlKey||n.shiftKey||n.altKey||n.metaKey})(t)&&Dn(e,p5e,t)}}],["pointerdown",function(t,e){const n=t.target,r=t.pointerType;VO(n)&&r!=="touch"&&r!=="pen"&&t.button===0&&qu(e,(()=>{fU(n)||(B4=!0)}))}],["compositionstart",function(t,e){qu(e,(()=>{const n=an();if(Xt(n)&&!e.isComposing()){const r=n.anchor,i=n.anchor.getNode();il(r.key),(t.timeStamp<CC+$4||r.type==="element"||!n.isCollapsed()||i.getFormat()!==n.format||pn(i)&&i.getStyle()!==n.style)&&Dn(e,vw,qPe)}}))}],["compositionend",function(t,e){gx?I2=!0:Zw||!aT&&!M5?qu(e,(()=>{SA(e,t.data)})):(S3=!0,C3=t.data)}],["input",function(t,e){t.stopPropagation(),qu(e,(()=>{if(Xo(t.target)&&fU(t.target))return;const n=an(),r=t.data,i=YJ(t);if(r!=null&&Xt(n)&&GJ(n,i,r,t.timeStamp,!1)){I2&&(SA(e,r),I2=!1);const o=n.anchor.getNode(),a=kf(ld(e));if(a===null)return;const s=n.isBackward(),u=s?n.anchor.offset:n.focus.offset,d=s?n.focus.offset:n.anchor.offset;P5&&!n.isCollapsed()&&pn(o)&&a.anchorNode!==null&&o.getTextContent().slice(0,u)+r+o.getTextContent().slice(u+d)===bee(a.anchorNode)||Dn(e,vw,r);const g=r.length;gx&&g>1&&t.inputType==="insertCompositionText"&&!e.isComposing()&&(n.anchor.offset-=g),aT||Zw||M5||!e.isComposing()||(CC=0,il(null))}else a8(!1,e,r!==null?r:void 0),I2&&(SA(e,r||void 0),I2=!1);(function(){rl();const o=os();$J(o)})()}),{event:t}),W1=null}],["click",function(t,e){qu(e,(()=>{const n=an(),r=kf(ld(e)),i=qx();if(r){if(Xt(n)){const o=n.anchor,a=o.getNode();if(o.type==="element"&&o.offset===0&&n.isCollapsed()&&!Ks(a)&&Br().getChildrenSize()===1&&a.getTopLevelElementOrThrow().isEmpty()&&i!==null&&n.is(i))r.removeAllRanges(),n.dirty=!0;else if(t.detail===3&&!n.isCollapsed()&&a!==n.focus.getNode()){const s=(function(u,d){let g=u;for(;g!==Br()&&g!=null;){if(d(g))return g;g=g.getParent()}return null})(a,(u=>It(u)&&!u.isInline()));It(s)&&s.select(0)}}else if(t.pointerType==="touch"||t.pointerType==="pen"){const o=r.anchorNode;(Xo(o)||hy(o))&&ss(YB(i,r,e,t))}}Dn(e,NR,t)}))}],["cut",Sg],["copy",Sg],["dragstart",Sg],["dragover",Sg],["dragend",Sg],["paste",Sg],["focus",Sg],["blur",Sg],["drop",Sg]];P5&&z4.push(["beforeinput",(t,e)=>(function(n,r){const i=n.inputType,o=YJ(n);i==="deleteCompositionText"||gx&&wee(r)||i!=="insertCompositionText"&&qu(r,(()=>{const a=an();if(i==="deleteContentBackward"){if(a===null){const O=qx();if(!Xt(O))return;ss(O.clone())}if(Xt(a)){const O=a.anchor.key===a.focus.key;if(s=n.timeStamp,qJ==="MediaLast"&&s<CC+$4&&r.isComposing()&&O){if(il(null),CC=0,setTimeout((()=>{qu(r,(()=>{il(null)}))}),$4),Xt(a)){const E=a.anchor.getNode();E.markDirty(),pn(E)||on(142),XJ(a,E)}}else{il(null),n.preventDefault();const E=a.anchor.getNode(),A=E.getTextContent(),M=E.canInsertTextAfter(),L=a.anchor.offset===0&&a.focus.offset===A.length;let $=RQ&&O&&!L&&M;if($&&a.isCollapsed()&&($=!wi(Q4(a.anchor,!0))),!$){Dn(r,rx,!0);const N=an();RQ&&Xt(N)&&N.isCollapsed()&&(j_=N,setTimeout((()=>j_=null)))}}return}}var s;if(!Xt(a))return;const u=n.data;W1!==null&&a8(!1,r,W1),a.dirty&&W1===null||!a.isCollapsed()||Ks(a.anchor.getNode())||o===null||a.applyDOMRange(o),W1=null;const d=a.anchor,g=a.focus,v=d.getNode(),x=g.getNode();if(i!=="insertText"&&i!=="insertTranspose")switch(n.preventDefault(),i){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":Dn(r,vw,n);break;case"insertFromComposition":il(null),Dn(r,vw,n);break;case"insertLineBreak":il(null),Dn(r,yw,!1);break;case"insertParagraph":il(null),TC&&!Zw?(TC=!1,Dn(r,yw,!1)):Dn(r,uT,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":Dn(r,_k,n);break;case"deleteByComposition":(function(O,E){return O!==E||It(O)||It(E)||!ix(O)||!ix(E)})(v,x)&&Dn(r,I4,n);break;case"deleteByDrag":case"deleteByCut":Dn(r,I4,n);break;case"deleteContent":Dn(r,rx,!1);break;case"deleteWordBackward":Dn(r,hT,!0);break;case"deleteWordForward":Dn(r,hT,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":Dn(r,dT,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":Dn(r,dT,!1);break;case"formatStrikeThrough":Dn(r,jg,"strikethrough");break;case"formatBold":Dn(r,jg,"bold");break;case"formatItalic":Dn(r,jg,"italic");break;case"formatUnderline":Dn(r,jg,"underline");break;case"historyUndo":Dn(r,BR,void 0);break;case"historyRedo":Dn(r,FR,void 0)}else{if(u===`
`)n.preventDefault(),Dn(r,yw,!1);else if(u===Kg)n.preventDefault(),Dn(r,uT,void 0);else if(u==null&&n.dataTransfer){const O=n.dataTransfer.getData("text/plain");n.preventDefault(),a.insertRawText(O)}else u!=null&&GJ(a,o,u,n.timeStamp,!0)?(n.preventDefault(),Dn(r,vw,u)):W1=u;WJ=n.timeStamp}}))})(t,e)]);let CC=0,qJ=null,WJ=0,W1=null;const B5=new WeakMap;let N4=!1,B4=!1,TC=!1,I2=!1,S3=!1,C3="",j_=null,HJ=[0,"",0,"root",0];function GJ(t,e,n,r,i){const o=t.anchor,a=t.focus,s=o.getNode(),u=os(),d=kf(ld(u)),g=d!==null?d.anchorNode:null,v=o.key,x=u.getElementByKey(v),O=n.length;return v!==a.key||!pn(s)||(!i&&(!P5||WJ<r+50)||s.isDirty()&&O<2||_ee(n))&&o.offset!==a.offset&&!s.isComposing()||Ig(s)||s.isDirty()&&O>1||(i||!P5)&&x!==null&&!s.isComposing()&&g!==Hw(x)||d!==null&&e!==null&&(!e.collapsed||e.startContainer!==d.anchorNode||e.startOffset!==d.anchorOffset)||s.getFormat()!==t.format||s.getStyle()!==t.style||(function(E,A){if(A.isSegmented())return!0;if(!E.isCollapsed())return!1;const M=E.anchor.offset,L=A.getParentOrThrow(),$=ix(A);return M===0?!A.canInsertTextBefore()||!L.canInsertTextBefore()&&!A.isComposing()||$||(function(N){const F=N.getPreviousSibling();return(pn(F)||It(F)&&F.isInline())&&!F.canInsertTextAfter()})(A):M===A.getTextContentSize()&&(!A.canInsertTextAfter()||!L.canInsertTextAfter()&&!A.isComposing()||$)})(t,s)}function UQ(t,e){return hy(t)&&t.nodeValue!==null&&e!==0&&e!==t.nodeValue.length}function ZQ(t,e,n){const{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:a}=t;N4&&(N4=!1,UQ(r,i)&&UQ(o,a)&&!j_)||qu(e,(()=>{if(!n)return void ss(null);if(!Ck(e,r,o))return;let s=an();if(j_&&Xt(s)&&s.isCollapsed()){const u=s.anchor,d=j_.anchor;(u.key===d.key&&u.offset===d.offset+1||u.offset===1&&d.getNode().is(u.getNode().getPreviousSibling()))&&(s=j_.clone(),ss(s))}if(j_=null,Xt(s)){const u=s.anchor,d=u.getNode();if(s.isCollapsed()){t.type==="Range"&&t.anchorNode===t.focusNode&&(s.dirty=!0);const g=ld(e).event,v=g?g.timeStamp:performance.now(),[x,O,E,A,M]=HJ,L=Br(),$=e.isComposing()===!1&&L.getTextContent()==="";if(v<M+200&&u.offset===E&&u.key===A)$P(s,x,O);else if(u.type==="text")pn(d)||on(141),XJ(s,d);else if(u.type==="element"&&!$){It(d)||on(259);const N=u.getNode();N.isEmpty()?(function(F,U){const q=U.getTextFormat(),W=U.getTextStyle();$P(F,q,W)})(s,N):$P(s,0,"")}}else{const g=u.key,v=s.focus.key,x=s.getNodes(),O=x.length,E=s.isBackward(),A=E?a:i,M=E?i:a,L=E?v:g,$=E?g:v;let N=ZPe,F=!1;for(let U=0;U<O;U++){const q=x[U],W=q.getTextContentSize();if(pn(q)&&W!==0&&!(U===0&&q.__key===L&&A===W||U===O-1&&q.__key===$&&M===0)&&(F=!0,N&=q.getFormat(),N===0))break}s.format=F?N:0}}Dn(e,vk,void 0)}))}function $P(t,e,n){t.format===e&&t.style===n||(t.format=e,t.style=n,t.dirty=!0)}function XJ(t,e){$P(t,e.getFormat(),e.getStyle())}function YJ(t){if(!t.getTargetRanges)return null;const e=t.getTargetRanges();return e.length===0?null:e[0]}function SA(t,e){const n=t._compositionKey;if(il(null),n!==null&&e!=null){if(e===""){const r=Li(n),i=Hw(t.getElementByKey(n));return void(i!==null&&i.nodeValue!==null&&pn(r)&&l8(r,i.nodeValue,null,null,!0))}if(e[e.length-1]===`
`){const r=an();if(Xt(r)){const i=r.focus;return r.anchor.set(i.key,i.offset,i.type),void Dn(t,Ww,null)}}}a8(!0,t,e)}function KJ(t){let e=t.__lexicalEventHandles;return e===void 0&&(e=[],t.__lexicalEventHandles=e),e}const _w=new Map;function JJ(t){const e=V5e(t.target);if(e===null)return;const n=o8(e.anchorNode);if(n===null)return;B4&&(B4=!1,qu(n,(()=>{const u=qx(),d=e.anchorNode;(Xo(d)||hy(d))&&ss(YB(u,e,n,t))})));const r=s8(n),i=r[r.length-1],o=i._key,a=_w.get(o),s=a||i;s!==n&&ZQ(e,s,!1),ZQ(e,n,!0),n!==i?_w.set(o,n):a&&_w.delete(o)}function qQ(t){t._lexicalHandled=!0}function WQ(t){return t._lexicalHandled===!0}function m5e(t){const e=t.ownerDocument,n=B5.get(e);if(n===void 0)return;const r=n-1;r>=0||on(164),B5.set(e,r),r===0&&e.removeEventListener("selectionchange",JJ);const i=tI(t);i8(i)?((function(a){if(a._parentEditor!==null){const s=s8(a),u=s[s.length-1]._key;_w.get(u)===a&&_w.delete(u)}else _w.delete(a._key)})(i),t.__lexicalEditor=null):i&&on(198);const o=KJ(t);for(let a=0;a<o.length;a++)o[a]();t.__lexicalEventHandles=[]}function F4(t,e,n){rl();const r=t.__key,i=t.getParent();if(i===null)return;const o=(function(s){const u=an();if(!Xt(u)||!It(s))return u;const{anchor:d,focus:g}=u,v=d.getNode(),x=g.getNode();return U4(v,s)&&d.set(s.__key,0,"element"),U4(x,s)&&g.set(s.__key,0,"element"),u})(t);let a=!1;if(Xt(o)&&e){const s=o.anchor,u=o.focus;s.key===r&&(V5(s,t,i,t.getPreviousSibling(),t.getNextSibling()),a=!0),u.key===r&&(V5(u,t,i,t.getPreviousSibling(),t.getNextSibling()),a=!0)}else rs(o)&&e&&t.isSelected()&&t.selectPrevious();if(Xt(o)&&e&&!a){const s=t.getIndexWithinParent();ox(t),j5(o,i,s,-1)}else ox(t);n||ea(i)||i.canBeEmpty()||!i.isEmpty()||F4(i,e),e&&o&&Ks(i)&&i.isEmpty()&&i.selectEnd()}class zO{static getType(){const{ownNodeType:e}=oI(this);return e===void 0&&on(64,this.name),e}static clone(e){on(65,this.name)}$config(){return{}}config(e,n){const r=n.extends||Object.getPrototypeOf(this.constructor);return Object.assign(n,{extends:r,type:e}),{[e]:n}}afterCloneFrom(e){this.__key===e.__key?(this.__parent=e.__parent,this.__next=e.__next,this.__prev=e.__prev,this.__state=e.__state):e.__state&&(this.__state=e.__state.getWritable(this))}constructor(e){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),mee(this,e)}getType(){return this.__type}isInline(){on(137,this.constructor.name)}isAttached(){let e=this.__key;for(;e!==null;){if(e==="root")return!0;const n=Li(e);if(n===null)break;e=n.__parent}return!1}isSelected(e){const n=e||an();if(n==null)return!1;const r=n.getNodes().some((i=>i.__key===this.__key));if(pn(this))return r;if(Xt(n)&&n.anchor.type==="element"&&n.focus.type==="element"){if(n.isCollapsed())return!1;const i=this.getParent();if(wi(this)&&this.isInline()&&i){const o=n.isBackward()?n.focus:n.anchor;if(i.is(o.getNode())&&o.offset===i.getChildrenSize()&&this.is(i.getLastChild()))return!1}}return r}getKey(){return this.__key}getIndexWithinParent(){const e=this.getParent();if(e===null)return-1;let n=e.getFirstChild(),r=0;for(;n!==null;){if(this.is(n))return r;r++,n=n.getNextSibling()}return-1}getParent(){const e=this.getLatest().__parent;return e===null?null:Li(e)}getParentOrThrow(){const e=this.getParent();return e===null&&on(66,this.__key),e}getTopLevelElement(){let e=this;for(;e!==null;){const n=e.getParent();if(ea(n))return It(e)||e===this&&wi(e)||on(194),e;e=n}return null}getTopLevelElementOrThrow(){const e=this.getTopLevelElement();return e===null&&on(67,this.__key),e}getParents(){const e=[];let n=this.getParent();for(;n!==null;)e.push(n),n=n.getParent();return e}getParentKeys(){const e=[];let n=this.getParent();for(;n!==null;)e.push(n.__key),n=n.getParent();return e}getPreviousSibling(){const e=this.getLatest().__prev;return e===null?null:Li(e)}getPreviousSiblings(){const e=[],n=this.getParent();if(n===null)return e;let r=n.getFirstChild();for(;r!==null&&!r.is(this);)e.push(r),r=r.getNextSibling();return e}getNextSibling(){const e=this.getLatest().__next;return e===null?null:Li(e)}getNextSiblings(){const e=[];let n=this.getNextSibling();for(;n!==null;)e.push(n),n=n.getNextSibling();return e}getCommonAncestor(e){const n=It(this)?this:this.getParent(),r=It(e)?e:e.getParent(),i=n&&r?BP(n,r):null;return i?i.commonAncestor:null}is(e){return e!=null&&this.__key===e.__key}isBefore(e){const n=BP(this,e);return n!==null&&(n.type==="descendant"||(n.type==="branch"?Aee(n)===-1:(n.type!=="same"&&n.type!=="ancestor"&&on(279),!1)))}isParentOf(e){const n=BP(this,e);return n!==null&&n.type==="ancestor"}getNodesBetween(e){const n=this.isBefore(e),r=[],i=new Set;let o=this;for(;o!==null;){const a=o.__key;if(i.has(a)||(i.add(a),r.push(o)),o===e)break;const s=It(o)?n?o.getFirstChild():o.getLastChild():null;if(s!==null){o=s;continue}const u=n?o.getNextSibling():o.getPreviousSibling();if(u!==null){o=u;continue}const d=o.getParentOrThrow();if(i.has(d.__key)||r.push(d),d===e)break;let g=null,v=d;do{if(v===null&&on(68),g=n?v.getNextSibling():v.getPreviousSibling(),v=v.getParent(),v===null)break;g!==null||i.has(v.__key)||r.push(v)}while(g===null);o=g}return n||r.reverse(),r}isDirty(){const e=os()._dirtyLeaves;return e!==null&&e.has(this.__key)}getLatest(){const e=Li(this.__key);return e===null&&on(113),e}getWritable(){rl();const e=sv(),n=os(),r=e._nodeMap,i=this.__key,o=this.getLatest(),a=n._cloneNotNeeded,s=an();if(s!==null&&s.setCachedNodes(null),a.has(i))return q5(o),o;const u=h8(o);return a.add(i),q5(u),r.set(i,u),u}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(e,n){on(70)}updateDOM(e,n,r){on(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){const e=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...e}}static importJSON(e){on(18,this.name)}updateFromJSON(e){return(function(n,r){const i=n.getWritable(),o=r.$;let a=o;for(const s of BJ(i).flatKeys)s in r&&(a!==void 0&&a!==o||(a={...o}),a[s]=r[s]);return(i.__state||a)&&r5e(n).updateFromJSON(a),i})(this,e)}static transform(){return null}remove(e){F4(this,!0,e)}replace(e,n){rl();let r=an();r!==null&&(r=r.clone()),M3(this,e);const i=this.getLatest(),o=this.__key,a=e.__key,s=e.getWritable(),u=this.getParentOrThrow().getWritable(),d=u.__size;ox(s);const g=i.getPreviousSibling(),v=i.getNextSibling(),x=i.__prev,O=i.__next,E=i.__parent;if(F4(i,!1,!0),g===null?u.__first=a:g.getWritable().__next=a,s.__prev=x,v===null?u.__last=a:v.getWritable().__prev=a,s.__next=O,s.__parent=E,u.__size=d,n&&(It(this)&&It(s)||on(139),this.getChildren().forEach((A=>{s.append(A)}))),Xt(r)){ss(r);const A=r.anchor,M=r.focus;A.key===o&&YQ(A,s),M.key===o&&YQ(M,s)}return E0()===o&&il(a),s}insertAfter(e,n=!0){rl(),M3(this,e);const r=this.getWritable(),i=e.getWritable(),o=i.getParent(),a=an();let s=!1,u=!1;if(o!==null){const O=e.getIndexWithinParent();if(ox(i),Xt(a)){const E=o.__key,A=a.anchor,M=a.focus;s=A.type==="element"&&A.key===E&&A.offset===O+1,u=M.type==="element"&&M.key===E&&M.offset===O+1}}const d=this.getNextSibling(),g=this.getParentOrThrow().getWritable(),v=i.__key,x=r.__next;if(d===null?g.__last=v:d.getWritable().__prev=v,g.__size++,r.__next=v,i.__next=x,i.__prev=r.__key,i.__parent=r.__parent,n&&Xt(a)){const O=this.getIndexWithinParent();j5(a,g,O+1);const E=g.__key;s&&a.anchor.set(E,O+2,"element"),u&&a.focus.set(E,O+2,"element")}return e}insertBefore(e,n=!0){rl(),M3(this,e);const r=this.getWritable(),i=e.getWritable(),o=i.__key;ox(i);const a=this.getPreviousSibling(),s=this.getParentOrThrow().getWritable(),u=r.__prev,d=this.getIndexWithinParent();a===null?s.__first=o:a.getWritable().__next=o,s.__size++,r.__prev=o,i.__prev=u,i.__next=r.__key,i.__parent=r.__parent;const g=an();return n&&Xt(g)&&j5(g,this.getParentOrThrow(),d),e}isParentRequired(){return!1}createParentElementNode(){return yi()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,n){rl();const r=this.getPreviousSibling(),i=this.getParentOrThrow();if(r===null)return i.select(0,0);if(It(r))return r.select();if(!pn(r)){const o=r.getIndexWithinParent()+1;return i.select(o,o)}return r.select(e,n)}selectNext(e,n){rl();const r=this.getNextSibling(),i=this.getParentOrThrow();if(r===null)return i.select();if(It(r))return r.select(0,0);if(!pn(r)){const o=r.getIndexWithinParent();return i.select(o,o)}return r.select(e,n)}markDirty(){this.getWritable()}reconcileObservedMutation(e,n){this.markDirty()}}class bk extends zO{static getType(){return"linebreak"}static clone(e){return new bk(e.__key)}constructor(e){super(e)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:e=>(function(n){const r=n.parentElement;if(r!==null&&W5(r)){const i=r.firstChild;if(i===n||i.nextSibling===n&&CA(i)){const o=r.lastChild;if(o===n||o.previousSibling===n&&CA(o))return!0}}return!1})(e)||(function(n){const r=n.parentElement;if(r!==null&&W5(r)){const i=r.firstChild;if(i===n||i.nextSibling===n&&CA(i))return!1;const o=r.lastChild;if(o===n||o.previousSibling===n&&CA(o))return!0}return!1})(e)?null:{conversion:g5e,priority:0}}}static importJSON(e){return Tf().updateFromJSON(e)}}function g5e(t){return{node:Tf()}}function Tf(){return hh(new bk)}function wf(t){return t instanceof bk}function CA(t){return hy(t)&&/^( |\t|\r?\n)+$/.test(t.textContent||"")}function T3(t,e){return 16&e?"code":e&IB?"mark":32&e?"sub":64&e?"sup":null}function k3(t,e){return 1&e?"strong":2&e?"em":"span"}function eee(t,e,n,r,i){const o=r.classList;let a=xw(i,"base");a!==void 0&&o.add(...a),a=xw(i,"underlineStrikethrough");let s=!1;const u=e&I5&&e&R5;a!==void 0&&(n&I5&&n&R5?(s=!0,u||o.add(...a)):u&&o.remove(...a));for(const d in vx){const g=vx[d];if(a=xw(i,d),a!==void 0)if(n&g){if(s&&(d==="underline"||d==="strikethrough")){e&g&&o.remove(...a);continue}e&g&&(!u||d!=="underline")&&d!=="strikethrough"||o.add(...a)}else e&g&&o.remove(...a)}}function tee(t,e,n){const r=e.firstChild,i=n.isComposing(),o=t+(i?$R:"");if(r==null)e.textContent=o;else{const a=r.nodeValue;if(a!==o)if(i||gx){const[s,u,d]=(function(g,v){const x=g.length,O=v.length;let E=0,A=0;for(;E<x&&E<O&&g[E]===v[E];)E++;for(;A+E<x&&A+E<O&&g[x-A-1]===v[O-A-1];)A++;return[E,x-E-A,v.slice(E,O-A)]})(a,o);u!==0&&r.deleteData(s,u),r.insertData(s,d)}else r.nodeValue=o}}function HQ(t,e,n,r,i,o){tee(i,t,e);const a=o.theme.text;a!==void 0&&eee(0,0,r,t,a)}function TA(t,e){const n=document.createElement(e);return n.appendChild(t),n}class bm extends zO{static getType(){return"text"}static clone(e){return new bm(e.__text,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__text=e.__text,this.__format=e.__format,this.__style=e.__style,this.__mode=e.__mode,this.__detail=e.__detail}constructor(e="",n){super(n),this.__text=e,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const e=this.getLatest();return XPe[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===E0()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(e){const n=vx[e];return!!(this.getFormat()&n)}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(e,n){return Z5(this.getLatest().__format,e,n)}canHaveFormat(){return!0}isInline(){return!0}createDOM(e,n){const r=this.__format,i=T3(0,r),o=k3(0,r),a=i===null?o:i,s=document.createElement(a);let u=s;this.hasFormat("code")&&s.setAttribute("spellcheck","false"),i!==null&&(u=document.createElement(o),s.appendChild(u)),HQ(u,this,0,r,this.__text,e);const d=this.__style;return d!==""&&(s.style.cssText=d),s}updateDOM(e,n,r){const i=this.__text,o=e.__format,a=this.__format,s=T3(0,o),u=T3(0,a),d=k3(0,o),g=k3(0,a);if((s===null?d:s)!==(u===null?g:u))return!0;if(s===u&&d!==g){const A=n.firstChild;A==null&&on(48);const M=document.createElement(g);return HQ(M,this,0,a,i,r),n.replaceChild(M,A),!1}let v=n;u!==null&&s!==null&&(v=n.firstChild,v==null&&on(49)),tee(i,v,this);const x=r.theme.text;x!==void 0&&o!==a&&eee(0,o,a,v,x);const O=e.__style,E=this.__style;return O!==E&&(n.style.cssText=E),!1}static importDOM(){return{"#text":()=>({conversion:x5e,priority:0}),b:()=>({conversion:v5e,priority:0}),code:()=>({conversion:Cg,priority:0}),em:()=>({conversion:Cg,priority:0}),i:()=>({conversion:Cg,priority:0}),mark:()=>({conversion:Cg,priority:0}),s:()=>({conversion:Cg,priority:0}),span:()=>({conversion:y5e,priority:0}),strong:()=>({conversion:Cg,priority:0}),sub:()=>({conversion:Cg,priority:0}),sup:()=>({conversion:Cg,priority:0}),u:()=>({conversion:Cg,priority:0})}}static importJSON(e){return to().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTextContent(e.text).setFormat(e.format).setDetail(e.detail).setMode(e.mode).setStyle(e.style)}exportDOM(e){let{element:n}=super.exportDOM(e);return Xo(n)||on(132),n.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?n.style.textTransform="lowercase":this.hasFormat("uppercase")?n.style.textTransform="uppercase":this.hasFormat("capitalize")&&(n.style.textTransform="capitalize"),this.hasFormat("bold")&&(n=TA(n,"b")),this.hasFormat("italic")&&(n=TA(n,"i")),this.hasFormat("strikethrough")&&(n=TA(n,"s")),this.hasFormat("underline")&&(n=TA(n,"u")),{element:n}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(e,n){}setFormat(e){const n=this.getWritable();return n.__format=typeof e=="string"?vx[e]:e,n}setDetail(e){const n=this.getWritable();return n.__detail=typeof e=="string"?WPe[e]:e,n}setStyle(e){const n=this.getWritable();return n.__style=e,n}toggleFormat(e){const n=Z5(this.getFormat(),e,null);return this.setFormat(n)}toggleDirectionless(){const e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){const e=this.getWritable();return e.__detail^=2,e}setMode(e){const n=GPe[e];if(this.__mode===n)return this;const r=this.getWritable();return r.__mode=n,r}setTextContent(e){if(this.__text===e)return this;const n=this.getWritable();return n.__text=e,n}select(e,n){rl();let r=e,i=n;const o=an(),a=this.getTextContent(),s=this.__key;if(typeof a=="string"){const u=a.length;r===void 0&&(r=u),i===void 0&&(i=u)}else r=0,i=0;if(!Xt(o))return iee(s,r,s,i,"text","text");{const u=E0();u!==o.anchor.key&&u!==o.focus.key||il(s),o.setTextNodeRange(this,r,this,i)}return o}selectStart(){return this.select(0,0)}selectEnd(){const e=this.getTextContentSize();return this.select(e,e)}spliceText(e,n,r,i){const o=this.getWritable(),a=o.__text,s=r.length;let u=e;u<0&&(u=s+u,u<0&&(u=0));const d=an();if(i&&Xt(d)){const v=e+s;d.setTextNodeRange(o,v,o,v)}const g=a.slice(0,u)+r+a.slice(u+n);return o.__text=g,o}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){rl();const n=this.getLatest(),r=n.getTextContent();if(r==="")return[];const i=n.__key,o=E0(),a=r.length;e.sort(((te,re)=>te-re)),e.push(a);const s=[],u=e.length;for(let te=0,re=0;te<a&&re<=u;re++){const ce=e[re];ce>te&&(s.push(r.slice(te,ce)),te=ce)}const d=s.length;if(d===1)return[n];const g=s[0],v=n.getParent();let x;const O=n.getFormat(),E=n.getStyle(),A=n.__detail;let M=!1,L=null,$=null;const N=an();if(Xt(N)){const[te,re]=N.isBackward()?[N.focus,N.anchor]:[N.anchor,N.focus];te.type==="text"&&te.key===i&&(L=te),re.type==="text"&&re.key===i&&($=re)}n.isSegmented()?(x=to(g),x.__format=O,x.__style=E,x.__detail=A,x.__state=NQ(n,x),M=!0):x=n.setTextContent(g);const F=[x];for(let te=1;te<d;te++){const re=to(s[te]);re.__format=O,re.__style=E,re.__detail=A,re.__state=NQ(n,re);const ce=re.__key;o===i&&il(ce),F.push(re)}const U=L?L.offset:null,q=$?$.offset:null;let W=0;for(const te of F){if(!L&&!$)break;const re=W+te.getTextContentSize();if(L!==null&&U!==null&&U<=re&&U>=W&&(L.set(te.getKey(),U-W,"text"),U<re&&(L=null)),$!==null&&q!==null&&q<=re&&q>=W){$.set(te.getKey(),q-W,"text");break}W=re}if(v!==null){(function(ce){const be=ce.getPreviousSibling(),ie=ce.getNextSibling();be!==null&&q5(be),ie!==null&&q5(ie)})(this);const te=v.getWritable(),re=this.getIndexWithinParent();M?(te.splice(re,0,F),this.remove()):te.splice(re,1,F),Xt(N)&&j5(N,v,re,d-1)}return F}mergeWithSibling(e){const n=e===this.getPreviousSibling();n||e===this.getNextSibling()||on(50);const r=this.__key,i=e.__key,o=this.__text,a=o.length;E0()===i&&il(r);const s=an();if(Xt(s)){const v=s.anchor,x=s.focus;v!==null&&v.key===i&&iU(v,n,r,e,a),x!==null&&x.key===i&&iU(x,n,r,e,a)}const u=e.__text,d=n?u+o:o+u;this.setTextContent(d);const g=this.getWritable();return e.remove(),g}isTextEntity(){return!1}}function y5e(t){return{forChild:GB(t.style),node:null}}function v5e(t){const e=t,n=e.style.fontWeight==="normal";return{forChild:GB(e.style,n?void 0:"bold"),node:null}}const GQ=new WeakMap;function _5e(t){if(!Xo(t))return!1;if(t.nodeName==="PRE")return!0;const e=t.style.whiteSpace;return typeof e=="string"&&e.startsWith("pre")}function x5e(t){const e=t;t.parentElement===null&&on(129);let n=e.textContent||"";if((function(r){let i,o=r.parentNode;const a=[r];for(;o!==null&&(i=GQ.get(o))===void 0&&!_5e(o);)a.push(o),o=o.parentNode;const s=i===void 0?o:i;for(let u=0;u<a.length;u++)GQ.set(a[u],s);return s})(e)!==null){const r=n.split(/(\r?\n|\t)/),i=[],o=r.length;for(let a=0;a<o;a++){const s=r[a];s===`
`||s===`\r
`?i.push(Tf()):s==="	"?i.push(NO()):s!==""&&i.push(to(s))}return{node:i}}if(n=n.replace(/\r/g,"").replace(/[ \t\n]+/g," "),n==="")return{node:null};if(n[0]===" "){let r=e,i=!0;for(;r!==null&&(r=XQ(r,!1))!==null;){const o=r.textContent||"";if(o.length>0){/[ \t\n]$/.test(o)&&(n=n.slice(1)),i=!1;break}}i&&(n=n.slice(1))}if(n[n.length-1]===" "){let r=e,i=!0;for(;r!==null&&(r=XQ(r,!0))!==null;)if((r.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){i=!1;break}i&&(n=n.slice(0,n.length-1))}return n===""?{node:null}:{node:to(n)}}function XQ(t,e){let n=t;for(;;){let r;for(;(r=e?n.nextSibling:n.previousSibling)===null;){const o=n.parentElement;if(o===null)return null;n=o}if(n=r,Xo(n)){const o=n.style.display;if(o===""&&!W4(n)||o!==""&&!o.startsWith("inline"))return null}let i=n;for(;(i=e?n.firstChild:n.lastChild)!==null;)n=i;if(hy(n))return n;if(n.nodeName==="BR")return null}}const b5e={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function Cg(t){const e=b5e[t.nodeName.toLowerCase()];return e===void 0?{node:null}:{forChild:GB(t.style,e),node:null}}function to(t=""){return hh(new bm(t))}function pn(t){return t instanceof bm}function GB(t,e){const n=t.fontWeight,r=t.textDecoration.split(" "),i=n==="700"||n==="bold",o=r.includes("line-through"),a=t.fontStyle==="italic",s=r.includes("underline"),u=t.verticalAlign;return d=>(pn(d)&&(i&&!d.hasFormat("bold")&&d.toggleFormat("bold"),o&&!d.hasFormat("strikethrough")&&d.toggleFormat("strikethrough"),a&&!d.hasFormat("italic")&&d.toggleFormat("italic"),s&&!d.hasFormat("underline")&&d.toggleFormat("underline"),u!=="sub"||d.hasFormat("subscript")||d.toggleFormat("subscript"),u!=="super"||d.hasFormat("superscript")||d.toggleFormat("superscript"),e&&!d.hasFormat(e)&&d.toggleFormat(e)),d)}class wk extends bm{static getType(){return"tab"}static clone(e){return new wk(e.__key)}constructor(e){super("	",e),this.__detail=2}static importDOM(){return null}createDOM(e){const n=super.createDOM(e),r=xw(e.theme,"tab");return r!==void 0&&n.classList.add(...r),n}static importJSON(e){return NO().updateFromJSON(e)}setTextContent(e){return e!=="	"&&e!==""&&on(126),super.setTextContent("	")}spliceText(e,n,r,i){return r===""&&n===0||r==="	"&&n===1||on(286),this}setDetail(e){return e!==2&&on(127),this}setMode(e){return e!=="normal"&&on(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function NO(){return hh(new wk)}function HR(t){return t instanceof wk}class w5e{constructor(e,n,r){this._selection=null,this.key=e,this.offset=n,this.type=r}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){return this.key===e.key?this.offset<e.offset:Eee(eh(pm(this,"next")),eh(pm(e,"next")))<0}getNode(){const e=Li(this.key);return e===null&&on(20),e}set(e,n,r,i){const o=this._selection,a=this.key;i&&this.key===e&&this.offset===n&&this.type===r||(this.key=e,this.offset=n,this.type=r,Ok()||(E0()===a&&il(e),o!==null&&(o.setCachedNodes(null),o.dirty=!0)))}}function dm(t,e,n){return new w5e(t,e,n)}function E3(t,e){let n=e.__key,r=t.offset,i="element";if(pn(e)){i="text";const o=e.getTextContentSize();r>o&&(r=o)}else if(!It(e)){const o=e.getNextSibling();if(pn(o))n=o.__key,r=0,i="text";else{const a=e.getParent();a&&(n=a.__key,r=e.getIndexWithinParent()+1)}}t.set(n,r,i)}function YQ(t,e){if(It(e)){const n=e.getLastDescendant();It(n)||pn(n)?E3(t,n):E3(t,e)}else E3(t,e)}class GR{constructor(e){this._cachedNodes=null,this._nodes=e,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!rs(e))return!1;const n=this._nodes,r=e._nodes;return n.size===r.size&&Array.from(n).every((i=>r.has(i)))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new GR(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){const n=this.getNodes(),r=n.length,i=n[r-1];let o;if(pn(i))o=i.select();else{const a=i.getIndexWithinParent()+1;o=i.getParentOrThrow().select(a,a)}o.insertNodes(e);for(let a=0;a<r;a++)n[a].remove()}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const n=this._nodes,r=[];for(const i of n){const o=Li(i);o!==null&&r.push(o)}return Ok()||(this._cachedNodes=r),r}getTextContent(){const e=this.getNodes();let n="";for(let r=0;r<e.length;r++)n+=e[r].getTextContent();return n}deleteNodes(){const e=this.getNodes();if((an()||qx())===this&&e[0]){const n=ta(e[0],"next");Pee(U0(n,n))}for(const n of e)n.remove()}}function Xt(t){return t instanceof Zx}class Zx{constructor(e,n,r,i){this.anchor=e,this.focus=n,e._selection=this,n._selection=this,this._cachedNodes=null,this.format=r,this.style=i,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!Xt(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const n=(function(r){const i=[],[o,a]=r.getTextSlices();o&&i.push(o.caret.origin);const s=new Set,u=new Set;for(const d of r)if(nd(d)){const{origin:g}=d;i.length===0?s.add(g):(u.add(g),i.push(g))}else{const{origin:g}=d;It(g)&&u.has(g)||i.push(g)}if(a&&i.push(a.caret.origin),Gw(r.focus)&&It(r.focus.origin)&&r.focus.getNodeAtCaret()===null)for(let d=cd(r.focus.origin,"previous");nd(d)&&s.has(d.origin)&&!d.origin.isEmpty()&&d.origin.is(i[i.length-1]);d=sI(d))s.delete(d.origin),i.pop();for(;i.length>1;){const d=i[i.length-1];if(!It(d)||u.has(d)||d.isEmpty()||s.has(d))break;i.pop()}if(i.length===0&&r.isCollapsed()){const d=eh(r.anchor),g=eh(r.anchor.getFlipped()),v=O=>om(O)?O.origin:O.getNodeAtCaret(),x=v(d)||v(g)||(r.anchor.getNodeAtCaret()?d.origin:g.origin);i.push(x)}return i})(Ree(SU(this),"next"));return Ok()||(this._cachedNodes=n),n}setTextNodeRange(e,n,r,i){this.anchor.set(e.__key,n,"text"),this.focus.set(r.__key,i,"text")}getTextContent(){const e=this.getNodes();if(e.length===0)return"";const n=e[0],r=e[e.length-1],i=this.anchor,o=this.focus,a=i.isBefore(o),[s,u]=j4(this);let d="",g=!0;for(let v=0;v<e.length;v++){const x=e[v];if(It(x)&&!x.isInline())g||(d+=`
`),g=!x.isEmpty();else if(g=!1,pn(x)){let O=x.getTextContent();x===n?x===r?i.type==="element"&&o.type==="element"&&o.offset!==i.offset||(O=s<u?O.slice(s,u):O.slice(u,s)):O=a?O.slice(s):O.slice(u):x===r&&(O=a?O.slice(0,u):O.slice(0,s)),d+=O}else!wi(x)&&!wf(x)||x===r&&this.isCollapsed()||(d+=x.getTextContent())}return d}applyDOMRange(e){const n=os(),r=n.getEditorState()._selection,i=ree(e.startContainer,e.startOffset,e.endContainer,e.endOffset,n,r);if(i===null)return;const[o,a]=i;this.anchor.set(o.key,o.offset,o.type,!0),this.focus.set(a.key,a.offset,a.type,!0),_x(this)}clone(){const e=this.anchor,n=this.focus;return new Zx(dm(e.key,e.offset,e.type),dm(n.key,n.offset,n.type),this.format,this.style)}toggleFormat(e){this.format=Z5(this.format,e,null),this.dirty=!0}setFormat(e){this.format=e,this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){const n=vx[e];return!!(this.format&n)}insertRawText(e){const n=e.split(/(\r?\n|\t)/),r=[],i=n.length;for(let o=0;o<i;o++){const a=n[o];a===`
`||a===`\r
`?r.push(Tf()):a==="	"?r.push(NO()):r.push(to(a))}this.insertNodes(r)}insertText(e){const n=this.anchor,r=this.focus,i=this.format,o=this.style;let a=n,s=r;!this.isCollapsed()&&r.isBefore(n)&&(a=r,s=n),a.type==="element"&&(function(M,L,$,N){const F=M.getNode(),U=F.getChildAtIndex(M.offset),q=to();if(q.setFormat($),q.setStyle(N),KR(U))U.splice(0,0,[q]);else{const W=Ks(F)?yi().append(q):q;U===null?F.append(W):U.insertBefore(W)}M.is(L)&&L.set(q.__key,0,"text"),M.set(q.__key,0,"text")})(a,s,i,o),s.type==="element"&&Tx(s,eh(pm(s,"next")));const u=a.offset;let d=s.offset;const g=this.getNodes(),v=g.length;let x=g[0];pn(x)||on(26);const O=x.getTextContent().length,E=x.getParentOrThrow();let A=g[v-1];if(v===1&&s.type==="element"&&(d=O,s.set(a.key,d,"text")),this.isCollapsed()&&u===O&&(Ig(x)||!x.canInsertTextAfter()||!E.canInsertTextAfter()&&x.getNextSibling()===null)){let M=x.getNextSibling();if(pn(M)&&M.canInsertTextBefore()&&!Ig(M)||(M=to(),M.setFormat(i),M.setStyle(o),E.canInsertTextAfter()?x.insertAfter(M):E.insertAfter(M)),M.select(0,0),x=M,e!=="")return void this.insertText(e)}else if(this.isCollapsed()&&u===0&&(Ig(x)||!x.canInsertTextBefore()||!E.canInsertTextBefore()&&x.getPreviousSibling()===null)){let M=x.getPreviousSibling();if(pn(M)&&!Ig(M)||(M=to(),M.setFormat(i),E.canInsertTextBefore()?x.insertBefore(M):E.insertBefore(M)),M.select(),x=M,e!=="")return void this.insertText(e)}else if(x.isSegmented()&&u!==O){const M=to(x.getTextContent());M.setFormat(i),x.replace(M),x=M}else if(!this.isCollapsed()&&e!==""){const M=A.getParent();if(!E.canInsertTextBefore()||!E.canInsertTextAfter()||It(M)&&(!M.canInsertTextBefore()||!M.canInsertTextAfter()))return this.insertText(""),nee(this.anchor,this.focus,null),void this.insertText(e)}if(v===1){if(ix(x)){const N=to(e);return N.select(),void x.replace(N)}const M=x.getFormat(),L=x.getStyle();if(u!==d||M===i&&L===o){if(HR(x)){const N=to(e);return N.setFormat(i),N.setStyle(o),N.select(),void x.replace(N)}}else{if(x.getTextContent()!==""){const N=to(e);if(N.setFormat(i),N.setStyle(o),N.select(),u===0)x.insertBefore(N,!1);else{const[F]=x.splitText(u);F.insertAfter(N,!1)}return void(N.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length))}x.setFormat(i),x.setStyle(o)}const $=d-u;x=x.spliceText(u,$,e,!0),x.getTextContent()===""?x.remove():this.anchor.type==="text"&&(x.isComposing()?this.anchor.offset-=e.length:(this.format=M,this.style=L))}else{const M=new Set([...x.getParentKeys(),...A.getParentKeys()]),L=It(x)?x:x.getParentOrThrow();let $=It(A)?A:A.getParentOrThrow(),N=A;if(!L.is($)&&$.isInline())do N=$,$=$.getParentOrThrow();while($.isInline());if(s.type==="text"&&(d!==0||A.getTextContent()==="")||s.type==="element"&&A.getIndexWithinParent()<d)if(pn(A)&&!ix(A)&&d!==A.getTextContentSize()){if(A.isSegmented()){const te=to(A.getTextContent());A.replace(te),A=te}Ks(s.getNode())||s.type!=="text"||(A=A.spliceText(0,d,"")),M.add(A.__key)}else{const te=A.getParentOrThrow();te.canBeEmpty()||te.getChildrenSize()!==1?A.remove():te.remove()}else M.add(A.__key);const F=$.getChildren(),U=new Set(g),q=L.is($),W=L.isInline()&&x.getNextSibling()===null?L:x;for(let te=F.length-1;te>=0;te--){const re=F[te];if(re.is(x)||It(re)&&re.isParentOf(x))break;re.isAttached()&&(!U.has(re)||re.is(N)?q||W.insertAfter(re,!1):re.remove())}if(!q){let te=$,re=null;for(;te!==null;){const ce=te.getChildren(),be=ce.length;(be===0||ce[be-1].is(re))&&(M.delete(te.__key),re=te),te=te.getParent()}}if(ix(x))if(u===O)x.select();else{const te=to(e);te.select(),x.replace(te)}else x=x.spliceText(u,O-u,e,!0),x.getTextContent()===""?x.remove():x.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length);for(let te=1;te<v;te++){const re=g[te],ce=re.__key;M.has(ce)||re.remove()}}}removeText(){const e=an()===this;FP(this,J5e(SU(this))),e&&an()!==this&&ss(this)}formatText(e,n=null){if(this.isCollapsed())return this.toggleFormat(e),void il(null);const r=this.getNodes(),i=[];for(const F of r)pn(F)&&i.push(F);const o=F=>{r.forEach((U=>{if(It(U)){const q=U.getFormatFlags(e,F);U.setTextFormat(q)}}))},a=i.length;if(a===0)return this.toggleFormat(e),il(null),void o(n);const s=this.anchor,u=this.focus,d=this.isBackward(),g=d?u:s,v=d?s:u;let x=0,O=i[0],E=g.type==="element"?0:g.offset;if(g.type==="text"&&E===O.getTextContentSize()&&(x=1,O=i[1],E=0),O==null)return;const A=O.getFormatFlags(e,n);o(A);const M=a-1;let L=i[M];const $=v.type==="text"?v.offset:L.getTextContentSize();if(O.is(L)){if(E===$)return;if(Ig(O)||E===0&&$===O.getTextContentSize())O.setFormat(A);else{const F=O.splitText(E,$),U=E===0?F[0]:F[1];U.setFormat(A),g.type==="text"&&g.set(U.__key,0,"text"),v.type==="text"&&v.set(U.__key,$-E,"text")}return void(this.format=A)}E===0||Ig(O)||([,O]=O.splitText(E),E=0),O.setFormat(A);const N=L.getFormatFlags(e,A);$>0&&($===L.getTextContentSize()||Ig(L)||([L]=L.splitText($)),L.setFormat(N));for(let F=x+1;F<M;F++){const U=i[F],q=U.getFormatFlags(e,N);U.setFormat(q)}g.type==="text"&&g.set(O.__key,E,"text"),v.type==="text"&&v.set(L.__key,$,"text"),this.format=A|N}insertNodes(e){if(e.length===0)return;if(this.isCollapsed()||this.removeText(),this.anchor.key==="root"){this.insertParagraph();const E=an();return Xt(E)||on(134),E.insertNodes(e)}const n=(this.isBackward()?this.focus:this.anchor).getNode(),r=I3(n,Wh),i=e[e.length-1];if(It(r)&&"__language"in r){if("__language"in e[0])this.insertText(e[0].getTextContent());else{const E=A3(this);r.splice(E,0,e),i.selectEnd()}return}if(!e.some((E=>(It(E)||wi(E))&&!E.isInline()))){It(r)||on(211,n.constructor.name,n.getType());const E=A3(this);return r.splice(E,0,e),void i.selectEnd()}const o=(function(E){const A=yi();let M=null;for(let L=0;L<E.length;L++){const $=E[L],N=wf($);if(N||wi($)&&$.isInline()||It($)&&$.isInline()||pn($)||$.isParentRequired()){if(M===null&&(M=$.createParentElementNode(),A.append(M),N))continue;M!==null&&M.append($)}else A.append($),M=null}return A})(e),a=o.getLastDescendant(),s=o.getChildren(),u=!It(r)||!r.isEmpty()?this.insertParagraph():null,d=s[s.length-1];let g=s[0];var v;It(v=g)&&Wh(v)&&!v.isEmpty()&&It(r)&&(!r.isEmpty()||r.canMergeWhenEmpty())&&(It(r)||on(211,n.constructor.name,n.getType()),r.append(...g.getChildren()),g=s[1]),g&&(r===null&&on(212,n.constructor.name,n.getType()),(function(E,A,M){const L=A.getParentOrThrow().getLastChild();let $=A;const N=[A];for(;$!==L;)$.getNextSibling()||on(140),$=$.getNextSibling(),N.push($);let F=E;for(const U of N)F=F.insertAfter(U)})(r,g));const x=I3(a,Wh);u&&It(x)&&(u.canMergeWhenEmpty()||Wh(d))&&(x.append(...u.getChildren()),u.remove()),It(r)&&r.isEmpty()&&r.remove(),a.selectEnd();const O=It(r)?r.getLastChild():null;wf(O)&&x!==r&&O.remove()}insertParagraph(){if(this.anchor.key==="root"){const a=yi();return Br().splice(this.anchor.offset,0,[a]),a.select(),a}const e=A3(this),n=I3(this.anchor.getNode(),Wh);It(n)||on(213);const r=n.getChildAtIndex(e),i=r?[r,...r.getNextSiblings()]:[],o=n.insertNewAfter(this,!1);return o?(o.append(...i),o.selectStart(),o):null}insertLineBreak(e){const n=Tf();if(this.insertNodes([n]),e){const r=n.getParentOrThrow(),i=n.getIndexWithinParent();r.select(i,i)}}extract(){const e=this.getNodes(),n=e.length,r=n-1,i=this.anchor,o=this.focus;let a=e[0],s=e[r];const[u,d]=j4(this);if(n===0)return[];if(n===1){if(pn(a)&&!this.isCollapsed()){const v=u>d?d:u,x=u>d?u:d,O=a.splitText(v,x),E=v===0?O[0]:O[1];return E!=null?[E]:[]}return[a]}const g=i.isBefore(o);if(pn(a)){const v=g?u:d;v===a.getTextContentSize()?e.shift():v!==0&&([,a]=a.splitText(v),e[0]=a)}if(pn(s)){const v=s.getTextContent().length,x=g?d:u;x===0?e.pop():x!==v&&([s]=s.splitText(x),e[r]=s)}return e}modify(e,n,r){if(oU(this,e,n,r))return;const i=e==="move",o=os(),a=kf(ld(o));if(!a)return;const s=o._blockCursorElement,u=o._rootElement,d=this.focus.getNode();if(u===null||s===null||!It(d)||d.isInline()||d.canBeEmpty()||Z4(s,o,u),this.dirty){let g=wx(o,this.anchor.key),v=wx(o,this.focus.key);this.anchor.type==="text"&&(g=Hw(g)),this.focus.type==="text"&&(v=Hw(v)),g&&v&&oee(a,g,this.anchor.offset,v,this.focus.offset)}if((function(g,v,x,O){g.modify(v,x,O)})(a,e,n?"backward":"forward",r),a.rangeCount>0){const g=a.getRangeAt(0),v=this.anchor.getNode(),x=Ks(v)?v:B5e(v);if(this.applyDOMRange(g),this.dirty=!0,!i){const O=this.getNodes(),E=[];let A=!1;for(let M=0;M<O.length;M++){const L=O[M];U4(L,x)?E.push(L):A=!0}if(A&&E.length>0)if(n){const M=E[0];It(M)?M.selectStart():M.getParentOrThrow().selectStart()}else{const M=E[E.length-1];It(M)?M.selectEnd():M.getParentOrThrow().selectEnd()}a.anchorNode===g.startContainer&&a.anchorOffset===g.startOffset||(function(M){const L=M.focus,$=M.anchor,N=$.key,F=$.offset,U=$.type;$.set(L.key,L.offset,L.type,!0),L.set(N,F,U,!0)})(this)}}r==="lineboundary"&&oU(this,e,n,r,"decorators")}forwardDeletion(e,n,r){if(!r&&(e.type==="element"&&It(n)&&e.offset===n.getChildrenSize()||e.type==="text"&&e.offset===n.getTextContentSize())){const i=n.getParent(),o=n.getNextSibling()||(i===null?null:i.getNextSibling());if(It(o)&&o.isShadowRoot())return!0}return!1}deleteCharacter(e){const n=this.isCollapsed();if(this.isCollapsed()){const r=this.anchor;let i=r.getNode();if(this.forwardDeletion(r,i,e))return;const o=g8(pm(r,e?"previous":"next"));if(o.getTextSlices().every((s=>s===null||s.distance===0))){let s={type:"initial"};for(const u of o.iterNodeCarets("shadowRoot"))if(nd(u)){if(!u.origin.isInline()){if(u.origin.isShadowRoot()){if(s.type==="merge-block")break;if(It(o.anchor.origin)&&o.anchor.origin.isEmpty()){const d=eh(u);FP(this,U0(d,d)),o.anchor.origin.remove()}return}s.type!=="merge-next-block"&&s.type!=="merge-block"||(s={block:s.block,caret:u,type:"merge-block"})}}else{if(s.type==="merge-block")break;if(Gw(u)){if(It(u.origin)){if(u.origin.isInline()){if(!u.origin.isParentOf(o.anchor.origin))break}else s={block:u.origin,type:"merge-next-block"};continue}if(wi(u.origin)){if(!u.origin.isIsolated())if(s.type==="merge-next-block"&&(u.origin.isKeyboardSelectable()||!u.origin.isInline())&&It(o.anchor.origin)&&o.anchor.origin.isEmpty()){o.anchor.origin.remove();const d=XB();d.add(u.origin.getKey()),ss(d)}else u.origin.remove();return}break}}if(s.type==="merge-block"){const{caret:u,block:d}=s;return FP(this,U0(!u.origin.isEmpty()&&d.isEmpty()?kk(ta(d,u.direction)):o.anchor,u)),this.removeText()}}const a=this.focus;if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&r.offset===0&&JQ(this,r.getNode()))return}else{const s=a.type==="text"?a.getNode():null;if(i=r.type==="text"?r.getNode():null,s!==null&&s.isSegmented()){const u=a.offset,d=s.getTextContentSize();if(s.is(i)||e&&u!==d||!e&&u!==0)return void eU(s,e,u)}else if(i!==null&&i.isSegmented()){const u=r.offset,d=i.getTextContentSize();if(i.is(s)||e&&u!==0||!e&&u!==d)return void eU(i,e,u)}(function(u,d){const g=u.anchor,v=u.focus,x=g.getNode(),O=v.getNode();if(x===O&&g.type==="text"&&v.type==="text"){const E=g.offset,A=v.offset,M=E<A,L=M?E:A,$=M?A:E,N=$-1;L!==N&&(function(F){return!(_ee(F)||O5e(F))})(x.getTextContent().slice(L,$))&&(d?v.set(v.key,N,v.type):g.set(g.key,N,g.type))}})(this,e)}}if(this.removeText(),e&&!n&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0){const r=this.anchor.getNode();r.isEmpty()&&Ks(r.getParent())&&r.getPreviousSibling()===null&&JQ(this,r)}}deleteLine(e){this.isCollapsed()&&this.modify("extend",e,"lineboundary"),this.isCollapsed()?this.deleteCharacter(e):this.removeText()}deleteWord(e){if(this.isCollapsed()){const n=this.anchor,r=n.getNode();if(this.forwardDeletion(n,r,e))return;this.modify("extend",e,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function rs(t){return t instanceof GR}function KQ(t){const e=t.offset;if(t.type==="text")return e;const n=t.getNode();return e===n.getChildrenSize()?n.getTextContent().length:0}function j4(t){const e=t.getStartEndPoints();if(e===null)return[0,0];const[n,r]=e;return n.type==="element"&&r.type==="element"&&n.key===r.key&&n.offset===r.offset?[0,0]:[KQ(n),KQ(r)]}function JQ(t,e){for(let n=e;n;n=n.getParent()){if(It(n)){if(n.collapseAtStart(t))return!0;if(ea(n))break}if(n.getPreviousSibling())break}return!1}const O5e=(()=>{try{const t=new RegExp("\\p{Emoji}","u"),e=t.test.bind(t);if(e("")&&e("#")&&e(""))return e}catch{}return()=>!1})();function eU(t,e,n){const r=t,i=r.getTextContent().split(/(?=\s)/g),o=i.length;let a=0,s=0;for(let d=0;d<o;d++){const g=d===o-1;if(s=a,a+=i[d].length,e&&a===n||a>n||g){i.splice(d,1),g&&(s=void 0);break}}const u=i.join("").trim();u===""?r.remove():(r.setTextContent(u),r.select(s,s))}function tU(t,e,n,r){let i,o=e;if(Xo(t)){let a=!1;const s=t.childNodes,u=s.length,d=r._blockCursorElement;o===u&&(a=!0,o=u-1);let g=s[o],v=!1;if(g===d)g=s[o+1],v=!0;else if(d!==null){const x=d.parentNode;t===x&&e>Array.prototype.indexOf.call(x.children,d)&&o--}if(i=nw(g),pn(i))o=sm(i,a?"next":"previous");else{let x=nw(t);if(x===null)return null;if(It(x)){const O=r.getElementByKey(x.getKey());O===null&&on(214),[x,o]=x.getDOMSlot(O).resolveChildIndex(x,O,t,e),It(x)||on(215),a&&o>=x.getChildrenSize()&&(o=Math.max(0,x.getChildrenSize()-1));let A=x.getChildAtIndex(o);if(It(A)&&(function(M,L,$){const N=M.getParent();return $===null||N===null||!N.canBeEmpty()||N!==$.getNode()})(A,0,n)){const M=a?A.getLastDescendant():A.getFirstDescendant();M===null?x=A:(A=M,x=It(A)?A:A.getParentOrThrow()),o=0}pn(A)?(i=A,x=null,o=sm(A,a?"next":"previous")):A!==x&&a&&!v&&(It(x)||on(216),o=Math.min(x.getChildrenSize(),o+1))}else{const O=x.getIndexWithinParent();o=e===0&&wi(x)&&nw(t)===x?O:O+1,x=x.getParentOrThrow()}if(It(x))return dm(x.__key,o,"element")}}else i=nw(t);return pn(i)?dm(i.__key,sm(i,o,"clamp"),"text"):null}function nU(t,e,n){const r=t.offset,i=t.getNode();if(r===0){const o=i.getPreviousSibling(),a=i.getParent();if(e){if((n||!e)&&o===null&&It(a)&&a.isInline()){const s=a.getPreviousSibling();pn(s)&&t.set(s.__key,s.getTextContent().length,"text")}}else It(o)&&!n&&o.isInline()?t.set(o.__key,o.getChildrenSize(),"element"):pn(o)&&t.set(o.__key,o.getTextContent().length,"text")}else if(r===i.getTextContent().length){const o=i.getNextSibling(),a=i.getParent();if(e&&It(o)&&o.isInline())t.set(o.__key,0,"element");else if((n||e)&&o===null&&It(a)&&a.isInline()&&!a.canInsertTextAfter()){const s=a.getNextSibling();pn(s)&&t.set(s.__key,0,"text")}}}function nee(t,e,n){if(t.type==="text"&&e.type==="text"){const r=t.isBefore(e),i=t.is(e);nU(t,r,i),nU(e,!r,i),i&&e.set(t.key,t.offset,t.type);const o=os();if(o.isComposing()&&o._compositionKey!==t.key&&Xt(n)){const a=n.anchor,s=n.focus;t.set(a.key,a.offset,a.type,!0),e.set(s.key,s.offset,s.type,!0)}}}function ree(t,e,n,r,i,o){if(t===null||n===null||!Ck(i,t,n))return null;const a=tU(t,e,Xt(o)?o.anchor:null,i);if(a===null)return null;const s=tU(n,r,Xt(o)?o.focus:null,i);if(s===null)return null;if(a.type==="element"&&s.type==="element"){const u=nw(t),d=nw(n);if(wi(u)&&wi(d))return null}return nee(a,s,o),[a,s]}function F5(t){return It(t)&&!t.isInline()}function iee(t,e,n,r,i,o){const a=sv(),s=new Zx(dm(t,e,i),dm(n,r,o),0,"");return s.dirty=!0,a._selection=s,s}function BO(){const t=dm("root",0,"element"),e=dm("root",0,"element");return new Zx(t,e,0,"")}function XB(){return new GR(new Set)}function YB(t,e,n,r){const i=n._window;if(i===null)return null;const o=r||i.event,a=o?o.type:void 0,s=a==="selectionchange",u=!S4&&(s||a==="beforeinput"||a==="compositionstart"||a==="compositionend"||a==="click"&&o&&o.detail===3||a==="drop"||a===void 0);let d,g,v,x;if(Xt(t)&&!u)return t.clone();if(e===null)return null;if(d=e.anchorNode,g=e.focusNode,v=e.anchorOffset,x=e.focusOffset,s&&Xt(t)&&!Ck(n,d,g))return t.clone();const O=ree(d,v,g,x,n,t);if(O===null)return null;const[E,A]=O;return new Zx(E,A,Xt(t)?t.format:0,Xt(t)?t.style:"")}function an(){return sv()._selection}function qx(){return os()._editorState._selection}function j5(t,e,n,r=1){const i=t.anchor,o=t.focus,a=i.getNode(),s=o.getNode();if(!e.is(a)&&!e.is(s))return;const u=e.__key;if(t.isCollapsed()){const d=i.offset;if(n<=d&&r>0||n<d&&r<0){const g=Math.max(0,d+r);i.set(u,g,"element"),o.set(u,g,"element"),rU(t)}}else{const d=t.isBackward(),g=d?o:i,v=g.getNode(),x=d?i:o,O=x.getNode();if(e.is(v)){const E=g.offset;(n<=E&&r>0||n<E&&r<0)&&g.set(u,Math.max(0,E+r),"element")}if(e.is(O)){const E=x.offset;(n<=E&&r>0||n<E&&r<0)&&x.set(u,Math.max(0,E+r),"element")}}rU(t)}function rU(t){const e=t.anchor,n=e.offset,r=t.focus,i=r.offset,o=e.getNode(),a=r.getNode();if(t.isCollapsed()){if(!It(o))return;const s=o.getChildrenSize(),u=n>=s,d=u?o.getChildAtIndex(s-1):o.getChildAtIndex(n);if(pn(d)){let g=0;u&&(g=d.getTextContentSize()),e.set(d.__key,g,"text"),r.set(d.__key,g,"text")}}else{if(It(o)){const s=o.getChildrenSize(),u=n>=s,d=u?o.getChildAtIndex(s-1):o.getChildAtIndex(n);if(pn(d)){let g=0;u&&(g=d.getTextContentSize()),e.set(d.__key,g,"text")}}if(It(a)){const s=a.getChildrenSize(),u=i>=s,d=u?a.getChildAtIndex(s-1):a.getChildAtIndex(i);if(pn(d)){let g=0;u&&(g=d.getTextContentSize()),r.set(d.__key,g,"text")}}}}function V5(t,e,n,r,i){let o=null,a=0,s=null;r!==null?(o=r.__key,pn(r)?(a=r.getTextContentSize(),s="text"):It(r)&&(a=r.getChildrenSize(),s="element")):i!==null&&(o=i.__key,pn(i)?s="text":It(i)&&(s="element")),o!==null&&s!==null?t.set(o,a,s):(a=e.getIndexWithinParent(),a===-1&&(a=n.getChildrenSize()),t.set(n.__key,a,"element"))}function iU(t,e,n,r,i){t.type==="text"?t.set(n,t.offset+(e?0:i),"text"):t.offset>r.getIndexWithinParent()&&t.set(t.key,t.offset-1,"element")}function oee(t,e,n,r,i){try{t.setBaseAndExtent(e,n,r,i)}catch{}}function S5e(t,e,n,r,i,o,a){const s=r.anchorNode,u=r.focusNode,d=r.anchorOffset,g=r.focusOffset,v=document.activeElement;if(i.has(hee)&&v!==o||v!==null&&r8(v))return;if(!Xt(e))return void(t!==null&&Ck(n,s,u)&&r.removeAllRanges());const x=e.anchor,O=e.focus,E=x.key,A=O.key,M=wx(n,E),L=wx(n,A),$=x.offset,N=O.offset,F=e.format,U=e.style,q=e.isCollapsed();let W=M,te=L,re=!1;if(x.type==="text"){W=Hw(M);const pe=x.getNode();re=pe.getFormat()!==F||pe.getStyle()!==U}else Xt(t)&&t.anchor.type==="text"&&(re=!0);var ce,be,ie,me,we;if(O.type==="text"&&(te=Hw(L)),W!==null&&te!==null&&(q&&(t===null||re||Xt(t)&&(t.format!==F||t.style!==U))&&(ce=F,be=U,ie=$,me=E,we=performance.now(),HJ=[ce,be,ie,me,we]),d!==$||g!==N||s!==W||u!==te||r.type==="Range"&&q||(v!==null&&o.contains(v)||o.focus({preventScroll:!0}),x.type==="element"))){if(oee(r,W,$,te,N),!i.has(P5e)&&e.isCollapsed()&&o!==null&&o===document.activeElement){const pe=Xt(e)&&e.anchor.type==="element"?W.childNodes[$]||null:r.rangeCount>0?r.getRangeAt(0):null;if(pe!==null){let _e;if(pe instanceof Text){const Me=document.createRange();Me.selectNode(pe),_e=Me.getBoundingClientRect()}else _e=pe.getBoundingClientRect();(function(Me,Be,Ue){const Ce=Oee(Ue),Pe=u8(Ce);if(Ce===null||Pe===null)return;let{top:Xe,bottom:ke}=Be,mt=0,gt=0,ct=Ue;for(;ct!==null;){const ot=ct===Ce.body;if(ot)mt=0,gt=ld(Me).innerHeight;else{const At=ct.getBoundingClientRect();mt=At.top,gt=At.bottom}let vt=0;if(Xe<mt?vt=-(mt-Xe):ke>gt&&(vt=ke-gt),vt!==0)if(ot)Pe.scrollBy(0,vt);else{const At=ct.scrollTop;ct.scrollTop+=vt;const Tt=ct.scrollTop-At;Xe-=Tt,ke-=Tt}if(ot)break;ct=Tk(ct)}})(n,_e,o)}}N4=!0}}function FO(t){let e=an()||qx();e===null&&(e=Br().selectEnd()),e.insertNodes(t)}function A3(t){let e=t;t.isCollapsed()||e.removeText();const n=an();Xt(n)&&(e=n),Xt(e)||on(161);const r=e.anchor;let i=r.getNode(),o=r.offset;for(;!Wh(i);){const a=i;if([i,o]=C5e(i,o),a.is(i))break}return o}function C5e(t,e){const n=t.getParent();if(!n){const i=yi();return Br().append(i),i.select(),[Br(),0]}if(pn(t)){const i=t.splitText(e);if(i.length===0)return[n,t.getIndexWithinParent()];const o=e===0?0:1;return[n,i[0].getIndexWithinParent()+o]}if(!It(t)||e===0)return[n,t.getIndexWithinParent()];const r=t.getChildAtIndex(e);if(r){const i=new Zx(dm(t.__key,e,"element"),dm(t.__key,e,"element"),0,""),o=t.insertNewAfter(i);o&&o.append(r,...r.getNextSiblings())}return[n,t.getIndexWithinParent()+1]}function oU(t,e,n,r,i="decorators-and-blocks"){if(e==="move"&&r==="character"&&!t.isCollapsed()){const[g,v]=n===t.isBackward()?[t.focus,t.anchor]:[t.anchor,t.focus];return v.set(g.key,g.offset,g.type),!0}const o=pm(t.focus,n?"previous":"next"),a=r==="lineboundary",s=e==="move";let u=o,d=i==="decorators-and-blocks";if(!Mee(u)){for(const g of u){d=!1;const{origin:v}=g;if(!wi(v)||v.isIsolated()||(u=g,!a||!v.isInline()))break}if(d)for(const g of g8(o).iterNodeCarets(e==="extend"?"shadowRoot":"root")){if(nd(g))g.origin.isInline()||(u=g);else{if(It(g.origin))continue;wi(g.origin)&&!g.origin.isInline()&&(u=g)}break}}if(u===o)return!1;if(s&&!a&&wi(u.origin)&&u.origin.isKeyboardSelectable()){const g=XB();return g.add(u.origin.getKey()),ss(g),!0}return u=eh(u),s&&Tx(t.anchor,u),Tx(t.focus,u),d||!a}let Ma=null,Ra=null,lu=!1,P3=!1,zP=0;const sU={characterData:!0,childList:!0,subtree:!0};function Ok(){return lu||Ma!==null&&Ma._readOnly}function rl(){lu&&on(13)}function see(){zP>99&&on(14)}function sv(){return Ma===null&&on(195,aee()),Ma}function os(){return Ra===null&&on(196,aee()),Ra}function aee(){let t=0;const e=new Set,n=JR.version;if(typeof window<"u")for(const i of document.querySelectorAll("[contenteditable]")){const o=tI(i);if(i8(o))t++;else if(o){let a=String(o.constructor.version||"<0.17.1");a===n&&(a+=" (separately built, likely a bundler configuration issue)"),e.add(a)}}let r=` Detected on the page: ${t} compatible editor(s) with version ${n}`;return e.size&&(r+=` and incompatible editors with versions ${Array.from(e).join(", ")}`),r}function T5e(){return Ra}function aU(t,e,n){const r=e.__type,i=fee(t,r);let o=n.get(r);o===void 0&&(o=Array.from(i.transforms),n.set(r,o));const a=o.length;for(let s=0;s<a&&(o[s](e),e.isAttached());s++);}function lU(t,e){return t!==void 0&&t.__key!==e&&t.isAttached()}function lee(t,e){if(!e)return;const n=t._updateTags;let r=e;Array.isArray(e)||(r=[e]);for(const i of r)n.add(i)}function k5e(t){return KB(t,os()._nodes)}function KB(t,e){const n=t.type,r=e.get(n);r===void 0&&on(17,n);const i=r.klass;t.type!==i.getType()&&on(18,i.name);const o=i.importJSON(t),a=t.children;if(It(o)&&Array.isArray(a))for(let s=0;s<a.length;s++){const u=KB(a[s],e);o.append(u)}return o}function cU(t,e,n){const r=Ma,i=lu,o=Ra;Ma=e,lu=!0,Ra=t;try{return n()}finally{Ma=r,lu=i,Ra=o}}function zg(t,e){const n=t._pendingEditorState,r=t._rootElement,i=t._headless||r===null;if(n===null)return;const o=t._editorState,a=o._selection,s=n._selection,u=t._dirtyType!==yx,d=Ma,g=lu,v=Ra,x=t._updating,O=t._observer;let E=null;if(t._pendingEditorState=null,t._editorState=n,!i&&u&&O!==null){Ra=t,Ma=n,lu=!1,t._updating=!0;try{const q=t._dirtyType,W=t._dirtyElements,te=t._dirtyLeaves;O.disconnect(),E=s5e(o,n,t,q,W,te)}catch(q){if(q instanceof Error&&t._onError(q),P3)throw q;return dee(t,null,r,n),zJ(t),t._dirtyType=qw,P3=!0,zg(t,o),void(P3=!1)}finally{O.observe(r,sU),t._updating=x,Ma=d,lu=g,Ra=v}}n._readOnly||(n._readOnly=!0);const A=t._dirtyLeaves,M=t._dirtyElements,L=t._normalizedNodes,$=t._updateTags,N=t._deferred;u&&(t._dirtyType=yx,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements=new Map,t._normalizedNodes=new Set,t._updateTags=new Set),(function(q,W){const te=q._decorators;let re=q._pendingDecorators||te;const ce=W._nodeMap;let be;for(be in re)ce.has(be)||(re===te&&(re=yee(q)),delete re[be])})(t,n);const F=i?null:kf(ld(t));if(t._editable&&F!==null&&(u||s===null||s.dirty)&&r!==null&&!$.has(M5e)){Ra=t,Ma=n;try{if(O!==null&&O.disconnect(),u||s===null||s.dirty){const q=t._blockCursorElement;q!==null&&Z4(q,t,r),S5e(a,s,t,F,$,r)}(function(q,W,te){let re=q._blockCursorElement;if(Xt(te)&&te.isCollapsed()&&te.anchor.type==="element"&&W.contains(document.activeElement)){const ce=te.anchor,be=ce.getNode(),ie=ce.offset;let me=!1,we=null;if(ie===be.getChildrenSize())R3(be.getChildAtIndex(ie-1))&&(me=!0);else{const pe=be.getChildAtIndex(ie);if(pe!==null&&R3(pe)){const _e=pe.getPreviousSibling();(_e===null||R3(_e))&&(me=!0,we=q.getElementByKey(pe.__key))}}if(me){const pe=q.getElementByKey(be.__key);return re===null&&(q._blockCursorElement=re=(function(_e){const Me=_e.theme,Be=document.createElement("div");Be.contentEditable="false",Be.setAttribute("data-lexical-cursor","true");let Ue=Me.blockCursor;if(Ue!==void 0){if(typeof Ue=="string"){const Ce=RJ(Ue);Ue=Me.blockCursor=Ce}Ue!==void 0&&Be.classList.add(...Ue)}return Be})(q._config)),W.style.caretColor="transparent",void(we===null?pe.appendChild(re):pe.insertBefore(re,we))}}re!==null&&Z4(re,q,W)})(t,r,s)}finally{O!==null&&O.observe(r,sU),Ra=v,Ma=d}}E!==null&&(function(q,W,te,re,ce){const be=Array.from(q._listeners.mutation),ie=be.length;for(let me=0;me<ie;me++){const[we,pe]=be[me];for(const _e of pe){const Me=W.get(_e);Me!==void 0&&we(Me,{dirtyLeaves:re,prevEditorState:ce,updateTags:te})}}})(t,E,$,A,o),Xt(s)||s===null||a!==null&&a.is(s)||t.dispatchCommand(vk,void 0);const U=t._pendingDecorators;U!==null&&(t._decorators=U,t._pendingDecorators=null,kC("decorator",t,!0,U)),(function(q,W,te){const re=pU(W),ce=pU(te);re!==ce&&kC("textcontent",q,!0,ce)})(t,e||o,n),kC("update",t,!0,{dirtyElements:M,dirtyLeaves:A,editorState:n,mutatedNodes:E,normalizedNodes:L,prevEditorState:e||o,tags:$}),(function(q,W){if(q._deferred=[],W.length!==0){const te=q._updating;q._updating=!0;try{for(let re=0;re<W.length;re++)W[re]()}finally{q._updating=te}}})(t,N),(function(q){const W=q._updates;if(W.length!==0){const te=W.shift();if(te){const[re,ce]=te;XR(q,re,ce)}}})(t)}function kC(t,e,n,...r){const i=e._updating;e._updating=n;try{const o=Array.from(e._listeners[t]);for(let a=0;a<o.length;a++)o[a].apply(null,r)}finally{e._updating=i}}function uU(t,e){const n=t._updates;let r=e||!1;for(;n.length!==0;){const i=n.shift();if(i){const[o,a]=i,s=t._pendingEditorState;let u;a!==void 0&&(u=a.onUpdate,a.skipTransforms&&(r=!0),a.discrete&&(s===null&&on(191),s._flushSync=!0),u&&t._deferred.push(u),lee(t,a.tag)),s==null?XR(t,o,a):o()}}return r}function XR(t,e,n){const r=t._updateTags;let i,o=!1,a=!1;n!==void 0&&(i=n.onUpdate,lee(t,n.tag),o=n.skipTransforms||!1,a=n.discrete||!1),i&&t._deferred.push(i);const s=t._editorState;let u=t._pendingEditorState,d=!1;(u===null||u._readOnly)&&(u=t._pendingEditorState=cee(u||s),d=!0),u._flushSync=a;const g=Ma,v=lu,x=Ra,O=t._updating;Ma=u,lu=!1,t._updating=!0,Ra=t;const E=t._headless||t.getRootElement()===null;n8(null);try{d&&(E?s._selection!==null&&(u._selection=s._selection.clone()):u._selection=(function($,N){const F=$.getEditorState()._selection,U=kf(ld($));return Xt(F)||F==null?YB(F,U,$,N):F.clone()})(t,n&&n.event||null));const M=t._compositionKey;e(),o=uU(t,o),(function($,N){const F=N.getEditorState()._selection,U=$._selection;if(Xt(U)){const q=U.anchor,W=U.focus;let te;if(q.type==="text"&&(te=q.getNode(),te.selectionTransform(F,U)),W.type==="text"){const re=W.getNode();te!==re&&re.selectionTransform(F,U)}}})(u,t),t._dirtyType!==yx&&(o?(function($,N){const F=N._dirtyLeaves,U=$._nodeMap;for(const q of F){const W=U.get(q);pn(W)&&W.isAttached()&&W.isSimpleText()&&!W.isUnmergeable()&&jQ(W)}})(u,t):(function($,N){const F=N._dirtyLeaves,U=N._dirtyElements,q=$._nodeMap,W=E0(),te=new Map;let re=F,ce=re.size,be=U,ie=be.size;for(;ce>0||ie>0;){if(ce>0){N._dirtyLeaves=new Set;for(const me of re){const we=q.get(me);pn(we)&&we.isAttached()&&we.isSimpleText()&&!we.isUnmergeable()&&jQ(we),we!==void 0&&lU(we,W)&&aU(N,we,te),F.add(me)}if(re=N._dirtyLeaves,ce=re.size,ce>0){zP++;continue}}N._dirtyLeaves=new Set,N._dirtyElements=new Map,be.delete("root")&&be.set("root",!0);for(const me of be){const we=me[0],pe=me[1];if(U.set(we,pe),!pe)continue;const _e=q.get(we);_e!==void 0&&lU(_e,W)&&aU(N,_e,te)}re=N._dirtyLeaves,ce=re.size,be=N._dirtyElements,ie=be.size,zP++}N._dirtyLeaves=F,N._dirtyElements=U})(u,t),uU(t),(function($,N,F,U){const q=$._nodeMap,W=N._nodeMap,te=[];for(const[re]of U){const ce=W.get(re);ce!==void 0&&(ce.isAttached()||(It(ce)&&DJ(ce,re,q,W,te,U),q.has(re)||U.delete(re),te.push(re)))}for(const re of te)W.delete(re);for(const re of F){const ce=W.get(re);ce===void 0||ce.isAttached()||(q.has(re)||F.delete(re),W.delete(re))}})(s,u,t._dirtyLeaves,t._dirtyElements)),M!==t._compositionKey&&(u._flushSync=!0);const L=u._selection;if(Xt(L)){const $=u._nodeMap,N=L.anchor.key,F=L.focus.key;$.get(N)!==void 0&&$.get(F)!==void 0||on(19)}else rs(L)&&L._nodes.size===0&&(u._selection=null)}catch(M){return M instanceof Error&&t._onError(M),t._pendingEditorState=s,t._dirtyType=qw,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),void zg(t)}finally{Ma=g,lu=v,Ra=x,t._updating=O,zP=0}t._dirtyType!==yx||t._deferred.length>0||(function(M,L){const $=L.getEditorState()._selection,N=M._selection;if(N!==null){if(N.dirty||!N.is($))return!0}else if($!==null)return!0;return!1})(u,t)?u._flushSync?(u._flushSync=!1,zg(t)):d&&D5e((()=>{zg(t)})):(u._flushSync=!1,d&&(r.clear(),t._deferred=[],t._pendingEditorState=null))}function qu(t,e,n){Ra===t&&n===void 0?e():XR(t,e,n)}class EC{constructor(e,n,r){this.element=e,this.before=n||null,this.after=r||null}withBefore(e){return new EC(this.element,e,this.after)}withAfter(e){return new EC(this.element,this.before,e)}withElement(e){return this.element===e?this:new EC(e,this.before,this.after)}insertChild(e){const n=this.before||this.getManagedLineBreak();return n!==null&&n.parentElement!==this.element&&on(222),this.element.insertBefore(e,n),this}removeChild(e){return e.parentElement!==this.element&&on(223),this.element.removeChild(e),this}replaceChild(e,n){return n.parentElement!==this.element&&on(224),this.element.replaceChild(e,n),this}getFirstChild(){const e=this.after?this.after.nextSibling:this.element.firstChild;return e===this.before||e===this.getManagedLineBreak()?null:e}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(e){if(e===null)this.removeManagedLineBreak();else{const n=e==="decorator"&&(Zw||aT);this.insertManagedLineBreak(n)}}removeManagedLineBreak(){const e=this.getManagedLineBreak();if(e){const n=this.element,r=e.nodeName==="IMG"?e.nextSibling:null;r&&n.removeChild(r),n.removeChild(e),n.__lexicalLineBreak=void 0}}insertManagedLineBreak(e){const n=this.getManagedLineBreak();if(n){if(e===(n.nodeName==="IMG"))return;this.removeManagedLineBreak()}const r=this.element,i=this.before,o=document.createElement("br");if(r.insertBefore(o,i),e){const a=document.createElement("img");a.setAttribute("data-lexical-linebreak","true"),a.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",a.alt="",r.insertBefore(a,o),r.__lexicalLineBreak=a}else r.__lexicalLineBreak=o}getFirstChildOffset(){let e=0;for(let n=this.after;n!==null;n=n.previousSibling)e++;return e}resolveChildIndex(e,n,r,i){if(r===this.element){const u=this.getFirstChildOffset();return[e,Math.min(u+e.getChildrenSize(),Math.max(u,i))]}const o=hU(n,r);o.push(i);const a=hU(n,this.element);let s=e.getIndexWithinParent();for(let u=0;u<a.length;u++){const d=o[u],g=a[u];if(d===void 0||d<g)break;if(d>g){s+=1;break}}return[e.getParentOrThrow(),s]}}function hU(t,e){const n=[];let r=e;for(;r!==t&&r!==null;r=r.parentNode){let i=0;for(let o=r.previousSibling;o!==null;o=o.previousSibling)i++;n.push(i)}return r!==t&&on(225),n.reverse()}class uu extends zO{constructor(e){super(e),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(e){super.afterCloneFrom(e),this.__key===e.__key&&(this.__first=e.__first,this.__last=e.__last,this.__size=e.__size),this.__indent=e.__indent,this.__format=e.__format,this.__style=e.__style,this.__dir=e.__dir,this.__textFormat=e.__textFormat,this.__textStyle=e.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){const e=this.getFormat();return HPe[e]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){const e=[];let n=this.getFirstChild();for(;n!==null;)e.push(n),n=n.getNextSibling();return e}getChildrenKeys(){const e=[];let n=this.getFirstChild();for(;n!==null;)e.push(n.__key),n=n.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){const e=os()._dirtyElements;return e!==null&&e.has(this.__key)}isLastChild(){const e=this.getLatest(),n=this.getParentOrThrow().getLastChild();return n!==null&&n.is(e)}getAllTextNodes(){const e=[];let n=this.getFirstChild();for(;n!==null;){if(pn(n)&&e.push(n),It(n)){const r=n.getAllTextNodes();e.push(...r)}n=n.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;It(e);){const n=e.getFirstChild();if(n===null)break;e=n}return e}getLastDescendant(){let e=this.getLastChild();for(;It(e);){const n=e.getLastChild();if(n===null)break;e=n}return e}getDescendantByIndex(e){const n=this.getChildren(),r=n.length;if(e>=r){const o=n[r-1];return It(o)&&o.getLastDescendant()||o||null}const i=n[e];return It(i)&&i.getFirstDescendant()||i||null}getFirstChild(){const e=this.getLatest().__first;return e===null?null:Li(e)}getFirstChildOrThrow(){const e=this.getFirstChild();return e===null&&on(45,this.__key),e}getLastChild(){const e=this.getLatest().__last;return e===null?null:Li(e)}getLastChildOrThrow(){const e=this.getLastChild();return e===null&&on(96,this.__key),e}getChildAtIndex(e){const n=this.getChildrenSize();let r,i;if(e<n/2){for(r=this.getFirstChild(),i=0;r!==null&&i<=e;){if(i===e)return r;r=r.getNextSibling(),i++}return null}for(r=this.getLastChild(),i=n-1;r!==null&&i>=e;){if(i===e)return r;r=r.getPreviousSibling(),i--}return null}getTextContent(){let e="";const n=this.getChildren(),r=n.length;for(let i=0;i<r;i++){const o=n[i];e+=o.getTextContent(),It(o)&&i!==r-1&&!o.isInline()&&(e+=Kg)}return e}getTextContentSize(){let e=0;const n=this.getChildren(),r=n.length;for(let i=0;i<r;i++){const o=n[i];e+=o.getTextContentSize(),It(o)&&i!==r-1&&!o.isInline()&&(e+=Kg.length)}return e}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(e){if(e!==""){const n=IQ[e];return!!(this.getFormat()&n)}return!1}hasTextFormat(e){const n=vx[e];return!!(this.getTextFormat()&n)}getFormatFlags(e,n){return Z5(this.getLatest().__textFormat,e,n)}getTextStyle(){return this.getLatest().__textStyle}select(e,n){rl();const r=an();let i=e,o=n;const a=this.getChildrenSize();if(!this.canBeEmpty()){if(e===0&&n===0){const u=this.getFirstChild();if(pn(u)||It(u))return u.select(0,0)}else if(!(e!==void 0&&e!==a||n!==void 0&&n!==a)){const u=this.getLastChild();if(pn(u)||It(u))return u.select()}}i===void 0&&(i=a),o===void 0&&(o=a);const s=this.__key;return Xt(r)?(r.anchor.set(s,i,"element"),r.focus.set(s,o,"element"),r.dirty=!0,r):iee(s,i,s,o,"element","element")}selectStart(){const e=this.getFirstDescendant();return e?e.selectStart():this.select()}selectEnd(){const e=this.getLastDescendant();return e?e.selectEnd():this.select()}clear(){const e=this.getWritable();return this.getChildren().forEach((n=>n.remove())),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){const n=this.getWritable();return n.__dir=e,n}setFormat(e){return this.getWritable().__format=e!==""?IQ[e]:0,this}setStyle(e){return this.getWritable().__style=e||"",this}setTextFormat(e){const n=this.getWritable();return n.__textFormat=e,n}setTextStyle(e){const n=this.getWritable();return n.__textStyle=e,n}setIndent(e){return this.getWritable().__indent=e,this}splice(e,n,r){const i=r.length,o=this.getChildrenSize(),a=this.getWritable();e+n<=o||on(226,String(e),String(n),String(o));const s=a.__key,u=[],d=[],g=this.getChildAtIndex(e+n);let v=null,x=o-n+i;if(e!==0)if(e===o)v=this.getLastChild();else{const E=this.getChildAtIndex(e);E!==null&&(v=E.getPreviousSibling())}if(n>0){let E=v===null?this.getFirstChild():v.getNextSibling();for(let A=0;A<n;A++){E===null&&on(100);const M=E.getNextSibling(),L=E.__key;ox(E.getWritable()),d.push(L),E=M}}let O=v;for(let E=0;E<i;E++){const A=r[E];O!==null&&A.is(O)&&(v=O=O.getPreviousSibling());const M=A.getWritable();M.__parent===s&&x--,ox(M);const L=A.__key;if(O===null)a.__first=L,M.__prev=null;else{const $=O.getWritable();$.__next=L,M.__prev=$.__key}A.__key===s&&on(76),M.__parent=s,u.push(L),O=A}if(e+n===o)O!==null&&(O.getWritable().__next=null,a.__last=O.__key);else if(g!==null){const E=g.getWritable();if(O!==null){const A=O.getWritable();E.__prev=O.__key,A.__next=g.__key}else E.__prev=null}if(a.__size=x,d.length){const E=an();if(Xt(E)){const A=new Set(d),M=new Set(u),{anchor:L,focus:$}=E;dU(L,A,M)&&V5(L,L.getNode(),this,v,g),dU($,A,M)&&V5($,$.getNode(),this,v,g),x!==0||this.canBeEmpty()||ea(this)||this.remove()}}return a}getDOMSlot(e){return new EC(e)}exportDOM(e){const{element:n}=super.exportDOM(e);if(Xo(n)){const r=this.getIndent();r>0&&(n.style.paddingInlineStart=40*r+"px");const i=this.getDirection();i&&(n.dir=i)}return{element:n}}exportJSON(){const e={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},n=this.getTextFormat(),r=this.getTextStyle();return n!==0&&(e.textFormat=n),r!==""&&(e.textStyle=r),e}updateFromJSON(e){return super.updateFromJSON(e).setFormat(e.format).setIndent(e.indent).setDirection(e.direction).setTextFormat(e.textFormat||0).setTextStyle(e.textStyle||"")}insertNewAfter(e,n){return null}canIndent(){return!0}collapseAtStart(e){return!1}excludeFromCopy(e){return!1}canReplaceWith(e){return!0}canInsertAfter(e){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(e){return!1}extractWithChild(e,n,r){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(e,n){const r=this.getDOMSlot(e);let i=r.getFirstChild();for(let o=this.getFirstChild();o;o=o.getNextSibling()){const a=n.getElementByKey(o.getKey());a!==null&&(i==null?(r.insertChild(a),i=a):i!==a&&r.replaceChild(a,i),i=i.nextSibling)}}}function It(t){return t instanceof uu}function dU(t,e,n){let r=t.getNode();for(;r;){const i=r.__key;if(e.has(i)&&!n.has(i))return!0;r=r.getParent()}return!1}class uy extends zO{decorate(e,n){on(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function wi(t){return t instanceof uy}class Sk extends uu{static getType(){return"root"}static clone(){return new Sk}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){on(51)}getTextContent(){const e=this.__cachedText;return!Ok()&&os()._dirtyType!==yx||e===null?super.getTextContent():e}remove(){on(52)}replace(e){on(53)}insertBefore(e){on(54)}insertAfter(e){on(55)}updateDOM(e,n){return!1}splice(e,n,r){for(const i of r)It(i)||wi(i)||on(282);return super.splice(e,n,r)}static importJSON(e){return Br().updateFromJSON(e)}collapseAtStart(){return!0}}function Ks(t){return t instanceof Sk}function cee(t){return new YR(new Map(t._nodeMap))}function JB(){return new YR(new Map([["root",new Sk]]))}function uee(t){const e=t.exportJSON(),n=t.constructor;if(e.type!==n.getType()&&on(130,n.name),It(t)){const r=e.children;Array.isArray(r)||on(59,n.name);const i=t.getChildren();for(let o=0;o<i.length;o++){const a=uee(i[o]);r.push(a)}}return e}class YR{constructor(e,n){this._nodeMap=e,this._selection=n||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(e,n){return cU(n&&n.editor||null,this,e)}clone(e){const n=new YR(this._nodeMap,e===void 0?this._selection:e);return n._readOnly=!0,n}toJSON(){return cU(null,this,(()=>({root:uee(Br())})))}}const Q5="historic",E5e="history-push",NP="history-merge",A5e="paste",hee="collaboration",P5e="skip-scroll-into-view",M5e="skip-dom-selection";class e8 extends uu{static getType(){return"artificial"}createDOM(e){return document.createElement("div")}}class jO extends uu{static getType(){return"paragraph"}static clone(e){return new jO(e.__key)}createDOM(e){const n=document.createElement("p"),r=xw(e.theme,"paragraph");return r!==void 0&&n.classList.add(...r),n}updateDOM(e,n,r){return!1}static importDOM(){return{p:e=>({conversion:R5e,priority:0})}}exportDOM(e){const{element:n}=super.exportDOM(e);if(Xo(n)){this.isEmpty()&&n.append(document.createElement("br"));const r=this.getFormatType();r&&(n.style.textAlign=r)}return{element:n}}static importJSON(e){return yi().updateFromJSON(e)}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),textStyle:this.getTextStyle()}}insertNewAfter(e,n){const r=yi();r.setTextFormat(e.format),r.setTextStyle(e.style);const i=this.getDirection();return r.setDirection(i),r.setFormat(this.getFormatType()),r.setStyle(this.getStyle()),this.insertAfter(r,n),r}collapseAtStart(){const e=this.getChildren();if(e.length===0||pn(e[0])&&e[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function R5e(t){const e=yi();return t.style&&(e.setFormat(t.style.textAlign),d8(t,e)),{node:e}}function yi(){return hh(new jO)}function KR(t){return t instanceof jO}const Mr=0,vo=1,U5=3,ch=4;function dee(t,e,n,r){const i=t._keyToDOMMap;i.clear(),t._editorState=JB(),t._pendingEditorState=r,t._compositionKey=null,t._dirtyType=yx,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),t._normalizedNodes=new Set,t._updateTags=new Set,t._updates=[],t._blockCursorElement=null;const o=t._observer;o!==null&&(o.disconnect(),t._observer=null),e!==null&&(e.textContent=""),n!==null&&(n.textContent="",i.set("root",n))}function t8(t){const e=t||{},n=T5e(),r=e.theme||{},i=t===void 0?n:e.parentEditor||null,o=e.disableEvents||!1,a=JB(),s=e.namespace||(i!==null?i._config.namespace:xee()),u=e.editorState,d=[Sk,bm,bk,wk,jO,e8,...e.nodes||[]],{onError:g,html:v}=e,x=e.editable===void 0||e.editable;let O;if(t===void 0&&n!==null)O=n._nodes;else{O=new Map;for(let A=0;A<d.length;A++){let M=d[A],L=null,$=null;if(typeof M!="function"){const W=M;M=W.replace,L=W.with,$=W.withKlass||null}const{ownNodeConfig:N}=oI(M),F=M.getType(),U=M.transform(),q=new Set;N&&N.$transform&&q.add(N.$transform),U!==null&&q.add(U),O.set(F,{exportDOM:v&&v.export?v.export.get(M):void 0,klass:M,replace:L,replaceWithKlass:$,sharedNodeState:C4(d[A]),transforms:q})}}const E=new JR(a,i,O,{disableEvents:o,namespace:s,theme:r},g||console.error,(function(A,M){const L=new Map,$=new Set,N=F=>{Object.keys(F).forEach((U=>{let q=L.get(U);q===void 0&&(q=[],L.set(U,q)),q.push(F[U])}))};return A.forEach((F=>{const U=F.klass.importDOM;if(U==null||$.has(U))return;$.add(U);const q=U.call(F.klass);q!==null&&N(q)})),M&&N(M),L})(O,v?v.import:void 0),x,t);return u!==void 0&&(E._pendingEditorState=u,E._dirtyType=qw),E}class JR{constructor(e,n,r,i,o,a,s,u){this._createEditorArgs=u,this._parentEditor=n,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=i,this._nodes=r,this._decorators={},this._pendingDecorators=null,this._dirtyType=yx,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=xee(),this._onError=o,this._htmlConversions=a,this._editable=s,this._headless=n!==null&&n._headless,this._window=null,this._blockCursorElement=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(e){const n=this._listeners.update;return n.add(e),()=>{n.delete(e)}}registerEditableListener(e){const n=this._listeners.editable;return n.add(e),()=>{n.delete(e)}}registerDecoratorListener(e){const n=this._listeners.decorator;return n.add(e),()=>{n.delete(e)}}registerTextContentListener(e){const n=this._listeners.textcontent;return n.add(e),()=>{n.delete(e)}}registerRootListener(e){const n=this._listeners.root;return e(this._rootElement,null),n.add(e),()=>{e(null,this._rootElement),n.delete(e)}}registerCommand(e,n,r){r===void 0&&on(35);const i=this._commands;i.has(e)||i.set(e,[new Set,new Set,new Set,new Set,new Set]);const o=i.get(e);o===void 0&&on(36,String(e));const a=o[r];return a.add(n),()=>{a.delete(n),o.every((s=>s.size===0))&&i.delete(e)}}registerMutationListener(e,n,r){const i=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(e)).klass,o=this._listeners.mutation;let a=o.get(n);a===void 0&&(a=new Set,o.set(n,a)),a.add(i);const s=r&&r.skipInitialization;return s!==void 0&&s||this.initializeMutationListener(n,i),()=>{a.delete(i),a.size===0&&o.delete(n)}}getRegisteredNode(e){const n=this._nodes.get(e.getType());return n===void 0&&on(37,e.name),n}resolveRegisteredNodeAfterReplacements(e){for(;e.replaceWithKlass;)e=this.getRegisteredNode(e.replaceWithKlass);return e}initializeMutationListener(e,n){const r=this._editorState,i=bU(r).get(n.getType());if(!i)return;const o=new Map;for(const a of i.keys())o.set(a,"created");o.size>0&&e(o,{dirtyLeaves:new Set,prevEditorState:r,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(e,n){const r=this.getRegisteredNode(e);return r.transforms.add(n),r}registerNodeTransform(e,n){const r=this.registerNodeTransformToKlass(e,n),i=[r],o=r.replaceWithKlass;if(o!=null){const a=this.registerNodeTransformToKlass(o,n);i.push(a)}return(function(a,s){const u=bU(a.getEditorState()),d=[];for(const g of s){const v=u.get(g);v&&d.push(v)}d.length!==0&&a.update((()=>{for(const g of d)for(const v of g.keys()){const x=Li(v);x&&x.markDirty()}}),a._pendingEditorState===null?{tag:NP}:void 0)})(this,i.map((a=>a.klass.getType()))),()=>{i.forEach((a=>a.transforms.delete(n)))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,n){return Dn(this,e,n)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){const n=this._rootElement;if(e!==n){const r=xw(this._config.theme,"root"),i=this._pendingEditorState||this._editorState;if(this._rootElement=e,dee(this,n,e,i),n!==null&&(this._config.disableEvents||m5e(n),r!=null&&n.classList.remove(...r)),e!==null){const o=u8(e),a=e.style;a.userSelect="text",a.whiteSpace="pre-wrap",a.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=o,this._dirtyType=qw,zJ(this),this._updateTags.add(NP),zg(this),this._config.disableEvents||(function(s,u){const d=s.ownerDocument,g=B5.get(d);(g===void 0||g<1)&&d.addEventListener("selectionchange",JJ),B5.set(d,(g||0)+1),s.__lexicalEditor=u;const v=KJ(s);for(let x=0;x<z4.length;x++){const[O,E]=z4[x],A=typeof E=="function"?M=>{WQ(M)||(qQ(M),(u.isEditable()||O==="click")&&E(M,u))}:M=>{if(WQ(M))return;qQ(M);const L=u.isEditable();switch(O){case"cut":return L&&Dn(u,HB,M);case"copy":return Dn(u,ZR,M);case"paste":return L&&Dn(u,_k,M);case"dragstart":return L&&Dn(u,UR,M);case"dragover":return L&&Dn(u,WB,M);case"dragend":return L&&Dn(u,h5e,M);case"focus":return L&&Dn(u,qR,M);case"blur":return L&&Dn(u,WR,M);case"drop":return L&&Dn(u,qB,M)}};s.addEventListener(O,A),v.push((()=>{s.removeEventListener(O,A)}))}})(e,this),r!=null&&e.classList.add(...r)}else this._window=null,this._updateTags.add(NP),zg(this);kC("root",this,!1,e,n)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,n){e.isEmpty()&&on(38);let r=e;r._readOnly&&(r=cee(e),r._selection=e._selection?e._selection.clone():null),$J(this);const i=this._pendingEditorState,o=this._updateTags,a=n!==void 0?n.tag:null;i===null||i.isEmpty()||(a!=null&&o.add(a),zg(this)),this._pendingEditorState=r,this._dirtyType=qw,this._dirtyElements.set("root",!1),this._compositionKey=null,a!=null&&o.add(a),this._updating||zg(this)}parseEditorState(e,n){return(function(r,i,o){const a=JB(),s=Ma,u=lu,d=Ra,g=i._dirtyElements,v=i._dirtyLeaves,x=i._cloneNotNeeded,O=i._dirtyType;i._dirtyElements=new Map,i._dirtyLeaves=new Set,i._cloneNotNeeded=new Set,i._dirtyType=0,Ma=a,lu=!1,Ra=i,n8(null);try{const E=i._nodes;KB(r.root,E),o&&o(),a._readOnly=!0}catch(E){E instanceof Error&&i._onError(E)}finally{i._dirtyElements=g,i._dirtyLeaves=v,i._cloneNotNeeded=x,i._dirtyType=O,Ma=s,lu=u,Ra=d}return a})(typeof e=="string"?JSON.parse(e):e,this,n)}read(e){return zg(this),this.getEditorState().read(e,{editor:this})}update(e,n){(function(r,i,o){r._updating?r._updates.push([i,o]):XR(r,i,o)})(this,e,n)}focus(e,n={}){const r=this._rootElement;r!==null&&(r.setAttribute("autocapitalize","off"),qu(this,(()=>{const i=an(),o=Br();i!==null?i.dirty||ss(i.clone()):o.getChildrenSize()!==0&&(n.defaultSelection==="rootStart"?o.selectStart():o.selectEnd()),See("focus"),N5e((()=>{r.removeAttribute("autocapitalize"),e&&e()}))})),this._pendingEditorState===null&&r.removeAttribute("autocapitalize"))}blur(){const e=this._rootElement;e!==null&&e.blur();const n=kf(this._window);n!==null&&n.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,kC("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}JR.version="0.35.0+prod.esm";let V4=null;function n8(t){V4=t}let I5e=1;function fee(t,e){const n=eI(t,e);return n===void 0&&on(30,e),n}function eI(t,e){return t._nodes.get(e)}const D5e=typeof queueMicrotask=="function"?queueMicrotask:t=>{Promise.resolve().then(t)};function fU(t){return wi(fm(t))}function r8(t){const e=document.activeElement;if(!Xo(e))return!1;const n=e.nodeName;return wi(fm(t))&&(n==="INPUT"||n==="TEXTAREA"||e.contentEditable==="true"&&tI(e)==null)}function Ck(t,e,n){const r=t.getRootElement();try{return r!==null&&r.contains(e)&&r.contains(n)&&e!==null&&!r8(e)&&o8(e)===t}catch{return!1}}function i8(t){return t instanceof JR}function o8(t){let e=t;for(;e!=null;){const n=tI(e);if(i8(n))return n;e=Tk(e)}return null}function tI(t){return t?t.__lexicalEditor:null}function ix(t){return HR(t)||t.isToken()}function Ig(t){return ix(t)||t.isSegmented()}function hy(t){return VO(t)&&t.nodeType===BPe}function L5e(t){return VO(t)&&t.nodeType===FPe}function Hw(t){let e=t;for(;e!=null;){if(hy(e))return e;e=e.firstChild}return null}function Z5(t,e,n){const r=vx[e];if(n!==null&&(t&r)==(n&r))return t;let i=t^r;return e==="subscript"?i&=-65:e==="superscript"?i&=-33:e==="lowercase"?(i&=-513,i&=-1025):e==="uppercase"?(i&=-257,i&=-1025):e==="capitalize"&&(i&=-257,i&=-513),i}function pee(t){return pn(t)||wf(t)||wi(t)}function mee(t,e){const n=(function(){const a=V4;return V4=null,a})();if((e=e||n&&n.__key)!=null)return void(t.__key=e);rl(),see();const r=os(),i=sv(),o=""+I5e++;i._nodeMap.set(o,t),It(t)?r._dirtyElements.set(o,!0):r._dirtyLeaves.add(o),r._cloneNotNeeded.add(o),r._dirtyType=IJ,t.__key=o}function ox(t){const e=t.getParent();if(e!==null){const n=t.getWritable(),r=e.getWritable(),i=t.getPreviousSibling(),o=t.getNextSibling(),a=o!==null?o.__key:null,s=i!==null?i.__key:null,u=i!==null?i.getWritable():null,d=o!==null?o.getWritable():null;i===null&&(r.__first=a),o===null&&(r.__last=s),u!==null&&(u.__next=a),d!==null&&(d.__prev=s),n.__prev=null,n.__next=null,n.__parent=null,r.__size--}}function q5(t){see();const e=t.getLatest(),n=e.__parent,r=sv(),i=os(),o=r._nodeMap,a=i._dirtyElements;n!==null&&(function(u,d,g){let v=u;for(;v!==null;){if(g.has(v))return;const x=d.get(v);if(x===void 0)break;g.set(v,!1),v=x.__parent}})(n,o,a);const s=e.__key;i._dirtyType=IJ,It(t)?a.set(s,!0):i._dirtyLeaves.add(s)}function il(t){rl();const e=os(),n=e._compositionKey;if(t!==n){if(e._compositionKey=t,n!==null){const r=Li(n);r!==null&&r.getWritable()}if(t!==null){const r=Li(t);r!==null&&r.getWritable()}}}function E0(){return Ok()?null:os()._compositionKey}function Li(t,e){const n=(e||sv())._nodeMap.get(t);return n===void 0?null:n}function gee(t,e){const n=nI(t,os());return n!==void 0?Li(n,e):null}function nI(t,e){return t[`__lexicalKey_${e._key}`]}function fm(t,e){let n=t;for(;n!=null;){const r=gee(n,e);if(r!==null)return r;n=Tk(n)}return null}function yee(t){const e=t._decorators,n=Object.assign({},e);return t._pendingDecorators=n,n}function pU(t){return t.read((()=>Br().getTextContent()))}function Br(){return vee(sv())}function vee(t){return t._nodeMap.get("root")}function ss(t){rl();const e=sv();t!==null&&(t.dirty=!0,t.setCachedNodes(null)),e._selection=t}function nw(t){const e=os(),n=(function(r,i){let o=r;for(;o!=null;){const a=nI(o,i);if(a!==void 0)return a;o=Tk(o)}return null})(t,e);return n===null?t===e.getRootElement()?Li("root"):null:Li(n)}function _ee(t){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(t)}function s8(t){const e=[];let n=t;for(;n!==null;)e.push(n),n=n._parentEditor;return e}function xee(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function bee(t){return hy(t)?t.nodeValue:null}function a8(t,e,n){const r=kf(ld(e));if(r===null)return;const i=r.anchorNode;let{anchorOffset:o,focusOffset:a}=r;if(i!==null){let s=bee(i);const u=fm(i);if(s!==null&&pn(u)){if(s===$R&&n){const d=n.length;s=n,o=d,a=d}s!==null&&l8(u,s,o,a,t)}}}function l8(t,e,n,r,i){let o=t;if(o.isAttached()&&(i||!o.isDirty())){const a=o.isComposing();let s=e;(a||i)&&e[e.length-1]===$R&&(s=e.slice(0,-1));const u=o.getTextContent();if(i||s!==u){if(s===""){if(il(null),aT||Zw||M5)o.remove();else{const A=os();setTimeout((()=>{A.update((()=>{o.isAttached()&&o.remove()}))}),20)}return}const d=o.getParent(),g=qx(),v=o.getTextContentSize(),x=E0(),O=o.getKey();if(o.isToken()||x!==null&&O===x&&!a||Xt(g)&&(d!==null&&!d.canInsertTextBefore()&&g.anchor.offset===0||g.anchor.key===t.__key&&g.anchor.offset===0&&!o.canInsertTextBefore()&&!a||g.focus.key===t.__key&&g.focus.offset===v&&!o.canInsertTextAfter()&&!a))return void o.markDirty();const E=an();if(!Xt(E)||n===null||r===null)return void mU(o,s,E);if(E.setTextNodeRange(o,n,o,r),o.isSegmented()){const A=to(o.getTextContent());o.replace(A),o=A}mU(o,s,E)}}}function mU(t,e,n){if(t.setTextContent(e),Xt(n)){const r=t.getKey();for(const i of["anchor","focus"]){const o=n[i];o.type==="text"&&o.key===r&&(o.offset=sm(t,o.offset,"clamp"))}}}function kA(t,e,n){const r=e[n]||!1;return r==="any"||r===t[n]}function $5e(t,e){return kA(t,e,"altKey")&&kA(t,e,"ctrlKey")&&kA(t,e,"shiftKey")&&kA(t,e,"metaKey")}function Zi(t,e,n){return $5e(t,n)&&t.key.toLowerCase()===e.toLowerCase()}const Mg={ctrlKey:!Qp,metaKey:Qp},gU={altKey:Qp,ctrlKey:!Qp};function yU(t){return t.key==="Backspace"}function vU(t){return Zi(t,"a",Mg)}function z5e(t){const e=Br();if(Xt(t)){const n=t.anchor,r=t.focus,i=n.getNode().getTopLevelElementOrThrow().getParentOrThrow();return n.set(i.getKey(),0,"element"),r.set(i.getKey(),i.getChildrenSize(),"element"),_x(t),t}{const n=e.select(0,e.getChildrenSize());return ss(_x(n)),n}}function xw(t,e){t.__lexicalClassNameCache===void 0&&(t.__lexicalClassNameCache={});const n=t.__lexicalClassNameCache,r=n[e];if(r!==void 0)return r;const i=t[e];if(typeof i=="string"){const o=RJ(i);return n[e]=o,o}return i}function c8(t,e,n,r,i){if(n.size===0)return;const o=r.__type,a=r.__key,s=e.get(o);s===void 0&&on(33,o);const u=s.klass;let d=t.get(u);d===void 0&&(d=new Map,t.set(u,d));const g=d.get(a),v=g==="destroyed"&&i==="created";(g===void 0||v)&&d.set(a,v?"updated":i)}function _U(t,e,n){const r=t.getParent();let i=n,o=t;return r!==null&&(e&&n===0?(i=o.getIndexWithinParent(),o=r):e||n!==o.getChildrenSize()||(i=o.getIndexWithinParent()+1,o=r)),o.getChildAtIndex(e?i-1:i)}function Q4(t,e){const n=t.offset;if(t.type==="element")return _U(t.getNode(),e,n);{const r=t.getNode();if(e&&n===0||!e&&n===r.getTextContentSize()){const i=e?r.getPreviousSibling():r.getNextSibling();return i===null?_U(r.getParentOrThrow(),e,r.getIndexWithinParent()+(e?0:1)):i}}return null}function wee(t){const e=ld(t).event,n=e&&e.inputType;return n==="insertFromPaste"||n==="insertFromPasteAsQuotation"}function Dn(t,e,n){return(function(r,i,o){const a=s8(r);for(let s=4;s>=0;s--)for(let u=0;u<a.length;u++){const d=a[u],g=d._commands.get(i);if(g!==void 0){const v=g[s];if(v!==void 0){const x=Array.from(v),O=x.length;let E=!1;if(qu(d,(()=>{for(let A=0;A<O;A++)if(x[A](o,r))return void(E=!0)})),E)return E}}}return!1})(t,e,n)}function rI(t){return!Ks(t)&&!t.isLastChild()&&!t.isInline()}function wx(t,e){const n=t._keyToDOMMap.get(e);return n===void 0&&on(75,e),n}function Tk(t){const e=t.assignedSlot||t.parentElement;return q4(e)?e.host:e}function Oee(t){return L5e(t)?t:Xo(t)?t.ownerDocument:null}function See(t){rl(),os()._updateTags.add(t)}function N5e(t){rl(),os()._deferred.push(t)}function U4(t,e){let n=t.getParent();for(;n!==null;){if(n.is(e))return!0;n=n.getParent()}return!1}function u8(t){const e=Oee(t);return e?e.defaultView:null}function ld(t){const e=t._window;return e===null&&on(78),e}function B5e(t){let e=t.getParentOrThrow();for(;e!==null;){if(ea(e))return e;e=e.getParentOrThrow()}return e}function ea(t){return Ks(t)||It(t)&&t.isShadowRoot()}function F5e(t){const e=t.constructor.clone(t);return mee(e,null),e.afterCloneFrom(t),e}function hh(t){const e=os(),n=t.getType(),r=eI(e,n);r===void 0&&on(200,t.constructor.name,n);const{replace:i,replaceWithKlass:o}=r;if(i!==null){const a=i(t),s=a.constructor;return o!==null?a instanceof o||on(201,o.name,o.getType(),s.name,s.getType(),t.constructor.name,n):a instanceof t.constructor&&s!==t.constructor||on(202,s.name,s.getType(),t.constructor.name,n),a.__key===t.__key&&on(203,t.constructor.name,n,s.name,s.getType()),a}return t}function M3(t,e){!Ks(t.getParent())||It(e)||wi(e)||on(99)}function j5e(t){const e=Li(t);return e===null&&on(63,t),e}function R3(t){return(wi(t)||It(t)&&!t.canBeEmpty())&&!t.isInline()}function Z4(t,e,n){n.style.removeProperty("caret-color"),e._blockCursorElement=null;const r=t.parentElement;r!==null&&r.removeChild(t)}function kf(t){return Df?(t||window).getSelection():null}function V5e(t){const e=u8(t);return e?e.getSelection():null}function Cee(t){return Xo(t)&&t.tagName==="A"}function Xo(t){return VO(t)&&t.nodeType===NPe}function VO(t){return typeof t=="object"&&t!==null&&"nodeType"in t&&typeof t.nodeType=="number"}function q4(t){return VO(t)&&t.nodeType===jPe}function W4(t){const e=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return t.nodeName.match(e)!==null}function W5(t){const e=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return t.nodeName.match(e)!==null}function Wh(t){if(wi(t)&&!t.isInline())return!0;if(!It(t)||ea(t))return!1;const e=t.getFirstChild(),n=e===null||wf(e)||pn(e)||e.isInline();return!t.isInline()&&t.canBeEmpty()!==!1&&n}function I3(t,e){let n=t;for(;n!==null&&n.getParent()!==null&&!e(n);)n=n.getParentOrThrow();return e(n)?n:null}function iI(){return os()}const xU=new WeakMap,Q5e=new Map;function bU(t){if(!t._readOnly&&t.isEmpty())return Q5e;t._readOnly||on(192);let e=xU.get(t);return e||(e=(function(n){const r=new Map;for(const[i,o]of n._nodeMap){const a=o.__type;let s=r.get(a);s||(s=new Map,r.set(a,s)),s.set(i,o)}return r})(t),xU.set(t,e)),e}function h8(t){const e=t.constructor.clone(t);return e.afterCloneFrom(t),e}function d8(t,e){const n=parseInt(t.style.paddingInlineStart,10)||0,r=Math.round(n/40);e.setIndent(r)}function U5e(t){return t.__lexicalUnmanaged===!0}function D2(t,e){return(function(n,r){return Object.prototype.hasOwnProperty.call(n,r)})(t,e)&&t[e]!==zO[e]}function oI(t){const e=DQ in t.prototype?t.prototype[DQ]():void 0,n=(function(a){return a===uy||a===uu||a===zO})(t),r=!n&&D2(t,"getType")?t.getType():void 0;let i,o=r;if(e)if(r)i=e[r];else for(const[a,s]of Object.entries(e))o=a,i=s;if(!n&&o&&(D2(t,"getType")||(t.getType=()=>o),D2(t,"clone")||(t.clone=a=>(n8(a),new t)),D2(t,"importJSON")||(t.importJSON=i&&i.$importJSON||(a=>new t().updateFromJSON(a))),!D2(t,"importDOM")&&i)){const{importDOM:a}=i;a&&(t.importDOM=()=>a)}return{ownNodeConfig:i,ownNodeType:o}}function Z5e(t){const e=iI();return rl(),new(e.resolveRegisteredNodeAfterReplacements(e.getRegisteredNode(t))).klass}const q5e={next:"previous",previous:"next"};class f8{constructor(e){this.origin=e}[Symbol.iterator](){return kee({hasNext:Gw,initial:this.getAdjacentCaret(),map:e=>e,step:e=>e.getAdjacentCaret()})}getAdjacentCaret(){return ta(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return ta(this.origin,this.direction)}remove(){const e=this.getNodeAtCaret();return e&&e.remove(),this}replaceOrInsert(e,n){const r=this.getNodeAtCaret();return e.is(this.origin)||e.is(r)||(r===null?this.insert(e):r.replace(e,n)),this}splice(e,n,r="next"){const i=r===this.direction?n:Array.from(n).reverse();let o=this;const a=this.getParentAtCaret(),s=new Map;for(let u=o.getAdjacentCaret();u!==null&&s.size<e;u=u.getAdjacentCaret()){const d=u.origin.getWritable();s.set(d.getKey(),d)}for(const u of i){if(s.size>0){const d=o.getNodeAtCaret();if(d){if(s.delete(d.getKey()),s.delete(u.getKey()),!(d.is(u)||o.origin.is(u))){const g=u.getParent();g&&g.is(a)&&u.remove(),d.replace(u)}}else d===null&&on(263,Array.from(s).join(" "))}else o.insert(u);o=ta(u,this.direction)}for(const u of s.values())u.remove();return this}}class fT extends f8{type="child";getLatest(){const e=this.origin.getLatest();return e===this.origin?this:cd(e,this.direction)}getParentCaret(e="root"){return ta(p8(this.getParentAtCaret(),e),this.direction)}getFlipped(){const e=Wx(this.direction);return ta(this.getNodeAtCaret(),e)||cd(this.origin,e)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(e){return e instanceof fT&&this.direction===e.direction&&this.origin.is(e.origin)}isSamePointCaret(e){return this.isSameNodeCaret(e)}}const W5e={root:Ks,shadowRoot:ea};function Wx(t){return q5e[t]}function p8(t,e="root"){return W5e[e](t)?null:t}class Ox extends f8{type="sibling";getLatest(){const e=this.origin.getLatest();return e===this.origin?this:ta(e,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return It(this.origin)?cd(this.origin,this.direction):null}getParentCaret(e="root"){return ta(p8(this.getParentAtCaret(),e),this.direction)}getFlipped(){const e=Wx(this.direction);return ta(this.getNodeAtCaret(),e)||cd(this.origin.getParentOrThrow(),e)}isSamePointCaret(e){return e instanceof Ox&&this.direction===e.direction&&this.origin.is(e.origin)}isSameNodeCaret(e){return(e instanceof Ox||e instanceof Sx)&&this.direction===e.direction&&this.origin.is(e.origin)}}class Sx extends f8{type="text";constructor(e,n){super(e),this.offset=n}getLatest(){const e=this.origin.getLatest();return e===this.origin?this:Cx(e,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(e="root"){return ta(p8(this.getParentAtCaret(),e),this.direction)}getFlipped(){return Cx(this.origin,Wx(this.direction),this.offset)}isSamePointCaret(e){return e instanceof Sx&&this.direction===e.direction&&this.origin.is(e.origin)&&this.offset===e.offset}isSameNodeCaret(e){return(e instanceof Ox||e instanceof Sx)&&this.direction===e.direction&&this.origin.is(e.origin)}getSiblingCaret(){return ta(this.origin,this.direction)}}function om(t){return t instanceof Sx}function Gw(t){return t instanceof Ox}function nd(t){return t instanceof fT}const H5e={next:class extends Sx{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(t){return this.origin.insertAfter(t),this}},previous:class extends Sx{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(t){return this.origin.insertBefore(t),this}}},G5e={next:class extends Ox{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(t){return this.origin.insertAfter(t),this}},previous:class extends Ox{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(t){return this.origin.insertBefore(t),this}}},X5e={next:class extends fT{direction="next";getNodeAtCaret(){return this.origin.getFirstChild()}insert(t){return this.origin.splice(0,0,[t]),this}},previous:class extends fT{direction="previous";getNodeAtCaret(){return this.origin.getLastChild()}insert(t){return this.origin.splice(this.origin.getChildrenSize(),0,[t]),this}}};function ta(t,e){return t?new G5e[e](t):null}function Cx(t,e,n){return t?new H5e[e](t,sm(t,n)):null}function sm(t,e,n="error"){const r=t.getTextContentSize();let i=e==="next"?r:e==="previous"?0:e;return(i<0||i>r)&&(n!=="clamp"&&(function(o,...a){const s=new URL("https://lexical.dev/docs/error"),u=new URLSearchParams;u.append("code",o);for(const d of a)u.append("v",d);s.search=u.toString(),console.warn(`Minified Lexical warning #${o}; visit ${s.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)})(284,String(e),String(r),t.getKey()),i=i<0?0:r),i}function wU(t,e){return new K5e(t,e)}function cd(t,e){return It(t)?new X5e[e](t):null}function Y5e(t){return t&&t.getChildCaret()||t}function sI(t){return t&&Y5e(t.getAdjacentCaret())}class m8{type="node-caret-range";constructor(e,n,r){this.anchor=e,this.focus=n,this.direction=r}getLatest(){const e=this.anchor.getLatest(),n=this.focus.getLatest();return e===this.anchor&&n===this.focus?this:new m8(e,n,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){const e=i=>{const o=this[i].getLatest();return om(o)?(function(a,s){const{direction:u,origin:d}=a,g=sm(d,s==="focus"?Wx(u):u);return wU(a,g-a.offset)})(o,i):null},n=e("anchor"),r=e("focus");if(n&&r){const{caret:i}=n,{caret:o}=r;if(i.isSameNodeCaret(o))return[wU(i,o.offset-i.offset),null]}return[n,r]}iterNodeCarets(e="root"){const n=om(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),r=this.focus.getLatest(),i=om(r),o=a=>a.isSameNodeCaret(r)?null:sI(a)||a.getParentCaret(e);return kee({hasNext:a=>a!==null&&!(i&&r.isSameNodeCaret(a)),initial:n.isSameNodeCaret(r)?null:o(n),map:a=>a,step:o})}[Symbol.iterator](){return this.iterNodeCarets("root")}}class K5e{type="slice";constructor(e,n){this.caret=e,this.distance=n}getSliceIndices(){const{distance:e,caret:{offset:n}}=this,r=n+e;return r<n?[r,n]:[n,r]}getTextContent(){const[e,n]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(e,n)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){const{caret:{origin:e,direction:n}}=this,[r,i]=this.getSliceIndices(),o=e.getTextContent();return Cx(e.setTextContent(o.slice(0,r)+o.slice(i)),n,r)}}function g8(t){return U0(t,ta(Br(),t.direction))}function Tee(t){return U0(t,t)}function U0(t,e){return t.direction!==e.direction&&on(265),new m8(t,e,t.direction)}function kee(t){const{initial:e,hasNext:n,step:r,map:i}=t;let o=e;return{[Symbol.iterator](){return this},next(){if(!n(o))return{done:!0,value:void 0};const a={done:!1,value:i(o)};return o=r(o),a}}}function Eee(t,e){const n=BP(t.origin,e.origin);switch(n===null&&on(275,t.origin.getKey(),e.origin.getKey()),n.type){case"same":{const r=t.type==="text",i=e.type==="text";return r&&i?(function(o,a){return Math.sign(o-a)})(t.offset,e.offset):t.type===e.type?0:r?-1:i?1:t.type==="child"?-1:1}case"ancestor":return t.type==="child"?-1:1;case"descendant":return e.type==="child"?1:-1;case"branch":return Aee(n)}}function Aee(t){const{a:e,b:n}=t,r=e.__key,i=n.__key;let o=e,a=n;for(;o&&a;o=o.getNextSibling(),a=a.getNextSibling()){if(o.__key===i)return-1;if(a.__key===r)return 1}return o===null?1:-1}function EA(t,e){return e.is(t)}function OU(t){return It(t)?[t.getLatest(),null]:[t.getParent(),t.getLatest()]}function BP(t,e){if(t.is(e))return{commonAncestor:t,type:"same"};const n=new Map;for(let[r,i]=OU(t);r;i=r,r=r.getParent())n.set(r,i);for(let[r,i]=OU(e);r;i=r,r=r.getParent()){const o=n.get(r);if(o!==void 0)return o===null?(EA(t,r)||on(276),{commonAncestor:r,type:"ancestor"}):i===null?(EA(e,r)||on(277),{commonAncestor:r,type:"descendant"}):((It(o)||EA(t,o))&&(It(i)||EA(e,i))&&r.is(o.getParent())&&r.is(i.getParent())||on(278),{a:o,b:i,commonAncestor:r,type:"branch"})}return null}function pm(t,e){const{type:n,key:r,offset:i}=t,o=j5e(t.key);return n==="text"?(pn(o)||on(266,o.getType(),r),Cx(o,e,i)):(It(o)||on(267,o.getType(),r),eMe(o,t.offset,e))}function Tx(t,e){const{origin:n,direction:r}=e,i=r==="next";om(e)?t.set(n.getKey(),e.offset,"text"):Gw(e)?pn(n)?t.set(n.getKey(),sm(n,r),"text"):t.set(n.getParentOrThrow().getKey(),n.getIndexWithinParent()+(i?1:0),"element"):(nd(e)&&It(n)||on(268),t.set(n.getKey(),i?0:n.getChildrenSize(),"element"))}function Pee(t){const e=an(),n=Xt(e)?e:BO();return FP(n,t),ss(n),n}function FP(t,e){Tx(t.anchor,e.anchor),Tx(t.focus,e.focus)}function SU(t){const{anchor:e,focus:n}=t,r=pm(e,"next"),i=pm(n,"next"),o=Eee(r,i)<=0?"next":"previous";return U0(Jg(r,o),Jg(i,o))}function kk(t){const{direction:e,origin:n}=t,r=ta(n,Wx(e)).getNodeAtCaret();return r?ta(r,e):cd(n.getParentOrThrow(),e)}function CU(t,e="root"){const n=[t];for(let r=nd(t)?t.getParentCaret(e):t.getSiblingCaret();r!==null;r=r.getParentCaret(e))n.push(kk(r));return n}function D3(t){return!!t&&t.origin.isAttached()}function J5e(t,e="removeEmptySlices"){if(t.isCollapsed())return t;const n="root",r="next";let i=e;const o=Ree(t,r),a=CU(o.anchor,n),s=CU(o.focus.getFlipped(),n),u=new Set,d=[];for(const E of o.iterNodeCarets(n))if(nd(E))u.add(E.origin.getKey());else if(Gw(E)){const{origin:A}=E;It(A)&&!u.has(A.getKey())||d.push(A)}for(const E of d)E.remove();for(const E of o.getTextSlices()){if(!E)continue;const{origin:A}=E.caret,M=A.getTextContentSize(),L=kk(ta(A,r)),$=A.getMode();if(Math.abs(E.distance)===M&&i==="removeEmptySlices"||$==="token"&&E.distance!==0)L.remove();else if(E.distance!==0){i="removeEmptySlices";let N=E.removeTextSlice();const F=E.caret.origin;if($==="segmented"){const U=N.origin,q=to(U.getTextContent()).setStyle(U.getStyle()).setFormat(U.getFormat());L.replaceOrInsert(q),N=Cx(q,r,N.offset)}F.is(a[0].origin)&&(a[0]=N),F.is(s[0].origin)&&(s[0]=N.getFlipped())}}let g,v;for(const E of a)if(D3(E)){g=eh(E);break}for(const E of s)if(D3(E)){v=eh(E);break}const x=(function(E,A,M){if(!E||!A)return null;const L=E.getParentAtCaret(),$=A.getParentAtCaret();if(!L||!$)return null;const N=L.getParents().reverse();N.push(L);const F=$.getParents().reverse();F.push($);const U=Math.min(N.length,F.length);let q;for(q=0;q<U&&N[q]===F[q];q++);const W=(ce,be)=>{let ie;for(let me=q;me<ce.length;me++){const we=ce[me];if(ea(we))return;!ie&&be(we)&&(ie=we)}return ie},te=W(N,Wh),re=te&&W(F,(ce=>M.has(ce.getKey())&&Wh(ce)));return te&&re?[te,re]:null})(g,v,u);if(x){const[E,A]=x;cd(E,"previous").splice(0,A.getChildren()),A.remove()}const O=[g,v,...a,...s].find(D3);if(O)return Tee(Jg(eh(O),t.direction));on(269,JSON.stringify(a.map((E=>E.origin.__key))))}function eh(t){const e=(function(i){let o=i;for(;nd(o);){const a=sI(o);if(!nd(a))break;o=a}return o})(t.getLatest()),{direction:n}=e;if(pn(e.origin))return om(e)?e:Cx(e.origin,n,n);const r=e.getAdjacentCaret();return Gw(r)&&pn(r.origin)?Cx(r.origin,n,Wx(n)):e}function Mee(t){return om(t)&&t.offset!==sm(t.origin,t.direction)}function Jg(t,e){return t.direction===e?t:t.getFlipped()}function Ree(t,e){return t.direction===e?t:U0(Jg(t.focus,e),Jg(t.anchor,e))}function eMe(t,e,n){let r=cd(t,"next");for(let i=0;i<e;i++){const o=r.getAdjacentCaret();if(o===null)break;r=o}return Jg(r,n)}function tMe(t){const{origin:e,offset:n,direction:r}=t;if(n===sm(e,r))return t.getSiblingCaret();if(n===sm(e,Wx(r)))return kk(t.getSiblingCaret());const[i]=e.splitText(n);return pn(i)||on(281),Jg(ta(i,"next"),r)}function nMe(t,e){return!0}function rMe(t,{$copyElementNode:e=F5e,$splitTextPointCaretNext:n=tMe,rootMode:r="shadowRoot",$shouldSplit:i=nMe}={}){if(om(t))return n(t);const o=t.getParentCaret(r);if(o){const{origin:a}=o;if(nd(t)&&(!a.canBeEmpty()||!i(a,"first")))return kk(o);const s=(function(u){const d=[];for(let g=u.getAdjacentCaret();g;g=g.getAdjacentCaret())d.push(g.origin);return d})(t);(s.length>0||a.canBeEmpty()&&i(a,"last"))&&o.insert(e(a).splice(0,0,s))}return o}function iMe(t,...e){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",t);for(const i of e)r.append("v",i);throw n.search=r.toString(),Error(`Minified Lexical error #${t}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const H4=new Map;function Iee(t){const e={};if(!t)return e;const n=t.split(";");for(const r of n)if(r!==""){const[i,o]=r.split(/:([^]+)/);i&&o&&(e[i.trim()]=o.trim())}return e}function TU(t){let e=H4.get(t);return e===void 0&&(e=Iee(t),H4.set(t,e)),e}function Dee(t){const e=iI().getElementByKey(t.getKey());if(e===null)return null;const n=e.ownerDocument.defaultView;return n===null?null:n.getComputedStyle(e)}function Lee(t){return Dee(Ks(t)?t:t.getParentOrThrow())}function kU(t){const e=Lee(t);return e!==null&&e.direction==="rtl"}function $ee(t,e){const n=t.getStartEndPoints();if(e.isSelected(t)&&!Ig(e)&&n!==null){const[r,i]=n,o=t.isBackward(),a=r.getNode(),s=i.getNode(),u=e.is(a),d=e.is(s);if(u||d){const[g,v]=j4(t),x=a.is(s),O=e.is(o?s:a),E=e.is(o?a:s);let A,M=0;x?(M=g>v?v:g,A=g>v?g:v):O?(M=o?v:g,A=void 0):E&&(M=0,A=o?g:v),e.__text=e.__text.slice(M,A)}}return e}function EU(t){if(t.type==="text")return t.offset===t.getNode().getTextContentSize();const e=t.getNode();return It(e)||iMe(177),t.offset===e.getChildrenSize()}function oMe(t){const e=t.getStyle(),n=Iee(e);H4.set(e,n)}function sMe(t,e){const n=t.getFormatType(),r=t.getIndent();n!==e.getFormatType()&&e.setFormat(n),r!==e.getIndent()&&e.setIndent(r)}function aMe(t,e,n=sMe){if(t===null)return;const r=t.getStartEndPoints(),i=new Map;let o=null;if(r){const[a,s]=r;o=BO(),o.anchor.set(a.key,a.offset,a.type),o.focus.set(s.key,s.offset,s.type);const u=L3(a.getNode(),Wh),d=L3(s.getNode(),Wh);It(u)&&i.set(u.getKey(),u),It(d)&&i.set(d.getKey(),d)}for(const a of t.getNodes())if(It(a)&&Wh(a))i.set(a.getKey(),a);else if(r===null){const s=L3(a,Wh);It(s)&&i.set(s.getKey(),s)}for(const[a,s]of i){const u=e();n(s,u),s.replace(u,!0),o&&(a===o.anchor.key&&o.anchor.set(u.getKey(),o.anchor.offset,o.anchor.type),a===o.focus.key&&o.focus.set(u.getKey(),o.focus.offset,o.focus.type))}o&&t.is(an())&&ss(o)}function zee(t){const e=Nee(t);return e!==null&&e.writingMode==="vertical-rl"}function Nee(t){const e=t.anchor.getNode();return It(e)?Dee(e):Lee(e)}function AU(t,e){let n=zee(t)?!e:e;Bee(t)&&(n=!n);const r=pm(t.focus,n?"previous":"next");if(Mee(r))return!1;for(const i of g8(r)){if(nd(i))return!i.origin.isInline();if(!It(i.origin)){if(wi(i.origin))return!0;break}}return!1}function lMe(t,e,n,r){t.modify(e?"extend":"move",n,r)}function Bee(t){const e=Nee(t);return e!==null&&e.direction==="rtl"}function PU(t,e,n){const r=Bee(t);let i;i=zee(t)||r?!n:n,lMe(t,e,i,"character")}function L3(t,e){let n=t;for(;n!==null&&n.getParent()!==null&&!e(n);)n=n.getParentOrThrow();return e(n)?n:null}function Fee(t,...e){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",t);for(const i of e)r.append("v",i);throw n.search=r.toString(),Error(`Minified Lexical error #${t}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const aI=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,cMe=aI&&"documentMode"in document?document.documentMode:null,uMe=aI&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);!(!aI||!("InputEvent"in window)||cMe)&&"getTargetRanges"in new window.InputEvent("input");function jee(...t){const e=[];for(const n of t)if(n&&typeof n=="string")for(const[r]of n.matchAll(/\S+/g))e.push(r);return e}function Fl(...t){return()=>{for(let e=t.length-1;e>=0;e--)t[e]();t.length=0}}const hMe=aI,dMe=uMe;function Ef(t,...e){const n=jee(...e);n.length>0&&t.classList.add(...n)}function lI(t,...e){const n=jee(...e);n.length>0&&t.classList.remove(...n)}function fMe(t){return t?t.getAdjacentCaret():null}function Vee(t,e){let n=t;for(;n!=null;){if(n instanceof e)return n;n=n.getParent()}return null}function G4(t){const e=Of(t,(n=>It(n)&&!n.isInline()));return It(e)||Fee(4,t.__key),e}const Of=(t,e)=>{let n=t;for(;n!==Br()&&n!=null;){if(e(n))return n;n=n.getParent()}return null};function Qee(t){const e=an()||qx();let n;if(Xt(e))n=pm(e.focus,"next");else{if(e!=null){const a=e.getNodes(),s=a[a.length-1];s&&(n=ta(s,"next"))}n=n||cd(Br(),"previous").getFlipped().insert(yi())}const r=pMe(t,n),i=sI(r),o=nd(i)?eh(i):r;return Pee(Tee(o)),t.getLatest()}function pMe(t,e,n){let r=Jg(e,"next");for(let i=r;i;i=rMe(i,n))r=i;return om(r)&&Fee(283),r.insert(t.isInline()?yi().append(t):t),Jg(ta(t.getLatest(),"next"),e.direction)}function y8(t,e){const n=e();return t.replace(n),n.append(t),n}function A0(t,e){return t!==null&&Object.getPrototypeOf(t).constructor.name===e.name}function mMe(t,e){const n=[];for(let r=0;r<t.length;r++){const i=e(t[r]);i!==null&&n.push(i)}return n}let $3=!(dMe||!hMe)&&void 0;function gMe(t){let e=1;if((function(){if($3===void 0){const n=document.createElement("div");n.style.cssText="position: absolute; opacity: 0; width: 100px; left: -1000px;",document.body.appendChild(n);const r=n.getBoundingClientRect();n.style.setProperty("zoom","2"),$3=n.getBoundingClientRect().width===r.width,document.body.removeChild(n)}return $3})())for(;t;)e*=Number(window.getComputedStyle(t).getPropertyValue("zoom")),t=t.parentElement;return e}const AA=0,X4=1,Y4=2,mf=0,yMe=1,MU=2,vMe=3,_Me=4;function xMe(t,e,n,r,i){if(t===null||n.size===0&&r.size===0&&!i)return mf;const o=e._selection,a=t._selection;if(i)return yMe;if(!(Xt(o)&&Xt(a)&&a.isCollapsed()&&o.isCollapsed()))return mf;const s=(function(L,$,N){const F=L._nodeMap,U=[];for(const q of $){const W=F.get(q);W!==void 0&&U.push(W)}for(const[q,W]of N){if(!W)continue;const te=F.get(q);te===void 0||Ks(te)||U.push(te)}return U})(e,n,r);if(s.length===0)return mf;if(s.length>1){const L=e._nodeMap,$=L.get(o.anchor.key),N=L.get(a.anchor.key);return $&&N&&!t._nodeMap.has($.__key)&&pn($)&&$.__text.length===1&&o.anchor.offset===1?MU:mf}const u=s[0],d=t._nodeMap.get(u.__key);if(!pn(d)||!pn(u)||d.__mode!==u.__mode)return mf;const g=d.__text,v=u.__text;if(g===v)return mf;const x=o.anchor,O=a.anchor;if(x.key!==O.key||x.type!=="text")return mf;const E=x.offset,A=O.offset,M=v.length-g.length;return M===1&&A===E-1?MU:M===-1&&A===E+1?vMe:M===-1&&A===E?_Me:mf}function bMe(t,e){let n=Date.now(),r=mf;return(i,o,a,s,u,d)=>{const g=Date.now();if(d.has(Q5))return r=mf,n=g,Y4;const v=xMe(i,o,s,u,t.isComposing()),x=(()=>{const O=a===null||a.editor===t,E=d.has(E5e);if(!E&&O&&d.has(NP))return AA;if(i===null)return X4;const A=o._selection;return s.size>0||u.size>0?E===!1&&v!==mf&&v===r&&g<n+e&&O||s.size===1&&(function(M,L,$){const N=L._nodeMap.get(M),F=$._nodeMap.get(M),U=L._selection,q=$._selection;return!(Xt(U)&&Xt(q)&&U.anchor.type==="element"&&U.focus.type==="element"&&q.anchor.type==="text"&&q.focus.type==="text"||!pn(N)||!pn(F)||N.__parent!==F.__parent)&&JSON.stringify(L.read((()=>N.exportJSON())))===JSON.stringify($.read((()=>F.exportJSON())))})(Array.from(s)[0],i,o)?AA:X4:A!==null?AA:Y4})();return n=g,r=v,x}}function RU(t){t.undoStack=[],t.redoStack=[],t.current=null}function wMe(t,e,n){const r=bMe(t,n);return Fl(t.registerCommand(BR,(()=>((function(o,a){const s=a.redoStack,u=a.undoStack;if(u.length!==0){const d=a.current,g=u.pop();d!==null&&(s.push(d),o.dispatchCommand(nC,!0)),u.length===0&&o.dispatchCommand(rC,!1),a.current=g||null,g&&g.editor.setEditorState(g.editorState,{tag:Q5})}})(t,e),!0)),Mr),t.registerCommand(FR,(()=>((function(o,a){const s=a.redoStack,u=a.undoStack;if(s.length!==0){const d=a.current;d!==null&&(u.push(d),o.dispatchCommand(rC,!0));const g=s.pop();s.length===0&&o.dispatchCommand(nC,!1),a.current=g||null,g&&g.editor.setEditorState(g.editorState,{tag:Q5})}})(t,e),!0)),Mr),t.registerCommand(d5e,(()=>(RU(e),!1)),Mr),t.registerCommand(f5e,(()=>(RU(e),t.dispatchCommand(nC,!1),t.dispatchCommand(rC,!1),!0)),Mr),t.registerUpdateListener((({editorState:o,prevEditorState:a,dirtyLeaves:s,dirtyElements:u,tags:d})=>{const g=e.current,v=e.redoStack,x=e.undoStack,O=g===null?null:g.editorState;if(g!==null&&o===O)return;const E=r(a,o,g,s,u,d);if(E===X4)v.length!==0&&(e.redoStack=[],t.dispatchCommand(nC,!1)),g!==null&&(x.push({...g}),t.dispatchCommand(rC,!0));else if(E===Y4)return;e.current={editor:t,editorState:o}})))}function Uee(){return{current:null,redoStack:[],undoStack:[]}}function Zee({delay:t,externalHistoryState:e}){const[n]=Bl();return(function(r,i,o=1e3){const a=j.useMemo((()=>i||Uee()),[i]);j.useEffect((()=>wMe(r,a,o)),[o,r,a])})(n,e,t),null}function OMe(t,e){const n=e.body?e.body.childNodes:[];let r=[];const i=[];for(let o=0;o<n.length;o++){const a=n[o];if(!Wee.has(a.nodeName)){const s=Hee(a,t,i,!1);s!==null&&(r=r.concat(s))}}return(function(o){for(const a of o)a.getNextSibling()instanceof e8&&a.insertAfter(Tf());for(const a of o){const s=a.getChildren();for(const u of s)a.insertBefore(u);a.remove()}})(i),r}function SMe(t,e){if(typeof document>"u"||typeof window>"u"&&global.window===void 0)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const n=document.createElement("div"),r=Br().getChildren();for(let i=0;i<r.length;i++)qee(t,r[i],n,e);return n.innerHTML}function qee(t,e,n,r=null){let i=r===null||e.isSelected(r);const o=It(e)&&e.excludeFromCopy("html");let a=e;if(r!==null){let O=h8(e);O=pn(O)&&r!==null?$ee(r,O):O,a=O}const s=It(a)?a.getChildren():[],u=eI(t,a.getType());let d;d=u&&u.exportDOM!==void 0?u.exportDOM(t,a):a.exportDOM(t);const{element:g,after:v}=d;if(!g)return!1;const x=document.createDocumentFragment();for(let O=0;O<s.length;O++){const E=s[O],A=qee(t,E,x,r);!i&&It(e)&&A&&e.extractWithChild(E,r,"html")&&(i=!0)}if(i&&!o){if((Xo(g)||q4(g))&&g.append(x),n.append(g),v){const O=v.call(a,g);O&&(q4(g)?g.replaceChildren(O):g.replaceWith(O))}}else n.append(x);return i}const Wee=new Set(["STYLE","SCRIPT"]);function Hee(t,e,n,r,i=new Map,o){let a=[];if(Wee.has(t.nodeName))return a;let s=null;const u=(function(E,A){const{nodeName:M}=E,L=A._htmlConversions.get(M.toLowerCase());let $=null;if(L!==void 0)for(const N of L){const F=N(E);F!==null&&($===null||($.priority||0)<=(F.priority||0))&&($=F)}return $!==null?$.conversion:null})(t,e),d=u?u(t):null;let g=null;if(d!==null){g=d.after;const E=d.node;if(s=Array.isArray(E)?E[E.length-1]:E,s!==null){for(const[,A]of i)if(s=A(s,o),!s)break;s&&a.push(...Array.isArray(E)?E:[s])}d.forChild!=null&&i.set(t.nodeName,d.forChild)}const v=t.childNodes;let x=[];const O=(s==null||!ea(s))&&(s!=null&&F5(s)||r);for(let E=0;E<v.length;E++)x.push(...Hee(v[E],e,n,O,new Map(i),s));return g!=null&&(x=g(x)),W5(t)&&(x=CMe(t,x,O?()=>{const E=new e8;return n.push(E),E}:yi)),s==null?x.length>0?a=a.concat(x):W5(t)&&(function(E){return E.nextSibling==null||E.previousSibling==null?!1:W4(E.nextSibling)&&W4(E.previousSibling)})(t)&&(a=a.concat(Tf())):It(s)&&s.append(...x),a}function CMe(t,e,n){const r=t.style.textAlign,i=[];let o=[];for(let a=0;a<e.length;a++){const s=e[a];if(F5(s))r&&!s.getFormat()&&s.setFormat(r),i.push(s);else if(o.push(s),a===e.length-1||a<e.length-1&&F5(e[a+1])){const u=n();u.setFormat(r),u.append(...o),i.push(u),o=[]}}return i}function H5(t,...e){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",t);for(const i of e)r.append("v",i);throw n.search=r.toString(),Error(`Minified Lexical error #${t}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function TMe(t,e=an()){return e==null&&H5(166),Xt(e)&&e.isCollapsed()||e.getNodes().length===0?"":SMe(t,e)}function kMe(t,e=an()){return e==null&&H5(166),Xt(e)&&e.isCollapsed()||e.getNodes().length===0?null:JSON.stringify(EMe(t,e))}function IU(t,e,n){const r=t.getData("application/x-lexical-editor");if(r)try{const s=JSON.parse(r);if(s.namespace===n._config.namespace&&Array.isArray(s.nodes))return DU(n,AMe(s.nodes),e)}catch{}const i=t.getData("text/html"),o=t.getData("text/plain");if(i&&o!==i)try{const s=new DOMParser().parseFromString((function(u){return window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:d=>d}).createHTML(u):u})(i),"text/html");return DU(n,OMe(n,s),e)}catch{}const a=o||t.getData("text/uri-list");if(a!=null)if(Xt(e)){const s=a.split(/(\r?\n|\t)/);s[s.length-1]===""&&s.pop();for(let u=0;u<s.length;u++){const d=an();if(Xt(d)){const g=s[u];g===`
`||g===`\r
`?d.insertParagraph():g==="	"?d.insertNodes([NO()]):d.insertText(g)}}}else e.insertRawText(a)}function DU(t,e,n){t.dispatchCommand(a5e,{nodes:e,selection:n})||(n.insertNodes(e),(function(r){if(Xt(r)&&r.isCollapsed()){const i=r.anchor;let o=null;const a=pm(i,"previous");if(a)if(om(a))o=a.origin;else{const s=U0(a,cd(Br(),"next").getFlipped());for(const u of s){if(pn(u.origin)){o=u.origin;break}if(It(u.origin)&&!u.origin.isInline())break}}if(o&&pn(o)){const s=o.getFormat(),u=o.getStyle();r.format===s&&r.style===u||(r.format=s,r.style=u,r.dirty=!0)}}})(n))}function Gee(t,e,n,r=[]){let i=e===null||n.isSelected(e);const o=It(n)&&n.excludeFromCopy("html");let a=n;if(e!==null){let d=h8(n);d=pn(d)&&e!==null?$ee(e,d):d,a=d}const s=It(a)?a.getChildren():[],u=(function(d){const g=d.exportJSON(),v=d.constructor;if(g.type!==v.getType()&&H5(58,v.name),It(d)){const x=g.children;Array.isArray(x)||H5(59,v.name)}return g})(a);if(pn(a)){const d=a.__text;d.length>0?u.text=d:i=!1}for(let d=0;d<s.length;d++){const g=s[d],v=Gee(t,e,g,u.children);!i&&It(n)&&v&&n.extractWithChild(g,e,"clone")&&(i=!0)}if(i&&!o)r.push(u);else if(Array.isArray(u.children))for(let d=0;d<u.children.length;d++){const g=u.children[d];r.push(g)}return i}function EMe(t,e){const n=[],r=Br().getChildren();for(let i=0;i<r.length;i++)Gee(t,e,r[i],n);return{namespace:t._config.namespace,nodes:n}}function AMe(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n],i=k5e(r);pn(i)&&oMe(i),e.push(i)}return e}let M1=null;async function LU(t,e,n){if(M1!==null)return!1;if(e!==null)return new Promise(((d,g)=>{t.update((()=>{d($U(t,e,n))}))}));const r=t.getRootElement(),i=t._window||window,o=window.document,a=kf(i);if(r===null||a===null)return!1;const s=o.createElement("span");s.style.cssText="position: fixed; top: -1000px;",s.append(o.createTextNode("#")),r.append(s);const u=new Range;return u.setStart(s,0),u.setEnd(s,1),a.removeAllRanges(),a.addRange(u),new Promise(((d,g)=>{const v=t.registerCommand(ZR,(x=>(A0(x,ClipboardEvent)&&(v(),M1!==null&&(window.clearTimeout(M1),M1=null),d($U(t,x,n))),!0)),ch);M1=window.setTimeout((()=>{v(),M1=null,d(!1)}),50),o.execCommand("copy"),s.remove()}))}function $U(t,e,n){if(n===void 0){const i=kf(t._window);if(!i)return!1;const o=i.anchorNode,a=i.focusNode;if(o!==null&&a!==null&&!Ck(t,o,a))return!1;const s=an();if(s===null)return!1;n=MMe(s)}e.preventDefault();const r=e.clipboardData;return r!==null&&(RMe(r,n),!0)}const PMe=[["text/html",TMe],["application/x-lexical-editor",kMe]];function MMe(t=an()){const e={"text/plain":t?t.getTextContent():""};if(t){const n=iI();for(const[r,i]of PMe){const o=i(n,t);o!==null&&(e[r]=o)}}return e}function RMe(t,e){for(const n in e){const r=e[n];r!==void 0&&t.setData(n,r)}}function zU(t,e){if(document.caretRangeFromPoint!==void 0){const n=document.caretRangeFromPoint(t,e);return n===null?null:{node:n.startContainer,offset:n.startOffset}}if(document.caretPositionFromPoint!=="undefined"){const n=document.caretPositionFromPoint(t,e);return n===null?null:{node:n.offsetNode,offset:n.offset}}return null}const QO=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,IMe=QO&&"documentMode"in document?document.documentMode:null,DMe=!(!QO||!("InputEvent"in window)||IMe)&&"getTargetRanges"in new window.InputEvent("input"),LMe=QO&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),NU=QO&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,$Me=QO&&/^(?=.*Chrome).*/i.test(navigator.userAgent),zMe=QO&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!$Me,BU=nr("DRAG_DROP_PASTE_FILE");let cI=class Xee extends uu{static getType(){return"quote"}static clone(e){return new Xee(e.__key)}createDOM(e){const n=document.createElement("blockquote");return Ef(n,e.theme.quote),n}updateDOM(e,n){return!1}static importDOM(){return{blockquote:e=>({conversion:NMe,priority:0})}}exportDOM(e){const{element:n}=super.exportDOM(e);if(Xo(n)){this.isEmpty()&&n.append(document.createElement("br"));const r=this.getFormatType();r&&(n.style.textAlign=r);const i=this.getDirection();i&&(n.dir=i)}return{element:n}}static importJSON(e){return Ek().updateFromJSON(e)}insertNewAfter(e,n){const r=yi(),i=this.getDirection();return r.setDirection(i),this.insertAfter(r,n),r}collapseAtStart(){const e=yi();return this.getChildren().forEach((n=>e.append(n))),this.replace(e),!0}canMergeWhenEmpty(){return!0}};function Ek(){return hh(new cI)}function K4(t){return t instanceof cI}let Ak=class Yee extends uu{static getType(){return"heading"}static clone(e){return new Yee(e.__tag,e.__key)}constructor(e,n){super(n),this.__tag=e}getTag(){return this.__tag}setTag(e){const n=this.getWritable();return this.__tag=e,n}createDOM(e){const n=this.__tag,r=document.createElement(n),i=e.theme.heading;if(i!==void 0){const o=i[n];Ef(r,o)}return r}updateDOM(e,n,r){return e.__tag!==this.__tag}static importDOM(){return{h1:e=>({conversion:R1,priority:0}),h2:e=>({conversion:R1,priority:0}),h3:e=>({conversion:R1,priority:0}),h4:e=>({conversion:R1,priority:0}),h5:e=>({conversion:R1,priority:0}),h6:e=>({conversion:R1,priority:0}),p:e=>{const n=e.firstChild;return n!==null&&FU(n)?{conversion:()=>({node:null}),priority:3}:null},span:e=>FU(e)?{conversion:n=>({node:Yp("h1")}),priority:3}:null}}exportDOM(e){const{element:n}=super.exportDOM(e);if(Xo(n)){this.isEmpty()&&n.append(document.createElement("br"));const r=this.getFormatType();r&&(n.style.textAlign=r);const i=this.getDirection();i&&(n.dir=i)}return{element:n}}static importJSON(e){return Yp(e.tag).updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTag(e.tag)}exportJSON(){return{...super.exportJSON(),tag:this.getTag()}}insertNewAfter(e,n=!0){const r=e?e.anchor.offset:0,i=this.getLastDescendant(),o=!i||e&&e.anchor.key===i.getKey()&&r===i.getTextContentSize()||!e?yi():Yp(this.getTag()),a=this.getDirection();if(o.setDirection(a),this.insertAfter(o,n),r===0&&!this.isEmpty()&&e){const s=yi();s.select(),this.replace(s,!0)}return o}collapseAtStart(){const e=this.isEmpty()?yi():Yp(this.getTag());return this.getChildren().forEach((n=>e.append(n))),this.replace(e),!0}extractWithChild(){return!0}};function FU(t){return t.nodeName.toLowerCase()==="span"&&t.style.fontSize==="26pt"}function R1(t){const e=t.nodeName.toLowerCase();let n=null;return e!=="h1"&&e!=="h2"&&e!=="h3"&&e!=="h4"&&e!=="h5"&&e!=="h6"||(n=Yp(e),t.style!==null&&(d8(t,n),n.setFormat(t.style.textAlign))),{node:n}}function NMe(t){const e=Ek();return t.style!==null&&(e.setFormat(t.style.textAlign),d8(t,e)),{node:e}}function Yp(t="h1"){return hh(new Ak(t))}function Xw(t){return t instanceof Ak}function PA(t){let e=null;if(A0(t,DragEvent)?e=t.dataTransfer:A0(t,ClipboardEvent)&&(e=t.clipboardData),e===null)return[!1,[],!1];const n=e.types,r=n.includes("Files"),i=n.includes("text/html")||n.includes("text/plain");return[r,Array.from(e.files),i]}function jU(t){const e=an();if(!Xt(e))return!1;const n=new Set,r=e.getNodes();for(let i=0;i<r.length;i++){const o=r[i],a=o.getKey();if(n.has(a))continue;const s=Of(o,(d=>It(d)&&!d.isInline()));if(s===null)continue;const u=s.getKey();s.canIndent()&&!n.has(u)&&(n.add(u),t(s))}return n.size>0}function VU(t){const e=fm(t);return wi(e)}function z3(t){for(const e of["lowercase","uppercase","capitalize"])t.hasFormat(e)&&t.toggleFormat(e)}function BMe(t){return Fl(t.registerCommand(NR,(e=>{const n=an();return!!rs(n)&&(n.clear(),!0)}),Mr),t.registerCommand(rx,(e=>{const n=an();return Xt(n)?(n.deleteCharacter(e),!0):!!rs(n)&&(n.deleteNodes(),!0)}),Mr),t.registerCommand(hT,(e=>{const n=an();return!!Xt(n)&&(n.deleteWord(e),!0)}),Mr),t.registerCommand(dT,(e=>{const n=an();return!!Xt(n)&&(n.deleteLine(e),!0)}),Mr),t.registerCommand(vw,(e=>{const n=an();if(typeof e=="string")n!==null&&n.insertText(e);else{if(n===null)return!1;const r=e.dataTransfer;if(r!=null)IU(r,n,t);else if(Xt(n)){const i=e.data;return i&&n.insertText(i),!0}}return!0}),Mr),t.registerCommand(I4,(()=>{const e=an();return!!Xt(e)&&(e.removeText(),!0)}),Mr),t.registerCommand(jg,(e=>{const n=an();return!!Xt(n)&&(n.formatText(e),!0)}),Mr),t.registerCommand(u5e,(e=>{const n=an();if(!Xt(n)&&!rs(n))return!1;const r=n.getNodes();for(const i of r){const o=Of(i,(a=>It(a)&&!a.isInline()));o!==null&&o.setFormat(e)}return!0}),Mr),t.registerCommand(yw,(e=>{const n=an();return!!Xt(n)&&(n.insertLineBreak(e),!0)}),Mr),t.registerCommand(uT,(()=>{const e=an();return!!Xt(e)&&(e.insertParagraph(),!0)}),Mr),t.registerCommand(ZJ,(()=>(FO([NO()]),!0)),Mr),t.registerCommand(N5,(()=>jU((e=>{const n=e.getIndent();e.setIndent(n+1)}))),Mr),t.registerCommand(D4,(()=>jU((e=>{const n=e.getIndent();n>0&&e.setIndent(Math.max(0,n-1))}))),Mr),t.registerCommand(VB,(e=>{const n=an();if(rs(n)){const r=n.getNodes();if(r.length>0)return r[0].selectPrevious(),!0}else if(Xt(n)){const r=Q4(n.focus,!0);if(!e.shiftKey&&wi(r)&&!r.isIsolated()&&!r.isInline())return r.selectPrevious(),e.preventDefault(),!0}return!1}),Mr),t.registerCommand(QB,(e=>{const n=an();if(rs(n)){const r=n.getNodes();if(r.length>0)return r[0].selectNext(0,0),!0}else if(Xt(n)){if((function(i){const o=i.focus;return o.key==="root"&&o.offset===Br().getChildrenSize()})(n))return e.preventDefault(),!0;const r=Q4(n.focus,!1);if(!e.shiftKey&&wi(r)&&!r.isIsolated()&&!r.isInline())return r.selectNext(),e.preventDefault(),!0}return!1}),Mr),t.registerCommand(jB,(e=>{const n=an();if(rs(n)){const r=n.getNodes();if(r.length>0)return e.preventDefault(),kU(r[0])?r[0].selectNext(0,0):r[0].selectPrevious(),!0}if(!Xt(n))return!1;if(AU(n,!0)){const r=e.shiftKey;return e.preventDefault(),PU(n,r,!0),!0}return!1}),Mr),t.registerCommand(UJ,(e=>{const n=an();if(rs(n)){const i=n.getNodes();if(i.length>0)return e.preventDefault(),kU(i[0])?i[0].selectPrevious():i[0].selectNext(0,0),!0}if(!Xt(n))return!1;const r=e.shiftKey;return!!AU(n,!1)&&(e.preventDefault(),PU(n,r,!1),!0)}),Mr),t.registerCommand(VR,(e=>{if(VU(e.target))return!1;const n=an();if(Xt(n)){if((function(r){if(!r.isCollapsed())return!1;const{anchor:i}=r;if(i.offset!==0)return!1;const o=i.getNode();if(Ks(o))return!1;const a=G4(o);return a.getIndent()>0&&(a.is(o)||o.is(a.getFirstDescendant()))})(n))return e.preventDefault(),t.dispatchCommand(D4,void 0);if(NU&&navigator.language==="ko-KR")return!1}else if(!rs(n))return!1;return e.preventDefault(),t.dispatchCommand(rx,!0)}),Mr),t.registerCommand(ZB,(e=>{if(VU(e.target))return!1;const n=an();return!(!Xt(n)&&!rs(n))&&(e.preventDefault(),t.dispatchCommand(rx,!1))}),Mr),t.registerCommand(Ww,(e=>{const n=an();if(!Xt(n))return!1;if(z3(n),e!==null){if((NU||LMe||zMe)&&DMe)return!1;if(e.preventDefault(),e.shiftKey)return t.dispatchCommand(yw,!1)}return t.dispatchCommand(uT,void 0)}),Mr),t.registerCommand(xk,(()=>{const e=an();return!!Xt(e)&&(t.blur(),!0)}),Mr),t.registerCommand(qB,(e=>{const[,n]=PA(e);if(n.length>0){const i=zU(e.clientX,e.clientY);if(i!==null){const{offset:o,node:a}=i,s=fm(a);if(s!==null){const u=BO();if(pn(s))u.anchor.set(s.getKey(),o,"text"),u.focus.set(s.getKey(),o,"text");else{const g=s.getParentOrThrow().getKey(),v=s.getIndexWithinParent()+1;u.anchor.set(g,v,"element"),u.focus.set(g,v,"element")}const d=_x(u);ss(d)}t.dispatchCommand(BU,n)}return e.preventDefault(),!0}const r=an();return!!Xt(r)}),Mr),t.registerCommand(UR,(e=>{const[n]=PA(e),r=an();return!(n&&!Xt(r))}),Mr),t.registerCommand(WB,(e=>{const[n]=PA(e),r=an();if(n&&!Xt(r))return!1;const i=zU(e.clientX,e.clientY);if(i!==null){const o=fm(i.node);wi(o)&&e.preventDefault()}return!0}),Mr),t.registerCommand(L4,(()=>(z5e(),!0)),Mr),t.registerCommand(ZR,(e=>(LU(t,A0(e,ClipboardEvent)?e:null),!0)),Mr),t.registerCommand(HB,(e=>((async function(n,r){await LU(r,A0(n,ClipboardEvent)?n:null),r.update((()=>{const i=an();Xt(i)?i.removeText():rs(i)&&i.getNodes().forEach((o=>o.remove()))}))})(e,t),!0)),Mr),t.registerCommand(_k,(e=>{const[,n,r]=PA(e);return n.length>0&&!r?(t.dispatchCommand(BU,n),!0):VO(e.target)&&r8(e.target)?!1:an()!==null&&((function(i,o){i.preventDefault(),o.update((()=>{const a=an(),s=A0(i,InputEvent)||A0(i,KeyboardEvent)?null:i.clipboardData;s!=null&&a!==null&&IU(s,a,o)}),{tag:A5e})})(e,t),!0)}),Mr),t.registerCommand(UB,(e=>{const n=an();return Xt(n)&&z3(n),!1}),Mr),t.registerCommand(QR,(e=>{const n=an();return Xt(n)&&z3(n),!1}),Mr))}function FMe(t){let n={}.singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,s){let u=-1;for(;++u<a.length;)if(a[u][0]==="enter"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._close){let d=u;for(;d--;)if(a[d][0]==="exit"&&a[d][1].type==="strikethroughSequenceTemporary"&&a[d][1]._open&&a[u][1].end.offset-a[u][1].start.offset===a[d][1].end.offset-a[d][1].start.offset){a[u][1].type="strikethroughSequence",a[d][1].type="strikethroughSequence";const g={type:"strikethrough",start:Object.assign({},a[d][1].start),end:Object.assign({},a[u][1].end)},v={type:"strikethroughText",start:Object.assign({},a[d][1].end),end:Object.assign({},a[u][1].start)},x=[["enter",g,s],["enter",a[d][1],s],["exit",a[d][1],s],["enter",v,s]],O=s.parser.constructs.insideSpan.null;O&&Dl(x,x.length,0,mk(O,a.slice(d+1,u),s)),Dl(x,x.length,0,[["exit",v,s],["enter",a[u][1],s],["exit",a[u][1],s],["exit",g,s]]),Dl(a,d-1,u-d+3,x),u=d+x.length-2;break}}for(u=-1;++u<a.length;)a[u][1].type==="strikethroughSequenceTemporary"&&(a[u][1].type="data");return a}function o(a,s,u){const d=this.previous,g=this.events;let v=0;return x;function x(E){return d===126&&g[g.length-1][1].type!=="characterEscape"?u(E):(a.enter("strikethroughSequenceTemporary"),O(E))}function O(E){const A=Q0(d);if(E===126)return v>1?u(E):(a.consume(E),v++,O);if(v<2&&!n)return u(E);const M=a.exit("strikethroughSequenceTemporary"),L=Q0(E);return M._open=!L||L===2&&!!A,M._close=!A||A===2&&!!L,s(E)}}}const jMe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Kee.peek=qMe;function VMe(){return{canContainEols:["delete"],enter:{strikethrough:UMe},exit:{strikethrough:ZMe}}}function QMe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:jMe}],handlers:{delete:Kee}}}function UMe(t){this.enter({type:"delete",children:[]},t)}function ZMe(t){this.exit(t)}function Kee(t,e,n,r){const i=n.createTracker(r),o=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(t,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),o(),a}function qMe(){return"~"}Jee.peek=KMe;var WMe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],HMe={canContainEols:["highlight"],enter:{highlight:GMe},exit:{highlight:XMe}};function GMe(t){this.enter({type:"highlight",children:[]},t)}function XMe(t){this.exit(t)}var YMe={unsafe:[{character:"=",inConstruct:"phrasing",notInConstruct:WMe}],handlers:{highlight:Jee}};function Jee(t,e,n,r){const o=n.createTracker(r),a=n.enter("highlight");let s=o.move("==");return s+=o.move(n.containerPhrasing(t,{before:s,after:"=",...o.current()})),s+=o.move("=="),a(),s}function KMe(){return"="}function G5(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}const JMe=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],QU={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};function ete(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=48&&e<=57}function eRe(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=97&&e<=102||e>=65&&e<=70||e>=48&&e<=57}function tRe(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=97&&e<=122||e>=65&&e<=90}function UU(t){return tRe(t)||ete(t)}const nRe=["","Named character references must be terminated by a semicolon","Numeric character references must be terminated by a semicolon","Named character references cannot be empty","Numeric character references cannot be empty","Named character references must be known","Numeric character references cannot be disallowed","Numeric character references cannot be outside the permissible Unicode range"];function uI(t,e){const n=e||{},r=typeof n.additional=="string"?n.additional.charCodeAt(0):n.additional,i=[];let o=0,a=-1,s="",u,d;n.position&&("start"in n.position||"indent"in n.position?(d=n.position.indent,u=n.position.start):u=n.position);let g=(u?u.line:0)||1,v=(u?u.column:0)||1,x=E(),O;for(o--;++o<=t.length;)if(O===10&&(v=(d?d[a]:0)||1),O=t.charCodeAt(o),O===38){const L=t.charCodeAt(o+1);if(L===9||L===10||L===12||L===32||L===38||L===60||Number.isNaN(L)||r&&L===r){s+=String.fromCharCode(O),v++;continue}const $=o+1;let N=$,F=$,U;if(L===35){F=++N;const me=t.charCodeAt(F);me===88||me===120?(U="hexadecimal",F=++N):U="decimal"}else U="named";let q="",W="",te="";const re=U==="named"?UU:U==="decimal"?ete:eRe;for(F--;++F<=t.length;){const me=t.charCodeAt(F);if(!re(me))break;te+=String.fromCharCode(me),U==="named"&&JMe.includes(te)&&(q=te,W=sT(te))}let ce=t.charCodeAt(F)===59;if(ce){F++;const me=U==="named"?sT(te):!1;me&&(q=te,W=me)}let be=1+F-$,ie="";if(!(!ce&&n.nonTerminated===!1))if(!te)U!=="named"&&A(4,be);else if(U==="named"){if(ce&&!W)A(5,1);else if(q!==te&&(F=N+q.length,be=1+F-N,ce=!1),!ce){const me=q?1:3;if(n.attribute){const we=t.charCodeAt(F);we===61?(A(me,be),W=""):UU(we)?W="":A(me,be)}else A(me,be)}ie=W}else{ce||A(2,be);let me=Number.parseInt(te,U==="hexadecimal"?16:10);if(rRe(me))A(7,be),ie="";else if(me in QU)A(6,be),ie=QU[me];else{let we="";iRe(me)&&A(6,be),me>65535&&(me-=65536,we+=String.fromCharCode(me>>>10|55296),me=56320|me&1023),ie=we+String.fromCharCode(me)}}if(ie){M(),x=E(),o=F-1,v+=F-$+1,i.push(ie);const me=E();me.offset++,n.reference&&n.reference.call(n.referenceContext||void 0,ie,{start:x,end:me},t.slice($-1,F)),x=me}else te=t.slice($-1,F),s+=te,v+=te.length,o=F-1}else O===10&&(g++,a++,v=0),Number.isNaN(O)?M():(s+=String.fromCharCode(O),v++);return i.join("");function E(){return{line:g,column:v,offset:o+((u?u.offset:0)||0)}}function A(L,$){let N;n.warning&&(N=E(),N.column+=$,N.offset+=$,n.warning.call(n.warningContext||void 0,nRe[L],N,L))}function M(){s&&(i.push(s),n.text&&n.text.call(n.textContext||void 0,s,{start:x,end:E()}),s="")}}function rRe(t){return t>=55296&&t<=57343||t>1114111}function iRe(t){return t>=1&&t<=8||t===11||t>=13&&t<=31||t>=127&&t<=159||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534}const oRe=/["&'<>`]/g,sRe=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,aRe=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,lRe=/[|\\{}()[\]^$+*?.]/g,ZU=new WeakMap;function cRe(t,e){if(t=t.replace(e.subset?uRe(e.subset):oRe,r),e.subset||e.escapeOnly)return t;return t.replace(sRe,n).replace(aRe,r);function n(i,o,a){return e.format((i.charCodeAt(0)-55296)*1024+i.charCodeAt(1)-56320+65536,a.charCodeAt(o+2),e)}function r(i,o,a){return e.format(i.charCodeAt(0),a.charCodeAt(o+1),e)}}function uRe(t){let e=ZU.get(t);return e||(e=hRe(t),ZU.set(t,e)),e}function hRe(t){const e=[];let n=-1;for(;++n<t.length;)e.push(t[n].replace(lRe,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}function dRe(t){return"&#x"+t.toString(16).toUpperCase()+";"}function tte(t,e){return cRe(t,Object.assign({format:dRe},e))}const nte="  ";function fRe(){return{canContainEols:["mdxJsxTextElement"],enter:{mdxJsxFlowTag:r,mdxJsxFlowTagClosingMarker:i,mdxJsxFlowTagAttribute:v,mdxJsxFlowTagExpressionAttribute:x,mdxJsxFlowTagAttributeValueLiteral:t,mdxJsxFlowTagAttributeValueExpression:t,mdxJsxFlowTagSelfClosingMarker:a,mdxJsxTextTag:r,mdxJsxTextTagClosingMarker:i,mdxJsxTextTagAttribute:v,mdxJsxTextTagExpressionAttribute:x,mdxJsxTextTagAttributeValueLiteral:t,mdxJsxTextTagAttributeValueExpression:t,mdxJsxTextTagSelfClosingMarker:a},exit:{mdxJsxFlowTagClosingMarker:s,mdxJsxFlowTagNamePrimary:u,mdxJsxFlowTagNameMember:d,mdxJsxFlowTagNameLocal:g,mdxJsxFlowTagExpressionAttribute:O,mdxJsxFlowTagExpressionAttributeValue:n,mdxJsxFlowTagAttributeNamePrimary:E,mdxJsxFlowTagAttributeNameLocal:A,mdxJsxFlowTagAttributeValueLiteral:M,mdxJsxFlowTagAttributeValueLiteralValue:n,mdxJsxFlowTagAttributeValueExpression:L,mdxJsxFlowTagAttributeValueExpressionValue:n,mdxJsxFlowTagSelfClosingMarker:$,mdxJsxFlowTag:N,mdxJsxTextTagClosingMarker:s,mdxJsxTextTagNamePrimary:u,mdxJsxTextTagNameMember:d,mdxJsxTextTagNameLocal:g,mdxJsxTextTagExpressionAttribute:O,mdxJsxTextTagExpressionAttributeValue:n,mdxJsxTextTagAttributeNamePrimary:E,mdxJsxTextTagAttributeNameLocal:A,mdxJsxTextTagAttributeValueLiteral:M,mdxJsxTextTagAttributeValueLiteralValue:n,mdxJsxTextTagAttributeValueExpression:L,mdxJsxTextTagAttributeValueExpressionValue:n,mdxJsxTextTagSelfClosingMarker:$,mdxJsxTextTag:N}};function t(){this.buffer()}function e(W){return{line:W.line,column:W.column,offset:W.offset}}function n(W){this.config.enter.data.call(this,W),this.config.exit.data.call(this,W)}function r(W){const te={name:void 0,attributes:[],close:!1,selfClosing:!1,start:W.start,end:W.end};this.data.mdxJsxTagStack||(this.data.mdxJsxTagStack=[]),this.data.mdxJsxTag=te,this.buffer()}function i(W){if(this.data.mdxJsxTagStack.length===0)throw new Ei("Unexpected closing slash `/` in tag, expected an open tag first",{start:W.start,end:W.end},"mdast-util-mdx-jsx:unexpected-closing-slash")}function o(W){if(this.data.mdxJsxTag.close)throw new Ei("Unexpected attribute in closing tag, expected the end of the tag",{start:W.start,end:W.end},"mdast-util-mdx-jsx:unexpected-attribute")}function a(W){if(this.data.mdxJsxTag.close)throw new Ei("Unexpected self-closing slash `/` in closing tag, expected the end of the tag",{start:W.start,end:W.end},"mdast-util-mdx-jsx:unexpected-self-closing-slash")}function s(){const W=this.data.mdxJsxTag;W.close=!0}function u(W){const te=this.data.mdxJsxTag;te.name=this.sliceSerialize(W)}function d(W){const te=this.data.mdxJsxTag;te.name+="."+this.sliceSerialize(W)}function g(W){const te=this.data.mdxJsxTag;te.name+=":"+this.sliceSerialize(W)}function v(W){const te=this.data.mdxJsxTag;o.call(this,W),te.attributes.push({type:"mdxJsxAttribute",name:"",value:null,position:{start:e(W.start),end:void 0}})}function x(W){const te=this.data.mdxJsxTag;o.call(this,W),te.attributes.push({type:"mdxJsxExpressionAttribute",value:"",position:{start:e(W.start),end:void 0}}),this.buffer()}function O(W){const te=this.data.mdxJsxTag,re=te.attributes[te.attributes.length-1];re.type;const ce=W.estree;re.value=this.resume(),re.position,re.position.end=e(W.end),ce&&(re.data={estree:ce})}function E(W){const te=this.data.mdxJsxTag,re=te.attributes[te.attributes.length-1];re.type,re.name=this.sliceSerialize(W),re.position,re.position.end=e(W.end)}function A(W){const te=this.data.mdxJsxTag,re=te.attributes[te.attributes.length-1];re.type,re.name+=":"+this.sliceSerialize(W),re.position,re.position.end=e(W.end)}function M(W){const te=this.data.mdxJsxTag,re=te.attributes[te.attributes.length-1];re.value=uI(this.resume(),{nonTerminated:!1}),re.position,re.position.end=e(W.end)}function L(W){const te=this.data.mdxJsxTag,re=te.attributes[te.attributes.length-1];re.type;const ce={type:"mdxJsxAttributeValueExpression",value:this.resume()},be=W.estree;be&&(ce.data={estree:be}),re.value=ce,re.position,re.position.end=e(W.end)}function $(){const W=this.data.mdxJsxTag;W.selfClosing=!0}function N(W){const te=this.data.mdxJsxTag,re=this.data.mdxJsxTagStack,ce=re[re.length-1];if(te.close&&ce.name!==te.name)throw new Ei("Unexpected closing tag `"+q(te)+"`, expected corresponding closing tag for `"+q(ce)+"` ("+Bg(ce)+")",{start:W.start,end:W.end},"mdast-util-mdx-jsx:end-tag-mismatch");this.resume(),te.close?re.pop():this.enter({type:W.type==="mdxJsxTextTag"?"mdxJsxTextElement":"mdxJsxFlowElement",name:te.name||null,attributes:te.attributes,children:[]},W,F),te.selfClosing||te.close?this.exit(W,U):re.push(te)}function F(W,te){const re=this.data.mdxJsxTagStack,ce=re[re.length-1],be=W?" before the end of `"+W.type+"`":"",ie=W?{start:W.start,end:W.end}:void 0;throw new Ei("Expected a closing tag for `"+q(ce)+"` ("+Bg({start:te.start,end:te.end})+")"+be,ie,"mdast-util-mdx-jsx:end-tag-mismatch")}function U(W,te){const re=this.data.mdxJsxTag;throw new Ei("Expected the closing tag `"+q(re)+"` either after the end of `"+te.type+"` ("+Bg(te.end)+") or another opening tag after the start of `"+te.type+"` ("+Bg(te.start)+")",{start:W.start,end:W.end},"mdast-util-mdx-jsx:end-tag-mismatch")}function q(W){return"<"+(W.close?"/":"")+(W.name||"")+">"}}function pRe(t){const e={},n=e.quote||'"',r=e.quoteSmart||!1,i=e.tightSelfClosing||!1,o=e.printWidth||Number.POSITIVE_INFINITY,a=n==='"'?"'":'"';if(n!=='"'&&n!=="'")throw new Error("Cannot serialize attribute values with `"+n+"` for `options.quote`, expected `\"`, or `'`");return s.peek=gRe,{handlers:{mdxJsxFlowElement:s,mdxJsxTextElement:s},unsafe:[{character:"<",inConstruct:["phrasing"]},{atBreak:!0,character:"<"}],fences:!0,resourceLink:!0};function s(u,d,g,v){const x=u.type==="mdxJsxFlowElement",O=u.name?!u.children||u.children.length===0:!1,E=rte(g),A=ite(E),M=g.createTracker(v),L=g.createTracker(v),$=[],N=(x?A:"")+"<"+(u.name||""),F=g.enter(u.type);if(M.move(N),L.move(N),u.attributes&&u.attributes.length>0){if(!u.name)throw new Error("Cannot serialize fragment w/ attributes");let re=-1;for(;++re<u.attributes.length;){const ce=u.attributes[re];let be;if(ce.type==="mdxJsxExpressionAttribute")be="{"+(ce.value||"")+"}";else{if(!ce.name)throw new Error("Cannot serialize attribute w/o name");const ie=ce.value,me=ce.name;let we="";if(ie!=null)if(typeof ie=="object")we="{"+(ie.value||"")+"}";else{const pe=r&&G5(ie,n)>G5(ie,a)?a:n;we=pe+tte(ie,{subset:[pe]})+pe}be=me+(we?"=":"")+we}$.push(be)}}let U=!1;const q=$.join(" ");x&&(/\r?\n|\r/.test(q)||M.current().now.column+q.length+(O?i?2:3:1)>o)&&(U=!0);let W=M,te=N;if(U){W=L;let re=-1;for(;++re<$.length;)$[re]=A+nte+$[re];te+=W.move(`
`+$.join(`
`)+`
`+A)}else q&&(te+=W.move(" "+q));return O&&(te+=W.move((i||U?"":" ")+"/")),te+=W.move(">"),u.children&&u.children.length>0&&(u.type==="mdxJsxTextElement"?te+=W.move(g.containerPhrasing(u,{...W.current(),before:">",after:"<"})):(W.shift(2),te+=W.move(`
`),te+=W.move(mRe(u,g,W.current())),te+=W.move(`
`))),O||(te+=W.move((x?A:"")+"</"+(u.name||"")+">")),F(),te}}function mRe(t,e,n){const r=e.indexStack,i=t.children,o=e.createTracker(n),a=ite(rte(e)),s=[];let u=-1;for(r.push(-1);++u<i.length;){const d=i[u];r[r.length-1]=u;const g={before:`
`,after:`
`,...o.current()},v=e.handle(d,t,e,g),x=d.type==="mdxJsxFlowElement"?v:e.indentLines(v,function(O,E,A){return(A?"":a)+O});s.push(o.move(x)),d.type!=="list"&&(e.bulletLastUsed=void 0),u<i.length-1&&s.push(o.move(`

`))}return r.pop(),s.join("")}function rte(t){let e=0,n=t.stack.length;for(;--n>-1;){const r=t.stack[n];if(r==="blockquote"||r==="listItem")break;r==="mdxJsxFlowElement"&&e++}return e}function ite(t){return nte.repeat(t)}function gRe(){return"<"}var qU=Object.prototype.hasOwnProperty;function WU(t,e,n){for(n of t.keys())if(AC(n,e))return n}function AC(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&AC(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=WU(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=WU(e,i),!i)||!AC(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(qU.call(t,n)&&++r&&!qU.call(e,n)||!(n in e)||!AC(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}var yRe={};let J4,ote,ste,ate,lte=!0;typeof process<"u"&&({FORCE_COLOR:J4,NODE_DISABLE_COLORS:ote,NO_COLOR:ste,TERM:ate}=yRe||{},lte=process.stdout&&process.stdout.isTTY);const ni={enabled:!ote&&ste==null&&ate!=="dumb"&&(J4!=null&&J4!=="0"||lte),reset:Co(0,0),bold:Co(1,22),dim:Co(2,22),italic:Co(3,23),underline:Co(4,24),inverse:Co(7,27),hidden:Co(8,28),strikethrough:Co(9,29),black:Co(30,39),red:Co(31,39),green:Co(32,39),yellow:Co(33,39),blue:Co(34,39),magenta:Co(35,39),cyan:Co(36,39),white:Co(37,39),gray:Co(90,39),grey:Co(90,39),bgBlack:Co(40,49),bgRed:Co(41,49),bgGreen:Co(42,49),bgYellow:Co(43,49),bgBlue:Co(44,49),bgMagenta:Co(45,49),bgCyan:Co(46,49),bgWhite:Co(47,49)};function HU(t,e){let n=0,r,i="",o="";for(;n<t.length;n++)r=t[n],i+=r.open,o+=r.close,~e.indexOf(r.close)&&(e=e.replace(r.rgx,r.close+r.open));return i+e+o}function vRe(t,e){let n={has:t,keys:e};return n.reset=ni.reset.bind(n),n.bold=ni.bold.bind(n),n.dim=ni.dim.bind(n),n.italic=ni.italic.bind(n),n.underline=ni.underline.bind(n),n.inverse=ni.inverse.bind(n),n.hidden=ni.hidden.bind(n),n.strikethrough=ni.strikethrough.bind(n),n.black=ni.black.bind(n),n.red=ni.red.bind(n),n.green=ni.green.bind(n),n.yellow=ni.yellow.bind(n),n.blue=ni.blue.bind(n),n.magenta=ni.magenta.bind(n),n.cyan=ni.cyan.bind(n),n.white=ni.white.bind(n),n.gray=ni.gray.bind(n),n.grey=ni.grey.bind(n),n.bgBlack=ni.bgBlack.bind(n),n.bgRed=ni.bgRed.bind(n),n.bgGreen=ni.bgGreen.bind(n),n.bgYellow=ni.bgYellow.bind(n),n.bgBlue=ni.bgBlue.bind(n),n.bgMagenta=ni.bgMagenta.bind(n),n.bgCyan=ni.bgCyan.bind(n),n.bgWhite=ni.bgWhite.bind(n),n}function Co(t,e){let n={open:`\x1B[${t}m`,close:`\x1B[${e}m`,rgx:new RegExp(`\\x1b\\[${e}m`,"g")};return function(r){return this!==void 0&&this.has!==void 0?(~this.has.indexOf(t)||(this.has.push(t),this.keys.push(n)),r===void 0?this:ni.enabled?HU(this.keys,r+""):r+""):r===void 0?vRe([t],[n]):ni.enabled?HU([n],r+""):r+""}}function av(){}av.prototype={diff:function(e,n){var r,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=i.callback;typeof i=="function"&&(o=i,i={}),this.options=i;var a=this;function s(F){return o?(setTimeout(function(){o(void 0,F)},0),!0):F}e=this.castInput(e),n=this.castInput(n),e=this.removeEmpty(this.tokenize(e)),n=this.removeEmpty(this.tokenize(n));var u=n.length,d=e.length,g=1,v=u+d;i.maxEditLength&&(v=Math.min(v,i.maxEditLength));var x=(r=i.timeout)!==null&&r!==void 0?r:1/0,O=Date.now()+x,E=[{oldPos:-1,lastComponent:void 0}],A=this.extractCommon(E[0],n,e,0);if(E[0].oldPos+1>=d&&A+1>=u)return s([{value:this.join(n),count:n.length}]);var M=-1/0,L=1/0;function $(){for(var F=Math.max(M,-g);F<=Math.min(L,g);F+=2){var U=void 0,q=E[F-1],W=E[F+1];q&&(E[F-1]=void 0);var te=!1;if(W){var re=W.oldPos-F;te=W&&0<=re&&re<u}var ce=q&&q.oldPos+1<d;if(!te&&!ce){E[F]=void 0;continue}if(!ce||te&&q.oldPos+1<W.oldPos?U=a.addToPath(W,!0,void 0,0):U=a.addToPath(q,void 0,!0,1),A=a.extractCommon(U,n,e,F),U.oldPos+1>=d&&A+1>=u)return s(_Re(a,U.lastComponent,n,e,a.useLongestToken));E[F]=U,U.oldPos+1>=d&&(L=Math.min(L,F-1)),A+1>=u&&(M=Math.max(M,F+1))}g++}if(o)(function F(){setTimeout(function(){if(g>v||Date.now()>O)return o();$()||F()},0)})();else for(;g<=v&&Date.now()<=O;){var N=$();if(N)return N}},addToPath:function(e,n,r,i){var o=e.lastComponent;return o&&o.added===n&&o.removed===r?{oldPos:e.oldPos+i,lastComponent:{count:o.count+1,added:n,removed:r,previousComponent:o.previousComponent}}:{oldPos:e.oldPos+i,lastComponent:{count:1,added:n,removed:r,previousComponent:o}}},extractCommon:function(e,n,r,i){for(var o=n.length,a=r.length,s=e.oldPos,u=s-i,d=0;u+1<o&&s+1<a&&this.equals(n[u+1],r[s+1]);)u++,s++,d++;return d&&(e.lastComponent={count:d,previousComponent:e.lastComponent}),e.oldPos=s,u},equals:function(e,n){return this.options.comparator?this.options.comparator(e,n):e===n||this.options.ignoreCase&&e.toLowerCase()===n.toLowerCase()},removeEmpty:function(e){for(var n=[],r=0;r<e.length;r++)e[r]&&n.push(e[r]);return n},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}};function _Re(t,e,n,r,i){for(var o=[],a;e;)o.push(e),a=e.previousComponent,delete e.previousComponent,e=a;o.reverse();for(var s=0,u=o.length,d=0,g=0;s<u;s++){var v=o[s];if(v.removed){if(v.value=t.join(r.slice(g,g+v.count)),g+=v.count,s&&o[s-1].added){var O=o[s-1];o[s-1]=o[s],o[s]=O}}else{if(!v.added&&i){var x=n.slice(d,d+v.count);x=x.map(function(A,M){var L=r[g+M];return L.length>A.length?L:A}),v.value=t.join(x)}else v.value=t.join(n.slice(d,d+v.count));d+=v.count,v.added||(g+=v.count)}}var E=o[u-1];return u>1&&typeof E.value=="string"&&(E.added||E.removed)&&t.equals("",E.value)&&(o[u-2].value+=E.value,o.pop()),o}var GU=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,XU=/\S/,cte=new av;cte.equals=function(t,e){return this.options.ignoreCase&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e||this.options.ignoreWhitespace&&!XU.test(t)&&!XU.test(e)};cte.tokenize=function(t){for(var e=t.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),n=0;n<e.length-1;n++)!e[n+1]&&e[n+2]&&GU.test(e[n])&&GU.test(e[n+2])&&(e[n]+=e[n+2],e.splice(n+1,2),n--);return e};var ute=new av;ute.tokenize=function(t){this.options.stripTrailingCr&&(t=t.replace(/\r\n/g,`
`));var e=[],n=t.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var r=0;r<n.length;r++){var i=n[r];r%2&&!this.options.newlineIsToken?e[e.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),e.push(i))}return e};var xRe=new av;xRe.tokenize=function(t){return t.split(/(\S.+?[.!?])(?=\s+|$)/)};var bRe=new av;bRe.tokenize=function(t){return t.split(/([{}:;,]|\s+)/)};function jP(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jP=function(e){return typeof e}:jP=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jP(t)}var wRe=Object.prototype.toString,pT=new av;pT.useLongestToken=!0;pT.tokenize=ute.tokenize;pT.castInput=function(t){var e=this.options,n=e.undefinedReplacement,r=e.stringifyReplacer,i=r===void 0?function(o,a){return typeof a>"u"?n:a}:r;return typeof t=="string"?t:JSON.stringify(ez(t,null,null,i),i,"  ")};pT.equals=function(t,e){return av.prototype.equals.call(pT,t.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"))};function ez(t,e,n,r,i){e=e||[],n=n||[],r&&(t=r(i,t));var o;for(o=0;o<e.length;o+=1)if(e[o]===t)return n[o];var a;if(wRe.call(t)==="[object Array]"){for(e.push(t),a=new Array(t.length),n.push(a),o=0;o<t.length;o+=1)a[o]=ez(t[o],e,n,r,i);return e.pop(),n.pop(),a}if(t&&t.toJSON&&(t=t.toJSON()),jP(t)==="object"&&t!==null){e.push(t),a={},n.push(a);var s=[],u;for(u in t)t.hasOwnProperty(u)&&s.push(u);for(s.sort(),o=0;o<s.length;o+=1)u=s[o],a[u]=ez(t[u],e,n,r,u);e.pop(),n.pop()}else a=t;return a}var tz=new av;tz.tokenize=function(t){return t.slice()};tz.join=tz.removeEmpty=function(t){return t};ni.red,ni.grey,ni.green;ni.dim().italic;ni.dim("");ni.dim("");ni.dim("");function X5(t){t=t.replace(/\r?\n/g,`
`);let e=t.match(/^[ \t]*(?=\S)/gm),n=0,r=1/0,i=(e||[]).length;for(;n<i;n++)r=Math.min(r,e[n].length);return i&&r?t.replace(new RegExp(`^[ \\t]{${r}}`,"gm"),""):t}class ORe extends Error{constructor(e={}){super(e.message),this.name="Assertion",this.code="ERR_ASSERTION",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.details=e.details||!1,this.generated=!!e.generated,this.operator=e.operator,this.expects=e.expects,this.actual=e.actual}}function rd(t,e,n,r,i,o,a){if(t)return;let s=a||o;if(a instanceof Error)throw a;let u=i;throw new ORe({actual:e,expects:n,operator:r,message:s,details:u,generated:!a})}function SRe(t,e){rd(!!t,!1,!0,"ok",!1,"Expected value to be truthy",e)}function ey(t,e){rd(!t,!0,!1,"not",!1,"Expected value to be falsey",e)}ey.ok=ey;ey.equal=function(t,e,n){rd(!AC(t,e),t,e,"not.equal",!1,"Expected values not to be deeply equal",n)};ey.type=function(t,e,n){let r=typeof t;rd(r!==e,r,e,"not.type",!1,`Expected "${r}" not to be "${e}"`,n)};ey.instance=function(t,e,n){let r="`"+(e.name||e.constructor.name)+"`";rd(!(t instanceof e),t,e,"not.instance",!1,`Expected value not to be an instance of ${r}`,n)};ey.snapshot=function(t,e,n){t=X5(t),e=X5(e),rd(t!==e,t,e,"not.snapshot",!1,"Expected value not to match snapshot",n)};ey.fixture=function(t,e,n){t=X5(t),e=X5(e),rd(t!==e,t,e,"not.fixture",!1,"Expected value not to match fixture",n)};ey.match=function(t,e,n){typeof e=="string"?rd(!t.includes(e),t,e,"not.match",!1,`Expected value not to include "${e}" substring`,n):rd(!e.test(t),t,e,"not.match",!1,`Expected value not to match \`${String(e)}\` pattern`,n)};ey.throws=function(t,e,n){!n&&typeof e=="string"&&(n=e,e=null);try{t()}catch(r){typeof e=="function"?rd(!e(r),!0,!1,"not.throws",!1,"Expected function not to throw matching exception",n):e instanceof RegExp?rd(!e.test(r.message),!0,!1,"not.throws",!1,`Expected function not to throw exception matching \`${String(e)}\` pattern`,n):e||rd(!1,!0,!1,"not.throws",!1,"Expected function not to throw",n)}};const Ml={eof:null,exclamationMark:33,dash:45,equalsTo:61,greaterThan:62},YU={attentionSideAfter:2},Dg={data:"data",lineEnding:"lineEnding",linePrefix:"linePrefix",characterEscape:"characterEscape"};var L2="highlightSequenceTemporary",KU="highlightSequence",CRe="highlight",TRe="highlightText";function kRe(){const t={name:"highlight",tokenize:n,resolveAll:e};return{text:{[Ml.equalsTo]:t},insideSpan:{null:[t]},attentionMarkers:{null:[Ml.equalsTo]}};function e(r,i){let o=-1;for(;++o<r.length;)if(r[o][0]==="enter"&&r[o][1].type===L2&&r[o][1]._close){let a=o;for(;a--;)if(r[a][0]==="exit"&&r[a][1].type===L2&&r[a][1]._open&&r[o][1].end.offset-r[o][1].start.offset===r[a][1].end.offset-r[a][1].start.offset){r[o][1].type=KU,r[a][1].type=KU;const s={type:CRe,start:Object.assign({},r[a][1].start),end:Object.assign({},r[o][1].end)},u={type:TRe,start:Object.assign({},r[a][1].end),end:Object.assign({},r[o][1].start)},d=[["enter",s,i],["enter",r[a][1],i],["exit",r[a][1],i],["enter",u,i]],g=i.parser.constructs.insideSpan.null;g&&Dl(d,d.length,0,mk(g,r.slice(a+1,o),i)),Dl(d,d.length,0,[["exit",u,i],["enter",r[o][1],i],["exit",r[o][1],i],["exit",s,i]]),Dl(r,a-1,o-a+3,d),o=a+d.length-2;break}}for(o=-1;++o<r.length;)r[o][1].type===L2&&(r[o][1].type=Dg.data);return r}function n(r,i,o){const a=this.previous,s=this.events;let u=0;return d;function d(v){return SRe(v===Ml.equalsTo,"expected `=`"),a===Ml.equalsTo&&s[s.length-1][1].type!==Dg.characterEscape?o(v):(r.enter(L2),g(v))}function g(v){const x=Q0(a);if(v===Ml.equalsTo)return u>1?o(v):(r.consume(v),u++,g);if(u<2)return o(v);const O=r.exit(L2),E=Q0(v);return O._open=!E||E===YU.attentionSideAfter&&!!x,O._close=!x||x===YU.attentionSideAfter&&!!E,i(v)}}}const ERe={}.hasOwnProperty,ARe=Symbol("continue"),N3=Symbol("exit"),PRe=Symbol("skip");function MRe(t,e){let n,r;typeof e=="function"?n=e:e&&typeof e=="object"&&(e.enter&&(n=e.enter),e.leave&&(r=e.leave)),i(t,void 0,void 0,[])();function i(o,a,s,u){return B3(o)&&(d.displayName="node ("+o.type+")"),d;function d(){const g=n?JU(n(o,a,s,u)):[];if(g[0]===N3)return g;if(g[0]!==PRe){let v;for(v in o)if(ERe.call(o,v)&&o[v]&&typeof o[v]=="object"&&v!=="data"&&v!=="position"){const x=u.concat(o),O=o[v];if(Array.isArray(O)){const E=O;let A=0;for(;A>-1&&A<E.length;){const M=E[A];if(B3(M)){const L=i(M,v,A,x)();if(L[0]===N3)return L;A=typeof L[1]=="number"?L[1]:A+1}else A++}}else if(B3(O)){const E=i(O,v,void 0,x)();if(E[0]===N3)return E}}}return r?JU(r(o,a,s,u)):g}}}function JU(t){return Array.isArray(t)?t:typeof t=="number"?[ARe,t]:[t]}function B3(t){return!!(t&&typeof t=="object"&&"type"in t&&typeof t.type=="string"&&t.type.length>0)}function RRe(t,e){const n=e.prefix||"",r=e.suffix||"",i=Object.assign({},e.acornOptions),o=[],a=[],s=i.onComment,u=i.onToken;let d=!1,g,v;const x=Object.assign({},i,{onComment:o,preserveParens:!0});u&&(x.onToken=a);const O=IRe(t,e.tokenTypes),E=O.value,A=n+E+r,M=eZ(E);if(M&&!e.allowEmpty)throw new Ei("Unexpected empty expression",{place:$(0),ruleId:"unexpected-empty-expression",source:"micromark-extension-mdx-expression"});try{g=e.expression&&!M?e.acorn.parseExpressionAt(A,0,x):e.acorn.parse(A,x)}catch(N){const F=N,U=$(F.pos);F.message=String(F.message).replace(/ \(\d+:\d+\)$/,""),F.pos=U.offset,F.loc={line:U.line,column:U.column-1},v=F,d=F.raisedAt>=n.length+E.length||F.message==="Unterminated comment"}if(g&&e.expression&&!M)if(eZ(A.slice(g.end,A.length-r.length)))g={type:"Program",start:0,end:n.length+E.length,body:[{type:"ExpressionStatement",expression:g,start:0,end:n.length+E.length}],sourceType:"module",comments:[]};else{const N=$(g.end),F=new Error("Unexpected content after expression");F.pos=N.offset,F.loc={line:N.line,column:N.column-1},v=F,g=void 0}if(g){if(g.comments=o,MRe(g,function(N,F,U,q){let W=q[q.length-1],te=F;N.type==="ParenthesizedExpression"&&W&&te&&(typeof U=="number"&&(W=W[te],te=U),W[te]=N.expression),L(N)}),Array.isArray(s))s.push(...o);else if(typeof s=="function")for(const N of o)s(N.type==="Block",N.value,N.start,N.end,N.loc.start,N.loc.end);for(const N of a)N.end<=n.length||N.start-n.length>=E.length||(L(N),Array.isArray(u)?u.push(N):u(N))}return{estree:g,error:v,swallow:d};function L(N){const F=$(N.start),U=$(N.end);N.start=F.offset,N.end=U.offset,N.loc={start:{line:F.line,column:F.column-1,offset:F.offset},end:{line:U.line,column:U.column-1,offset:U.offset}},N.range=[N.start,N.end]}function $(N){let F=N-n.length;F<0?F=0:F>E.length&&(F=E.length);let U=DRe(O.stops,F);return U||(U={line:e.start.line,column:e.start.column,offset:e.start.offset}),U}}function eZ(t){return/^\s*$/.test(t.replace(/\/\*[\s\S]*?\*\//g,"").replace(/\/\/[^\r\n]*(\r\n|\n|\r)/g,""))}function IRe(t,e){const n={value:"",stops:[]};let r=-1;for(;++r<t.length;){const i=t[r];if(i[0]==="enter"){const o=i[1].type;if(o==="lineEnding"||e.includes(o)){const a=i[2].sliceStream(i[1]);for(;a.length>0&&a[0]===-1;)a.shift();const s=LRe(a);n.stops.push([n.value.length,i[1].start]),n.value+=s,n.stops.push([n.value.length,i[1].end])}}}return n}function DRe(t,e){let n=0;for(;n<t.length&&t[n][0]<=e;)n+=1;if(n===0)return;const[r,i]=t[n-1],o=e-r;return{line:i.line,column:i.column+o,offset:i.offset+o}}function LRe(t){let e=-1;const n=[];let r;for(;++e<t.length;){const i=t[e];let o;if(typeof i=="string")o=i;else switch(i){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o="	";break}case-1:{if(r)continue;o=" ";break}default:o=String.fromCharCode(i)}r=i===-2,n.push(o)}return n.join("")}function F3(t){const e=t||{},n=e.loc||{},r=e.range||[void 0,void 0],i=tZ(n.start,r[0]||e.start),o=tZ(n.end,r[1]||e.end);if(i&&o)return{start:i,end:o}}function tZ(t,e){if(t&&typeof t=="object"){const n="line"in t?j3(t.line):void 0,r="column"in t?j3(t.column):void 0;if(n&&r!==void 0)return{line:n,column:r+1,offset:j3(e)}}}function j3(t){return typeof t=="number"&&t>-1?t:void 0}const $Re=2,rw="https://github.com/micromark/micromark-extension-mdx-expression/tree/main/packages/micromark-extension-mdx-expression",zRe="#unexpected-end-of-file-in-expression-expected-a-corresponding-closing-brace-for-",NRe="#unexpected-lazy-line-in-expression-in-container-expected-line-to-be-prefixed",nZ="#unexpected-type-in-code-expected-an-object-spread-spread",BRe="#unexpected-extra-content-in-spread-only-a-single-spread-is-supported",FRe="#could-not-parse-expression-with-acorn";function rZ(t,e,n,r,i,o,a,s,u,d,g){const v=this,x=this.events.length+3;let O=0,E,A;return M;function M(F){return t.enter(n),t.enter(r),t.consume(F),t.exit(r),E=v.now(),L}function L(F){if(F===null){if(A)throw A;const U=new Ei("Unexpected end of file in expression, expected a corresponding closing brace for `{`",{place:v.now(),ruleId:"unexpected-eof",source:"micromark-extension-mdx-expression"});throw U.url=rw+zRe,U}if(kn(F))return t.enter("lineEnding"),t.consume(F),t.exit("lineEnding"),N;if(F===125&&O===0){const U=o?jRe.call(v,o,a,i,x,E,d||!1,u||!1):{type:"ok",estree:void 0};if(U.type==="ok"){t.enter(r),t.consume(F),t.exit(r);const q=t.exit(n);return s&&U.estree&&Object.assign(q,{estree:U.estree}),e}return A=U.message,t.enter(i),t.consume(F),$}return t.enter(i),$(F)}function $(F){return F===125&&O===0||F===null||kn(F)?(t.exit(i),L(F)):(F===123&&!o?O+=1:F===125&&(O-=1),t.consume(F),$)}function N(F){const U=v.now();if(U.line!==E.line&&!g&&v.parser.lazy[U.line]){const q=new Ei("Unexpected lazy line in expression in container, expected line to be prefixed with `>` when in a block quote, whitespace when in a list, etc",{place:v.now(),ruleId:"unexpected-lazy",source:"micromark-extension-mdx-expression"});throw q.url=rw+NRe,q}return mr(F)?Tr(t,L,"linePrefix",$Re+1)(F):L(F)}}function jRe(t,e,n,r,i,o,a){const s=RRe(this.events.slice(r),{acorn:t,tokenTypes:[n],acornOptions:e,start:i,expression:!0,allowEmpty:o,prefix:a?"({":"",suffix:a?"})":""}),u=s.estree;if(a&&u){const d=u.body[0];if(d.type!=="ExpressionStatement"||d.expression.type!=="ObjectExpression"){const g=F3(d),v=new Ei("Unexpected `"+d.type+"` in code: expected an object spread (`{...spread}`)",{place:g.start,ruleId:"non-spread",source:"micromark-extension-mdx-expression"});throw v.url=rw+nZ,v}if(d.expression.properties[1]){const g=F3(d.expression.properties[1]),v=new Ei("Unexpected extra content in spread: only a single spread is supported",{place:g.start,ruleId:"spread-extra",source:"micromark-extension-mdx-expression"});throw v.url=rw+BRe,v}if(d.expression.properties[0]&&d.expression.properties[0].type!=="SpreadElement"){const g=F3(d.expression.properties[0]),v=new Ei("Unexpected `"+d.expression.properties[0].type+"` in code: only spread elements are supported",{place:g.start,ruleId:"non-spread",source:"micromark-extension-mdx-expression"});throw v.url=rw+nZ,v}}if(s.error){const d=new Ei("Could not parse expression with acorn",{cause:s.error,place:{line:s.error.loc.line,column:s.error.loc.column+1,offset:s.error.pos},ruleId:"acorn",source:"micromark-extension-mdx-expression"});return d.url=rw+FRe,{type:"nok",message:d}}return{type:"ok",estree:u}}const iZ="https://github.com/micromark/micromark-extension-mdx-jsx";function hte(t,e,n,r,i,o,a,s,u,d,g,v,x,O,E,A,M,L,$,N,F,U,q,W,te,re,ce,be,ie,me,we,pe){const _e=this;let Me,Be;return Ue;function Ue(K){return t.enter(s),t.enter(u),t.consume(K),t.exit(u),Ce}function Ce(K){return ki(K)?n(K):(Me=Pe,kt(K))}function Pe(K){if(K===47)return t.enter(d),t.consume(K),t.exit(d),Me=Xe,kt;if(K===62)return bt(K);if(K!==null&&K>=0&&uf(K))return t.enter(v),t.enter(x),t.consume(K),ke;se(K,"before name","a character that can start a name, such as a letter, `$`, or `_`"+(K===33?" (note: to create a comment in MDX, use `{/* text */}`)":""))}function Xe(K){if(K===62)return bt(K);if(K!==null&&K>=0&&uf(K))return t.enter(v),t.enter(x),t.consume(K),ke;se(K,"before name","a character that can start a name, such as a letter, `$`, or `_`"+(K===42||K===47?" (note: JS comments in JSX tags are not supported in MDX)":""))}function ke(K){if(K!==null&&K>=0&&E2(K,{jsx:!0}))return t.consume(K),ke;if(K===46||K===47||K===58||K===62||K===123||ki(K)||Ag(K))return t.exit(x),Me=mt,kt(K);se(K,"in name","a name character such as letters, digits, `$`, or `_`; whitespace before attributes; or the end of the tag"+(K===64?" (note: to create a link in MDX, use `[text](url)`)":""))}function mt(K){if(K===46)return t.enter(O),t.consume(K),t.exit(O),Me=gt,kt;if(K===58)return t.enter(A),t.consume(K),t.exit(A),Me=vt,kt;if(K===47||K===62||K===123||K!==null&&K>=0&&uf(K))return t.exit(v),Wt(K);se(K,"after name","a character that can start an attribute name, such as a letter, `$`, or `_`; whitespace before attributes; or the end of the tag")}function gt(K){if(K!==null&&K>=0&&uf(K))return t.enter(E),t.consume(K),ct;se(K,"before member name","a character that can start an attribute name, such as a letter, `$`, or `_`; whitespace before attributes; or the end of the tag")}function ct(K){if(K!==null&&K>=0&&E2(K,{jsx:!0}))return t.consume(K),ct;if(K===46||K===47||K===62||K===123||ki(K)||Ag(K))return t.exit(E),Me=ot,kt(K);se(K,"in member name","a name character such as letters, digits, `$`, or `_`; whitespace before attributes; or the end of the tag"+(K===64?" (note: to create a link in MDX, use `[text](url)`)":""))}function ot(K){if(K===46)return t.enter(O),t.consume(K),t.exit(O),Me=gt,kt;if(K===47||K===62||K===123||K!==null&&K>=0&&uf(K))return t.exit(v),Wt(K);se(K,"after member name","a character that can start an attribute name, such as a letter, `$`, or `_`; whitespace before attributes; or the end of the tag")}function vt(K){if(K!==null&&K>=0&&uf(K))return t.enter(M),t.consume(K),At;se(K,"before local name","a character that can start a name, such as a letter, `$`, or `_`"+(K===43||K!==null&&K>46&&K<58?" (note: to create a link in MDX, use `[text](url)`)":""))}function At(K){if(K!==null&&K>=0&&E2(K,{jsx:!0}))return t.consume(K),At;if(K===47||K===62||K===123||ki(K)||Ag(K))return t.exit(M),Me=Tt,kt(K);se(K,"in local name","a name character such as letters, digits, `$`, or `_`; whitespace before attributes; or the end of the tag")}function Tt(K){if(K===47||K===62||K===123||K!==null&&K>=0&&uf(K))return t.exit(v),Wt(K);se(K,"after local name","a character that can start an attribute name, such as a letter, `$`, or `_`; whitespace before attributes; or the end of the tag")}function Wt(K){if(K===47)return t.enter(g),t.consume(K),t.exit(g),Me=Ye,kt;if(K===62)return bt(K);if(K===123)return rZ.call(_e,t,Ot,L,$,N,r,i,o,!0,!1,a)(K);if(K!==null&&K>=0&&uf(K))return t.enter(F),t.enter(U),t.enter(q),t.consume(K),hn;se(K,"before attribute name","a character that can start an attribute name, such as a letter, `$`, or `_`; whitespace before attributes; or the end of the tag")}function Ot(K){return Me=Wt,kt(K)}function hn(K){if(K!==null&&K>=0&&E2(K,{jsx:!0}))return t.consume(K),hn;if(K===47||K===58||K===61||K===62||K===123||ki(K)||Ag(K))return t.exit(q),Me=Gt,kt(K);se(K,"in attribute name","an attribute name character such as letters, digits, `$`, or `_`; `=` to initialize a value; whitespace before attributes; or the end of the tag")}function Gt(K){if(K===58)return t.enter(W),t.consume(K),t.exit(W),Me=Yt,kt;if(K===61)return t.exit(U),t.enter(re),t.consume(K),t.exit(re),Me=Rn,kt;if(K===47||K===62||K===123||ki(K)||Ag(K)||K!==null&&K>=0&&uf(K))return t.exit(U),t.exit(F),Me=Wt,kt(K);se(K,"after attribute name","a character that can start an attribute name, such as a letter, `$`, or `_`; `=` to initialize a value; or the end of the tag")}function Yt(K){if(K!==null&&K>=0&&uf(K))return t.enter(te),t.consume(K),Cn;se(K,"before local attribute name","a character that can start an attribute name, such as a letter, `$`, or `_`; `=` to initialize a value; or the end of the tag")}function Cn(K){if(K!==null&&K>=0&&E2(K,{jsx:!0}))return t.consume(K),Cn;if(K===47||K===61||K===62||K===123||ki(K)||Ag(K))return t.exit(te),t.exit(U),Me=sn,kt(K);se(K,"in local attribute name","an attribute name character such as letters, digits, `$`, or `_`; `=` to initialize a value; whitespace before attributes; or the end of the tag")}function sn(K){if(K===61)return t.enter(re),t.consume(K),t.exit(re),Me=Rn,kt;if(K===47||K===62||K===123||K!==null&&K>=0&&uf(K))return t.exit(F),Wt(K);se(K,"after local attribute name","a character that can start an attribute name, such as a letter, `$`, or `_`; `=` to initialize a value; or the end of the tag")}function Rn(K){if(K===34||K===39)return t.enter(ce),t.enter(be),t.consume(K),t.exit(be),Be=K,Vn;if(K===123)return rZ.call(_e,t,Fn,me,we,pe,r,i,o,!1,!1,a)(K);se(K,"before attribute value","a character that can start an attribute value, such as `\"`, `'`, or `{`"+(K===60?" (note: to use an element or fragment as a prop value in MDX, use `{<element />}`)":""))}function Fn(K){return t.exit(F),Me=Wt,kt(K)}function Vn(K){return K===null&&se(K,"in attribute value","a corresponding closing quote `"+String.fromCodePoint(Be)+"`"),K===Be?(t.enter(be),t.consume(K),t.exit(be),t.exit(ce),t.exit(F),Be=void 0,Me=Wt,kt):kn(K)?(Me=Vn,kt(K)):(t.enter(ie),Qe(K))}function Qe(K){return K===null||K===Be||kn(K)?(t.exit(ie),Vn(K)):(t.consume(K),Qe)}function Ye(K){if(K===62)return bt(K);se(K,"after self-closing slash","`>` to end the tag"+(K===42||K===47?" (note: JS comments in JSX tags are not supported in MDX)":""))}function bt(K){return t.enter(u),t.consume(K),t.exit(u),t.exit(s),e}function kt(K){return kn(K)?(t.enter("lineEnding"),t.consume(K),t.exit("lineEnding"),Oe):mr(K)||Ag(K)?(t.enter("esWhitespace"),Vt(K)):Me(K)}function Vt(K){return kn(K)?(t.exit("esWhitespace"),kt(K)):mr(K)||Ag(K)?(t.consume(K),Vt):(t.exit("esWhitespace"),Me(K))}function Oe(K){if(!a&&_e.parser.lazy[_e.now().line]){const xe=new Ei("Unexpected lazy line in container, expected line to be prefixed with `>` when in a block quote, whitespace when in a list, etc",_e.now(),"micromark-extension-mdx-jsx:unexpected-lazy");throw xe.url=iZ+"#unexpected-lazy-line-in-container-expected-line-to-be",xe}return kt(K)}function se(K,xe,$e){const ze=new Ei("Unexpected "+(K===null?"end of file":"character `"+(K===96?"` ` `":String.fromCodePoint(K))+"` ("+VRe(K)+")")+" "+xe+", expected "+$e,_e.now(),"micromark-extension-mdx-jsx:unexpected-"+(K===null?"eof":"character"));throw ze.url=iZ+(K===null?"#unexpected-end-of-file-at-expected-expect":"#unexpected-character-at-expected-expect"),ze}}function VRe(t){return"U+"+t.toString(16).toUpperCase().padStart(4,"0")}function QRe(t,e){return{name:"mdxJsxTextTag",tokenize:n};function n(r,i,o){return hte.call(this,r,i,o,t,e.acornOptions,e.addResult,!0,"mdxJsxTextTag","mdxJsxTextTagMarker","mdxJsxTextTagClosingMarker","mdxJsxTextTagSelfClosingMarker","mdxJsxTextTagName","mdxJsxTextTagNamePrimary","mdxJsxTextTagNameMemberMarker","mdxJsxTextTagNameMember","mdxJsxTextTagNamePrefixMarker","mdxJsxTextTagNameLocal","mdxJsxTextTagExpressionAttribute","mdxJsxTextTagExpressionAttributeMarker","mdxJsxTextTagExpressionAttributeValue","mdxJsxTextTagAttribute","mdxJsxTextTagAttributeName","mdxJsxTextTagAttributeNamePrimary","mdxJsxTextTagAttributeNamePrefixMarker","mdxJsxTextTagAttributeNameLocal","mdxJsxTextTagAttributeInitializerMarker","mdxJsxTextTagAttributeValueLiteral","mdxJsxTextTagAttributeValueLiteralMarker","mdxJsxTextTagAttributeValueLiteralValue","mdxJsxTextTagAttributeValueExpression","mdxJsxTextTagAttributeValueExpressionMarker","mdxJsxTextTagAttributeValueExpressionValue")}}function URe(t,e){return{concrete:!0,name:"mdxJsxFlowTag",tokenize:n};function n(r,i,o){const a=this;return s;function s(v){return u(v)}function u(v){return hte.call(a,r,d,o,t,e.acornOptions,e.addResult,!1,"mdxJsxFlowTag","mdxJsxFlowTagMarker","mdxJsxFlowTagClosingMarker","mdxJsxFlowTagSelfClosingMarker","mdxJsxFlowTagName","mdxJsxFlowTagNamePrimary","mdxJsxFlowTagNameMemberMarker","mdxJsxFlowTagNameMember","mdxJsxFlowTagNamePrefixMarker","mdxJsxFlowTagNameLocal","mdxJsxFlowTagExpressionAttribute","mdxJsxFlowTagExpressionAttributeMarker","mdxJsxFlowTagExpressionAttributeValue","mdxJsxFlowTagAttribute","mdxJsxFlowTagAttributeName","mdxJsxFlowTagAttributeNamePrimary","mdxJsxFlowTagAttributeNamePrefixMarker","mdxJsxFlowTagAttributeNameLocal","mdxJsxFlowTagAttributeInitializerMarker","mdxJsxFlowTagAttributeValueLiteral","mdxJsxFlowTagAttributeValueLiteralMarker","mdxJsxFlowTagAttributeValueLiteralValue","mdxJsxFlowTagAttributeValueExpression","mdxJsxFlowTagAttributeValueExpressionMarker","mdxJsxFlowTagAttributeValueExpressionValue")(v)}function d(v){return mr(v)?Tr(r,g,"whitespace")(v):g(v)}function g(v){const x=a.parser.constructs.flow[123],O=Array.isArray(x)?x:x?[x]:[];let E;for(const A of O)if(A.name==="mdxFlowExpression"){E=A;break}return v===60?s(v):v===123&&E?r.attempt(E,g,o)(v):v===null||kn(v)?i(v):o(v)}}}function ZRe(t){const e={},n=e.acorn;let r;if(n){if(!n.parse||!n.parseExpressionAt)throw new Error("Expected a proper `acorn` instance passed in as `options.acorn`");r=Object.assign({ecmaVersion:2024,sourceType:"module"},e.acornOptions,{locations:!0})}else if(e.acornOptions||e.addResult)throw new Error("Expected an `acorn` instance passed in as `options.acorn`");return{flow:{60:URe(n||void 0,{acornOptions:r,addResult:e.addResult||void 0})},text:{60:QRe(n||void 0,{acornOptions:r,addResult:e.addResult||void 0})}}}function qRe(){return{disable:{null:["autolink","codeIndented","htmlFlow","htmlText"]}}}const oZ={}.hasOwnProperty;function WRe(t,e){const n=e||{};function r(i,...o){let a=r.invalid;const s=r.handlers;if(i&&oZ.call(i,t)){const u=String(i[t]);a=oZ.call(s,u)?s[u]:r.unknown}if(a)return a.call(this,i,...o)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const HRe={}.hasOwnProperty;function dte(t,e){let n=-1,r;if(e.extensions)for(;++n<e.extensions.length;)dte(t,e.extensions[n]);for(r in e)if(HRe.call(e,r))switch(r){case"extensions":break;case"unsafe":{sZ(t[r],e[r]);break}case"join":{sZ(t[r],e[r]);break}case"handlers":{GRe(t[r],e[r]);break}default:t.options[r]=e[r]}return t}function sZ(t,e){e&&t.push(...e)}function GRe(t,e){e&&Object.assign(t,e)}function XRe(t,e,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const a=n.indentLines(n.containerFlow(t,o.current()),YRe);return i(),a}function YRe(t,e,n){return">"+(n?"":" ")+t}function fte(t,e){return aZ(t,e.inConstruct,!0)&&!aZ(t,e.notInConstruct,!1)}function aZ(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function lZ(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&fte(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function KRe(t,e){const n=String(t);let r=n.indexOf(e),i=r,o=0,a=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>a&&(a=o):o=1,i=r+e.length,r=n.indexOf(e,i);return a}function nz(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function JRe(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function eIe(t,e,n,r){const i=JRe(n),o=t.value||"",a=i==="`"?"GraveAccent":"Tilde";if(nz(t,n)){const v=n.enter("codeIndented"),x=n.indentLines(o,tIe);return v(),x}const s=n.createTracker(r),u=i.repeat(Math.max(KRe(o,i)+1,3)),d=n.enter("codeFenced");let g=s.move(u);if(t.lang){const v=n.enter(`codeFencedLang${a}`);g+=s.move(n.safe(t.lang,{before:g,after:" ",encode:["`"],...s.current()})),v()}if(t.lang&&t.meta){const v=n.enter(`codeFencedMeta${a}`);g+=s.move(" "),g+=s.move(n.safe(t.meta,{before:g,after:`
`,encode:["`"],...s.current()})),v()}return g+=s.move(`
`),o&&(g+=s.move(o+`
`)),g+=s.move(u),d(),g}function tIe(t,e,n){return(n?"":"    ")+t}function v8(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function nIe(t,e,n,r){const i=v8(n),o=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let s=n.enter("label");const u=n.createTracker(r);let d=u.move("[");return d+=u.move(n.safe(n.associationId(t),{before:d,after:"]",...u.current()})),d+=u.move("]: "),s(),!t.url||/[\0- \u007F]/.test(t.url)?(s=n.enter("destinationLiteral"),d+=u.move("<"),d+=u.move(n.safe(t.url,{before:d,after:">",...u.current()})),d+=u.move(">")):(s=n.enter("destinationRaw"),d+=u.move(n.safe(t.url,{before:d,after:t.title?" ":`
`,...u.current()}))),s(),t.title&&(s=n.enter(`title${o}`),d+=u.move(" "+i),d+=u.move(n.safe(t.title,{before:d,after:i,...u.current()})),d+=u.move(i),s()),a(),d}function rIe(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Z0(t){return"&#x"+t.toString(16).toUpperCase()+";"}function Y5(t,e,n){const r=Q0(t),i=Q0(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}pte.peek=iIe;function pte(t,e,n,r){const i=rIe(n),o=n.enter("emphasis"),a=n.createTracker(r),s=a.move(i);let u=a.move(n.containerPhrasing(t,{after:i,before:s,...a.current()}));const d=u.charCodeAt(0),g=Y5(r.before.charCodeAt(r.before.length-1),d,i);g.inside&&(u=Z0(d)+u.slice(1));const v=u.charCodeAt(u.length-1),x=Y5(r.after.charCodeAt(0),v,i);x.inside&&(u=u.slice(0,-1)+Z0(v));const O=a.move(i);return o(),n.attentionEncodeSurroundingInfo={after:x.outside,before:g.outside},s+u+O}function iIe(t,e,n){return n.options.emphasis||"*"}function mte(t,e){let n=!1;return PB(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,x4}),!!((!t.depth||t.depth<3)&&OB(t)&&(e.options.setext||n))}function oIe(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),o=n.createTracker(r);if(mte(t,n)){const g=n.enter("headingSetext"),v=n.enter("phrasing"),x=n.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return v(),g(),x+`
`+(i===1?"=":"-").repeat(x.length-(Math.max(x.lastIndexOf("\r"),x.lastIndexOf(`
`))+1))}const a="#".repeat(i),s=n.enter("headingAtx"),u=n.enter("phrasing");o.move(a+" ");let d=n.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(d)&&(d=Z0(d.charCodeAt(0))+d.slice(1)),d=d?a+" "+d:a,n.options.closeAtx&&(d+=" "+a),u(),s(),d}gte.peek=sIe;function gte(t){return t.value||""}function sIe(){return"<"}yte.peek=aIe;function yte(t,e,n,r){const i=v8(n),o=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let s=n.enter("label");const u=n.createTracker(r);let d=u.move("![");return d+=u.move(n.safe(t.alt,{before:d,after:"]",...u.current()})),d+=u.move("]("),s(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(s=n.enter("destinationLiteral"),d+=u.move("<"),d+=u.move(n.safe(t.url,{before:d,after:">",...u.current()})),d+=u.move(">")):(s=n.enter("destinationRaw"),d+=u.move(n.safe(t.url,{before:d,after:t.title?" ":")",...u.current()}))),s(),t.title&&(s=n.enter(`title${o}`),d+=u.move(" "+i),d+=u.move(n.safe(t.title,{before:d,after:i,...u.current()})),d+=u.move(i),s()),d+=u.move(")"),a(),d}function aIe(){return"!"}vte.peek=lIe;function vte(t,e,n,r){const i=t.referenceType,o=n.enter("imageReference");let a=n.enter("label");const s=n.createTracker(r);let u=s.move("![");const d=n.safe(t.alt,{before:u,after:"]",...s.current()});u+=s.move(d+"]["),a();const g=n.stack;n.stack=[],a=n.enter("reference");const v=n.safe(n.associationId(t),{before:u,after:"]",...s.current()});return a(),n.stack=g,o(),i==="full"||!d||d!==v?u+=s.move(v+"]"):i==="shortcut"?u=u.slice(0,-1):u+=s.move("]"),u}function lIe(){return"!"}_te.peek=cIe;function _te(t,e,n){let r=t.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const a=n.unsafe[o],s=n.compilePattern(a);let u;if(a.atBreak)for(;u=s.exec(r);){let d=u.index;r.charCodeAt(d)===10&&r.charCodeAt(d-1)===13&&d--,r=r.slice(0,d)+" "+r.slice(u.index+1)}}return i+r+i}function cIe(){return"`"}function xte(t,e){const n=OB(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}bte.peek=uIe;function bte(t,e,n,r){const i=v8(n),o=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let s,u;if(xte(t,n)){const g=n.stack;n.stack=[],s=n.enter("autolink");let v=a.move("<");return v+=a.move(n.containerPhrasing(t,{before:v,after:">",...a.current()})),v+=a.move(">"),s(),n.stack=g,v}s=n.enter("link"),u=n.enter("label");let d=a.move("[");return d+=a.move(n.containerPhrasing(t,{before:d,after:"](",...a.current()})),d+=a.move("]("),u(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),d+=a.move("<"),d+=a.move(n.safe(t.url,{before:d,after:">",...a.current()})),d+=a.move(">")):(u=n.enter("destinationRaw"),d+=a.move(n.safe(t.url,{before:d,after:t.title?" ":")",...a.current()}))),u(),t.title&&(u=n.enter(`title${o}`),d+=a.move(" "+i),d+=a.move(n.safe(t.title,{before:d,after:i,...a.current()})),d+=a.move(i),u()),d+=a.move(")"),s(),d}function uIe(t,e,n){return xte(t,n)?"<":"["}wte.peek=hIe;function wte(t,e,n,r){const i=t.referenceType,o=n.enter("linkReference");let a=n.enter("label");const s=n.createTracker(r);let u=s.move("[");const d=n.containerPhrasing(t,{before:u,after:"]",...s.current()});u+=s.move(d+"]["),a();const g=n.stack;n.stack=[],a=n.enter("reference");const v=n.safe(n.associationId(t),{before:u,after:"]",...s.current()});return a(),n.stack=g,o(),i==="full"||!d||d!==v?u+=s.move(v+"]"):i==="shortcut"?u=u.slice(0,-1):u+=s.move("]"),u}function hIe(){return"["}function _8(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function dIe(t){const e=_8(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function fIe(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function Ote(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function pIe(t,e,n,r){const i=n.enter("list"),o=n.bulletCurrent;let a=t.ordered?fIe(n):_8(n);const s=t.ordered?a==="."?")":".":dIe(n);let u=e&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!t.ordered){const g=t.children?t.children[0]:void 0;if((a==="*"||a==="-")&&g&&(!g.children||!g.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(u=!0),Ote(n)===a&&g){let v=-1;for(;++v<t.children.length;){const x=t.children[v];if(x&&x.type==="listItem"&&x.children&&x.children[0]&&x.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(a=s),n.bulletCurrent=a;const d=n.containerFlow(t,r);return n.bulletLastUsed=a,n.bulletCurrent=o,i(),d}function mIe(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function gIe(t,e,n,r){const i=mIe(n);let o=n.bulletCurrent||_8(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let a=o.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(a=Math.ceil(a/4)*4);const s=n.createTracker(r);s.move(o+" ".repeat(a-o.length)),s.shift(a);const u=n.enter("listItem"),d=n.indentLines(n.containerFlow(t,s.current()),g);return u(),d;function g(v,x,O){return x?(O?"":" ".repeat(a))+v:(O?o:o+" ".repeat(a-o.length))+v}}function yIe(t,e,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),a=n.containerPhrasing(t,r);return o(),i(),a}const vIe=AB(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function _Ie(t,e,n,r){return(t.children.some(function(a){return vIe(a)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function xIe(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}Ste.peek=bIe;function Ste(t,e,n,r){const i=xIe(n),o=n.enter("strong"),a=n.createTracker(r),s=a.move(i+i);let u=a.move(n.containerPhrasing(t,{after:i,before:s,...a.current()}));const d=u.charCodeAt(0),g=Y5(r.before.charCodeAt(r.before.length-1),d,i);g.inside&&(u=Z0(d)+u.slice(1));const v=u.charCodeAt(u.length-1),x=Y5(r.after.charCodeAt(0),v,i);x.inside&&(u=u.slice(0,-1)+Z0(v));const O=a.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:x.outside,before:g.outside},s+u+O}function bIe(t,e,n){return n.options.strong||"*"}function wIe(t,e,n,r){return n.safe(t.value,r)}function OIe(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function SIe(t,e,n){const r=(Ote(n)+(n.options.ruleSpaces?" ":"")).repeat(OIe(n));return n.options.ruleSpaces?r.slice(0,-1):r}const x8={blockquote:XRe,break:lZ,code:eIe,definition:nIe,emphasis:pte,hardBreak:lZ,heading:oIe,html:gte,image:yte,imageReference:vte,inlineCode:_te,link:bte,linkReference:wte,list:pIe,listItem:gIe,paragraph:yIe,root:_Ie,strong:Ste,text:wIe,thematicBreak:SIe},CIe=[TIe];function TIe(t,e,n,r){if(e.type==="code"&&nz(e,r)&&(t.type==="list"||t.type===e.type&&nz(t,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return t.type==="paragraph"&&(t.type===e.type||e.type==="definition"||e.type==="heading"&&mte(e,r))?void 0:n.spread?1:0}const M_=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],kIe=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:M_},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:M_},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:M_},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:M_},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:M_},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:M_},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:M_},{atBreak:!0,character:"~"}];function EIe(t){return t.label||!t.identifier?t.label||"":fJ(t.identifier)}function AIe(t){if(!t._compiled){const e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}function PIe(t,e,n){const r=e.indexStack,i=t.children||[],o=[];let a=-1,s=n.before,u;r.push(-1);let d=e.createTracker(n);for(;++a<i.length;){const g=i[a];let v;if(r[r.length-1]=a,a+1<i.length){let E=e.handle.handlers[i[a+1].type];E&&E.peek&&(E=E.peek),v=E?E(i[a+1],t,e,{before:"",after:"",...d.current()}).charAt(0):""}else v=n.after;o.length>0&&(s==="\r"||s===`
`)&&g.type==="html"&&(o[o.length-1]=o[o.length-1].replace(/(\r?\n|\r)$/," "),s=" ",d=e.createTracker(n),d.move(o.join("")));let x=e.handle(g,t,e,{...d.current(),after:v,before:s});u&&u===x.slice(0,1)&&(x=Z0(u.charCodeAt(0))+x.slice(1));const O=e.attentionEncodeSurroundingInfo;e.attentionEncodeSurroundingInfo=void 0,u=void 0,O&&(o.length>0&&O.before&&s===o[o.length-1].slice(-1)&&(o[o.length-1]=o[o.length-1].slice(0,-1)+Z0(s.charCodeAt(0))),O.after&&(u=v)),d.move(x),o.push(x),s=x.slice(-1)}return r.pop(),o.join("")}function MIe(t,e,n){const r=e.indexStack,i=t.children||[],o=e.createTracker(n),a=[];let s=-1;for(r.push(-1);++s<i.length;){const u=i[s];r[r.length-1]=s,a.push(o.move(e.handle(u,t,e,{before:`
`,after:`
`,...o.current()}))),u.type!=="list"&&(e.bulletLastUsed=void 0),s<i.length-1&&a.push(o.move(RIe(u,i[s+1],t,e)))}return r.pop(),a.join("")}function RIe(t,e,n,r){let i=r.join.length;for(;i--;){const o=r.join[i](t,e,n,r);if(o===!0||o===1)break;if(typeof o=="number")return`
`.repeat(1+o);if(o===!1)return`

<!---->

`}return`

`}const IIe=/\r?\n|\r/g;function DIe(t,e){const n=[];let r=0,i=0,o;for(;o=IIe.exec(t);)a(t.slice(r,o.index)),n.push(o[0]),r=o.index+o[0].length,i++;return a(t.slice(r)),n.join("");function a(s){n.push(e(s,i,!s))}}function LIe(t,e,n){const r=(n.before||"")+(e||"")+(n.after||""),i=[],o=[],a={};let s=-1;for(;++s<t.unsafe.length;){const g=t.unsafe[s];if(!fte(t.stack,g))continue;const v=t.compilePattern(g);let x;for(;x=v.exec(r);){const O="before"in g||!!g.atBreak,E="after"in g,A=x.index+(O?x[1].length:0);i.includes(A)?(a[A].before&&!O&&(a[A].before=!1),a[A].after&&!E&&(a[A].after=!1)):(i.push(A),a[A]={before:O,after:E})}}i.sort($Ie);let u=n.before?n.before.length:0;const d=r.length-(n.after?n.after.length:0);for(s=-1;++s<i.length;){const g=i[s];g<u||g>=d||g+1<d&&i[s+1]===g+1&&a[g].after&&!a[g+1].before&&!a[g+1].after||i[s-1]===g-1&&a[g].before&&!a[g-1].before&&!a[g-1].after||(u!==g&&o.push(cZ(r.slice(u,g),"\\")),u=g,/[!-/:-@[-`{-~]/.test(r.charAt(g))&&(!n.encode||!n.encode.includes(r.charAt(g)))?o.push("\\"):(o.push(Z0(r.charCodeAt(g))),u++))}return o.push(cZ(r.slice(u,d),n.after)),o.join("")}function $Ie(t,e){return t-e}function cZ(t,e){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],o=t+e;let a=-1,s=0,u;for(;u=n.exec(o);)r.push(u.index);for(;++a<r.length;)s!==r[a]&&i.push(t.slice(s,r[a])),i.push("\\"),s=r[a];return i.push(t.slice(s)),i.join("")}function zIe(t){const e=t||{},n=e.now||{};let r=e.lineShift||0,i=n.line||1,o=n.column||1;return{move:u,current:a,shift:s};function a(){return{now:{line:i,column:o},lineShift:r}}function s(d){r+=d}function u(d){const g=d||"",v=g.split(/\r?\n|\r/g),x=v[v.length-1];return i+=v.length-1,o=v.length===1?o+x.length:1+x.length+r,g}}function Cte(t,e){const n=e||{},r={associationId:EIe,containerPhrasing:jIe,containerFlow:VIe,createTracker:zIe,compilePattern:AIe,enter:o,handlers:{...x8},handle:void 0,indentLines:DIe,indexStack:[],join:[...CIe],options:{},safe:QIe,stack:[],unsafe:[...kIe]};dte(r,n),r.options.tightDefinitions&&r.join.push(FIe),r.handle=WRe("type",{invalid:NIe,unknown:BIe,handlers:r.handlers});let i=r.handle(t,void 0,r,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return i&&i.charCodeAt(i.length-1)!==10&&i.charCodeAt(i.length-1)!==13&&(i+=`
`),i;function o(a){return r.stack.push(a),s;function s(){r.stack.pop()}}}function NIe(t){throw new Error("Cannot handle value `"+t+"`, expected node")}function BIe(t){const e=t;throw new Error("Cannot handle unknown node `"+e.type+"`")}function FIe(t,e){if(t.type==="definition"&&t.type===e.type)return 0}function jIe(t,e){return PIe(t,this,e)}function VIe(t,e){return MIe(t,this,e)}function QIe(t,e){return LIe(this,t,e)}const UIe=["mdxJsxTextElement","mdxJsxFlowElement"];function Tte(t){return UIe.includes(t.type)&&ZIe.includes(t.name.toLowerCase())}const ZIe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","input","ins","kbd","label","legend","li","link","main","map","mark","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function qIe(t,e){const n=uZ(t),r=uZ(e),i={...n,...r};return WIe(i)}function uZ(t){const e={};return t.split(";").filter(r=>r.trim()!=="").forEach(r=>{const[i,o]=r.split(":").map(a=>a.trim());e[i]=o}),e}function WIe(t){return Object.entries(t).map(([e,n])=>`${e}: ${n}`).join("; ")}function HIe(t){return t.children instanceof Array}function b8({root:t,visitors:e,jsxComponentDescriptors:n,jsxIsAvailable:r,addImportStatements:i=!0}){let o=null;const a=new Set,s=new Map;e=e.sort((L,$)=>($.priority??0)-(L.priority??0)),v(t,null);function u(L,$){a.add(L),$&&s.set(L,{...$})}function d(L,$){if(o===null)return o=$,o;if(!HIe(L))throw new Error("Attempting to append children to a non-parent");const N=L.children,F=N.at(-1);if(F){const U=e.find(q=>{var W;return(W=q.shouldJoin)==null?void 0:W.call(q,F,$)});if(U){const q=U.join(F,$);return N.splice(N.length-1,1,q),q}}return N.push($),$}function g(L,$){L.getChildren().forEach(N=>{v(N,$)})}function v(L,$,N=null){var F;const U=e.find((q,W)=>{var te;return N?.has(W)?!1:(te=q.testLexicalNode)==null?void 0:te.call(q,L)});if(!U)throw new Error(`no lexical visitor found for ${L.getType()}`,{cause:L});(F=U.visitLexicalNode)==null||F.call(U,{lexicalNode:L,mdastParent:$,actions:{addAndStepInto(q,W={},te=!0){const re={type:q,...W,...te?{children:[]}:{}};d($,re),It(L)&&te&&g(L,re)},appendToParent:d,visitChildren:g,visit:v,registerReferredComponent:u,nextVisitor(){v(L,$,(N??new Set).add(e.indexOf(U)))}}})}if(o===null)throw new Error("traversal ended with no root element");const x=new Map,O=new Map;for(const L of a){const $=n.find(N=>N.name===L)??s.get(L)??n.find(N=>N.name==="*");if(!$)throw new Error(`Component ${L} is used but not imported`);if($.source)if($.defaultExport)O.set(L,$.source);else{const{source:N}=$,F=x.get(N);F?F.push(L):x.set(N,[L])}}if(!i){for(const[L,$]of x.entries()){const N=$.filter(F=>s.has(F));N.length>0?x.set(L,N):x.delete(L)}for(const L of O.keys())s.has(L)||O.delete(L)}const E=Array.from(x).map(([L,$])=>({type:"mdxjsEsm",value:`import { ${$.join(", ")} } from '${L}'`}));E.push(...Array.from(O).map(([L,$])=>({type:"mdxjsEsm",value:`import ${L} from '${$}'`})));const A=o,M=A.children.find(L=>L.type==="yaml");return M?A.children.splice(A.children.indexOf(M)+1,0,...E):A.children.unshift(...E),VP(A,[]),kte(A),r||Ete(A),A}function kte(t){if("children"in t&&t.children.length>0){if(Tte(t)&&t.children.length===1){const e=t.children[0];e.type==="mdxJsxTextElement"&&e.name==="span"&&(e.attributes.forEach(n=>{if(n.type==="mdxJsxAttribute"){const r=t.attributes.find(i=>i.type==="mdxJsxAttribute"&&i.name===n.name);if(r)if(n.name==="className"){const i=new Set([...r.value.split(" "),...n.value.split(" ")]);r.value=Array.from(i).join(" ")}else n.name==="style"&&(r.value=qIe(r.value,n.value));else t.attributes.push(n)}}),t.children=e.children)}t.children.forEach(e=>{kte(e)})}}function Ete(t){if(Object.hasOwn(t,"children")){const e=t,n=[];e.children.forEach(r=>{r.type==="mdxJsxTextElement"&&r.name==="u"?n.push({type:"html",value:"<u>"},...r.children,{type:"html",value:"</u>"}):(n.push(r),Ete(r))}),e.children=n}}const hZ=/\s+$/,dZ=/^\s+/;function VP(t,e){if(t.type==="strong"||t.type==="emphasis"){const n=t.children.at(-1);if(n?.type==="text"){const i=hZ.exec(n.value);if(i){n.value=n.value.replace(hZ,"");const o=e.at(-1);o&&(o.children.splice(o.children.indexOf(t)+1,0,{type:"text",value:i[0]}),VP(o,e.slice(0,-1)))}}const r=t.children.at(0);if(r?.type==="text"){const i=dZ.exec(r.value);if(i){r.value=r.value.replace(dZ,"");const o=e.at(-1);o&&(o.children.splice(o.children.indexOf(t),0,{type:"text",value:i[0]}),VP(o,e.slice(0,-1)))}}}if("children"in t&&t.children.length>0){const n=t;n.children.forEach(r=>{VP(r,[...e,n])})}}function GIe({root:t,toMarkdownOptions:e,toMarkdownExtensions:n,visitors:r,jsxComponentDescriptors:i,jsxIsAvailable:o}){return Cte(b8({root:t,visitors:r,jsxComponentDescriptors:i,jsxIsAvailable:o}),{extensions:n,...e})+`
`}function $2(t){return t.children instanceof Array}class rz extends Error{constructor(e,n){super(e),this.name="MarkdownParseError",this.cause=n}}class iz extends Error{constructor(e){super(e),this.name="UnrecognizedMarkdownConstructError"}}function XIe(t){const e=new Map;return t.type!=="root"?{importDeclarations:{}}:(t.children.filter(r=>r.type==="mdxjsEsm").filter(r=>r.value.startsWith("import ")).forEach(r=>{var i,o;(((o=(i=r.data)==null?void 0:i.estree)==null?void 0:o.body)??[]).forEach(a=>{a.type==="ImportDeclaration"&&a.specifiers.forEach(s=>{e.set(s.local.name,{source:`${a.source.value}`,defaultExport:s.type==="ImportDefaultSpecifier"})})})}),{importDeclarations:Object.fromEntries(e.entries())})}function YIe({root:t,markdown:e,visitors:n,syntaxExtensions:r,mdastExtensions:i,...o}){var a;let s;try{s=mJ(e,{extensions:r,mdastExtensions:i})}catch(u){throw u instanceof Error?new rz(`Error parsing markdown: ${u.message}`,u):new rz(`Error parsing markdown: ${u}`,u)}s.children.length===0&&s.children.push({type:"paragraph",children:[]}),((a=s.children.at(-1))==null?void 0:a.type)!=="paragraph"&&s.children.push({type:"paragraph",children:[]}),w8({root:t,mdastRoot:s,visitors:n,...o})}function w8({root:t,mdastRoot:e,visitors:n,...r}){const i=new WeakMap,o=new WeakMap,a=XIe(e);n=n.sort((d,g)=>(g.priority??0)-(d.priority??0));function s(d,g){if(!$2(d))throw new Error("Attempting to visit children of a non-parent");d.children.forEach(v=>{u(v,g,d)})}function u(d,g,v,x=null){const O=n.find((E,A)=>x?.has(A)?!1:typeof E.testNode=="string"?E.testNode===d.type:E.testNode(d,r));if(!O)try{throw new iz(`Unsupported markdown syntax: ${Cte(d)}`)}catch{throw new iz(`Parsing of the following markdown structure failed: ${JSON.stringify({type:d.type,name:"name"in d?d.name:"N/A"})}`)}O.visitNode({mdastNode:d,lexicalParent:g,mdastParent:v,descriptors:r,metaData:a,actions:{visitChildren:s,nextVisitor(){u(d,g,v,(x??new Set).add(n.indexOf(O)))},addAndStepInto(E){g.append(E),$2(d)&&s(d,E)},addFormatting(E,A){A||$2(d)&&(A=d),A&&i.set(A,E|(i.get(v)??0))},removeFormatting(E,A){A||$2(d)&&(A=d),A&&i.set(A,E^(i.get(v)??0))},getParentFormatting(){return i.get(v)??0},addStyle(E,A){A||$2(d)&&(A=d),A&&o.set(A,E)},getParentStyle(){return o.get(v)??""}}})}u(e,t,null)}var KIe=Object.defineProperty,JIe=(t,e,n)=>e in t?KIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,V3=(t,e,n)=>(JIe(t,typeof e!="symbol"?e+"":e,n),n);const fZ="generic-html";class Pk extends uu{constructor(e,n,r,i){super(i),V3(this,"__tag"),V3(this,"__nodeType"),V3(this,"__attributes"),this.__tag=e,this.__nodeType=n,this.__attributes=r}static getType(){return fZ}static clone(e){return new Pk(e.__tag,e.__nodeType,e.__attributes,e.__key)}getTag(){return this.__tag}getNodeType(){return this.__nodeType}getAttributes(){return this.__attributes}updateAttributes(e){const n=this.getWritable();n.__attributes=e}getStyle(){var e;return(e=this.__attributes.find(n=>n.name==="style"))==null?void 0:e.value}createDOM(){const e=this.__tag,n=document.createElement(e);return this.__attributes.forEach(r=>{n.setAttribute(r.name,r.value)}),n}updateDOM(){return!1}static importDOM(){return{}}exportDOM(e){const{element:n}=super.exportDOM(e);return{element:n}}static importJSON(e){const n=Ate(e.tag,e.mdxType,e.attributes);return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportJSON(){return{...super.exportJSON(),tag:this.getTag(),attributes:this.__attributes,mdxType:this.__nodeType,type:fZ,version:1}}extractWithChild(){return!0}isInline(){return this.__nodeType==="mdxJsxTextElement"}}function Ate(t,e,n){return hh(new Pk(t,e,n))}function eDe(t){return t instanceof Pk}const tDe={testLexicalNode:eDe,visitLexicalNode({actions:t,lexicalNode:e}){t.addAndStepInto("mdxJsxTextElement",{name:e.getTag(),type:e.getNodeType(),attributes:e.getAttributes()})},priority:-100},nDe={testLexicalNode:wf,visitLexicalNode:({mdastParent:t,actions:e})=>{e.appendToParent(t,{type:"text",value:`
`})}},rDe={testLexicalNode:KR,visitLexicalNode:({actions:t})=>{t.addAndStepInto("paragraph")}},iDe={testLexicalNode:Ks,visitLexicalNode:({actions:t})=>{t.addAndStepInto("root")}},PC=1,MC=2,QP=4,RC=8,hI=16,UP=32,ZP=64,qP=128;function pZ(t){return t.type==="text"}const oDe=["u","span","sub","sup"],sDe={shouldJoin:(t,e)=>{if(["text","emphasis","strong","highlight"].includes(t.type))return t.type===e.type;if(t.type==="mdxJsxTextElement"&&e.type==="mdxJsxTextElement"&&oDe.includes(e.name)){const n=e;return t.name===n.name&&JSON.stringify(t.attributes)===JSON.stringify(n.attributes)}return!1},join(t,e){return pZ(t)&&pZ(e)?{type:"text",value:t.value+e.value}:{...t,children:[...t.children,...e.children]}},testLexicalNode:pn,visitLexicalNode:({lexicalNode:t,mdastParent:e,actions:n})=>{const r=t.getPreviousSibling(),i=pn(r)?r.getFormat():0,o=t.getTextContent(),a=t.getFormat(),s=t.getStyle();let u=e;if(s&&(u=n.appendToParent(u,{type:"mdxJsxTextElement",name:"span",children:[],attributes:[{type:"mdxJsxAttribute",name:"style",value:s}]})),i&a&RC&&(u=n.appendToParent(u,{type:"mdxJsxTextElement",name:"u",children:[],attributes:[]})),i&a&ZP&&(u=n.appendToParent(u,{type:"mdxJsxTextElement",name:"sup",children:[],attributes:[]})),i&a&UP&&(u=n.appendToParent(u,{type:"mdxJsxTextElement",name:"sub",children:[],attributes:[]})),i&a&MC&&(u=n.appendToParent(u,{type:"emphasis",children:[]})),i&a&PC&&(u=n.appendToParent(u,{type:"strong",children:[]})),i&a&QP&&(u=n.appendToParent(u,{type:"delete",children:[]})),i&a&qP&&(u=n.appendToParent(u,{type:"highlight",children:[]})),a&RC&&!(i&RC)&&(u=n.appendToParent(u,{type:"mdxJsxTextElement",name:"u",children:[],attributes:[]})),a&ZP&&!(i&ZP)&&(u=n.appendToParent(u,{type:"mdxJsxTextElement",name:"sup",children:[],attributes:[]})),a&UP&&!(i&UP)&&(u=n.appendToParent(u,{type:"mdxJsxTextElement",name:"sub",children:[],attributes:[]})),a&MC&&!(i&MC)&&(u=n.appendToParent(u,{type:"emphasis",children:[]})),a&PC&&!(i&PC)&&(u=n.appendToParent(u,{type:"strong",children:[]})),a&QP&&!(i&QP)&&(u=n.appendToParent(u,{type:"delete",children:[]})),a&qP&&!(i&qP)&&(u=n.appendToParent(u,{type:"highlight",children:[]})),a&hI){n.appendToParent(u,{type:"inlineCode",value:o});return}n.appendToParent(u,{type:"text",value:o})}},aDe={testNode:"break",visitNode:function({lexicalParent:t}){t.append(Tf())}};function MA(t,e){return[{testNode:n=>n.type==="mdxJsxTextElement"&&n.name===t,visitNode({actions:n,mdastNode:r,lexicalParent:i}){n.addFormatting(e),n.visitChildren(r,i)}},{testNode:n=>n.type==="html"&&n.value===`<${t}>`,visitNode({actions:n,mdastParent:r}){n.addFormatting(e,r)}},{testNode:n=>n.type==="html"&&n.value===`</${t}>`,visitNode({actions:n,mdastParent:r}){n.removeFormatting(e,r)}}]}const lDe={testNode:"delete",visitNode({mdastNode:t,actions:e,lexicalParent:n}){e.addFormatting(QP),e.visitChildren(t,n)}},cDe={testNode:"highlight",visitNode({mdastNode:t,actions:e,lexicalParent:n}){e.addFormatting(qP),e.visitChildren(t,n)}},uDe={testNode:"inlineCode",visitNode({mdastNode:t,actions:e}){e.addAndStepInto(to(t.value).setFormat(e.getParentFormatting()|hI))}},hDe={testNode:"emphasis",visitNode({mdastNode:t,actions:e,lexicalParent:n}){e.addFormatting(MC),e.visitChildren(t,n)}},dDe={testNode:"strong",visitNode({mdastNode:t,actions:e,lexicalParent:n}){e.addFormatting(PC),e.visitChildren(t,n)}},fDe=[hDe,dDe,...MA("u",RC),...MA("code",hI),uDe,lDe,cDe,...MA("sup",ZP),...MA("sub",UP)],pDe={testNode:Tte,visitNode:function({mdastNode:t,actions:e,lexicalParent:n}){t.name==="span"&&t.attributes.length===1&&t.attributes[0].type==="mdxJsxAttribute"&&t.attributes[0].name==="style"?(e.addStyle(t.attributes[0].value,t),e.visitChildren(t,n)):e.addAndStepInto(Ate(t.name,t.type,t.attributes))},priority:-100},mDe=["listitem","quote","admonition"],gDe={testNode:"paragraph",visitNode:function({mdastNode:t,lexicalParent:e,actions:n}){mDe.includes(e.getType())?n.visitChildren(t,e):n.addAndStepInto(yi())}},yDe={testNode:"root",visitNode({actions:t,mdastNode:e,lexicalParent:n}){t.visitChildren(e,n)}},vDe={testNode:"text",visitNode({mdastNode:t,actions:e}){const n=to(t.value);n.setFormat(e.getParentFormatting());const r=e.getParentStyle();r!==""&&n.setStyle(r),e.addAndStepInto(n)}},Pte=()=>ae.createElement(Zee,{externalHistoryState:Ms(QDe)});function _De(t){return{canContainEols:["comment"],enter:{comment(e){this.buffer()}},exit:{comment(e){this.resume()}}}}const mZ=(t,e,n)=>{return r;function r(E){return t.enter("comment"),t.consume(E),i}function i(E){return E===Ml.exclamationMark?(t.consume(E),o):n(E)}function o(E){return E===Ml.dash?(t.consume(E),a):n(E)}function a(E){return E===Ml.dash?(t.consume(E),s):n(E)}function s(E){return E===Ml.greaterThan?n(E):kn(E)?g(E):(t.enter(Dg.data),E===Ml.dash?(t.consume(E),u):d(E))}function u(E){return E===Ml.greaterThan?n(E):d(E)}function d(E){return E===Ml.eof?n(E):E===Ml.dash?(t.consume(E),x):kn(E)?(t.exit(Dg.data),g(E)):(t.consume(E),d)}function g(E){return t.enter(Dg.lineEnding),t.consume(E),t.exit(Dg.lineEnding),Tr(t,v,Dg.linePrefix)}function v(E){return kn(E)?g(E):(t.enter(Dg.data),d(E))}function x(E){return E===Ml.dash?(t.consume(E),O):d(E)}function O(E){return E===Ml.greaterThan?(t.exit(Dg.data),t.enter("commentEnd"),t.consume(E),t.exit("commentEnd"),t.exit("comment"),e(E)):E===Ml.dash?(t.consume(E),O):d(E)}},xDe={flow:{60:{tokenize:mZ,concrete:!0}},text:{60:{tokenize:mZ}}},bDe="_bold_1tncs_10",wDe="_italic_1tncs_14",ODe="_underline_1tncs_18",SDe="_strikethrough_1tncs_34",CDe="_underlineStrikethrough_1tncs_38",TDe="_subscript_1tncs_42",kDe="_superscript_1tncs_47",EDe="_code_1tncs_52",ADe="_nestedListItem_1tncs_59",PDe="_listitem_1tncs_69",MDe="_listItemChecked_1tncs_73",RDe="_listItemUnchecked_1tncs_74",IDe="_admonitionDanger_1tncs_151",DDe="_admonitionInfo_1tncs_152",LDe="_admonitionNote_1tncs_153",$De="_admonitionTip_1tncs_154",zDe="_admonitionCaution_1tncs_155",Ja={bold:bDe,italic:wDe,underline:ODe,strikethrough:SDe,underlineStrikethrough:CDe,subscript:TDe,superscript:kDe,code:EDe,nestedListItem:ADe,listitem:PDe,listItemChecked:MDe,listItemUnchecked:RDe,admonitionDanger:IDe,admonitionInfo:DDe,admonitionNote:LDe,admonitionTip:$De,admonitionCaution:zDe},dI={text:{bold:Ja.bold,italic:Ja.italic,underline:Ja.underline,code:Ja.code,strikethrough:Ja.strikethrough,subscript:Ja.subscript,superscript:Ja.superscript,underlineStrikethrough:Ja.underlineStrikethrough},list:{listitem:Ja.listitem,listitemChecked:Ja.listItemChecked,listitemUnchecked:Ja.listItemUnchecked,nested:{listitem:Ja.nestedListItem}},admonition:{danger:Ja.admonitionDanger,info:Ja.admonitionInfo,note:Ja.admonitionNote,tip:Ja.admonitionTip,caution:Ja.admonitionCaution}},kx=nr("NESTED_EDITOR_UPDATED_COMMAND"),pd=Pn(null),Vo=Pn(null),oz=Pn(""),sz=Pn(!0),cl=Pn(!1,t=>{t.sub(t.pipe(cl,jo(pd)),([e,n])=>{n?.setEditable(!e)})}),az=Pn(""),gZ=Pn(!1),mT=Pn(!1),O8=Pn(0),gT=Pn(null),lz=Ss(t=>{t.link(t.pipe(gT,yk(e=>e!==null)),lz)}),S8=Ss(t=>{t.sub(t.pipe(S8,jo(Vo)),([e,n])=>{n?.dispatchCommand(jg,e)})}),Yw=Pn(null,t=>{t.sub(t.pipe(Yw,jo(Vo)),([e,n])=>{if(!e||!n)return;const r=e.anchor.getNode();let i=r.getKey()==="root"?r:Of(r,s=>{const u=s.getParent();return u!==null&&ea(u)});i??(i=r.getTopLevelElementOrThrow());const o=i.getKey();if(n.getElementByKey(o)!==null){const s=Xw(i)?i.getTag():i.getType();t.pub(Ute,s)}})}),Mte=Pn(""),mm=Pn(""),K5=Pn(!1),fI=Ss(t=>{t.link(mm,fI),t.sub(Mte,e=>{t.pubIn({[K5]:!0,[mm]:e})})}),cz=Ss(t=>{t.link(t.pipe(fI,jo(uz),yk(([,e])=>!e),Yg(([e])=>e)),cz)},!0),pI=Pn([]),mI=Pn([]),Rte=Pn([]),Ite=Pn([]),Mk=Pn([]),C8=Pn([]),J5=Pn({}),gI=Pn(!1),Rk=Pn([]),Kw=Pn([]),UO=Pn([]),lv=Pn(null),NDe=Pn(null),Dte=Pn(null),Lf=vc(mI),ud=vc(pI),Jw=vc(Rte),eO=vc(Ite),$f=vc(Mk),Ik=vc(C8),uz=Pn(!1),T8=Ss(t=>{t.sub(t.pipe(T8,jo(mm,pd,mT),yk(([e,n])=>e.trim()!==n.trim())),([e,,n,r])=>{t.pub(uz,!0),n?.update(()=>{Br().clear(),E8(t,Br(),e),r?n.focus():ss(null)},{onUpdate:()=>{t.pub(uz,!1)}})})}),Lte=Ss(t=>{t.sub(t.pipe(Lte,jo(Vo,mT)),([e,n,r])=>{n?.update(()=>{const i=an();if(i!==null){const o={children:[],append(a){this.children.push(a)},getType(){return i.getNodes()[0].getType()}};E8(t,o,e),FO(o.children)}r?n.focus():ss(null)})})});function $te(){return AJ((t,[e,n])=>(t.forEach(r=>{if(!r)throw new Error("You have a subscription that does not return a teardown");r()}),n?e.map(r=>r(n)):[]),[])}const BDe=Pn(null),zte=Pn([],t=>{t.pipe(t.combine(zte,Vo),$te())}),Nte=Pn([],t=>{t.pipe(t.combine(Nte,pd),$te())}),k8=Pn(null,$0,(t,e)=>!!(t&&e&&t.editorRef===e.editorRef)),yT=Ss(),oa=Pn(t=>{throw new Error(`No icon component for ${t}`)});function vc(t,e){return Ss((n,r)=>{n.changeWith(t,r,(i,o)=>{Array.isArray(o)||(o=[o]);let a=i;for(const s of o)i.includes(s)||(a=[...a,s]);return a}),e?.(n,r)})}function Bte(t){const e=an();Xt(e)&&t.pubIn({[Yw]:e,[O8]:e.format})}const yI=vc(Nte,(t,e)=>{t.pub(e,[n=>n.registerCommand(vk,(r,i)=>(t.pubIn({[Vo]:i,[mT]:!0}),i._parentEditor===null&&i.getEditorState().read(()=>{t.pub(k8,{rootNode:Br(),editorType:"lexical",editorRef:i})}),Bte(t),!1),ch),n=>n.registerUpdateListener(({dirtyElements:r,dirtyLeaves:i,editorState:o})=>{if(t.getValue(gT)!==null||r.size===0&&i.size===0)return;let s;o.read(()=>{Br().getLastChild()instanceof uy&&n.update(()=>{Br().append(yi())},{discrete:!0}),s=GIe({root:Br(),visitors:t.getValue(Mk),jsxComponentDescriptors:t.getValue(Rk),toMarkdownExtensions:t.getValue(C8),toMarkdownOptions:t.getValue(J5),jsxIsAvailable:t.getValue(gI)})}),t.pub(mm,s.trim()),t.pub(K5,!1)}),n=>n.registerCommand(qR,()=>(t.pub(mT,!0),!1),ch)])}),vT=vc(zte,(t,e)=>{t.pub(e,[n=>n.registerUpdateListener(({editorState:r})=>{r.read(()=>{Bte(t)})}),n=>n.registerCommand(WR,r=>{var i;const o=t.getValue(pd);return o&&!((i=o.getRootElement())!=null&&i.contains(r.relatedTarget))&&t.pubIn({[mT]:!1,[yT]:r}),!1},ch)])});function E8(t,e,n){try{YIe({root:e,visitors:t.getValue(pI),mdastExtensions:t.getValue(Ite),markdown:n,syntaxExtensions:t.getValue(Rte),jsxComponentDescriptors:t.getValue(Rk),directiveDescriptors:t.getValue(Kw),codeBlockEditorDescriptors:t.getValue(UO)}),t.pub(gT,null)}catch(r){if(r instanceof rz||r instanceof iz)t.pubIn({[mm]:n,[gT]:{error:r.message,source:n}});else throw r}}const Fte=Pn([]),Hx=vc(Fte),jte=Pn([]),FDe=vc(jte),Vte=Pn([]),jDe=vc(Vte),Qte=Pn([]),VDe=vc(Qte),A8=Pn([]),P8=vc(A8),QDe=Pn(Uee()),Ute=Pn("");Ss();const eM=Ss(t=>{t.sub(t.pipe(eM,jo(Vo)),([e,n])=>{n?.update(()=>{const r=an();Xt(r)&&(aMe(r,e),setTimeout(()=>{n.focus()}))})})}),vI=Ss(t=>{t.sub(t.pipe(vI,jo(Vo)),([e,n])=>{n?.focus(()=>{n.getEditorState().read(()=>{const r=an();Xt(r)&&(n.update(()=>{const i=e();i.isInline()?(FO([i]),ea(i.getParentOrThrow())&&y8(i,yi).selectEnd()):Qee(i),setTimeout(()=>{"select"in i&&typeof i.select=="function"&&i.select()})}),setTimeout(()=>{n.dispatchCommand(kx,void 0)}))})},{defaultSelection:"rootEnd"})})}),Ex=Pn("rich-text",t=>{function e(){return AJ((n,r)=>({current:n.next,next:r}),{current:"rich-text",next:"rich-text"})}t.sub(t.pipe(Ex,e(),jo(Ax)),([{current:n},r])=>{(n==="source"||n==="diff")&&t.pub(T8,r)}),t.sub(t.pipe(Ex,e(),yk(n=>n.current==="rich-text"),jo(Vo)),([,n])=>{n?.dispatchCommand(kx,void 0)})}),Ax=Pn("",t=>{t.link(mm,Ax),t.link(Ax,fI)},!0),M8=Pn([]),ZO=vc(M8),Zte=Pn(()=>{throw new Error("No translation function provided")}),tM=Pn(dI),UDe=Nl({init(t,e){const n=e?.initialMarkdown??"";t.register(yI),t.register(vT),t.register(fI),t.register(Ax),t.pubIn({[Mte]:e?.trim?n.trim():n,[oa]:e?.iconComponentFor,[ud]:[yDe,gDe,vDe,aDe,...fDe],[Lf]:[jO,bm,Pk],[$f]:[iDe,rDe,sDe,nDe,tDe],[oz]:e?.contentEditableClassName,[sz]:e?.spellCheck,[J5]:e?.toMarkdownOptions,[gZ]:e?.autoFocus,[az]:e?.placeholder,[cl]:e?.readOnly,[Zte]:e?.translation,[eO]:[VMe(),HMe],[Jw]:[FMe(),kRe()],[Ik]:[pRe(),QMe(),YMe],[tM]:e?.lexicalTheme??dI}),t.singletonSub(lz,e?.onError),t.singletonSub(cz,r=>{e?.onChange(r,t.getValue(K5))}),t.singletonSub(yT,e?.onBlur),e?.suppressHtmlProcessing||t.pubIn({[eO]:[fRe(),_De()],[Jw]:[ZRe(),qRe(),xDe],[ud]:pDe}),e?.suppressSharedHistory||t.pub(Hx,Pte)},postInit(t,e){const n=t8({editable:e?.readOnly!==!0,namespace:e?.lexicalEditorNamespace??"MDXEditor",nodes:[...t.getValue(mI),...e?.additionalLexicalNodes??[]],onError:r=>{throw r},theme:t.getValue(tM)});e?.editorState!==null&&n.update(()=>{const r=e?.initialMarkdown.trim()??"";E8(t,Br(),r);const i=e?.autoFocus;if(i){if(i===!0){setTimeout(()=>{n.focus($0,{defaultSelection:"rootStart"})});return}setTimeout(()=>{n.focus($0,{defaultSelection:i.defaultSelection??"rootStart"})})}}),t.pub(pd,n),t.pub(Vo,n)},update(t,e){t.pubIn({[oz]:e?.contentEditableClassName,[sz]:e?.spellCheck,[J5]:e?.toMarkdownOptions,[gZ]:e?.autoFocus,[az]:e?.placeholder,[cl]:e?.readOnly}),t.singletonSub(cz,n=>{e?.onChange(n,t.getValue(K5))}),t.singletonSub(yT,e?.onBlur),t.singletonSub(lz,e?.onError)}});function Ds(){return Ms(Zte)}function ZDe(){return Br().getTextContent()}function qDe(t,e=!0){if(t)return!1;let n=ZDe();return e&&(n=n.trim()),n===""}function WDe(t){if(!qDe(t,!1))return!1;const e=Br().getChildren(),n=e.length;if(n>1)return!1;for(let r=0;r<n;r++){const i=e[r];if(wi(i))return!1;if(It(i)){if(!KR(i)||i.__indent!==0)return!1;const o=i.getChildren(),a=o.length;for(let s=0;s<a;s++){const u=o[r];if(!pn(u))return!1}}}return!0}function qte(t){return()=>WDe(t)}const Wte=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?j.useLayoutEffect:j.useEffect;function HDe({editor:t,ariaActiveDescendant:e,ariaAutoComplete:n,ariaControls:r,ariaDescribedBy:i,ariaErrorMessage:o,ariaExpanded:a,ariaInvalid:s,ariaLabel:u,ariaLabelledBy:d,ariaMultiline:g,ariaOwns:v,ariaRequired:x,autoCapitalize:O,className:E,id:A,role:M="textbox",spellCheck:L=!0,style:$,tabIndex:N,"data-testid":F,...U},q){const[W,te]=j.useState(t.isEditable()),re=j.useCallback((be=>{be&&be.ownerDocument&&be.ownerDocument.defaultView?t.setRootElement(be):t.setRootElement(null)}),[t]),ce=j.useMemo((()=>(function(...be){return ie=>{be.forEach((me=>{typeof me=="function"?me(ie):me!=null&&(me.current=ie)}))}})(q,re)),[re,q]);return Wte((()=>(te(t.isEditable()),t.registerEditableListener((be=>{te(be)})))),[t]),Y.jsx("div",{"aria-activedescendant":W?e:void 0,"aria-autocomplete":W?n:"none","aria-controls":W?r:void 0,"aria-describedby":i,...o!=null?{"aria-errormessage":o}:{},"aria-expanded":W&&M==="combobox"?!!a:void 0,...s!=null?{"aria-invalid":s}:{},"aria-label":u,"aria-labelledby":d,"aria-multiline":g,"aria-owns":W?v:void 0,"aria-readonly":!W||void 0,"aria-required":x,autoCapitalize:O,className:E,contentEditable:W,"data-testid":F,id:A,ref:ce,role:M,spellCheck:L,style:$,tabIndex:N,...U})}const GDe=j.forwardRef(HDe);function yZ(t){return t.getEditorState().read(qte(t.isComposing()))}const R8=j.forwardRef(XDe);function XDe(t,e){const{placeholder:n,...r}=t,[i]=Bl();return Y.jsxs(Y.Fragment,{children:[Y.jsx(GDe,{editor:i,...r,ref:e}),n!=null&&Y.jsx(YDe,{editor:i,content:n})]})}function YDe({content:t,editor:e}){const n=(function(a){const[s,u]=j.useState((()=>yZ(a)));return Wte((()=>{function d(){const g=yZ(a);u(g)}return d(),Fl(a.registerUpdateListener((()=>{d()})),a.registerEditableListener((()=>{d()})))}),[a]),s})(e),[r,i]=j.useState(e.isEditable());if(j.useLayoutEffect((()=>(i(e.isEditable()),e.registerEditableListener((a=>{i(a)})))),[e]),!n)return null;let o=null;return typeof t=="function"?o=t(r):t!==null&&(o=t),o===null?null:Y.jsx("div",{"aria-hidden":!0,children:o})}function hz(t,e){return hz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},hz(t,e)}var vZ={error:null},KDe=(function(t){var e,n;function r(){for(var o,a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];return(o=t.call.apply(t,[this].concat(s))||this).state=vZ,o.resetErrorBoundary=function(){for(var d,g=arguments.length,v=new Array(g),x=0;x<g;x++)v[x]=arguments[x];o.props.onReset==null||(d=o.props).onReset.apply(d,v),o.reset()},o}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,hz(e,n),r.getDerivedStateFromError=function(o){return{error:o}};var i=r.prototype;return i.reset=function(){this.setState(vZ)},i.componentDidCatch=function(o,a){var s,u;(s=(u=this.props).onError)==null||s.call(u,o,a)},i.componentDidUpdate=function(o,a){var s,u,d,g,v=this.state.error,x=this.props.resetKeys;v!==null&&a.error!==null&&((d=o.resetKeys)===void 0&&(d=[]),(g=x)===void 0&&(g=[]),d.length!==g.length||d.some((function(O,E){return!Object.is(O,g[E])})))&&((s=(u=this.props).onResetKeysChange)==null||s.call(u,o.resetKeys,x),this.reset())},i.render=function(){var o=this.state.error,a=this.props,s=a.fallbackRender,u=a.FallbackComponent,d=a.fallback;if(o!==null){var g={error:o,resetErrorBoundary:this.resetErrorBoundary};if(j.isValidElement(d))return d;if(typeof s=="function")return s(g);if(u)return j.createElement(u,g);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},r})(j.Component);function I8({children:t,onError:e}){return Y.jsx(KDe,{fallback:Y.jsx("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:e,children:t})}const JDe=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?j.useLayoutEffect:j.useEffect;function e3e(t){return{initialValueFn:()=>t.isEditable(),subscribe:e=>t.registerEditableListener(e)}}function t3e(){return(function(t){const[e]=Bl(),n=j.useMemo((()=>t(e)),[e,t]),[r,i]=j.useState((()=>n.initialValueFn())),o=j.useRef(r);return JDe((()=>{const{initialValueFn:a,subscribe:s}=n,u=a();return o.current!==u&&(o.current=u,i(u)),s((d=>{o.current=d,i(d)}))}),[n,t]),r})(e3e)}function n3e(t){const e=window.location.origin,n=r=>{if(r.origin!==e)return;const i=t.getRootElement();if(document.activeElement!==i)return;const o=r.data;if(typeof o=="string"){let a;try{a=JSON.parse(o)}catch{return}if(a&&a.protocol==="nuanria_messaging"&&a.type==="request"){const s=a.payload;if(s&&s.functionId==="makeChanges"){const u=s.args;if(u){const[d,g,v,x,O,E]=u;t.update((()=>{const A=an();if(Xt(A)){const M=A.anchor;let L=M.getNode(),$=0,N=0;if(pn(L)&&d>=0&&g>=0&&($=d,N=d+g,A.setTextNodeRange(L,$,L,N)),$===N&&v===""||(A.insertRawText(v),L=M.getNode()),pn(L)){$=x,N=x+O;const F=L.getTextContentSize();$=$>F?F:$,N=N>F?F:N,A.setTextNodeRange(L,$,L,N)}r.stopImmediatePropagation()}}))}}}}};return window.addEventListener("message",n,!0),()=>{window.removeEventListener("message",n,!0)}}const dz=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?j.useLayoutEffect:j.useEffect;function _Z(t){return t.getEditorState().read(qte(t.isComposing()))}function D8({contentEditable:t,placeholder:e=null,ErrorBoundary:n}){const[r]=Bl(),i=(function(o,a){const[s,u]=j.useState((()=>o.getDecorators()));return dz((()=>o.registerDecoratorListener((d=>{um.flushSync((()=>{u(d)}))}))),[o]),j.useEffect((()=>{u(o.getDecorators())}),[o]),j.useMemo((()=>{const d=[],g=Object.keys(s);for(let v=0;v<g.length;v++){const x=g[v],O=Y.jsx(a,{onError:A=>o._onError(A),children:Y.jsx(j.Suspense,{fallback:null,children:s[x]})}),E=o.getElementByKey(x);E!==null&&d.push(um.createPortal(O,E,x))}return d}),[a,s,o])})(r,n);return(function(o){dz((()=>Fl(BMe(o),n3e(o))),[o])})(r),Y.jsxs(Y.Fragment,{children:[t,Y.jsx(r3e,{content:e}),i]})}function r3e({content:t}){const[e]=Bl(),n=(function(i){const[o,a]=j.useState((()=>_Z(i)));return dz((()=>{function s(){const u=_Z(i);a(u)}return s(),Fl(i.registerUpdateListener((()=>{s()})),i.registerEditableListener((()=>{s()})))}),[i]),o})(e),r=t3e();return n?typeof t=="function"?t(r):t:null}var Q3={exports:{}};var xZ;function i3e(){return xZ||(xZ=1,(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",a=0;a<arguments.length;a++){var s=arguments[a];s&&(o=i(o,r(s)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var s in o)e.call(o,s)&&o[s]&&(a=i(a,s));return a}function i(o,a){return a?o?o+" "+a:o+a:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Q3)),Q3.exports}var o3e=i3e();const Yr=tv(o3e),s3e={undo:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M7.202 18.5V17H14.3788C15.4224 17 16.3205 16.6554 17.073 15.9663C17.8257 15.2773 18.202 14.4263 18.202 13.4135C18.202 12.4007 17.8257 11.5512 17.073 10.8652C16.3205 10.1794 15.4224 9.8365 14.3788 9.8365H7.35775L10.1402 12.6193L9.0865 13.673L4.5 9.0865L9.0865 4.5L10.1402 5.55375L7.35775 8.3365H14.3788C15.8416 8.3365 17.0945 8.82467 18.1375 9.801C19.1805 10.7773 19.702 11.9815 19.702 13.4135C19.702 14.8455 19.1805 16.0513 18.1375 17.0308C17.0945 18.0103 15.8416 18.5 14.3788 18.5H7.202Z",fill:"currentColor"})),redo:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M9.6211 18.5C8.15827 18.5 6.90535 18.0103 5.86235 17.0308C4.81935 16.0513 4.29785 14.8455 4.29785 13.4135C4.29785 11.9815 4.81935 10.7773 5.86235 9.801C6.90535 8.82467 8.15827 8.3365 9.6211 8.3365H16.6421L13.8596 5.55375L14.9134 4.5L19.4999 9.0865L14.9134 13.673L13.8596 12.6193L16.6421 9.8365H9.6211C8.57744 9.8365 7.67935 10.1794 6.92685 10.8652C6.17418 11.5512 5.79785 12.4007 5.79785 13.4135C5.79785 14.4263 6.17418 15.2773 6.92685 15.9663C7.67935 16.6554 8.57744 17 9.6211 17H16.7979V18.5H9.6211Z",fill:"currentColor"})),format_bold:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M7.33838 18.625V5.375H12.1999C13.219 5.375 14.1405 5.69233 14.9644 6.327C15.788 6.9615 16.1999 7.816 16.1999 8.8905C16.1999 9.63783 16.0194 10.2471 15.6584 10.7182C15.2975 11.1894 14.9088 11.5314 14.4921 11.7442C15.005 11.9211 15.4947 12.2708 15.9614 12.7933C16.428 13.3158 16.6614 14.0193 16.6614 14.9038C16.6614 16.1819 16.1902 17.1217 15.2479 17.723C14.3055 18.3243 13.3562 18.625 12.3999 18.625H7.33838ZM9.48838 16.6328H12.3191C13.1063 16.6328 13.6627 16.4142 13.9884 15.977C14.314 15.5398 14.4769 15.1206 14.4769 14.7192C14.4769 14.3179 14.314 13.8987 13.9884 13.4615C13.6627 13.0243 13.0909 12.8058 12.2729 12.8058H9.48838V16.6328ZM9.48838 10.875H12.0826C12.6903 10.875 13.172 10.7013 13.5279 10.3538C13.8835 10.0064 14.0614 9.59042 14.0614 9.10575C14.0614 8.59042 13.8733 8.16925 13.4971 7.84225C13.1208 7.51542 12.6595 7.352 12.1134 7.352H9.48838V10.875Z",fill:"currentColor"})),format_italic:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M5.39404 18.625V16.8173H9.21129L12.4518 7.18275H8.63454V5.375H17.7883V7.18275H14.2785L11.0383 16.8173H14.5478V18.625H5.39404Z",fill:"currentColor"})),format_underlined:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M5.34619 22.125V20.625H18.6537V22.125H5.34619ZM11.9999 18.5287C10.4448 18.5287 9.23102 18.0566 8.35869 17.1125C7.48619 16.1683 7.04994 14.9032 7.04994 13.3172V5.41345H8.90369V13.4095C8.90369 14.4198 9.17228 15.2295 9.70944 15.8385C10.2466 16.4475 11.0101 16.752 11.9999 16.752C12.9898 16.752 13.7533 16.4475 14.2904 15.8385C14.8276 15.2295 15.0962 14.4198 15.0962 13.4095V5.41345H16.9499V13.3172C16.9499 14.9032 16.5137 16.1683 15.6412 17.1125C14.7689 18.0566 13.5551 18.5287 11.9999 18.5287Z",fill:"currentColor"})),format_highlight:ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.75",strokeLinecap:"round",strokeLinejoin:"round"},ae.createElement("path",{d:"m9 11-6 6v3h9l3-3"}),ae.createElement("path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4"})),code:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M7.99994 17.6537L2.34619 11.9999L7.99994 6.34619L9.06919 7.41544L4.46919 12.0154L9.05369 16.5999L7.99994 17.6537ZM15.9999 17.6537L14.9307 16.5844L19.5307 11.9844L14.9462 7.39994L15.9999 6.34619L21.6537 11.9999L15.9999 17.6537Z",fill:"currentColor"})),strikeThrough:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M12.15 19.6923C10.9732 19.6923 9.9315 19.359 9.025 18.6923C8.11867 18.0256 7.45525 17.1128 7.03475 15.9538L8.6385 15.2635C8.91667 16.0444 9.3545 16.6867 9.952 17.1905C10.5493 17.6944 11.2923 17.9463 12.1808 17.9463C12.9578 17.9463 13.6744 17.7508 14.3307 17.3598C14.9872 16.9686 15.3155 16.3487 15.3155 15.5C15.3155 15.123 15.2555 14.7968 15.1355 14.5213C15.0157 14.2456 14.8462 13.9885 14.627 13.75H16.677C16.7987 13.9705 16.8932 14.2256 16.9605 14.5153C17.0278 14.8051 17.0615 15.1334 17.0615 15.5C17.0615 16.8372 16.5747 17.8702 15.601 18.599C14.6272 19.3279 13.4768 19.6923 12.15 19.6923ZM2.25 11.75V10.25H21.75V11.75H2.25ZM12.05 4.19629C13.0475 4.19629 13.9123 4.42704 14.6443 4.88854C15.3763 5.35004 15.9673 6.05896 16.4173 7.01529L14.823 7.73079C14.6218 7.26029 14.2978 6.84462 13.851 6.48379C13.4042 6.12279 12.8141 5.94229 12.0808 5.94229C11.2244 5.94229 10.5392 6.16221 10.025 6.60204C9.51083 7.04171 9.264 7.59104 9.2845 8.25004H7.5385C7.50133 7.16421 7.89783 6.21712 8.728 5.40879C9.558 4.60046 10.6653 4.19629 12.05 4.19629Z",fill:"currentColor"})),superscript:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M16.6924 8V6.2115C16.6924 5.95383 16.7786 5.73875 16.9511 5.56625C17.1235 5.39392 17.3385 5.30775 17.5961 5.30775H19.5001V4.38475H16.6924V3.5H19.4809C19.7385 3.5 19.9536 3.58625 20.1261 3.75875C20.2985 3.93108 20.3846 4.14617 20.3846 4.404V5.2885C20.3846 5.54617 20.2985 5.76125 20.1261 5.93375C19.9536 6.10608 19.7385 6.19225 19.4809 6.19225H17.5771V7.1155H20.3846V8H16.6924ZM4.44238 18.5L8.84638 11.6287L4.77713 5.30775H6.74438L9.95963 10.404H10.0214L13.2501 5.30775H15.2329L11.1194 11.6287L15.5579 18.5H13.5751L10.0214 12.9308H9.95963L6.42513 18.5H4.44238Z",fill:"currentColor"})),subscript:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M16.6924 20.5V18.7115C16.6924 18.4538 16.7786 18.2387 16.9511 18.0662C17.1235 17.8939 17.3385 17.8077 17.5961 17.8077H19.5001V16.8845H16.6924V16H19.4809C19.7385 16 19.9536 16.0863 20.1261 16.2587C20.2985 16.4311 20.3846 16.6461 20.3846 16.9038V17.7885C20.3846 18.0462 20.2985 18.2612 20.1261 18.4337C19.9536 18.6061 19.7385 18.6923 19.4809 18.6923H17.5771V19.6152H20.3846V20.5H16.6924ZM4.44238 18.6923L8.84638 11.8212L4.77713 5.5H6.74438L9.95963 10.5962H10.0214L13.2501 5.5H15.2329L11.1194 11.8212L15.5579 18.6923H13.5751L10.0214 13.123H9.95963L6.42513 18.6923H4.44238Z",fill:"currentColor"})),format_list_bulleted:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M9.30775 18.75V17.25H20.5V18.75H9.30775ZM9.30775 12.75V11.25H20.5V12.75H9.30775ZM9.30775 6.75005V5.25005H20.5V6.75005H9.30775ZM5.1635 19.6635C4.706 19.6635 4.31442 19.5006 3.98875 19.1748C3.66292 18.8491 3.5 18.4575 3.5 18C3.5 17.5425 3.66292 17.151 3.98875 16.8253C4.31442 16.4995 4.706 16.3365 5.1635 16.3365C5.621 16.3365 6.01258 16.4995 6.33825 16.8253C6.66408 17.151 6.827 17.5425 6.827 18C6.827 18.4575 6.66408 18.8491 6.33825 19.1748C6.01258 19.5006 5.621 19.6635 5.1635 19.6635ZM5.1635 13.6635C4.706 13.6635 4.31442 13.5006 3.98875 13.1748C3.66292 12.8491 3.5 12.4575 3.5 12C3.5 11.5425 3.66292 11.151 3.98875 10.8253C4.31442 10.4995 4.706 10.3365 5.1635 10.3365C5.621 10.3365 6.01258 10.4995 6.33825 10.8253C6.66408 11.151 6.827 11.5425 6.827 12C6.827 12.4575 6.66408 12.8491 6.33825 13.1748C6.01258 13.5006 5.621 13.6635 5.1635 13.6635ZM5.1635 7.66355C4.706 7.66355 4.31442 7.50063 3.98875 7.1748C3.66292 6.84913 3.5 6.45755 3.5 6.00005C3.5 5.54255 3.66292 5.15096 3.98875 4.8253C4.31442 4.49946 4.706 4.33655 5.1635 4.33655C5.621 4.33655 6.01258 4.49946 6.33825 4.8253C6.66408 5.15096 6.827 5.54255 6.827 6.00005C6.827 6.45755 6.66408 6.84913 6.33825 7.1748C6.01258 7.50063 5.621 7.66355 5.1635 7.66355Z",fill:"currentColor"})),format_list_numbered:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M3.5 21.5V20.3078H6V19.25H4.5V18.0577H6V17H3.5V15.8077H6.34625C6.58592 15.8077 6.78683 15.8888 6.949 16.051C7.11117 16.2132 7.19225 16.4141 7.19225 16.6538V17.8462C7.19225 18.0859 7.11117 18.2868 6.949 18.449C6.78683 18.6112 6.58592 18.6923 6.34625 18.6923C6.58592 18.6923 6.78683 18.7733 6.949 18.9355C7.11117 19.0977 7.19225 19.2987 7.19225 19.5385V20.6538C7.19225 20.8936 7.11117 21.0946 6.949 21.2568C6.78683 21.4189 6.58592 21.5 6.34625 21.5H3.5ZM3.5 14.8463V12.25C3.5 12.0103 3.58108 11.8093 3.74325 11.647C3.90542 11.4848 4.10642 11.4038 4.34625 11.4038H6V10.3462H3.5V9.15375H6.34625C6.58592 9.15375 6.78683 9.23483 6.949 9.397C7.11117 9.55933 7.19225 9.76033 7.19225 10V11.75C7.19225 11.9897 7.11117 12.1907 6.949 12.353C6.78683 12.5152 6.58592 12.5963 6.34625 12.5963H4.69225V13.6538H7.19225V14.8463H3.5ZM5 8.19225V3.69225H3.5V2.5H6.19225V8.19225H5ZM9.30775 18.75V17.25H20.5V18.75H9.30775ZM9.30775 12.75V11.25H20.5V12.75H9.30775ZM9.30775 6.75V5.25H20.5V6.75H9.30775Z",fill:"currentColor"})),format_list_checked:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M5.69425 18.452L2.5 15.2578L3.54425 14.2135L5.66925 16.3385L9.91925 12.0885L10.9635 13.1578L5.69425 18.452ZM5.69425 10.8365L2.5 7.64227L3.54425 6.59802L5.66925 8.72302L9.91925 4.47302L10.9635 5.54227L5.69425 10.8365ZM13.0095 16.5578V15.0578H21.5095V16.5578H13.0095ZM13.0095 8.94227V7.44227H21.5095V8.94227H13.0095Z",fill:"currentColor"})),link:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M10.8077 16.5385H7.0385C5.78283 16.5385 4.7125 16.096 3.8275 15.211C2.9425 14.3262 2.5 13.256 2.5 12.0005C2.5 10.745 2.9425 9.67471 3.8275 8.78955C4.7125 7.90421 5.78283 7.46155 7.0385 7.46155H10.8077V8.96155H7.0385C6.19867 8.96155 5.48233 9.25805 4.8895 9.85105C4.2965 10.444 4 11.1604 4 12C4 12.8397 4.2965 13.556 4.8895 14.149C5.48233 14.742 6.19867 15.0385 7.0385 15.0385H10.8077V16.5385ZM8.25 12.75V11.25H15.75V12.75H8.25ZM13.1923 16.5385V15.0385H16.9615C17.8013 15.0385 18.5177 14.742 19.1105 14.149C19.7035 13.556 20 12.8397 20 12C20 11.1604 19.7035 10.444 19.1105 9.85105C18.5177 9.25805 17.8013 8.96155 16.9615 8.96155H13.1923V7.46155H16.9615C18.2172 7.46155 19.2875 7.90405 20.1725 8.78905C21.0575 9.67388 21.5 10.744 21.5 11.9995C21.5 13.255 21.0575 14.3254 20.1725 15.2105C19.2875 16.0959 18.2172 16.5385 16.9615 16.5385H13.1923Z",fill:"currentColor"})),add_photo:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M5.11537 20.5C4.6182 20.5 4.19262 20.323 3.83862 19.969C3.48462 19.615 3.30762 19.1894 3.30762 18.6922V5.30773C3.30762 4.81056 3.48462 4.38498 3.83862 4.03098C4.19262 3.67698 4.6182 3.49998 5.11537 3.49998H13.8076V4.99998H5.11537C5.02553 4.99998 4.95178 5.02881 4.89412 5.08648C4.83645 5.14415 4.80762 5.2179 4.80762 5.30773V18.6922C4.80762 18.7821 4.83645 18.8558 4.89412 18.9135C4.95178 18.9711 5.02553 19 5.11537 19H18.4999C18.5895 19 18.6633 18.9711 18.7211 18.9135C18.7788 18.8558 18.8076 18.7821 18.8076 18.6922V9.99998H20.3076V18.6922C20.3076 19.1894 20.1306 19.615 19.7766 19.969C19.4226 20.323 18.997 20.5 18.4999 20.5H5.11537ZM17.1921 8.61523V6.61523H15.1921V5.11548H17.1921V3.11548H18.6921V5.11548H20.6921V6.61523H18.6921V8.61523H17.1921ZM6.55762 16.75H17.1344L13.8459 12.3655L11.0384 16.0192L9.03837 13.4615L6.55762 16.75Z",fill:"currentColor"})),table:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M3.5 18.6923V5.30775C3.5 4.81058 3.677 4.385 4.031 4.031C4.385 3.677 4.81058 3.5 5.30775 3.5H18.6923C19.1894 3.5 19.615 3.677 19.969 4.031C20.323 4.385 20.5 4.81058 20.5 5.30775V18.6923C20.5 19.1894 20.323 19.615 19.969 19.969C19.615 20.323 19.1894 20.5 18.6923 20.5H5.30775C4.81058 20.5 4.385 20.323 4.031 19.969C3.677 19.615 3.5 19.1894 3.5 18.6923ZM5 9.077H19V5.30775C19 5.21792 18.9712 5.14417 18.9135 5.0865C18.8558 5.02883 18.7821 5 18.6923 5H5.30775C5.21792 5 5.14417 5.02883 5.0865 5.0865C5.02883 5.14417 5 5.21792 5 5.30775V9.077ZM10.1615 14.0385H13.8385V10.577H10.1615V14.0385ZM10.1615 19H13.8385V15.5385H10.1615V19ZM5 14.0385H8.6615V10.577H5V14.0385ZM15.3385 14.0385H19V10.577H15.3385V14.0385ZM5.30775 19H8.6615V15.5385H5V18.6923C5 18.7821 5.02883 18.8558 5.0865 18.9135C5.14417 18.9712 5.21792 19 5.30775 19ZM15.3385 19H18.6923C18.7821 19 18.8558 18.9712 18.9135 18.9135C18.9712 18.8558 19 18.7821 19 18.6923V15.5385H15.3385V19Z",fill:"currentColor"})),horizontal_rule:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M4.5 12.75V11.25H19.5V12.75H4.5Z",fill:"currentColor"})),frontmatter:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M4.5 8.75V7.25H8.5V8.75H4.5Z",fill:"currentColor"}),ae.createElement("path",{d:"M4.5 14.75V13.25H8.5V14.75H4.5Z",fill:"currentColor"}),ae.createElement("path",{d:"M9.5 8.75V7.25H13.5V8.75H9.5Z",fill:"currentColor"}),ae.createElement("path",{d:"M9.5 14.75V13.25H13.5V14.75H9.5Z",fill:"currentColor"}),ae.createElement("path",{d:"M14.5 8.75V7.25H18.5V8.75H14.5Z",fill:"currentColor"}),ae.createElement("path",{d:"M14.5 14.75V13.25H18.5V14.75H14.5Z",fill:"currentColor"})),frame_source:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M8.6 15.2443L5.35575 12L8.6 8.75575L9.64425 9.825L7.46925 12L9.64425 14.175L8.6 15.2443ZM15.4 15.2443L14.3558 14.175L16.5307 12L14.3558 9.825L15.4 8.75575L18.6443 12L15.4 15.2443ZM5.30775 20.5C4.80258 20.5 4.375 20.325 4.025 19.975C3.675 19.625 3.5 19.1974 3.5 18.6923V15H5V18.6923C5 18.7692 5.03208 18.8398 5.09625 18.9038C5.16025 18.9679 5.23075 19 5.30775 19H9V20.5H5.30775ZM15 20.5V19H18.6923C18.7692 19 18.8398 18.9679 18.9038 18.9038C18.9679 18.8398 19 18.7692 19 18.6923V15H20.5V18.6923C20.5 19.1974 20.325 19.625 19.975 19.975C19.625 20.325 19.1974 20.5 18.6923 20.5H15ZM3.5 9V5.30775C3.5 4.80258 3.675 4.375 4.025 4.025C4.375 3.675 4.80258 3.5 5.30775 3.5H9V5H5.30775C5.23075 5 5.16025 5.03208 5.09625 5.09625C5.03208 5.16025 5 5.23075 5 5.30775V9H3.5ZM19 9V5.30775C19 5.23075 18.9679 5.16025 18.9038 5.09625C18.8398 5.03208 18.7692 5 18.6923 5H15V3.5H18.6923C19.1974 3.5 19.625 3.675 19.975 4.025C20.325 4.375 20.5 4.80258 20.5 5.30775V9H19Z",fill:"currentColor"})),arrow_drop_down:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M11.9999 14.6537L7.59619 10.25H16.4037L11.9999 14.6537Z",fill:"currentColor"})),admonition:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M12.0001 21.4C11.7654 21.4 11.5385 21.3548 11.3193 21.2645C11.1002 21.174 10.9002 21.0435 10.7193 20.873L3.1271 13.2807C2.9566 13.0999 2.8261 12.8999 2.7356 12.6807C2.64526 12.4616 2.6001 12.2346 2.6001 12C2.6001 11.7653 2.64526 11.5358 2.7356 11.3115C2.8261 11.0871 2.9566 10.8897 3.1271 10.7192L10.7193 3.12698C10.9002 2.94614 11.1002 2.81314 11.3193 2.72798C11.5385 2.64264 11.7654 2.59998 12.0001 2.59998C12.2348 2.59998 12.4643 2.64264 12.6886 2.72798C12.9129 2.81314 13.1103 2.94614 13.2808 3.12698L20.8731 10.7192C21.0539 10.8897 21.1869 11.0871 21.2721 11.3115C21.3574 11.5358 21.4001 11.7653 21.4001 12C21.4001 12.2346 21.3574 12.4616 21.2721 12.6807C21.1869 12.8999 21.0539 13.0999 20.8731 13.2807L13.2808 20.873C13.1103 21.0435 12.9129 21.174 12.6886 21.2645C12.4643 21.3548 12.2348 21.4 12.0001 21.4ZM12.2213 19.8037L19.8039 12.2212C19.8552 12.1699 19.8808 12.0961 19.8808 12C19.8808 11.9038 19.8552 11.8301 19.8039 11.7787L12.2213 4.19623C12.17 4.14489 12.0963 4.11923 12.0001 4.11923C11.9039 4.11923 11.8302 4.14489 11.7788 4.19623L4.19635 11.7787C4.14501 11.8301 4.11935 11.9038 4.11935 12C4.11935 12.0961 4.14501 12.1699 4.19635 12.2212L11.7788 19.8037C11.8302 19.8551 11.9039 19.8807 12.0001 19.8807C12.0963 19.8807 12.17 19.8551 12.2213 19.8037ZM11.2501 13.0865H12.7501V7.47123H11.2501V13.0865ZM12.0001 15.702C12.2258 15.702 12.4168 15.6237 12.5731 15.4672C12.7296 15.3109 12.8078 15.1199 12.8078 14.8942C12.8078 14.6686 12.7296 14.4776 12.5731 14.3212C12.4168 14.1647 12.2258 14.0865 12.0001 14.0865C11.7744 14.0865 11.5834 14.1647 11.4271 14.3212C11.2706 14.4776 11.1923 14.6686 11.1923 14.8942C11.1923 15.1199 11.2706 15.3109 11.4271 15.4672C11.5834 15.6237 11.7744 15.702 12.0001 15.702Z",fill:"currentColor"})),sandpack:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M12.9999 22.5C12.4947 22.5 12.0671 22.325 11.7171 21.975C11.3671 21.625 11.1921 21.1974 11.1921 20.6922V7.30775C11.1921 6.80258 11.3671 6.375 11.7171 6.025C12.0671 5.675 12.4947 5.5 12.9999 5.5H16.3844C16.8895 5.5 17.3171 5.675 17.6671 6.025C18.0171 6.375 18.1921 6.80258 18.1921 7.30775V20.6922C18.1921 21.1974 18.0171 21.625 17.6671 21.975C17.3171 22.325 16.8895 22.5 16.3844 22.5H12.9999ZM12.6921 7.30775V20.6922C12.6921 20.7692 12.7242 20.8398 12.7884 20.9038C12.8524 20.9679 12.9229 21 12.9999 21H16.3844C16.4614 21 16.5319 20.9679 16.5959 20.9038C16.66 20.8398 16.6921 20.7692 16.6921 20.6922V7.30775C16.6921 7.23075 16.66 7.16025 16.5959 7.09625C16.5319 7.03208 16.4614 7 16.3844 7H12.9999C12.9229 7 12.8524 7.03208 12.7884 7.09625C12.7242 7.16025 12.6921 7.23075 12.6921 7.30775ZM6.61537 18.5C6.1102 18.5 5.68262 18.325 5.33262 17.975C4.98262 17.625 4.80762 17.1974 4.80762 16.6923V3.30775C4.80762 2.80258 4.98262 2.375 5.33262 2.025C5.68262 1.675 6.1102 1.5 6.61537 1.5H9.99987C10.505 1.5 10.9326 1.675 11.2826 2.025C11.6326 2.375 11.8076 2.80258 11.8076 3.30775V16.6923C11.8076 17.1974 11.6326 17.625 11.2826 17.975C10.9326 18.325 10.505 18.5 9.99987 18.5H6.61537ZM6.30762 3.30775V16.6923C6.30762 16.7692 6.3397 16.8398 6.40387 16.9038C6.46787 16.9679 6.53837 17 6.61537 17H9.99987C10.0769 17 10.1474 16.9679 10.2114 16.9038C10.2755 16.8398 10.3076 16.7692 10.3076 16.6923V3.30775C10.3076 3.23075 10.2755 3.16025 10.2114 3.09625C10.1474 3.03208 10.0769 3 9.99987 3H6.61537C6.53837 3 6.46787 3.03208 6.40387 3.09625C6.3397 3.16025 6.30762 3.23075 6.30762 3.30775Z",fill:"currentColor"})),rich_text:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M5.30775 20.5C4.80258 20.5 4.375 20.325 4.025 19.975C3.675 19.625 3.5 19.1974 3.5 18.6923V5.30775C3.5 4.80258 3.675 4.375 4.025 4.025C4.375 3.675 4.80258 3.5 5.30775 3.5H18.6923C19.1974 3.5 19.625 3.675 19.975 4.025C20.325 4.375 20.5 4.80258 20.5 5.30775V18.6923C20.5 19.1974 20.325 19.625 19.975 19.975C19.625 20.325 19.1974 20.5 18.6923 20.5H5.30775ZM5.30775 19H18.6923C18.7692 19 18.8398 18.9679 18.9038 18.9038C18.9679 18.8398 19 18.7692 19 18.6923V5.30775C19 5.23075 18.9679 5.16025 18.9038 5.09625C18.8398 5.03208 18.7692 5 18.6923 5H5.30775C5.23075 5 5.16025 5.03208 5.09625 5.09625C5.03208 5.16025 5 5.23075 5 5.30775V18.6923C5 18.7692 5.03208 18.8398 5.09625 18.9038C5.16025 18.9679 5.23075 19 5.30775 19ZM6.75 17H17.3268L14 12.3655L11.2308 16.0192L9 13.4615L6.75 17Z",fill:"currentColor"}),ae.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 12V6.5H9.1925C9.5925 6.5 9.9425 6.65 10.2425 6.95C10.5425 7.25 10.6925 7.6 10.6925 8V8.6925C10.6925 9.03733 10.605 9.32675 10.43 9.56075C10.255 9.79458 10.0168 9.97817 9.7155 10.1115L10.6155 12H9.404L8.504 10.1925H7.1925V12H6ZM9.1925 9H7.1925V7.6925H9.1925C9.26933 7.6925 9.33983 7.7245 9.404 7.7885C9.468 7.85267 9.5 7.92317 9.5 8V8.6925C9.5 8.76933 9.468 8.83983 9.404 8.904C9.33983 8.968 9.26933 9 9.1925 9Z",fill:"currentColor"}),ae.createElement("path",{d:"M12.5 7H17.5V8.25H12.5V7Z",fill:"currentColor"}),ae.createElement("path",{d:"M12.5 9.25H17.5V10.5H12.5V9.25Z",fill:"currentColor"})),difference:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.30775 20.5C4.80258 20.5 4.375 20.325 4.025 19.975C3.675 19.625 3.5 19.1974 3.5 18.6923V5.30775C3.5 4.80258 3.675 4.375 4.025 4.025C4.375 3.675 4.80258 3.5 5.30775 3.5H18.6923C19.1974 3.5 19.625 3.675 19.975 4.025C20.325 4.375 20.5 4.80258 20.5 5.30775V18.6923C20.5 19.1974 20.325 19.625 19.975 19.975C19.625 20.325 19.1974 20.5 18.6923 20.5H5.30775ZM18.6923 19H5.30775C5.23075 19 5.16025 18.9679 5.09625 18.9038C5.03208 18.8398 5 18.7692 5 18.6923V5.30775C5 5.23075 5.03208 5.16025 5.09625 5.09625C5.16025 5.03208 5.23075 5 5.30775 5H18.6923C18.7692 5 18.8398 5.03208 18.9038 5.09625C18.9679 5.16025 19 5.23075 19 5.30775V18.6923C19 18.7692 18.9679 18.8398 18.9038 18.9038C18.8398 18.9679 18.7692 19 18.6923 19Z",fill:"currentColor"}),ae.createElement("rect",{x:"9",y:"10",width:"5.5",height:"1.5",fill:"currentColor"}),ae.createElement("rect",{x:"9",y:"15",width:"5.5",height:"1.5",fill:"currentColor"}),ae.createElement("rect",{x:"11",y:"8",width:"1.5",height:"5.5",fill:"currentColor"})),markdown:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.30775 20.5C4.80258 20.5 4.375 20.325 4.025 19.975C3.675 19.625 3.5 19.1974 3.5 18.6923V5.30775C3.5 4.80258 3.675 4.375 4.025 4.025C4.375 3.675 4.80258 3.5 5.30775 3.5H18.6923C19.1974 3.5 19.625 3.675 19.975 4.025C20.325 4.375 20.5 4.80258 20.5 5.30775V18.6923C20.5 19.1974 20.325 19.625 19.975 19.975C19.625 20.325 19.1974 20.5 18.6923 20.5H5.30775ZM18.6923 19H5.30775C5.23075 19 5.16025 18.9679 5.09625 18.9038C5.03208 18.8398 5 18.7692 5 18.6923V5.30775C5 5.23075 5.03208 5.16025 5.09625 5.09625C5.16025 5.03208 5.23075 5 5.30775 5H18.6923C18.7692 5 18.8398 5.03208 18.9038 5.09625C18.9679 5.16025 19 5.23075 19 5.30775V18.6923C19 18.7692 18.9679 18.8398 18.9038 18.9038C18.8398 18.9679 18.7692 19 18.6923 19Z",fill:"currentColor"}),ae.createElement("path",{d:"M13 15H11.5V11L9.5 14L7.5 11V15H6V8H7.5L9.5 11L11.5 8H13V15Z",fill:"currentColor"}),ae.createElement("path",{d:"M15.9921 15.5833L13.2886 12.8797L14.0546 12.1137L15.4504 13.5016V7.99597L16.5336 7.99993V13.5016L17.9296 12.1137L18.6954 12.8797L15.9921 15.5833Z",fill:"currentColor"})),open_in_new:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M5.30775 20.5C4.80258 20.5 4.375 20.325 4.025 19.975C3.675 19.625 3.5 19.1974 3.5 18.6923V5.30775C3.5 4.80258 3.675 4.375 4.025 4.025C4.375 3.675 4.80258 3.5 5.30775 3.5H11.6152V5H5.30775C5.23075 5 5.16025 5.03208 5.09625 5.09625C5.03208 5.16025 5 5.23075 5 5.30775V18.6923C5 18.7692 5.03208 18.8398 5.09625 18.9038C5.16025 18.9679 5.23075 19 5.30775 19H18.6923C18.7692 19 18.8398 18.9679 18.9038 18.9038C18.9679 18.8398 19 18.7692 19 18.6923V12.3848H20.5V18.6923C20.5 19.1974 20.325 19.625 19.975 19.975C19.625 20.325 19.1974 20.5 18.6923 20.5H5.30775ZM9.71925 15.3345L8.6655 14.2808L17.9462 5H14V3.5H20.5V10H19V6.05375L9.71925 15.3345Z",fill:"currentColor"})),link_off:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M18.8843 16.1038L17.7498 14.9385C18.4228 14.7552 18.9661 14.3946 19.3796 13.8568C19.7931 13.319 19.9998 12.7 19.9998 12C19.9998 11.1604 19.705 10.444 19.1153 9.85105C18.5255 9.25805 17.8139 8.96155 16.9806 8.96155H13.1728V7.46155H16.9806C18.2293 7.46155 19.2947 7.90422 20.1768 8.78955C21.0588 9.67472 21.4998 10.7449 21.4998 12C21.4998 12.8859 21.262 13.6951 20.7863 14.4278C20.3107 15.1606 19.6767 15.7193 18.8843 16.1038ZM15.5806 12.75L14.0806 11.25H15.7306V12.75H15.5806ZM20.1461 22.2538L1.74609 3.8538L2.79984 2.80005L21.1998 21.2L20.1461 22.2538ZM10.8268 16.5386H7.03834C5.78318 16.5386 4.71301 16.0959 3.82784 15.2105C2.94251 14.3254 2.49984 13.2552 2.49984 12C2.49984 10.8885 2.85784 9.91322 3.57384 9.07405C4.28984 8.23505 5.18826 7.72838 6.26909 7.55405H6.49984L7.90759 8.96155H7.03834C6.19851 8.96155 5.48218 9.25805 4.88934 9.85105C4.29634 10.444 3.99984 11.1604 3.99984 12C3.99984 12.8397 4.29634 13.556 4.88934 14.149C5.48218 14.742 6.19851 15.0385 7.03834 15.0385H10.8268V16.5386ZM8.26909 12.75V11.25H10.2113L11.6863 12.75H8.26909Z",fill:"currentColor"})),edit:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M5 19H6.2615L16.498 8.7635L15.2365 7.502L5 17.7385V19ZM3.5 20.5V17.1155L16.6905 3.93075C16.8417 3.79342 17.0086 3.68733 17.1913 3.6125C17.3741 3.5375 17.5658 3.5 17.7663 3.5C17.9668 3.5 18.1609 3.53558 18.3488 3.60675C18.5367 3.67792 18.7032 3.79108 18.848 3.94625L20.0693 5.18275C20.2244 5.32758 20.335 5.49425 20.401 5.68275C20.467 5.87125 20.5 6.05975 20.5 6.24825C20.5 6.44942 20.4657 6.64133 20.397 6.824C20.3283 7.00683 20.2191 7.17383 20.0693 7.325L6.8845 20.5H3.5ZM15.8562 8.14375L15.2365 7.502L16.498 8.7635L15.8562 8.14375Z",fill:"currentColor"})),content_copy:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M9.05775 17.5C8.55258 17.5 8.125 17.325 7.775 16.975C7.425 16.625 7.25 16.1974 7.25 15.6923V4.30775C7.25 3.80258 7.425 3.375 7.775 3.025C8.125 2.675 8.55258 2.5 9.05775 2.5H17.4423C17.9474 2.5 18.375 2.675 18.725 3.025C19.075 3.375 19.25 3.80258 19.25 4.30775V15.6923C19.25 16.1974 19.075 16.625 18.725 16.975C18.375 17.325 17.9474 17.5 17.4423 17.5H9.05775ZM9.05775 16H17.4423C17.5192 16 17.5898 15.9679 17.6538 15.9038C17.7179 15.8398 17.75 15.7692 17.75 15.6923V4.30775C17.75 4.23075 17.7179 4.16025 17.6538 4.09625C17.5898 4.03208 17.5192 4 17.4423 4H9.05775C8.98075 4 8.91025 4.03208 8.84625 4.09625C8.78208 4.16025 8.75 4.23075 8.75 4.30775V15.6923C8.75 15.7692 8.78208 15.8398 8.84625 15.9038C8.91025 15.9679 8.98075 16 9.05775 16ZM5.55775 21C5.05258 21 4.625 20.825 4.275 20.475C3.925 20.125 3.75 19.6974 3.75 19.1923V6.30775H5.25V19.1923C5.25 19.2693 5.28208 19.3398 5.34625 19.4038C5.41025 19.4679 5.48075 19.5 5.55775 19.5H15.4423V21H5.55775Z",fill:"currentColor"})),more_horiz:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M6.23096 13.5C5.81846 13.5 5.46537 13.3531 5.17171 13.0592C4.87787 12.7656 4.73096 12.4125 4.73096 12C4.73096 11.5875 4.87787 11.2344 5.17171 10.9408C5.46537 10.6469 5.81846 10.5 6.23096 10.5C6.64346 10.5 6.99662 10.6469 7.29046 10.9408C7.58412 11.2344 7.73096 11.5875 7.73096 12C7.73096 12.4125 7.58412 12.7656 7.29046 13.0592C6.99662 13.3531 6.64346 13.5 6.23096 13.5ZM12.0002 13.5C11.5877 13.5 11.2346 13.3531 10.941 13.0592C10.6471 12.7656 10.5002 12.4125 10.5002 12C10.5002 11.5875 10.6471 11.2344 10.941 10.9408C11.2346 10.6469 11.5877 10.5 12.0002 10.5C12.4127 10.5 12.7658 10.6469 13.0595 10.9408C13.3533 11.2344 13.5002 11.5875 13.5002 12C13.5002 12.4125 13.3533 12.7656 13.0595 13.0592C12.7658 13.3531 12.4127 13.5 12.0002 13.5ZM17.7695 13.5C17.357 13.5 17.0038 13.3531 16.71 13.0592C16.4163 12.7656 16.2695 12.4125 16.2695 12C16.2695 11.5875 16.4163 11.2344 16.71 10.9408C17.0038 10.6469 17.357 10.5 17.7695 10.5C18.182 10.5 18.535 10.6469 18.8287 10.9408C19.1225 11.2344 19.2695 11.5875 19.2695 12C19.2695 12.4125 19.1225 12.7656 18.8287 13.0592C18.535 13.3531 18.182 13.5 17.7695 13.5Z",fill:"currentColor"})),more_vert:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M12 19.2692C11.5875 19.2692 11.2344 19.1223 10.9408 18.8285C10.6469 18.5348 10.5 18.1817 10.5 17.7692C10.5 17.3567 10.6469 17.0035 10.9408 16.7097C11.2344 16.416 11.5875 16.2692 12 16.2692C12.4125 16.2692 12.7656 16.416 13.0592 16.7097C13.3531 17.0035 13.5 17.3567 13.5 17.7692C13.5 18.1817 13.3531 18.5348 13.0592 18.8285C12.7656 19.1223 12.4125 19.2692 12 19.2692ZM12 13.5C11.5875 13.5 11.2344 13.353 10.9408 13.0592C10.6469 12.7655 10.5 12.4125 10.5 12C10.5 11.5875 10.6469 11.2344 10.9408 10.9407C11.2344 10.6469 11.5875 10.5 12 10.5C12.4125 10.5 12.7656 10.6469 13.0592 10.9407C13.3531 11.2344 13.5 11.5875 13.5 12C13.5 12.4125 13.3531 12.7655 13.0592 13.0592C12.7656 13.353 12.4125 13.5 12 13.5ZM12 7.73071C11.5875 7.73071 11.2344 7.58388 10.9408 7.29021C10.6469 6.99638 10.5 6.64321 10.5 6.23071C10.5 5.81821 10.6469 5.46513 10.9408 5.17146C11.2344 4.87763 11.5875 4.73071 12 4.73071C12.4125 4.73071 12.7656 4.87763 13.0592 5.17146C13.3531 5.46513 13.5 5.81821 13.5 6.23071C13.5 6.64321 13.3531 6.99638 13.0592 7.29021C12.7656 7.58388 12.4125 7.73071 12 7.73071Z",fill:"currentColor"})),close:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M6.39994 18.6538L5.34619 17.6L10.9462 12L5.34619 6.4L6.39994 5.34625L11.9999 10.9463L17.5999 5.34625L18.6537 6.4L13.0537 12L18.6537 17.6L17.5999 18.6538L11.9999 13.0538L6.39994 18.6538Z",fill:"currentColor"})),settings:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M9.69225 21.5L9.3115 18.4538C9.04367 18.3641 8.769 18.2385 8.4875 18.077C8.20617 17.9153 7.95459 17.7422 7.73275 17.5577L4.9115 18.75L2.604 14.75L5.04425 12.9058C5.02125 12.7571 5.00492 12.6077 4.99525 12.4578C4.98559 12.3078 4.98075 12.1583 4.98075 12.0095C4.98075 11.8673 4.98559 11.7228 4.99525 11.576C5.00492 11.4292 5.02125 11.2686 5.04425 11.0943L2.604 9.25L4.9115 5.26925L7.723 6.452C7.96417 6.261 8.22159 6.08633 8.49525 5.928C8.76892 5.76967 9.03784 5.64242 9.302 5.54625L9.69225 2.5H14.3078L14.6885 5.55575C14.9885 5.66475 15.2599 5.792 15.5028 5.9375C15.7458 6.083 15.991 6.2545 16.2385 6.452L19.0885 5.26925L21.396 9.25L18.9173 11.123C18.9531 11.2845 18.9727 11.4355 18.976 11.576C18.9792 11.7163 18.9808 11.8577 18.9808 12C18.9808 12.1358 18.9775 12.274 18.971 12.4145C18.9647 12.5548 18.9417 12.7154 18.902 12.8963L21.3615 14.75L19.0538 18.75L16.2385 17.548C15.991 17.7455 15.7384 17.9202 15.4808 18.072C15.2231 18.224 14.959 18.3481 14.6885 18.4443L14.3078 21.5H9.69225ZM11 20H12.9655L13.325 17.3212C13.8353 17.1879 14.3017 16.9985 14.724 16.753C15.1465 16.5073 15.5539 16.1916 15.9463 15.8057L18.4308 16.85L19.4155 15.15L17.2463 13.5155C17.3296 13.2565 17.3863 13.0026 17.4163 12.7537C17.4464 12.5051 17.4615 12.2538 17.4615 12C17.4615 11.7397 17.4464 11.4884 17.4163 11.2463C17.3863 11.0039 17.3296 10.7564 17.2463 10.5038L19.4345 8.85L18.45 7.15L15.9365 8.2095C15.6018 7.85183 15.2009 7.53583 14.7338 7.2615C14.2664 6.98717 13.7937 6.79292 13.3155 6.67875L13 4H11.0155L10.6845 6.66925C10.1743 6.78975 9.70325 6.97433 9.27125 7.223C8.83909 7.47183 8.42684 7.79233 8.0345 8.1845L5.55 7.15L4.5655 8.85L6.725 10.4595C6.64167 10.6968 6.58334 10.9437 6.55 11.2C6.51667 11.4563 6.5 11.7262 6.5 12.0095C6.5 12.2698 6.51667 12.525 6.55 12.775C6.58334 13.025 6.6385 13.2718 6.7155 13.5155L4.5655 15.15L5.55 16.85L8.025 15.8C8.4045 16.1897 8.81025 16.5089 9.24225 16.7578C9.67442 17.0064 10.152 17.1974 10.675 17.3307L11 20ZM12.0115 15C12.8435 15 13.5515 14.708 14.1355 14.124C14.7195 13.54 15.0115 12.832 15.0115 12C15.0115 11.168 14.7195 10.46 14.1355 9.876C13.5515 9.292 12.8435 9 12.0115 9C11.1692 9 10.4586 9.292 9.87975 9.876C9.30092 10.46 9.0115 11.168 9.0115 12C9.0115 12.832 9.30092 13.54 9.87975 14.124C10.4586 14.708 11.1692 15 12.0115 15Z",fill:"currentColor"})),delete_big:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M7.30775 20.5C6.80908 20.5 6.38308 20.3234 6.02975 19.9702C5.67658 19.6169 5.5 19.1909 5.5 18.6922V5.99998H4.5V4.49998H9V3.61548H15V4.49998H19.5V5.99998H18.5V18.6922C18.5 19.1974 18.325 19.625 17.975 19.975C17.625 20.325 17.1974 20.5 16.6923 20.5H7.30775ZM17 5.99998H7V18.6922C7 18.7821 7.02883 18.8558 7.0865 18.9135C7.14417 18.9711 7.21792 19 7.30775 19H16.6923C16.7692 19 16.8398 18.9679 16.9038 18.9037C16.9679 18.8397 17 18.7692 17 18.6922V5.99998ZM9.404 17H10.9037V7.99998H9.404V17ZM13.0962 17H14.596V7.99998H13.0962V17Z",fill:"currentColor"})),delete_small:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M7.30775 20.5C6.80908 20.5 6.38308 20.3234 6.02975 19.9702C5.67658 19.6169 5.5 19.1909 5.5 18.6922V5.99998H4.5V4.49998H9V3.61548H15V4.49998H19.5V5.99998H18.5V18.6922C18.5 19.1974 18.325 19.625 17.975 19.975C17.625 20.325 17.1974 20.5 16.6923 20.5H7.30775ZM17 5.99998H7V18.6922C7 18.7821 7.02883 18.8558 7.0865 18.9135C7.14417 18.9711 7.21792 19 7.30775 19H16.6923C16.7692 19 16.8398 18.9679 16.9038 18.9037C16.9679 18.8397 17 18.7692 17 18.6922V5.99998ZM9.404 17H10.9037V7.99998H9.404V17ZM13.0962 17H14.596V7.99998H13.0962V17Z",fill:"currentColor"})),format_align_center:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M3.5 20.5V19H20.5V20.5H3.5ZM7.5 16.625V15.125H16.5V16.625H7.5ZM3.5 12.75V11.25H20.5V12.75H3.5ZM7.5 8.875V7.375H16.5V8.875H7.5ZM3.5 5V3.5H20.5V5H3.5Z",fill:"currentColor"})),format_align_left:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M3.5 20.5V19H20.5V20.5H3.5ZM3.5 16.625V15.125H14.5V16.625H3.5ZM3.5 12.75V11.25H20.5V12.75H3.5ZM3.5 8.875V7.375H14.5V8.875H3.5ZM3.5 5V3.5H20.5V5H3.5Z",fill:"currentColor"})),format_align_right:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M3.5 5V3.5H20.5V5H3.5ZM9.5 8.875V7.375H20.5V8.875H9.5ZM3.5 12.75V11.25H20.5V12.75H3.5ZM9.5 16.625V15.125H20.5V16.625H9.5ZM3.5 20.5V19H20.5V20.5H3.5Z",fill:"currentColor"})),add_row:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.025 10.2077C4.375 9.85775 4.80258 9.68275 5.30775 9.68275H6.5V11.1827H5.30775C5.21792 11.1827 5.14417 11.2116 5.0865 11.2693C5.02883 11.3269 5 11.4007 5 11.4905V16.1923C5 16.2821 5.02883 16.3558 5.0865 16.4135C5.14417 16.4712 5.21792 16.5 5.30775 16.5H18.6923C18.7821 16.5 18.8558 16.4712 18.9135 16.4135C18.9712 16.3558 19 16.2821 19 16.1923V11.4905C19 11.4007 18.9712 11.3269 18.9135 11.2693C18.8558 11.2116 18.7821 11.1827 18.6923 11.1827H17.6923V9.68275H18.6923C19.1974 9.68275 19.625 9.85775 19.975 10.2077C20.325 10.5577 20.5 10.9853 20.5 11.4905V16.1923C20.5 16.6974 20.325 17.125 19.975 17.475C19.625 17.825 19.1974 18 18.6923 18H5.30775C4.80258 18 4.375 17.825 4.025 17.475C3.675 17.125 3.5 16.6974 3.5 16.1923V11.4905C3.5 10.9853 3.675 10.5577 4.025 10.2077Z",fill:"currentColor"}),ae.createElement("path",{d:"M11.3848 9.68275V7.5H12.8848V9.68275H15V11.1827H12.8848V13.2307H11.3848V11.1827H9.26925V9.68275H11.3848Z",fill:"currentColor"})),add_column:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.70775 4.025C9.35775 4.375 9.18275 4.80258 9.18275 5.30775V6.5H10.6827V5.30775C10.6827 5.21792 10.7116 5.14417 10.7693 5.0865C10.8269 5.02883 10.9007 5 10.9905 5H15.6923C15.7821 5 15.8558 5.02883 15.9135 5.0865C15.9712 5.14417 16 5.21792 16 5.30775V18.6923C16 18.7821 15.9712 18.8558 15.9135 18.9135C15.8558 18.9712 15.7821 19 15.6923 19H10.9905C10.9007 19 10.8269 18.9712 10.7693 18.9135C10.7116 18.8558 10.6827 18.7821 10.6827 18.6923V17.6923H9.18275V18.6923C9.18275 19.1974 9.35775 19.625 9.70775 19.975C10.0577 20.325 10.4853 20.5 10.9905 20.5H15.6923C16.1974 20.5 16.625 20.325 16.975 19.975C17.325 19.625 17.5 19.1974 17.5 18.6923V5.30775C17.5 4.80258 17.325 4.375 16.975 4.025C16.625 3.675 16.1974 3.5 15.6923 3.5H10.9905C10.4853 3.5 10.0577 3.675 9.70775 4.025Z",fill:"currentColor"}),ae.createElement("path",{d:"M9.18275 11.3848H7V12.8848H9.18275V15H10.6827V12.8848H12.7307V11.3848H10.6827V9.26925H9.18275V11.3848Z",fill:"currentColor"})),insert_col_left:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M13.0001 20.1152H8.67713H8.75388H8.69238H13.0001ZM7.19238 19.8075C7.19238 20.3127 7.36738 20.7402 7.71738 21.0902C8.06738 21.4402 8.49497 21.6152 9.00013 21.6152H12.6924C13.1975 21.6152 13.6251 21.4402 13.9751 21.0902C14.3251 20.7402 14.5001 20.3127 14.5001 19.8075V10.423H13.0001V19.8075C13.0001 19.8973 12.9713 19.9711 12.9136 20.0287C12.856 20.0864 12.7822 20.1152 12.6924 20.1152H9.00013C8.9103 20.1152 8.83655 20.0864 8.77888 20.0287C8.72122 19.9711 8.69238 19.8973 8.69238 19.8075V4.69223C8.26422 4.74357 7.90722 4.93299 7.62138 5.26048C7.33538 5.58798 7.19238 5.97548 7.19238 6.42298V19.8075ZM13.0001 2.49998V4.61523H10.8846V6.11523H13.0001V8.23073H14.5001V6.11523H16.6154V4.61523H14.5001V2.49998H13.0001Z",fill:"currentColor"})),insert_row_above:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M20.1152 9.99987V14.3229V14.2461V14.3076V9.99987ZM19.8075 15.8076C20.3127 15.8076 20.7402 15.6326 21.0902 15.2826C21.4402 14.9326 21.6152 14.505 21.6152 13.9999V10.3076C21.6152 9.80245 21.4402 9.37487 21.0902 9.02487C20.7402 8.67487 20.3127 8.49987 19.8075 8.49987H10.423V9.99987H19.8075C19.8973 9.99987 19.9711 10.0287 20.0287 10.0864C20.0864 10.144 20.1152 10.2178 20.1152 10.3076V13.9999C20.1152 14.0897 20.0864 14.1635 20.0287 14.2211C19.9711 14.2788 19.8973 14.3076 19.8075 14.3076H4.69223C4.74357 14.7358 4.93299 15.0928 5.26048 15.3786C5.58798 15.6646 5.97548 15.8076 6.42298 15.8076H19.8075ZM2.49998 9.99987H4.61523V12.1154H6.11523V9.99987H8.23073V8.49987H6.11523V6.38462H4.61523V8.49987H2.49998V9.99987Z",fill:"currentColor"})),insert_row_below:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M20.1152 14.1924V9.86939V9.94614V9.88464V14.1924ZM19.8075 8.38464C20.3127 8.38464 20.7402 8.55964 21.0902 8.90964C21.4402 9.25964 21.6152 9.68723 21.6152 10.1924V13.8846C21.6152 14.3898 21.4402 14.8174 21.0902 15.1674C20.7402 15.5174 20.3127 15.6924 19.8075 15.6924H10.423V14.1924H19.8075C19.8973 14.1924 19.9711 14.1636 20.0287 14.1059C20.0864 14.0482 20.1152 13.9745 20.1152 13.8846V10.1924C20.1152 10.1026 20.0864 10.0288 20.0287 9.97114C19.9711 9.91348 19.8973 9.88464 19.8075 9.88464H4.69223C4.74357 9.45648 4.93299 9.09948 5.26048 8.81364C5.58798 8.52764 5.97548 8.38464 6.42298 8.38464H19.8075ZM2.49998 14.1924H4.61523V12.0769H6.11523V14.1924H8.23073V15.6924H6.11523V17.8076H4.61523V15.6924H2.49998V14.1924Z",fill:"currentColor"})),insert_col_right:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M10.8075 20.1152H15.1305H15.0537H15.1152H10.8075ZM16.6152 19.8075C16.6152 20.3127 16.4402 20.7402 16.0902 21.0902C15.7402 21.4402 15.3127 21.6152 14.8075 21.6152H11.1152C10.6101 21.6152 10.1825 21.4402 9.83248 21.0902C9.48248 20.7402 9.30748 20.3127 9.30748 19.8075V10.423H10.8075V19.8075C10.8075 19.8973 10.8363 19.9711 10.894 20.0287C10.9517 20.0864 11.0254 20.1152 11.1152 20.1152H14.8075C14.8973 20.1152 14.9711 20.0864 15.0287 20.0287C15.0864 19.9711 15.1152 19.8973 15.1152 19.8075V4.69223C15.5434 4.74357 15.9004 4.93299 16.1862 5.26048C16.4722 5.58798 16.6152 5.97548 16.6152 6.42298V19.8075ZM10.8075 2.49998V4.61523H12.923V6.11523H10.8075V8.23073H9.30748V6.11523H7.19223V4.61523H9.30748V2.49998H10.8075Z",fill:"currentColor"})),check:ae.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("path",{d:"M9.54983 17.6537L4.21533 12.3192L5.28433 11.25L9.54983 15.5155L18.7153 6.34998L19.7843 7.41923L9.54983 17.6537Z",fill:"currentColor"}))},a3e="_editorRoot_1e2ox_53",l3e="_editorWrapper_1e2ox_155",c3e="_toolbarRoot_1e2ox_162",u3e="_readOnlyToolbarRoot_1e2ox_189",h3e="_toolbarToggleItem_1e2ox_208",d3e="_toolbarGroupOfGroups_1e2ox_219",f3e="_toolbarToggleSingleGroup_1e2ox_224",p3e="_toolbarButton_1e2ox_239",m3e="_toolbarButtonDropdownContainer_1e2ox_286",g3e="_selectContainer_1e2ox_288",y3e="_selectItem_1e2ox_301",v3e="_toolbarButtonSelectTrigger_1e2ox_307",_3e="_selectTrigger_1e2ox_308",x3e="_selectDropdownArrow_1e2ox_374",b3e="_contentEditable_1e2ox_380",w3e="_codeMirrorWrapper_1e2ox_392",O3e="_codeMirrorToolbar_1e2ox_409",S3e="_propertyEditorTable_1e2ox_439",C3e="_iconButton_1e2ox_457",T3e="_propertyEditorInput_1e2ox_481",k3e="_primaryButton_1e2ox_507",E3e="_secondaryButton_1e2ox_508",A3e="_smallButton_1e2ox_523",P3e="_linkDialogEditForm_1e2ox_541",M3e="_linkDialogAnchor_1e2ox_587",R3e="_linkDialogPopoverContent_1e2ox_601",I3e="_tableColumnEditorPopoverContent_1e2ox_602",D3e="_dialogContent_1e2ox_603",L3e="_largeDialogContent_1e2ox_615",$3e="_dialogTitle_1e2ox_625",z3e="_dialogCloseButton_1e2ox_631",N3e="_popoverArrow_1e2ox_650",B3e="_linkDialogPreviewAnchor_1e2ox_654",F3e="_tooltipTrigger_1e2ox_677",j3e="_tooltipContent_1e2ox_681",V3e="_actionButton_1e2ox_695",Q3e="_tableEditor_1e2ox_714",U3e="_toolCell_1e2ox_725",Z3e="_tableColumnEditorTrigger_1e2ox_744",q3e="_addRowButton_1e2ox_746",W3e="_addColumnButton_1e2ox_747",H3e="_tableColumnEditorToolbar_1e2ox_789",G3e="_toggleGroupRoot_1e2ox_802",X3e="_tableToolsColumn_1e2ox_820",Y3e="_leftAlignedCell_1e2ox_829",K3e="_rightAlignedCell_1e2ox_833",J3e="_centeredCell_1e2ox_837",eLe="_dialogOverlay_1e2ox_870",tLe="_focusedImage_1e2ox_916",nLe="_imageWrapper_1e2ox_920",rLe="_editImageToolbar_1e2ox_933",iLe="_editImageButton_1e2ox_937",oLe="_nestedEditor_1e2ox_961",sLe="_imageControlWrapperResizing_1e2ox_1032",aLe="_imageResizer_1e2ox_1036",lLe="_imageResizerN_1e2ox_1045",cLe="_imageResizerNe_1e2ox_1051",uLe="_imageResizerE_1e2ox_1057",hLe="_imageResizerSe_1e2ox_1063",dLe="_imageResizerS_1e2ox_1063",fLe="_imageResizerSw_1e2ox_1075",pLe="_imageResizerW_1e2ox_1081",mLe="_imageResizerNw_1e2ox_1087",gLe="_imagePlaceholder_1e2ox_1093",yLe="_imageDimensionsContainer_1e2ox_1101",vLe="_placeholder_1e2ox_1106",_Le="_rootContentEditableWrapper_1e2ox_1119",xLe="_downshiftInputWrapper_1e2ox_1129",bLe="_downshiftInput_1e2ox_1129",wLe="_downshiftAutocompleteContainer_1e2ox_1160",OLe="_textInput_1e2ox_1206",SLe="_multiFieldForm_1e2ox_1214",CLe="_formField_1e2ox_1220",TLe="_markdownParseError_1e2ox_1231",kLe="_popupContainer_1e2ox_1240",Qt={editorRoot:a3e,editorWrapper:l3e,toolbarRoot:c3e,readOnlyToolbarRoot:u3e,toolbarToggleItem:h3e,toolbarGroupOfGroups:d3e,toolbarToggleSingleGroup:f3e,toolbarButton:p3e,toolbarButtonDropdownContainer:m3e,selectContainer:g3e,selectItem:y3e,toolbarButtonSelectTrigger:v3e,selectTrigger:_3e,selectDropdownArrow:x3e,contentEditable:b3e,codeMirrorWrapper:w3e,codeMirrorToolbar:O3e,propertyEditorTable:S3e,iconButton:C3e,propertyEditorInput:T3e,primaryButton:k3e,secondaryButton:E3e,smallButton:A3e,linkDialogEditForm:P3e,linkDialogAnchor:M3e,linkDialogPopoverContent:R3e,tableColumnEditorPopoverContent:I3e,dialogContent:D3e,largeDialogContent:L3e,dialogTitle:$3e,dialogCloseButton:z3e,popoverArrow:N3e,linkDialogPreviewAnchor:B3e,tooltipTrigger:F3e,tooltipContent:j3e,actionButton:V3e,tableEditor:Q3e,toolCell:U3e,tableColumnEditorTrigger:Z3e,addRowButton:q3e,addColumnButton:W3e,tableColumnEditorToolbar:H3e,toggleGroupRoot:G3e,tableToolsColumn:X3e,leftAlignedCell:Y3e,rightAlignedCell:K3e,centeredCell:J3e,dialogOverlay:eLe,focusedImage:tLe,imageWrapper:nLe,editImageToolbar:rLe,editImageButton:iLe,nestedEditor:oLe,imageControlWrapperResizing:sLe,imageResizer:aLe,imageResizerN:lLe,imageResizerNe:cLe,imageResizerE:uLe,imageResizerSe:hLe,imageResizerS:dLe,imageResizerSw:fLe,imageResizerW:pLe,imageResizerNw:mLe,imagePlaceholder:gLe,imageDimensionsContainer:yLe,placeholder:vLe,rootContentEditableWrapper:_Le,downshiftInputWrapper:xLe,downshiftInput:bLe,downshiftAutocompleteContainer:wLe,textInput:OLe,multiFieldForm:SLe,formField:CLe,markdownParseError:TLe,popupContainer:kLe},ELe=new Set(["http:","https:","mailto:","sms:","tel:"]);class dy extends uu{static getType(){return"link"}static clone(e){return new dy(e.__url,{rel:e.__rel,target:e.__target,title:e.__title},e.__key)}constructor(e="",n={},r){super(r);const{target:i=null,rel:o=null,title:a=null}=n;this.__url=e,this.__target=i,this.__rel=o,this.__title=a}createDOM(e){const n=document.createElement("a");return this.updateLinkDOM(null,n,e),Ef(n,e.theme.link),n}updateLinkDOM(e,n,r){if(Cee(n)){e&&e.__url===this.__url||(n.href=this.sanitizeUrl(this.__url));for(const i of["target","rel","title"]){const o=`__${i}`,a=this[o];e&&e[o]===a||(a?n[i]=a:n.removeAttribute(i))}}}updateDOM(e,n,r){return this.updateLinkDOM(e,n,r),!1}static importDOM(){return{a:e=>({conversion:ALe,priority:1})}}static importJSON(e){return ty().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setURL(e.url).setRel(e.rel||null).setTarget(e.target||null).setTitle(e.title||null)}sanitizeUrl(e){e=OZ(e);try{const n=new URL(OZ(e));if(!ELe.has(n.protocol))return"about:blank"}catch{return e}return e}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),url:this.getURL()}}getURL(){return this.getLatest().__url}setURL(e){const n=this.getWritable();return n.__url=e,n}getTarget(){return this.getLatest().__target}setTarget(e){const n=this.getWritable();return n.__target=e,n}getRel(){return this.getLatest().__rel}setRel(e){const n=this.getWritable();return n.__rel=e,n}getTitle(){return this.getLatest().__title}setTitle(e){const n=this.getWritable();return n.__title=e,n}insertNewAfter(e,n=!0){const r=ty(this.__url,{rel:this.__rel,target:this.__target,title:this.__title});return this.insertAfter(r,n),r}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,n,r){if(!Xt(n))return!1;const i=n.anchor.getNode(),o=n.focus.getNode();return this.isParentOf(i)&&this.isParentOf(o)&&n.getTextContent().length>0}isEmailURI(){return this.__url.startsWith("mailto:")}isWebSiteURI(){return this.__url.startsWith("https://")||this.__url.startsWith("http://")}}function ALe(t){let e=null;if(Cee(t)){const n=t.textContent;(n!==null&&n!==""||t.children.length>0)&&(e=ty(t.getAttribute("href")||"",{rel:t.getAttribute("rel"),target:t.getAttribute("target"),title:t.getAttribute("title")}))}return{node:e}}function ty(t="",e){return hh(new dy(t,e))}function Yc(t){return t instanceof dy}let _I=class Hte extends dy{constructor(e="",n={},r){super(e,n,r),this.__isUnlinked=n.isUnlinked!==void 0&&n.isUnlinked!==null&&n.isUnlinked}static getType(){return"autolink"}static clone(e){return new Hte(e.__url,{isUnlinked:e.__isUnlinked,rel:e.__rel,target:e.__target,title:e.__title},e.__key)}getIsUnlinked(){return this.__isUnlinked}setIsUnlinked(e){const n=this.getWritable();return n.__isUnlinked=e,n}createDOM(e){return this.__isUnlinked?document.createElement("span"):super.createDOM(e)}updateDOM(e,n,r){return super.updateDOM(e,n,r)||e.__isUnlinked!==this.__isUnlinked}static importJSON(e){return fz().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setIsUnlinked(e.isUnlinked||!1)}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),isUnlinked:this.__isUnlinked}}insertNewAfter(e,n=!0){const r=this.getParentOrThrow().insertNewAfter(e,n);if(It(r)){const i=fz(this.__url,{isUnlinked:this.__isUnlinked,rel:this.__rel,target:this.__target,title:this.__title});return r.append(i),i}return null}};function fz(t="",e){return hh(new _I(t,e))}function yf(t){return t instanceof _I}const tO=nr("TOGGLE_LINK_COMMAND");function bZ(t,e){if(t.type==="element"){const n=t.getNode();return It(n)||(function(r,...i){const o=new URL("https://lexical.dev/docs/error"),a=new URLSearchParams;a.append("code",r);for(const s of i)a.append("v",s);throw o.search=a.toString(),Error(`Minified Lexical error #${r}; visit ${o.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)})(252),n.getChildren()[t.offset+e]||null}return null}function U3(t,e={}){const{target:n,title:r}=e,i=e.rel===void 0?"noreferrer":e.rel,o=an();if(o===null||!Xt(o)&&!rs(o))return;if(rs(o)){const d=o.getNodes();return d.length===0?void 0:void d.forEach((g=>{if(t===null){const v=Of(g,(x=>!yf(x)&&Yc(x)));v&&(v.insertBefore(g),v.getChildren().length===0&&v.remove())}else{const v=Of(g,(x=>!yf(x)&&Yc(x)));if(v)v.setURL(t),n!==void 0&&v.setTarget(n),i!==void 0&&v.setRel(i);else{const x=ty(t,{rel:i,target:n});g.insertBefore(x),x.append(g)}}}))}const a=o.extract();if(t===null)return void a.forEach((d=>{const g=Of(d,(v=>!yf(v)&&Yc(v)));if(g){const v=g.getChildren();for(let x=0;x<v.length;x++)g.insertBefore(v[x]);g.remove()}}));const s=new Set,u=d=>{s.has(d.getKey())||(s.add(d.getKey()),d.setURL(t),n!==void 0&&d.setTarget(n),i!==void 0&&d.setRel(i),r!==void 0&&d.setTitle(r))};if(a.length===1){const d=wZ(a[0],Yc);if(d!==null)return u(d)}(function(d){const g=an();if(!Xt(g))return d();const v=_x(g),x=v.isBackward(),O=bZ(v.anchor,x?-1:0),E=bZ(v.focus,x?0:-1);if(d(),O||E){const A=an();if(Xt(A)){const M=A.clone();if(O){const L=O.getParent();L&&M.anchor.set(L.getKey(),O.getIndexWithinParent()+(x?1:0),"element")}if(E){const L=E.getParent();L&&M.focus.set(L.getKey(),E.getIndexWithinParent()+(x?0:1),"element")}ss(_x(M))}}})((()=>{let d=null;for(const g of a){if(!g.isAttached())continue;const v=wZ(g,Yc);if(v){u(v);continue}if(It(g)){if(!g.isInline())continue;if(Yc(g)){if(!(yf(g)||d!==null&&d.getParentOrThrow().isParentOf(g))){u(g),d=g;continue}for(const O of g.getChildren())g.insertBefore(O);g.remove();continue}}const x=g.getPreviousSibling();Yc(x)&&x.is(d)?x.append(g):(d=ty(t,{rel:i,target:n,title:r}),g.insertAfter(d),d.append(g))}}))}function wZ(t,e){let n=t;for(;n!==null&&n.getParent()!==null&&!e(n);)n=n.getParentOrThrow();return e(n)?n:null}const PLe=/^\+?[0-9\s()-]{5,}$/;function OZ(t){return t.match(/^[a-z][a-z0-9+.-]*:/i)||t.match(/^[/#.]/)?t:t.includes("@")?`mailto:${t}`:PLe.test(t)?`tel:${t}`:`https://${t}`}function P0(t,...e){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",t);for(const i of e)r.append("v",i);throw n.search=r.toString(),Error(`Minified Lexical error #${t}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function _T(t){let e=1,n=t.getParent();for(;n!=null;){if(Cr(n)){const r=n.getParent();if(ir(r)){e++,n=r.getParent();continue}P0(40)}return e}return e}function pz(t){let e=t.getParent();ir(e)||P0(40);let n=e;for(;n!==null;)n=n.getParent(),ir(n)&&(e=n);return e}function Gte(t){let e=[];const n=t.getChildren().filter(Cr);for(let r=0;r<n.length;r++){const i=n[r],o=i.getFirstChild();ir(o)?e=e.concat(Gte(o)):e.push(i)}return e}function Zp(t){return Cr(t)&&ir(t.getFirstChild())}function SZ(t){return mc().append(t)}function Xte(t,e){return Cr(t)&&(e.length===0||e.length===1&&t.is(e[0])&&t.getChildrenSize()===0)}function mz(t){const e=an();if(e!==null){let n=e.getNodes();if(Xt(e)){const i=e.getStartEndPoints();i===null&&P0(143);const[o]=i,a=o.getNode(),s=a.getParent();if(ea(a)){const u=a.getFirstChild();if(u)n=u.selectStart().getNodes();else{const d=yi();a.append(d),n=d.select().getNodes()}}else if(Xte(a,n)){const u=fc(t);if(ea(s)){a.replace(u);const d=mc();It(a)&&(d.setFormat(a.getFormatType()),d.setIndent(a.getIndent())),u.append(d)}else if(Cr(a)){const d=a.getParentOrThrow();Px(u,d.getChildren()),d.replace(u)}return}}const r=new Set;for(let i=0;i<n.length;i++){const o=n[i];if(It(o)&&o.isEmpty()&&!Cr(o)&&!r.has(o.getKey())){CZ(o,t);continue}let a=pee(o)?o.getParent():Cr(o)&&o.isEmpty()?o:null;for(;a!=null;){const s=a.getKey();if(ir(a)){if(!r.has(s)){const u=fc(t);Px(u,a.getChildren()),a.replace(u),r.add(s)}break}{const u=a.getParent();if(ea(u)&&!r.has(s)){r.add(s),CZ(a,t);break}a=u}}}}}function Px(t,e){t.splice(t.getChildrenSize(),0,e)}function CZ(t,e){if(ir(t))return t;const n=t.getPreviousSibling(),r=t.getNextSibling(),i=mc();let o;if(Px(i,t.getChildren()),ir(n)&&e===n.getListType())n.append(i),ir(r)&&e===r.getListType()&&(Px(n,r.getChildren()),r.remove()),o=n;else if(ir(r)&&e===r.getListType())r.getFirstChildOrThrow().insertBefore(i),o=r;else{const a=fc(e);a.append(i),t.replace(a),o=a}return i.setFormat(t.getFormatType()),i.setIndent(t.getIndent()),t.remove(),o}function L8(t,e){const n=t.getLastChild(),r=e.getFirstChild();n&&r&&Zp(n)&&Zp(r)&&(L8(n.getFirstChild(),r.getFirstChild()),r.remove());const i=e.getChildren();i.length>0&&t.append(...i),e.remove()}function MLe(){const t=an();if(Xt(t)){const e=new Set,n=t.getNodes(),r=t.anchor.getNode();if(Xte(r,n))e.add(pz(r));else for(let i=0;i<n.length;i++){const o=n[i];if(pee(o)){const a=Vee(o,fy);a!=null&&e.add(pz(a))}}for(const i of e){let o=i;const a=Gte(i);for(const s of a){const u=yi().setTextStyle(t.style).setTextFormat(t.format);Px(u,s.getChildren()),o.insertAfter(u),o=u,s.__key===t.anchor.key&&Tx(t.anchor,eh(cd(u,"next"))),s.__key===t.focus.key&&Tx(t.focus,eh(cd(u,"next"))),s.remove()}i.remove()}}}function Yte(t){const e=t.getListType()!=="check";let n=t.getStart();for(const r of t.getChildren())Cr(r)&&(r.getValue()!==n&&r.setValue(n),e&&r.getLatest().__checked!=null&&r.setChecked(void 0),ir(r.getFirstChild())||n++)}function RLe(t){const e=new Set;if(Zp(t)||e.has(t.getKey()))return;const n=t.getParent(),r=t.getNextSibling(),i=t.getPreviousSibling();if(Zp(r)&&Zp(i)){const o=i.getFirstChild();if(ir(o)){o.append(t);const a=r.getFirstChild();ir(a)&&(Px(o,a.getChildren()),r.remove(),e.add(r.getKey()))}}else if(Zp(r)){const o=r.getFirstChild();if(ir(o)){const a=o.getFirstChild();a!==null&&a.insertBefore(t)}}else if(Zp(i)){const o=i.getFirstChild();ir(o)&&o.append(t)}else if(ir(n)){const o=mc().setTextFormat(t.getTextFormat()).setTextStyle(t.getTextStyle()),a=fc(n.getListType()).setTextFormat(n.getTextFormat()).setTextStyle(n.getTextStyle());o.append(a),a.append(t),i?i.insertAfter(o):r?r.insertBefore(o):n.append(o)}}function ILe(t){if(Zp(t))return;const e=t.getParent(),n=e?e.getParent():void 0;if(ir(n?n.getParent():void 0)&&Cr(n)&&ir(e)){const r=e?e.getFirstChild():void 0,i=e?e.getLastChild():void 0;if(t.is(r))n.insertBefore(t),e.isEmpty()&&n.remove();else if(t.is(i))n.insertAfter(t),e.isEmpty()&&n.remove();else{const o=e.getListType(),a=mc(),s=fc(o);a.append(s),t.getPreviousSiblings().forEach((g=>s.append(g)));const u=mc(),d=fc(o);u.append(d),Px(d,t.getNextSiblings()),n.insertBefore(a),n.insertAfter(u),n.replace(t)}}}function DLe(){const t=an();if(!Xt(t)||!t.isCollapsed())return!1;const e=t.anchor.getNode();if(!Cr(e)||e.getChildrenSize()!==0)return!1;const n=pz(e),r=e.getParent();ir(r)||P0(40);const i=r.getParent();let o;if(ea(i))o=yi(),n.insertAfter(o);else{if(!Cr(i))return!1;o=mc(),i.insertAfter(o)}o.setTextStyle(t.style).setTextFormat(t.format).select();const a=e.getNextSiblings();if(a.length>0){const s=fc(r.getListType());if(Cr(o)){const u=mc();u.append(s),o.insertAfter(u)}else o.insertAfter(s);s.append(...a)}return(function(s){let u=s;for(;u.getNextSibling()==null&&u.getPreviousSibling()==null;){const d=u.getParent();if(d==null||!Cr(d)&&!ir(d))break;u=d}u.remove()})(e),!0}function nM(...t){const e=[];for(const n of t)if(n&&typeof n=="string")for(const[r]of n.matchAll(/\S+/g))e.push(r);return e}let fy=class extends uu{$config(){return this.config("listitem",{$transform:e=>{if(e.__checked==null)return;const n=e.getParent();ir(n)&&n.getListType()!=="check"&&e.getChecked()!=null&&e.setChecked(void 0)},extends:uu,importDOM:{li:()=>({conversion:LLe,priority:0})}})}constructor(e=1,n=void 0,r){super(r),this.__value=e===void 0?1:e,this.__checked=n}afterCloneFrom(e){super.afterCloneFrom(e),this.__value=e.__value,this.__checked=e.__checked}createDOM(e){const n=document.createElement("li");return this.updateListItemDOM(null,n,e),n}updateListItemDOM(e,n,r){const i=this.getParent();ir(i)&&i.getListType()==="check"&&(function(s,u,d,g){ir(u.getFirstChild())?(s.removeAttribute("role"),s.removeAttribute("tabIndex"),s.removeAttribute("aria-checked")):(s.setAttribute("role","checkbox"),s.setAttribute("tabIndex","-1"),d&&u.__checked===d.__checked||s.setAttribute("aria-checked",u.getChecked()?"true":"false"))})(n,this,e),n.value=this.__value,(function(s,u,d){const g=[],v=[],x=u.list,O=x?x.listitem:void 0;let E;if(x&&x.nested&&(E=x.nested.listitem),O!==void 0&&g.push(...nM(O)),x){const A=d.getParent(),M=ir(A)&&A.getListType()==="check",L=d.getChecked();M&&!L||v.push(x.listitemUnchecked),M&&L||v.push(x.listitemChecked),M&&g.push(L?x.listitemChecked:x.listitemUnchecked)}if(E!==void 0){const A=nM(E);d.getChildren().some((M=>ir(M)))?g.push(...A):v.push(...A)}v.length>0&&lI(s,...v),g.length>0&&Ef(s,...g)})(n,r.theme,this);const o=e?e.__style:"",a=this.__style;o!==a&&(a===""?n.removeAttribute("style"):n.style.cssText=a),(function(s,u,d){const g=TU(u.__textStyle);for(const v in g)s.style.setProperty(`--listitem-marker-${v}`,g[v]);if(d)for(const v in TU(d.__textStyle))v in g||s.style.removeProperty(`--listitem-marker-${v}`)})(n,this,e)}updateDOM(e,n,r){const i=n;return this.updateListItemDOM(e,i,r),!1}updateFromJSON(e){return super.updateFromJSON(e).setValue(e.value).setChecked(e.checked)}exportDOM(e){const n=this.createDOM(e._config),r=this.getFormatType();r&&(n.style.textAlign=r);const i=this.getDirection();return i&&(n.dir=i),{element:n}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),value:this.getValue()}}append(...e){for(let n=0;n<e.length;n++){const r=e[n];if(It(r)&&this.canMergeWith(r)){const i=r.getChildren();this.append(...i),r.remove()}else super.append(r)}return this}replace(e,n){if(Cr(e))return super.replace(e);this.setIndent(0);const r=this.getParentOrThrow();if(!ir(r))return e;if(r.__first===this.getKey())r.insertBefore(e);else if(r.__last===this.getKey())r.insertAfter(e);else{const i=fc(r.getListType());let o=this.getNextSibling();for(;o;){const a=o;o=o.getNextSibling(),i.append(a)}r.insertAfter(e),e.insertAfter(i)}return n&&(It(e)||P0(139),this.getChildren().forEach((i=>{e.append(i)}))),this.remove(),r.getChildrenSize()===0&&r.remove(),e}insertAfter(e,n=!0){const r=this.getParentOrThrow();if(ir(r)||P0(39),Cr(e))return super.insertAfter(e,n);const i=this.getNextSiblings();if(r.insertAfter(e,n),i.length!==0){const o=fc(r.getListType());i.forEach((a=>o.append(a))),e.insertAfter(o,n)}return e}remove(e){const n=this.getPreviousSibling(),r=this.getNextSibling();super.remove(e),n&&r&&Zp(n)&&Zp(r)&&(L8(n.getFirstChild(),r.getFirstChild()),r.remove())}insertNewAfter(e,n=!0){const r=mc().updateFromJSON(this.exportJSON()).setChecked(!this.getChecked()&&void 0);return this.insertAfter(r,n),r}collapseAtStart(e){const n=yi();this.getChildren().forEach((a=>n.append(a)));const r=this.getParentOrThrow(),i=r.getParentOrThrow(),o=Cr(i);if(r.getChildrenSize()===1)if(o)r.remove(),i.select();else{r.insertBefore(n),r.remove();const a=e.anchor,s=e.focus,u=n.getKey();a.type==="element"&&a.getNode().is(this)&&a.set(u,a.offset,"element"),s.type==="element"&&s.getNode().is(this)&&s.set(u,s.offset,"element")}else r.insertBefore(n),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(e){const n=this.getWritable();return n.__value=e,n}getChecked(){const e=this.getLatest();let n;const r=this.getParent();return ir(r)&&(n=r.getListType()),n==="check"?!!e.__checked:void 0}setChecked(e){const n=this.getWritable();return n.__checked=e,n}toggleChecked(){const e=this.getWritable();return e.setChecked(!e.__checked)}getIndent(){const e=this.getParent();if(e===null||!this.isAttached())return this.getLatest().__indent;let n=e.getParentOrThrow(),r=0;for(;Cr(n);)n=n.getParentOrThrow().getParentOrThrow(),r++;return r}setIndent(e){typeof e!="number"&&P0(117),(e=Math.floor(e))>=0||P0(199);let n=this.getIndent();for(;n!==e;)n<e?(RLe(this),n++):(ILe(this),n--);return this}canInsertAfter(e){return Cr(e)}canReplaceWith(e){return Cr(e)}canMergeWith(e){return Cr(e)||KR(e)}extractWithChild(e,n){if(!Xt(n))return!1;const r=n.anchor.getNode(),i=n.focus.getNode();return this.isParentOf(r)&&this.isParentOf(i)&&this.getTextContent().length===n.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return fc("bullet")}canMergeWhenEmpty(){return!0}};function LLe(t){if(t.classList.contains("task-list-item")){for(const n of t.children)if(n.tagName==="INPUT")return $Le(n)}const e=t.getAttribute("aria-checked");return{node:mc(e==="true"||e!=="false"&&void 0)}}function $Le(t){return t.getAttribute("type")!=="checkbox"?{node:null}:{node:mc(t.hasAttribute("checked"))}}function mc(t){return hh(new fy(void 0,t))}function Cr(t){return t instanceof fy}let py=class extends uu{$config(){return this.config("list",{$transform:e=>{(function(n){const r=n.getNextSibling();ir(r)&&n.getListType()===r.getListType()&&L8(n,r)})(e),Yte(e)},extends:uu,importDOM:{ol:()=>({conversion:kZ,priority:0}),ul:()=>({conversion:kZ,priority:0})}})}constructor(e="number",n=1,r){super(r);const i=NLe[e]||e;this.__listType=i,this.__tag=i==="number"?"ol":"ul",this.__start=n}afterCloneFrom(e){super.afterCloneFrom(e),this.__listType=e.__listType,this.__tag=e.__tag,this.__start=e.__start}getTag(){return this.getLatest().__tag}setListType(e){const n=this.getWritable();return n.__listType=e,n.__tag=e==="number"?"ol":"ul",n}getListType(){return this.getLatest().__listType}getStart(){return this.getLatest().__start}setStart(e){const n=this.getWritable();return n.__start=e,n}createDOM(e,n){const r=this.__tag,i=document.createElement(r);return this.__start!==1&&i.setAttribute("start",String(this.__start)),i.__lexicalListType=this.__listType,TZ(i,e.theme,this),i}updateDOM(e,n,r){return e.__tag!==this.__tag||(TZ(n,r.theme,this),!1)}updateFromJSON(e){return super.updateFromJSON(e).setListType(e.listType).setStart(e.start)}exportDOM(e){const n=this.createDOM(e._config,e);return Xo(n)&&(this.__start!==1&&n.setAttribute("start",String(this.__start)),this.__listType==="check"&&n.setAttribute("__lexicalListType","check")),{element:n}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag()}}canBeEmpty(){return!1}canIndent(){return!1}splice(e,n,r){let i=r;for(let o=0;o<r.length;o++){const a=r[o];Cr(a)||(i===r&&(i=[...r]),i[o]=mc().append(!It(a)||ir(a)||a.isInline()?a:to(a.getTextContent())))}return super.splice(e,n,i)}extractWithChild(e){return Cr(e)}};function TZ(t,e,n){const r=[],i=[],o=e.list;if(o!==void 0){const a=o[`${n.__tag}Depth`]||[],s=_T(n)-1,u=s%a.length,d=a[u],g=o[n.__tag];let v;const x=o.nested,O=o.checklist;if(x!==void 0&&x.list&&(v=x.list),g!==void 0&&r.push(g),O!==void 0&&n.__listType==="check"&&r.push(O),d!==void 0){r.push(...nM(d));for(let E=0;E<a.length;E++)E!==u&&i.push(n.__tag+E)}if(v!==void 0){const E=nM(v);s>1?r.push(...E):i.push(...E)}}i.length>0&&lI(t,...i),r.length>0&&Ef(t,...r)}function zLe(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];if(Cr(r)){e.push(r);const i=r.getChildren();i.length>1&&i.forEach((o=>{ir(o)&&e.push(SZ(o))}))}else e.push(SZ(r))}return e}function kZ(t){const e=t.nodeName.toLowerCase();let n=null;return e==="ol"?n=fc("number",t.start):e==="ul"&&(n=(function(r){if(r.getAttribute("__lexicallisttype")==="check"||r.classList.contains("contains-task-list"))return!0;for(const i of r.childNodes)if(Xo(i)&&i.hasAttribute("aria-checked"))return!0;return!1})(t)?fc("check"):fc("bullet")),{after:zLe,node:n}}const NLe={ol:"number",ul:"bullet"};function fc(t="number",e=1){return hh(new py(t,e))}function ir(t){return t instanceof py}const Kte=nr("INSERT_CHECK_LIST_COMMAND");function BLe(t){return Fl(t.registerCommand(Kte,(()=>(mz("check"),!0)),vo),t.registerCommand(QB,(e=>PZ(e,t,!1)),vo),t.registerCommand(VB,(e=>PZ(e,t,!0)),vo),t.registerCommand(xk,(()=>{if(gz()!=null){const e=t.getRootElement();return e?.focus(),!0}return!1}),vo),t.registerCommand(UB,(e=>{const n=gz();return!(n==null||!t.isEditable())&&(t.update((()=>{const r=fm(n);Cr(r)&&(e.preventDefault(),r.toggleChecked())})),!0)}),vo),t.registerCommand(jB,(e=>t.getEditorState().read((()=>{const n=an();if(Xt(n)&&n.isCollapsed()){const{anchor:r}=n,i=r.type==="element";if(i||r.offset===0){const o=r.getNode(),a=Of(o,(s=>It(s)&&!s.isInline()));if(Cr(a)){const s=a.getParent();if(ir(s)&&s.getListType()==="check"&&(i||a.getFirstDescendant()===o)){const u=t.getElementByKey(a.__key);if(u!=null&&document.activeElement!==u)return u.focus(),e.preventDefault(),!0}}}}return!1}))),vo),t.registerRootListener(((e,n)=>{e!==null&&(e.addEventListener("click",EZ),e.addEventListener("pointerdown",AZ)),n!==null&&(n.removeEventListener("click",EZ),n.removeEventListener("pointerdown",AZ))})))}function Jte(t,e){const n=t.target;if(!Xo(n))return;const r=n.firstChild;if(Xo(r)&&(r.tagName==="UL"||r.tagName==="OL"))return;const i=n.parentNode;if(!i||i.__lexicalListType!=="check")return;const o=n.getBoundingClientRect(),a=gMe(n),s=t.clientX/a,u=window.getComputedStyle?window.getComputedStyle(n,"::before"):{width:"0px"},d=parseFloat(u.width),g=t.pointerType==="touch"?32:0;(n.dir==="rtl"?s<o.right+g&&s>o.right-d-g:s>o.left-g&&s<o.left+d+g)&&e()}function EZ(t){Jte(t,(()=>{if(Xo(t.target)){const e=t.target,n=o8(e);n!=null&&n.isEditable()&&n.update((()=>{const r=fm(e);Cr(r)&&(e.focus(),r.toggleChecked())}))}}))}function AZ(t){Jte(t,(()=>{t.preventDefault()}))}function gz(){const t=document.activeElement;return Xo(t)&&t.tagName==="LI"&&t.parentNode!=null&&t.parentNode.__lexicalListType==="check"?t:null}function PZ(t,e,n){const r=gz();return r!=null&&e.update((()=>{const i=fm(r);if(!Cr(i))return;const o=(function(a,s){let u=s?a.getPreviousSibling():a.getNextSibling(),d=a;for(;u==null&&Cr(d);)d=d.getParentOrThrow().getParent(),d!=null&&(u=s?d.getPreviousSibling():d.getNextSibling());for(;Cr(u);){const g=s?u.getLastChild():u.getFirstChild();if(!ir(g))return u;u=s?g.getLastChild():g.getFirstChild()}return null})(i,n);if(o!=null){o.selectStart();const a=e.getElementByKey(o.__key);a!=null&&(t.preventDefault(),setTimeout((()=>{a.focus()}),0))}})),!1}const FLe=nr("UPDATE_LIST_START_COMMAND"),ene=nr("INSERT_UNORDERED_LIST_COMMAND"),tne=nr("INSERT_ORDERED_LIST_COMMAND"),nne=nr("REMOVE_LIST_COMMAND");function jLe(t){return Fl(t.registerCommand(tne,(()=>(mz("number"),!0)),vo),t.registerCommand(FLe,(e=>{const{listNodeKey:n,newStart:r}=e,i=Li(n);return!!ir(i)&&(i.getListType()==="number"&&(i.setStart(r),Yte(i)),!0)}),vo),t.registerCommand(ene,(()=>(mz("bullet"),!0)),vo),t.registerCommand(nne,(()=>(MLe(),!0)),vo),t.registerCommand(uT,(()=>DLe()),vo),t.registerNodeTransform(fy,(e=>{const n=e.getFirstChild();if(n){if(pn(n)){const r=n.getStyle(),i=n.getFormat();e.getTextStyle()!==r&&e.setTextStyle(r),e.getTextFormat()!==i&&e.setTextFormat(i)}}else{const r=an();Xt(r)&&(r.style!==e.getTextStyle()||r.format!==e.getTextFormat())&&r.isCollapsed()&&e.is(r.anchor.getNode())&&e.setTextStyle(r.style).setTextFormat(r.format)}})),t.registerNodeTransform(bm,(e=>{const n=e.getParent();if(Cr(n)&&e.is(n.getFirstChild())){const r=e.getStyle(),i=e.getFormat();r===n.getTextStyle()&&i===n.getTextFormat()||n.setTextStyle(r).setTextFormat(i)}})))}function VLe(t){const e=n=>{const r=n.getParent();if(ir(n.getFirstChild())||!ir(r))return;const i=Of(n,(o=>Cr(o)&&ir(o.getParent())&&Cr(o.getPreviousSibling())));if(i===null&&n.getIndent()>0)n.setIndent(0);else if(Cr(i)){const o=i.getPreviousSibling();if(Cr(o)){const a=(function(u){let d=u,g=d.getFirstChild();for(;ir(g);){const v=g.getLastChild();if(!Cr(v))break;d=v,g=d.getFirstChild()}return d})(o),s=a.getParent();if(ir(s)){const u=_T(s);u+1<_T(r)&&n.setIndent(u)}}}};return t.registerNodeTransform(py,(n=>{const r=[n];for(;r.length>0;){const i=r.shift();if(ir(i)){for(const o of i.getChildren())if(Cr(o)){e(o);const a=o.getFirstChild();ir(a)&&r.push(a)}}}}))}function QLe(t){try{const e=t.anchor,n=t.focus,r=t.anchor.getNode(),i=t.focus.getNode();return r===i?r:t.isBackward()?EU(n)?r:i:EU(e)?r:i}catch{return null}}const ULe=["transform","perspective","filter","backdrop-filter","contain","container-type"],ZLe=["layout","paint","strict","content"];function qLe(t){let e=t?.parentElement;for(;e;){const n=window.getComputedStyle(e),i=n.willChange.split(",").map(a=>a.trim()).some(a=>ULe.includes(a));if(n.transform!=="none"||n.perspective!=="none"||n.filter!=="none"||n.backdropFilter!=="none"||ZLe.includes(n.contain)||n.containerType!=="normal"||n.contentVisibility==="auto"||i)return e;e=e.parentElement}return null}function rne(t){const e=an(),n=window.getSelection(),r=document.activeElement,i=t.getRootElement();if(e!==null&&n!==null&&i!==null&&i.contains(n.anchorNode)&&t.isEditable()){const o=n.getRangeAt(0);let a;if(n.isCollapsed){let u=n.anchorNode;u?.nodeType==3&&(u=u.parentNode),a=u.getBoundingClientRect(),a.width=0}else if(n.anchorNode===i){let u=i;for(;u.firstElementChild!=null;)u=u.firstElementChild;a=u.getBoundingClientRect()}else a=o.getBoundingClientRect();const s=qLe(i);if(s){const u=s.getBoundingClientRect();return{top:Math.round(a.top-u.top),left:Math.round(a.left-u.left),width:Math.round(a.width),height:Math.round(a.height)}}return{top:Math.round(a.top),left:Math.round(a.left),width:Math.round(a.width),height:Math.round(a.height)}}else if(r?.className!=="link-input")return null;return null}function WLe(t,e){let n="";return t.getEditorState().read(()=>{const r=an();if(!r||!Xt(r)||r.isCollapsed())return;const i=r.getNodes();if(i.length===0)return;const o=new Set;i.forEach(u=>{let d=u;for(;d;){if(Xw(d)||Cr(d)||d.getType()==="paragraph"||d.getType()==="quote"){It(d)&&o.add(d);break}d=d.getParent()}});const a=o.size>0?Array.from(o):i;function s(u){if(Xw(u)){const d=parseInt(u.getTag().replace("h","")),v=u.getChildren().map(x=>s(x)).join("");return"#".repeat(d)+" "+v+`

`}else if(Cr(u)){const d=u.getParent(),g=d&&ir(d)&&d.getListType()==="number"?"1. ":"- ",x=u.getChildren().map(O=>s(O)).join("");return g+x+`
`}else{if(ir(u))return u.getChildren().map(g=>s(g)).join("")+`
`;if(pn(u)){let d=u.getTextContent();const g=u.getFormat();return g&16?`\`${d}\``:(g&1&&(d=`**${d}**`),g&2&&(d=`*${d}*`),g&4&&(d=`~~${d}~~`),d)}else if(Yc(u)){const d=u.getURL(),g=u.getTitle(),x=u.getChildren().map(O=>s(O)).join("");return g?`[${x}](${d} "${g}")`:`[${x}](${d})`}else if(It(u))return u.getChildren().map(g=>s(g)).join("")}return u.getTextContent()}n=a.map(u=>s(u)).join("")}),n.trim()}const HLe=({children:t})=>{const e=Ms(pd),n=ae.useMemo(()=>[e,PJ(null,dI)],[e]);return ae.createElement(A5.Provider,{value:n},t)},GLe=()=>{const t=Ds(),e=qi(Dte),n=qi(BDe),r=v=>{n(v),e(v?{current:v}:null)},[i,o,a,s,u,d,g]=as(oz,sz,Fte,jte,Qte,az,Vte);return ae.createElement(ae.Fragment,null,s.map((v,x)=>ae.createElement(v,{key:x})),ae.createElement(ine,{wrappers:u},ae.createElement("div",{className:Yr(Qt.rootContentEditableWrapper,"mdxeditor-root-contenteditable")},ae.createElement(D8,{contentEditable:ae.createElement("div",{ref:r},ae.createElement(R8,{className:Yr(Qt.contentEditable,i),ariaLabel:t("contentArea.editableMarkdown","editable markdown"),spellCheck:o})),placeholder:ae.createElement("div",{className:Yr(Qt.contentEditable,Qt.placeholder,i)},ae.createElement("p",null,d)),ErrorBoundary:I8}))),a.map((v,x)=>ae.createElement(v,{key:x})),g.map((v,x)=>ae.createElement(v,{key:x})))},XLe={listItemIndent:"one"},YLe=t=>s3e[t];function KLe(t,e,n={}){let r=e;for(const[i,o]of Object.entries(n))r=r.replaceAll(`{{${i}}}`,String(o));return r}const ine=({wrappers:t,children:e})=>{if(t.length===0)return ae.createElement(ae.Fragment,null,e);const n=t[0];return ae.createElement(n,null,ae.createElement(ine,{wrappers:t.slice(1)},e))},JLe=({children:t,className:e,overlayContainer:n})=>{const r=ae.useRef(null),i=ae.useRef(null),o=qi(lv),a=qi(NDe);return ae.useEffect(()=>{const s=document.createElement("div");return s.classList.add("mdxeditor-popup-container",Qt.editorRoot,Qt.popupContainer,...(e??"").trim().split(" ").filter(Boolean)),(n??document.body).appendChild(s),r.current=s,o(r),a(i),()=>{s.remove()}},[e,r,n,o,a]),ae.createElement("div",{className:Yr("mdxeditor",Qt.editorRoot,Qt.editorWrapper,e),ref:i},t)},e$e=({mdxRef:t})=>{const e=$O();return ae.useImperativeHandle(t,()=>({getMarkdown:()=>{const n=e.getValue(Ex);return n==="source"||n==="diff"?e.getValue(Ax):e.getValue(mm)},setMarkdown:n=>{e.pub(T8,n)},insertMarkdown:n=>{e.pub(Lte,n)},focus:(n,r)=>{var i;(i=e.getValue(pd))==null||i.focus(n,r)},getContentEditableHTML:()=>{var n;return((n=e.getValue(Dte))==null?void 0:n.current.innerHTML)??""},getSelectionMarkdown:()=>{const n=e.getValue(Ex);if(n==="source"||n==="diff")return"";const r=e.getValue(Vo);return r?(e.getValue(Mk),e.getValue(C8),e.getValue(J5),e.getValue(Rk),e.getValue(gI),WLe(r)):""}}),[e]),null},t$e=ae.forwardRef((t,e)=>ae.createElement(LPe,{plugins:[UDe({contentEditableClassName:t.contentEditableClassName??"",spellCheck:t.spellCheck??!0,initialMarkdown:t.markdown,onChange:t.onChange??$0,onBlur:t.onBlur??$0,toMarkdownOptions:t.toMarkdownOptions??XLe,autoFocus:t.autoFocus??!1,placeholder:t.placeholder??"",readOnly:!!t.readOnly,iconComponentFor:t.iconComponentFor??YLe,suppressHtmlProcessing:t.suppressHtmlProcessing??!1,onError:t.onError??$0,translation:t.translation??KLe,trim:t.trim??!0,lexicalTheme:t.lexicalTheme,..."editorState"in t?{editorState:t.editorState}:{},suppressSharedHistory:t.suppressSharedHistory??!1,additionalLexicalNodes:t.additionalLexicalNodes??[],lexicalEditorNamespace:t.lexicalEditorNamespace??"MDXEditor"}),...t.plugins??[]]},ae.createElement(JLe,{className:t.className,overlayContainer:t.overlayContainer},ae.createElement(HLe,null,ae.createElement(GLe,null))),ae.createElement(e$e,{mdxRef:e}))),one=typeof window<"u"&&typeof window.document.createElement<"u",rM=one&&(()=>{var t;const e=(t=navigator.userAgentData)==null?void 0:t.platform;return e?/mac/i.test(e):/Mac|iPod|iPhone|iPad/.test(navigator.userAgent)})();function n$e(t,e){return rM?t:e}const r$e={testLexicalNode:Xw,visitLexicalNode:({lexicalNode:t,actions:e})=>{const n=parseInt(t.getTag()[1],10);e.addAndStepInto("heading",{depth:n})}},i$e={testNode:"heading",visitNode:function({mdastNode:t,actions:e}){e.addAndStepInto(Yp(`h${t.depth}`))}},o$e=["Digit0","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6"],sne=[1,2,3,4,5,6],s$e={Digit1:1,Digit2:2,Digit3:3,Digit4:4,Digit5:5,Digit6:6},xI=Pn(sne,t=>{t.pub(yI,e=>e.registerCommand(jR,n=>{const{code:r,ctrlKey:i,metaKey:o,altKey:a}=n;return o$e.includes(r)&&n$e(o,i)&&a?(n.preventDefault(),e.update(()=>{if(r==="Digit0")t.pub(eM,()=>yi());else{const s=t.getValue(xI),u=s$e[r];s.includes(u)&&t.pub(eM,()=>Yp(`h${u}`))}}),!0):!1},vo))}),a$e=Nl({init(t){t.pubIn({[ZO]:"headings",[ud]:i$e,[Lf]:Ak,[$f]:r$e})},update(t,e){t.pub(xI,e?.allowedHeadingLevels??sne)}});function MZ(t,e){return t.getEditorState().read((()=>{const n=Li(e);return n!==null&&n.isSelected()}))}function ane(t){const[e]=Bl(),[n,r]=j.useState((()=>MZ(e,t)));return j.useEffect((()=>{let i=!0;const o=e.registerUpdateListener((()=>{i&&r(MZ(e,t))}));return()=>{i=!1,o()}}),[e,t]),[n,j.useCallback((i=>{e.update((()=>{let o=an();rs(o)||(o=XB(),ss(o)),rs(o)&&(i?o.add(t):o.delete(t))}))}),[e,t]),j.useCallback((()=>{e.update((()=>{const i=an();rs(i)&&i.clear()}))}),[e])]}const lne=nr("INSERT_HORIZONTAL_RULE_COMMAND");function l$e({nodeKey:t}){const[e]=Bl(),[n,r,i]=ane(t);return j.useEffect((()=>Fl(e.registerCommand(NR,(o=>{const a=e.getElementByKey(t);return o.target===a&&(o.shiftKey||i(),r(!n),!0)}),vo))),[i,e,n,t,r]),j.useEffect((()=>{const o=e.getElementByKey(t),a=e._config.theme.hrSelected??"selected";o!==null&&(n?Ef(o,a):lI(o,a))}),[e,n,t]),null}let Dk=class cne extends uy{static getType(){return"horizontalrule"}static clone(e){return new cne(e.__key)}static importJSON(e){return qO().updateFromJSON(e)}static importDOM(){return{hr:()=>({conversion:c$e,priority:0})}}exportDOM(){return{element:document.createElement("hr")}}createDOM(e){const n=document.createElement("hr");return Ef(n,e.theme.hr),n}getTextContent(){return`
`}isInline(){return!1}updateDOM(){return!1}decorate(){return Y.jsx(l$e,{nodeKey:this.__key})}};function c$e(){return{node:qO()}}function qO(){return hh(new Dk)}function $8(t){return t instanceof Dk}function u$e(){const[t]=Bl();return j.useEffect((()=>t.registerCommand(lne,(e=>{const n=an();if(!Xt(n))return!1;if(n.focus.getNode()!==null){const r=qO();Qee(r)}return!0}),Mr)),[t]),null}const h$e={testLexicalNode:$8,visitLexicalNode({actions:t}){t.addAndStepInto("thematicBreak")}},d$e={testNode:"thematicBreak",visitNode({actions:t}){t.addAndStepInto(qO())}},une=xm(t=>{t.sub(t.pipe(une,jo(Vo)),([,e])=>{e?.dispatchCommand(lne,void 0)})}),f$e=Nl({init(t){t.pubIn({[ZO]:"thematicBreak",[ud]:d$e,[Lf]:Dk,[$f]:h$e,[Hx]:u$e})}}),p$e={testNode:"list",visitNode:function({mdastNode:t,lexicalParent:e,actions:n}){const r=t.children.some(o=>typeof o.checked=="boolean")?"check":t.ordered?"number":"bullet",i=fc(r);if(Cr(e)){const o=mc();o.append(i),e.insertAfter(o)}else e.append(i);n.visitChildren(t,i)}},m$e={testNode:"listItem",visitNode({mdastNode:t,actions:e,lexicalParent:n}){const r=n.getListType()==="check"?t.checked??!1:void 0;e.addAndStepInto(mc(r))}},g$e={testLexicalNode:ir,visitLexicalNode:({lexicalNode:t,actions:e})=>{e.addAndStepInto("list",{ordered:t.getListType()==="number",spread:!1})}},y$e={testLexicalNode:Cr,visitLexicalNode:({lexicalNode:t,mdastParent:e,actions:n})=>{const r=t.getChildren(),i=r[0];if(r.length===1&&ir(i)){const o=e.children.at(-1);o?n.visitChildren(t,o):n.visitChildren(i,e)}else{const o=t.getParent(),a=n.appendToParent(e,{type:"listItem",checked:o.getListType()==="check"?!!t.getChecked():void 0,spread:!1,children:[]});let s=null;for(const u of t.getChildren())pn(u)||wf(u)||u.isInline()&&(It(u)||wi(u))?(s??(s=n.appendToParent(a,{type:"paragraph",children:[]})),n.visit(u,s)):(s=null,n.visit(u,a))}}};function v$e(t,e){return Fl(t.registerCommand(QR,(n=>{const r=an();if(!Xt(r))return!1;n.preventDefault();const i=(function(o){const a=o.getNodes();if(mMe(a,(x=>F5(x)&&x.canIndent()?x:null)).length>0)return!0;const s=o.anchor,u=o.focus,d=u.isBefore(s)?u:s,g=d.getNode(),v=G4(g);if(v.canIndent()){const x=v.getKey();let O=BO();if(O.anchor.set(x,0,"element"),O.focus.set(x,0,"element"),O=_x(O),O.anchor.is(d))return!0}return!1})(r)?n.shiftKey?D4:N5:ZJ;return t.dispatchCommand(i,void 0)}),Mr),t.registerCommand(N5,(()=>{if(e==null)return!1;const n=an();if(!Xt(n))return!1;const r=n.getNodes().map((i=>G4(i).getIndent()));return Math.max(...r)+1>=e}),ch))}function RZ({maxIndent:t}){const[e]=Bl();return j.useEffect((()=>v$e(e,t)),[e,t]),null}function IZ(){const[t]=Bl();return j.useEffect((()=>BLe(t)),[t]),null}function DZ({hasStrictIndent:t=!1}){const[e]=Bl();return j.useEffect((()=>{if(!e.hasNodes([py,fy]))throw new Error("ListPlugin: ListNode and/or ListItemNode not registered on editor")}),[e]),j.useEffect((()=>{if(t)return VLe(e)}),[e,t]),(function(n){j.useEffect((()=>jLe(n)),[n])})(e),null}const _$e={name:"tasklistCheck",tokenize:b$e};function x$e(){return{text:{91:_$e}}}function b$e(t,e,n){const r=this;return i;function i(u){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(u):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(u),t.exit("taskListCheckMarker"),o)}function o(u){return ki(u)?(t.enter("taskListCheckValueUnchecked"),t.consume(u),t.exit("taskListCheckValueUnchecked"),a):u===88||u===120?(t.enter("taskListCheckValueChecked"),t.consume(u),t.exit("taskListCheckValueChecked"),a):n(u)}function a(u){return u===93?(t.enter("taskListCheckMarker"),t.consume(u),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),s):n(u)}function s(u){return kn(u)?e(u):mr(u)?t.check({tokenize:w$e},e,n)(u):n(u)}}function w$e(t,e,n){return Tr(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function O$e(){return{exit:{taskListCheckValueChecked:LZ,taskListCheckValueUnchecked:LZ,paragraph:C$e}}}function S$e(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:T$e}}}function LZ(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function C$e(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let o=-1,a;for(;++o<i.length;){const s=i[o];if(s.type==="paragraph"){a=s;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function T$e(t,e,n,r){const i=t.children[0],o=typeof t.checked=="boolean"&&i&&i.type==="paragraph",a="["+(t.checked?"x":" ")+"] ",s=n.createTracker(r);o&&s.move(a);let u=x8.listItem(t,e,n,{...r,...s.current()});return o&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),u;function d(g){return g+a}}const k$e=new Map([["number",tne],["bullet",ene],["check",Kte],["",nne]]),yz=Pn("",t=>{t.sub(t.pipe(Yw,jo(Vo)),([e,n])=>{if(!e||!n)return;const r=e.anchor.getNode();let i=r.getKey()==="root"?r:Of(r,s=>{const u=s.getParent();return u!==null&&ea(u)});i??(i=r.getTopLevelElementOrThrow());const o=i.getKey();if(n.getElementByKey(o)!==null)if(ir(i)){const s=Vee(r,py),u=s?s.getListType():i.getListType();t.pub(yz,u)}else t.pub(yz,"")})}),hne=Ss(t=>{t.sub(t.pipe(hne,jo(Vo)),([e,n])=>{n?.dispatchCommand(k$e.get(e),void 0)})}),E$e=Nl({init(t){var e;(e=t.getValue(pd))==null||e.registerCommand(N5,()=>!P$e(7),ch),t.pubIn({[ZO]:"lists",[eO]:O$e(),[Jw]:x$e(),[ud]:[p$e,m$e],[Lf]:[fy,py],[$f]:[g$e,y$e],[Ik]:S$e(),[Hx]:[RZ,DZ,IZ],[P8]:[RZ,DZ,IZ]})}});function A$e(t){const e=t.getNodes();return e.length===0?new Set([t.anchor.getNode().getParentOrThrow(),t.focus.getNode().getParentOrThrow()]):new Set(e.map(n=>It(n)?n:n.getParentOrThrow()))}function P$e(t){const e=an();if(!Xt(e))return!1;const n=A$e(e);let r=0;for(const i of n)if(ir(i))r=Math.max(_T(i)+1,r);else if(Cr(i)){const o=i.getParent();if(o?.getChildren().length===1){const a=o.getParent();if(Cr(a)&&a.getChildren().length===1)return!1}if(!ir(o))throw new Error("ListMaxIndentLevelPlugin: A ListItemNode must have a ListNode for a parent.");r=Math.max(_T(o)+1,r)}return r<=t}function M$e(t){return t.length}function R$e(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||M$e,o=[],a=[],s=[],u=[];let d=0,g=-1;for(;++g<t.length;){const A=[],M=[];let L=-1;for(t[g].length>d&&(d=t[g].length);++L<t[g].length;){const $=I$e(t[g][L]);if(n.alignDelimiters!==!1){const N=i($);M[L]=N,(u[L]===void 0||N>u[L])&&(u[L]=N)}A.push($)}a[g]=A,s[g]=M}let v=-1;if(typeof r=="object"&&"length"in r)for(;++v<d;)o[v]=$Z(r[v]);else{const A=$Z(r);for(;++v<d;)o[v]=A}v=-1;const x=[],O=[];for(;++v<d;){const A=o[v];let M="",L="";A===99?(M=":",L=":"):A===108?M=":":A===114&&(L=":");let $=n.alignDelimiters===!1?1:Math.max(1,u[v]-M.length-L.length);const N=M+"-".repeat($)+L;n.alignDelimiters!==!1&&($=M.length+$+L.length,$>u[v]&&(u[v]=$),O[v]=$),x[v]=N}a.splice(1,0,x),s.splice(1,0,O),g=-1;const E=[];for(;++g<a.length;){const A=a[g],M=s[g];v=-1;const L=[];for(;++v<d;){const $=A[v]||"";let N="",F="";if(n.alignDelimiters!==!1){const U=u[v]-(M[v]||0),q=o[v];q===114?N=" ".repeat(U):q===99?U%2?(N=" ".repeat(U/2+.5),F=" ".repeat(U/2-.5)):(N=" ".repeat(U/2),F=N):F=" ".repeat(U)}n.delimiterStart!==!1&&!v&&L.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&$==="")&&(n.delimiterStart!==!1||v)&&L.push(" "),n.alignDelimiters!==!1&&L.push(N),L.push($),n.alignDelimiters!==!1&&L.push(F),n.padding!==!1&&L.push(" "),(n.delimiterEnd!==!1||v!==d-1)&&L.push("|")}E.push(n.delimiterEnd===!1?L.join("").replace(/ +$/,""):L.join(""))}return E.join(`
`)}function I$e(t){return t==null?"":String(t)}function $Z(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function D$e(){return{enter:{table:L$e,tableData:zZ,tableHeader:zZ,tableRow:z$e},exit:{codeText:N$e,table:$$e,tableData:Z3,tableHeader:Z3,tableRow:Z3}}}function L$e(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function $$e(t){this.exit(t),this.data.inTable=void 0}function z$e(t){this.enter({type:"tableRow",children:[]},t)}function Z3(t){this.exit(t)}function zZ(t){this.enter({type:"tableCell",children:[]},t)}function N$e(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,B$e));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function B$e(t,e){return e==="|"?e:t}function F$e(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:x,table:a,tableCell:u,tableRow:s}};function a(O,E,A,M){return d(g(O,A,M),O.align)}function s(O,E,A,M){const L=v(O,A,M),$=d([L]);return $.slice(0,$.indexOf(`
`))}function u(O,E,A,M){const L=A.enter("tableCell"),$=A.enter("phrasing"),N=A.containerPhrasing(O,{...M,before:o,after:o});return $(),L(),N}function d(O,E){return R$e(O,{align:E,alignDelimiters:r,padding:n,stringLength:i})}function g(O,E,A){const M=O.children;let L=-1;const $=[],N=E.enter("table");for(;++L<M.length;)$[L]=v(M[L],E,A);return N(),$}function v(O,E,A){const M=O.children;let L=-1;const $=[],N=E.enter("tableRow");for(;++L<M.length;)$[L]=u(M[L],O,E,A);return N(),$}function x(O,E,A){let M=x8.inlineCode(O,E,A);return A.stack.includes("tableCell")&&(M=M.replace(/\|/g,"\\$&")),M}}class j$e{constructor(){this.map=[]}add(e,n,r){V$e(this,e,n,r)}consume(e){if(this.map.sort(function(o,a){return o[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const o of i)e.push(o);i=r.pop()}this.map.length=0}}function V$e(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function Q$e(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function U$e(){return{flow:{null:{name:"table",tokenize:Z$e,resolveAll:q$e}}}}function Z$e(t,e,n){const r=this;let i=0,o=0,a;return s;function s(ce){let be=r.events.length-1;for(;be>-1;){const we=r.events[be][1].type;if(we==="lineEnding"||we==="linePrefix")be--;else break}const ie=be>-1?r.events[be][1].type:null,me=ie==="tableHead"||ie==="tableRow"?q:u;return me===q&&r.parser.lazy[r.now().line]?n(ce):me(ce)}function u(ce){return t.enter("tableHead"),t.enter("tableRow"),d(ce)}function d(ce){return ce===124||(a=!0,o+=1),g(ce)}function g(ce){return ce===null?n(ce):kn(ce)?o>1?(o=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(ce),t.exit("lineEnding"),O):n(ce):mr(ce)?Tr(t,g,"whitespace")(ce):(o+=1,a&&(a=!1,i+=1),ce===124?(t.enter("tableCellDivider"),t.consume(ce),t.exit("tableCellDivider"),a=!0,g):(t.enter("data"),v(ce)))}function v(ce){return ce===null||ce===124||ki(ce)?(t.exit("data"),g(ce)):(t.consume(ce),ce===92?x:v)}function x(ce){return ce===92||ce===124?(t.consume(ce),v):v(ce)}function O(ce){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(ce):(t.enter("tableDelimiterRow"),a=!1,mr(ce)?Tr(t,E,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ce):E(ce))}function E(ce){return ce===45||ce===58?M(ce):ce===124?(a=!0,t.enter("tableCellDivider"),t.consume(ce),t.exit("tableCellDivider"),A):U(ce)}function A(ce){return mr(ce)?Tr(t,M,"whitespace")(ce):M(ce)}function M(ce){return ce===58?(o+=1,a=!0,t.enter("tableDelimiterMarker"),t.consume(ce),t.exit("tableDelimiterMarker"),L):ce===45?(o+=1,L(ce)):ce===null||kn(ce)?F(ce):U(ce)}function L(ce){return ce===45?(t.enter("tableDelimiterFiller"),$(ce)):U(ce)}function $(ce){return ce===45?(t.consume(ce),$):ce===58?(a=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(ce),t.exit("tableDelimiterMarker"),N):(t.exit("tableDelimiterFiller"),N(ce))}function N(ce){return mr(ce)?Tr(t,F,"whitespace")(ce):F(ce)}function F(ce){return ce===124?E(ce):ce===null||kn(ce)?!a||i!==o?U(ce):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(ce)):U(ce)}function U(ce){return n(ce)}function q(ce){return t.enter("tableRow"),W(ce)}function W(ce){return ce===124?(t.enter("tableCellDivider"),t.consume(ce),t.exit("tableCellDivider"),W):ce===null||kn(ce)?(t.exit("tableRow"),e(ce)):mr(ce)?Tr(t,W,"whitespace")(ce):(t.enter("data"),te(ce))}function te(ce){return ce===null||ce===124||ki(ce)?(t.exit("data"),W(ce)):(t.consume(ce),ce===92?re:te)}function re(ce){return ce===92||ce===124?(t.consume(ce),te):te(ce)}}function q$e(t,e){let n=-1,r=!0,i=0,o=[0,0,0,0],a=[0,0,0,0],s=!1,u=0,d,g,v;const x=new j$e;for(;++n<t.length;){const O=t[n],E=O[1];O[0]==="enter"?E.type==="tableHead"?(s=!1,u!==0&&(NZ(x,e,u,d,g),g=void 0,u=0),d={type:"table",start:Object.assign({},E.start),end:Object.assign({},E.end)},x.add(n,0,[["enter",d,e]])):E.type==="tableRow"||E.type==="tableDelimiterRow"?(r=!0,v=void 0,o=[0,0,0,0],a=[0,n+1,0,0],s&&(s=!1,g={type:"tableBody",start:Object.assign({},E.start),end:Object.assign({},E.end)},x.add(n,0,[["enter",g,e]])),i=E.type==="tableDelimiterRow"?2:g?3:1):i&&(E.type==="data"||E.type==="tableDelimiterMarker"||E.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(o[1]!==0&&(a[0]=a[1],v=RA(x,e,o,i,void 0,v),o=[0,0,0,0]),a[2]=n)):E.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(a[0]=a[1],v=RA(x,e,o,i,void 0,v)),o=a,a=[o[1],n,0,0])):E.type==="tableHead"?(s=!0,u=n):E.type==="tableRow"||E.type==="tableDelimiterRow"?(u=n,o[1]!==0?(a[0]=a[1],v=RA(x,e,o,i,n,v)):a[1]!==0&&(v=RA(x,e,a,i,n,v)),i=0):i&&(E.type==="data"||E.type==="tableDelimiterMarker"||E.type==="tableDelimiterFiller")&&(a[3]=n)}for(u!==0&&NZ(x,e,u,d,g),x.consume(e.events),n=-1;++n<e.events.length;){const O=e.events[n];O[0]==="enter"&&O[1].type==="table"&&(O[1]._align=Q$e(e.events,n))}return t}function RA(t,e,n,r,i,o){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(o.end=Object.assign({},H1(e.events,n[0])),t.add(n[0],0,[["exit",o,e]]));const u=H1(e.events,n[1]);if(o={type:a,start:Object.assign({},u),end:Object.assign({},u)},t.add(n[1],0,[["enter",o,e]]),n[2]!==0){const d=H1(e.events,n[2]),g=H1(e.events,n[3]),v={type:s,start:Object.assign({},d),end:Object.assign({},g)};if(t.add(n[2],0,[["enter",v,e]]),r!==2){const x=e.events[n[2]],O=e.events[n[3]];if(x[1].end=Object.assign({},O[1].end),x[1].type="chunkText",x[1].contentType="text",n[3]>n[2]+1){const E=n[2]+1,A=n[3]-n[2]-1;t.add(E,A,[])}}t.add(n[3]+1,0,[["exit",v,e]])}return i!==void 0&&(o.end=Object.assign({},H1(e.events,i)),t.add(i,0,[["exit",o,e]]),o=void 0),o}function NZ(t,e,n,r,i){const o=[],a=H1(e.events,n);i&&(i.end=Object.assign({},a),o.push(["exit",i,e])),r.end=Object.assign({},a),o.push(["exit",r,e]),t.add(n+1,0,o)}function H1(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const BZ=[["Cat","rgb(125, 50, 0)"],["Dog","rgb(100, 0, 0)"],["Rabbit","rgb(150, 0, 0)"],["Frog","rgb(200, 0, 0)"],["Fox","rgb(200, 75, 0)"],["Hedgehog","rgb(0, 75, 0)"],["Pigeon","rgb(0, 125, 0)"],["Squirrel","rgb(75, 100, 0)"],["Bear","rgb(125, 100, 0)"],["Tiger","rgb(0, 0, 150)"],["Leopard","rgb(0, 0, 200)"],["Zebra","rgb(0, 0, 250)"],["Wolf","rgb(0, 100, 150)"],["Owl","rgb(0, 100, 100)"],["Gull","rgb(100, 0, 100)"],["Squid","rgb(150, 0, 150)"]],FZ=BZ[Math.floor(Math.random()*BZ.length)],W$e=j.createContext({clientID:0,color:FZ[1],isCollabActive:!1,name:FZ[0],yjsDocMap:new Map});function H$e(t,e){return j.useContext(W$e)}function jZ(t){const e=new Set,{ownNodeConfig:n}=oI(t),r=t.transform();if(n){const i=n.$transform;i&&e.add(i)}return r&&e.add(r),e}function dne({initialEditor:t,children:e,initialNodes:n,initialTheme:r,skipCollabChecks:i,skipEditableListener:o}){const a=j.useRef(!1),s=j.useContext(A5);s==null&&(function(E,...A){const M=new URL("https://lexical.dev/docs/error"),L=new URLSearchParams;L.append("code",E);for(const $ of A)L.append("v",$);throw M.search=L.toString(),Error(`Minified Lexical error #${E}; visit ${M.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)})(9);const[u,{getTheme:d}]=s,g=j.useMemo((()=>{const E=r||d()||void 0,A=PJ(s,E);E!==void 0&&(t._config.theme=E),t._parentEditor=t._parentEditor||u;const M=t._createEditorArgs,L=M&&M.namespace;if(n){L||(t._config.namespace=u._config.namespace);for(let $ of n){let N=null,F=null;if(typeof $!="function"){const q=$;$=q.replace,N=q.with,F=q.withKlass||null}const U=eI(t,$.getType());t._nodes.set($.getType(),{exportDOM:U?U.exportDOM:void 0,klass:$,replace:N,replaceWithKlass:F,sharedNodeState:C4($),transforms:jZ($)})}}else if(M&&M.nodes)L||(t._config.namespace=u._config.namespace);else{const $=t._nodes=new Map(u._nodes);L||(t._config.namespace=u._config.namespace);for(const[N,F]of $)t._nodes.set(N,{exportDOM:F.exportDOM,klass:F.klass,replace:F.replace,replaceWithKlass:F.replaceWithKlass,sharedNodeState:C4(F.klass),transforms:jZ(F.klass)})}return[t,A]}),[]),{isCollabActive:v,yjsDocMap:x}=H$e(),O=i||a.current||x.has(t.getKey());return j.useEffect((()=>{O&&(a.current=!0)}),[O]),j.useEffect((()=>{if(!o){const E=A=>t.setEditable(A);return E(u.isEditable()),u.registerEditableListener(E)}}),[t,u,o]),Y.jsx(A5.Provider,{value:g,children:!v||O?e:null})}function Or(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function VZ(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function fne(...t){return e=>{let n=!1;const r=t.map(i=>{const o=VZ(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():VZ(t[i],null)}}}}function Ro(...t){return j.useCallback(fne(...t),t)}function G$e(t,e){const n=j.createContext(e),r=o=>{const{children:a,...s}=o,u=j.useMemo(()=>s,Object.values(s));return Y.jsx(n.Provider,{value:u,children:a})};r.displayName=t+"Provider";function i(o){const a=j.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,i]}function my(t,e=[]){let n=[];function r(o,a){const s=j.createContext(a),u=n.length;n=[...n,a];const d=v=>{const{scope:x,children:O,...E}=v,A=x?.[t]?.[u]||s,M=j.useMemo(()=>E,Object.values(E));return Y.jsx(A.Provider,{value:M,children:O})};d.displayName=o+"Provider";function g(v,x){const O=x?.[t]?.[u]||s,E=j.useContext(O);if(E)return E;if(a!==void 0)return a;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[d,g]}const i=()=>{const o=n.map(a=>j.createContext(a));return function(s){const u=s?.[t]||o;return j.useMemo(()=>({[`__scope${t}`]:{...s,[t]:u}}),[s,u])}};return i.scopeName=t,[r,X$e(i,...e)]}function X$e(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((s,{useScope:u,scopeName:d})=>{const v=u(o)[`__scope${d}`];return{...s,...v}},{});return j.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function nO(t){const e=Y$e(t),n=j.forwardRef((r,i)=>{const{children:o,...a}=r,s=j.Children.toArray(o),u=s.find(J$e);if(u){const d=u.props.children,g=s.map(v=>v===u?j.Children.count(d)>1?j.Children.only(null):j.isValidElement(d)?d.props.children:null:v);return Y.jsx(e,{...a,ref:i,children:j.isValidElement(d)?j.cloneElement(d,void 0,g):null})}return Y.jsx(e,{...a,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}function Y$e(t){const e=j.forwardRef((n,r)=>{const{children:i,...o}=n;if(j.isValidElement(i)){const a=t4e(i),s=e4e(o,i.props);return i.type!==j.Fragment&&(s.ref=r?fne(r,a):a),j.cloneElement(i,s)}return j.Children.count(i)>1?j.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var pne=Symbol("radix.slottable");function K$e(t){const e=({children:n})=>Y.jsx(Y.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=pne,e}function J$e(t){return j.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===pne}function e4e(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const u=o(...s);return i(...s),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function t4e(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var n4e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Zr=n4e.reduce((t,e)=>{const n=nO(`Primitive.${e}`),r=j.forwardRef((i,o)=>{const{asChild:a,...s}=i,u=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),Y.jsx(u,{...s,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function r4e(t,e){t&&um.flushSync(()=>t.dispatchEvent(e))}function q0(t){const e=j.useRef(t);return j.useEffect(()=>{e.current=t}),j.useMemo(()=>(...n)=>e.current?.(...n),[])}function i4e(t,e=globalThis?.document){const n=q0(t);j.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var o4e="DismissableLayer",vz="dismissableLayer.update",s4e="dismissableLayer.pointerDownOutside",a4e="dismissableLayer.focusOutside",QZ,mne=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lk=j.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:s,...u}=t,d=j.useContext(mne),[g,v]=j.useState(null),x=g?.ownerDocument??globalThis?.document,[,O]=j.useState({}),E=Ro(e,W=>v(W)),A=Array.from(d.layers),[M]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),L=A.indexOf(M),$=g?A.indexOf(g):-1,N=d.layersWithOutsidePointerEventsDisabled.size>0,F=$>=L,U=u4e(W=>{const te=W.target,re=[...d.branches].some(ce=>ce.contains(te));!F||re||(i?.(W),a?.(W),W.defaultPrevented||s?.())},x),q=h4e(W=>{const te=W.target;[...d.branches].some(ce=>ce.contains(te))||(o?.(W),a?.(W),W.defaultPrevented||s?.())},x);return i4e(W=>{$===d.layers.size-1&&(r?.(W),!W.defaultPrevented&&s&&(W.preventDefault(),s()))},x),j.useEffect(()=>{if(g)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(QZ=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(g)),d.layers.add(g),UZ(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=QZ)}},[g,x,n,d]),j.useEffect(()=>()=>{g&&(d.layers.delete(g),d.layersWithOutsidePointerEventsDisabled.delete(g),UZ())},[g,d]),j.useEffect(()=>{const W=()=>O({});return document.addEventListener(vz,W),()=>document.removeEventListener(vz,W)},[]),Y.jsx(Zr.div,{...u,ref:E,style:{pointerEvents:N?F?"auto":"none":void 0,...t.style},onFocusCapture:Or(t.onFocusCapture,q.onFocusCapture),onBlurCapture:Or(t.onBlurCapture,q.onBlurCapture),onPointerDownCapture:Or(t.onPointerDownCapture,U.onPointerDownCapture)})});Lk.displayName=o4e;var l4e="DismissableLayerBranch",c4e=j.forwardRef((t,e)=>{const n=j.useContext(mne),r=j.useRef(null),i=Ro(e,r);return j.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),Y.jsx(Zr.div,{...t,ref:i})});c4e.displayName=l4e;function u4e(t,e=globalThis?.document){const n=q0(t),r=j.useRef(!1),i=j.useRef(()=>{});return j.useEffect(()=>{const o=s=>{if(s.target&&!r.current){let u=function(){gne(s4e,n,d,{discrete:!0})};const d={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function h4e(t,e=globalThis?.document){const n=q0(t),r=j.useRef(!1);return j.useEffect(()=>{const i=o=>{o.target&&!r.current&&gne(a4e,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function UZ(){const t=new CustomEvent(vz);document.dispatchEvent(t)}function gne(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?r4e(i,o):i.dispatchEvent(o)}var q3=0;function z8(){j.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??ZZ()),document.body.insertAdjacentElement("beforeend",t[1]??ZZ()),q3++,()=>{q3===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),q3--}},[])}function ZZ(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var W3="focusScope.autoFocusOnMount",H3="focusScope.autoFocusOnUnmount",qZ={bubbles:!1,cancelable:!0},d4e="FocusScope",bI=j.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=t,[s,u]=j.useState(null),d=q0(i),g=q0(o),v=j.useRef(null),x=Ro(e,A=>u(A)),O=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(r){let A=function(N){if(O.paused||!s)return;const F=N.target;s.contains(F)?v.current=F:w0(v.current,{select:!0})},M=function(N){if(O.paused||!s)return;const F=N.relatedTarget;F!==null&&(s.contains(F)||w0(v.current,{select:!0}))},L=function(N){if(document.activeElement===document.body)for(const U of N)U.removedNodes.length>0&&w0(s)};document.addEventListener("focusin",A),document.addEventListener("focusout",M);const $=new MutationObserver(L);return s&&$.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",A),document.removeEventListener("focusout",M),$.disconnect()}}},[r,s,O.paused]),j.useEffect(()=>{if(s){HZ.add(O);const A=document.activeElement;if(!s.contains(A)){const L=new CustomEvent(W3,qZ);s.addEventListener(W3,d),s.dispatchEvent(L),L.defaultPrevented||(f4e(v4e(yne(s)),{select:!0}),document.activeElement===A&&w0(s))}return()=>{s.removeEventListener(W3,d),setTimeout(()=>{const L=new CustomEvent(H3,qZ);s.addEventListener(H3,g),s.dispatchEvent(L),L.defaultPrevented||w0(A??document.body,{select:!0}),s.removeEventListener(H3,g),HZ.remove(O)},0)}}},[s,d,g,O]);const E=j.useCallback(A=>{if(!n&&!r||O.paused)return;const M=A.key==="Tab"&&!A.altKey&&!A.ctrlKey&&!A.metaKey,L=document.activeElement;if(M&&L){const $=A.currentTarget,[N,F]=p4e($);N&&F?!A.shiftKey&&L===F?(A.preventDefault(),n&&w0(N,{select:!0})):A.shiftKey&&L===N&&(A.preventDefault(),n&&w0(F,{select:!0})):L===$&&A.preventDefault()}},[n,r,O.paused]);return Y.jsx(Zr.div,{tabIndex:-1,...a,ref:x,onKeyDown:E})});bI.displayName=d4e;function f4e(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(w0(r,{select:e}),document.activeElement!==n)return}function p4e(t){const e=yne(t),n=WZ(e,t),r=WZ(e.reverse(),t);return[n,r]}function yne(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function WZ(t,e){for(const n of t)if(!m4e(n,{upTo:e}))return n}function m4e(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function g4e(t){return t instanceof HTMLInputElement&&"select"in t}function w0(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&g4e(t)&&e&&t.select()}}var HZ=y4e();function y4e(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=GZ(t,e),t.unshift(e)},remove(e){t=GZ(t,e),t[0]?.resume()}}}function GZ(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function v4e(t){return t.filter(e=>e.tagName!=="A")}var zl=globalThis?.document?j.useLayoutEffect:()=>{},_4e=Iw[" useId ".trim().toString()]||(()=>{}),x4e=0;function qg(t){const[e,n]=j.useState(_4e());return zl(()=>{n(r=>r??String(x4e++))},[t]),t||(e?`radix-${e}`:"")}const b4e=["top","right","bottom","left"],W0=Math.min,Wu=Math.max,iM=Math.round,IA=Math.floor,am=t=>({x:t,y:t}),w4e={left:"right",right:"left",bottom:"top",top:"bottom"},O4e={start:"end",end:"start"};function _z(t,e,n){return Wu(t,W0(e,n))}function ny(t,e){return typeof t=="function"?t(e):t}function ry(t){return t.split("-")[0]}function WO(t){return t.split("-")[1]}function N8(t){return t==="x"?"y":"x"}function B8(t){return t==="y"?"height":"width"}const S4e=new Set(["top","bottom"]);function Kp(t){return S4e.has(ry(t))?"y":"x"}function F8(t){return N8(Kp(t))}function C4e(t,e,n){n===void 0&&(n=!1);const r=WO(t),i=F8(t),o=B8(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=oM(a)),[a,oM(a)]}function T4e(t){const e=oM(t);return[xz(t),e,xz(e)]}function xz(t){return t.replace(/start|end/g,e=>O4e[e])}const XZ=["left","right"],YZ=["right","left"],k4e=["top","bottom"],E4e=["bottom","top"];function A4e(t,e,n){switch(t){case"top":case"bottom":return n?e?YZ:XZ:e?XZ:YZ;case"left":case"right":return e?k4e:E4e;default:return[]}}function P4e(t,e,n,r){const i=WO(t);let o=A4e(ry(t),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),e&&(o=o.concat(o.map(xz)))),o}function oM(t){return t.replace(/left|right|bottom|top/g,e=>w4e[e])}function M4e(t){return{top:0,right:0,bottom:0,left:0,...t}}function vne(t){return typeof t!="number"?M4e(t):{top:t,right:t,bottom:t,left:t}}function sM(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function KZ(t,e,n){let{reference:r,floating:i}=t;const o=Kp(e),a=F8(e),s=B8(a),u=ry(e),d=o==="y",g=r.x+r.width/2-i.width/2,v=r.y+r.height/2-i.height/2,x=r[s]/2-i[s]/2;let O;switch(u){case"top":O={x:g,y:r.y-i.height};break;case"bottom":O={x:g,y:r.y+r.height};break;case"right":O={x:r.x+r.width,y:v};break;case"left":O={x:r.x-i.width,y:v};break;default:O={x:r.x,y:r.y}}switch(WO(e)){case"start":O[a]-=x*(n&&d?-1:1);break;case"end":O[a]+=x*(n&&d?-1:1);break}return O}const R4e=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:g,y:v}=KZ(d,r,u),x=r,O={},E=0;for(let A=0;A<s.length;A++){const{name:M,fn:L}=s[A],{x:$,y:N,data:F,reset:U}=await L({x:g,y:v,initialPlacement:r,placement:x,strategy:i,middlewareData:O,rects:d,platform:a,elements:{reference:t,floating:e}});g=$??g,v=N??v,O={...O,[M]:{...O[M],...F}},U&&E<=50&&(E++,typeof U=="object"&&(U.placement&&(x=U.placement),U.rects&&(d=U.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):U.rects),{x:g,y:v}=KZ(d,x,u)),A=-1)}return{x:g,y:v,placement:x,strategy:i,middlewareData:O}};async function xT(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:u}=t,{boundary:d="clippingAncestors",rootBoundary:g="viewport",elementContext:v="floating",altBoundary:x=!1,padding:O=0}=ny(e,t),E=vne(O),M=s[x?v==="floating"?"reference":"floating":v],L=sM(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(M)))==null||n?M:M.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:d,rootBoundary:g,strategy:u})),$=v==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),F=await(o.isElement==null?void 0:o.isElement(N))?await(o.getScale==null?void 0:o.getScale(N))||{x:1,y:1}:{x:1,y:1},U=sM(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:$,offsetParent:N,strategy:u}):$);return{top:(L.top-U.top+E.top)/F.y,bottom:(U.bottom-L.bottom+E.bottom)/F.y,left:(L.left-U.left+E.left)/F.x,right:(U.right-L.right+E.right)/F.x}}const I4e=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:a,elements:s,middlewareData:u}=e,{element:d,padding:g=0}=ny(t,e)||{};if(d==null)return{};const v=vne(g),x={x:n,y:r},O=F8(i),E=B8(O),A=await a.getDimensions(d),M=O==="y",L=M?"top":"left",$=M?"bottom":"right",N=M?"clientHeight":"clientWidth",F=o.reference[E]+o.reference[O]-x[O]-o.floating[E],U=x[O]-o.reference[O],q=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let W=q?q[N]:0;(!W||!await(a.isElement==null?void 0:a.isElement(q)))&&(W=s.floating[N]||o.floating[E]);const te=F/2-U/2,re=W/2-A[E]/2-1,ce=W0(v[L],re),be=W0(v[$],re),ie=ce,me=W-A[E]-be,we=W/2-A[E]/2+te,pe=_z(ie,we,me),_e=!u.arrow&&WO(i)!=null&&we!==pe&&o.reference[E]/2-(we<ie?ce:be)-A[E]/2<0,Me=_e?we<ie?we-ie:we-me:0;return{[O]:x[O]+Me,data:{[O]:pe,centerOffset:we-pe-Me,..._e&&{alignmentOffset:Me}},reset:_e}}}),D4e=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:u,elements:d}=e,{mainAxis:g=!0,crossAxis:v=!0,fallbackPlacements:x,fallbackStrategy:O="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:A=!0,...M}=ny(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const L=ry(i),$=Kp(s),N=ry(s)===s,F=await(u.isRTL==null?void 0:u.isRTL(d.floating)),U=x||(N||!A?[oM(s)]:T4e(s)),q=E!=="none";!x&&q&&U.push(...P4e(s,A,E,F));const W=[s,...U],te=await xT(e,M),re=[];let ce=((r=o.flip)==null?void 0:r.overflows)||[];if(g&&re.push(te[L]),v){const we=C4e(i,a,F);re.push(te[we[0]],te[we[1]])}if(ce=[...ce,{placement:i,overflows:re}],!re.every(we=>we<=0)){var be,ie;const we=(((be=o.flip)==null?void 0:be.index)||0)+1,pe=W[we];if(pe&&(!(v==="alignment"?$!==Kp(pe):!1)||ce.every(Be=>Kp(Be.placement)===$?Be.overflows[0]>0:!0)))return{data:{index:we,overflows:ce},reset:{placement:pe}};let _e=(ie=ce.filter(Me=>Me.overflows[0]<=0).sort((Me,Be)=>Me.overflows[1]-Be.overflows[1])[0])==null?void 0:ie.placement;if(!_e)switch(O){case"bestFit":{var me;const Me=(me=ce.filter(Be=>{if(q){const Ue=Kp(Be.placement);return Ue===$||Ue==="y"}return!0}).map(Be=>[Be.placement,Be.overflows.filter(Ue=>Ue>0).reduce((Ue,Ce)=>Ue+Ce,0)]).sort((Be,Ue)=>Be[1]-Ue[1])[0])==null?void 0:me[0];Me&&(_e=Me);break}case"initialPlacement":_e=s;break}if(i!==_e)return{reset:{placement:_e}}}return{}}}};function JZ(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function eq(t){return b4e.some(e=>t[e]>=0)}const L4e=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=ny(t,e);switch(r){case"referenceHidden":{const o=await xT(e,{...i,elementContext:"reference"}),a=JZ(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:eq(a)}}}case"escaped":{const o=await xT(e,{...i,altBoundary:!0}),a=JZ(o,n.floating);return{data:{escapedOffsets:a,escaped:eq(a)}}}default:return{}}}}},_ne=new Set(["left","top"]);async function $4e(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=ry(n),s=WO(n),u=Kp(n)==="y",d=_ne.has(a)?-1:1,g=o&&u?-1:1,v=ny(e,t);let{mainAxis:x,crossAxis:O,alignmentAxis:E}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return s&&typeof E=="number"&&(O=s==="end"?E*-1:E),u?{x:O*g,y:x*d}:{x:x*d,y:O*g}}const z4e=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:a,middlewareData:s}=e,u=await $4e(e,t);return a===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:o+u.y,data:{...u,placement:a}}}}},N4e=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:M=>{let{x:L,y:$}=M;return{x:L,y:$}}},...u}=ny(t,e),d={x:n,y:r},g=await xT(e,u),v=Kp(ry(i)),x=N8(v);let O=d[x],E=d[v];if(o){const M=x==="y"?"top":"left",L=x==="y"?"bottom":"right",$=O+g[M],N=O-g[L];O=_z($,O,N)}if(a){const M=v==="y"?"top":"left",L=v==="y"?"bottom":"right",$=E+g[M],N=E-g[L];E=_z($,E,N)}const A=s.fn({...e,[x]:O,[v]:E});return{...A,data:{x:A.x-n,y:A.y-r,enabled:{[x]:o,[v]:a}}}}}},B4e=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:a}=e,{offset:s=0,mainAxis:u=!0,crossAxis:d=!0}=ny(t,e),g={x:n,y:r},v=Kp(i),x=N8(v);let O=g[x],E=g[v];const A=ny(s,e),M=typeof A=="number"?{mainAxis:A,crossAxis:0}:{mainAxis:0,crossAxis:0,...A};if(u){const N=x==="y"?"height":"width",F=o.reference[x]-o.floating[N]+M.mainAxis,U=o.reference[x]+o.reference[N]-M.mainAxis;O<F?O=F:O>U&&(O=U)}if(d){var L,$;const N=x==="y"?"width":"height",F=_ne.has(ry(i)),U=o.reference[v]-o.floating[N]+(F&&((L=a.offset)==null?void 0:L[v])||0)+(F?0:M.crossAxis),q=o.reference[v]+o.reference[N]+(F?0:(($=a.offset)==null?void 0:$[v])||0)-(F?M.crossAxis:0);E<U?E=U:E>q&&(E=q)}return{[x]:O,[v]:E}}}},F4e=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:a,elements:s}=e,{apply:u=()=>{},...d}=ny(t,e),g=await xT(e,d),v=ry(i),x=WO(i),O=Kp(i)==="y",{width:E,height:A}=o.floating;let M,L;v==="top"||v==="bottom"?(M=v,L=x===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(L=v,M=x==="end"?"top":"bottom");const $=A-g.top-g.bottom,N=E-g.left-g.right,F=W0(A-g[M],$),U=W0(E-g[L],N),q=!e.middlewareData.shift;let W=F,te=U;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(te=N),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(W=$),q&&!x){const ce=Wu(g.left,0),be=Wu(g.right,0),ie=Wu(g.top,0),me=Wu(g.bottom,0);O?te=E-2*(ce!==0||be!==0?ce+be:Wu(g.left,g.right)):W=A-2*(ie!==0||me!==0?ie+me:Wu(g.top,g.bottom))}await u({...e,availableWidth:te,availableHeight:W});const re=await a.getDimensions(s.floating);return E!==re.width||A!==re.height?{reset:{rects:!0}}:{}}}};function wI(){return typeof window<"u"}function HO(t){return xne(t)?(t.nodeName||"").toLowerCase():"#document"}function ih(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function wm(t){var e;return(e=(xne(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function xne(t){return wI()?t instanceof Node||t instanceof ih(t).Node:!1}function Af(t){return wI()?t instanceof Element||t instanceof ih(t).Element:!1}function gm(t){return wI()?t instanceof HTMLElement||t instanceof ih(t).HTMLElement:!1}function tq(t){return!wI()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ih(t).ShadowRoot}const j4e=new Set(["inline","contents"]);function $k(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Pf(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!j4e.has(i)}const V4e=new Set(["table","td","th"]);function Q4e(t){return V4e.has(HO(t))}const U4e=[":popover-open",":modal"];function OI(t){return U4e.some(e=>{try{return t.matches(e)}catch{return!1}})}const Z4e=["transform","translate","scale","rotate","perspective"],q4e=["transform","translate","scale","rotate","perspective","filter"],W4e=["paint","layout","strict","content"];function j8(t){const e=V8(),n=Af(t)?Pf(t):t;return Z4e.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||q4e.some(r=>(n.willChange||"").includes(r))||W4e.some(r=>(n.contain||"").includes(r))}function H4e(t){let e=H0(t);for(;gm(e)&&!rO(e);){if(j8(e))return e;if(OI(e))return null;e=H0(e)}return null}function V8(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const G4e=new Set(["html","body","#document"]);function rO(t){return G4e.has(HO(t))}function Pf(t){return ih(t).getComputedStyle(t)}function SI(t){return Af(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function H0(t){if(HO(t)==="html")return t;const e=t.assignedSlot||t.parentNode||tq(t)&&t.host||wm(t);return tq(e)?e.host:e}function bne(t){const e=H0(t);return rO(e)?t.ownerDocument?t.ownerDocument.body:t.body:gm(e)&&$k(e)?e:bne(e)}function bT(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=bne(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),a=ih(i);if(o){const s=bz(a);return e.concat(a,a.visualViewport||[],$k(i)?i:[],s&&n?bT(s):[])}return e.concat(i,bT(i,[],n))}function bz(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function wne(t){const e=Pf(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=gm(t),o=i?t.offsetWidth:n,a=i?t.offsetHeight:r,s=iM(n)!==o||iM(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function Q8(t){return Af(t)?t:t.contextElement}function bw(t){const e=Q8(t);if(!gm(e))return am(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=wne(e);let a=(o?iM(n.width):n.width)/r,s=(o?iM(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const X4e=am(0);function One(t){const e=ih(t);return!V8()||!e.visualViewport?X4e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Y4e(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ih(t)?!1:e}function Mx(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=Q8(t);let a=am(1);e&&(r?Af(r)&&(a=bw(r)):a=bw(t));const s=Y4e(o,n,r)?One(o):am(0);let u=(i.left+s.x)/a.x,d=(i.top+s.y)/a.y,g=i.width/a.x,v=i.height/a.y;if(o){const x=ih(o),O=r&&Af(r)?ih(r):r;let E=x,A=bz(E);for(;A&&r&&O!==E;){const M=bw(A),L=A.getBoundingClientRect(),$=Pf(A),N=L.left+(A.clientLeft+parseFloat($.paddingLeft))*M.x,F=L.top+(A.clientTop+parseFloat($.paddingTop))*M.y;u*=M.x,d*=M.y,g*=M.x,v*=M.y,u+=N,d+=F,E=ih(A),A=bz(E)}}return sM({width:g,height:v,x:u,y:d})}function CI(t,e){const n=SI(t).scrollLeft;return e?e.left+n:Mx(wm(t)).left+n}function Sne(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-CI(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function K4e(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",a=wm(r),s=e?OI(e.floating):!1;if(r===a||s&&o)return n;let u={scrollLeft:0,scrollTop:0},d=am(1);const g=am(0),v=gm(r);if((v||!v&&!o)&&((HO(r)!=="body"||$k(a))&&(u=SI(r)),gm(r))){const O=Mx(r);d=bw(r),g.x=O.x+r.clientLeft,g.y=O.y+r.clientTop}const x=a&&!v&&!o?Sne(a,u):am(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+g.x+x.x,y:n.y*d.y-u.scrollTop*d.y+g.y+x.y}}function J4e(t){return Array.from(t.getClientRects())}function eze(t){const e=wm(t),n=SI(t),r=t.ownerDocument.body,i=Wu(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Wu(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+CI(t);const s=-n.scrollTop;return Pf(r).direction==="rtl"&&(a+=Wu(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}const nq=25;function tze(t,e){const n=ih(t),r=wm(t),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,u=0;if(i){o=i.width,a=i.height;const g=V8();(!g||g&&e==="fixed")&&(s=i.offsetLeft,u=i.offsetTop)}const d=CI(r);if(d<=0){const g=r.ownerDocument,v=g.body,x=getComputedStyle(v),O=g.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,E=Math.abs(r.clientWidth-v.clientWidth-O);E<=nq&&(o-=E)}else d<=nq&&(o+=d);return{width:o,height:a,x:s,y:u}}const nze=new Set(["absolute","fixed"]);function rze(t,e){const n=Mx(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=gm(t)?bw(t):am(1),a=t.clientWidth*o.x,s=t.clientHeight*o.y,u=i*o.x,d=r*o.y;return{width:a,height:s,x:u,y:d}}function rq(t,e,n){let r;if(e==="viewport")r=tze(t,n);else if(e==="document")r=eze(wm(t));else if(Af(e))r=rze(e,n);else{const i=One(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return sM(r)}function Cne(t,e){const n=H0(t);return n===e||!Af(n)||rO(n)?!1:Pf(n).position==="fixed"||Cne(n,e)}function ize(t,e){const n=e.get(t);if(n)return n;let r=bT(t,[],!1).filter(s=>Af(s)&&HO(s)!=="body"),i=null;const o=Pf(t).position==="fixed";let a=o?H0(t):t;for(;Af(a)&&!rO(a);){const s=Pf(a),u=j8(a);!u&&s.position==="fixed"&&(i=null),(o?!u&&!i:!u&&s.position==="static"&&!!i&&nze.has(i.position)||$k(a)&&!u&&Cne(t,a))?r=r.filter(g=>g!==a):i=s,a=H0(a)}return e.set(t,r),r}function oze(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?OI(e)?[]:ize(e,this._c):[].concat(n),r],s=a[0],u=a.reduce((d,g)=>{const v=rq(e,g,i);return d.top=Wu(v.top,d.top),d.right=W0(v.right,d.right),d.bottom=W0(v.bottom,d.bottom),d.left=Wu(v.left,d.left),d},rq(e,s,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function sze(t){const{width:e,height:n}=wne(t);return{width:e,height:n}}function aze(t,e,n){const r=gm(e),i=wm(e),o=n==="fixed",a=Mx(t,!0,o,e);let s={scrollLeft:0,scrollTop:0};const u=am(0);function d(){u.x=CI(i)}if(r||!r&&!o)if((HO(e)!=="body"||$k(i))&&(s=SI(e)),r){const O=Mx(e,!0,o,e);u.x=O.x+e.clientLeft,u.y=O.y+e.clientTop}else i&&d();o&&!r&&i&&d();const g=i&&!r&&!o?Sne(i,s):am(0),v=a.left+s.scrollLeft-u.x-g.x,x=a.top+s.scrollTop-u.y-g.y;return{x:v,y:x,width:a.width,height:a.height}}function G3(t){return Pf(t).position==="static"}function iq(t,e){if(!gm(t)||Pf(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return wm(t)===n&&(n=n.ownerDocument.body),n}function Tne(t,e){const n=ih(t);if(OI(t))return n;if(!gm(t)){let i=H0(t);for(;i&&!rO(i);){if(Af(i)&&!G3(i))return i;i=H0(i)}return n}let r=iq(t,e);for(;r&&Q4e(r)&&G3(r);)r=iq(r,e);return r&&rO(r)&&G3(r)&&!j8(r)?n:r||H4e(t)||n}const lze=async function(t){const e=this.getOffsetParent||Tne,n=this.getDimensions,r=await n(t.floating);return{reference:aze(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function cze(t){return Pf(t).direction==="rtl"}const uze={convertOffsetParentRelativeRectToViewportRelativeRect:K4e,getDocumentElement:wm,getClippingRect:oze,getOffsetParent:Tne,getElementRects:lze,getClientRects:J4e,getDimensions:sze,getScale:bw,isElement:Af,isRTL:cze};function kne(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function hze(t,e){let n=null,r;const i=wm(t);function o(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function a(s,u){s===void 0&&(s=!1),u===void 0&&(u=1),o();const d=t.getBoundingClientRect(),{left:g,top:v,width:x,height:O}=d;if(s||e(),!x||!O)return;const E=IA(v),A=IA(i.clientWidth-(g+x)),M=IA(i.clientHeight-(v+O)),L=IA(g),N={rootMargin:-E+"px "+-A+"px "+-M+"px "+-L+"px",threshold:Wu(0,W0(1,u))||1};let F=!0;function U(q){const W=q[0].intersectionRatio;if(W!==u){if(!F)return a();W?a(!1,W):r=setTimeout(()=>{a(!1,1e-7)},1e3)}W===1&&!kne(d,t.getBoundingClientRect())&&a(),F=!1}try{n=new IntersectionObserver(U,{...N,root:i.ownerDocument})}catch{n=new IntersectionObserver(U,N)}n.observe(t)}return a(!0),o}function dze(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=Q8(t),g=i||o?[...d?bT(d):[],...bT(e)]:[];g.forEach(L=>{i&&L.addEventListener("scroll",n,{passive:!0}),o&&L.addEventListener("resize",n)});const v=d&&s?hze(d,n):null;let x=-1,O=null;a&&(O=new ResizeObserver(L=>{let[$]=L;$&&$.target===d&&O&&(O.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var N;(N=O)==null||N.observe(e)})),n()}),d&&!u&&O.observe(d),O.observe(e));let E,A=u?Mx(t):null;u&&M();function M(){const L=Mx(t);A&&!kne(A,L)&&n(),A=L,E=requestAnimationFrame(M)}return n(),()=>{var L;g.forEach($=>{i&&$.removeEventListener("scroll",n),o&&$.removeEventListener("resize",n)}),v?.(),(L=O)==null||L.disconnect(),O=null,u&&cancelAnimationFrame(E)}}const fze=z4e,pze=N4e,mze=D4e,gze=F4e,yze=L4e,oq=I4e,vze=B4e,_ze=(t,e,n)=>{const r=new Map,i={platform:uze,...n},o={...i.platform,_c:r};return R4e(t,e,{...i,platform:o})};var xze=typeof document<"u",bze=function(){},WP=xze?j.useLayoutEffect:bze;function aM(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!aM(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!aM(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function Ene(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function sq(t,e){const n=Ene(t);return Math.round(e*n)/n}function X3(t){const e=j.useRef(t);return WP(()=>{e.current=t}),e}function wze(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:u,open:d}=t,[g,v]=j.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[x,O]=j.useState(r);aM(x,r)||O(r);const[E,A]=j.useState(null),[M,L]=j.useState(null),$=j.useCallback(Be=>{Be!==q.current&&(q.current=Be,A(Be))},[]),N=j.useCallback(Be=>{Be!==W.current&&(W.current=Be,L(Be))},[]),F=o||E,U=a||M,q=j.useRef(null),W=j.useRef(null),te=j.useRef(g),re=u!=null,ce=X3(u),be=X3(i),ie=X3(d),me=j.useCallback(()=>{if(!q.current||!W.current)return;const Be={placement:e,strategy:n,middleware:x};be.current&&(Be.platform=be.current),_ze(q.current,W.current,Be).then(Ue=>{const Ce={...Ue,isPositioned:ie.current!==!1};we.current&&!aM(te.current,Ce)&&(te.current=Ce,um.flushSync(()=>{v(Ce)}))})},[x,e,n,be,ie]);WP(()=>{d===!1&&te.current.isPositioned&&(te.current.isPositioned=!1,v(Be=>({...Be,isPositioned:!1})))},[d]);const we=j.useRef(!1);WP(()=>(we.current=!0,()=>{we.current=!1}),[]),WP(()=>{if(F&&(q.current=F),U&&(W.current=U),F&&U){if(ce.current)return ce.current(F,U,me);me()}},[F,U,me,ce,re]);const pe=j.useMemo(()=>({reference:q,floating:W,setReference:$,setFloating:N}),[$,N]),_e=j.useMemo(()=>({reference:F,floating:U}),[F,U]),Me=j.useMemo(()=>{const Be={position:n,left:0,top:0};if(!_e.floating)return Be;const Ue=sq(_e.floating,g.x),Ce=sq(_e.floating,g.y);return s?{...Be,transform:"translate("+Ue+"px, "+Ce+"px)",...Ene(_e.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Ue,top:Ce}},[n,s,_e.floating,g.x,g.y]);return j.useMemo(()=>({...g,update:me,refs:pe,elements:_e,floatingStyles:Me}),[g,me,pe,_e,Me])}const Oze=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?oq({element:r.current,padding:i}).fn(n):{}:r?oq({element:r,padding:i}).fn(n):{}}}},Sze=(t,e)=>({...fze(t),options:[t,e]}),Cze=(t,e)=>({...pze(t),options:[t,e]}),Tze=(t,e)=>({...vze(t),options:[t,e]}),kze=(t,e)=>({...mze(t),options:[t,e]}),Eze=(t,e)=>({...gze(t),options:[t,e]}),Aze=(t,e)=>({...yze(t),options:[t,e]}),Pze=(t,e)=>({...Oze(t),options:[t,e]});var Mze="Arrow",Ane=j.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return Y.jsx(Zr.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:Y.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ane.displayName=Mze;var Rze=Ane;function Ize(t){const[e,n]=j.useState(void 0);return zl(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let a,s;if("borderBoxSize"in o){const u=o.borderBoxSize,d=Array.isArray(u)?u[0]:u;a=d.inlineSize,s=d.blockSize}else a=t.offsetWidth,s=t.offsetHeight;n({width:a,height:s})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var U8="Popper",[Pne,GO]=my(U8),[Dze,Mne]=Pne(U8),Rne=t=>{const{__scopePopper:e,children:n}=t,[r,i]=j.useState(null);return Y.jsx(Dze,{scope:e,anchor:r,onAnchorChange:i,children:n})};Rne.displayName=U8;var Ine="PopperAnchor",Dne=j.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=Mne(Ine,n),a=j.useRef(null),s=Ro(e,a),u=j.useRef(null);return j.useEffect(()=>{const d=u.current;u.current=r?.current||a.current,d!==u.current&&o.onAnchorChange(u.current)}),r?null:Y.jsx(Zr.div,{...i,ref:s})});Dne.displayName=Ine;var Z8="PopperContent",[Lze,$ze]=Pne(Z8),Lne=j.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:s=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:g=0,sticky:v="partial",hideWhenDetached:x=!1,updatePositionStrategy:O="optimized",onPlaced:E,...A}=t,M=Mne(Z8,n),[L,$]=j.useState(null),N=Ro(e,ot=>$(ot)),[F,U]=j.useState(null),q=Ize(F),W=q?.width??0,te=q?.height??0,re=r+(o!=="center"?"-"+o:""),ce=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},be=Array.isArray(d)?d:[d],ie=be.length>0,me={padding:ce,boundary:be.filter(Nze),altBoundary:ie},{refs:we,floatingStyles:pe,placement:_e,isPositioned:Me,middlewareData:Be}=wze({strategy:"fixed",placement:re,whileElementsMounted:(...ot)=>dze(...ot,{animationFrame:O==="always"}),elements:{reference:M.anchor},middleware:[Sze({mainAxis:i+te,alignmentAxis:a}),u&&Cze({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?Tze():void 0,...me}),u&&kze({...me}),Eze({...me,apply:({elements:ot,rects:vt,availableWidth:At,availableHeight:Tt})=>{const{width:Wt,height:Ot}=vt.reference,hn=ot.floating.style;hn.setProperty("--radix-popper-available-width",`${At}px`),hn.setProperty("--radix-popper-available-height",`${Tt}px`),hn.setProperty("--radix-popper-anchor-width",`${Wt}px`),hn.setProperty("--radix-popper-anchor-height",`${Ot}px`)}}),F&&Pze({element:F,padding:s}),Bze({arrowWidth:W,arrowHeight:te}),x&&Aze({strategy:"referenceHidden",...me})]}),[Ue,Ce]=Nne(_e),Pe=q0(E);zl(()=>{Me&&Pe?.()},[Me,Pe]);const Xe=Be.arrow?.x,ke=Be.arrow?.y,mt=Be.arrow?.centerOffset!==0,[gt,ct]=j.useState();return zl(()=>{L&&ct(window.getComputedStyle(L).zIndex)},[L]),Y.jsx("div",{ref:we.setFloating,"data-radix-popper-content-wrapper":"",style:{...pe,transform:Me?pe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:gt,"--radix-popper-transform-origin":[Be.transformOrigin?.x,Be.transformOrigin?.y].join(" "),...Be.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:Y.jsx(Lze,{scope:n,placedSide:Ue,onArrowChange:U,arrowX:Xe,arrowY:ke,shouldHideArrow:mt,children:Y.jsx(Zr.div,{"data-side":Ue,"data-align":Ce,...A,ref:N,style:{...A.style,animation:Me?void 0:"none"}})})})});Lne.displayName=Z8;var $ne="PopperArrow",zze={top:"bottom",right:"left",bottom:"top",left:"right"},zne=j.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=$ze($ne,r),a=zze[o.placedSide];return Y.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:Y.jsx(Rze,{...i,ref:n,style:{...i.style,display:"block"}})})});zne.displayName=$ne;function Nze(t){return t!==null}var Bze=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,a=i.arrow?.centerOffset!==0,s=a?0:t.arrowWidth,u=a?0:t.arrowHeight,[d,g]=Nne(n),v={start:"0%",center:"50%",end:"100%"}[g],x=(i.arrow?.x??0)+s/2,O=(i.arrow?.y??0)+u/2;let E="",A="";return d==="bottom"?(E=a?v:`${x}px`,A=`${-u}px`):d==="top"?(E=a?v:`${x}px`,A=`${r.floating.height+u}px`):d==="right"?(E=`${-u}px`,A=a?v:`${O}px`):d==="left"&&(E=`${r.floating.width+u}px`,A=a?v:`${O}px`),{data:{x:E,y:A}}}});function Nne(t){const[e,n="center"]=t.split("-");return[e,n]}var q8=Rne,TI=Dne,W8=Lne,H8=zne,Fze="Portal",zk=j.forwardRef((t,e)=>{const{container:n,...r}=t,[i,o]=j.useState(!1);zl(()=>o(!0),[]);const a=n||i&&globalThis?.document?.body;return a?H2.createPortal(Y.jsx(Zr.div,{...r,ref:e}),a):null});zk.displayName=Fze;function jze(t,e){return j.useReducer((n,r)=>e[n][r]??n,t)}var cv=t=>{const{present:e,children:n}=t,r=Vze(e),i=typeof n=="function"?n({present:r.isPresent}):j.Children.only(n),o=Ro(r.ref,Qze(i));return typeof n=="function"||r.isPresent?j.cloneElement(i,{ref:o}):null};cv.displayName="Presence";function Vze(t){const[e,n]=j.useState(),r=j.useRef(null),i=j.useRef(t),o=j.useRef("none"),a=t?"mounted":"unmounted",[s,u]=jze(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const d=DA(r.current);o.current=s==="mounted"?d:"none"},[s]),zl(()=>{const d=r.current,g=i.current;if(g!==t){const x=o.current,O=DA(d);t?u("MOUNT"):O==="none"||d?.display==="none"?u("UNMOUNT"):u(g&&x!==O?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),zl(()=>{if(e){let d;const g=e.ownerDocument.defaultView??window,v=O=>{const A=DA(r.current).includes(CSS.escape(O.animationName));if(O.target===e&&A&&(u("ANIMATION_END"),!i.current)){const M=e.style.animationFillMode;e.style.animationFillMode="forwards",d=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=M)})}},x=O=>{O.target===e&&(o.current=DA(r.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{g.clearTimeout(d),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:j.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function DA(t){return t?.animationName||"none"}function Qze(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Uze=Iw[" useInsertionEffect ".trim().toString()]||zl;function iy({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,o,a]=Zze({defaultProp:e,onChange:n}),s=t!==void 0,u=s?t:i;{const g=j.useRef(t!==void 0);j.useEffect(()=>{const v=g.current;v!==s&&console.warn(`${r} is changing from ${v?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=s},[s,r])}const d=j.useCallback(g=>{if(s){const v=qze(g)?g(t):g;v!==t&&a.current?.(v)}else o(g)},[s,t,o,a]);return[u,d]}function Zze({defaultProp:t,onChange:e}){const[n,r]=j.useState(t),i=j.useRef(n),o=j.useRef(e);return Uze(()=>{o.current=e},[e]),j.useEffect(()=>{i.current!==n&&(o.current?.(n),i.current=n)},[n,i]),[n,r,o]}function qze(t){return typeof t=="function"}var Wze=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},I1=new WeakMap,LA=new WeakMap,$A={},Y3=0,Bne=function(t){return t&&(t.host||Bne(t.parentNode))},Hze=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Bne(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Gze=function(t,e,n,r){var i=Hze(e,Array.isArray(t)?t:[t]);$A[n]||($A[n]=new WeakMap);var o=$A[n],a=[],s=new Set,u=new Set(i),d=function(v){!v||s.has(v)||(s.add(v),d(v.parentNode))};i.forEach(d);var g=function(v){!v||u.has(v)||Array.prototype.forEach.call(v.children,function(x){if(s.has(x))g(x);else try{var O=x.getAttribute(r),E=O!==null&&O!=="false",A=(I1.get(x)||0)+1,M=(o.get(x)||0)+1;I1.set(x,A),o.set(x,M),a.push(x),A===1&&E&&LA.set(x,!0),M===1&&x.setAttribute(n,"true"),E||x.setAttribute(r,"true")}catch(L){console.error("aria-hidden: cannot operate on ",x,L)}})};return g(e),s.clear(),Y3++,function(){a.forEach(function(v){var x=I1.get(v)-1,O=o.get(v)-1;I1.set(v,x),o.set(v,O),x||(LA.has(v)||v.removeAttribute(r),LA.delete(v)),O||v.removeAttribute(n)}),Y3--,Y3||(I1=new WeakMap,I1=new WeakMap,LA=new WeakMap,$A={})}},G8=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=Wze(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),Gze(r,i,n,"aria-hidden")):function(){return null}},HP="right-scroll-bar-position",GP="width-before-scroll-bar",Xze="with-scroll-bars-hidden",Yze="--removed-body-scroll-bar-size";function K3(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Kze(t,e){var n=j.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Jze=typeof window<"u"?j.useLayoutEffect:j.useEffect,aq=new WeakMap;function e6e(t,e){var n=Kze(null,function(r){return t.forEach(function(i){return K3(i,r)})});return Jze(function(){var r=aq.get(n);if(r){var i=new Set(r),o=new Set(t),a=n.current;i.forEach(function(s){o.has(s)||K3(s,null)}),o.forEach(function(s){i.has(s)||K3(s,a)})}aq.set(n,t)},[t]),n}function t6e(t){return t}function n6e(t,e){e===void 0&&(e=t6e);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var a=e(o,r);return n.push(a),function(){n=n.filter(function(s){return s!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(s){return o(s)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var s=n;n=[],s.forEach(o),a=n}var u=function(){var g=a;a=[],g.forEach(o)},d=function(){return Promise.resolve().then(u)};d(),n={push:function(g){a.push(g),d()},filter:function(g){return a=a.filter(g),n}}}};return i}function r6e(t){t===void 0&&(t={});var e=n6e(null);return e.options=Zh({async:!0,ssr:!1},t),e}var Fne=function(t){var e=t.sideCar,n=RO(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return j.createElement(r,Zh({},n))};Fne.isSideCarExport=!0;function i6e(t,e){return t.useMedium(e),Fne}var jne=r6e(),J3=function(){},kI=j.forwardRef(function(t,e){var n=j.useRef(null),r=j.useState({onScrollCapture:J3,onWheelCapture:J3,onTouchMoveCapture:J3}),i=r[0],o=r[1],a=t.forwardProps,s=t.children,u=t.className,d=t.removeScrollBar,g=t.enabled,v=t.shards,x=t.sideCar,O=t.noRelative,E=t.noIsolation,A=t.inert,M=t.allowPinchZoom,L=t.as,$=L===void 0?"div":L,N=t.gapMode,F=RO(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),U=x,q=e6e([n,e]),W=Zh(Zh({},F),i);return j.createElement(j.Fragment,null,g&&j.createElement(U,{sideCar:jne,removeScrollBar:d,shards:v,noRelative:O,noIsolation:E,inert:A,setCallbacks:o,allowPinchZoom:!!M,lockRef:n,gapMode:N}),a?j.cloneElement(j.Children.only(s),Zh(Zh({},W),{ref:q})):j.createElement($,Zh({},W,{className:u,ref:q}),s))});kI.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};kI.classNames={fullWidth:GP,zeroRight:HP};var o6e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function s6e(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=o6e();return e&&t.setAttribute("nonce",e),t}function a6e(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function l6e(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var c6e=function(){var t=0,e=null;return{add:function(n){t==0&&(e=s6e())&&(a6e(e,n),l6e(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},u6e=function(){var t=c6e();return function(e,n){j.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Vne=function(){var t=u6e(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},h6e={left:0,top:0,right:0,gap:0},eL=function(t){return parseInt(t||"",10)||0},d6e=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[eL(n),eL(r),eL(i)]},f6e=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return h6e;var e=d6e(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},p6e=Vne(),ww="data-scroll-locked",m6e=function(t,e,n,r){var i=t.left,o=t.top,a=t.right,s=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Xze,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(ww,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(HP,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(GP,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(HP," .").concat(HP,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(GP," .").concat(GP,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ww,`] {
    `).concat(Yze,": ").concat(s,`px;
  }
`)},lq=function(){var t=parseInt(document.body.getAttribute(ww)||"0",10);return isFinite(t)?t:0},g6e=function(){j.useEffect(function(){return document.body.setAttribute(ww,(lq()+1).toString()),function(){var t=lq()-1;t<=0?document.body.removeAttribute(ww):document.body.setAttribute(ww,t.toString())}},[])},y6e=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;g6e();var o=j.useMemo(function(){return f6e(i)},[i]);return j.createElement(p6e,{styles:m6e(o,!e,i,n?"":"!important")})},wz=!1;if(typeof window<"u")try{var zA=Object.defineProperty({},"passive",{get:function(){return wz=!0,!0}});window.addEventListener("test",zA,zA),window.removeEventListener("test",zA,zA)}catch{wz=!1}var D1=wz?{passive:!1}:!1,v6e=function(t){return t.tagName==="TEXTAREA"},Qne=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!v6e(t)&&n[e]==="visible")},_6e=function(t){return Qne(t,"overflowY")},x6e=function(t){return Qne(t,"overflowX")},cq=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Une(t,r);if(i){var o=Zne(t,r),a=o[1],s=o[2];if(a>s)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},b6e=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},w6e=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Une=function(t,e){return t==="v"?_6e(e):x6e(e)},Zne=function(t,e){return t==="v"?b6e(e):w6e(e)},O6e=function(t,e){return t==="h"&&e==="rtl"?-1:1},S6e=function(t,e,n,r,i){var o=O6e(t,window.getComputedStyle(e).direction),a=o*r,s=n.target,u=e.contains(s),d=!1,g=a>0,v=0,x=0;do{if(!s)break;var O=Zne(t,s),E=O[0],A=O[1],M=O[2],L=A-M-o*E;(E||L)&&Une(t,s)&&(v+=L,x+=E);var $=s.parentNode;s=$&&$.nodeType===Node.DOCUMENT_FRAGMENT_NODE?$.host:$}while(!u&&s!==document.body||u&&(e.contains(s)||e===s));return(g&&Math.abs(v)<1||!g&&Math.abs(x)<1)&&(d=!0),d},NA=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},uq=function(t){return[t.deltaX,t.deltaY]},hq=function(t){return t&&"current"in t?t.current:t},C6e=function(t,e){return t[0]===e[0]&&t[1]===e[1]},T6e=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},k6e=0,L1=[];function E6e(t){var e=j.useRef([]),n=j.useRef([0,0]),r=j.useRef(),i=j.useState(k6e++)[0],o=j.useState(Vne)[0],a=j.useRef(t);j.useEffect(function(){a.current=t},[t]),j.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var A=$we([t.lockRef.current],(t.shards||[]).map(hq),!0).filter(Boolean);return A.forEach(function(M){return M.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),A.forEach(function(M){return M.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var s=j.useCallback(function(A,M){if("touches"in A&&A.touches.length===2||A.type==="wheel"&&A.ctrlKey)return!a.current.allowPinchZoom;var L=NA(A),$=n.current,N="deltaX"in A?A.deltaX:$[0]-L[0],F="deltaY"in A?A.deltaY:$[1]-L[1],U,q=A.target,W=Math.abs(N)>Math.abs(F)?"h":"v";if("touches"in A&&W==="h"&&q.type==="range")return!1;var te=window.getSelection(),re=te&&te.anchorNode,ce=re?re===q||re.contains(q):!1;if(ce)return!1;var be=cq(W,q);if(!be)return!0;if(be?U=W:(U=W==="v"?"h":"v",be=cq(W,q)),!be)return!1;if(!r.current&&"changedTouches"in A&&(N||F)&&(r.current=U),!U)return!0;var ie=r.current||U;return S6e(ie,M,A,ie==="h"?N:F)},[]),u=j.useCallback(function(A){var M=A;if(!(!L1.length||L1[L1.length-1]!==o)){var L="deltaY"in M?uq(M):NA(M),$=e.current.filter(function(U){return U.name===M.type&&(U.target===M.target||M.target===U.shadowParent)&&C6e(U.delta,L)})[0];if($&&$.should){M.cancelable&&M.preventDefault();return}if(!$){var N=(a.current.shards||[]).map(hq).filter(Boolean).filter(function(U){return U.contains(M.target)}),F=N.length>0?s(M,N[0]):!a.current.noIsolation;F&&M.cancelable&&M.preventDefault()}}},[]),d=j.useCallback(function(A,M,L,$){var N={name:A,delta:M,target:L,should:$,shadowParent:A6e(L)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(F){return F!==N})},1)},[]),g=j.useCallback(function(A){n.current=NA(A),r.current=void 0},[]),v=j.useCallback(function(A){d(A.type,uq(A),A.target,s(A,t.lockRef.current))},[]),x=j.useCallback(function(A){d(A.type,NA(A),A.target,s(A,t.lockRef.current))},[]);j.useEffect(function(){return L1.push(o),t.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:x}),document.addEventListener("wheel",u,D1),document.addEventListener("touchmove",u,D1),document.addEventListener("touchstart",g,D1),function(){L1=L1.filter(function(A){return A!==o}),document.removeEventListener("wheel",u,D1),document.removeEventListener("touchmove",u,D1),document.removeEventListener("touchstart",g,D1)}},[]);var O=t.removeScrollBar,E=t.inert;return j.createElement(j.Fragment,null,E?j.createElement(o,{styles:T6e(i)}):null,O?j.createElement(y6e,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function A6e(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const P6e=i6e(jne,E6e);var EI=j.forwardRef(function(t,e){return j.createElement(kI,Zh({},t,{ref:e,sideCar:P6e}))});EI.classNames=kI.classNames;var AI="Popover",[qne]=my(AI,[GO]),Nk=GO(),[M6e,uv]=qne(AI),Wne=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:a=!1}=t,s=Nk(e),u=j.useRef(null),[d,g]=j.useState(!1),[v,x]=iy({prop:r,defaultProp:i??!1,onChange:o,caller:AI});return Y.jsx(q8,{...s,children:Y.jsx(M6e,{scope:e,contentId:qg(),triggerRef:u,open:v,onOpenChange:x,onOpenToggle:j.useCallback(()=>x(O=>!O),[x]),hasCustomAnchor:d,onCustomAnchorAdd:j.useCallback(()=>g(!0),[]),onCustomAnchorRemove:j.useCallback(()=>g(!1),[]),modal:a,children:n})})};Wne.displayName=AI;var Hne="PopoverAnchor",Gne=j.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=uv(Hne,n),o=Nk(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:s}=i;return j.useEffect(()=>(a(),()=>s()),[a,s]),Y.jsx(TI,{...o,...r,ref:e})});Gne.displayName=Hne;var Xne="PopoverTrigger",X8=j.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=uv(Xne,n),o=Nk(n),a=Ro(e,i.triggerRef),s=Y.jsx(Zr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":tre(i.open),...r,ref:a,onClick:Or(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?s:Y.jsx(TI,{asChild:!0,...o,children:s})});X8.displayName=Xne;var Y8="PopoverPortal",[R6e,I6e]=qne(Y8,{forceMount:void 0}),Yne=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,o=uv(Y8,e);return Y.jsx(R6e,{scope:e,forceMount:n,children:Y.jsx(cv,{present:n||o.open,children:Y.jsx(zk,{asChild:!0,container:i,children:r})})})};Yne.displayName=Y8;var iO="PopoverContent",PI=j.forwardRef((t,e)=>{const n=I6e(iO,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,o=uv(iO,t.__scopePopover);return Y.jsx(cv,{present:r||o.open,children:o.modal?Y.jsx(L6e,{...i,ref:e}):Y.jsx($6e,{...i,ref:e})})});PI.displayName=iO;var D6e=nO("PopoverContent.RemoveScroll"),L6e=j.forwardRef((t,e)=>{const n=uv(iO,t.__scopePopover),r=j.useRef(null),i=Ro(e,r),o=j.useRef(!1);return j.useEffect(()=>{const a=r.current;if(a)return G8(a)},[]),Y.jsx(EI,{as:D6e,allowPinchZoom:!0,children:Y.jsx(Kne,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Or(t.onCloseAutoFocus,a=>{a.preventDefault(),o.current||n.triggerRef.current?.focus()}),onPointerDownOutside:Or(t.onPointerDownOutside,a=>{const s=a.detail.originalEvent,u=s.button===0&&s.ctrlKey===!0,d=s.button===2||u;o.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Or(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),$6e=j.forwardRef((t,e)=>{const n=uv(iO,t.__scopePopover),r=j.useRef(!1),i=j.useRef(!1);return Y.jsx(Kne,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{t.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{t.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;n.triggerRef.current?.contains(a)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),Kne=j.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEscapeKeyDown:s,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:g,...v}=t,x=uv(iO,n),O=Nk(n);return z8(),Y.jsx(bI,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:Y.jsx(Lk,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:g,onEscapeKeyDown:s,onPointerDownOutside:u,onFocusOutside:d,onDismiss:()=>x.onOpenChange(!1),children:Y.jsx(W8,{"data-state":tre(x.open),role:"dialog",id:x.contentId,...O,...v,ref:e,style:{...v.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Jne="PopoverClose",z6e=j.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=uv(Jne,n);return Y.jsx(Zr.button,{type:"button",...r,ref:e,onClick:Or(t.onClick,()=>i.onOpenChange(!1))})});z6e.displayName=Jne;var N6e="PopoverArrow",ere=j.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Nk(n);return Y.jsx(H8,{...i,...r,ref:e})});ere.displayName=N6e;function tre(t){return t?"open":"closed"}var K8=Wne,B6e=Gne,J8=Yne,F6e=PI,e9=ere;function nre(t){const e=t+"CollectionProvider",[n,r]=my(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=A=>{const{scope:M,children:L}=A,$=ae.useRef(null),N=ae.useRef(new Map).current;return Y.jsx(i,{scope:M,itemMap:N,collectionRef:$,children:L})};a.displayName=e;const s=t+"CollectionSlot",u=nO(s),d=ae.forwardRef((A,M)=>{const{scope:L,children:$}=A,N=o(s,L),F=Ro(M,N.collectionRef);return Y.jsx(u,{ref:F,children:$})});d.displayName=s;const g=t+"CollectionItemSlot",v="data-radix-collection-item",x=nO(g),O=ae.forwardRef((A,M)=>{const{scope:L,children:$,...N}=A,F=ae.useRef(null),U=Ro(M,F),q=o(g,L);return ae.useEffect(()=>(q.itemMap.set(F,{ref:F,...N}),()=>{q.itemMap.delete(F)})),Y.jsx(x,{[v]:"",ref:U,children:$})});O.displayName=g;function E(A){const M=o(t+"CollectionConsumer",A);return ae.useCallback(()=>{const $=M.collectionRef.current;if(!$)return[];const N=Array.from($.querySelectorAll(`[${v}]`));return Array.from(M.itemMap.values()).sort((q,W)=>N.indexOf(q.ref.current)-N.indexOf(W.ref.current))},[M.collectionRef,M.itemMap])}return[{Provider:a,Slot:d,ItemSlot:O},E,r]}var j6e=j.createContext(void 0);function MI(t){const e=j.useContext(j6e);return t||e||"ltr"}var tL="rovingFocusGroup.onEntryFocus",V6e={bubbles:!1,cancelable:!0},Bk="RovingFocusGroup",[Oz,rre,Q6e]=nre(Bk),[U6e,RI]=my(Bk,[Q6e]),[Z6e,q6e]=U6e(Bk),ire=j.forwardRef((t,e)=>Y.jsx(Oz.Provider,{scope:t.__scopeRovingFocusGroup,children:Y.jsx(Oz.Slot,{scope:t.__scopeRovingFocusGroup,children:Y.jsx(W6e,{...t,ref:e})})}));ire.displayName=Bk;var W6e=j.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:g=!1,...v}=t,x=j.useRef(null),O=Ro(e,x),E=MI(o),[A,M]=iy({prop:a,defaultProp:s??null,onChange:u,caller:Bk}),[L,$]=j.useState(!1),N=q0(d),F=rre(n),U=j.useRef(!1),[q,W]=j.useState(0);return j.useEffect(()=>{const te=x.current;if(te)return te.addEventListener(tL,N),()=>te.removeEventListener(tL,N)},[N]),Y.jsx(Z6e,{scope:n,orientation:r,dir:E,loop:i,currentTabStopId:A,onItemFocus:j.useCallback(te=>M(te),[M]),onItemShiftTab:j.useCallback(()=>$(!0),[]),onFocusableItemAdd:j.useCallback(()=>W(te=>te+1),[]),onFocusableItemRemove:j.useCallback(()=>W(te=>te-1),[]),children:Y.jsx(Zr.div,{tabIndex:L||q===0?-1:0,"data-orientation":r,...v,ref:O,style:{outline:"none",...t.style},onMouseDown:Or(t.onMouseDown,()=>{U.current=!0}),onFocus:Or(t.onFocus,te=>{const re=!U.current;if(te.target===te.currentTarget&&re&&!L){const ce=new CustomEvent(tL,V6e);if(te.currentTarget.dispatchEvent(ce),!ce.defaultPrevented){const be=F().filter(_e=>_e.focusable),ie=be.find(_e=>_e.active),me=be.find(_e=>_e.id===A),pe=[ie,me,...be].filter(Boolean).map(_e=>_e.ref.current);are(pe,g)}}U.current=!1}),onBlur:Or(t.onBlur,()=>$(!1))})})}),ore="RovingFocusGroupItem",sre=j.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,children:a,...s}=t,u=qg(),d=o||u,g=q6e(ore,n),v=g.currentTabStopId===d,x=rre(n),{onFocusableItemAdd:O,onFocusableItemRemove:E,currentTabStopId:A}=g;return j.useEffect(()=>{if(r)return O(),()=>E()},[r,O,E]),Y.jsx(Oz.ItemSlot,{scope:n,id:d,focusable:r,active:i,children:Y.jsx(Zr.span,{tabIndex:v?0:-1,"data-orientation":g.orientation,...s,ref:e,onMouseDown:Or(t.onMouseDown,M=>{r?g.onItemFocus(d):M.preventDefault()}),onFocus:Or(t.onFocus,()=>g.onItemFocus(d)),onKeyDown:Or(t.onKeyDown,M=>{if(M.key==="Tab"&&M.shiftKey){g.onItemShiftTab();return}if(M.target!==M.currentTarget)return;const L=X6e(M,g.orientation,g.dir);if(L!==void 0){if(M.metaKey||M.ctrlKey||M.altKey||M.shiftKey)return;M.preventDefault();let N=x().filter(F=>F.focusable).map(F=>F.ref.current);if(L==="last")N.reverse();else if(L==="prev"||L==="next"){L==="prev"&&N.reverse();const F=N.indexOf(M.currentTarget);N=g.loop?Y6e(N,F+1):N.slice(F+1)}setTimeout(()=>are(N))}}),children:typeof a=="function"?a({isCurrentTabStop:v,hasTabStop:A!=null}):a})})});sre.displayName=ore;var H6e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function G6e(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function X6e(t,e,n){const r=G6e(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return H6e[r]}function are(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Y6e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var lre=ire,t9=sre,K6e="Separator",dq="horizontal",J6e=["horizontal","vertical"],cre=j.forwardRef((t,e)=>{const{decorative:n,orientation:r=dq,...i}=t,o=eNe(r)?r:dq,s=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return Y.jsx(Zr.div,{"data-orientation":o,...s,...i,ref:e})});cre.displayName=K6e;function eNe(t){return J6e.includes(t)}var tNe=cre,ure="Toggle",hre=j.forwardRef((t,e)=>{const{pressed:n,defaultPressed:r,onPressedChange:i,...o}=t,[a,s]=iy({prop:n,onChange:i,defaultProp:r??!1,caller:ure});return Y.jsx(Zr.button,{type:"button","aria-pressed":a,"data-state":a?"on":"off","data-disabled":t.disabled?"":void 0,...o,ref:e,onClick:Or(t.onClick,()=>{t.disabled||s(!a)})})});hre.displayName=ure;var hv="ToggleGroup",[dre,fre]=my(hv,[RI]),pre=RI(),n9=ae.forwardRef((t,e)=>{const{type:n,...r}=t;if(n==="single"){const i=r;return Y.jsx(nNe,{...i,ref:e})}if(n==="multiple"){const i=r;return Y.jsx(rNe,{...i,ref:e})}throw new Error(`Missing prop \`type\` expected on \`${hv}\``)});n9.displayName=hv;var[mre,gre]=dre(hv),nNe=ae.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...o}=t,[a,s]=iy({prop:n,defaultProp:r??"",onChange:i,caller:hv});return Y.jsx(mre,{scope:t.__scopeToggleGroup,type:"single",value:ae.useMemo(()=>a?[a]:[],[a]),onItemActivate:s,onItemDeactivate:ae.useCallback(()=>s(""),[s]),children:Y.jsx(yre,{...o,ref:e})})}),rNe=ae.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...o}=t,[a,s]=iy({prop:n,defaultProp:r??[],onChange:i,caller:hv}),u=ae.useCallback(g=>s((v=[])=>[...v,g]),[s]),d=ae.useCallback(g=>s((v=[])=>v.filter(x=>x!==g)),[s]);return Y.jsx(mre,{scope:t.__scopeToggleGroup,type:"multiple",value:a,onItemActivate:u,onItemDeactivate:d,children:Y.jsx(yre,{...o,ref:e})})});n9.displayName=hv;var[iNe,oNe]=dre(hv),yre=ae.forwardRef((t,e)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:i=!0,orientation:o,dir:a,loop:s=!0,...u}=t,d=pre(n),g=MI(a),v={role:"group",dir:g,...u};return Y.jsx(iNe,{scope:n,rovingFocus:i,disabled:r,children:i?Y.jsx(lre,{asChild:!0,...d,orientation:o,dir:g,loop:s,children:Y.jsx(Zr.div,{...v,ref:e})}):Y.jsx(Zr.div,{...v,ref:e})})}),lM="ToggleGroupItem",vre=ae.forwardRef((t,e)=>{const n=gre(lM,t.__scopeToggleGroup),r=oNe(lM,t.__scopeToggleGroup),i=pre(t.__scopeToggleGroup),o=n.value.includes(t.value),a=r.disabled||t.disabled,s={...t,pressed:o,disabled:a},u=ae.useRef(null);return r.rovingFocus?Y.jsx(t9,{asChild:!0,...i,focusable:!a,active:o,ref:u,children:Y.jsx(fq,{...s,ref:e})}):Y.jsx(fq,{...s,ref:e})});vre.displayName=lM;var fq=ae.forwardRef((t,e)=>{const{__scopeToggleGroup:n,value:r,...i}=t,o=gre(lM,n),a={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},s=o.type==="single"?a:void 0;return Y.jsx(hre,{...s,...i,ref:e,onPressedChange:u=>{u?o.onItemActivate(r):o.onItemDeactivate(r)}})}),sNe=n9,aNe=vre,r9="Toolbar",[lNe]=my(r9,[RI,fre]),i9=RI(),_re=fre(),[cNe,xre]=lNe(r9),bre=j.forwardRef((t,e)=>{const{__scopeToolbar:n,orientation:r="horizontal",dir:i,loop:o=!0,...a}=t,s=i9(n),u=MI(i);return Y.jsx(cNe,{scope:n,orientation:r,dir:u,children:Y.jsx(lre,{asChild:!0,...s,orientation:r,dir:u,loop:o,children:Y.jsx(Zr.div,{role:"toolbar","aria-orientation":r,dir:u,...a,ref:e})})})});bre.displayName=r9;var wre="ToolbarSeparator",Ore=j.forwardRef((t,e)=>{const{__scopeToolbar:n,...r}=t,i=xre(wre,n);return Y.jsx(tNe,{orientation:i.orientation==="horizontal"?"vertical":"horizontal",...r,ref:e})});Ore.displayName=wre;var uNe="ToolbarButton",o9=j.forwardRef((t,e)=>{const{__scopeToolbar:n,...r}=t,i=i9(n);return Y.jsx(t9,{asChild:!0,...i,focusable:!t.disabled,children:Y.jsx(Zr.button,{type:"button",...r,ref:e})})});o9.displayName=uNe;var hNe="ToolbarLink",dNe=j.forwardRef((t,e)=>{const{__scopeToolbar:n,...r}=t,i=i9(n);return Y.jsx(t9,{asChild:!0,...i,focusable:!0,children:Y.jsx(Zr.a,{...r,ref:e,onKeyDown:Or(t.onKeyDown,o=>{o.key===" "&&o.currentTarget.click()})})})});dNe.displayName=hNe;var Sre="ToolbarToggleGroup",Cre=j.forwardRef((t,e)=>{const{__scopeToolbar:n,...r}=t,i=xre(Sre,n),o=_re(n);return Y.jsx(sNe,{"data-orientation":i.orientation,dir:i.dir,...o,...r,ref:e,rovingFocus:!1})});Cre.displayName=Sre;var fNe="ToolbarToggleItem",Tre=j.forwardRef((t,e)=>{const{__scopeToolbar:n,...r}=t,i=_re(n),o={__scopeToolbar:t.__scopeToolbar};return Y.jsx(o9,{asChild:!0,...o,children:Y.jsx(aNe,{...i,...r,ref:e})})});Tre.displayName=fNe;var s9=bre,kre=Ore,sx=o9,II=Cre,XP=Tre;function a9(t,e){return t===null||t===e?!1:t.dataset.editorDialog!==void 0||t.dataset.toolbarItem!==void 0||t.dataset.editorDropdown?!0:a9(t.parentElement,e)}function pNe(){const t=[...Array(256).keys()].map(n=>n.toString(16).padStart(2,"0")),e=crypto.getRandomValues(new Uint8Array(16));return e[6]=e[6]&15|64,e[8]=e[8]&63|128,[...e.entries()].map(([n,r])=>[4,6,8,10].includes(n)?`-${t[r]}`:t[r]).join("")}const Ere=t=>t===0?"th":"td",Are={center:Qt.centeredCell,left:Qt.leftAlignedCell,right:Qt.rightAlignedCell},mNe=({mdastNode:t,parentEditor:e,lexicalTable:n})=>{const[r,i]=ae.useState(null),[o,a]=as(oa,cl),s=ae.useMemo(()=>A=>(A.__cacheKey??(A.__cacheKey=pNe()),A.__cacheKey),[]),u=ae.useCallback(A=>{const M=n.getColCount();if(A===null){i(null);return}let[L,$]=A;if(L>M-1&&(L=0,$++),L<0&&(L=M-1,$-=1),$>n.getRowCount()-1){i(null),e.update(()=>{if(n.getLatest().getNextSibling())n.getLatest().selectNext();else{const F=yi();n.insertAfter(F),F.select()}});return}if($<0){i(null),e.update(()=>{n.getLatest().selectPrevious()});return}i([L,$])},[n,e]);ae.useEffect(()=>{n.focusEmitter.subscribe(u)},[n,u]);const d=ae.useCallback(A=>{A.preventDefault(),e.update(()=>{n.addRowToBottom(),i([0,n.getRowCount()])})},[e,n]),g=ae.useCallback(A=>{A.preventDefault(),e.update(()=>{n.addColumnToRight(),i([n.getColCount(),0])})},[e,n]),[v,x]=ae.useState([-1,-1]),O=ae.useCallback(A=>{let M=A.target;for(;M&&!["TH","TD"].includes(M.tagName);){if(M===A.currentTarget)return;M=M.parentElement}if(M===null)return;const L=M.parentElement,N=L.parentElement.tagName==="TFOOT"?-1:Array.from(L.children).indexOf(M),F=M.tagName==="TH"?-1:Array.from(L.parentElement.children).indexOf(L);x([N,F])},[]),E=Ds();return ae.createElement("table",{className:Qt.tableEditor,onMouseOver:O,onMouseLeave:()=>{x([-1,-1])}},ae.createElement("colgroup",null,a?null:ae.createElement("col",null),Array.from({length:t.children[0].children.length},(A,M)=>{const $=(t.align??[])[M]??"left",N=Are[$];return ae.createElement("col",{key:M,className:N})}),a?null:ae.createElement("col",null)),a||ae.createElement("thead",null,ae.createElement("tr",null,ae.createElement("th",{className:Qt.tableToolsColumn}),Array.from({length:t.children[0].children.length},(A,M)=>ae.createElement("th",{key:M,"data-tool-cell":!0},ae.createElement(vNe,{setActiveCellWithBoundaries:u,parentEditor:e,colIndex:M,highlightedCoordinates:v,lexicalTable:n,align:(t.align??[])[M]}))),ae.createElement("th",{className:Qt.tableToolsColumn,"data-tool-cell":!0},ae.createElement("button",{className:Qt.iconButton,type:"button",title:E("table.deleteTable","Delete table"),onClick:A=>{A.preventDefault(),e.update(()=>{n.selectNext(),n.remove()})}},o("delete_small"))))),ae.createElement("tbody",null,t.children.map((A,M)=>{const L=Ere(M);return ae.createElement("tr",{key:M},a||ae.createElement(L,{className:Qt.toolCell,"data-tool-cell":!0},ae.createElement(_Ne,{setActiveCellWithBoundaries:u,parentEditor:e,rowIndex:M,highlightedCoordinates:v,lexicalTable:n})),A.children.map(($,N)=>{var F;return ae.createElement(gNe,{align:(F=t.align)==null?void 0:F[N],key:s($),contents:$.children,setActiveCell:u,rowIndex:M,colIndex:N,lexicalTable:n,parentEditor:e,activeCell:a?[-1,-1]:r})}),a||M===0&&ae.createElement("th",{rowSpan:n.getRowCount(),"data-tool-cell":!0},ae.createElement("button",{type:"button",className:Qt.addColumnButton,onClick:g},o("add_column"))))})),a||ae.createElement("tfoot",null,ae.createElement("tr",null,ae.createElement("th",null),ae.createElement("th",{colSpan:n.getColCount()},ae.createElement("button",{type:"button",className:Qt.addRowButton,onClick:d},o("add_row"))),ae.createElement("th",null))))},gNe=({align:t,...e})=>{const{activeCell:n,setActiveCell:r}=e,i=!!(n&&n[0]===e.colIndex&&n[1]===e.rowIndex),o=Are[t??"left"],a=Ere(e.rowIndex);return ae.createElement(a,{className:o,"data-active":i,onClick:()=>{r([e.colIndex,e.rowIndex])}},ae.createElement(yNe,{...e,focus:i}))},yNe=({focus:t,setActiveCell:e,parentEditor:n,lexicalTable:r,contents:i,colIndex:o,rowIndex:a})=>{const[s,u,d,g,v,x,O,E,A]=as(pI,Mk,mI,Rk,Kw,UO,gI,pd,A8),[M]=ae.useState(()=>{const $=t8({nodes:d,theme:dI,namespace:"TableCellEditor"});return $.update(()=>{w8({root:Br(),mdastRoot:{type:"root",children:[{type:"paragraph",children:i}]},visitors:s,jsxComponentDescriptors:g,directiveDescriptors:v,codeBlockEditorDescriptors:x})}),$}),L=ae.useCallback($=>{M.getEditorState().read(()=>{const N=b8({root:Br(),jsxComponentDescriptors:g,visitors:u,jsxIsAvailable:O});n.update(()=>{r.updateCellContents(o,a,N.children[0].children)},{discrete:!0}),n.dispatchCommand(kx,void 0)}),e($)},[o,M,u,g,O,r,n,a,e]);return ae.useEffect(()=>Fl(M.registerCommand(QR,$=>{$.preventDefault();const N=$.shiftKey?[o-1,a]:[o+1,a];return L(N),!0},ch),M.registerCommand(qR,()=>(e([o,a]),!1),vo),M.registerCommand(Ww,$=>{$?.preventDefault();const N=$?.shiftKey?[o,a-1]:[o,a+1];return L(N),!0},ch),M.registerCommand(WR,$=>{const N=$.relatedTarget;return a9(N,E.getRootElement())?!1:(L(null),!0)},Mr),M.registerCommand(kx,()=>(L(null),!0),Mr)),[o,M,E,a,L,e]),ae.useEffect(()=>{t&&M.focus()},[t,M]),ae.createElement(dne,{initialEditor:M},ae.createElement(D8,{contentEditable:ae.createElement(R8,null),placeholder:ae.createElement("div",null),ErrorBoundary:I8}),A.map(($,N)=>ae.createElement($,{key:N})),ae.createElement(Zee,null))},vNe=({parentEditor:t,highlightedCoordinates:e,align:n,lexicalTable:r,colIndex:i,setActiveCellWithBoundaries:o})=>{const[a,s]=as(lv,oa),u=ae.useCallback(x=>{t.update(()=>{r.insertColumnAt(x)}),o([x,0])},[t,r,o]),d=ae.useCallback(x=>{t.update(()=>{r.deleteColumnAt(x)})},[t,r]),g=ae.useCallback((x,O)=>{t.update(()=>{r.setColumnAlign(x,O)})},[t,r]),v=Ds();return ae.createElement(K8,null,ae.createElement(X8,{className:Qt.tableColumnEditorTrigger,"data-active":e[0]===i+1,title:v("table.columnMenu","Column menu")},s("more_horiz")),ae.createElement(J8,{container:a?.current},ae.createElement(PI,{className:Yr(Qt.tableColumnEditorPopoverContent),onOpenAutoFocus:x=>{x.preventDefault()},sideOffset:5,side:"top"},ae.createElement(s9,{className:Qt.tableColumnEditorToolbar},ae.createElement(II,{className:Qt.toggleGroupRoot,onValueChange:x=>{g(i,x)},value:n??"left",type:"single","aria-label":v("table.textAlignment","Text alignment")},ae.createElement(XP,{value:"left",title:v("table.alignLeft","Align left")},s("format_align_left")),ae.createElement(XP,{value:"center",title:v("table.alignCenter","Align center")},s("format_align_center")),ae.createElement(XP,{value:"right",title:v("table.alignRight","Align right")},s("format_align_right"))),ae.createElement(kre,null),ae.createElement(sx,{onClick:u.bind(null,i),title:v("table.insertColumnLeft","Insert a column to the left of this one")},s("insert_col_left")),ae.createElement(sx,{onClick:u.bind(null,i+1),title:v("table.insertColumnRight","Insert a column to the right of this one")},s("insert_col_right")),ae.createElement(sx,{onClick:d.bind(null,i),title:v("table.deleteColumn","Delete this column")},s("delete_small"))),ae.createElement(e9,{className:Qt.popoverArrow}))))},_Ne=({parentEditor:t,highlightedCoordinates:e,lexicalTable:n,rowIndex:r,setActiveCellWithBoundaries:i})=>{const[o,a]=as(lv,oa),s=ae.useCallback(g=>{t.update(()=>{n.insertRowAt(g)}),i([0,g])},[t,n,i]),u=ae.useCallback(g=>{t.update(()=>{n.deleteRowAt(g)})},[t,n]),d=Ds();return ae.createElement(K8,null,ae.createElement(X8,{className:Qt.tableColumnEditorTrigger,"data-active":e[1]===r,title:d("table.rowMenu","Row menu")},a("more_horiz")),ae.createElement(J8,{container:o?.current},ae.createElement(PI,{className:Yr(Qt.tableColumnEditorPopoverContent),onOpenAutoFocus:g=>{g.preventDefault()},sideOffset:5,side:"bottom"},ae.createElement(s9,{className:Qt.tableColumnEditorToolbar},ae.createElement(sx,{onClick:s.bind(null,r),title:d("table.insertRowAbove","Insert a row above this one")},a("insert_row_above")),ae.createElement(sx,{onClick:s.bind(null,r+1),title:d("table.insertRowBelow","Insert a row below this one")},a("insert_row_below")),ae.createElement(sx,{onClick:u.bind(null,r),title:d("table.deleteRow","Delete this row")},a("delete_small"))),ae.createElement(e9,{className:Qt.popoverArrow}))))};var xNe=Object.defineProperty,bNe=(t,e,n)=>e in t?xNe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pq=(t,e,n)=>(bNe(t,typeof e!="symbol"?e+"":e,n),n);const mq={type:"tableCell",children:[]};function wNe(){let t=$0;return{publish:e=>{t(e)},subscribe:e=>{t=e}}}class XO extends uy{constructor(e,n){super(n),pq(this,"__mdastNode"),pq(this,"focusEmitter",wNe()),this.__mdastNode=e??{type:"table",children:[]}}static getType(){return"table"}static clone(e){return new XO(structuredClone(e.__mdastNode),e.__key)}static importJSON(e){return l9(e.mdastNode)}static importDOM(){return{table:()=>({conversion:SNe,priority:3})}}exportJSON(){return{mdastNode:structuredClone(this.__mdastNode),type:"table",version:1}}getMdastNode(){return this.__mdastNode}getRowCount(){return this.__mdastNode.children.length}getColCount(){var e;return((e=this.__mdastNode.children[0])==null?void 0:e.children.length)||0}createDOM(){return document.createElement("div")}updateDOM(){return!1}updateCellContents(e,n,r){const o=this.getWritable().__mdastNode,a=o.children[n],s=a.children,u=s[e],d=Array.from(s),g={...u,children:r},v={...a,children:d};d[e]=g,o.children[n]=v}insertColumnAt(e){const r=this.getWritable().__mdastNode;for(let i=0;i<r.children.length;i++){const o=r.children[i],a=o.children,s=Array.from(a),u={...o,children:s};s.splice(e,0,structuredClone(mq)),r.children[i]=u}r.align&&r.align.length>0&&r.align.splice(e,0,"left")}deleteColumnAt(e){const r=this.getWritable().__mdastNode;for(let i=0;i<r.children.length;i++){const o=r.children[i],a=o.children,s=Array.from(a),u={...o,children:s};s.splice(e,1),r.children[i]=u}}insertRowAt(e){const r=this.getWritable().__mdastNode,i={type:"tableRow",children:Array.from({length:this.getColCount()},()=>structuredClone(mq))};r.children.splice(e,0,i)}deleteRowAt(e){this.getRowCount()===1?(this.selectNext(),this.remove()):this.getWritable().__mdastNode.children.splice(e,1)}addRowToBottom(){this.insertRowAt(this.getRowCount())}addColumnToRight(){this.insertColumnAt(this.getColCount())}setColumnAlign(e,n){const i=this.getWritable().__mdastNode;i.align??(i.align=[]),i.align[e]=n}decorate(e){return ae.createElement(mNe,{lexicalTable:this,mdastNode:this.__mdastNode,parentEditor:e})}select(e){this.focusEmitter.publish(e??[0,0])}isInline(){return!1}}function ONe(t){return t instanceof XO}function l9(t){return new XO(t)}function SNe(t){const e=t.querySelectorAll("tr"),n=Array.from(e).map(r=>({type:"tableRow",children:Array.from(r.querySelectorAll("td, th")).map(i=>({type:"tableCell",children:[{type:"text",value:i.textContent}]}))}));return{node:new XO({type:"table",children:n})}}const CNe={testLexicalNode:ONe,visitLexicalNode({actions:t,mdastParent:e,lexicalNode:n}){t.appendToParent(e,n.getMdastNode())}},TNe={testNode:"table",visitNode({mdastNode:t,lexicalParent:e}){e.append(l9(t))}};function kNe(t=1,e=1){const n={type:"table",children:[]};for(let r=0;r<t;r++){const i={type:"tableRow",children:[]};for(let o=0;o<e;o++){const a={type:"tableCell",children:[]};i.children.push(a)}n.children.push(i)}return n}const Pre=Ss(t=>{t.link(t.pipe(Pre,Yg(({rows:e,columns:n})=>()=>l9(kNe(e,n)))),vI)}),ENe=Nl({init(t,e){t.pubIn({[eO]:D$e(),[Jw]:U$e(),[ud]:TNe,[Lf]:XO,[$f]:CNe,[Ik]:F$e({tableCellPadding:e?.tableCellPadding??!0,tablePipeAlign:e?.tablePipeAlign??!0})})}}),ANe={testNode:"link",visitNode({mdastNode:t,actions:e}){e.addAndStepInto(ty(t.url,{title:t.title}))}},PNe={testLexicalNode:Yc,visitLexicalNode:({lexicalNode:t,actions:e})=>{e.addAndStepInto("link",{url:t.getURL(),title:t.getTitle()})}};function MNe({validateUrl:t,attributes:e}){const[n]=Bl();return j.useEffect((()=>{if(!n.hasNodes([dy]))throw new Error("LinkPlugin: LinkNode not registered on editor");return Fl(n.registerCommand(tO,(r=>{if(r===null)return U3(r),!0;if(typeof r=="string")return!(t!==void 0&&!t(r))&&(U3(r,e),!0);{const{url:i,target:o,rel:a,title:s}=r;return U3(i,{...e,rel:a,target:o,title:s}),!0}}),vo),t!==void 0?n.registerCommand(_k,(r=>{const i=an();if(!Xt(i)||i.isCollapsed()||!A0(r,ClipboardEvent)||r.clipboardData===null)return!1;const o=r.clipboardData.getData("text");return!!t(o)&&!i.getNodes().some((a=>It(a)))&&(n.dispatchCommand(tO,{...e,url:o}),r.preventDefault(),!0)}),vo):()=>{})}),[n,t,e]),null}function gq(t,e=(n=>n)){return n=>{const r=t.exec(n);return r===null?null:{index:r.index,length:r[0].length,text:r[0],url:e(r[0])}}}function Mre(t,e){for(let n=0;n<e.length;n++){const r=e[n](t);if(r)return r}return null}const RNe=/[.,;\s]/;function cM(t){return RNe.test(t)}function Rre(t){return cM(t[t.length-1])}function Sz(t){return cM(t[0])}function Ire(t){let e=t.getPreviousSibling();return It(e)&&(e=e.getLastDescendant()),e===null||wf(e)||pn(e)&&Rre(e.getTextContent())}function Dre(t){let e=t.getNextSibling();return It(e)&&(e=e.getFirstDescendant()),e===null||wf(e)||pn(e)&&Sz(e.getTextContent())}function INe(t,e,n,r){return(t>0?cM(n[t-1]):Ire(r[0]))?e<n.length?cM(n[e]):Dre(r[r.length-1]):!1}function DNe(t,e,n){const r=[],i=[],o=[];let a=0,s=0;const u=[...t];for(;u.length>0;){const d=u[0],g=d.getTextContent().length,v=s;s+g<=e?(r.push(d),a+=g):v>=n?o.push(d):i.push(d),s+=g,u.shift()}return[a,r,i,o]}function LNe(t,e,n,r){const i=fz(r.url,r.attributes);if(t.length===1){let o,a=t[0];e===0?[o,a]=a.splitText(n):[,o,a]=a.splitText(e,n);const s=to(r.text);return s.setFormat(o.getFormat()),s.setDetail(o.getDetail()),s.setStyle(o.getStyle()),i.append(s),o.replace(i),a}if(t.length>1){const o=t[0];let a,s=o.getTextContent().length;e===0?a=o:[,a]=o.splitText(e);const u=[];let d;for(let O=1;O<t.length;O++){const E=t[O],A=E.getTextContent().length,M=s;if(M<n)if(s+A<=n)u.push(E);else{const[L,$]=E.splitText(n-M);u.push(L),d=$}s+=A}const g=an(),v=g?g.getNodes().find(pn):void 0,x=to(a.getTextContent());return x.setFormat(a.getFormat()),x.setDetail(a.getDetail()),x.setStyle(a.getStyle()),i.append(x,...u),v&&v===a&&(Xt(g)?x.select(g.anchor.offset,g.focus.offset):rs(g)&&x.select(0,x.getTextContent().length)),a.replace(i),d}}function nL(t,e,n){const r=t.getChildren(),i=r.length;for(let u=0;u<i;u++){const d=r[u];if(!pn(d)||!d.isSimpleText())return YP(t),void n(null,t.getURL())}const o=t.getTextContent(),a=Mre(o,e);if(a===null||a.text!==o||!Ire(t)||!Dre(t))return YP(t),void n(null,t.getURL());const s=t.getURL();if(s!==a.url&&(t.setURL(a.url),n(a.url,s)),a.attributes){const u=t.getRel();u!==a.attributes.rel&&(t.setRel(a.attributes.rel||null),n(a.attributes.rel||null,u));const d=t.getTarget();d!==a.attributes.target&&(t.setTarget(a.attributes.target||null),n(a.attributes.target||null,d))}}function YP(t){const e=t.getChildren();for(let n=e.length-1;n>=0;n--)t.insertAfter(e[n]);return t.remove(),e.map((n=>n.getLatest()))}function $Ne(t,e,n){j.useEffect((()=>{t.hasNodes([_I])||(function(i,...o){const a=new URL("https://lexical.dev/docs/error"),s=new URLSearchParams;s.append("code",i);for(const u of o)s.append("v",u);throw a.search=s.toString(),Error(`Minified Lexical error #${i}; visit ${a.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)})(77);const r=(i,o)=>{n&&n(i,o)};return Fl(t.registerNodeTransform(bm,(i=>{const o=i.getParentOrThrow(),a=i.getPreviousSibling();if(yf(o)&&!o.getIsUnlinked())nL(o,e,r);else if(!Yc(o)){if(i.isSimpleText()&&(Sz(i.getTextContent())||!yf(a))){const s=(function(u){const d=[u];let g=u.getNextSibling();for(;g!==null&&pn(g)&&g.isSimpleText()&&(d.push(g),!/[\s]/.test(g.getTextContent()));)g=g.getNextSibling();return d})(i);(function(u,d,g){let v=[...u];const x=v.map((M=>M.getTextContent())).join("");let O,E=x,A=0;for(;(O=Mre(E,d))&&O!==null;){const M=O.index,L=M+O.length;if(INe(A+M,A+L,x,v)){const[$,,N,F]=DNe(v,A+M,A+L),U=LNe(N,A+M-$,A+L-$,O);v=U?[U,...F]:F,g(O.url,null),A=0}else A+=L;E=E.substring(L)}})(s,e,r)}(function(s,u,d){const g=s.getPreviousSibling(),v=s.getNextSibling(),x=s.getTextContent();var O;!yf(g)||g.getIsUnlinked()||Sz(x)&&(O=x,!(g.isEmailURI()?/^\.[a-zA-Z]{2,}/.test(O):/^\.[a-zA-Z0-9]{1,}/.test(O)))||(g.append(s),nL(g,u,d),d(null,g.getURL())),!yf(v)||v.getIsUnlinked()||Rre(x)||(YP(v),nL(v,u,d),d(null,v.getURL()))})(i,e,r)}})),t.registerCommand(tO,(i=>{const o=an();return i!==null||!Xt(o)||o.extract().forEach((a=>{const s=a.getParent();yf(s)&&(s.setIsUnlinked(!s.getIsUnlinked()),s.markDirty())})),!1}),vo))}),[t,e,n])}function zNe({matchers:t,onChange:e}){const[n]=Bl();return $Ne(n,t,e),null}const NNe=/((https?:\/\/(www\.)?)|(www\.))[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,BNe=/(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/,FNe=[gq(NNe,t=>t.startsWith("http")?t:`https://${t}`),gq(BNe,t=>`mailto:${t}`)],jNe=()=>ae.createElement(zNe,{matchers:FNe}),VNe=Pn(!1),QNe=Nl({init(t,e){const n=!!e?.disableAutoLink,r=e?.validateUrl?{validateUrl:e.validateUrl}:{},i=()=>ae.createElement(ae.Fragment,null,ae.createElement(MNe,{...r}),n?null:ae.createElement(jNe,null));t.pubIn({[ZO]:"link",[ud]:ANe,[Lf]:[dy,_I],[$f]:PNe,[VNe]:n,[P8]:i,[Hx]:i})}});function UNe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var ZNe=["color"],qNe=j.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=UNe(t,ZNe);return j.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),j.createElement("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});const yq=()=>ae.createElement("div",{className:Qt.imagePlaceholder},ae.createElement(qNe,null));function Cz(t){const{nodeKey:e,imageSource:n,initialImagePath:r,title:i,alt:o,width:a,height:s}=t,[u,d,g]=as(Iie,oa,cl),[v]=Bl(),x=qi(Mie),O=Ds();return ae.createElement("div",{className:Qt.editImageToolbar},ae.createElement("button",{className:Qt.iconButton,type:"button",title:O("imageEditor.deleteImage","Delete image"),disabled:g,onClick:E=>{E.preventDefault(),v.update(()=>{var A;(A=Li(e))==null||A.remove()})}},d("delete_small")),!u&&ae.createElement("button",{type:"button",className:Yr(Qt.iconButton,Qt.editImageButton),title:O("imageEditor.editImage","Edit image"),disabled:g,onClick:()=>{x({nodeKey:e,initialValues:{src:r??n,title:i,altText:o,width:oO(a),height:oO(s)}})}},d("settings")))}var DI="Dialog",[Lre]=my(DI),[WNe,zf]=Lre(DI),$re=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,s=j.useRef(null),u=j.useRef(null),[d,g]=iy({prop:r,defaultProp:i??!1,onChange:o,caller:DI});return Y.jsx(WNe,{scope:e,triggerRef:s,contentRef:u,contentId:qg(),titleId:qg(),descriptionId:qg(),open:d,onOpenChange:g,onOpenToggle:j.useCallback(()=>g(v=>!v),[g]),modal:a,children:n})};$re.displayName=DI;var zre="DialogTrigger",HNe=j.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=zf(zre,n),o=Ro(e,i.triggerRef);return Y.jsx(Zr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":h9(i.open),...r,ref:o,onClick:Or(t.onClick,i.onOpenToggle)})});HNe.displayName=zre;var c9="DialogPortal",[GNe,Nre]=Lre(c9,{forceMount:void 0}),Bre=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=zf(c9,e);return Y.jsx(GNe,{scope:e,forceMount:n,children:j.Children.map(r,a=>Y.jsx(cv,{present:n||o.open,children:Y.jsx(zk,{asChild:!0,container:i,children:a})}))})};Bre.displayName=c9;var uM="DialogOverlay",Fre=j.forwardRef((t,e)=>{const n=Nre(uM,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=zf(uM,t.__scopeDialog);return o.modal?Y.jsx(cv,{present:r||o.open,children:Y.jsx(YNe,{...i,ref:e})}):null});Fre.displayName=uM;var XNe=nO("DialogOverlay.RemoveScroll"),YNe=j.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=zf(uM,n);return Y.jsx(EI,{as:XNe,allowPinchZoom:!0,shards:[i.contentRef],children:Y.jsx(Zr.div,{"data-state":h9(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Rx="DialogContent",jre=j.forwardRef((t,e)=>{const n=Nre(Rx,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=zf(Rx,t.__scopeDialog);return Y.jsx(cv,{present:r||o.open,children:o.modal?Y.jsx(KNe,{...i,ref:e}):Y.jsx(JNe,{...i,ref:e})})});jre.displayName=Rx;var KNe=j.forwardRef((t,e)=>{const n=zf(Rx,t.__scopeDialog),r=j.useRef(null),i=Ro(e,n.contentRef,r);return j.useEffect(()=>{const o=r.current;if(o)return G8(o)},[]),Y.jsx(Vre,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Or(t.onCloseAutoFocus,o=>{o.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Or(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,s=a.button===0&&a.ctrlKey===!0;(a.button===2||s)&&o.preventDefault()}),onFocusOutside:Or(t.onFocusOutside,o=>o.preventDefault())})}),JNe=j.forwardRef((t,e)=>{const n=zf(Rx,t.__scopeDialog),r=j.useRef(!1),i=j.useRef(!1);return Y.jsx(Vre,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{t.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{t.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;n.triggerRef.current?.contains(a)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),Vre=j.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...a}=t,s=zf(Rx,n),u=j.useRef(null),d=Ro(e,u);return z8(),Y.jsxs(Y.Fragment,{children:[Y.jsx(bI,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:Y.jsx(Lk,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":h9(s.open),...a,ref:d,onDismiss:()=>s.onOpenChange(!1)})}),Y.jsxs(Y.Fragment,{children:[Y.jsx(tBe,{titleId:s.titleId}),Y.jsx(rBe,{contentRef:u,descriptionId:s.descriptionId})]})]})}),u9="DialogTitle",Qre=j.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=zf(u9,n);return Y.jsx(Zr.h2,{id:i.titleId,...r,ref:e})});Qre.displayName=u9;var Ure="DialogDescription",eBe=j.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=zf(Ure,n);return Y.jsx(Zr.p,{id:i.descriptionId,...r,ref:e})});eBe.displayName=Ure;var Zre="DialogClose",qre=j.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=zf(Zre,n);return Y.jsx(Zr.button,{type:"button",...r,ref:e,onClick:Or(t.onClick,()=>i.onOpenChange(!1))})});qre.displayName=Zre;function h9(t){return t?"open":"closed"}var Wre="DialogTitleWarning",[Fet,Hre]=G$e(Wre,{contentName:Rx,titleName:u9,docsSlug:"dialog"}),tBe=({titleId:t})=>{const e=Hre(Wre),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return j.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},nBe="DialogDescriptionWarning",rBe=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Hre(nBe).contentName}}.`;return j.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Gre=$re,Xre=Bre,Yre=Fre,Kre=jre,Jre=Qre,eie=qre,Fk=t=>t.type==="checkbox",Y_=t=>t instanceof Date,Xc=t=>t==null;const tie=t=>typeof t=="object";var na=t=>!Xc(t)&&!Array.isArray(t)&&tie(t)&&!Y_(t),nie=t=>na(t)&&t.target?Fk(t.target)?t.target.checked:t.target.value:t,iBe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,rie=(t,e)=>t.has(iBe(e)),oBe=t=>{const e=t.constructor&&t.constructor.prototype;return na(e)&&e.hasOwnProperty("isPrototypeOf")},d9=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Fo(t){if(t instanceof Date)return new Date(t);const e=typeof FileList<"u"&&t instanceof FileList;if(d9&&(t instanceof Blob||e))return t;const n=Array.isArray(t);if(!n&&!(na(t)&&oBe(t)))return t;const r=n?[]:Object.create(Object.getPrototypeOf(t));for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=Fo(t[i]));return r}var LI=t=>/^\w*$/.test(t),Mo=t=>t===void 0,$I=t=>Array.isArray(t)?t.filter(Boolean):[],f9=t=>$I(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Sn=(t,e,n)=>{if(!e||!na(t))return n;const r=(LI(e)?[e]:f9(e)).reduce((i,o)=>Xc(i)?i:i[o],t);return Mo(r)||r===t?Mo(t[e])?n:t[e]:r},Zu=t=>typeof t=="boolean",uc=t=>typeof t=="function",eo=(t,e,n)=>{let r=-1;const i=LI(e)?[e]:f9(e),o=i.length,a=o-1;for(;++r<o;){const s=i[r];let u=n;if(r!==a){const d=t[s];u=na(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}if(s==="__proto__"||s==="constructor"||s==="prototype")return;t[s]=u,t=t[s]}};const hM={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Hh={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Tg={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},iie=ae.createContext(null);iie.displayName="HookFormContext";const zI=()=>ae.useContext(iie);var oie=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(i,o,{get:()=>{const a=o;return e._proxyFormState[a]!==Hh.all&&(e._proxyFormState[a]=!r||Hh.all),n&&(n[a]=!0),t[a]}});return i};const NI=typeof window<"u"?ae.useLayoutEffect:ae.useEffect;function sBe(t){const e=zI(),{control:n=e.control,disabled:r,name:i,exact:o}=t||{},[a,s]=ae.useState(n._formState),u=ae.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return NI(()=>n._subscribe({name:i,formState:u.current,exact:o,callback:d=>{!r&&s({...n._formState,...d})}}),[i,r,o]),ae.useEffect(()=>{u.current.isValid&&n._setValid(!0)},[n]),ae.useMemo(()=>oie(a,n,u.current,!1),[a,n])}var Ku=t=>typeof t=="string",Tz=(t,e,n,r,i)=>Ku(t)?(r&&e.watch.add(t),Sn(n,t,i)):Array.isArray(t)?t.map(o=>(r&&e.watch.add(o),Sn(n,o))):(r&&(e.watchAll=!0),n),kz=t=>Xc(t)||!tie(t);function vf(t,e,n=new WeakSet){if(kz(t)||kz(e))return Object.is(t,e);if(Y_(t)&&Y_(e))return t.getTime()===e.getTime();const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const o of r){const a=t[o];if(!i.includes(o))return!1;if(o!=="ref"){const s=e[o];if(Y_(a)&&Y_(s)||na(a)&&na(s)||Array.isArray(a)&&Array.isArray(s)?!vf(a,s,n):!Object.is(a,s))return!1}}return!0}function aBe(t){const e=zI(),{control:n=e.control,name:r,defaultValue:i,disabled:o,exact:a,compute:s}=t||{},u=ae.useRef(i),d=ae.useRef(s),g=ae.useRef(void 0),v=ae.useRef(n),x=ae.useRef(r);d.current=s;const[O,E]=ae.useState(()=>{const F=n._getWatch(r,u.current);return d.current?d.current(F):F}),A=ae.useCallback(F=>{const U=Tz(r,n._names,F||n._formValues,!1,u.current);return d.current?d.current(U):U},[n._formValues,n._names,r]),M=ae.useCallback(F=>{if(!o){const U=Tz(r,n._names,F||n._formValues,!1,u.current);if(d.current){const q=d.current(U);vf(q,g.current)||(E(q),g.current=q)}else E(U)}},[n._formValues,n._names,o,r]);NI(()=>((v.current!==n||!vf(x.current,r))&&(v.current=n,x.current=r,M()),n._subscribe({name:r,formState:{values:!0},exact:a,callback:F=>{M(F.values)}})),[n,a,r,M]),ae.useEffect(()=>n._removeUnmounted());const L=v.current!==n,$=x.current,N=ae.useMemo(()=>{if(o)return null;const F=!L&&!vf($,r);return L||F?A():null},[o,L,r,$,A]);return N!==null?N:O}function lBe(t){const e=zI(),{name:n,disabled:r,control:i=e.control,shouldUnregister:o,defaultValue:a,exact:s=!0}=t,u=rie(i._names.array,n),d=ae.useMemo(()=>Sn(i._formValues,n,Sn(i._defaultValues,n,a)),[i,n,a]),g=aBe({control:i,name:n,defaultValue:d,exact:s}),v=sBe({control:i,name:n,exact:s}),x=ae.useRef(t),O=ae.useRef(void 0),E=ae.useRef(i.register(n,{...t.rules,value:g,...Zu(t.disabled)?{disabled:t.disabled}:{}}));x.current=t;const A=ae.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Sn(v.errors,n)},isDirty:{enumerable:!0,get:()=>!!Sn(v.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Sn(v.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Sn(v.validatingFields,n)},error:{enumerable:!0,get:()=>Sn(v.errors,n)}}),[v,n]),M=ae.useCallback(F=>E.current.onChange({target:{value:nie(F),name:n},type:hM.CHANGE}),[n]),L=ae.useCallback(()=>E.current.onBlur({target:{value:Sn(i._formValues,n),name:n},type:hM.BLUR}),[n,i._formValues]),$=ae.useCallback(F=>{const U=Sn(i._fields,n);U&&U._f&&F&&(U._f.ref={focus:()=>uc(F.focus)&&F.focus(),select:()=>uc(F.select)&&F.select(),setCustomValidity:q=>uc(F.setCustomValidity)&&F.setCustomValidity(q),reportValidity:()=>uc(F.reportValidity)&&F.reportValidity()})},[i._fields,n]),N=ae.useMemo(()=>({name:n,value:g,...Zu(r)||v.disabled?{disabled:v.disabled||r}:{},onChange:M,onBlur:L,ref:$}),[n,r,v.disabled,M,L,$,g]);return ae.useEffect(()=>{const F=i._options.shouldUnregister||o,U=O.current;U&&U!==n&&!u&&i.unregister(U),i.register(n,{...x.current.rules,...Zu(x.current.disabled)?{disabled:x.current.disabled}:{}});const q=(W,te)=>{const re=Sn(i._fields,W);re&&re._f&&(re._f.mount=te)};if(q(n,!0),F){const W=Fo(Sn(i._options.defaultValues,n,x.current.defaultValue));eo(i._defaultValues,n,W),Mo(Sn(i._formValues,n))&&eo(i._formValues,n,W)}return!u&&i.register(n),O.current=n,()=>{(u?F&&!i._state.action:F)?i.unregister(n):q(n,!1)}},[n,i,u,o]),ae.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),ae.useMemo(()=>({field:N,formState:v,fieldState:A}),[N,v,A])}const cBe=t=>t.render(lBe(t));var uBe=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},nu=t=>Array.isArray(t)?t:[t],vq=()=>{let t=[];return{get observers(){return t},next:i=>{for(const o of t)o.next&&o.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(o=>o!==i)}}),unsubscribe:()=>{t=[]}}};function sie(t,e){const n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r],o=e[r];if(i&&na(i)&&o){const a=sie(i,o);na(a)&&(n[r]=a)}else t[r]&&(n[r]=o)}return n}var Rl=t=>na(t)&&!Object.keys(t).length,p9=t=>t.type==="file",dM=t=>{if(!d9)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},aie=t=>t.type==="select-multiple",m9=t=>t.type==="radio",hBe=t=>m9(t)||Fk(t),rL=t=>dM(t)&&t.isConnected;function dBe(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Mo(t)?r++:t[e[r++]];return t}function fBe(t){for(const e in t)if(t.hasOwnProperty(e)&&!Mo(t[e]))return!1;return!0}function As(t,e){const n=Array.isArray(e)?e:LI(e)?[e]:f9(e),r=n.length===1?t:dBe(t,n),i=n.length-1,o=n[i];return r&&delete r[o],i!==0&&(na(r)&&Rl(r)||Array.isArray(r)&&fBe(r))&&As(t,n.slice(0,-1)),t}var pBe=t=>{for(const e in t)if(uc(t[e]))return!0;return!1};function lie(t){return Array.isArray(t)||na(t)&&!pBe(t)}function Ez(t,e={}){for(const n in t){const r=t[n];lie(r)?(e[n]=Array.isArray(r)?[]:{},Ez(r,e[n])):Mo(r)||(e[n]=!0)}return e}function G1(t,e,n){n||(n=Ez(e));for(const r in t){const i=t[r];if(lie(i))Mo(e)||kz(n[r])?n[r]=Ez(i,Array.isArray(i)?[]:{}):G1(i,Xc(e)?{}:e[r],n[r]);else{const o=e[r];n[r]=!vf(i,o)}}return n}const _q={value:!1,isValid:!1},xq={value:!0,isValid:!0};var cie=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Mo(t[0].attributes.value)?Mo(t[0].value)||t[0].value===""?xq:{value:t[0].value,isValid:!0}:xq:_q}return _q},uie=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Mo(t)?t:e?t===""?NaN:t&&+t:n&&Ku(t)?new Date(t):r?r(t):t;const bq={isValid:!1,value:null};var hie=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,bq):bq;function wq(t){const e=t.ref;return p9(e)?e.files:m9(e)?hie(t.refs).value:aie(e)?[...e.selectedOptions].map(({value:n})=>n):Fk(e)?cie(t.refs).value:uie(Mo(e.value)?t.ref.value:e.value,t)}var mBe=(t,e,n,r)=>{const i={};for(const o of t){const a=Sn(e,o);a&&eo(i,o,a._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},fM=t=>t instanceof RegExp,z2=t=>Mo(t)?t:fM(t)?t.source:na(t)?fM(t.value)?t.value.source:t.value:t,iw=t=>({isOnSubmit:!t||t===Hh.onSubmit,isOnBlur:t===Hh.onBlur,isOnChange:t===Hh.onChange,isOnAll:t===Hh.all,isOnTouch:t===Hh.onTouched});const Oq="AsyncFunction";var gBe=t=>!!t&&!!t.validate&&!!(uc(t.validate)&&t.validate.constructor.name===Oq||na(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Oq)),yBe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Az=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Ow=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const o=Sn(t,i);if(o){const{_f:a,...s}=o;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(Ow(s,e))break}else if(na(s)&&Ow(s,e))break}}};function Sq(t,e,n){const r=Sn(t,n);if(r||LI(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),a=Sn(e,o),s=Sn(t,o);if(a&&!Array.isArray(a)&&n!==o)return{name:n};if(s&&s.type)return{name:o,error:s};if(s&&s.root&&s.root.type)return{name:`${o}.root`,error:s.root};i.pop()}return{name:n}}var vBe=(t,e,n,r)=>{n(t);const{name:i,...o}=t;return Rl(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(a=>e[a]===(!r||Hh.all))},_Be=(t,e,n)=>!t||!e||t===e||nu(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),xBe=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,bBe=(t,e)=>!$I(Sn(t,e)).length&&As(t,e),die=(t,e,n)=>{const r=nu(Sn(t,n));return eo(r,"root",e[n]),eo(t,n,r),t};function Cq(t,e,n="validate"){if(Ku(t)||Array.isArray(t)&&t.every(Ku)||Zu(t)&&!t)return{type:n,message:Ku(t)?t:"",ref:e}}var $1=t=>na(t)&&!fM(t)?t:{value:t,message:""},Pz=async(t,e,n,r,i,o)=>{const{ref:a,refs:s,required:u,maxLength:d,minLength:g,min:v,max:x,pattern:O,validate:E,name:A,valueAsNumber:M,mount:L}=t._f,$=Sn(n,A);if(!L||e.has(A))return{};const N=s?s[0]:a,F=ie=>{i&&N.reportValidity&&(N.setCustomValidity(Zu(ie)?"":ie||""),N.reportValidity())},U={},q=m9(a),W=Fk(a),te=q||W,re=(M||p9(a))&&Mo(a.value)&&Mo($)||dM(a)&&a.value===""||$===""||Array.isArray($)&&!$.length,ce=uBe.bind(null,A,r,U),be=(ie,me,we,pe=Tg.maxLength,_e=Tg.minLength)=>{const Me=ie?me:we;U[A]={type:ie?pe:_e,message:Me,ref:a,...ce(ie?pe:_e,Me)}};if(o?!Array.isArray($)||!$.length:u&&(!te&&(re||Xc($))||Zu($)&&!$||W&&!cie(s).isValid||q&&!hie(s).isValid)){const{value:ie,message:me}=Ku(u)?{value:!!u,message:u}:$1(u);if(ie&&(U[A]={type:Tg.required,message:me,ref:N,...ce(Tg.required,me)},!r))return F(me),U}if(!re&&(!Xc(v)||!Xc(x))){let ie,me;const we=$1(x),pe=$1(v);if(!Xc($)&&!isNaN($)){const _e=a.valueAsNumber||$&&+$;Xc(we.value)||(ie=_e>we.value),Xc(pe.value)||(me=_e<pe.value)}else{const _e=a.valueAsDate||new Date($),Me=Ce=>new Date(new Date().toDateString()+" "+Ce),Be=a.type=="time",Ue=a.type=="week";Ku(we.value)&&$&&(ie=Be?Me($)>Me(we.value):Ue?$>we.value:_e>new Date(we.value)),Ku(pe.value)&&$&&(me=Be?Me($)<Me(pe.value):Ue?$<pe.value:_e<new Date(pe.value))}if((ie||me)&&(be(!!ie,we.message,pe.message,Tg.max,Tg.min),!r))return F(U[A].message),U}if((d||g)&&!re&&(Ku($)||o&&Array.isArray($))){const ie=$1(d),me=$1(g),we=!Xc(ie.value)&&$.length>+ie.value,pe=!Xc(me.value)&&$.length<+me.value;if((we||pe)&&(be(we,ie.message,me.message),!r))return F(U[A].message),U}if(O&&!re&&Ku($)){const{value:ie,message:me}=$1(O);if(fM(ie)&&!$.match(ie)&&(U[A]={type:Tg.pattern,message:me,ref:a,...ce(Tg.pattern,me)},!r))return F(me),U}if(E){if(uc(E)){const ie=await E($,n),me=Cq(ie,N);if(me&&(U[A]={...me,...ce(Tg.validate,me.message)},!r))return F(me.message),U}else if(na(E)){let ie={};for(const me in E){if(!Rl(ie)&&!r)break;const we=Cq(await E[me]($,n),N,me);we&&(ie={...we,...ce(me,we.message)},F(we.message),r&&(U[A]=ie))}if(!Rl(ie)&&(U[A]={ref:N,...ie},!r))return U}}return F(!0),U};const wBe={mode:Hh.onSubmit,reValidateMode:Hh.onChange,shouldFocusError:!0};function OBe(t={}){let e={...wBe,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:uc(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=na(e.defaultValues)||na(e.values)?Fo(e.defaultValues||e.values)||{}:{},o=e.shouldUnregister?{}:Fo(i),a={action:!1,mount:!1,watch:!1,keepIsValid:!1},s={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,d=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},v={...g};let x={...v};const O={array:vq(),state:vq()},E=e.criteriaMode===Hh.all,A=Qe=>Ye=>{clearTimeout(d),d=setTimeout(Qe,Ye)},M=async Qe=>{if(!a.keepIsValid&&!e.disabled&&(v.isValid||x.isValid||Qe)){let Ye;e.resolver?(Ye=Rl((await te()).errors),L()):Ye=await ce(r,!0),Ye!==n.isValid&&O.state.next({isValid:Ye})}},L=(Qe,Ye)=>{!e.disabled&&(v.isValidating||v.validatingFields||x.isValidating||x.validatingFields)&&((Qe||Array.from(s.mount)).forEach(bt=>{bt&&(Ye?eo(n.validatingFields,bt,Ye):As(n.validatingFields,bt))}),O.state.next({validatingFields:n.validatingFields,isValidating:!Rl(n.validatingFields)}))},$=(Qe,Ye=[],bt,kt,Vt=!0,Oe=!0)=>{if(kt&&bt&&!e.disabled){if(a.action=!0,Oe&&Array.isArray(Sn(r,Qe))){const se=bt(Sn(r,Qe),kt.argA,kt.argB);Vt&&eo(r,Qe,se)}if(Oe&&Array.isArray(Sn(n.errors,Qe))){const se=bt(Sn(n.errors,Qe),kt.argA,kt.argB);Vt&&eo(n.errors,Qe,se),bBe(n.errors,Qe)}if((v.touchedFields||x.touchedFields)&&Oe&&Array.isArray(Sn(n.touchedFields,Qe))){const se=bt(Sn(n.touchedFields,Qe),kt.argA,kt.argB);Vt&&eo(n.touchedFields,Qe,se)}(v.dirtyFields||x.dirtyFields)&&(n.dirtyFields=G1(i,o)),O.state.next({name:Qe,isDirty:ie(Qe,Ye),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else eo(o,Qe,Ye)},N=(Qe,Ye)=>{eo(n.errors,Qe,Ye),O.state.next({errors:n.errors})},F=Qe=>{n.errors=Qe,O.state.next({errors:n.errors,isValid:!1})},U=(Qe,Ye,bt,kt)=>{const Vt=Sn(r,Qe);if(Vt){const Oe=Sn(o,Qe,Mo(bt)?Sn(i,Qe):bt);Mo(Oe)||kt&&kt.defaultChecked||Ye?eo(o,Qe,Ye?Oe:wq(Vt._f)):pe(Qe,Oe),a.mount&&!a.action&&M()}},q=(Qe,Ye,bt,kt,Vt)=>{let Oe=!1,se=!1;const K={name:Qe};if(!e.disabled){if(!bt||kt){(v.isDirty||x.isDirty)&&(se=n.isDirty,n.isDirty=K.isDirty=ie(),Oe=se!==K.isDirty);const xe=vf(Sn(i,Qe),Ye);se=!!Sn(n.dirtyFields,Qe),xe?As(n.dirtyFields,Qe):eo(n.dirtyFields,Qe,!0),K.dirtyFields=n.dirtyFields,Oe=Oe||(v.dirtyFields||x.dirtyFields)&&se!==!xe}if(bt){const xe=Sn(n.touchedFields,Qe);xe||(eo(n.touchedFields,Qe,bt),K.touchedFields=n.touchedFields,Oe=Oe||(v.touchedFields||x.touchedFields)&&xe!==bt)}Oe&&Vt&&O.state.next(K)}return Oe?K:{}},W=(Qe,Ye,bt,kt)=>{const Vt=Sn(n.errors,Qe),Oe=(v.isValid||x.isValid)&&Zu(Ye)&&n.isValid!==Ye;if(e.delayError&&bt?(u=A(()=>N(Qe,bt)),u(e.delayError)):(clearTimeout(d),u=null,bt?eo(n.errors,Qe,bt):As(n.errors,Qe)),(bt?!vf(Vt,bt):Vt)||!Rl(kt)||Oe){const se={...kt,...Oe&&Zu(Ye)?{isValid:Ye}:{},errors:n.errors,name:Qe};n={...n,...se},O.state.next(se)}},te=async Qe=>(L(Qe,!0),await e.resolver(o,e.context,mBe(Qe||s.mount,r,e.criteriaMode,e.shouldUseNativeValidation))),re=async Qe=>{const{errors:Ye}=await te(Qe);if(L(Qe),Qe)for(const bt of Qe){const kt=Sn(Ye,bt);kt?eo(n.errors,bt,kt):As(n.errors,bt)}else n.errors=Ye;return Ye},ce=async(Qe,Ye,bt={valid:!0})=>{for(const kt in Qe){const Vt=Qe[kt];if(Vt){const{_f:Oe,...se}=Vt;if(Oe){const K=s.array.has(Oe.name),xe=Vt._f&&gBe(Vt._f);xe&&v.validatingFields&&L([Oe.name],!0);const $e=await Pz(Vt,s.disabled,o,E,e.shouldUseNativeValidation&&!Ye,K);if(xe&&v.validatingFields&&L([Oe.name]),$e[Oe.name]&&(bt.valid=!1,Ye))break;!Ye&&(Sn($e,Oe.name)?K?die(n.errors,$e,Oe.name):eo(n.errors,Oe.name,$e[Oe.name]):As(n.errors,Oe.name))}!Rl(se)&&await ce(se,Ye,bt)}}return bt.valid},be=()=>{for(const Qe of s.unMount){const Ye=Sn(r,Qe);Ye&&(Ye._f.refs?Ye._f.refs.every(bt=>!rL(bt)):!rL(Ye._f.ref))&&vt(Qe)}s.unMount=new Set},ie=(Qe,Ye)=>!e.disabled&&(Qe&&Ye&&eo(o,Qe,Ye),!vf(Pe(),i)),me=(Qe,Ye,bt)=>Tz(Qe,s,{...a.mount?o:Mo(Ye)?i:Ku(Qe)?{[Qe]:Ye}:Ye},bt,Ye),we=Qe=>$I(Sn(a.mount?o:i,Qe,e.shouldUnregister?Sn(i,Qe,[]):[])),pe=(Qe,Ye,bt={})=>{const kt=Sn(r,Qe);let Vt=Ye;if(kt){const Oe=kt._f;Oe&&(!Oe.disabled&&eo(o,Qe,uie(Ye,Oe)),Vt=dM(Oe.ref)&&Xc(Ye)?"":Ye,aie(Oe.ref)?[...Oe.ref.options].forEach(se=>se.selected=Vt.includes(se.value)):Oe.refs?Fk(Oe.ref)?Oe.refs.forEach(se=>{(!se.defaultChecked||!se.disabled)&&(Array.isArray(Vt)?se.checked=!!Vt.find(K=>K===se.value):se.checked=Vt===se.value||!!Vt)}):Oe.refs.forEach(se=>se.checked=se.value===Vt):p9(Oe.ref)?Oe.ref.value="":(Oe.ref.value=Vt,Oe.ref.type||O.state.next({name:Qe,values:Fo(o)})))}(bt.shouldDirty||bt.shouldTouch)&&q(Qe,Vt,bt.shouldTouch,bt.shouldDirty,!0),bt.shouldValidate&&Ce(Qe)},_e=(Qe,Ye,bt)=>{for(const kt in Ye){if(!Ye.hasOwnProperty(kt))return;const Vt=Ye[kt],Oe=Qe+"."+kt,se=Sn(r,Oe);(s.array.has(Qe)||na(Vt)||se&&!se._f)&&!Y_(Vt)?_e(Oe,Vt,bt):pe(Oe,Vt,bt)}},Me=(Qe,Ye,bt={})=>{const kt=Sn(r,Qe),Vt=s.array.has(Qe),Oe=Fo(Ye);eo(o,Qe,Oe),Vt?(O.array.next({name:Qe,values:Fo(o)}),(v.isDirty||v.dirtyFields||x.isDirty||x.dirtyFields)&&bt.shouldDirty&&O.state.next({name:Qe,dirtyFields:G1(i,o),isDirty:ie(Qe,Oe)})):kt&&!kt._f&&!Xc(Oe)?_e(Qe,Oe,bt):pe(Qe,Oe,bt),Az(Qe,s)&&O.state.next({...n,name:Qe}),O.state.next({name:a.mount?Qe:void 0,values:Fo(o)})},Be=async Qe=>{a.mount=!0;const Ye=Qe.target;let bt=Ye.name,kt=!0;const Vt=Sn(r,bt),Oe=xe=>{kt=Number.isNaN(xe)||Y_(xe)&&isNaN(xe.getTime())||vf(xe,Sn(o,bt,xe))},se=iw(e.mode),K=iw(e.reValidateMode);if(Vt){let xe,$e;const ze=Ye.type?wq(Vt._f):nie(Qe),rt=Qe.type===hM.BLUR||Qe.type===hM.FOCUS_OUT,tt=!yBe(Vt._f)&&!e.resolver&&!Sn(n.errors,bt)&&!Vt._f.deps||xBe(rt,Sn(n.touchedFields,bt),n.isSubmitted,K,se),Ke=Az(bt,s,rt);eo(o,bt,ze),rt?(!Ye||!Ye.readOnly)&&(Vt._f.onBlur&&Vt._f.onBlur(Qe),u&&u(0)):Vt._f.onChange&&Vt._f.onChange(Qe);const at=q(bt,ze,rt),St=!Rl(at)||Ke;if(!rt&&O.state.next({name:bt,type:Qe.type,values:Fo(o)}),tt)return(v.isValid||x.isValid)&&(e.mode==="onBlur"?rt&&M():rt||M()),St&&O.state.next({name:bt,...Ke?{}:at});if(!rt&&Ke&&O.state.next({...n}),e.resolver){const{errors:st}=await te([bt]);if(L([bt]),Oe(ze),kt){const zt=Sq(n.errors,r,bt),ln=Sq(st,r,zt.name||bt);xe=ln.error,bt=ln.name,$e=Rl(st)}}else L([bt],!0),xe=(await Pz(Vt,s.disabled,o,E,e.shouldUseNativeValidation))[bt],L([bt]),Oe(ze),kt&&(xe?$e=!1:(v.isValid||x.isValid)&&($e=await ce(r,!0)));kt&&(Vt._f.deps&&(!Array.isArray(Vt._f.deps)||Vt._f.deps.length>0)&&Ce(Vt._f.deps),W(bt,$e,xe,at))}},Ue=(Qe,Ye)=>{if(Sn(n.errors,Ye)&&Qe.focus)return Qe.focus(),1},Ce=async(Qe,Ye={})=>{let bt,kt;const Vt=nu(Qe);if(e.resolver){const Oe=await re(Mo(Qe)?Qe:Vt);bt=Rl(Oe),kt=Qe?!Vt.some(se=>Sn(Oe,se)):bt}else Qe?(kt=(await Promise.all(Vt.map(async Oe=>{const se=Sn(r,Oe);return await ce(se&&se._f?{[Oe]:se}:se)}))).every(Boolean),!(!kt&&!n.isValid)&&M()):kt=bt=await ce(r);return O.state.next({...!Ku(Qe)||(v.isValid||x.isValid)&&bt!==n.isValid?{}:{name:Qe},...e.resolver||!Qe?{isValid:bt}:{},errors:n.errors}),Ye.shouldFocus&&!kt&&Ow(r,Ue,Qe?Vt:s.mount),kt},Pe=(Qe,Ye)=>{let bt={...a.mount?o:i};return Ye&&(bt=sie(Ye.dirtyFields?n.dirtyFields:n.touchedFields,bt)),Mo(Qe)?bt:Ku(Qe)?Sn(bt,Qe):Qe.map(kt=>Sn(bt,kt))},Xe=(Qe,Ye)=>({invalid:!!Sn((Ye||n).errors,Qe),isDirty:!!Sn((Ye||n).dirtyFields,Qe),error:Sn((Ye||n).errors,Qe),isValidating:!!Sn(n.validatingFields,Qe),isTouched:!!Sn((Ye||n).touchedFields,Qe)}),ke=Qe=>{Qe&&nu(Qe).forEach(Ye=>As(n.errors,Ye)),O.state.next({errors:Qe?n.errors:{}})},mt=(Qe,Ye,bt)=>{const kt=(Sn(r,Qe,{_f:{}})._f||{}).ref,Vt=Sn(n.errors,Qe)||{},{ref:Oe,message:se,type:K,...xe}=Vt;eo(n.errors,Qe,{...xe,...Ye,ref:kt}),O.state.next({name:Qe,errors:n.errors,isValid:!1}),bt&&bt.shouldFocus&&kt&&kt.focus&&kt.focus()},gt=(Qe,Ye)=>uc(Qe)?O.state.subscribe({next:bt=>"values"in bt&&Qe(me(void 0,Ye),bt)}):me(Qe,Ye,!0),ct=Qe=>O.state.subscribe({next:Ye=>{_Be(Qe.name,Ye.name,Qe.exact)&&vBe(Ye,Qe.formState||v,Rn,Qe.reRenderRoot)&&Qe.callback({values:{...o},...n,...Ye,defaultValues:i})}}).unsubscribe,ot=Qe=>(a.mount=!0,x={...x,...Qe.formState},ct({...Qe,formState:{...g,...Qe.formState}})),vt=(Qe,Ye={})=>{for(const bt of Qe?nu(Qe):s.mount)s.mount.delete(bt),s.array.delete(bt),Ye.keepValue||(As(r,bt),As(o,bt)),!Ye.keepError&&As(n.errors,bt),!Ye.keepDirty&&As(n.dirtyFields,bt),!Ye.keepTouched&&As(n.touchedFields,bt),!Ye.keepIsValidating&&As(n.validatingFields,bt),!e.shouldUnregister&&!Ye.keepDefaultValue&&As(i,bt);O.state.next({values:Fo(o)}),O.state.next({...n,...Ye.keepDirty?{isDirty:ie()}:{}}),!Ye.keepIsValid&&M()},At=({disabled:Qe,name:Ye})=>{(Zu(Qe)&&a.mount||Qe||s.disabled.has(Ye))&&(Qe?s.disabled.add(Ye):s.disabled.delete(Ye))},Tt=(Qe,Ye={})=>{let bt=Sn(r,Qe);const kt=Zu(Ye.disabled)||Zu(e.disabled);return eo(r,Qe,{...bt||{},_f:{...bt&&bt._f?bt._f:{ref:{name:Qe}},name:Qe,mount:!0,...Ye}}),s.mount.add(Qe),bt?At({disabled:Zu(Ye.disabled)?Ye.disabled:e.disabled,name:Qe}):U(Qe,!0,Ye.value),{...kt?{disabled:Ye.disabled||e.disabled}:{},...e.progressive?{required:!!Ye.required,min:z2(Ye.min),max:z2(Ye.max),minLength:z2(Ye.minLength),maxLength:z2(Ye.maxLength),pattern:z2(Ye.pattern)}:{},name:Qe,onChange:Be,onBlur:Be,ref:Vt=>{if(Vt){Tt(Qe,Ye),bt=Sn(r,Qe);const Oe=Mo(Vt.value)&&Vt.querySelectorAll&&Vt.querySelectorAll("input,select,textarea")[0]||Vt,se=hBe(Oe),K=bt._f.refs||[];if(se?K.find(xe=>xe===Oe):Oe===bt._f.ref)return;eo(r,Qe,{_f:{...bt._f,...se?{refs:[...K.filter(rL),Oe,...Array.isArray(Sn(i,Qe))?[{}]:[]],ref:{type:Oe.type,name:Qe}}:{ref:Oe}}}),U(Qe,!1,void 0,Oe)}else bt=Sn(r,Qe,{}),bt._f&&(bt._f.mount=!1),(e.shouldUnregister||Ye.shouldUnregister)&&!(rie(s.array,Qe)&&a.action)&&s.unMount.add(Qe)}}},Wt=()=>e.shouldFocusError&&Ow(r,Ue,s.mount),Ot=Qe=>{Zu(Qe)&&(O.state.next({disabled:Qe}),Ow(r,(Ye,bt)=>{const kt=Sn(r,bt);kt&&(Ye.disabled=kt._f.disabled||Qe,Array.isArray(kt._f.refs)&&kt._f.refs.forEach(Vt=>{Vt.disabled=kt._f.disabled||Qe}))},0,!1))},hn=(Qe,Ye)=>async bt=>{let kt;bt&&(bt.preventDefault&&bt.preventDefault(),bt.persist&&bt.persist());let Vt=Fo(o);if(O.state.next({isSubmitting:!0}),e.resolver){const{errors:Oe,values:se}=await te();L(),n.errors=Oe,Vt=Fo(se)}else await ce(r);if(s.disabled.size)for(const Oe of s.disabled)As(Vt,Oe);if(As(n.errors,"root"),Rl(n.errors)){O.state.next({errors:{}});try{await Qe(Vt,bt)}catch(Oe){kt=Oe}}else Ye&&await Ye({...n.errors},bt),Wt(),setTimeout(Wt);if(O.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Rl(n.errors)&&!kt,submitCount:n.submitCount+1,errors:n.errors}),kt)throw kt},Gt=(Qe,Ye={})=>{Sn(r,Qe)&&(Mo(Ye.defaultValue)?Me(Qe,Fo(Sn(i,Qe))):(Me(Qe,Ye.defaultValue),eo(i,Qe,Fo(Ye.defaultValue))),Ye.keepTouched||As(n.touchedFields,Qe),Ye.keepDirty||(As(n.dirtyFields,Qe),n.isDirty=Ye.defaultValue?ie(Qe,Fo(Sn(i,Qe))):ie()),Ye.keepError||(As(n.errors,Qe),v.isValid&&M()),O.state.next({...n}))},Yt=(Qe,Ye={})=>{const bt=Qe?Fo(Qe):i,kt=Fo(bt),Vt=Rl(Qe),Oe=Vt?i:kt;if(Ye.keepDefaultValues||(i=bt),!Ye.keepValues){if(Ye.keepDirtyValues){const se=new Set([...s.mount,...Object.keys(G1(i,o))]);for(const K of Array.from(se))Sn(n.dirtyFields,K)?eo(Oe,K,Sn(o,K)):Me(K,Sn(Oe,K))}else{if(d9&&Mo(Qe))for(const se of s.mount){const K=Sn(r,se);if(K&&K._f){const xe=Array.isArray(K._f.refs)?K._f.refs[0]:K._f.ref;if(dM(xe)){const $e=xe.closest("form");if($e){$e.reset();break}}}}if(Ye.keepFieldsRef)for(const se of s.mount)Me(se,Sn(Oe,se));else r={}}o=e.shouldUnregister?Ye.keepDefaultValues?Fo(i):{}:Fo(Oe),O.array.next({values:{...Oe}}),O.state.next({values:{...Oe}})}s={mount:Ye.keepDirtyValues?s.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!v.isValid||!!Ye.keepIsValid||!!Ye.keepDirtyValues||!e.shouldUnregister&&!Rl(Oe),a.watch=!!e.shouldUnregister,a.keepIsValid=!!Ye.keepIsValid,a.action=!1,Ye.keepErrors||(n.errors={}),O.state.next({submitCount:Ye.keepSubmitCount?n.submitCount:0,isDirty:Vt?!1:Ye.keepDirty?n.isDirty:!!(Ye.keepDefaultValues&&!vf(Qe,i)),isSubmitted:Ye.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Vt?{}:Ye.keepDirtyValues?Ye.keepDefaultValues&&o?G1(i,o):n.dirtyFields:Ye.keepDefaultValues&&Qe?G1(i,Qe):Ye.keepDirty?n.dirtyFields:{},touchedFields:Ye.keepTouched?n.touchedFields:{},errors:Ye.keepErrors?n.errors:{},isSubmitSuccessful:Ye.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Cn=(Qe,Ye)=>Yt(uc(Qe)?Qe(o):Qe,{...e.resetOptions,...Ye}),sn=(Qe,Ye={})=>{const bt=Sn(r,Qe),kt=bt&&bt._f;if(kt){const Vt=kt.refs?kt.refs[0]:kt.ref;Vt.focus&&setTimeout(()=>{Vt.focus(),Ye.shouldSelect&&uc(Vt.select)&&Vt.select()})}},Rn=Qe=>{n={...n,...Qe}},Vn={control:{register:Tt,unregister:vt,getFieldState:Xe,handleSubmit:hn,setError:mt,_subscribe:ct,_runSchema:te,_updateIsValidating:L,_focusError:Wt,_getWatch:me,_getDirty:ie,_setValid:M,_setFieldArray:$,_setDisabledField:At,_setErrors:F,_getFieldArray:we,_reset:Yt,_resetDefaultValues:()=>uc(e.defaultValues)&&e.defaultValues().then(Qe=>{Cn(Qe,e.resetOptions),O.state.next({isLoading:!1})}),_removeUnmounted:be,_disableForm:Ot,_subjects:O,_proxyFormState:v,get _fields(){return r},get _formValues(){return o},get _state(){return a},set _state(Qe){a=Qe},get _defaultValues(){return i},get _names(){return s},set _names(Qe){s=Qe},get _formState(){return n},get _options(){return e},set _options(Qe){e={...e,...Qe}}},subscribe:ot,trigger:Ce,register:Tt,handleSubmit:hn,watch:gt,setValue:Me,getValues:Pe,reset:Cn,resetField:Gt,clearErrors:ke,unregister:vt,setError:mt,setFocus:sn,getFieldState:Xe};return{...Vn,formControl:Vn}}var v0=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const n=(Math.random()*16+t)%16|0;return(e=="x"?n:n&3|8).toString(16)})},iL=(t,e,n={})=>n.shouldFocus||Mo(n.shouldFocus)?n.focusName||`${t}.${Mo(n.focusIndex)?e:n.focusIndex}.`:"",oL=(t,e)=>[...t,...nu(e)],sL=t=>Array.isArray(t)?t.map(()=>{}):void 0;function aL(t,e,n){return[...t.slice(0,e),...nu(n),...t.slice(e)]}var lL=(t,e,n)=>Array.isArray(t)?(Mo(t[n])&&(t[n]=void 0),t.splice(n,0,t.splice(e,1)[0]),t):[],cL=(t,e)=>[...nu(e),...nu(t)];function SBe(t,e){let n=0;const r=[...t];for(const i of e)r.splice(i-n,1),n++;return $I(r).length?r:[]}var uL=(t,e)=>Mo(e)?[]:SBe(t,nu(e).sort((n,r)=>n-r)),hL=(t,e,n)=>{[t[e],t[n]]=[t[n],t[e]]},Tq=(t,e,n)=>(t[e]=n,t);function CBe(t){const e=zI(),{control:n=e.control,name:r,keyName:i="id",shouldUnregister:o,rules:a}=t,[s,u]=ae.useState(n._getFieldArray(r)),d=ae.useRef(n._getFieldArray(r).map(v0)),g=ae.useRef(!1);n._names.array.add(r),ae.useMemo(()=>a&&s.length>=0&&n.register(r,a),[n,r,s.length,a]),NI(()=>n._subjects.array.subscribe({next:({values:F,name:U})=>{if(U===r||!U){const q=Sn(F,r);Array.isArray(q)&&(u(q),d.current=q.map(v0))}}}).unsubscribe,[n,r]);const v=ae.useCallback(F=>{g.current=!0,n._setFieldArray(r,F)},[n,r]),x=(F,U)=>{const q=nu(Fo(F)),W=oL(n._getFieldArray(r),q);n._names.focus=iL(r,W.length-1,U),d.current=oL(d.current,q.map(v0)),v(W),u(W),n._setFieldArray(r,W,oL,{argA:sL(F)})},O=(F,U)=>{const q=nu(Fo(F)),W=cL(n._getFieldArray(r),q);n._names.focus=iL(r,0,U),d.current=cL(d.current,q.map(v0)),v(W),u(W),n._setFieldArray(r,W,cL,{argA:sL(F)})},E=F=>{const U=uL(n._getFieldArray(r),F);d.current=uL(d.current,F),v(U),u(U),!Array.isArray(Sn(n._fields,r))&&eo(n._fields,r,void 0),n._setFieldArray(r,U,uL,{argA:F})},A=(F,U,q)=>{const W=nu(Fo(U)),te=aL(n._getFieldArray(r),F,W);n._names.focus=iL(r,F,q),d.current=aL(d.current,F,W.map(v0)),v(te),u(te),n._setFieldArray(r,te,aL,{argA:F,argB:sL(U)})},M=(F,U)=>{const q=n._getFieldArray(r);hL(q,F,U),hL(d.current,F,U),v(q),u(q),n._setFieldArray(r,q,hL,{argA:F,argB:U},!1)},L=(F,U)=>{const q=n._getFieldArray(r);lL(q,F,U),lL(d.current,F,U),v(q),u(q),n._setFieldArray(r,q,lL,{argA:F,argB:U},!1)},$=(F,U)=>{const q=Fo(U),W=Tq(n._getFieldArray(r),F,q);d.current=[...W].map((te,re)=>!te||re===F?v0():d.current[re]),v(W),u([...W]),n._setFieldArray(r,W,Tq,{argA:F,argB:q},!0,!1)},N=F=>{const U=nu(Fo(F));d.current=U.map(v0),v([...U]),u([...U]),n._setFieldArray(r,[...U],q=>q,{},!0,!1)};return ae.useEffect(()=>{if(n._state.action=!1,Az(r,n._names)&&n._subjects.state.next({...n._formState}),g.current&&(!iw(n._options.mode).isOnSubmit||n._formState.isSubmitted)&&!iw(n._options.reValidateMode).isOnSubmit)if(n._options.resolver)n._runSchema([r]).then(F=>{n._updateIsValidating([r]);const U=Sn(F.errors,r),q=Sn(n._formState.errors,r);(q?!U&&q.type||U&&(q.type!==U.type||q.message!==U.message):U&&U.type)&&(U?eo(n._formState.errors,r,U):As(n._formState.errors,r),n._subjects.state.next({errors:n._formState.errors}))});else{const F=Sn(n._fields,r);F&&F._f&&!(iw(n._options.reValidateMode).isOnSubmit&&iw(n._options.mode).isOnSubmit)&&Pz(F,n._names.disabled,n._formValues,n._options.criteriaMode===Hh.all,n._options.shouldUseNativeValidation,!0).then(U=>!Rl(U)&&n._subjects.state.next({errors:die(n._formState.errors,U,r)}))}n._subjects.state.next({name:r,values:Fo(n._formValues)}),n._names.focus&&Ow(n._fields,(F,U)=>{if(n._names.focus&&U.startsWith(n._names.focus)&&F.focus)return F.focus(),1}),n._names.focus="",n._setValid(),g.current=!1},[s,r,n]),ae.useEffect(()=>(!Sn(n._formValues,r)&&n._setFieldArray(r),()=>{const F=(U,q)=>{const W=Sn(n._fields,U);W&&W._f&&(W._f.mount=q)};n._options.shouldUnregister||o?n.unregister(r):F(r,!1)}),[r,n,i,o]),{swap:ae.useCallback(M,[v,r,n]),move:ae.useCallback(L,[v,r,n]),prepend:ae.useCallback(O,[v,r,n]),append:ae.useCallback(x,[v,r,n]),remove:ae.useCallback(E,[v,r,n]),insert:ae.useCallback(A,[v,r,n]),update:ae.useCallback($,[v,r,n]),replace:ae.useCallback(N,[v,r,n]),fields:ae.useMemo(()=>s.map((F,U)=>({...F,[i]:d.current[U]||v0()})),[s,i])}}function g9(t={}){const e=ae.useRef(void 0),n=ae.useRef(void 0),[r,i]=ae.useState({isDirty:!1,isValidating:!1,isLoading:uc(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:uc(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!uc(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...s}=OBe(t);e.current={...s,formState:r}}const o=e.current.control;return o._options=t,NI(()=>{const a=o._subscribe({formState:o._proxyFormState,callback:()=>i({...o._formState}),reRenderRoot:!0});return i(s=>({...s,isReady:!0})),o._formState.isReady=!0,a},[o]),ae.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),ae.useEffect(()=>{t.mode&&(o._options.mode=t.mode),t.reValidateMode&&(o._options.reValidateMode=t.reValidateMode)},[o,t.mode,t.reValidateMode]),ae.useEffect(()=>{t.errors&&(o._setErrors(t.errors),o._focusError())},[o,t.errors]),ae.useEffect(()=>{t.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,t.shouldUnregister]),ae.useEffect(()=>{if(o._proxyFormState.isDirty){const a=o._getDirty();a!==r.isDirty&&o._subjects.state.next({isDirty:a})}},[o,r.isDirty]),ae.useEffect(()=>{var a;t.values&&!vf(t.values,n.current)?(o._reset(t.values,{keepFieldsRef:!0,...o._options.resetOptions}),!((a=o._options.resetOptions)===null||a===void 0)&&a.keepIsValid||o._setValid(),n.current=t.values,i(s=>({...s}))):o._resetDefaultValues()},[o,t.values]),ae.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),e.current.formState=oie(r,o),e.current}var dL={exports:{}},Ji={};var kq;function TBe(){if(kq)return Ji;kq=1;var t=60103,e=60106,n=60107,r=60108,i=60114,o=60109,a=60110,s=60112,u=60113,d=60120,g=60115,v=60116,x=60121,O=60122,E=60117,A=60129,M=60131;if(typeof Symbol=="function"&&Symbol.for){var L=Symbol.for;t=L("react.element"),e=L("react.portal"),n=L("react.fragment"),r=L("react.strict_mode"),i=L("react.profiler"),o=L("react.provider"),a=L("react.context"),s=L("react.forward_ref"),u=L("react.suspense"),d=L("react.suspense_list"),g=L("react.memo"),v=L("react.lazy"),x=L("react.block"),O=L("react.server.block"),E=L("react.fundamental"),A=L("react.debug_trace_mode"),M=L("react.legacy_hidden")}function $(me){if(typeof me=="object"&&me!==null){var we=me.$$typeof;switch(we){case t:switch(me=me.type,me){case n:case i:case r:case u:case d:return me;default:switch(me=me&&me.$$typeof,me){case a:case s:case v:case g:case o:return me;default:return we}}case e:return we}}}var N=o,F=t,U=s,q=n,W=v,te=g,re=e,ce=i,be=r,ie=u;return Ji.ContextConsumer=a,Ji.ContextProvider=N,Ji.Element=F,Ji.ForwardRef=U,Ji.Fragment=q,Ji.Lazy=W,Ji.Memo=te,Ji.Portal=re,Ji.Profiler=ce,Ji.StrictMode=be,Ji.Suspense=ie,Ji.isAsyncMode=function(){return!1},Ji.isConcurrentMode=function(){return!1},Ji.isContextConsumer=function(me){return $(me)===a},Ji.isContextProvider=function(me){return $(me)===o},Ji.isElement=function(me){return typeof me=="object"&&me!==null&&me.$$typeof===t},Ji.isForwardRef=function(me){return $(me)===s},Ji.isFragment=function(me){return $(me)===n},Ji.isLazy=function(me){return $(me)===v},Ji.isMemo=function(me){return $(me)===g},Ji.isPortal=function(me){return $(me)===e},Ji.isProfiler=function(me){return $(me)===i},Ji.isStrictMode=function(me){return $(me)===r},Ji.isSuspense=function(me){return $(me)===u},Ji.isValidElementType=function(me){return typeof me=="string"||typeof me=="function"||me===n||me===i||me===A||me===r||me===u||me===d||me===M||typeof me=="object"&&me!==null&&(me.$$typeof===v||me.$$typeof===g||me.$$typeof===o||me.$$typeof===a||me.$$typeof===s||me.$$typeof===E||me.$$typeof===x||me[0]===O)},Ji.typeOf=$,Ji}var Eq;function kBe(){return Eq||(Eq=1,dL.exports=TBe()),dL.exports}kBe();let Aq=t=>typeof t=="object"&&t!=null&&t.nodeType===1,Pq=(t,e)=>(!e||t!=="hidden")&&t!=="visible"&&t!=="clip",fL=(t,e)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){let n=getComputedStyle(t,null);return Pq(n.overflowY,e)||Pq(n.overflowX,e)||(r=>{let i=(o=>{if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!i&&(i.clientHeight<r.scrollHeight||i.clientWidth<r.scrollWidth)})(t)}return!1},BA=(t,e,n,r,i,o,a,s)=>o<t&&a>e||o>t&&a<e?0:o<=t&&s<=n||a>=e&&s>=n?o-t-r:a>e&&s<n||o<t&&s>n?a-e+i:0,EBe=t=>{let e=t.parentElement;return e??(t.getRootNode().host||null)};var ABe=(t,e)=>{var n,r,i,o,a,s;if(typeof document>"u")return[];let{inline:u,boundary:d,skipOverflowHiddenElements:g}=e,v=typeof d=="function"?d:ie=>ie!==d;if(!Aq(t))throw new TypeError("Invalid target");let x=document.scrollingElement||document.documentElement,O=[],E=t;for(;Aq(E)&&v(E);){if(E=EBe(E),E===x){O.push(E);break}E!=null&&E===document.body&&fL(E)&&!fL(document.documentElement)||E!=null&&fL(E,g)&&O.push(E)}let A=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,M=(o=(i=window.visualViewport)==null?void 0:i.height)!=null?o:innerHeight,L=(a=window.scrollX)!=null?a:pageXOffset,$=(s=window.scrollY)!=null?s:pageYOffset,{height:N,width:F,top:U,right:q,bottom:W,left:te}=t.getBoundingClientRect(),re=U,ce=u==="center"?te+F/2:u==="end"?q:te,be=[];for(let ie=0;ie<O.length;ie++){let me=O[ie],{height:we,width:pe,top:_e,right:Me,bottom:Be,left:Ue}=me.getBoundingClientRect();if(U>=0&&te>=0&&W<=M&&q<=A&&U>=_e&&W<=Be&&te>=Ue&&q<=Me)return be;let Ce=getComputedStyle(me),Pe=parseInt(Ce.borderLeftWidth,10),Xe=parseInt(Ce.borderTopWidth,10),ke=parseInt(Ce.borderRightWidth,10),mt=parseInt(Ce.borderBottomWidth,10),gt=0,ct=0,ot="offsetWidth"in me?me.offsetWidth-me.clientWidth-Pe-ke:0,vt="offsetHeight"in me?me.offsetHeight-me.clientHeight-Xe-mt:0,At="offsetWidth"in me?me.offsetWidth===0?0:pe/me.offsetWidth:0,Tt="offsetHeight"in me?me.offsetHeight===0?0:we/me.offsetHeight:0;if(x===me)gt=BA($,$+M,M,Xe,mt,$+re,$+re+N,N),ct=u==="start"?ce:u==="center"?ce-A/2:u==="end"?ce-A:BA(L,L+A,A,Pe,ke,L+ce,L+ce+F,F),gt=Math.max(0,gt+$),ct=Math.max(0,ct+L);else{gt=BA(_e,Be,we,Xe,mt+vt,re,re+N,N),ct=u==="start"?ce-Ue-Pe:u==="center"?ce-(Ue+pe/2)+ot/2:u==="end"?ce-Me+ke+ot:BA(Ue,Me,pe,Pe,ke+ot,ce,ce+F,F);let{scrollLeft:Wt,scrollTop:Ot}=me;gt=Math.max(0,Math.min(Ot+gt/Tt,me.scrollHeight-we/Tt+vt)),ct=Math.max(0,Math.min(Wt+ct/At,me.scrollWidth-pe/At+ot)),re+=Ot-gt,ce+=Wt-ct}be.push({el:me,top:gt,left:ct})}return be},PBe=0;function fie(){}function MBe(t,e){if(t){var n=ABe(t,{boundary:e});n.forEach(function(r){var i=r.el,o=r.top,a=r.left;i.scrollTop=o,i.scrollLeft=a})}}function Mq(t,e,n){var r=t===e||e instanceof n.Node&&t.contains&&t.contains(e);return r}function pie(t,e){var n;function r(){n&&clearTimeout(n)}function i(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];r(),n=setTimeout(function(){n=null,t.apply(void 0,a)},e)}return i.cancel=r,i}function kg(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return e.some(function(s){return s&&s.apply(void 0,[r].concat(o)),r.preventDownshiftDefault||r.hasOwnProperty("nativeEvent")&&r.nativeEvent.preventDownshiftDefault})}}function FA(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){e.forEach(function(i){typeof i=="function"?i(r):i&&(i.current=r)})}}function RBe(){return String(PBe++)}function IBe(t){var e=t.isOpen,n=t.resultCount,r=t.previousResultCount;return e?n?n!==r?n+" result"+(n===1?" is":"s are")+" available, use up and down arrow keys to navigate. Press Enter key to select.":"":"No results are available.":""}function Mz(t,e){return Object.keys(t).reduce(function(n,r){return n[r]=mie(e,r)?e[r]:t[r],n},{})}function mie(t,e){return t[e]!==void 0}function DBe(t){var e=t.key,n=t.keyCode;return n>=37&&n<=40&&e.indexOf("Arrow")!==0?"Arrow"+e:e}function jA(t,e,n,r,i){if(i===void 0&&(i=!0),n===0)return-1;var o=n-1;(typeof e!="number"||e<0||e>=n)&&(e=t>0?-1:o+1);var a=e+t;a<0?a=i?o:0:a>o&&(a=i?0:o);var s=wT(t,a,n,r,i);return s===-1?e>=n?-1:e:s}function wT(t,e,n,r,i){var o=r(e);if(!o||!o.hasAttribute("disabled"))return e;if(t>0){for(var a=e+1;a<n;a++)if(!r(a).hasAttribute("disabled"))return a}else for(var s=e-1;s>=0;s--)if(!r(s).hasAttribute("disabled"))return s;return i?t>0?wT(1,0,n,r,!1):wT(-1,n-1,n,r,!1):-1}function Rq(t,e,n,r){return r===void 0&&(r=!0),e.some(function(i){return i&&(Mq(i,t,n)||r&&Mq(i,n.document.activeElement,n))})}var LBe=pie(function(t){gie(t).textContent=""},500);function $Be(t,e){var n=gie(e);t&&(n.textContent=t,LBe(e))}function gie(t){t===void 0&&(t=document);var e=t.getElementById("a11y-status-message");return e||(e=t.createElement("div"),e.setAttribute("id","a11y-status-message"),e.setAttribute("role","status"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-relevant","additions text"),Object.assign(e.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),t.body.appendChild(e),e)}var zBe=["isInitialMount","highlightedIndex","items","environment"],yie={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function NBe(t,e,n){var r=t.props,i=t.type,o={};Object.keys(e).forEach(function(a){BBe(a,t,e,n),n[a]!==e[a]&&(o[a]=n[a])}),r.onStateChange&&Object.keys(o).length&&r.onStateChange(Ao({type:i},o))}function BBe(t,e,n,r){var i=e.props,o=e.type,a="on"+y9(t)+"Change";i[a]&&r[t]!==void 0&&r[t]!==n[t]&&i[a](Ao({type:o},r))}function FBe(t,e){return e.changes}function jBe(t){var e=t.selectedItem,n=t.itemToString;return e?n(e)+" has been selected.":""}var VBe=pie(function(t,e){$Be(t(),e)},200),QBe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?j.useLayoutEffect:j.useEffect;function UBe(t){var e=t.id,n=e===void 0?"downshift-"+RBe():e,r=t.labelId,i=t.menuId,o=t.getItemId,a=t.toggleButtonId,s=t.inputId,u=j.useRef({labelId:r||n+"-label",menuId:i||n+"-menu",getItemId:o||function(d){return n+"-item-"+d},toggleButtonId:a||n+"-toggle-button",inputId:s||n+"-input"});return u.current}function ZBe(t,e,n,r){var i,o;if(t===void 0){if(e===void 0)throw new Error(r);i=n[e],o=e}else o=e===void 0?n.indexOf(t):e,i=t;return[i,o]}function qBe(t){return t?String(t):""}function y9(t){return""+t.slice(0,1).toUpperCase()+t.slice(1)}function vie(t){var e=j.useRef(t);return e.current=t,e}function WBe(t,e,n){var r=j.useRef(),i=j.useRef(),o=j.useCallback(function(x,O){i.current=O,x=Mz(x,O.props);var E=t(x,O),A=O.props.stateReducer(x,Ao({},O,{changes:E}));return A},[t]),a=j.useReducer(o,e),s=a[0],u=a[1],d=vie(n),g=j.useCallback(function(x){return u(Ao({props:d.current},x))},[d]),v=i.current;return j.useEffect(function(){v&&r.current&&r.current!==s&&NBe(v,Mz(r.current,v.props),s),r.current=s},[s,n,v]),[s,g]}var IC={itemToString:qBe,stateReducer:FBe,getA11ySelectionMessage:jBe,scrollIntoView:MBe,environment:typeof window>"u"?{}:window};function Jp(t,e,n){n===void 0&&(n=yie);var r=t["default"+y9(e)];return r!==void 0?r:n[e]}function VA(t,e,n){n===void 0&&(n=yie);var r=t[e];if(r!==void 0)return r;var i=t["initial"+y9(e)];return i!==void 0?i:Jp(t,e,n)}function HBe(t){var e=VA(t,"selectedItem"),n=VA(t,"isOpen"),r=VA(t,"highlightedIndex"),i=VA(t,"inputValue");return{highlightedIndex:r<0&&e&&n?t.items.indexOf(e):r,isOpen:n,selectedItem:e,inputValue:i}}function DC(t,e,n){var r=t.items,i=t.initialHighlightedIndex,o=t.defaultHighlightedIndex,a=e.selectedItem,s=e.highlightedIndex;return r.length===0?-1:i!==void 0&&s===i?i:o!==void 0?o:a?r.indexOf(a):n===0?-1:n<0?r.length-1:0}function GBe(t,e,n,r){var i=j.useRef({isMouseDown:!1,isTouchMove:!1});return j.useEffect(function(){if(n?.addEventListener!=null){var o=function(){i.current.isMouseDown=!0},a=function(v){i.current.isMouseDown=!1,t&&!Rq(v.target,e.map(function(x){return x.current}),n)&&r()},s=function(){i.current.isTouchMove=!1},u=function(){i.current.isTouchMove=!0},d=function(v){t&&!i.current.isTouchMove&&!Rq(v.target,e.map(function(x){return x.current}),n,!1)&&r()};return n.addEventListener("mousedown",o),n.addEventListener("mouseup",a),n.addEventListener("touchstart",s),n.addEventListener("touchmove",u),n.addEventListener("touchend",d),function(){n.removeEventListener("mousedown",o),n.removeEventListener("mouseup",a),n.removeEventListener("touchstart",s),n.removeEventListener("touchmove",u),n.removeEventListener("touchend",d)}}},[t,n]),i}var XBe=function(){return fie};function Iq(t,e,n){var r=n.isInitialMount,i=n.highlightedIndex,o=n.items,a=n.environment,s=q_(n,zBe);j.useEffect(function(){r||VBe(function(){return t(Ao({highlightedIndex:i,highlightedItem:o[i],resultCount:o.length},s))},a.document)},e)}function YBe(t){var e=t.highlightedIndex,n=t.isOpen,r=t.itemRefs,i=t.getItemNodeFromIndex,o=t.menuElement,a=t.scrollIntoView,s=j.useRef(!0);return QBe(function(){e<0||!n||!Object.keys(r.current).length||(s.current===!1?s.current=!0:a(i(e),o))},[e]),s}var KBe=fie;function Dq(t,e,n){var r;n===void 0&&(n=!0);var i=((r=t.items)==null?void 0:r.length)&&e>=0;return Ao({isOpen:!1,highlightedIndex:-1},i&&Ao({selectedItem:t.items[e],isOpen:Jp(t,"isOpen"),highlightedIndex:Jp(t,"highlightedIndex")},n&&{inputValue:t.itemToString(t.items[e])}))}function JBe(t,e,n){var r=e.type,i=e.props,o;switch(r){case n.ItemMouseMove:o={highlightedIndex:e.disabled?-1:e.index};break;case n.MenuMouseLeave:o={highlightedIndex:-1};break;case n.ToggleButtonClick:case n.FunctionToggleMenu:o={isOpen:!t.isOpen,highlightedIndex:t.isOpen?-1:DC(i,t,0)};break;case n.FunctionOpenMenu:o={isOpen:!0,highlightedIndex:DC(i,t,0)};break;case n.FunctionCloseMenu:o={isOpen:!1};break;case n.FunctionSetHighlightedIndex:o={highlightedIndex:e.highlightedIndex};break;case n.FunctionSetInputValue:o={inputValue:e.inputValue};break;case n.FunctionReset:o={highlightedIndex:Jp(i,"highlightedIndex"),isOpen:Jp(i,"isOpen"),selectedItem:Jp(i,"selectedItem"),inputValue:Jp(i,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return Ao({},t,o)}_n.array.isRequired,_n.func,_n.func,_n.func,_n.number,_n.number,_n.number,_n.bool,_n.bool,_n.bool,_n.any,_n.any,_n.any,_n.string,_n.string,_n.string,_n.func,_n.string,_n.func,_n.func,_n.func,_n.func,_n.func,_n.shape({addEventListener:_n.func,removeEventListener:_n.func,document:_n.shape({getElementById:_n.func,activeElement:_n.any,body:_n.any})});function e8e(t){var e=t.isOpen,n=t.resultCount,r=t.previousResultCount;return e?n?n!==r?"".concat(n," result").concat(n===1?" is":"s are"," available, use up and down arrow keys to navigate. Press Enter or Space Bar keys to select."):"":"No results are available.":""}Zh(Zh({},IC),{getA11yStatusMessage:e8e});var v9=0,_9=1,x9=2,b9=3,w9=4,O9=5,S9=6,C9=7,T9=8,pM=9,k9=10,_ie=11,xie=12,E9=13,bie=14,wie=15,Oie=16,Sie=17,Cie=18,A9=19,Tie=20,kie=21,P9=22,Eie=Object.freeze({__proto__:null,InputKeyDownArrowDown:v9,InputKeyDownArrowUp:_9,InputKeyDownEscape:x9,InputKeyDownHome:b9,InputKeyDownEnd:w9,InputKeyDownPageUp:O9,InputKeyDownPageDown:S9,InputKeyDownEnter:C9,InputChange:T9,InputBlur:pM,InputFocus:k9,MenuMouseLeave:_ie,ItemMouseMove:xie,ItemClick:E9,ToggleButtonClick:bie,FunctionToggleMenu:wie,FunctionOpenMenu:Oie,FunctionCloseMenu:Sie,FunctionSetHighlightedIndex:Cie,FunctionSelectItem:A9,FunctionSetInputValue:Tie,FunctionReset:kie,ControlledPropUpdatedSelectedItem:P9});function t8e(t){var e=HBe(t),n=e.selectedItem,r=e.inputValue;return r===""&&n&&t.defaultInputValue===void 0&&t.initialInputValue===void 0&&t.inputValue===void 0&&(r=t.itemToString(n)),Ao({},e,{inputValue:r})}_n.array.isRequired,_n.func,_n.func,_n.func,_n.func,_n.number,_n.number,_n.number,_n.bool,_n.bool,_n.bool,_n.any,_n.any,_n.any,_n.string,_n.string,_n.string,_n.string,_n.string,_n.string,_n.func,_n.string,_n.string,_n.func,_n.func,_n.func,_n.func,_n.func,_n.func,_n.shape({addEventListener:_n.func,removeEventListener:_n.func,document:_n.shape({getElementById:_n.func,activeElement:_n.any,body:_n.any})});function n8e(t,e,n){var r=j.useRef(),i=WBe(t,e,n),o=i[0],a=i[1];return j.useEffect(function(){mie(n,"selectedItem")&&(n.selectedItemChanged(r.current,n.selectedItem)&&a({type:P9,inputValue:n.itemToString(n.selectedItem)}),r.current=o.selectedItem===r.current?n.selectedItem:o.selectedItem)},[o.selectedItem,n.selectedItem]),[Mz(o,n),a]}var r8e=Ao({},IC,{selectedItemChanged:function(e,n){return e!==n},getA11yStatusMessage:IBe});function i8e(t,e){var n,r=e.type,i=e.props,o=e.altKey,a;switch(r){case E9:a={isOpen:Jp(i,"isOpen"),highlightedIndex:Jp(i,"highlightedIndex"),selectedItem:i.items[e.index],inputValue:i.itemToString(i.items[e.index])};break;case v9:t.isOpen?a={highlightedIndex:jA(1,t.highlightedIndex,i.items.length,e.getItemNodeFromIndex,!0)}:a={highlightedIndex:o&&t.selectedItem==null?-1:DC(i,t,1,e.getItemNodeFromIndex),isOpen:i.items.length>=0};break;case _9:t.isOpen?o?a=Dq(i,t.highlightedIndex):a={highlightedIndex:jA(-1,t.highlightedIndex,i.items.length,e.getItemNodeFromIndex,!0)}:a={highlightedIndex:DC(i,t,-1,e.getItemNodeFromIndex),isOpen:i.items.length>=0};break;case C9:a=Dq(i,t.highlightedIndex);break;case x9:a=Ao({isOpen:!1,highlightedIndex:-1},!t.isOpen&&{selectedItem:null,inputValue:""});break;case O9:a={highlightedIndex:jA(-10,t.highlightedIndex,i.items.length,e.getItemNodeFromIndex,!1)};break;case S9:a={highlightedIndex:jA(10,t.highlightedIndex,i.items.length,e.getItemNodeFromIndex,!1)};break;case b9:a={highlightedIndex:wT(1,0,i.items.length,e.getItemNodeFromIndex,!1)};break;case w9:a={highlightedIndex:wT(-1,i.items.length-1,i.items.length,e.getItemNodeFromIndex,!1)};break;case pM:a=Ao({isOpen:!1,highlightedIndex:-1},t.highlightedIndex>=0&&((n=i.items)==null?void 0:n.length)&&e.selectItem&&{selectedItem:i.items[t.highlightedIndex],inputValue:i.itemToString(i.items[t.highlightedIndex])});break;case T9:a={isOpen:!0,highlightedIndex:Jp(i,"highlightedIndex"),inputValue:e.inputValue};break;case k9:a={isOpen:!0,highlightedIndex:DC(i,t,0)};break;case A9:a={selectedItem:e.selectedItem,inputValue:i.itemToString(e.selectedItem)};break;case P9:a={inputValue:e.inputValue};break;default:return JBe(t,e,Eie)}return Ao({},t,a)}var o8e=["onMouseLeave","refKey","ref"],s8e=["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"],a8e=["onClick","onPress","refKey","ref"],l8e=["onKeyDown","onChange","onInput","onFocus","onBlur","onChangeText","refKey","ref"];Aie.stateChangeTypes=Eie;function Aie(t){t===void 0&&(t={});var e=Ao({},r8e,t),n=e.initialIsOpen,r=e.defaultIsOpen,i=e.items,o=e.scrollIntoView,a=e.environment,s=e.getA11yStatusMessage,u=e.getA11ySelectionMessage,d=e.itemToString,g=t8e(e),v=n8e(i8e,g,e),x=v[0],O=v[1],E=x.isOpen,A=x.highlightedIndex,M=x.selectedItem,L=x.inputValue,$=j.useRef(null),N=j.useRef({}),F=j.useRef(null),U=j.useRef(null),q=j.useRef(!0),W=UBe(e),te=j.useRef(),re=vie({state:x,props:e}),ce=j.useCallback(function(ot){return N.current[W.getItemId(ot)]},[W]);Iq(s,[E,A,L,i],Ao({isInitialMount:q.current,previousResultCount:te.current,items:i,environment:a,itemToString:d},x)),Iq(u,[M],Ao({isInitialMount:q.current,previousResultCount:te.current,items:i,environment:a,itemToString:d},x));var be=YBe({menuElement:$.current,highlightedIndex:A,isOpen:E,itemRefs:N,scrollIntoView:o,getItemNodeFromIndex:ce});KBe({isInitialMount:q.current}),j.useEffect(function(){var ot=n||r||E;ot&&F.current&&F.current.focus()},[]),j.useEffect(function(){q.current||(te.current=i.length)});var ie=GBe(E,[F,$,U],a,function(){O({type:pM,selectItem:!1})}),me=XBe();j.useEffect(function(){return q.current=!1,function(){q.current=!0}},[]),j.useEffect(function(){var ot;if(!E)N.current={};else if(((ot=a.document)==null?void 0:ot.activeElement)!==F.current){var vt;F==null||(vt=F.current)==null||vt.focus()}},[E,a]);var we=j.useMemo(function(){return{ArrowDown:function(vt){vt.preventDefault(),O({type:v9,altKey:vt.altKey,getItemNodeFromIndex:ce})},ArrowUp:function(vt){vt.preventDefault(),O({type:_9,altKey:vt.altKey,getItemNodeFromIndex:ce})},Home:function(vt){re.current.state.isOpen&&(vt.preventDefault(),O({type:b9,getItemNodeFromIndex:ce}))},End:function(vt){re.current.state.isOpen&&(vt.preventDefault(),O({type:w9,getItemNodeFromIndex:ce}))},Escape:function(vt){var At=re.current.state;(At.isOpen||At.inputValue||At.selectedItem||At.highlightedIndex>-1)&&(vt.preventDefault(),O({type:x9}))},Enter:function(vt){var At=re.current.state;!At.isOpen||vt.which===229||(vt.preventDefault(),O({type:C9,getItemNodeFromIndex:ce}))},PageUp:function(vt){re.current.state.isOpen&&(vt.preventDefault(),O({type:O9,getItemNodeFromIndex:ce}))},PageDown:function(vt){re.current.state.isOpen&&(vt.preventDefault(),O({type:S9,getItemNodeFromIndex:ce}))}}},[O,re,ce]),pe=j.useCallback(function(ot){return Ao({id:W.labelId,htmlFor:W.inputId},ot)},[W]),_e=j.useCallback(function(ot,vt){var At,Tt=ot===void 0?{}:ot,Wt=Tt.onMouseLeave,Ot=Tt.refKey,hn=Ot===void 0?"ref":Ot,Gt=Tt.ref,Yt=q_(Tt,o8e),Cn=vt===void 0?{}:vt;return Cn.suppressRefError,Ao((At={},At[hn]=FA(Gt,function(sn){$.current=sn}),At.id=W.menuId,At.role="listbox",At["aria-labelledby"]=Yt&&Yt["aria-label"]?void 0:""+W.labelId,At.onMouseLeave=kg(Wt,function(){O({type:_ie})}),At),Yt)},[O,me,W]),Me=j.useCallback(function(ot){var vt,At,Tt=ot===void 0?{}:ot,Wt=Tt.item,Ot=Tt.index,hn=Tt.refKey,Gt=hn===void 0?"ref":hn,Yt=Tt.ref,Cn=Tt.onMouseMove,sn=Tt.onMouseDown,Rn=Tt.onClick;Tt.onPress;var Fn=Tt.disabled,Vn=q_(Tt,s8e),Qe=re.current,Ye=Qe.props,bt=Qe.state,kt=ZBe(Wt,Ot,Ye.items,"Pass either item or index to getItemProps!"),Vt=kt[1],Oe="onClick",se=Rn,K=function(){Vt!==bt.highlightedIndex&&(be.current=!1,O({type:xie,index:Vt,disabled:Fn}))},xe=function(){O({type:E9,index:Vt})},$e=function(rt){return rt.preventDefault()};return Ao((vt={},vt[Gt]=FA(Yt,function(ze){ze&&(N.current[W.getItemId(Vt)]=ze)}),vt.disabled=Fn,vt.role="option",vt["aria-selected"]=""+(Vt===bt.highlightedIndex),vt.id=W.getItemId(Vt),vt),!Fn&&(At={},At[Oe]=kg(se,xe),At),{onMouseMove:kg(Cn,K),onMouseDown:kg(sn,$e)},Vn)},[O,re,be,W]),Be=j.useCallback(function(ot){var vt,At=ot===void 0?{}:ot,Tt=At.onClick;At.onPress;var Wt=At.refKey,Ot=Wt===void 0?"ref":Wt,hn=At.ref,Gt=q_(At,a8e),Yt=re.current.state,Cn=function(){O({type:bie})};return Ao((vt={},vt[Ot]=FA(hn,function(sn){U.current=sn}),vt["aria-controls"]=W.menuId,vt["aria-expanded"]=Yt.isOpen,vt.id=W.toggleButtonId,vt.tabIndex=-1,vt),!Gt.disabled&&Ao({},{onClick:kg(Tt,Cn)}),Gt)},[O,re,W]),Ue=j.useCallback(function(ot,vt){var At,Tt=ot===void 0?{}:ot,Wt=Tt.onKeyDown,Ot=Tt.onChange,hn=Tt.onInput,Gt=Tt.onFocus,Yt=Tt.onBlur;Tt.onChangeText;var Cn=Tt.refKey,sn=Cn===void 0?"ref":Cn,Rn=Tt.ref,Fn=q_(Tt,l8e),Vn=vt===void 0?{}:vt;Vn.suppressRefError;var Qe=re.current.state,Ye=function($e){var ze=DBe($e);ze&&we[ze]&&we[ze]($e)},bt=function($e){O({type:T9,inputValue:$e.target.value})},kt=function($e){if(Qe.isOpen&&!ie.current.isMouseDown){var ze=$e.relatedTarget===null&&a.document.activeElement!==a.document.body;O({type:pM,selectItem:!ze})}},Vt=function(){Qe.isOpen||O({type:k9})},Oe="onChange",se={};if(!Fn.disabled){var K;se=(K={},K[Oe]=kg(Ot,hn,bt),K.onKeyDown=kg(Wt,Ye),K.onBlur=kg(Yt,kt),K.onFocus=kg(Gt,Vt),K)}return Ao((At={},At[sn]=FA(Rn,function(xe){F.current=xe}),At["aria-activedescendant"]=Qe.isOpen&&Qe.highlightedIndex>-1?W.getItemId(Qe.highlightedIndex):"",At["aria-autocomplete"]="list",At["aria-controls"]=W.menuId,At["aria-expanded"]=Qe.isOpen,At["aria-labelledby"]=Fn&&Fn["aria-label"]?void 0:""+W.labelId,At.autoComplete="off",At.id=W.inputId,At.role="combobox",At.value=Qe.inputValue,At),se,Fn)},[me,re,W,we,O,ie,a]),Ce=j.useCallback(function(){O({type:wie})},[O]),Pe=j.useCallback(function(){O({type:Sie})},[O]),Xe=j.useCallback(function(){O({type:Oie})},[O]),ke=j.useCallback(function(ot){O({type:Cie,highlightedIndex:ot})},[O]),mt=j.useCallback(function(ot){O({type:A9,selectedItem:ot})},[O]),gt=j.useCallback(function(ot){O({type:Tie,inputValue:ot})},[O]),ct=j.useCallback(function(){O({type:kie})},[O]);return{getItemProps:Me,getLabelProps:pe,getMenuProps:_e,getInputProps:Ue,getToggleButtonProps:Be,toggleMenu:Ce,openMenu:Xe,closeMenu:Pe,setHighlightedIndex:ke,setInputValue:gt,selectItem:mt,reset:ct,highlightedIndex:A,isOpen:E,selectedItem:M,inputValue:L}}_n.array,_n.array,_n.array,_n.func,_n.func,_n.func,_n.number,_n.number,_n.number,_n.func,_n.func,_n.string,_n.string,_n.shape({addEventListener:_n.func,removeEventListener:_n.func,document:_n.shape({getElementById:_n.func,activeElement:_n.any,body:_n.any})});IC.itemToString,IC.stateReducer,IC.environment;const Lq=20,Pie=t=>t.suggestions.length>0?ae.createElement(c8e,{...t}):ae.createElement("input",{className:Qt.textInput,size:40,autoFocus:!0,...t.register(t.inputName)}),c8e=({autofocus:t,suggestions:e,control:n,inputName:r,placeholder:i,initialInputValue:o,setValue:a})=>{const[s,u]=ae.useState(e.slice(0,Lq)),d=Ms(oa),g=e.length>0,{isOpen:v,getToggleButtonProps:x,getMenuProps:O,getInputProps:E,highlightedIndex:A,getItemProps:M,selectedItem:L}=Aie({initialInputValue:o,onInputValueChange({inputValue:N=""}){a(r,N),N=N.toLowerCase()||"";const F=[];for(const U of e)if(U.toLowerCase().includes(N)&&(F.push(U),F.length>=Lq))break;u(F)},items:s,itemToString(N){return N??""}}),$=v&&s.length>0;return ae.createElement("div",{className:Qt.downshiftAutocompleteContainer},ae.createElement("div",{"data-visible-dropdown":$,className:Qt.downshiftInputWrapper},ae.createElement(cBe,{name:r,control:n,render:({field:N})=>{const F=E();return ae.createElement("input",{...F,name:N.name,placeholder:i,className:Qt.downshiftInput,size:30,"data-editor-dialog":!0,autoFocus:t})}}),g&&ae.createElement("button",{"aria-label":"toggle menu",type:"button",...x()},d("arrow_drop_down"))),ae.createElement("div",{className:Qt.downshiftAutocompleteContainer},ae.createElement("ul",{...O(),"data-visible":$},s.map((N,F)=>ae.createElement("li",{"data-selected":L===N,"data-highlighted":A===F,key:`${N}${F}`,...M({item:N,index:F})},N)))))},u8e=()=>{const[t,e,n,r,i]=as(Rz,ax,lv,M0,OT),o=qi(Die),a=qi(Rie),s=Ds(),{register:u,handleSubmit:d,control:g,setValue:v,reset:x}=g9({values:e.type==="editing"?e.initialValues:{}}),O=()=>{x({src:"",title:"",altText:"",width:void 0,height:void 0})};return e.type==="inactive"?null:ae.createElement(Gre,{open:!0,onOpenChange:E=>{E||(a(),O())}},ae.createElement(Xre,{container:n?.current},ae.createElement(Yre,{className:Qt.dialogOverlay}),ae.createElement(Kre,{className:Qt.dialogContent,onOpenAutoFocus:E=>{E.preventDefault()}},ae.createElement(Jre,null,s("uploadImage.dialogTitle","Upload an image")),ae.createElement("form",{onSubmit:async E=>{E.preventDefault(),E.stopPropagation(),await d(o)(E),O()},className:Qt.multiFieldForm},r===null?ae.createElement("input",{type:"hidden",accept:"image/*",...u("file")}):ae.createElement("div",{className:Qt.formField},ae.createElement("label",{htmlFor:"file"},s("uploadImage.uploadInstructions","Upload an image from your device:")),ae.createElement("input",{type:"file",accept:"image/*",...u("file")})),ae.createElement("div",{className:Qt.formField},ae.createElement("label",{htmlFor:"src"},r!==null?s("uploadImage.addViaUrlInstructions","Or add an image from an URL:"):s("uploadImage.addViaUrlInstructionsNoUpload","Add an image from an URL:")),ae.createElement(Pie,{register:u,initialInputValue:e.type==="editing"?e.initialValues.src??"":"",inputName:"src",suggestions:t,setValue:v,control:g,placeholder:s("uploadImage.autoCompletePlaceholder","Select or paste an image src")})),ae.createElement("div",{className:Qt.formField},ae.createElement("label",{htmlFor:"alt"},s("uploadImage.alt","Alt:")),ae.createElement("input",{type:"text",...u("altText"),className:Qt.textInput})),ae.createElement("div",{className:Qt.formField},ae.createElement("label",{htmlFor:"title"},s("uploadImage.title","Title:")),ae.createElement("input",{type:"text",...u("title"),className:Qt.textInput})),i&&ae.createElement("div",{className:Qt.imageDimensionsContainer},ae.createElement("div",{className:Qt.formField},ae.createElement("label",{htmlFor:"width"},s("uploadImage.width","Width:")),ae.createElement("input",{type:"number",min:0,...u("width"),className:Qt.textInput})),ae.createElement("div",{className:Qt.formField},ae.createElement("label",{htmlFor:"height"},s("uploadImage.height","Height:")),ae.createElement("input",{type:"number",min:0,...u("height"),className:Qt.textInput}))),ae.createElement("div",{style:{display:"flex",justifyContent:"flex-end",gap:"var(--spacing-2)"}},ae.createElement("button",{type:"submit",title:s("dialogControls.save","Save"),"aria-label":s("dialogControls.save","Save"),className:Yr(Qt.primaryButton)},s("dialogControls.save","Save")),ae.createElement(eie,{asChild:!0},ae.createElement("button",{type:"reset",title:s("dialogControls.cancel","Cancel"),"aria-label":s("dialogControls.cancel","Cancel"),className:Yr(Qt.secondaryButton)},s("dialogControls.cancel","Cancel"))))))))};function pL(t,e,n){return Math.min(Math.max(t,e),n)}const mo={east:1,north:8,south:2,west:4};function h8e({onResizeStart:t,onResizeEnd:e,imageRef:n,maxWidth:r,editor:i}){const o=j.useRef(null),a=j.useRef({priority:"",value:"default"}),s=j.useRef({currentHeight:0,currentWidth:0,direction:0,isResizing:!1,ratio:0,startHeight:0,startWidth:0,startX:0,startY:0}),u=i.getRootElement(),d=r??(u!==null?u.getBoundingClientRect().width-20:100),g=u!==null?u.getBoundingClientRect().height-20:100,v=100,x=100,O=$=>{const N=$===mo.east||$===mo.west,F=$===mo.north||$===mo.south,U=$&mo.north&&$&mo.west||$&mo.south&&$&mo.east,q=N?"ew":F?"ns":U?"nwse":"nesw";u!==null&&u.style.setProperty("cursor",`${q}-resize`,"important"),document.body!==null&&(document.body.style.setProperty("cursor",`${q}-resize`,"important"),a.current.value=document.body.style.getPropertyValue("-webkit-user-select"),a.current.priority=document.body.style.getPropertyPriority("-webkit-user-select"),document.body.style.setProperty("-webkit-user-select","none","important"))},E=()=>{u!==null&&u.style.setProperty("cursor","text"),document.body!==null&&(document.body.style.setProperty("cursor","default"),document.body.style.setProperty("-webkit-user-select",a.current.value,a.current.priority))},A=($,N)=>{if(!i.isEditable())return;const F=n.current,U=o.current;if(F!==null&&U!==null){$.preventDefault();const{width:q,height:W}=F.getBoundingClientRect(),te=s.current;te.startWidth=q,te.startHeight=W,te.ratio=q/W,te.currentWidth=q,te.currentHeight=W,te.startX=$.clientX,te.startY=$.clientY,te.isResizing=!0,te.direction=N,O(N),t(),U.classList.add(Qt.imageControlWrapperResizing),F.style.height=`${W}px`,F.style.width=`${q}px`,document.addEventListener("pointermove",M),document.addEventListener("pointerup",L)}},M=$=>{const N=n.current,F=s.current,U=F.direction&(mo.east|mo.west),q=F.direction&(mo.south|mo.north);if(N!==null&&F.isResizing)if(U&&q){let W=Math.floor(F.startX-$.clientX);W=F.direction&mo.east?-W:W;const te=pL(F.startWidth+W,v,d),re=te/F.ratio;N.style.width=`${te}px`,N.style.height=`${re}px`,F.currentHeight=re,F.currentWidth=te}else if(q){let W=Math.floor(F.startY-$.clientY);W=F.direction&mo.south?-W:W;const te=pL(F.startHeight+W,x,g);N.style.height=`${te}px`,F.currentHeight=te}else{let W=Math.floor(F.startX-$.clientX);W=F.direction&mo.east?-W:W;const te=pL(F.startWidth+W,v,d);N.style.width=`${te}px`,F.currentWidth=te}},L=()=>{const $=n.current,N=s.current,F=o.current;if($!==null&&F!==null&&N.isResizing){const U=N.currentWidth,q=N.currentHeight;N.startWidth=0,N.startHeight=0,N.ratio=0,N.startX=0,N.startY=0,N.currentWidth=0,N.currentHeight=0,N.isResizing=!1,F.classList.remove(Qt.imageControlWrapperResizing),E(),e(U,q),document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",L)}};return j.createElement("div",{ref:o},j.createElement("div",{className:Yr(Qt.imageResizer,Qt.imageResizerN),onPointerDown:$=>{A($,mo.north)}}),j.createElement("div",{className:Yr(Qt.imageResizer,Qt.imageResizerNe),onPointerDown:$=>{A($,mo.north|mo.east)}}),j.createElement("div",{className:Yr(Qt.imageResizer,Qt.imageResizerE),onPointerDown:$=>{A($,mo.east)}}),j.createElement("div",{className:Yr(Qt.imageResizer,Qt.imageResizerSe),onPointerDown:$=>{A($,mo.south|mo.east)}}),j.createElement("div",{className:Yr(Qt.imageResizer,Qt.imageResizerS),onPointerDown:$=>{A($,mo.south)}}),j.createElement("div",{className:Yr(Qt.imageResizer,Qt.imageResizerSw),onPointerDown:$=>{A($,mo.south|mo.west)}}),j.createElement("div",{className:Yr(Qt.imageResizer,Qt.imageResizerW),onPointerDown:$=>{A($,mo.west)}}),j.createElement("div",{className:Yr(Qt.imageResizer,Qt.imageResizerNw),onPointerDown:$=>{A($,mo.north|mo.west)}}))}const d8e="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(`
    <svg id="imgLoadError" xmlns="http://www.w3.org/2000/svg" width="100" height="100">
      <rect x="0" y="0" width="100" height="100" fill="none" stroke="red" stroke-width="4" stroke-dasharray="4" />
      <text x="50" y="55" text-anchor="middle" font-size="20" fill="red"></text>
    </svg>
`),f8e={__cache:{},read(t){if(this.__cache[t]||(this.__cache[t]=new Promise(e=>{const n=new Image;n.onerror=()=>{this.__cache[t]=d8e,e()},n.onload=()=>{this.__cache[t]=t,e()},n.src=t})),this.__cache[t]instanceof Promise)throw this.__cache[t];return this.__cache[t]}};function p8e({title:t,alt:e,className:n,imageRef:r,src:i,width:o,height:a}){return ae.createElement("img",{className:n??void 0,alt:e,src:f8e.read(i),title:t,ref:r,draggable:"false",width:o,height:a})}function m8e({src:t,title:e,alt:n,nodeKey:r,width:i,height:o,rest:a}){const[s,u,d,g,v,x]=as(Lz,Iz,OT,Dz,cl,$z),O=ae.useRef(null),E=ae.useRef(null),[A,M,L]=ane(r),[$]=Bl(),[N,F]=ae.useState(null),U=ae.useRef(null),[q,W]=ae.useState(!1),[te,re]=ae.useState(null),[ce,be]=ae.useState(null),ie=ae.useCallback(Ce=>{if(A&&rs(an())){Ce.preventDefault();const Xe=Li(r);mM(Xe)&&Xe.remove()}return!1},[A,r]),me=ae.useCallback(Ce=>{const Pe=an(),Xe=E.current;return A&&rs(Pe)&&Pe.getNodes().length===1&&Xe!==null&&Xe!==document.activeElement?(Ce.preventDefault(),Xe.focus(),!0):!1},[A]),we=ae.useCallback(Ce=>E.current===Ce.target?(ss(null),$.update(()=>{M(!0);const Pe=$.getRootElement();Pe!==null&&Pe.focus()}),!0):!1,[$,M]);ae.useEffect(()=>{g?(async()=>{ce||be(t);const Pe=await g(t);re(Pe)})().catch(Pe=>{console.error(Pe)}):re(t)},[t,g,ce]),ae.useEffect(()=>{if(d&&O.current){const{current:Ce}=O;$q(Ce,"width",i),$q(Ce,"height",o)}},[d,i,o]),ae.useEffect(()=>{let Ce=!0;const Pe=Fl($.registerUpdateListener(({editorState:Xe})=>{Ce&&F(Xe.read(()=>an()))}),$.registerCommand(vk,(Xe,ke)=>(U.current=ke,!1),vo),$.registerCommand(NR,Xe=>{const ke=Xe;return q?!0:ke.target===O.current?(ke.shiftKey?M(!A):(L(),M(!0)),!0):!1},vo),$.registerCommand(UR,Xe=>Xe.target===O.current?(Xe.preventDefault(),!0):!1,vo),$.registerCommand(ZB,ie,vo),$.registerCommand(VR,ie,vo),$.registerCommand(Ww,me,vo),$.registerCommand(xk,we,vo));return()=>{Ce=!1,Pe()}},[L,$,q,A,r,ie,me,we,M]);const pe=(Ce,Pe)=>{setTimeout(()=>{W(!1)},200),$.update(()=>{const Xe=Li(r);mM(Xe)&&Xe.setWidthAndHeight(Ce,Pe)})},_e=()=>{W(!0)},Me=rs(N),Be=A,Ue=ae.useMemo(()=>{if(a.length===0)return null;const Ce=a.find(Pe=>Pe.type==="mdxJsxAttribute"&&(Pe.name==="class"||Pe.name==="className"));return Ce?Ce.value:null},[a]);return te!==null?ae.createElement(ae.Suspense,{fallback:s?ae.createElement(s,null):null},ae.createElement("div",{className:Qt.imageWrapper,"data-editor-block-type":"image"},ae.createElement("div",{draggable:Me},ae.createElement(p8e,{width:i,height:o,className:Yr({[Qt.focusedImage]:Be},Ue),src:te,title:e??"",alt:n??"",imageRef:O})),Me&&Be&&!u&&ae.createElement(h8e,{editor:$,imageRef:O,onResizeStart:_e,onResizeEnd:pe}),v||ae.createElement(x,{nodeKey:r,imageSource:te,initialImagePath:ce,title:e??"",alt:n??"",width:i,height:o}))):null}const $q=(t,e,n)=>{typeof n=="number"?t.style[e]=`${n}px`:t.style.removeProperty(e)};var g8e=Object.defineProperty,y8e=(t,e,n)=>e in t?g8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,z1=(t,e,n)=>(y8e(t,typeof e!="symbol"?e+"":e,n),n);function v8e(t){if(t instanceof HTMLImageElement){const{alt:e,src:n,title:r,width:i,height:o}=t;return{node:Gx({altText:e,src:n,title:r,width:i,height:o})}}return null}class jk extends uy{constructor(e,n,r,i,o,a,s){super(s),z1(this,"__src"),z1(this,"__altText"),z1(this,"__title"),z1(this,"__width"),z1(this,"__height"),z1(this,"__rest"),this.__src=e,this.__title=r,this.__altText=n,this.__width=i??"inherit",this.__height=o??"inherit",this.__rest=a??[]}static getType(){return"image"}static clone(e){return new jk(e.__src,e.__altText,e.__title,e.__width,e.__height,e.__rest,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__src=e.__src,this.__altText=e.__altText,this.__title=e.__title,this.__width=e.__width,this.__height=e.__height,this.__rest=e.__rest}static importJSON(e){const{altText:n,title:r,src:i,width:o,rest:a,height:s}=e;return Gx({altText:n,title:r,src:i,height:s,width:o,rest:a})}exportDOM(){const e=document.createElement("img");return e.setAttribute("src",this.__src),e.setAttribute("alt",this.__altText),this.__title&&e.setAttribute("title",this.__title),this.__width&&e.setAttribute("width",this.__width.toString()),this.__height&&e.setAttribute("height",this.__height.toString()),{element:e}}static importDOM(){return{img:()=>({conversion:v8e,priority:0})}}exportJSON(){return{altText:this.getAltText(),title:this.getTitle(),height:this.__height==="inherit"?0:this.__height,width:this.__width==="inherit"?0:this.__width,src:this.getSrc(),rest:this.__rest,type:"image",version:1}}setWidthAndHeight(e,n){const r=this.getWritable();r.__width=e,r.__height=n}createDOM(e,n){const r=document.createElement("span"),o=e.theme.image;return o!==void 0&&(r.className=o),r}updateDOM(){return!1}getSrc(){return this.__src}getAltText(){return this.__altText}getTitle(){return this.__title}getHeight(){return this.__height}getWidth(){return this.__width}getRest(){return this.__rest}setTitle(e){this.getWritable().__title=e}setSrc(e){this.getWritable().__src=e}setAltText(e){this.getWritable().__altText=e??""}shouldBeSerializedAsElement(){return this.__width!=="inherit"||this.__height!=="inherit"||this.__rest.length>0}decorate(e){return ae.createElement(m8e,{src:this.getSrc(),title:this.getTitle(),nodeKey:this.getKey(),width:this.__width,height:this.__height,alt:this.__altText,rest:this.__rest})}}function Gx(t){const{altText:e,title:n,src:r,key:i,width:o,height:a,rest:s}=t;return new jk(r,e,n,o,a,s,i)}function mM(t){return t instanceof jk}const _8e={testLexicalNode:mM,visitLexicalNode({mdastParent:t,lexicalNode:e,actions:n}){if(e.shouldBeSerializedAsElement()){const r=new Image;e.getHeight()!=="inherit"&&(r.height=e.getHeight()),e.getWidth()!=="inherit"&&(r.width=e.getWidth()),e.getAltText()&&(r.alt=e.getAltText()),e.getTitle()&&(r.title=e.getTitle());for(const i of e.getRest())i.type==="mdxJsxAttribute"&&typeof i.value=="string"&&r.setAttribute(i.name,i.value);n.appendToParent(t,{type:"html",value:r.outerHTML.replace(/>$/,` src="${e.getSrc()}" />`)})}else n.appendToParent(t,{type:"image",url:e.getSrc(),alt:e.getAltText(),title:e.getTitle()})}},x8e={testNode:"image",visitNode({mdastNode:t,actions:e}){e.addAndStepInto(Gx({src:t.url,altText:t.alt??"",title:t.title??""}))}},b8e={testNode:t=>t.type==="html"&&t.value.trim().startsWith("<img"),visitNode({mdastNode:t,lexicalParent:e}){const n=document.createElement("div");n.innerHTML=t.value;const r=n.querySelector("img");if(!r)throw new Error("Invalid HTML image");const i=r.src,o=r.alt,a=r.title,s=r.width,u=r.height,d=Gx({src:i||"",altText:o,title:a,width:s,height:u});if(e.getType()==="root"){const g=yi();g.append(d),e.append(g)}else e.append(d)}};function N2(t,e){const n=t.attributes.find(r=>r.type==="mdxJsxAttribute"&&r.name===e);if(n)return n.value}const w8e={testNode:t=>(t.type==="mdxJsxTextElement"||t.type==="mdxJsxFlowElement")&&t.name==="img",visitNode({mdastNode:t,lexicalParent:e}){const n=N2(t,"src");if(!n)return;const r=N2(t,"alt")??"",i=N2(t,"title"),o=N2(t,"height"),a=N2(t,"width"),s=t.attributes.filter(d=>d.type==="mdxJsxAttribute"&&!["src","alt","title","height","width"].includes(d.name)),u=Gx({src:n,altText:r,title:i,width:a?parseInt(a,10):void 0,height:o?parseInt(o,10):void 0,rest:s});if(e.getType()==="root"){const d=yi();d.append(u),e.append(d)}else e.append(u)}},M9=Ss(t=>{t.sub(t.pipe(M9,jo(Vo)),([e,n])=>{n?.update(()=>{const r=Gx({altText:e.altText??"",src:e.src,title:e.title??"",width:oO(e.width),height:oO(e.height)});FO([r]),ea(r.getParentOrThrow())&&y8(r,yi).selectEnd()})})}),O8e=Ss(t=>{t.sub(t.pipe(O8e,jo(M0)),([e,n])=>{const r=i=>{t.pub(M9,{...e,src:i})};"file"in e?n?.(e.file).then(r).catch(i=>{throw i}):r(e.src)})}),Rz=Pn([]),Iz=Pn(!1),M0=Pn(null),Dz=Pn(null),Lz=Pn(null),ax=Pn({type:"inactive"},t=>{t.sub(t.pipe(Die,jo(Vo,M0,ax,OT)),([e,n,r,i,o])=>{const a=i.type==="editing"?s=>{n?.update(()=>{const{nodeKey:u}=i,d=Li(u);if(d.setTitle(e.title),d.setAltText(e.altText),d.setSrc(s),o){const g=oO(e.width),v=oO(e.height);d.setWidthAndHeight(g??"inherit",v??"inherit")}}),t.pub(ax,{type:"inactive"})}:s=>{t.pub(M9,{...e,src:s}),t.pub(ax,{type:"inactive"})};e.file&&e.file.length>0?r?.(e.file.item(0)).then(a).catch(s=>{throw s}):e.src&&a(e.src)}),t.pub(vT,e=>{const n=t.getValue(M0);return Fl(e.registerCommand(gM,r=>{const i=Gx(r);return FO([i]),ea(i.getParentOrThrow())&&y8(i,yi).selectEnd(),!0},Mr),e.registerCommand(UR,r=>E8e(r),U5),e.registerCommand(WB,r=>A8e(r,!!n),vo),e.registerCommand(qB,r=>P8e(r,e,t.getValue(M0)),U5),e.registerCommand(_k,r=>{var i,o;if(!n){let d=Array.from(((i=r.clipboardData)==null?void 0:i.items)??[]);return d=d.filter(g=>g.type.includes("text")),!d.length||d.length===0}const a=Array.from(((o=r.clipboardData)==null?void 0:o.items)??[]);if(a.some(d=>!d.type.includes("image"))||!a.length||a.length===0)return!1;const u=t.getValue(M0);return Promise.all(a.map(d=>u(d.getAsFile()))).then(d=>{d.forEach(g=>{e.dispatchCommand(gM,{src:g,altText:""})})}).catch(d=>{throw d}),!0},ch))})}),S8e=xm(t=>{t.link(t.pipe(S8e,EJ({type:"new"})),ax)}),Mie=Ss(t=>{t.link(t.pipe(Mie,Yg(e=>({type:"editing",...e}))),ax)}),Rie=xm(t=>{t.link(t.pipe(Rie,EJ({type:"inactive"})),ax)}),Iie=Pn(!1),OT=Pn(!1),Die=Ss(),$z=Pn(Cz),oO=t=>{if(typeof t>"u")return;const e=parseInt(String(t),10);return Number.isNaN(e)?void 0:e},C8e=Nl({init(t,e){t.pubIn({[ud]:[x8e,b8e,w8e],[Lf]:jk,[$f]:_8e,[Hx]:e?.ImageDialog??u8e,[M0]:e?.imageUploadHandler??null,[Rz]:e?.imageAutocompleteSuggestions??[],[Iz]:!!e?.disableImageResize,[Iie]:!!e?.disableImageSettingsButton,[OT]:!!e?.allowSetImageDimensions,[Dz]:e?.imagePreviewHandler??null,[$z]:e?.EditImageToolbar??Cz,[Lz]:e?.imagePlaceholder??yq})},update(t,e){t.pubIn({[M0]:e?.imageUploadHandler??null,[Rz]:e?.imageAutocompleteSuggestions??[],[Iz]:!!e?.disableImageResize,[Dz]:e?.imagePreviewHandler??null,[OT]:!!e?.allowSetImageDimensions,[$z]:e?.EditImageToolbar??Cz,[Lz]:e?.imagePlaceholder??yq})}}),T8e=t=>one?(t??window).getSelection():null,gM=nr("INSERT_IMAGE_COMMAND"),k8e="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";function E8e(t){const e=R9();if(!e)return!1;const n=t.dataTransfer;if(!n)return!1;n.setData("text/plain","_");const r=document.createElement("img");return r.src=k8e,n.setDragImage(r,0,0),n.setData("application/x-lexical-drag",JSON.stringify({data:{altText:e.__altText,title:e.__title,key:e.getKey(),src:e.__src},type:"image"})),!0}function A8e(t,e){var n;if(e){let i=Array.from(((n=t.dataTransfer)==null?void 0:n.items)??[]);if(i=i.filter(o=>o.type.includes("image")),i.length>0)return t.preventDefault(),!0}return R9()?(Lie(t)||t.preventDefault(),!0):!1}function P8e(t,e,n){var r;let i=Array.from(((r=t.dataTransfer)==null?void 0:r.items)??[]);if(i=i.filter(s=>s.type.includes("image")),i.length>0&&n!==null)return t.preventDefault(),Promise.all(i.map(s=>s.kind==="string"?new Promise(u=>{s.getAsString(u)}):n(s.getAsFile()))).then(s=>{s.forEach(u=>{e.dispatchCommand(gM,{src:u,altText:""})})}).catch(s=>{throw s}),!0;const o=R9();if(!o)return!1;const a=M8e(t);if(!a)return!1;if(t.preventDefault(),Lie(t)){const s=R8e(t);o.remove();const u=BO();s!=null&&u.applyDOMRange(s),ss(u),e.dispatchCommand(gM,a)}return!0}function R9(){const t=an();if(!rs(t))return null;const n=t.getNodes()[0];return mM(n)?n:null}function M8e(t){var e;const n=(e=t.dataTransfer)==null?void 0:e.getData("application/x-lexical-drag");if(!n)return null;const{type:r,data:i}=JSON.parse(n);return r!=="image"?null:i}function Lie(t){const e=t.target;return!!(e&&e instanceof HTMLElement&&e.parentElement)}function R8e(t){let e;const n=t.target,r=n==null?null:n.nodeType===9?n.defaultView:n.ownerDocument.defaultView,i=T8e(r);if(document.caretRangeFromPoint)e=document.caretRangeFromPoint(t.clientX,t.clientY);else if(t.rangeParent&&i!==null)i.collapse(t.rangeParent,t.rangeOffset??0),e=i.getRangeAt(0);else throw Error("Cannot get the selection when dragging");return e}var mL={exports:{}},zq;function I8e(){return zq||(zq=1,(function(t){(function(){var e;e=t.exports=i,e.format=i,e.vsprintf=r,typeof console<"u"&&typeof console.log=="function"&&(e.printf=n);function n(){console.log(i.apply(null,arguments))}function r(o,a){return i.apply(null,[o].concat(a))}function i(o){for(var a=1,s=[].slice.call(arguments),u=0,d=o.length,g="",v,x=!1,O,E,A=!1,M,L=function(){return s[a++]},$=function(){for(var N="";/\d/.test(o[u]);)N+=o[u++],v=o[u];return N.length>0?parseInt(N):null};u<d;++u)if(v=o[u],x)switch(x=!1,v=="."?(A=!1,v=o[++u]):v=="0"&&o[u+1]=="."?(A=!0,u+=2,v=o[u]):A=!0,M=$(),v){case"b":g+=parseInt(L(),10).toString(2);break;case"c":O=L(),typeof O=="string"||O instanceof String?g+=O:g+=String.fromCharCode(parseInt(O,10));break;case"d":g+=parseInt(L(),10);break;case"f":E=String(parseFloat(L()).toFixed(M||6)),g+=A?E:E.replace(/^0/,"");break;case"j":g+=JSON.stringify(L());break;case"o":g+="0"+parseInt(L(),10).toString(8);break;case"s":g+=L();break;case"x":g+="0x"+parseInt(L(),10).toString(16);break;case"X":g+="0x"+parseInt(L(),10).toString(16).toUpperCase();break;default:g+=v;break}else v==="%"?x=!0:g+=v;return g}})()})(mL)),mL.exports}var D8e=I8e();const L8e=tv(D8e),QA=Object.assign(R_(Error),{eval:R_(EvalError),range:R_(RangeError),reference:R_(ReferenceError),syntax:R_(SyntaxError),type:R_(TypeError),uri:R_(URIError)});function R_(t){return e.displayName=t.displayName||t.name,e;function e(n,...r){const i=n&&L8e(n,...r);return new t(i)}}const UA={}.hasOwnProperty,Nq={yaml:"-",toml:"+"};function I9(t){const e=[];let n=-1;const r=Array.isArray(t)?t:t?[t]:["yaml"];for(;++n<r.length;)e[n]=$8e(r[n]);return e}function $8e(t){let e=t;if(typeof e=="string"){if(!UA.call(Nq,e))throw QA("Missing matter definition for `%s`",e);e={type:e,marker:Nq[e]}}else if(typeof e!="object")throw QA("Expected matter to be an object, not `%j`",e);if(!UA.call(e,"type"))throw QA("Missing `type` in matter `%j`",e);if(!UA.call(e,"fence")&&!UA.call(e,"marker"))throw QA("Missing `marker` or `fence` in matter `%j`",e);return e}function z8e(t){const e=I9(t),n={};let r=-1;for(;++r<e.length;){const i=e[r],o=zz(i,"open").charCodeAt(0),a=N8e(i),s=n[o];Array.isArray(s)?s.push(a):n[o]=[a]}return{flow:n}}function N8e(t){const e=t.anywhere,n=t.type,r=n+"Fence",i=r+"Sequence",o=n+"Value",a={tokenize:g,partial:!0};let s,u=0;return{tokenize:d,concrete:!0};function d(v,x,O){const E=this;return A;function A(W){const te=E.now();return te.column===1&&(te.line===1||e)&&(s=zz(t,"open"),u=0,W===s.charCodeAt(u))?(v.enter(n),v.enter(r),v.enter(i),M(W)):O(W)}function M(W){return u===s.length?(v.exit(i),mr(W)?(v.enter("whitespace"),L(W)):$(W)):W===s.charCodeAt(u++)?(v.consume(W),M):O(W)}function L(W){return mr(W)?(v.consume(W),L):(v.exit("whitespace"),$(W))}function $(W){return kn(W)?(v.exit(r),v.enter("lineEnding"),v.consume(W),v.exit("lineEnding"),s=zz(t,"close"),u=0,v.attempt(a,q,N)):O(W)}function N(W){return W===null||kn(W)?U(W):(v.enter(o),F(W))}function F(W){return W===null||kn(W)?(v.exit(o),U(W)):(v.consume(W),F)}function U(W){return W===null?O(W):(v.enter("lineEnding"),v.consume(W),v.exit("lineEnding"),v.attempt(a,q,N))}function q(W){return v.exit(n),x(W)}}function g(v,x,O){let E=0;return A;function A(N){return N===s.charCodeAt(E)?(v.enter(r),v.enter(i),M(N)):O(N)}function M(N){return E===s.length?(v.exit(i),mr(N)?(v.enter("whitespace"),L(N)):$(N)):N===s.charCodeAt(E++)?(v.consume(N),M):O(N)}function L(N){return mr(N)?(v.consume(N),L):(v.exit("whitespace"),$(N))}function $(N){return N===null||kn(N)?(v.exit(r),x(N)):O(N)}}}function zz(t,e){return t.marker?Bq(t.marker,e).repeat(3):Bq(t.fence,e)}function Bq(t,e){return typeof t=="string"?t:t[e]}function B8e(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function F8e(t){const e=I9(t),n={},r={};let i=-1;for(;++i<e.length;){const o=e[i];n[o.type]=j8e(o),r[o.type]=V8e,r[o.type+"Value"]=Q8e}return{enter:n,exit:r}}function j8e(t){return e;function e(n){this.enter({type:t.type,value:""},n),this.buffer()}}function V8e(t){const e=this.resume(),n=this.stack[this.stack.length-1];this.exit(t),n.value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,"")}function Q8e(t){this.config.enter.data.call(this,t),this.config.exit.data.call(this,t)}function U8e(t){const e=[],n={},r=I9(t);let i=-1;for(;++i<r.length;){const o=r[i];n[o.type]=Z8e(o);const a=Nz(o,"open");e.push({atBreak:!0,character:a.charAt(0),after:B8e(a.charAt(1))})}return{unsafe:e,handlers:n}}function Z8e(t){const e=Nz(t,"open"),n=Nz(t,"close");return r;function r(i){return e+(i.value?`
`+i.value:"")+`
`+n}}function Nz(t,e){return t.marker?Fq(t.marker,e).repeat(3):Fq(t.fence,e)}function Fq(t,e){return typeof t=="string"?t:t[e]}function $ie(t){return typeof t>"u"||t===null}function q8e(t){return typeof t=="object"&&t!==null}function W8e(t){return Array.isArray(t)?t:$ie(t)?[]:[t]}function H8e(t,e){var n,r,i,o;if(e)for(o=Object.keys(e),n=0,r=o.length;n<r;n+=1)i=o[n],t[i]=e[i];return t}function G8e(t,e){var n="",r;for(r=0;r<e;r+=1)n+=t;return n}function X8e(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var Y8e=$ie,K8e=q8e,J8e=W8e,e9e=G8e,t9e=X8e,n9e=H8e,ga={isNothing:Y8e,isObject:K8e,toArray:J8e,repeat:e9e,isNegativeZero:t9e,extend:n9e};function zie(t,e){var n="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+=`

`+t.mark.snippet),r+" "+n):r}function ST(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=zie(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}ST.prototype=Object.create(Error.prototype);ST.prototype.constructor=ST;ST.prototype.toString=function(e){return this.name+": "+zie(this,e)};var hc=ST;function gL(t,e,n,r,i){var o="",a="",s=Math.floor(i/2)-1;return r-e>s&&(o=" ... ",e=r-s+o.length),n-r>s&&(a=" ...",n=r+s-a.length),{str:o+t.slice(e,n).replace(/\t/g,"")+a,pos:r-e+o.length}}function yL(t,e){return ga.repeat(" ",e-t.length)+t}function r9e(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],o,a=-1;o=n.exec(t.buffer);)i.push(o.index),r.push(o.index+o[0].length),t.position<=o.index&&a<0&&(a=r.length-2);a<0&&(a=r.length-1);var s="",u,d,g=Math.min(t.line+e.linesAfter,i.length).toString().length,v=e.maxLength-(e.indent+g+3);for(u=1;u<=e.linesBefore&&!(a-u<0);u++)d=gL(t.buffer,r[a-u],i[a-u],t.position-(r[a]-r[a-u]),v),s=ga.repeat(" ",e.indent)+yL((t.line-u+1).toString(),g)+" | "+d.str+`
`+s;for(d=gL(t.buffer,r[a],i[a],t.position,v),s+=ga.repeat(" ",e.indent)+yL((t.line+1).toString(),g)+" | "+d.str+`
`,s+=ga.repeat("-",e.indent+g+3+d.pos)+`^
`,u=1;u<=e.linesAfter&&!(a+u>=i.length);u++)d=gL(t.buffer,r[a+u],i[a+u],t.position-(r[a]-r[a+u]),v),s+=ga.repeat(" ",e.indent)+yL((t.line+u+1).toString(),g)+" | "+d.str+`
`;return s.replace(/\n$/,"")}var i9e=r9e,o9e=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],s9e=["scalar","sequence","mapping"];function a9e(t){var e={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(r){e[String(r)]=n})}),e}function l9e(t,e){if(e=e||{},Object.keys(e).forEach(function(n){if(o9e.indexOf(n)===-1)throw new hc('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(n){return n},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=a9e(e.styleAliases||null),s9e.indexOf(this.kind)===-1)throw new hc('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var al=l9e;function jq(t,e){var n=[];return t[e].forEach(function(r){var i=n.length;n.forEach(function(o,a){o.tag===r.tag&&o.kind===r.kind&&o.multi===r.multi&&(i=a)}),n[i]=r}),n}function c9e(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function r(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(r);return t}function Bz(t){return this.extend(t)}Bz.prototype.extend=function(e){var n=[],r=[];if(e instanceof al)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new hc("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(o){if(!(o instanceof al))throw new hc("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new hc("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new hc("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(o){if(!(o instanceof al))throw new hc("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Bz.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=jq(i,"implicit"),i.compiledExplicit=jq(i,"explicit"),i.compiledTypeMap=c9e(i.compiledImplicit,i.compiledExplicit),i};var Nie=Bz,Bie=new al("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),Fie=new al("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),jie=new al("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),Vie=new Nie({explicit:[Bie,Fie,jie]});function u9e(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function h9e(){return null}function d9e(t){return t===null}var Qie=new al("tag:yaml.org,2002:null",{kind:"scalar",resolve:u9e,construct:h9e,predicate:d9e,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function f9e(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function p9e(t){return t==="true"||t==="True"||t==="TRUE"}function m9e(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var Uie=new al("tag:yaml.org,2002:bool",{kind:"scalar",resolve:f9e,construct:p9e,predicate:m9e,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function g9e(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function y9e(t){return 48<=t&&t<=55}function v9e(t){return 48<=t&&t<=57}function _9e(t){if(t===null)return!1;var e=t.length,n=0,r=!1,i;if(!e)return!1;if(i=t[n],(i==="-"||i==="+")&&(i=t[++n]),i==="0"){if(n+1===e)return!0;if(i=t[++n],i==="b"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!g9e(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!y9e(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<e;n++)if(i=t[n],i!=="_"){if(!v9e(t.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}function x9e(t){var e=t,n=1,r;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),r=e[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),e=e.slice(1),r=e[0]),e==="0")return 0;if(r==="0"){if(e[1]==="b")return n*parseInt(e.slice(2),2);if(e[1]==="x")return n*parseInt(e.slice(2),16);if(e[1]==="o")return n*parseInt(e.slice(2),8)}return n*parseInt(e,10)}function b9e(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!ga.isNegativeZero(t)}var Zie=new al("tag:yaml.org,2002:int",{kind:"scalar",resolve:_9e,construct:x9e,predicate:b9e,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),w9e=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function O9e(t){return!(t===null||!w9e.test(t)||t[t.length-1]==="_")}function S9e(t){var e,n;return e=t.replace(/_/g,"").toLowerCase(),n=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:n*parseFloat(e,10)}var C9e=/^[-+]?[0-9]+e/;function T9e(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ga.isNegativeZero(t))return"-0.0";return n=t.toString(10),C9e.test(n)?n.replace("e",".e"):n}function k9e(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||ga.isNegativeZero(t))}var qie=new al("tag:yaml.org,2002:float",{kind:"scalar",resolve:O9e,construct:S9e,predicate:k9e,represent:T9e,defaultStyle:"lowercase"}),Wie=Vie.extend({implicit:[Qie,Uie,Zie,qie]}),Hie=Wie,Gie=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Xie=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function E9e(t){return t===null?!1:Gie.exec(t)!==null||Xie.exec(t)!==null}function A9e(t){var e,n,r,i,o,a,s,u=0,d=null,g,v,x;if(e=Gie.exec(t),e===null&&(e=Xie.exec(t)),e===null)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(n,r,i));if(o=+e[4],a=+e[5],s=+e[6],e[7]){for(u=e[7].slice(0,3);u.length<3;)u+="0";u=+u}return e[9]&&(g=+e[10],v=+(e[11]||0),d=(g*60+v)*6e4,e[9]==="-"&&(d=-d)),x=new Date(Date.UTC(n,r,i,o,a,s,u)),d&&x.setTime(x.getTime()-d),x}function P9e(t){return t.toISOString()}var Yie=new al("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:E9e,construct:A9e,instanceOf:Date,represent:P9e});function M9e(t){return t==="<<"||t===null}var Kie=new al("tag:yaml.org,2002:merge",{kind:"scalar",resolve:M9e}),D9=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function R9e(t){if(t===null)return!1;var e,n,r=0,i=t.length,o=D9;for(n=0;n<i;n++)if(e=o.indexOf(t.charAt(n)),!(e>64)){if(e<0)return!1;r+=6}return r%8===0}function I9e(t){var e,n,r=t.replace(/[\r\n=]/g,""),i=r.length,o=D9,a=0,s=[];for(e=0;e<i;e++)e%4===0&&e&&(s.push(a>>16&255),s.push(a>>8&255),s.push(a&255)),a=a<<6|o.indexOf(r.charAt(e));return n=i%4*6,n===0?(s.push(a>>16&255),s.push(a>>8&255),s.push(a&255)):n===18?(s.push(a>>10&255),s.push(a>>2&255)):n===12&&s.push(a>>4&255),new Uint8Array(s)}function D9e(t){var e="",n=0,r,i,o=t.length,a=D9;for(r=0;r<o;r++)r%3===0&&r&&(e+=a[n>>18&63],e+=a[n>>12&63],e+=a[n>>6&63],e+=a[n&63]),n=(n<<8)+t[r];return i=o%3,i===0?(e+=a[n>>18&63],e+=a[n>>12&63],e+=a[n>>6&63],e+=a[n&63]):i===2?(e+=a[n>>10&63],e+=a[n>>4&63],e+=a[n<<2&63],e+=a[64]):i===1&&(e+=a[n>>2&63],e+=a[n<<4&63],e+=a[64],e+=a[64]),e}function L9e(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var Jie=new al("tag:yaml.org,2002:binary",{kind:"scalar",resolve:R9e,construct:I9e,predicate:L9e,represent:D9e}),$9e=Object.prototype.hasOwnProperty,z9e=Object.prototype.toString;function N9e(t){if(t===null)return!0;var e=[],n,r,i,o,a,s=t;for(n=0,r=s.length;n<r;n+=1){if(i=s[n],a=!1,z9e.call(i)!=="[object Object]")return!1;for(o in i)if($9e.call(i,o))if(!a)a=!0;else return!1;if(!a)return!1;if(e.indexOf(o)===-1)e.push(o);else return!1}return!0}function B9e(t){return t!==null?t:[]}var eoe=new al("tag:yaml.org,2002:omap",{kind:"sequence",resolve:N9e,construct:B9e}),F9e=Object.prototype.toString;function j9e(t){if(t===null)return!0;var e,n,r,i,o,a=t;for(o=new Array(a.length),e=0,n=a.length;e<n;e+=1){if(r=a[e],F9e.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;o[e]=[i[0],r[i[0]]]}return!0}function V9e(t){if(t===null)return[];var e,n,r,i,o,a=t;for(o=new Array(a.length),e=0,n=a.length;e<n;e+=1)r=a[e],i=Object.keys(r),o[e]=[i[0],r[i[0]]];return o}var toe=new al("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:j9e,construct:V9e}),Q9e=Object.prototype.hasOwnProperty;function U9e(t){if(t===null)return!0;var e,n=t;for(e in n)if(Q9e.call(n,e)&&n[e]!==null)return!1;return!0}function Z9e(t){return t!==null?t:{}}var noe=new al("tag:yaml.org,2002:set",{kind:"mapping",resolve:U9e,construct:Z9e}),L9=Hie.extend({implicit:[Yie,Kie],explicit:[Jie,eoe,toe,noe]}),G0=Object.prototype.hasOwnProperty,yM=1,roe=2,ioe=3,vM=4,vL=1,q9e=2,Vq=3,W9e=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,H9e=/[\x85\u2028\u2029]/,G9e=/[,\[\]\{\}]/,ooe=/^(?:!|!!|![a-z\-]+!)$/i,soe=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Qq(t){return Object.prototype.toString.call(t)}function lm(t){return t===10||t===13}function lx(t){return t===9||t===32}function ru(t){return t===9||t===32||t===10||t===13}function ow(t){return t===44||t===91||t===93||t===123||t===125}function X9e(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function Y9e(t){return t===120?2:t===117?4:t===85?8:0}function K9e(t){return 48<=t&&t<=57?t-48:-1}function Uq(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?"":t===76?"\u2028":t===80?"\u2029":""}function J9e(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}function aoe(t,e,n){e==="__proto__"?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,writable:!0,value:n}):t[e]=n}var loe=new Array(256),coe=new Array(256);for(var N1=0;N1<256;N1++)loe[N1]=Uq(N1)?1:0,coe[N1]=Uq(N1);function eFe(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||L9,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function uoe(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=i9e(n),new hc(e,n)}function Yn(t,e){throw uoe(t,e)}function _M(t,e){t.onWarning&&t.onWarning.call(null,uoe(t,e))}var Zq={YAML:function(e,n,r){var i,o,a;e.version!==null&&Yn(e,"duplication of %YAML directive"),r.length!==1&&Yn(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&Yn(e,"ill-formed argument of the YAML directive"),o=parseInt(i[1],10),a=parseInt(i[2],10),o!==1&&Yn(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=a<2,a!==1&&a!==2&&_M(e,"unsupported YAML version of the document")},TAG:function(e,n,r){var i,o;r.length!==2&&Yn(e,"TAG directive accepts exactly two arguments"),i=r[0],o=r[1],ooe.test(i)||Yn(e,"ill-formed tag handle (first argument) of the TAG directive"),G0.call(e.tagMap,i)&&Yn(e,'there is a previously declared suffix for "'+i+'" tag handle'),soe.test(o)||Yn(e,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{Yn(e,"tag prefix is malformed: "+o)}e.tagMap[i]=o}};function z0(t,e,n,r){var i,o,a,s;if(e<n){if(s=t.input.slice(e,n),r)for(i=0,o=s.length;i<o;i+=1)a=s.charCodeAt(i),a===9||32<=a&&a<=1114111||Yn(t,"expected valid JSON character");else W9e.test(s)&&Yn(t,"the stream contains non-printable characters");t.result+=s}}function qq(t,e,n,r){var i,o,a,s;for(ga.isObject(n)||Yn(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),a=0,s=i.length;a<s;a+=1)o=i[a],G0.call(e,o)||(aoe(e,o,n[o]),r[o]=!0)}function sw(t,e,n,r,i,o,a,s,u){var d,g;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),d=0,g=i.length;d<g;d+=1)Array.isArray(i[d])&&Yn(t,"nested arrays are not supported inside keys"),typeof i=="object"&&Qq(i[d])==="[object Object]"&&(i[d]="[object Object]");if(typeof i=="object"&&Qq(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(d=0,g=o.length;d<g;d+=1)qq(t,e,o[d],n);else qq(t,e,o,n);else!t.json&&!G0.call(n,i)&&G0.call(e,i)&&(t.line=a||t.line,t.lineStart=s||t.lineStart,t.position=u||t.position,Yn(t,"duplicated mapping key")),aoe(e,i,o),delete n[i];return e}function $9(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):Yn(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function Xs(t,e,n){for(var r=0,i=t.input.charCodeAt(t.position);i!==0;){for(;lx(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(lm(i))for($9(t),i=t.input.charCodeAt(t.position),r++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return n!==-1&&r!==0&&t.lineIndent<n&&_M(t,"deficient indentation"),r}function BI(t){var e=t.position,n;return n=t.input.charCodeAt(e),!!((n===45||n===46)&&n===t.input.charCodeAt(e+1)&&n===t.input.charCodeAt(e+2)&&(e+=3,n=t.input.charCodeAt(e),n===0||ru(n)))}function z9(t,e){e===1?t.result+=" ":e>1&&(t.result+=ga.repeat(`
`,e-1))}function tFe(t,e,n){var r,i,o,a,s,u,d,g,v=t.kind,x=t.result,O;if(O=t.input.charCodeAt(t.position),ru(O)||ow(O)||O===35||O===38||O===42||O===33||O===124||O===62||O===39||O===34||O===37||O===64||O===96||(O===63||O===45)&&(i=t.input.charCodeAt(t.position+1),ru(i)||n&&ow(i)))return!1;for(t.kind="scalar",t.result="",o=a=t.position,s=!1;O!==0;){if(O===58){if(i=t.input.charCodeAt(t.position+1),ru(i)||n&&ow(i))break}else if(O===35){if(r=t.input.charCodeAt(t.position-1),ru(r))break}else{if(t.position===t.lineStart&&BI(t)||n&&ow(O))break;if(lm(O))if(u=t.line,d=t.lineStart,g=t.lineIndent,Xs(t,!1,-1),t.lineIndent>=e){s=!0,O=t.input.charCodeAt(t.position);continue}else{t.position=a,t.line=u,t.lineStart=d,t.lineIndent=g;break}}s&&(z0(t,o,a,!1),z9(t,t.line-u),o=a=t.position,s=!1),lx(O)||(a=t.position+1),O=t.input.charCodeAt(++t.position)}return z0(t,o,a,!1),t.result?!0:(t.kind=v,t.result=x,!1)}function nFe(t,e){var n,r,i;if(n=t.input.charCodeAt(t.position),n!==39)return!1;for(t.kind="scalar",t.result="",t.position++,r=i=t.position;(n=t.input.charCodeAt(t.position))!==0;)if(n===39)if(z0(t,r,t.position,!0),n=t.input.charCodeAt(++t.position),n===39)r=t.position,t.position++,i=t.position;else return!0;else lm(n)?(z0(t,r,i,!0),z9(t,Xs(t,!1,e)),r=i=t.position):t.position===t.lineStart&&BI(t)?Yn(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);Yn(t,"unexpected end of the stream within a single quoted scalar")}function rFe(t,e){var n,r,i,o,a,s;if(s=t.input.charCodeAt(t.position),s!==34)return!1;for(t.kind="scalar",t.result="",t.position++,n=r=t.position;(s=t.input.charCodeAt(t.position))!==0;){if(s===34)return z0(t,n,t.position,!0),t.position++,!0;if(s===92){if(z0(t,n,t.position,!0),s=t.input.charCodeAt(++t.position),lm(s))Xs(t,!1,e);else if(s<256&&loe[s])t.result+=coe[s],t.position++;else if((a=Y9e(s))>0){for(i=a,o=0;i>0;i--)s=t.input.charCodeAt(++t.position),(a=X9e(s))>=0?o=(o<<4)+a:Yn(t,"expected hexadecimal character");t.result+=J9e(o),t.position++}else Yn(t,"unknown escape sequence");n=r=t.position}else lm(s)?(z0(t,n,r,!0),z9(t,Xs(t,!1,e)),n=r=t.position):t.position===t.lineStart&&BI(t)?Yn(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}Yn(t,"unexpected end of the stream within a double quoted scalar")}function iFe(t,e){var n=!0,r,i,o,a=t.tag,s,u=t.anchor,d,g,v,x,O,E=Object.create(null),A,M,L,$;if($=t.input.charCodeAt(t.position),$===91)g=93,O=!1,s=[];else if($===123)g=125,O=!0,s={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),$=t.input.charCodeAt(++t.position);$!==0;){if(Xs(t,!0,e),$=t.input.charCodeAt(t.position),$===g)return t.position++,t.tag=a,t.anchor=u,t.kind=O?"mapping":"sequence",t.result=s,!0;n?$===44&&Yn(t,"expected the node content, but found ','"):Yn(t,"missed comma between flow collection entries"),M=A=L=null,v=x=!1,$===63&&(d=t.input.charCodeAt(t.position+1),ru(d)&&(v=x=!0,t.position++,Xs(t,!0,e))),r=t.line,i=t.lineStart,o=t.position,sO(t,e,yM,!1,!0),M=t.tag,A=t.result,Xs(t,!0,e),$=t.input.charCodeAt(t.position),(x||t.line===r)&&$===58&&(v=!0,$=t.input.charCodeAt(++t.position),Xs(t,!0,e),sO(t,e,yM,!1,!0),L=t.result),O?sw(t,s,E,M,A,L,r,i,o):v?s.push(sw(t,null,E,M,A,L,r,i,o)):s.push(A),Xs(t,!0,e),$=t.input.charCodeAt(t.position),$===44?(n=!0,$=t.input.charCodeAt(++t.position)):n=!1}Yn(t,"unexpected end of the stream within a flow collection")}function oFe(t,e){var n,r,i=vL,o=!1,a=!1,s=e,u=0,d=!1,g,v;if(v=t.input.charCodeAt(t.position),v===124)r=!1;else if(v===62)r=!0;else return!1;for(t.kind="scalar",t.result="";v!==0;)if(v=t.input.charCodeAt(++t.position),v===43||v===45)vL===i?i=v===43?Vq:q9e:Yn(t,"repeat of a chomping mode identifier");else if((g=K9e(v))>=0)g===0?Yn(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?Yn(t,"repeat of an indentation width identifier"):(s=e+g-1,a=!0);else break;if(lx(v)){do v=t.input.charCodeAt(++t.position);while(lx(v));if(v===35)do v=t.input.charCodeAt(++t.position);while(!lm(v)&&v!==0)}for(;v!==0;){for($9(t),t.lineIndent=0,v=t.input.charCodeAt(t.position);(!a||t.lineIndent<s)&&v===32;)t.lineIndent++,v=t.input.charCodeAt(++t.position);if(!a&&t.lineIndent>s&&(s=t.lineIndent),lm(v)){u++;continue}if(t.lineIndent<s){i===Vq?t.result+=ga.repeat(`
`,o?1+u:u):i===vL&&o&&(t.result+=`
`);break}for(r?lx(v)?(d=!0,t.result+=ga.repeat(`
`,o?1+u:u)):d?(d=!1,t.result+=ga.repeat(`
`,u+1)):u===0?o&&(t.result+=" "):t.result+=ga.repeat(`
`,u):t.result+=ga.repeat(`
`,o?1+u:u),o=!0,a=!0,u=0,n=t.position;!lm(v)&&v!==0;)v=t.input.charCodeAt(++t.position);z0(t,n,t.position,!1)}return!0}function Wq(t,e){var n,r=t.tag,i=t.anchor,o=[],a,s=!1,u;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=o),u=t.input.charCodeAt(t.position);u!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Yn(t,"tab characters must not be used in indentation")),!(u!==45||(a=t.input.charCodeAt(t.position+1),!ru(a))));){if(s=!0,t.position++,Xs(t,!0,-1)&&t.lineIndent<=e){o.push(null),u=t.input.charCodeAt(t.position);continue}if(n=t.line,sO(t,e,ioe,!1,!0),o.push(t.result),Xs(t,!0,-1),u=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&u!==0)Yn(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return s?(t.tag=r,t.anchor=i,t.kind="sequence",t.result=o,!0):!1}function sFe(t,e,n){var r,i,o,a,s,u,d=t.tag,g=t.anchor,v={},x=Object.create(null),O=null,E=null,A=null,M=!1,L=!1,$;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=v),$=t.input.charCodeAt(t.position);$!==0;){if(!M&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Yn(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),o=t.line,($===63||$===58)&&ru(r))$===63?(M&&(sw(t,v,x,O,E,null,a,s,u),O=E=A=null),L=!0,M=!0,i=!0):M?(M=!1,i=!0):Yn(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,$=r;else{if(a=t.line,s=t.lineStart,u=t.position,!sO(t,n,roe,!1,!0))break;if(t.line===o){for($=t.input.charCodeAt(t.position);lx($);)$=t.input.charCodeAt(++t.position);if($===58)$=t.input.charCodeAt(++t.position),ru($)||Yn(t,"a whitespace character is expected after the key-value separator within a block mapping"),M&&(sw(t,v,x,O,E,null,a,s,u),O=E=A=null),L=!0,M=!1,i=!1,O=t.tag,E=t.result;else if(L)Yn(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=d,t.anchor=g,!0}else if(L)Yn(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=d,t.anchor=g,!0}if((t.line===o||t.lineIndent>e)&&(M&&(a=t.line,s=t.lineStart,u=t.position),sO(t,e,vM,!0,i)&&(M?E=t.result:A=t.result),M||(sw(t,v,x,O,E,A,a,s,u),O=E=A=null),Xs(t,!0,-1),$=t.input.charCodeAt(t.position)),(t.line===o||t.lineIndent>e)&&$!==0)Yn(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return M&&sw(t,v,x,O,E,null,a,s,u),L&&(t.tag=d,t.anchor=g,t.kind="mapping",t.result=v),L}function aFe(t){var e,n=!1,r=!1,i,o,a;if(a=t.input.charCodeAt(t.position),a!==33)return!1;if(t.tag!==null&&Yn(t,"duplication of a tag property"),a=t.input.charCodeAt(++t.position),a===60?(n=!0,a=t.input.charCodeAt(++t.position)):a===33?(r=!0,i="!!",a=t.input.charCodeAt(++t.position)):i="!",e=t.position,n){do a=t.input.charCodeAt(++t.position);while(a!==0&&a!==62);t.position<t.length?(o=t.input.slice(e,t.position),a=t.input.charCodeAt(++t.position)):Yn(t,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!ru(a);)a===33&&(r?Yn(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),ooe.test(i)||Yn(t,"named tag handle cannot contain such characters"),r=!0,e=t.position+1)),a=t.input.charCodeAt(++t.position);o=t.input.slice(e,t.position),G9e.test(o)&&Yn(t,"tag suffix cannot contain flow indicator characters")}o&&!soe.test(o)&&Yn(t,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{Yn(t,"tag name is malformed: "+o)}return n?t.tag=o:G0.call(t.tagMap,i)?t.tag=t.tagMap[i]+o:i==="!"?t.tag="!"+o:i==="!!"?t.tag="tag:yaml.org,2002:"+o:Yn(t,'undeclared tag handle "'+i+'"'),!0}function lFe(t){var e,n;if(n=t.input.charCodeAt(t.position),n!==38)return!1;for(t.anchor!==null&&Yn(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!ru(n)&&!ow(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&Yn(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function cFe(t){var e,n,r;if(r=t.input.charCodeAt(t.position),r!==42)return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!ru(r)&&!ow(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&Yn(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),G0.call(t.anchorMap,n)||Yn(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],Xs(t,!0,-1),!0}function sO(t,e,n,r,i){var o,a,s,u=1,d=!1,g=!1,v,x,O,E,A,M;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,o=a=s=vM===n||ioe===n,r&&Xs(t,!0,-1)&&(d=!0,t.lineIndent>e?u=1:t.lineIndent===e?u=0:t.lineIndent<e&&(u=-1)),u===1)for(;aFe(t)||lFe(t);)Xs(t,!0,-1)?(d=!0,s=o,t.lineIndent>e?u=1:t.lineIndent===e?u=0:t.lineIndent<e&&(u=-1)):s=!1;if(s&&(s=d||i),(u===1||vM===n)&&(yM===n||roe===n?A=e:A=e+1,M=t.position-t.lineStart,u===1?s&&(Wq(t,M)||sFe(t,M,A))||iFe(t,A)?g=!0:(a&&oFe(t,A)||nFe(t,A)||rFe(t,A)?g=!0:cFe(t)?(g=!0,(t.tag!==null||t.anchor!==null)&&Yn(t,"alias node should not have any properties")):tFe(t,A,yM===n)&&(g=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):u===0&&(g=s&&Wq(t,M))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&Yn(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),v=0,x=t.implicitTypes.length;v<x;v+=1)if(E=t.implicitTypes[v],E.resolve(t.result)){t.result=E.construct(t.result),t.tag=E.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(G0.call(t.typeMap[t.kind||"fallback"],t.tag))E=t.typeMap[t.kind||"fallback"][t.tag];else for(E=null,O=t.typeMap.multi[t.kind||"fallback"],v=0,x=O.length;v<x;v+=1)if(t.tag.slice(0,O[v].tag.length)===O[v].tag){E=O[v];break}E||Yn(t,"unknown tag !<"+t.tag+">"),t.result!==null&&E.kind!==t.kind&&Yn(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+E.kind+'", not "'+t.kind+'"'),E.resolve(t.result,t.tag)?(t.result=E.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):Yn(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||g}function uFe(t){var e=t.position,n,r,i,o=!1,a;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(a=t.input.charCodeAt(t.position))!==0&&(Xs(t,!0,-1),a=t.input.charCodeAt(t.position),!(t.lineIndent>0||a!==37));){for(o=!0,a=t.input.charCodeAt(++t.position),n=t.position;a!==0&&!ru(a);)a=t.input.charCodeAt(++t.position);for(r=t.input.slice(n,t.position),i=[],r.length<1&&Yn(t,"directive name must not be less than one character in length");a!==0;){for(;lx(a);)a=t.input.charCodeAt(++t.position);if(a===35){do a=t.input.charCodeAt(++t.position);while(a!==0&&!lm(a));break}if(lm(a))break;for(n=t.position;a!==0&&!ru(a);)a=t.input.charCodeAt(++t.position);i.push(t.input.slice(n,t.position))}a!==0&&$9(t),G0.call(Zq,r)?Zq[r](t,r,i):_M(t,'unknown document directive "'+r+'"')}if(Xs(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,Xs(t,!0,-1)):o&&Yn(t,"directives end mark is expected"),sO(t,t.lineIndent-1,vM,!1,!0),Xs(t,!0,-1),t.checkLineBreaks&&H9e.test(t.input.slice(e,t.position))&&_M(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&BI(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,Xs(t,!0,-1));return}if(t.position<t.length-1)Yn(t,"end of the stream or a document separator is expected");else return}function hoe(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var n=new eFe(t,e),r=t.indexOf("\0");for(r!==-1&&(n.position=r,Yn(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)uFe(n);return n.documents}function hFe(t,e,n){e!==null&&typeof e=="object"&&typeof n>"u"&&(n=e,e=null);var r=hoe(t,n);if(typeof e!="function")return r;for(var i=0,o=r.length;i<o;i+=1)e(r[i])}function dFe(t,e){var n=hoe(t,e);if(n.length!==0){if(n.length===1)return n[0];throw new hc("expected a single document in the stream, but found more")}}var fFe=hFe,pFe=dFe,doe={loadAll:fFe,load:pFe},foe=Object.prototype.toString,poe=Object.prototype.hasOwnProperty,N9=65279,mFe=9,CT=10,gFe=13,yFe=32,vFe=33,_Fe=34,Fz=35,xFe=37,bFe=38,wFe=39,OFe=42,moe=44,SFe=45,xM=58,CFe=61,TFe=62,kFe=63,EFe=64,goe=91,yoe=93,AFe=96,voe=123,PFe=124,_oe=125,jl={};jl[0]="\\0";jl[7]="\\a";jl[8]="\\b";jl[9]="\\t";jl[10]="\\n";jl[11]="\\v";jl[12]="\\f";jl[13]="\\r";jl[27]="\\e";jl[34]='\\"';jl[92]="\\\\";jl[133]="\\N";jl[160]="\\_";jl[8232]="\\L";jl[8233]="\\P";var MFe=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],RFe=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function IFe(t,e){var n,r,i,o,a,s,u;if(e===null)return{};for(n={},r=Object.keys(e),i=0,o=r.length;i<o;i+=1)a=r[i],s=String(e[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),u=t.compiledTypeMap.fallback[a],u&&poe.call(u.styleAliases,s)&&(s=u.styleAliases[s]),n[a]=s;return n}function DFe(t){var e,n,r;if(e=t.toString(16).toUpperCase(),t<=255)n="x",r=2;else if(t<=65535)n="u",r=4;else if(t<=4294967295)n="U",r=8;else throw new hc("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+ga.repeat("0",r-e.length)+e}var LFe=1,TT=2;function $Fe(t){this.schema=t.schema||L9,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=ga.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=IFe(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?TT:LFe,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Hq(t,e){for(var n=ga.repeat(" ",e),r=0,i=-1,o="",a,s=t.length;r<s;)i=t.indexOf(`
`,r),i===-1?(a=t.slice(r),r=s):(a=t.slice(r,i+1),r=i+1),a.length&&a!==`
`&&(o+=n),o+=a;return o}function jz(t,e){return`
`+ga.repeat(" ",t.indent*e)}function zFe(t,e){var n,r,i;for(n=0,r=t.implicitTypes.length;n<r;n+=1)if(i=t.implicitTypes[n],i.resolve(e))return!0;return!1}function bM(t){return t===yFe||t===mFe}function kT(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==N9||65536<=t&&t<=1114111}function Gq(t){return kT(t)&&t!==N9&&t!==gFe&&t!==CT}function Xq(t,e,n){var r=Gq(t),i=r&&!bM(t);return(n?r:r&&t!==moe&&t!==goe&&t!==yoe&&t!==voe&&t!==_oe)&&t!==Fz&&!(e===xM&&!i)||Gq(e)&&!bM(e)&&t===Fz||e===xM&&i}function NFe(t){return kT(t)&&t!==N9&&!bM(t)&&t!==SFe&&t!==kFe&&t!==xM&&t!==moe&&t!==goe&&t!==yoe&&t!==voe&&t!==_oe&&t!==Fz&&t!==bFe&&t!==OFe&&t!==vFe&&t!==PFe&&t!==CFe&&t!==TFe&&t!==wFe&&t!==_Fe&&t!==xFe&&t!==EFe&&t!==AFe}function BFe(t){return!bM(t)&&t!==xM}function iC(t,e){var n=t.charCodeAt(e),r;return n>=55296&&n<=56319&&e+1<t.length&&(r=t.charCodeAt(e+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}function xoe(t){var e=/^\n* /;return e.test(t)}var boe=1,Vz=2,woe=3,Ooe=4,X1=5;function FFe(t,e,n,r,i,o,a,s){var u,d=0,g=null,v=!1,x=!1,O=r!==-1,E=-1,A=NFe(iC(t,0))&&BFe(iC(t,t.length-1));if(e||a)for(u=0;u<t.length;d>=65536?u+=2:u++){if(d=iC(t,u),!kT(d))return X1;A=A&&Xq(d,g,s),g=d}else{for(u=0;u<t.length;d>=65536?u+=2:u++){if(d=iC(t,u),d===CT)v=!0,O&&(x=x||u-E-1>r&&t[E+1]!==" ",E=u);else if(!kT(d))return X1;A=A&&Xq(d,g,s),g=d}x=x||O&&u-E-1>r&&t[E+1]!==" "}return!v&&!x?A&&!a&&!i(t)?boe:o===TT?X1:Vz:n>9&&xoe(t)?X1:a?o===TT?X1:Vz:x?Ooe:woe}function jFe(t,e,n,r,i){t.dump=(function(){if(e.length===0)return t.quotingType===TT?'""':"''";if(!t.noCompatMode&&(MFe.indexOf(e)!==-1||RFe.test(e)))return t.quotingType===TT?'"'+e+'"':"'"+e+"'";var o=t.indent*Math.max(1,n),a=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-o),s=r||t.flowLevel>-1&&n>=t.flowLevel;function u(d){return zFe(t,d)}switch(FFe(e,s,t.indent,a,u,t.quotingType,t.forceQuotes&&!r,i)){case boe:return e;case Vz:return"'"+e.replace(/'/g,"''")+"'";case woe:return"|"+Yq(e,t.indent)+Kq(Hq(e,o));case Ooe:return">"+Yq(e,t.indent)+Kq(Hq(VFe(e,a),o));case X1:return'"'+QFe(e)+'"';default:throw new hc("impossible error: invalid scalar style")}})()}function Yq(t,e){var n=xoe(t)?String(e):"",r=t[t.length-1]===`
`,i=r&&(t[t.length-2]===`
`||t===`
`),o=i?"+":r?"":"-";return n+o+`
`}function Kq(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function VFe(t,e){for(var n=/(\n+)([^\n]*)/g,r=(function(){var d=t.indexOf(`
`);return d=d!==-1?d:t.length,n.lastIndex=d,Jq(t.slice(0,d),e)})(),i=t[0]===`
`||t[0]===" ",o,a;a=n.exec(t);){var s=a[1],u=a[2];o=u[0]===" ",r+=s+(!i&&!o&&u!==""?`
`:"")+Jq(u,e),i=o}return r}function Jq(t,e){if(t===""||t[0]===" ")return t;for(var n=/ [^ ]/g,r,i=0,o,a=0,s=0,u="";r=n.exec(t);)s=r.index,s-i>e&&(o=a>i?a:s,u+=`
`+t.slice(i,o),i=o+1),a=s;return u+=`
`,t.length-i>e&&a>i?u+=t.slice(i,a)+`
`+t.slice(a+1):u+=t.slice(i),u.slice(1)}function QFe(t){for(var e="",n=0,r,i=0;i<t.length;n>=65536?i+=2:i++)n=iC(t,i),r=jl[n],!r&&kT(n)?(e+=t[i],n>=65536&&(e+=t[i+1])):e+=r||DFe(n);return e}function UFe(t,e,n){var r="",i=t.tag,o,a,s;for(o=0,a=n.length;o<a;o+=1)s=n[o],t.replacer&&(s=t.replacer.call(n,String(o),s)),(oy(t,e,s,!1,!1)||typeof s>"u"&&oy(t,e,null,!1,!1))&&(r!==""&&(r+=","+(t.condenseFlow?"":" ")),r+=t.dump);t.tag=i,t.dump="["+r+"]"}function eW(t,e,n,r){var i="",o=t.tag,a,s,u;for(a=0,s=n.length;a<s;a+=1)u=n[a],t.replacer&&(u=t.replacer.call(n,String(a),u)),(oy(t,e+1,u,!0,!0,!1,!0)||typeof u>"u"&&oy(t,e+1,null,!0,!0,!1,!0))&&((!r||i!=="")&&(i+=jz(t,e)),t.dump&&CT===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=o,t.dump=i||"[]"}function ZFe(t,e,n){var r="",i=t.tag,o=Object.keys(n),a,s,u,d,g;for(a=0,s=o.length;a<s;a+=1)g="",r!==""&&(g+=", "),t.condenseFlow&&(g+='"'),u=o[a],d=n[u],t.replacer&&(d=t.replacer.call(n,u,d)),oy(t,e,u,!1,!1)&&(t.dump.length>1024&&(g+="? "),g+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),oy(t,e,d,!1,!1)&&(g+=t.dump,r+=g));t.tag=i,t.dump="{"+r+"}"}function qFe(t,e,n,r){var i="",o=t.tag,a=Object.keys(n),s,u,d,g,v,x;if(t.sortKeys===!0)a.sort();else if(typeof t.sortKeys=="function")a.sort(t.sortKeys);else if(t.sortKeys)throw new hc("sortKeys must be a boolean or a function");for(s=0,u=a.length;s<u;s+=1)x="",(!r||i!=="")&&(x+=jz(t,e)),d=a[s],g=n[d],t.replacer&&(g=t.replacer.call(n,d,g)),oy(t,e+1,d,!0,!0,!0)&&(v=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,v&&(t.dump&&CT===t.dump.charCodeAt(0)?x+="?":x+="? "),x+=t.dump,v&&(x+=jz(t,e)),oy(t,e+1,g,!0,v)&&(t.dump&&CT===t.dump.charCodeAt(0)?x+=":":x+=": ",x+=t.dump,i+=x));t.tag=o,t.dump=i||"{}"}function tW(t,e,n){var r,i,o,a,s,u;for(i=n?t.explicitTypes:t.implicitTypes,o=0,a=i.length;o<a;o+=1)if(s=i[o],(s.instanceOf||s.predicate)&&(!s.instanceOf||typeof e=="object"&&e instanceof s.instanceOf)&&(!s.predicate||s.predicate(e))){if(n?s.multi&&s.representName?t.tag=s.representName(e):t.tag=s.tag:t.tag="?",s.represent){if(u=t.styleMap[s.tag]||s.defaultStyle,foe.call(s.represent)==="[object Function]")r=s.represent(e,u);else if(poe.call(s.represent,u))r=s.represent[u](e,u);else throw new hc("!<"+s.tag+'> tag resolver accepts not "'+u+'" style');t.dump=r}return!0}return!1}function oy(t,e,n,r,i,o,a){t.tag=null,t.dump=n,tW(t,n,!1)||tW(t,n,!0);var s=foe.call(t.dump),u=r,d;r&&(r=t.flowLevel<0||t.flowLevel>e);var g=s==="[object Object]"||s==="[object Array]",v,x;if(g&&(v=t.duplicates.indexOf(n),x=v!==-1),(t.tag!==null&&t.tag!=="?"||x||t.indent!==2&&e>0)&&(i=!1),x&&t.usedDuplicates[v])t.dump="*ref_"+v;else{if(g&&x&&!t.usedDuplicates[v]&&(t.usedDuplicates[v]=!0),s==="[object Object]")r&&Object.keys(t.dump).length!==0?(qFe(t,e,t.dump,i),x&&(t.dump="&ref_"+v+t.dump)):(ZFe(t,e,t.dump),x&&(t.dump="&ref_"+v+" "+t.dump));else if(s==="[object Array]")r&&t.dump.length!==0?(t.noArrayIndent&&!a&&e>0?eW(t,e-1,t.dump,i):eW(t,e,t.dump,i),x&&(t.dump="&ref_"+v+t.dump)):(UFe(t,e,t.dump),x&&(t.dump="&ref_"+v+" "+t.dump));else if(s==="[object String]")t.tag!=="?"&&jFe(t,t.dump,e,o,u);else{if(s==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new hc("unacceptable kind of an object to dump "+s)}t.tag!==null&&t.tag!=="?"&&(d=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?d="!"+d:d.slice(0,18)==="tag:yaml.org,2002:"?d="!!"+d.slice(18):d="!<"+d+">",t.dump=d+" "+t.dump)}return!0}function WFe(t,e){var n=[],r=[],i,o;for(Qz(t,n,r),i=0,o=r.length;i<o;i+=1)e.duplicates.push(n[r[i]]);e.usedDuplicates=new Array(o)}function Qz(t,e,n){var r,i,o;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)n.indexOf(i)===-1&&n.push(i);else if(e.push(t),Array.isArray(t))for(i=0,o=t.length;i<o;i+=1)Qz(t[i],e,n);else for(r=Object.keys(t),i=0,o=r.length;i<o;i+=1)Qz(t[r[i]],e,n)}function HFe(t,e){e=e||{};var n=new $Fe(e);n.noRefs||WFe(t,n);var r=t;return n.replacer&&(r=n.replacer.call({"":r},"",r)),oy(n,0,r,!0,!0)?n.dump+`
`:""}var GFe=HFe,XFe={dump:GFe};function B9(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var YFe=al,KFe=Nie,JFe=Vie,e7e=Wie,t7e=Hie,n7e=L9,r7e=doe.load,i7e=doe.loadAll,o7e=XFe.dump,s7e=hc,a7e={binary:Jie,float:qie,map:jie,null:Qie,pairs:toe,set:noe,timestamp:Yie,bool:Uie,int:Zie,merge:Kie,omap:eoe,seq:Fie,str:Bie},l7e=B9("safeLoad","load"),c7e=B9("safeLoadAll","loadAll"),u7e=B9("safeDump","dump"),nW={Type:YFe,Schema:KFe,FAILSAFE_SCHEMA:JFe,JSON_SCHEMA:e7e,CORE_SCHEMA:t7e,DEFAULT_SCHEMA:n7e,load:r7e,loadAll:i7e,dump:o7e,YAMLException:s7e,types:a7e,safeLoad:l7e,safeLoadAll:c7e,safeDump:u7e};const h7e=({yaml:t,onChange:e})=>{const[n,r,i,o]=as(cl,lv,oa,wM),a=Ds(),s=qi(wM),u=qi(Soe),d=ae.useMemo(()=>t?Object.entries(nW.load(t)).map(([L,$])=>({key:L,value:$})):[],[t]),{register:g,control:v,handleSubmit:x}=g9({defaultValues:{yamlConfig:d}}),{fields:O,append:E,remove:A}=CBe({control:v,name:"yamlConfig"}),M=ae.useCallback(({yamlConfig:L})=>{if(L.length===0){u(),s(!1);return}const $=L.reduce((N,{key:F,value:U})=>(F&&U&&(N[F]=U),N),{});e(nW.dump($).trim()),s(!1)},[e,s,u]);return ae.createElement(ae.Fragment,null,ae.createElement(Gre,{open:o,onOpenChange:L=>{s(L)}},ae.createElement(Xre,{container:r?.current},ae.createElement(Yre,{className:Qt.dialogOverlay}),ae.createElement(Kre,{className:Qt.largeDialogContent,"data-editor-type":"frontmatter"},ae.createElement(Jre,{className:Qt.dialogTitle},a("frontmatterEditor.title","Edit document frontmatter")),ae.createElement("form",{onSubmit:L=>{x(M)(L),L.stopPropagation()},onReset:L=>{L.stopPropagation(),s(!1)}},ae.createElement("table",{className:Qt.propertyEditorTable},ae.createElement("colgroup",null,ae.createElement("col",null),ae.createElement("col",null),ae.createElement("col",null)),ae.createElement("thead",null,ae.createElement("tr",null,ae.createElement("th",null,a("frontmatterEditor.key","Key")),ae.createElement("th",null,a("frontmatterEditor.value","Value")),ae.createElement("th",null))),ae.createElement("tbody",null,O.map((L,$)=>ae.createElement("tr",{key:L.id},ae.createElement("td",null,ae.createElement(rW,{...g(`yamlConfig.${$}.key`,{required:!0}),autofocusIfEmpty:!0,readOnly:n})),ae.createElement("td",null,ae.createElement(rW,{...g(`yamlConfig.${$}.value`,{required:!0}),readOnly:n})),ae.createElement("td",null,ae.createElement("button",{type:"button",onClick:()=>{A($)},className:Qt.iconButton,disabled:n},i("delete_big")))))),ae.createElement("tfoot",null,ae.createElement("tr",null,ae.createElement("td",null,ae.createElement("button",{disabled:n,className:Yr(Qt.primaryButton,Qt.smallButton),type:"button",onClick:()=>{E({key:"",value:""})}},a("frontmatterEditor.addEntry","Add entry")))))),ae.createElement("div",{style:{display:"flex",justifyContent:"flex-end",gap:"var(--spacing-2)"}},ae.createElement("button",{type:"submit",className:Qt.primaryButton},a("dialogControls.save","Save")),ae.createElement("button",{type:"reset",className:Qt.secondaryButton},a("dialogControls.cancel","Cancel")))),ae.createElement(eie,{asChild:!0},ae.createElement("button",{className:Qt.dialogCloseButton,"aria-label":a("dialogControls.cancel","Cancel")},i("close")))))))},rW=ae.forwardRef(({className:t,autofocusIfEmpty:e,...n},r)=>ae.createElement("input",{className:Yr(Qt.propertyEditorInput,t),...n,ref:r}));var d7e=Object.defineProperty,f7e=(t,e,n)=>e in t?d7e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,p7e=(t,e,n)=>(f7e(t,e+"",n),n);class Vk extends uy{constructor(e,n){super(n),p7e(this,"__yaml"),this.__yaml=e}static getType(){return"frontmatter"}static clone(e){return new Vk(e.__yaml,e.__key)}static importJSON(e){const{yaml:n}=e;return FI(n)}exportJSON(){return{yaml:this.getYaml(),type:"frontmatter",version:1}}createDOM(e){return document.createElement("div")}updateDOM(){return!1}getYaml(){return this.getLatest().__yaml}setYaml(e){e!==this.__yaml&&(this.getWritable().__yaml=e)}decorate(e){return ae.createElement(h7e,{yaml:this.getYaml(),onChange:n=>{e.update(()=>{this.setYaml(n)})}})}isKeyboardSelectable(){return!1}}function FI(t){return new Vk(t)}function cx(t){return t instanceof Vk}const m7e={testLexicalNode:cx,visitLexicalNode:({actions:t,lexicalNode:e})=>{t.addAndStepInto("yaml",{value:e.getYaml()})}},g7e={testNode:"yaml",visitNode({mdastNode:t,actions:e}){e.addAndStepInto(FI(t.value))}},wM=Pn(!1),y7e=xm(t=>{t.sub(t.pipe(y7e,jo(pd)),([,e])=>{e?.update(()=>{const n=Br().getFirstChild();if(!cx(n)){const r=FI('"": ""');n?n.insertBefore(r):Br().append(r)}}),t.pub(wM,!0)})}),Soe=xm(t=>{t.sub(t.pipe(Soe,jo(pd)),([,e])=>{e?.update(()=>{const n=Br().getFirstChild();cx(n)&&n.remove()}),t.pub(wM,!1)})}),v7e=Pn(!1,t=>{t.pub(yI,e=>e.registerUpdateListener(({editorState:n})=>{n.read(()=>{t.pub(v7e,cx(Br().getFirstChild()))})}))}),_7e=Nl({init:t=>{t.pubIn({[eO]:F8e("yaml"),[Jw]:z8e(),[Lf]:Vk,[ud]:g7e,[$f]:m7e,[Ik]:U8e("yaml"),[yI]:e=>e.registerCommand(jR,n=>{let r=!1;return e.read(()=>{const i=an();if(Xt(i))if(i.isCollapsed()&&i.anchor.offset===0&&i.focus.offset===0&&n.key==="Backspace"){let o=i.getNodes()[0];pn(o)&&(o=o.getParent());const a=o?.getPreviousSibling();cx(a)&&(r=!0,n.preventDefault())}else{const o=i.getNodes()[0];if(cx(o)){const a=o.getYaml();setTimeout(()=>{e.update(()=>{const s=Br().getFirstChild();cx(s)||Br().splice(0,0,[FI(a)])},{discrete:!0})})}}}),!!r},ch)})}}),x7e={testNode:"blockquote",visitNode({actions:t}){t.addAndStepInto(Ek())}},b7e={testLexicalNode:K4,visitLexicalNode:({lexicalNode:t,mdastParent:e,actions:n})=>{const r={type:"paragraph",children:[]};n.appendToParent(e,{type:"blockquote",children:[r]}),n.visitChildren(t,r)}},w7e=Nl({init(t){t.pubIn({[ZO]:"quote",[ud]:x7e,[Lf]:cI,[$f]:b7e})}}),Coe=ae.createContext(void 0);function jI(){const t=ae.useContext(Coe);if(!t)throw new Error("useNestedEditor must be used within a NestedEditorsProvider");return t}function O7e(){const{parentEditor:t,mdastNode:e,lexicalNode:n}=jI();return function(i){t.update(()=>{See("history-push");const o=Li(n.getKey());o&&o.setMdastNode({...e,...i})},{discrete:!0}),t.dispatchCommand(kx,void 0)}}function S7e(){const{parentEditor:t,lexicalNode:e}=jI();return()=>{t.update(()=>{const n=Li(e.getKey());n.selectNext(),n.remove()})}}const C7e=function(t){const{getContent:e,getUpdatedMdastNode:n,contentEditableProps:r,block:i=!1}=t,{mdastNode:o,lexicalNode:a,focusEmitter:s}=jI(),u=O7e(),d=S7e(),g=e(o),v=$O(),[x,O,E,A,M,L,$,N,F,U]=as(pd,pI,Mk,mI,Rk,Kw,UO,gI,A8,tM),q=qi(k8),[W]=ae.useState(()=>t8({nodes:A,theme:v.getValue(tM),namespace:"NestedEditor"}));return ae.useEffect(()=>{s.subscribe(()=>{W.focus()})},[W,s]),ae.useEffect(()=>{W.update(()=>{Br().clear();let te=g;i?te.length===0&&(te=[{type:"paragraph",children:[]}]):te=[{type:"paragraph",children:g}],w8({root:Br(),mdastRoot:{type:"root",children:te},visitors:O,directiveDescriptors:L,codeBlockEditorDescriptors:$,jsxComponentDescriptors:M})})},[W,i,O]),ae.useEffect(()=>{function te(){W.getEditorState().read(()=>{const re=b8({root:Br(),visitors:E,jsxComponentDescriptors:M,jsxIsAvailable:N,addImportStatements:!1}),ce=i?re.children:re.children[0].children;u(n(structuredClone(o),ce))})}return Fl(W.registerCommand(qR,()=>(q({editorType:"lexical",rootNode:a,editorRef:W}),!1),vo),W.registerCommand(WR,re=>{const ce=re.relatedTarget;return a9(ce,x.getRootElement())?!1:(te(),q(null),!0)},Mr),W.registerCommand(kx,()=>(te(),!0),Mr),W.registerCommand(vk,()=>(q({editorType:"lexical",rootNode:a,editorRef:W}),!1),U5),W.registerCommand(VR,(re,ce)=>{const be=ce.getRootElement();return be?.innerText===`
`?(d(),!0):!1},ch))},[i,W,E,n,M,N,a,o,d,q,u,x]),ae.createElement(dne,{initialEditor:W,initialTheme:U},ae.createElement(D8,{contentEditable:ae.createElement(R8,{...r,className:Yr(Qt.nestedEditor,r?.className)}),placeholder:null,ErrorBoundary:I8}),ae.createElement(Pte,null),F.map((te,re)=>ae.createElement(te,{key:re})))};function Uz(){let t=$0;return{publish:()=>{t()},subscribe:e=>{t=e}}}var T7e=Object.defineProperty,k7e=(t,e,n)=>e in t?T7e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_0=(t,e,n)=>(k7e(t,typeof e!="symbol"?e+"":e,n),n);class YO extends uy{constructor(e,n,r,i){super(i),_0(this,"__code"),_0(this,"__meta"),_0(this,"__language"),_0(this,"__focusEmitter",Uz()),_0(this,"setCode",o=>{o!==this.__code&&(this.getWritable().__code=o)}),_0(this,"setMeta",o=>{o!==this.__meta&&(this.getWritable().__meta=o)}),_0(this,"setLanguage",o=>{o!==this.__language&&(this.getWritable().__language=o)}),_0(this,"select",()=>{this.__focusEmitter.publish()}),this.__code=e,this.__meta=r,this.__language=n}static getType(){return"codeblock"}static clone(e){return new YO(e.__code,e.__language,e.__meta,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__code=e.__code,this.__meta=e.__meta,this.__language=e.__language,this.__focusEmitter=Uz()}static importJSON(e){const{code:n,meta:r,language:i}=e;return Qk({code:n,language:i,meta:r})}static importDOM(){return{pre:()=>({conversion:M7e,priority:3})}}exportJSON(){return{code:this.getCode(),language:this.getLanguage(),meta:this.getMeta(),type:"codeblock",version:1}}createDOM(e,n){return document.createElement("div")}updateDOM(){return!1}getCode(){return this.__code}getMeta(){return this.__meta}getLanguage(){return this.__language}decorate(e){return ae.createElement(A7e,{parentEditor:e,code:this.getCode(),meta:this.getMeta(),language:this.getLanguage(),codeBlockNode:this,nodeKey:this.getKey(),focusEmitter:this.__focusEmitter})}isInline(){return!1}}const Toe=ae.createContext(null),E7e=({parentEditor:t,lexicalNode:e,children:n})=>{const r=ae.useMemo(()=>({lexicalNode:e,parentEditor:t,setCode:i=>{t.update(()=>{e.setCode(i),setTimeout(()=>{t.dispatchCommand(kx,void 0)},0)})},setLanguage:i=>{t.update(()=>{e.setLanguage(i)})},setMeta:i=>{t.update(()=>{e.setMeta(i)})}}),[e,t]);return ae.createElement(Toe.Provider,{value:r},n)};function Zz(){const t=ae.useContext(Toe);if(!t)throw new Error("useCodeBlockEditor must be used within a CodeBlockEditor");return t}const A7e=t=>{const e=Ms(UO),n=Ms(F9);let r=e.sort((u,d)=>d.priority-u.priority).find(u=>u.match(t.language||"",t.meta||""));if(r??(r=e.find(u=>u.match(n||"",t.meta||""))),!r)throw new Error(`No CodeBlockEditor registered for language=${t.language} meta=${t.meta}`);const i=r.Editor,{codeBlockNode:o,parentEditor:a,...s}=t;return ae.createElement(E7e,{parentEditor:t.parentEditor,lexicalNode:t.codeBlockNode},ae.createElement(i,{...s}))};function Qk(t){const{code:e="",language:n="",meta:r=""}=t;return new YO(e,n,r)}function P7e(t){return t instanceof YO}function M7e(t){const e=t,n=e.textContent,r=t.getAttribute("class")??"",i=t.getAttribute("data-language")??"",o=/language-(\w+)/.exec(r),a=o?o[1]:i,s=e.getAttribute("data-meta")??"";return{node:Qk({code:n,language:a,meta:s})}}const R7e={testLexicalNode:P7e,visitLexicalNode:({lexicalNode:t,actions:e})=>{e.addAndStepInto("code",{value:t.getCode(),lang:t.getLanguage(),meta:t.getMeta()})}},I7e={testNode:(t,{codeBlockEditorDescriptors:e})=>t.type==="code"?e.find(r=>r.match(t.lang,t.meta))!==void 0:!1,visitNode({mdastNode:t,actions:e}){e.addAndStepInto(Qk({code:t.value,language:t.lang,meta:t.meta}))}},F9=Pn(""),j9=Ss(t=>{t.link(t.pipe(j9,jo(F9),Yg(([e,n])=>()=>Qk({language:n,...e}))),vI)}),D7e=vc(UO),L7e=Nl({update(t,e){t.pub(F9,e?.defaultCodeBlockLanguage??"")},init(t,e){t.pubIn({[ZO]:"codeblock",[UO]:e?.codeBlockEditorDescriptors??[],[ud]:I7e,[Lf]:YO,[$f]:R7e})}});let qz=[],koe=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,n=0;e<t.length;e++)(e%2?koe:qz).push(n=n+t[e])})();function $7e(t){if(t<768)return!1;for(let e=0,n=qz.length;;){let r=e+n>>1;if(t<qz[r])n=r;else if(t>=koe[r])e=r+1;else return!0;if(e==n)return!1}}function iW(t){return t>=127462&&t<=127487}const oW=8205;function z7e(t,e,n=!0,r=!0){return(n?Eoe:N7e)(t,e,r)}function Eoe(t,e,n){if(e==t.length)return e;e&&Aoe(t.charCodeAt(e))&&Poe(t.charCodeAt(e-1))&&e--;let r=_L(t,e);for(e+=sW(r);e<t.length;){let i=_L(t,e);if(r==oW||i==oW||n&&$7e(i))e+=sW(i),r=i;else if(iW(i)){let o=0,a=e-2;for(;a>=0&&iW(_L(t,a));)o++,a-=2;if(o%2==0)break;e+=2}else break}return e}function N7e(t,e,n){for(;e>0;){let r=Eoe(t,e-2,n);if(r<e)return r;e--}return 0}function _L(t,e){let n=t.charCodeAt(e);if(!Poe(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return Aoe(r)?(n-55296<<10)+(r-56320)+65536:n}function Aoe(t){return t>=56320&&t<57344}function Poe(t){return t>=55296&&t<56320}function sW(t){return t<65536?1:2}let Ai=class Moe{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=aO(this,e,n);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),qp.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=aO(this,e,n);let r=[];return this.decompose(e,n,r,0),qp.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new LC(this),o=new LC(e);for(let a=n,s=n;;){if(i.next(a),o.next(a),a=0,i.lineBreak!=o.lineBreak||i.done!=o.done||i.value!=o.value)return!1;if(s+=i.value.length,i.done||s>=r)return!0}}iter(e=1){return new LC(this,e)}iterRange(e,n=this.length){return new Roe(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new Ioe(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Moe.empty:e.length<=32?new Ps(e):qp.from(Ps.split(e,[]))}};class Ps extends Ai{constructor(e,n=B7e(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let o=0;;o++){let a=this.text[o],s=i+a.length;if((n?r:s)>=e)return new F7e(i,s,r,a);i=s+1,r++}}decompose(e,n,r,i){let o=e<=0&&n>=this.length?this:new Ps(aW(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let a=r.pop(),s=KP(o.text,a.text.slice(),0,o.length);if(s.length<=32)r.push(new Ps(s,a.length+o.length));else{let u=s.length>>1;r.push(new Ps(s.slice(0,u)),new Ps(s.slice(u)))}}else r.push(o)}replace(e,n,r){if(!(r instanceof Ps))return super.replace(e,n,r);[e,n]=aO(this,e,n);let i=KP(this.text,KP(r.text,aW(this.text,0,e)),n),o=this.length+r.length-(n-e);return i.length<=32?new Ps(i,o):qp.from(Ps.split(i,[]),o)}sliceString(e,n=this.length,r=`
`){[e,n]=aO(this,e,n);let i="";for(let o=0,a=0;o<=n&&a<this.text.length;a++){let s=this.text[a],u=o+s.length;o>e&&a&&(i+=r),e<u&&n>o&&(i+=s.slice(Math.max(0,e-o),n-o)),o=u+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let o of e)r.push(o),i+=o.length+1,r.length==32&&(n.push(new Ps(r,i)),r=[],i=-1);return i>-1&&n.push(new Ps(r,i)),n}}class qp extends Ai{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let o=0;;o++){let a=this.children[o],s=i+a.length,u=r+a.lines-1;if((n?u:s)>=e)return a.lineInner(e,n,r,i);i=s+1,r=u+1}}decompose(e,n,r,i){for(let o=0,a=0;a<=n&&o<this.children.length;o++){let s=this.children[o],u=a+s.length;if(e<=u&&n>=a){let d=i&((a<=e?1:0)|(u>=n?2:0));a>=e&&u<=n&&!d?r.push(s):s.decompose(e-a,n-a,r,d)}a=u+1}}replace(e,n,r){if([e,n]=aO(this,e,n),r.lines<this.lines)for(let i=0,o=0;i<this.children.length;i++){let a=this.children[i],s=o+a.length;if(e>=o&&n<=s){let u=a.replace(e-o,n-o,r),d=this.lines-a.lines+u.lines;if(u.lines<d>>4&&u.lines>d>>6){let g=this.children.slice();return g[i]=u,new qp(g,this.length-(n-e)+r.length)}return super.replace(o,s,u)}o=s+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=aO(this,e,n);let i="";for(let o=0,a=0;o<this.children.length&&a<=n;o++){let s=this.children[o],u=a+s.length;a>e&&o&&(i+=r),e<u&&n>a&&(i+=s.sliceString(e-a,n-a,r)),a=u+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof qp))return 0;let r=0,[i,o,a,s]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,o+=n){if(i==a||o==s)return r;let u=this.children[i],d=e.children[o];if(u!=d)return r+u.scanIdentical(d,n);r+=u.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let O of e)r+=O.lines;if(r<32){let O=[];for(let E of e)E.flatten(O);return new Ps(O,n)}let i=Math.max(32,r>>5),o=i<<1,a=i>>1,s=[],u=0,d=-1,g=[];function v(O){let E;if(O.lines>o&&O instanceof qp)for(let A of O.children)v(A);else O.lines>a&&(u>a||!u)?(x(),s.push(O)):O instanceof Ps&&u&&(E=g[g.length-1])instanceof Ps&&O.lines+E.lines<=32?(u+=O.lines,d+=O.length+1,g[g.length-1]=new Ps(E.text.concat(O.text),E.length+1+O.length)):(u+O.lines>i&&x(),u+=O.lines,d+=O.length+1,g.push(O))}function x(){u!=0&&(s.push(g.length==1?g[0]:qp.from(g,d)),d=-1,u=g.length=0)}for(let O of e)v(O);return x(),s.length==1?s[0]:new qp(s,n)}}Ai.empty=new Ps([""],0);function B7e(t){let e=-1;for(let n of t)e+=n.length+1;return e}function KP(t,e,n=0,r=1e9){for(let i=0,o=0,a=!0;o<t.length&&i<=r;o++){let s=t[o],u=i+s.length;u>=n&&(u>r&&(s=s.slice(0,r-i)),i<n&&(s=s.slice(n-i)),a?(e[e.length-1]+=s,a=!1):e.push(s)),i=u+1}return e}function aW(t,e,n){return KP(t,[""],e,n)}class LC{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof Ps?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],o=this.offsets[r],a=o>>1,s=i instanceof Ps?i.text.length:i.children.length;if(a==(n>0?s:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof Ps){let u=i.text[a+(n<0?-1:0)];if(this.offsets[r]+=n,u.length>Math.max(0,e))return this.value=e==0?u:n>0?u.slice(e):u.slice(0,u.length-e),this;e-=u.length}else{let u=i.children[a+(n<0?-1:0)];e>u.length?(e-=u.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(u),this.offsets.push(n>0?1:(u instanceof Ps?u.text.length:u.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class Roe{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new LC(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class Ioe{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Ai.prototype[Symbol.iterator]=function(){return this.iter()},LC.prototype[Symbol.iterator]=Roe.prototype[Symbol.iterator]=Ioe.prototype[Symbol.iterator]=function(){return this});let F7e=class{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}};function aO(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}function ya(t,e,n=!0,r=!0){return z7e(t,e,n,r)}function j7e(t){return t>=56320&&t<57344}function V7e(t){return t>=55296&&t<56320}function Jc(t,e){let n=t.charCodeAt(e);if(!V7e(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return j7e(r)?(n-55296<<10)+(r-56320)+65536:n}function V9(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function Wp(t){return t<65536?1:2}const Wz=/\r\n?|\n/;var sl=(function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t})(sl||(sl={}));class cm{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let o=this.sections[n++],a=this.sections[n++];a<0?(e(r,i,o),i+=o):i+=a,r+=o}}iterChangedRanges(e,n=!1){Hz(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new cm(e)}composeDesc(e){return this.empty?e:e.empty?this:Doe(this,e)}mapDesc(e,n=!1){return e.empty?this:Gz(this,e,n)}mapPos(e,n=-1,r=sl.Simple){let i=0,o=0;for(let a=0;a<this.sections.length;){let s=this.sections[a++],u=this.sections[a++],d=i+s;if(u<0){if(d>e)return o+(e-i);o+=s}else{if(r!=sl.Simple&&d>=e&&(r==sl.TrackDel&&i<e&&d>e||r==sl.TrackBefore&&i<e||r==sl.TrackAfter&&d>e))return null;if(d>e||d==e&&n<0&&!s)return e==i||n<0?o:o+u;o+=u}i=d}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return o}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let o=this.sections[r++],a=this.sections[r++],s=i+o;if(a>=0&&i<=n&&s>=e)return i<e&&s>n?"cover":!0;i=s}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new cm(e)}static create(e){return new cm(e)}}class Ws extends cm{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Hz(this,(n,r,i,o,a)=>e=e.replace(i,i+(r-n),a),!1),e}mapDesc(e,n=!1){return Gz(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,o=0;i<n.length;i+=2){let a=n[i],s=n[i+1];if(s>=0){n[i]=s,n[i+1]=a;let u=i>>1;for(;r.length<u;)r.push(Ai.empty);r.push(a?e.slice(o,o+a):Ai.empty)}o+=a}return new Ws(n,r)}compose(e){return this.empty?e:e.empty?this:Doe(this,e,!0)}map(e,n=!1){return e.empty?this:Gz(this,e,n,!0)}iterChanges(e,n=!1){Hz(this,e,n)}get desc(){return cm.create(this.sections)}filter(e){let n=[],r=[],i=[],o=new ET(this);e:for(let a=0,s=0;;){let u=a==e.length?1e9:e[a++];for(;s<u||s==u&&o.len==0;){if(o.done)break e;let g=Math.min(o.len,u-s);Il(i,g,-1);let v=o.ins==-1?-1:o.off==0?o.ins:0;Il(n,g,v),v>0&&R0(r,n,o.text),o.forward(g),s+=g}let d=e[a++];for(;s<d;){if(o.done)break e;let g=Math.min(o.len,d-s);Il(n,g,-1),Il(i,g,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(g),s+=g}}return{changes:new Ws(n,r),filtered:cm.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],o=[],a=0,s=null;function u(g=!1){if(!g&&!i.length)return;a<n&&Il(i,n-a,-1);let v=new Ws(i,o);s=s?s.compose(v.map(s)):v,i=[],o=[],a=0}function d(g){if(Array.isArray(g))for(let v of g)d(v);else if(g instanceof Ws){if(g.length!=n)throw new RangeError(`Mismatched change set length (got ${g.length}, expected ${n})`);u(),s=s?s.compose(g.map(s)):g}else{let{from:v,to:x=v,insert:O}=g;if(v>x||v<0||x>n)throw new RangeError(`Invalid change range ${v} to ${x} (in doc of length ${n})`);let E=O?typeof O=="string"?Ai.of(O.split(r||Wz)):O:Ai.empty,A=E.length;if(v==x&&A==0)return;v<a&&u(),v>a&&Il(i,v-a,-1),Il(i,x-v,A),R0(o,i,E),a=x}}return d(e),u(!s),s}static empty(e){return new Ws(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let o=e[i];if(typeof o=="number")n.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((a,s)=>s&&typeof a!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)n.push(o[0],0);else{for(;r.length<i;)r.push(Ai.empty);r[i]=Ai.of(o.slice(1)),n.push(o[0],r[i].length)}}}return new Ws(n,r)}static createSet(e,n){return new Ws(e,n)}}function Il(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:i>=0&&e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function R0(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(Ai.empty);t.push(n)}}function Hz(t,e,n){let r=t.inserted;for(let i=0,o=0,a=0;a<t.sections.length;){let s=t.sections[a++],u=t.sections[a++];if(u<0)i+=s,o+=s;else{let d=i,g=o,v=Ai.empty;for(;d+=s,g+=u,u&&r&&(v=v.append(r[a-2>>1])),!(n||a==t.sections.length||t.sections[a+1]<0);)s=t.sections[a++],u=t.sections[a++];e(i,d,o,g,v),i=d,o=g}}}function Gz(t,e,n,r=!1){let i=[],o=r?[]:null,a=new ET(t),s=new ET(e);for(let u=-1;;){if(a.done&&s.len||s.done&&a.len)throw new Error("Mismatched change set lengths");if(a.ins==-1&&s.ins==-1){let d=Math.min(a.len,s.len);Il(i,d,-1),a.forward(d),s.forward(d)}else if(s.ins>=0&&(a.ins<0||u==a.i||a.off==0&&(s.len<a.len||s.len==a.len&&!n))){let d=s.len;for(Il(i,s.ins,-1);d;){let g=Math.min(a.len,d);a.ins>=0&&u<a.i&&a.len<=g&&(Il(i,0,a.ins),o&&R0(o,i,a.text),u=a.i),a.forward(g),d-=g}s.next()}else if(a.ins>=0){let d=0,g=a.len;for(;g;)if(s.ins==-1){let v=Math.min(g,s.len);d+=v,g-=v,s.forward(v)}else if(s.ins==0&&s.len<g)g-=s.len,s.next();else break;Il(i,d,u<a.i?a.ins:0),o&&u<a.i&&R0(o,i,a.text),u=a.i,a.forward(a.len-g)}else{if(a.done&&s.done)return o?Ws.createSet(i,o):cm.create(i);throw new Error("Mismatched change set lengths")}}}function Doe(t,e,n=!1){let r=[],i=n?[]:null,o=new ET(t),a=new ET(e);for(let s=!1;;){if(o.done&&a.done)return i?Ws.createSet(r,i):cm.create(r);if(o.ins==0)Il(r,o.len,0,s),o.next();else if(a.len==0&&!a.done)Il(r,0,a.ins,s),i&&R0(i,r,a.text),a.next();else{if(o.done||a.done)throw new Error("Mismatched change set lengths");{let u=Math.min(o.len2,a.len),d=r.length;if(o.ins==-1){let g=a.ins==-1?-1:a.off?0:a.ins;Il(r,u,g,s),i&&g&&R0(i,r,a.text)}else a.ins==-1?(Il(r,o.off?0:o.len,u,s),i&&R0(i,r,o.textBit(u))):(Il(r,o.off?0:o.len,a.off?0:a.ins,s),i&&!a.off&&R0(i,r,a.text));s=(o.ins>u||a.ins>=0&&a.len>u)&&(s||r.length>d),o.forward2(u),a.forward(u)}}}}class ET{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?Ai.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?Ai.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class K_{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new K_(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return jt.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return jt.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return jt.range(e.anchor,e.head)}static create(e,n,r){return new K_(e,n,r)}}class jt{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:jt.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new jt([this.main],0)}addRange(e,n=!0){return jt.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,jt.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new jt(e.ranges.map(n=>K_.fromJSON(n)),e.main)}static single(e,n=e){return new jt([jt.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let o=e[i];if(o.empty?o.from<=r:o.from<r)return jt.normalized(e.slice(),n);r=o.to}return new jt(e,n)}static cursor(e,n=0,r,i){return K_.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,n,r,i){let o=(r??16777215)<<6|(i==null?7:Math.min(6,i));return n<e?K_.create(n,e,48|o):K_.create(e,n,(n>e?8:0)|o)}static normalized(e,n=0){let r=e[n];e.sort((i,o)=>i.from-o.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let o=e[i],a=e[i-1];if(o.empty?o.from<=a.to:o.from<a.to){let s=a.from,u=Math.max(o.to,a.to);i<=n&&n--,e.splice(--i,2,o.anchor>o.head?jt.range(u,s):jt.range(s,u))}}return new jt(e,n)}}function Loe(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let Q9=0;class Mn{constructor(e,n,r,i,o){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=Q9++,this.default=e([]),this.extensions=typeof o=="function"?o(this):o}get reader(){return this}static define(e={}){return new Mn(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:U9),!!e.static,e.enables)}of(e){return new JP([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new JP(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new JP(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function U9(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class JP{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=Q9++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,o=this.id,a=e[o]>>1,s=this.type==2,u=!1,d=!1,g=[];for(let v of this.dependencies)v=="doc"?u=!0:v=="selection"?d=!0:(((n=e[v.id])!==null&&n!==void 0?n:1)&1)==0&&g.push(e[v.id]);return{create(v){return v.values[a]=r(v),1},update(v,x){if(u&&x.docChanged||d&&(x.docChanged||x.selection)||Xz(v,g)){let O=r(v);if(s?!lW(O,v.values[a],i):!i(O,v.values[a]))return v.values[a]=O,1}return 0},reconfigure:(v,x)=>{let O,E=x.config.address[o];if(E!=null){let A=SM(x,E);if(this.dependencies.every(M=>M instanceof Mn?x.facet(M)===v.facet(M):M instanceof Ls?x.field(M,!1)==v.field(M,!1):!0)||(s?lW(O=r(v),A,i):i(O=r(v),A)))return v.values[a]=A,0}else O=r(v);return v.values[a]=O,1}}}}function lW(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function Xz(t,e){let n=!1;for(let r of e)$C(t,r)&1&&(n=!0);return n}function Q7e(t,e,n){let r=n.map(u=>t[u.id]),i=n.map(u=>u.type),o=r.filter(u=>!(u&1)),a=t[e.id]>>1;function s(u){let d=[];for(let g=0;g<r.length;g++){let v=SM(u,r[g]);if(i[g]==2)for(let x of v)d.push(x);else d.push(v)}return e.combine(d)}return{create(u){for(let d of r)$C(u,d);return u.values[a]=s(u),1},update(u,d){if(!Xz(u,o))return 0;let g=s(u);return e.compare(g,u.values[a])?0:(u.values[a]=g,1)},reconfigure(u,d){let g=Xz(u,r),v=d.config.facets[e.id],x=d.facet(e);if(v&&!g&&U9(n,v))return u.values[a]=x,0;let O=s(u);return e.compare(O,x)?(u.values[a]=x,0):(u.values[a]=O,1)}}}const ZA=Mn.define({static:!0});class Ls{constructor(e,n,r,i,o){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=o,this.provides=void 0}static define(e){let n=new Ls(Q9++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(ZA).find(r=>r.field==this);return(n?.create||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let o=r.values[n],a=this.updateF(o,i);return this.compareF(o,a)?0:(r.values[n]=a,1)},reconfigure:(r,i)=>{let o=r.facet(ZA),a=i.facet(ZA),s;return(s=o.find(u=>u.field==this))&&s!=a.find(u=>u.field==this)?(r.values[n]=s.create(r),1):i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}}init(e){return[this,ZA.of({field:this,create:e})]}get extension(){return this}}const V_={lowest:4,low:3,default:2,high:1,highest:0};function B2(t){return e=>new $oe(e,t)}const Nf={highest:B2(V_.highest),high:B2(V_.high),default:B2(V_.default),low:B2(V_.low),lowest:B2(V_.lowest)};class $oe{constructor(e,n){this.inner=e,this.prec=n}}class KO{of(e){return new Yz(this,e)}reconfigure(e){return KO.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Yz{constructor(e,n){this.compartment=e,this.inner=n}}class OM{constructor(e,n,r,i,o,a){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=o,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],o=Object.create(null),a=new Map;for(let x of U7e(e,n,a))x instanceof Ls?i.push(x):(o[x.facet.id]||(o[x.facet.id]=[])).push(x);let s=Object.create(null),u=[],d=[];for(let x of i)s[x.id]=d.length<<1,d.push(O=>x.slot(O));let g=r?.config.facets;for(let x in o){let O=o[x],E=O[0].facet,A=g&&g[x]||[];if(O.every(M=>M.type==0))if(s[E.id]=u.length<<1|1,U9(A,O))u.push(r.facet(E));else{let M=E.combine(O.map(L=>L.value));u.push(r&&E.compare(M,r.facet(E))?r.facet(E):M)}else{for(let M of O)M.type==0?(s[M.id]=u.length<<1|1,u.push(M.value)):(s[M.id]=d.length<<1,d.push(L=>M.dynamicSlot(L)));s[E.id]=d.length<<1,d.push(M=>Q7e(M,E,O))}}let v=d.map(x=>x(s));return new OM(e,a,v,s,u,o)}}function U7e(t,e,n){let r=[[],[],[],[],[]],i=new Map;function o(a,s){let u=i.get(a);if(u!=null){if(u<=s)return;let d=r[u].indexOf(a);d>-1&&r[u].splice(d,1),a instanceof Yz&&n.delete(a.compartment)}if(i.set(a,s),Array.isArray(a))for(let d of a)o(d,s);else if(a instanceof Yz){if(n.has(a.compartment))throw new RangeError("Duplicate use of compartment in extensions");let d=e.get(a.compartment)||a.inner;n.set(a.compartment,d),o(d,s)}else if(a instanceof $oe)o(a.inner,a.prec);else if(a instanceof Ls)r[s].push(a),a.provides&&o(a.provides,s);else if(a instanceof JP)r[s].push(a),a.facet.extensions&&o(a.facet.extensions,V_.default);else{let d=a.extension;if(!d)throw new Error(`Unrecognized extension value in extension set (${a}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(d,s)}}return o(t,V_.default),r.reduce((a,s)=>a.concat(s))}function $C(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function SM(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const zoe=Mn.define(),Kz=Mn.define({combine:t=>t.some(e=>e),static:!0}),Noe=Mn.define({combine:t=>t.length?t[0]:void 0,static:!0}),Boe=Mn.define(),Foe=Mn.define(),joe=Mn.define(),Voe=Mn.define({combine:t=>t.length?t[0]:!1});class gy{constructor(e,n){this.type=e,this.value=n}static define(){return new Z7e}}class Z7e{of(e){return new gy(this,e)}}class q7e{constructor(e){this.map=e}of(e){return new pr(this,e)}}class pr{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new pr(this.type,n)}is(e){return this.type==e}static define(e={}){return new q7e(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let o=i.map(n);o&&r.push(o)}return r}}pr.reconfigure=pr.define();pr.appendConfig=pr.define();class Js{constructor(e,n,r,i,o,a){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=o,this.scrollIntoView=a,this._doc=null,this._state=null,r&&Loe(r,n.newLength),o.some(s=>s.type==Js.time)||(this.annotations=o.concat(Js.time.of(Date.now())))}static create(e,n,r,i,o,a){return new Js(e,n,r,i,o,a)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(Js.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}Js.time=gy.define();Js.userEvent=gy.define();Js.addToHistory=gy.define();Js.remote=gy.define();function W7e(t,e){let n=[];for(let r=0,i=0;;){let o,a;if(r<t.length&&(i==e.length||e[i]>=t[r]))o=t[r++],a=t[r++];else if(i<e.length)o=e[i++],a=e[i++];else return n;!n.length||n[n.length-1]<o?n.push(o,a):n[n.length-1]<a&&(n[n.length-1]=a)}}function Qoe(t,e,n){var r;let i,o,a;return n?(i=e.changes,o=Ws.empty(e.changes.length),a=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),o=t.changes.mapDesc(e.changes,!0),a=t.changes.compose(i)),{changes:a,selection:e.selection?e.selection.map(o):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:pr.mapEffects(t.effects,i).concat(pr.mapEffects(e.effects,o)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function Jz(t,e,n){let r=e.selection,i=Sw(e.annotations);return e.userEvent&&(i=i.concat(Js.userEvent.of(e.userEvent))),{changes:e.changes instanceof Ws?e.changes:Ws.of(e.changes||[],n,t.facet(Noe)),selection:r&&(r instanceof jt?r:jt.single(r.anchor,r.head)),effects:Sw(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function Uoe(t,e,n){let r=Jz(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(n=!1);let a=!!e[o].sequential;r=Qoe(r,Jz(t,e[o],a?r.changes.newLength:t.doc.length),a)}let i=Js.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return G7e(n?H7e(i):i)}function H7e(t){let e=t.startState,n=!0;for(let i of e.facet(Boe)){let o=i(t);if(o===!1){n=!1;break}Array.isArray(o)&&(n=n===!0?o:W7e(n,o))}if(n!==!0){let i,o;if(n===!1)o=t.changes.invertedDesc,i=Ws.empty(e.doc.length);else{let a=t.changes.filter(n);i=a.changes,o=a.filtered.mapDesc(a.changes).invertedDesc}t=Js.create(e,i,t.selection&&t.selection.map(o),pr.mapEffects(t.effects,o),t.annotations,t.scrollIntoView)}let r=e.facet(Foe);for(let i=r.length-1;i>=0;i--){let o=r[i](t);o instanceof Js?t=o:Array.isArray(o)&&o.length==1&&o[0]instanceof Js?t=o[0]:t=Uoe(e,Sw(o),!1)}return t}function G7e(t){let e=t.startState,n=e.facet(joe),r=t;for(let i=n.length-1;i>=0;i--){let o=n[i](t);o&&Object.keys(o).length&&(r=Qoe(r,Jz(e,o,t.changes.newLength),!0))}return r==t?t:Js.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const X7e=[];function Sw(t){return t==null?X7e:Array.isArray(t)?t:[t]}var Ho=(function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t})(Ho||(Ho={}));const Y7e=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let e6;try{e6=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function K7e(t){if(e6)return e6.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||Y7e.test(n)))return!0}return!1}function J7e(t){return e=>{if(!/\S/.test(e))return Ho.Space;if(K7e(e))return Ho.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return Ho.Word;return Ho.Other}}class Rr{constructor(e,n,r,i,o,a){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=o,a&&(a._state=this);for(let s=0;s<this.config.dynamicSlots.length;s++)$C(this,s<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return $C(this,r),SM(this,r)}update(...e){return Uoe(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let s of e.effects)s.is(KO.reconfigure)?(n&&(i=new Map,n.compartments.forEach((u,d)=>i.set(d,u)),n=null),i.set(s.value.compartment,s.value.extension)):s.is(pr.reconfigure)?(n=null,r=s.value):s.is(pr.appendConfig)&&(n=null,r=Sw(r).concat(s.value));let o;n?o=e.startState.values.slice():(n=OM.resolve(r,i,this),o=new Rr(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(u,d)=>d.reconfigure(u,this),null).values);let a=e.startState.facet(Kz)?e.newSelection:e.newSelection.asSingle();new Rr(n,e.newDoc,a,o,(s,u)=>u.update(s,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:jt.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),o=[r.range],a=Sw(r.effects);for(let s=1;s<n.ranges.length;s++){let u=e(n.ranges[s]),d=this.changes(u.changes),g=d.map(i);for(let x=0;x<s;x++)o[x]=o[x].map(g);let v=i.mapDesc(d,!0);o.push(u.range.map(v)),i=i.compose(g),a=pr.mapEffects(a,g).concat(pr.mapEffects(Sw(u.effects),v))}return{changes:i,selection:jt.create(o,n.mainIndex),effects:a}}changes(e=[]){return e instanceof Ws?e:Ws.of(e,this.doc.length,this.facet(Rr.lineSeparator))}toText(e){return Ai.of(e.split(this.facet(Rr.lineSeparator)||Wz))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:($C(this,n),SM(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof Ls&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let o in r)if(Object.prototype.hasOwnProperty.call(e,o)){let a=r[o],s=e[o];i.push(a.init(u=>a.spec.fromJSON(s,u)))}}return Rr.create({doc:e.doc,selection:jt.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=OM.resolve(e.extensions||[],new Map),r=e.doc instanceof Ai?e.doc:Ai.of((e.doc||"").split(n.staticFacet(Rr.lineSeparator)||Wz)),i=e.selection?e.selection instanceof jt?e.selection:jt.single(e.selection.anchor,e.selection.head):jt.single(0);return Loe(i,r.length),n.staticFacet(Kz)||(i=i.asSingle()),new Rr(n,r,i,n.dynamicSlots.map(()=>null),(o,a)=>a.create(o),null)}get tabSize(){return this.facet(Rr.tabSize)}get lineBreak(){return this.facet(Rr.lineSeparator)||`
`}get readOnly(){return this.facet(Voe)}phrase(e,...n){for(let r of this.facet(Rr.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let o=+(i||1);return!o||o>n.length?r:n[o-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let o of this.facet(zoe))for(let a of o(this,n,r))Object.prototype.hasOwnProperty.call(a,e)&&i.push(a[e]);return i}charCategorizer(e){let n=this.languageDataAt("wordChars",e);return J7e(n.length?n[0]:"")}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),o=this.charCategorizer(e),a=e-r,s=e-r;for(;a>0;){let u=ya(n,a,!1);if(o(n.slice(u,a))!=Ho.Word)break;a=u}for(;s<i;){let u=ya(n,s);if(o(n.slice(s,u))!=Ho.Word)break;s=u}return a==s?null:jt.range(a+r,s+r)}}Rr.allowMultipleSelections=Kz;Rr.tabSize=Mn.define({combine:t=>t.length?t[0]:4});Rr.lineSeparator=Noe;Rr.readOnly=Voe;Rr.phrases=Mn.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});Rr.languageData=zoe;Rr.changeFilter=Boe;Rr.transactionFilter=Foe;Rr.transactionExtender=joe;KO.reconfigure=pr.define();function Om(t,e,n={}){let r={};for(let i of t)for(let o of Object.keys(i)){let a=i[o],s=r[o];if(s===void 0)r[o]=a;else if(!(s===a||a===void 0))if(Object.hasOwnProperty.call(n,o))r[o]=n[o](s,a);else throw new Error("Config merge conflict for field "+o)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class X0{eq(e){return this==e}range(e,n=e){return t6.create(e,n,this)}}X0.prototype.startSide=X0.prototype.endSide=0;X0.prototype.point=!1;X0.prototype.mapMode=sl.TrackDel;function Z9(t,e){return t==e||t.constructor==e.constructor&&t.eq(e)}let t6=class Zoe{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new Zoe(e,n,r)}};function n6(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}let eje=class qoe{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let o=r?this.to:this.from;for(let a=i,s=o.length;;){if(a==s)return a;let u=a+s>>1,d=o[u]-e||(r?this.value[u].endSide:this.value[u].startSide)-n;if(u==a)return d>=0?a:s;d>=0?s=u:a=u+1}}between(e,n,r,i){for(let o=this.findIndex(n,-1e9,!0),a=this.findIndex(r,1e9,!1,o);o<a;o++)if(i(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,n){let r=[],i=[],o=[],a=-1,s=-1;for(let u=0;u<this.value.length;u++){let d=this.value[u],g=this.from[u]+e,v=this.to[u]+e,x,O;if(g==v){let E=n.mapPos(g,d.startSide,d.mapMode);if(E==null||(x=O=E,d.startSide!=d.endSide&&(O=n.mapPos(g,d.endSide),O<x)))continue}else if(x=n.mapPos(g,d.startSide),O=n.mapPos(v,d.endSide),x>O||x==O&&d.startSide>0&&d.endSide<=0)continue;(O-x||d.endSide-d.startSide)<0||(a<0&&(a=x),d.point&&(s=Math.max(s,O-x)),r.push(d),i.push(x-a),o.push(O-a))}return{mapped:r.length?new qoe(i,o,r,s):null,pos:a}}};class Hr{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new Hr(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:o=this.length}=e,a=e.filter;if(n.length==0&&!a)return this;if(r&&(n=n.slice().sort(n6)),this.isEmpty)return n.length?Hr.of(n):this;let s=new Woe(this,null,-1).goto(0),u=0,d=[],g=new hu;for(;s.value||u<n.length;)if(u<n.length&&(s.from-n[u].from||s.startSide-n[u].value.startSide)>=0){let v=n[u++];g.addInner(v.from,v.to,v.value)||d.push(v)}else s.rangeIndex==1&&s.chunkIndex<this.chunk.length&&(u==n.length||this.chunkEnd(s.chunkIndex)<n[u].from)&&(!a||i>this.chunkEnd(s.chunkIndex)||o<this.chunkPos[s.chunkIndex])&&g.addChunk(this.chunkPos[s.chunkIndex],this.chunk[s.chunkIndex])?s.nextChunk():((!a||i>s.to||o<s.from||a(s.from,s.to,s.value))&&(g.addInner(s.from,s.to,s.value)||d.push(t6.create(s.from,s.to,s.value))),s.next());return g.finishInner(this.nextLayer.isEmpty&&!d.length?Hr.empty:this.nextLayer.update({add:d,filter:a,filterFrom:i,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let a=0;a<this.chunk.length;a++){let s=this.chunkPos[a],u=this.chunk[a],d=e.touchesRange(s,s+u.length);if(d===!1)i=Math.max(i,u.maxPoint),n.push(u),r.push(e.mapPos(s));else if(d===!0){let{mapped:g,pos:v}=u.map(s,e);g&&(i=Math.max(i,g.maxPoint),n.push(g),r.push(v))}}let o=this.nextLayer.map(e);return n.length==0?o:new Hr(r,n,o||Hr.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],a=this.chunk[i];if(n>=o&&e<=o+a.length&&a.between(o,e-o,n-o,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return AT.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return AT.from(e).goto(n)}static compare(e,n,r,i,o=-1){let a=e.filter(v=>v.maxPoint>0||!v.isEmpty&&v.maxPoint>=o),s=n.filter(v=>v.maxPoint>0||!v.isEmpty&&v.maxPoint>=o),u=cW(a,s,r),d=new F2(a,u,o),g=new F2(s,u,o);r.iterGaps((v,x,O)=>uW(d,v,g,x,O,i)),r.empty&&r.length==0&&uW(d,0,g,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=999999999);let o=e.filter(g=>!g.isEmpty&&n.indexOf(g)<0),a=n.filter(g=>!g.isEmpty&&e.indexOf(g)<0);if(o.length!=a.length)return!1;if(!o.length)return!0;let s=cW(o,a),u=new F2(o,s,0).goto(r),d=new F2(a,s,0).goto(r);for(;;){if(u.to!=d.to||!r6(u.active,d.active)||u.point&&(!d.point||!Z9(u.point,d.point)))return!1;if(u.to>i)return!0;u.next(),d.next()}}static spans(e,n,r,i,o=-1){let a=new F2(e,null,o).goto(n),s=n,u=a.openStart;for(;;){let d=Math.min(a.to,r);if(a.point){let g=a.activeForPoint(a.to),v=a.pointFrom<n?g.length+1:a.point.startSide<0?g.length:Math.min(g.length,u);i.point(s,d,a.point,g,v,a.pointRank),u=Math.min(a.openEnd(d),g.length)}else d>s&&(i.span(s,d,a.active,u),u=a.openEnd(d));if(a.to>r)return u+(a.point&&a.to>r?1:0);s=a.to,a.next()}}static of(e,n=!1){let r=new hu;for(let i of e instanceof t6?[e]:n?tje(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return Hr.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=Hr.empty;i=i.nextLayer)n=new Hr(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}}Hr.empty=new Hr([],[],null,-1);function tje(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(n6(e,r)>0)return t.slice().sort(n6);e=r}return t}Hr.empty.nextLayer=Hr.empty;class hu{finishChunk(e){this.chunks.push(new eje(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new hu)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(Hr.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=Hr.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function cW(t,e,n){let r=new Map;for(let o of t)for(let a=0;a<o.chunk.length;a++)o.chunk[a].maxPoint<=0&&r.set(o.chunk[a],o.chunkPos[a]);let i=new Set;for(let o of e)for(let a=0;a<o.chunk.length;a++){let s=r.get(o.chunk[a]);s!=null&&(n?n.mapPos(s):s)==o.chunkPos[a]&&!n?.touchesRange(s,s+o.chunk[a].length)&&i.add(o.chunk[a])}return i}class Woe{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class AT{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let o=0;o<e.length;o++)for(let a=e[o];!a.isEmpty;a=a.nextLayer)a.maxPoint>=r&&i.push(new Woe(a,n,r,o));return i.length==1?i[0]:new AT(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)xL(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)xL(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),xL(this.heap,0)}}}function xL(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class F2{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=AT.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){qA(this.active,e),qA(this.activeTo,e),qA(this.activeRank,e),this.minActive=hW(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:o}=this.cursor;for(;n<this.activeRank.length&&(o-this.activeRank[n]||i-this.activeTo[n])>0;)n++;WA(this.active,n,r),WA(this.activeTo,n,i),WA(this.activeRank,n,o),e&&WA(e,n,this.cursor.from),this.minActive=hW(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&qA(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function uW(t,e,n,r,i,o){t.goto(e),n.goto(r);let a=r+i,s=r,u=r-e,d=!!o.boundChange;for(let g=!1;;){let v=t.to+u-n.to,x=v||t.endSide-n.endSide,O=x<0?t.to+u:n.to,E=Math.min(O,a);if(t.point||n.point?(t.point&&n.point&&Z9(t.point,n.point)&&r6(t.activeForPoint(t.to),n.activeForPoint(n.to))||o.comparePoint(s,E,t.point,n.point),g=!1):(g&&o.boundChange(s),E>s&&!r6(t.active,n.active)&&o.compareRange(s,E,t.active,n.active),d&&E<a&&(v||t.openEnd(O)!=n.openEnd(O))&&(g=!0)),O>a)break;s=O,x<=0&&t.next(),x>=0&&n.next()}}function r6(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!Z9(t[n],e[n]))return!1;return!0}function qA(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function WA(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function hW(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function Mf(t,e,n=t.length){let r=0;for(let i=0;i<n&&i<t.length;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=ya(t,i));return r}function i6(t,e,n,r){for(let i=0,o=0;;){if(o>=e)return i;if(i==t.length)break;o+=t.charCodeAt(i)==9?n-o%n:1,i=ya(t,i)}return r===!0?-1:t.length}const o6="",dW=typeof Symbol>"u"?"__"+o6:Symbol.for(o6),s6=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),fW=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class sy{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(a){return/^@/.test(a)?[a]:a.split(/,\s*/)}function o(a,s,u,d){let g=[],v=/^@(\w+)\b/.exec(a[0]),x=v&&v[1]=="keyframes";if(v&&s==null)return u.push(a[0]+";");for(let O in s){let E=s[O];if(/&/.test(O))o(O.split(/,\s*/).map(A=>a.map(M=>A.replace(/&/,M))).reduce((A,M)=>A.concat(M)),E,u);else if(E&&typeof E=="object"){if(!v)throw new RangeError("The value of a property ("+O+") should be a primitive value.");o(i(O),E,g,x)}else E!=null&&g.push(O.replace(/_.*/,"").replace(/[A-Z]/g,A=>"-"+A.toLowerCase())+": "+E+";")}(g.length||x)&&u.push((r&&!v&&!d?a.map(r):a).join(", ")+" {"+g.join(" ")+"}")}for(let a in e)o(i(a),e[a],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=fW[dW]||1;return fW[dW]=e+1,o6+e.toString(36)}static mount(e,n,r){let i=e[s6],o=r&&r.nonce;i?o&&i.setNonce(o):i=new nje(e,o),i.mount(Array.isArray(n)?n:[n],e)}}let pW=new Map;class nje{constructor(e,n){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let o=pW.get(r);if(o)return e[s6]=o;this.sheet=new i.CSSStyleSheet,pW.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[s6]=this}mount(e,n){let r=this.sheet,i=0,o=0;for(let a=0;a<e.length;a++){let s=e[a],u=this.modules.indexOf(s);if(u<o&&u>-1&&(this.modules.splice(u,1),o--,u=-1),u==-1){if(this.modules.splice(o++,0,s),r)for(let d=0;d<s.rules.length;d++)r.insertRule(s.rules[d],i++)}else{for(;o<u;)i+=this.modules[o++].rules.length;i+=s.rules.length,o++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let a="";for(let u=0;u<this.modules.length;u++)a+=this.modules[u].getRules()+`
`;this.styleTag.textContent=a;let s=n.head||n;this.styleTag.parentNode!=s&&s.insertBefore(this.styleTag,s.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Y0={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},PT={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},rje=typeof navigator<"u"&&/Mac/.test(navigator.platform),ije=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var ol=0;ol<10;ol++)Y0[48+ol]=Y0[96+ol]=String(ol);for(var ol=1;ol<=24;ol++)Y0[ol+111]="F"+ol;for(var ol=65;ol<=90;ol++)Y0[ol]=String.fromCharCode(ol+32),PT[ol]=String.fromCharCode(ol);for(var bL in Y0)PT.hasOwnProperty(bL)||(PT[bL]=Y0[bL]);function oje(t){var e=rje&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||ije&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?PT:Y0)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function go(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?t.setAttribute(r,i):i!=null&&(t[r]=i)}e++}for(;e<arguments.length;e++)Hoe(t,arguments[e]);return t}function Hoe(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)Hoe(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}let cc=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},a6=typeof document<"u"?document:{documentElement:{style:{}}};const l6=/Edge\/(\d+)/.exec(cc.userAgent),Goe=/MSIE \d/.test(cc.userAgent),c6=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(cc.userAgent),VI=!!(Goe||c6||l6),mW=!VI&&/gecko\/(\d+)/i.test(cc.userAgent),wL=!VI&&/Chrome\/(\d+)/.exec(cc.userAgent),sje="webkitFontSmoothing"in a6.documentElement.style,u6=!VI&&/Apple Computer/.test(cc.vendor),gW=u6&&(/Mobile\/\w+/.test(cc.userAgent)||cc.maxTouchPoints>2);var In={mac:gW||/Mac/.test(cc.platform),windows:/Win/.test(cc.platform),linux:/Linux|X11/.test(cc.platform),ie:VI,ie_version:Goe?a6.documentMode||6:c6?+c6[1]:l6?+l6[1]:0,gecko:mW,gecko_version:mW?+(/Firefox\/(\d+)/.exec(cc.userAgent)||[0,0])[1]:0,chrome:!!wL,chrome_version:wL?+wL[1]:0,ios:gW,android:/Android\b/.test(cc.userAgent),webkit_version:sje?+(/\bAppleWebKit\/(\d+)/.exec(cc.userAgent)||[0,0])[1]:0,safari:u6,safari_version:u6?+(/\bVersion\/(\d+(\.\d+)?)/.exec(cc.userAgent)||[0,0])[1]:0,tabSize:a6.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function q9(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const CM=Object.create(null);function W9(t,e,n){if(t==e)return!0;t||(t=CM),e||(e=CM);let r=Object.keys(t),i=Object.keys(e);if(r.length-0!=i.length-0)return!1;for(let o of r)if(o!=n&&(i.indexOf(o)==-1||t[o]!==e[o]))return!1;return!0}function aje(t,e){for(let n=t.attributes.length-1;n>=0;n--){let r=t.attributes[n].name;e[r]==null&&t.removeAttribute(r)}for(let n in e){let r=e[n];n=="style"?t.style.cssText=r:t.getAttribute(n)!=r&&t.setAttribute(n,r)}}function yW(t,e,n){let r=!1;if(e)for(let i in e)n&&i in n||(r=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(n)for(let i in n)e&&e[i]==n[i]||(r=!0,i=="style"?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function lje(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class md{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var ll=(function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t})(ll||(ll={}));class Bn extends X0{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new Uk(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new Ix(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:o,end:a}=Xoe(e,n);r=(o?n?-3e8:-1:5e8)-1,i=(a?n?2e8:1:-6e8)+1}return new Ix(e,r,i,n,e.widget||null,!0)}static line(e){return new Zk(e)}static set(e,n=!1){return Hr.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Bn.none=Hr.empty;class Uk extends Bn{constructor(e){let{start:n,end:r}=Xoe(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.attrs=e.class&&e.attributes?q9(e.attributes,{class:e.class}):e.class?{class:e.class}:e.attributes||CM}eq(e){return this==e||e instanceof Uk&&this.tagName==e.tagName&&W9(this.attrs,e.attrs)}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}Uk.prototype.point=!1;class Zk extends Bn{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Zk&&this.spec.class==e.spec.class&&W9(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}Zk.prototype.mapMode=sl.TrackBefore;Zk.prototype.point=!0;class Ix extends Bn{constructor(e,n,r,i,o,a){super(n,r,o,e),this.block=i,this.isReplace=a,this.mapMode=i?n<=0?sl.TrackBefore:sl.TrackAfter:sl.TrackDel}get type(){return this.startSide!=this.endSide?ll.WidgetRange:this.startSide<=0?ll.WidgetBefore:ll.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Ix&&cje(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}Ix.prototype.point=!0;function Xoe(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function cje(t,e){return t==e||!!(t&&e&&t.compare(e))}function Cw(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class MT extends X0{constructor(e,n){super(),this.tagName=e,this.attributes=n}eq(e){return e==this||e instanceof MT&&this.tagName==e.tagName&&W9(this.attributes,e.attributes)}static create(e){return new MT(e.tagName,e.attributes||CM)}static set(e,n=!1){return Hr.of(e,n)}}MT.prototype.startSide=MT.prototype.endSide=-1;function RT(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function h6(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function e5(t,e){if(!e.anchorNode)return!1;try{return h6(t,e.anchorNode)}catch{return!1}}function t5(t){return t.nodeType==3?IT(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function zC(t,e,n,r){return n?vW(t,e,n,r,-1)||vW(t,e,n,r,1):!1}function K0(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function TM(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function vW(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:ay(t))){if(t.nodeName=="DIV")return!1;let o=t.parentNode;if(!o||o.nodeType!=1)return!1;e=K0(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?ay(t):0}else return!1}}function ay(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function kM(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function uje(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function Yoe(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function hje(t,e,n,r,i,o,a,s){let u=t.ownerDocument,d=u.defaultView||window;for(let g=t,v=!1;g&&!v;)if(g.nodeType==1){let x,O=g==u.body,E=1,A=1;if(O)x=uje(d);else{if(/^(fixed|sticky)$/.test(getComputedStyle(g).position)&&(v=!0),g.scrollHeight<=g.clientHeight&&g.scrollWidth<=g.clientWidth){g=g.assignedSlot||g.parentNode;continue}let $=g.getBoundingClientRect();({scaleX:E,scaleY:A}=Yoe(g,$)),x={left:$.left,right:$.left+g.clientWidth*E,top:$.top,bottom:$.top+g.clientHeight*A}}let M=0,L=0;if(i=="nearest")e.top<x.top?(L=e.top-(x.top+a),n>0&&e.bottom>x.bottom+L&&(L=e.bottom-x.bottom+a)):e.bottom>x.bottom&&(L=e.bottom-x.bottom+a,n<0&&e.top-L<x.top&&(L=e.top-(x.top+a)));else{let $=e.bottom-e.top,N=x.bottom-x.top;L=(i=="center"&&$<=N?e.top+$/2-N/2:i=="start"||i=="center"&&n<0?e.top-a:e.bottom-N+a)-x.top}if(r=="nearest"?e.left<x.left?(M=e.left-(x.left+o),n>0&&e.right>x.right+M&&(M=e.right-x.right+o)):e.right>x.right&&(M=e.right-x.right+o,n<0&&e.left<x.left+M&&(M=e.left-(x.left+o))):M=(r=="center"?e.left+(e.right-e.left)/2-(x.right-x.left)/2:r=="start"==s?e.left-o:e.right-(x.right-x.left)+o)-x.left,M||L)if(O)d.scrollBy(M,L);else{let $=0,N=0;if(L){let F=g.scrollTop;g.scrollTop+=L/A,N=(g.scrollTop-F)*A}if(M){let F=g.scrollLeft;g.scrollLeft+=M/E,$=(g.scrollLeft-F)*E}e={left:e.left-$,top:e.top-N,right:e.right-$,bottom:e.bottom-N},$&&Math.abs($-M)<1&&(r="nearest"),N&&Math.abs(N-L)<1&&(i="nearest")}if(O)break;(e.top<x.top||e.bottom>x.bottom||e.left<x.left||e.right>x.right)&&(e={left:Math.max(e.left,x.left),right:Math.min(e.right,x.right),top:Math.max(e.top,x.top),bottom:Math.min(e.bottom,x.bottom)}),g=g.assignedSlot||g.parentNode}else if(g.nodeType==11)g=g.host;else break}function dje(t){let e=t.ownerDocument,n,r;for(let i=t.parentNode;i&&!(i==e.body||n&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!n&&i.scrollWidth>i.clientWidth&&(n=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:n,y:r}}class fje{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?ay(n):0),r,Math.min(e.focusOffset,r?ay(r):0))}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let z_=null;In.safari&&In.safari_version>=26&&(z_=!1);function Koe(t){if(t.setActive)return t.setActive();if(z_)return t.focus(z_);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(z_==null?{get preventScroll(){return z_={preventScroll:!0},!0}}:void 0),!z_){z_=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],o=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=o&&(r.scrollLeft=o)}}}let _W;function IT(t,e,n=e){let r=_W||(_W=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function Tw(t,e,n,r){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let o=new KeyboardEvent("keydown",i);o.synthetic=!0,t.dispatchEvent(o);let a=new KeyboardEvent("keyup",i);return a.synthetic=!0,t.dispatchEvent(a),o.defaultPrevented||a.defaultPrevented}function pje(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function mje(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,ay(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=ay(n))}else{if(n==t)return!0;r=K0(n),n=n.parentNode}}function Joe(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function ese(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=ay(n)}else if(n.parentNode&&!TM(n))r=K0(n),n=n.parentNode;else return null}}function tse(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!TM(n))r=K0(n)+1,n=n.parentNode;else return null}}class xf{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new xf(e.parentNode,K0(e),n)}static after(e,n){return new xf(e.parentNode,K0(e)+1,n)}}var _o=(function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t})(_o||(_o={}));const Dx=_o.LTR,H9=_o.RTL;function nse(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const gje=nse("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),yje=nse("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),d6=Object.create(null),Rp=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);d6[e]=n,d6[n]=-e}function rse(t){return t<=247?gje[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?yje[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const vje=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Vg{get dir(){return this.level%2?H9:Dx}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,i){let o=-1;for(let a=0;a<e.length;a++){let s=e[a];if(s.from<=n&&s.to>=n){if(s.level==r)return a;(o<0||(i!=0?i<0?s.from<n:s.to>n:e[o].level>s.level))&&(o=a)}}if(o<0)throw new RangeError("Index out of range");return o}}function ise(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!ise(r.inner,i.inner))return!1}return!0}const yo=[];function _je(t,e,n,r,i){for(let o=0;o<=r.length;o++){let a=o?r[o-1].to:e,s=o<r.length?r[o].from:n,u=o?256:i;for(let d=a,g=u,v=u;d<s;d++){let x=rse(t.charCodeAt(d));x==512?x=g:x==8&&v==4&&(x=16),yo[d]=x==4?2:x,x&7&&(v=x),g=x}for(let d=a,g=u,v=u;d<s;d++){let x=yo[d];if(x==128)d<s-1&&g==yo[d+1]&&g&24?x=yo[d]=g:yo[d]=256;else if(x==64){let O=d+1;for(;O<s&&yo[O]==64;)O++;let E=d&&g==8||O<n&&yo[O]==8?v==1?1:8:256;for(let A=d;A<O;A++)yo[A]=E;d=O-1}else x==8&&v==1&&(yo[d]=1);g=x,x&7&&(v=x)}}}function xje(t,e,n,r,i){let o=i==1?2:1;for(let a=0,s=0,u=0;a<=r.length;a++){let d=a?r[a-1].to:e,g=a<r.length?r[a].from:n;for(let v=d,x,O,E;v<g;v++)if(O=d6[x=t.charCodeAt(v)])if(O<0){for(let A=s-3;A>=0;A-=3)if(Rp[A+1]==-O){let M=Rp[A+2],L=M&2?i:M&4?M&1?o:i:0;L&&(yo[v]=yo[Rp[A]]=L),s=A;break}}else{if(Rp.length==189)break;Rp[s++]=v,Rp[s++]=x,Rp[s++]=u}else if((E=yo[v])==2||E==1){let A=E==i;u=A?0:1;for(let M=s-3;M>=0;M-=3){let L=Rp[M+2];if(L&2)break;if(A)Rp[M+2]|=2;else{if(L&4)break;Rp[M+2]|=4}}}}}function bje(t,e,n,r){for(let i=0,o=r;i<=n.length;i++){let a=i?n[i-1].to:t,s=i<n.length?n[i].from:e;for(let u=a;u<s;){let d=yo[u];if(d==256){let g=u+1;for(;;)if(g==s){if(i==n.length)break;g=n[i++].to,s=i<n.length?n[i].from:e}else if(yo[g]==256)g++;else break;let v=o==1,x=(g<e?yo[g]:r)==1,O=v==x?v?1:2:r;for(let E=g,A=i,M=A?n[A-1].to:t;E>u;)E==M&&(E=n[--A].from,M=A?n[A-1].to:t),yo[--E]=O;u=g}else o=d,u++}}}function f6(t,e,n,r,i,o,a){let s=r%2?2:1;if(r%2==i%2)for(let u=e,d=0;u<n;){let g=!0,v=!1;if(d==o.length||u<o[d].from){let A=yo[u];A!=s&&(g=!1,v=A==16)}let x=!g&&s==1?[]:null,O=g?r:r+1,E=u;e:for(;;)if(d<o.length&&E==o[d].from){if(v)break e;let A=o[d];if(!g)for(let M=A.to,L=d+1;;){if(M==n)break e;if(L<o.length&&o[L].from==M)M=o[L++].to;else{if(yo[M]==s)break e;break}}if(d++,x)x.push(A);else{A.from>u&&a.push(new Vg(u,A.from,O));let M=A.direction==Dx!=!(O%2);p6(t,M?r+1:r,i,A.inner,A.from,A.to,a),u=A.to}E=A.to}else{if(E==n||(g?yo[E]!=s:yo[E]==s))break;E++}x?f6(t,u,E,r+1,i,x,a):u<E&&a.push(new Vg(u,E,O)),u=E}else for(let u=n,d=o.length;u>e;){let g=!0,v=!1;if(!d||u>o[d-1].to){let A=yo[u-1];A!=s&&(g=!1,v=A==16)}let x=!g&&s==1?[]:null,O=g?r:r+1,E=u;e:for(;;)if(d&&E==o[d-1].to){if(v)break e;let A=o[--d];if(!g)for(let M=A.from,L=d;;){if(M==e)break e;if(L&&o[L-1].to==M)M=o[--L].from;else{if(yo[M-1]==s)break e;break}}if(x)x.push(A);else{A.to<u&&a.push(new Vg(A.to,u,O));let M=A.direction==Dx!=!(O%2);p6(t,M?r+1:r,i,A.inner,A.from,A.to,a),u=A.from}E=A.from}else{if(E==e||(g?yo[E-1]!=s:yo[E-1]==s))break;E--}x?f6(t,E,u,r+1,i,x,a):E<u&&a.push(new Vg(E,u,O)),u=E}}function p6(t,e,n,r,i,o,a){let s=e%2?2:1;_je(t,i,o,r,s),xje(t,i,o,r,s),bje(i,o,r,s),f6(t,i,o,e,n,r,a)}function wje(t,e,n){if(!t)return[new Vg(0,0,e==H9?1:0)];if(e==Dx&&!n.length&&!vje.test(t))return ose(t.length);if(n.length)for(;t.length>yo.length;)yo[yo.length]=256;let r=[],i=e==Dx?0:1;return p6(t,i,i,n,0,t.length,r),r}function ose(t){return[new Vg(0,t,0)]}let sse="";function Oje(t,e,n,r,i){var o;let a=r.head-t.from,s=Vg.find(e,a,(o=r.bidiLevel)!==null&&o!==void 0?o:-1,r.assoc),u=e[s],d=u.side(i,n);if(a==d){let x=s+=i?1:-1;if(x<0||x>=e.length)return null;u=e[s=x],a=u.side(!i,n),d=u.side(i,n)}let g=ya(t.text,a,u.forward(i,n));(g<u.from||g>u.to)&&(g=d),sse=t.text.slice(Math.min(a,g),Math.max(a,g));let v=s==(i?e.length-1:0)?null:e[s+(i?1:-1)];return v&&g==d&&v.level+(i?0:1)<u.level?jt.cursor(v.side(!i,n)+t.from,v.forward(i,n)?1:-1,v.level):jt.cursor(g+t.from,u.forward(i,n)?-1:1,u.level)}function Sje(t,e,n){for(let r=e;r<n;r++){let i=rse(t.charCodeAt(r));if(i==1)return Dx;if(i==2||i==4)return H9}return Dx}const ase=Mn.define(),lse=Mn.define(),cse=Mn.define(),use=Mn.define(),m6=Mn.define(),hse=Mn.define(),dse=Mn.define(),G9=Mn.define(),X9=Mn.define(),fse=Mn.define({combine:t=>t.some(e=>e)}),pse=Mn.define({combine:t=>t.some(e=>e)}),mse=Mn.define();class kw{constructor(e,n="nearest",r="nearest",i=5,o=5,a=!1){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=o,this.isSnapshot=a}map(e){return e.empty?this:new kw(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new kw(jt.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const HA=pr.define({map:(t,e)=>t.map(e)}),gse=pr.define();function iu(t,e,n){let r=t.facet(use);r.length?r[0](e):window.onerror&&window.onerror(String(e),n,void 0,void 0,e)||(n?console.error(n+":",e):console.error(e))}const Ng=Mn.define({combine:t=>t.length?t[0]:!0});let Cje=0;const aw=Mn.define({combine(t){return t.filter((e,n)=>{for(let r=0;r<n;r++)if(t[r].plugin==e.plugin)return!1;return!0})}});class Rs{constructor(e,n,r,i,o){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.baseExtensions=o(this),this.extension=this.baseExtensions.concat(aw.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(aw.of({plugin:this,arg:e}))}static define(e,n){const{eventHandlers:r,eventObservers:i,provide:o,decorations:a}=n||{};return new Rs(Cje++,e,r,i,s=>{let u=[];return a&&u.push(DT.of(d=>{let g=d.plugin(s);return g?a(g):Bn.none})),o&&u.push(o(s)),u})}static fromClass(e,n){return Rs.define((r,i)=>new e(r,i),n)}}class OL{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(iu(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(n){iu(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){iu(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const yse=Mn.define(),Y9=Mn.define(),DT=Mn.define(),vse=Mn.define(),_se=Mn.define(),qk=Mn.define(),xse=Mn.define();function xW(t,e){let n=t.state.facet(xse);if(!n.length)return n;let r=n.map(o=>o instanceof Function?o(t):o),i=[];return Hr.spans(r,e.from,e.to,{point(){},span(o,a,s,u){let d=o-e.from,g=a-e.from,v=i;for(let x=s.length-1;x>=0;x--,u--){let O=s[x].spec.bidiIsolate,E;if(O==null&&(O=Sje(e.text,d,g)),u>0&&v.length&&(E=v[v.length-1]).to==d&&E.direction==O)E.to=g,v=E.inner;else{let A={from:d,to:g,direction:O,inner:[]};v.push(A),v=A.inner}}}}),i}const bse=Mn.define();function K9(t){let e=0,n=0,r=0,i=0;for(let o of t.state.facet(bse)){let a=o(t);a&&(a.left!=null&&(e=Math.max(e,a.left)),a.right!=null&&(n=Math.max(n,a.right)),a.top!=null&&(r=Math.max(r,a.top)),a.bottom!=null&&(i=Math.max(i,a.bottom)))}return{left:e,right:n,top:r,bottom:i}}const oC=Mn.define();class Xh{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new Xh(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,o=0,a=0;;){let s=i<e.length?e[i].fromB:1e9,u=o<n.length?n[o]:1e9,d=Math.min(s,u);if(d==1e9)break;let g=d+a,v=d,x=g;for(;;)if(o<n.length&&n[o]<=v){let O=n[o+1];o+=2,v=Math.max(v,O);for(let E=i;E<e.length&&e[E].fromB<=v;E++)a=e[E].toA-e[E].toB;x=Math.max(x,O+a)}else if(i<e.length&&e[i].fromB<=v){let O=e[i++];v=Math.max(v,O.toB),x=Math.max(x,O.toA),a=O.toA-O.toB}else break;r.push(new Xh(g,x,d,v))}return r}}class EM{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Ws.empty(this.startState.doc.length);for(let o of r)this.changes=this.changes.compose(o.changes);let i=[];this.changes.iterChangedRanges((o,a,s,u)=>i.push(new Xh(o,a,s,u))),this.changedRanges=i}static create(e,n,r){return new EM(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}const Tje=[];class ra{constructor(e,n,r=0){this.dom=e,this.length=n,this.flags=r,this.parent=null,e.cmTile=this}get breakAfter(){return this.flags&1}get children(){return Tje}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(e){if(this.flags|=2,this.flags&4){this.flags&=-5;let n=this.domAttrs;n&&aje(this.dom,n)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(e){this.dom=e,e.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e,n=this.posAtStart){let r=n;for(let i of this.children){if(i==e)return r;r+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}covers(e){return!0}coordsIn(e,n){return null}domPosFor(e,n){let r=K0(this.dom),i=this.length?e>0:n>0;return new xf(this.parent.dom,r+(i?1:0),e==0||e==this.length)}markDirty(e){this.flags&=-3,e&&(this.flags|=4),this.parent&&this.parent.flags&2&&this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let e=this;e;e=e.parent)if(e instanceof UI)return e;return null}static get(e){return e.cmTile}}class QI extends ra{constructor(e){super(e,0),this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(e){this.children.push(e),e.parent=this}sync(e){if(this.flags&2)return;super.sync(e);let n=this.dom,r=null,i,o=e?.node==n?e:null,a=0;for(let s of this.children){if(s.sync(e),a+=s.length+s.breakAfter,i=r?r.nextSibling:n.firstChild,o&&i!=s.dom&&(o.written=!0),s.dom.parentNode==n)for(;i&&i!=s.dom;)i=bW(i);else n.insertBefore(s.dom,i);r=s.dom}for(i=r?r.nextSibling:n.firstChild,o&&i&&(o.written=!0);i;)i=bW(i);this.length=a}}function bW(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class UI extends QI{constructor(e,n){super(n),this.view=e}owns(e){for(;e;e=e.parent)if(e==this)return!0;return!1}isBlock(){return!0}nearest(e){for(;;){if(!e)return null;let n=ra.get(e);if(n&&this.owns(n))return n;e=e.parentNode}}blockTiles(e){for(let n=[],r=this,i=0,o=0;;)if(i==r.children.length){if(!n.length)return;r=r.parent,r.breakAfter&&o++,i=n.pop()}else{let a=r.children[i++];if(a instanceof N0)n.push(i),r=a,i=0;else{let s=o+a.length,u=e(a,o);if(u!==void 0)return u;o=s+a.breakAfter}}}resolveBlock(e,n){let r,i=-1,o,a=-1;if(this.blockTiles((s,u)=>{let d=u+s.length;if(e>=u&&e<=d){if(s.isWidget()&&n>=-1&&n<=1){if(s.flags&32)return!0;s.flags&16&&(r=void 0)}(u<e||e==d&&(n<-1?s.length:s.covers(1)))&&(!r||!s.isWidget()&&r.isWidget())&&(r=s,i=e-u),(d>e||e==u&&(n>1?s.length:s.covers(-1)))&&(!o||!s.isWidget()&&o.isWidget())&&(o=s,a=e-u)}}),!r&&!o)throw new Error("No tile at position "+e);return r&&n<0||!o?{tile:r,offset:i}:{tile:o,offset:a}}}class N0 extends QI{constructor(e,n){super(e),this.wrapper=n}isBlock(){return!0}covers(e){return this.children.length?e<0?this.children[0].covers(-1):this.lastChild.covers(1):!1}get domAttrs(){return this.wrapper.attributes}static of(e,n){let r=new N0(n||document.createElement(e.tagName),e);return n||(r.flags|=4),r}}class lO extends QI{constructor(e,n){super(e),this.attrs=n}isLine(){return!0}static start(e,n,r){let i=new lO(n||document.createElement("div"),e);return(!n||!r)&&(i.flags|=4),i}get domAttrs(){return this.attrs}resolveInline(e,n,r){let i=null,o=-1,a=null,s=-1;function u(g,v){for(let x=0,O=0;x<g.children.length&&O<=v;x++){let E=g.children[x],A=O+E.length;A>=v&&(E.isComposite()?u(E,v-O):(!a||a.isHidden&&(n>0||r&&Eje(a,E)))&&(A>v||E.flags&32)?(a=E,s=v-O):(O<v||E.flags&16&&!E.isHidden)&&(i=E,o=v-O)),O=A}}u(this,e);let d=(n<0?i:a)||i||a;return d?{tile:d,offset:d==i?o:s}:null}coordsIn(e,n){let r=this.resolveInline(e,n,!0);return r?r.tile.coordsIn(Math.max(0,r.offset),n):kje(this)}domIn(e,n){let r=this.resolveInline(e,n);if(r){let{tile:i,offset:o}=r;if(this.dom.contains(i.dom))return i.isText()?new xf(i.dom,Math.min(i.dom.nodeValue.length,o)):i.domPosFor(o,i.flags&16?1:i.flags&32?-1:n);let a=r.tile.parent,s=!1;for(let u of a.children){if(s)return new xf(u.dom,0);u==r.tile&&(s=!0)}}return new xf(this.dom,0)}}function kje(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=t5(e);return n[n.length-1]||null}function Eje(t,e){let n=t.coordsIn(0,1),r=e.coordsIn(0,1);return n&&r&&r.top<n.bottom}class tu extends QI{constructor(e,n){super(e),this.mark=n}get domAttrs(){return this.mark.attrs}static of(e,n){let r=new tu(n||document.createElement(e.tagName),e);return n||(r.flags|=4),r}}class J_ extends ra{constructor(e,n){super(e,n.length),this.text=n}sync(e){this.flags&2||(super.sync(e),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text))}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(e,n){let r=this.dom.nodeValue.length;e>r&&(e=r);let i=e,o=e,a=0;e==0&&n<0||e==r&&n>=0?In.chrome||In.gecko||(e?(i--,a=1):o<r&&(o++,a=-1)):n<0?i--:o<r&&o++;let s=IT(this.dom,i,o).getClientRects();if(!s.length)return null;let u=s[(a?a<0:n>=0)?0:s.length-1];return In.safari&&!a&&u.width==0&&(u=Array.prototype.find.call(s,d=>d.width)||u),a?kM(u,a<0):u||null}static of(e,n){let r=new J_(n||document.createTextNode(e),e);return n||(r.flags|=2),r}}class cO extends ra{constructor(e,n,r,i){super(e,n,i),this.widget=r}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(e){return this.flags&48?!1:(this.flags&(e<0?64:128))>0}coordsIn(e,n){return this.coordsInWidget(e,n,!1)}coordsInWidget(e,n,r){let i=this.widget.coordsAt(this.dom,e,n);if(i)return i;if(r)return kM(this.dom.getBoundingClientRect(),this.length?e==0:n<=0);{let o=this.dom.getClientRects(),a=null;if(!o.length)return null;let s=this.flags&16?!0:this.flags&32?!1:e>0;for(let u=s?o.length-1:0;a=o[u],!(e>0?u==0:u==o.length-1||a.top<a.bottom);u+=s?-1:1);return kM(a,!s)}}get overrideDOMText(){if(!this.length)return Ai.empty;let{root:e}=this;if(!e)return Ai.empty;let n=this.posAtStart;return e.view.state.doc.slice(n,n+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(e,n,r,i,o){return o||(o=e.toDOM(n),e.editable||(o.contentEditable="false")),new cO(o,r,e,i)}}class AM extends ra{constructor(e){let n=document.createElement("img");n.className="cm-widgetBuffer",n.setAttribute("aria-hidden","true"),super(n,0,e)}get isHidden(){return!1}get overrideDOMText(){return Ai.empty}coordsIn(e){return this.dom.getBoundingClientRect()}}class Aje{constructor(e){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=e}advance(e,n,r){let{tile:i,index:o,beforeBreak:a,parents:s}=this;for(;e||n>0;)if(i.isComposite())if(a){if(!e)break;r&&r.break(),e--,a=!1}else if(o==i.children.length){if(!e&&!s.length)break;r&&r.leave(i),a=!!i.breakAfter,{tile:i,index:o}=s.pop(),o++}else{let u=i.children[o],d=u.breakAfter;(n>0?u.length<=e:u.length<e)&&(!r||r.skip(u,0,u.length)!==!1||!u.isComposite)?(a=!!d,o++,e-=u.length):(s.push({tile:i,index:o}),i=u,o=0,r&&u.isComposite()&&r.enter(u))}else if(o==i.length)a=!!i.breakAfter,{tile:i,index:o}=s.pop(),o++;else if(e){let u=Math.min(e,i.length-o);r&&r.skip(i,o,o+u),e-=u,o+=u}else break;return this.tile=i,this.index=o,this.beforeBreak=a,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class Pje{constructor(e,n,r,i){this.from=e,this.to=n,this.wrapper=r,this.rank=i}}class Mje{constructor(e,n,r){this.cache=e,this.root=n,this.blockWrappers=r,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(e,n,r,i){var o;this.flushBuffer();let a=this.ensureMarks(n,r),s=a.lastChild;if(s&&s.isText()&&!(s.flags&8)){this.cache.reused.set(s,2);let u=a.children[a.children.length-1]=new J_(s.dom,s.text+e);u.parent=a}else a.append(i||J_.of(e,(o=this.cache.find(J_))===null||o===void 0?void 0:o.dom));this.pos+=e.length,this.afterWidget=null}addComposition(e,n){let r=this.curLine;r.dom!=n.line.dom&&(r.setDOM(this.cache.reused.has(n.line)?SL(n.line.dom):n.line.dom),this.cache.reused.set(n.line,2));let i=r;for(let s=n.marks.length-1;s>=0;s--){let u=n.marks[s],d=i.lastChild;if(d instanceof tu&&d.mark.eq(u.mark))d.dom!=u.dom&&d.setDOM(SL(u.dom)),i=d;else{if(this.cache.reused.get(u)){let v=ra.get(u.dom);v&&v.setDOM(SL(u.dom))}let g=tu.of(u.mark,u.dom);i.append(g),i=g}this.cache.reused.set(u,2)}let o=ra.get(e.text);o&&this.cache.reused.set(o,2);let a=new J_(e.text,e.text.nodeValue);a.flags|=8,i.append(a)}addInlineWidget(e,n,r){let i=this.afterWidget&&e.flags&48&&(this.afterWidget.flags&48)==(e.flags&48);i||this.flushBuffer();let o=this.ensureMarks(n,r);!i&&!(e.flags&16)&&o.append(this.getBuffer(1)),o.append(e),this.pos+=e.length,this.afterWidget=e}addMark(e,n,r){this.flushBuffer(),this.ensureMarks(n,r).append(e),this.pos+=e.length,this.afterWidget=null}addBlockWidget(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}continueWidget(e){let n=this.afterWidget||this.lastBlock;n.length+=e,this.pos+=e}addLineStart(e,n){var r;e||(e=wse);let i=lO.start(e,n||((r=this.cache.find(lO))===null||r===void 0?void 0:r.dom),!!n);this.getBlockPos().append(this.lastBlock=this.curLine=i)}addLine(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(e){this.blockPosCovered()||this.addLineStart(e)}ensureLine(e){this.curLine||this.addLineStart(e)}ensureMarks(e,n){var r;let i=this.curLine;for(let o=e.length-1;o>=0;o--){let a=e[o],s;if(n>0&&(s=i.lastChild)&&s instanceof tu&&s.mark.eq(a))i=s,n--;else{let u=tu.of(a,(r=this.cache.find(tu,d=>d.mark.eq(a)))===null||r===void 0?void 0:r.dom);i.append(u),i=u,n=0}}return i}endLine(){if(this.curLine){this.flushBuffer();let e=this.curLine.lastChild;(!e||!wW(this.curLine,!1)||e.dom.nodeName!="BR"&&e.isWidget()&&!(In.ios&&wW(this.curLine,!0)))&&this.curLine.append(this.cache.findWidget(CL,0,32)||new cO(CL.toDOM(),0,CL,32)),this.curLine=this.afterWidget=null}}updateBlockWrappers(){this.wrapperPos>this.pos+1e4&&(this.blockWrappers.goto(this.pos),this.wrappers.length=0);for(let e=this.wrappers.length-1;e>=0;e--)this.wrappers[e].to<this.pos&&this.wrappers.splice(e,1);for(let e=this.blockWrappers;e.value&&e.from<=this.pos;e.next())if(e.to>=this.pos){let n=new Pje(e.from,e.to,e.value,e.rank),r=this.wrappers.length;for(;r>0&&(this.wrappers[r-1].rank-n.rank||this.wrappers[r-1].to-n.to)<0;)r--;this.wrappers.splice(r,0,n)}this.wrapperPos=this.pos}getBlockPos(){var e;this.updateBlockWrappers();let n=this.root;for(let r of this.wrappers){let i=n.lastChild;if(r.from<this.pos&&i instanceof N0&&i.wrapper.eq(r.wrapper))n=i;else{let o=N0.of(r.wrapper,(e=this.cache.find(N0,a=>a.wrapper.eq(r.wrapper)))===null||e===void 0?void 0:e.dom);n.append(o),n=o}}return n}blockPosCovered(){let e=this.lastBlock;return e!=null&&!e.breakAfter&&(!e.isWidget()||(e.flags&160)>0)}getBuffer(e){let n=2|(e<0?16:32),r=this.cache.find(AM,void 0,1);return r&&(r.flags=n),r||new AM(n)}flushBuffer(){this.afterWidget&&!(this.afterWidget.flags&32)&&(this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null)}}class Rje{constructor(e){this.skipCount=0,this.text="",this.textOff=0,this.cursor=e.iter()}skip(e){this.textOff+e<=this.text.length?this.textOff+=e:(this.skipCount+=e-(this.text.length-this.textOff),this.text="",this.textOff=0)}next(e){if(this.textOff==this.text.length){let{value:i,lineBreak:o,done:a}=this.cursor.next(this.skipCount);if(this.skipCount=0,a)throw new Error("Ran out of text content when drawing inline views");this.text=i;let s=this.textOff=Math.min(e,i.length);return o?null:i.slice(0,s)}let n=Math.min(this.text.length,this.textOff+e),r=this.text.slice(this.textOff,n);return this.textOff=n,r}}const PM=[cO,lO,J_,tu,AM,N0,UI];for(let t=0;t<PM.length;t++)PM[t].bucket=t;class Ije{constructor(e){this.view=e,this.buckets=PM.map(()=>[]),this.index=PM.map(()=>0),this.reused=new Map}add(e){let n=e.constructor.bucket,r=this.buckets[n];r.length<6?r.push(e):r[this.index[n]=(this.index[n]+1)%6]=e}find(e,n,r=2){let i=e.bucket,o=this.buckets[i],a=this.index[i];for(let s=o.length-1;s>=0;s--){let u=(s+a)%o.length,d=o[u];if((!n||n(d))&&!this.reused.has(d))return o.splice(u,1),u<a&&this.index[i]--,this.reused.set(d,r),d}return null}findWidget(e,n,r){let i=this.buckets[0];if(i.length)for(let o=0,a=0;;o++){if(o==i.length){if(a)return null;a=1,o=0}let s=i[o];if(!this.reused.has(s)&&(a==0?s.widget.compare(e):s.widget.constructor==e.constructor&&e.updateDOM(s.dom,this.view)))return i.splice(o,1),o<this.index[0]&&this.index[0]--,this.reused.set(s,1),s.length=n,s.flags=s.flags&-498|r,s}}reuse(e){return this.reused.set(e,1),e}maybeReuse(e,n=2){if(!this.reused.has(e))return this.reused.set(e,n),e.dom}}class Dje{constructor(e,n,r,i,o){this.view=e,this.decorations=i,this.disallowBlockEffectsFor=o,this.openWidget=!1,this.openMarks=0,this.cache=new Ije(e),this.text=new Rje(e.state.doc),this.builder=new Mje(this.cache,new UI(e,e.contentDOM),Hr.iter(r)),this.cache.reused.set(n,2),this.old=new Aje(n),this.reuseWalker={skip:(a,s,u)=>{if(this.cache.add(a),a.isComposite())return!1},enter:a=>this.cache.add(a),leave:()=>{},break:()=>{}}}run(e,n){let r=n&&this.getCompositionContext(n.text);for(let i=0,o=0,a=0;;){let s=a<e.length?e[a++]:null,u=s?s.fromA:this.old.root.length;if(u>i){let d=u-i;this.preserve(d,!a,!s),i=u,o+=d}if(!s)break;this.forward(s.fromA,s.toA),n&&s.fromA<=n.range.fromA&&s.toA>=n.range.toA?(this.emit(o,n.range.fromB),this.builder.addComposition(n,r),this.text.skip(n.range.toB-n.range.fromB),this.emit(n.range.toB,s.toB)):this.emit(o,s.toB),o=s.toB,i=s.toA}return this.builder.curLine&&this.builder.endLine(),this.builder.root}preserve(e,n,r){let i=zje(this.old),o=this.openMarks;this.old.advance(e,r?1:-1,{skip:(a,s,u)=>{if(a.isWidget())if(this.openWidget)this.builder.continueWidget(u-s);else{let d=u>0||s<a.length?cO.of(a.widget,this.view,u-s,a.flags&496,this.cache.maybeReuse(a)):this.cache.reuse(a);d.flags&256?(d.flags&=-2,this.builder.addBlockWidget(d)):(this.builder.ensureLine(null),this.builder.addInlineWidget(d,i,o),o=i.length)}else if(a.isText())this.builder.ensureLine(null),!s&&u==a.length?this.builder.addText(a.text,i,o,this.cache.reuse(a)):(this.cache.add(a),this.builder.addText(a.text.slice(s,u),i,o)),o=i.length;else if(a.isLine())a.flags&=-2,this.cache.reused.set(a,1),this.builder.addLine(a);else if(a instanceof AM)this.cache.add(a);else if(a instanceof tu)this.builder.ensureLine(null),this.builder.addMark(a,i,o),this.cache.reused.set(a,1),o=i.length;else return!1;this.openWidget=!1},enter:a=>{a.isLine()?this.builder.addLineStart(a.attrs,this.cache.maybeReuse(a)):(this.cache.add(a),a instanceof tu&&i.unshift(a.mark)),this.openWidget=!1},leave:a=>{a.isLine()?i.length&&(i.length=o=0):a instanceof tu&&(i.shift(),o=Math.min(o,i.length))},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(e)}emit(e,n){let r=null,i=this.builder,o=0,a=Hr.spans(this.decorations,e,n,{point:(s,u,d,g,v,x)=>{if(d instanceof Ix){if(this.disallowBlockEffectsFor[x]){if(d.block)throw new RangeError("Block decorations may not be specified via plugins");if(u>this.view.state.doc.lineAt(s).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}if(o=g.length,v>g.length)i.continueWidget(u-s);else{let O=d.widget||(d.block?uO.block:uO.inline),E=Lje(d),A=this.cache.findWidget(O,u-s,E)||cO.of(O,this.view,u-s,E);d.block?(d.startSide>0&&i.addLineStartIfNotCovered(r),i.addBlockWidget(A)):(i.ensureLine(r),i.addInlineWidget(A,g,v))}r=null}else r=$je(r,d);u>s&&this.text.skip(u-s)},span:(s,u,d,g)=>{for(let v=s;v<u;){let x=this.text.next(Math.min(512,u-v));x==null?(i.addLineStartIfNotCovered(r),i.addBreak(),v++):(i.ensureLine(r),i.addText(x,d,g),v+=x.length),r=null}}});i.addLineStartIfNotCovered(r),this.openWidget=a>o,this.openMarks=a}forward(e,n){n-e<=10?this.old.advance(n-e,1,this.reuseWalker):(this.old.advance(5,-1,this.reuseWalker),this.old.advance(n-e-10,-1),this.old.advance(5,1,this.reuseWalker))}getCompositionContext(e){let n=[],r=null;for(let i=e.parentNode;;i=i.parentNode){let o=ra.get(i);if(i==this.view.contentDOM)break;o instanceof tu?n.push(o):o?.isLine()?r=o:i.nodeName=="DIV"&&!r&&i!=this.view.contentDOM?r=new lO(i,wse):n.push(tu.of(new Uk({tagName:i.nodeName.toLowerCase(),attributes:lje(i)}),i))}return{line:r,marks:n}}}function wW(t,e){let n=r=>{for(let i of r.children)if((e?i.isText():i.length)||n(i))return!0;return!1};return n(t)}function Lje(t){let e=t.isReplace?(t.startSide<0?64:0)|(t.endSide>0?128:0):t.startSide>0?32:16;return t.block&&(e|=256),e}const wse={class:"cm-line"};function $je(t,e){let n=e.spec.attributes,r=e.spec.class;return!n&&!r||(t||(t={class:"cm-line"}),n&&q9(n,t),r&&(t.class+=" "+r)),t}function zje(t){let e=[];for(let n=t.parents.length;n>1;n--){let r=n==t.parents.length?t.tile:t.parents[n].tile;r instanceof tu&&e.push(r.mark)}return e}function SL(t){let e=ra.get(t);return e&&e.setDOM(t.cloneNode()),t}class uO extends md{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}uO.inline=new uO("span");uO.block=new uO("div");const CL=new class extends md{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};class OW{constructor(e){this.view=e,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=Bn.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new UI(e,e.contentDOM),this.updateInner([new Xh(0,0,0,e.state.doc.length)],null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:g,toA:v})=>v<this.minWidthFrom||g>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?i=this.domChanged.newSel.head:!qje(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let o=i>-1?Bje(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){let{from:g,to:v}=this.hasComposition;r=new Xh(g,v,e.changes.mapPos(g,-1),e.changes.mapPos(v,1)).addToSet(r.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(In.ie||In.chrome)&&!o&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let a=this.decorations,s=this.blockWrappers;this.updateDeco();let u=Vje(a,this.decorations,e.changes);u.length&&(r=Xh.extendWithRanges(r,u));let d=Uje(s,this.blockWrappers,e.changes);return d.length&&(r=Xh.extendWithRanges(r,d)),o&&!r.some(g=>g.fromA<=o.range.fromA&&g.toA>=o.range.toA)&&(r=o.range.addToSet(r.slice())),this.tile.flags&2&&r.length==0?!1:(this.updateInner(r,o),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n){this.view.viewState.mustMeasureContent=!0;let{observer:r}=this.view;r.ignore(()=>{if(n||e.length){let a=this.tile,s=new Dje(this.view,a,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=s.run(e,n),g6(a,s.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=In.chrome||In.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.tile.sync(o),o&&(o.written||r.selectionRange.focusNode!=o.node||!this.tile.dom.contains(o.node))&&(this.forceSelection=!0),this.tile.dom.style.height=""});let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.tile.children)o.isWidget()&&o.widget instanceof TL&&i.push(o.dom);r.updateGaps(i)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let r of n.effects)r.is(gse)&&(this.editContextFormatting=r.value)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let{dom:r}=this.tile,i=this.view.root.activeElement,o=i==r,a=!o&&!(this.view.state.facet(Ng)||r.tabIndex>-1)&&e5(r,this.view.observer.selectionRange)&&!(i&&r.contains(i));if(!(o||n||a))return;let s=this.forceSelection;this.forceSelection=!1;let u=this.view.state.selection.main,d,g;if(u.empty?g=d=this.inlineDOMNearPos(u.anchor,u.assoc||1):(g=this.inlineDOMNearPos(u.head,u.head==u.from?1:-1),d=this.inlineDOMNearPos(u.anchor,u.anchor==u.from?1:-1)),In.gecko&&u.empty&&!this.hasComposition&&Nje(d)){let x=document.createTextNode("");this.view.observer.ignore(()=>d.node.insertBefore(x,d.node.childNodes[d.offset]||null)),d=g=new xf(x,0),s=!0}let v=this.view.observer.selectionRange;(s||!v.focusNode||(!zC(d.node,d.offset,v.anchorNode,v.anchorOffset)||!zC(g.node,g.offset,v.focusNode,v.focusOffset))&&!this.suppressWidgetCursorChange(v,u))&&(this.view.observer.ignore(()=>{In.android&&In.chrome&&r.contains(v.focusNode)&&Zje(v.focusNode,r)&&(r.blur(),r.focus({preventScroll:!0}));let x=RT(this.view.root);if(x)if(u.empty){if(In.gecko){let O=Fje(d.node,d.offset);if(O&&O!=3){let E=(O==1?ese:tse)(d.node,d.offset);E&&(d=new xf(E.node,E.offset))}}x.collapse(d.node,d.offset),u.bidiLevel!=null&&x.caretBidiLevel!==void 0&&(x.caretBidiLevel=u.bidiLevel)}else if(x.extend){x.collapse(d.node,d.offset);try{x.extend(g.node,g.offset)}catch{}}else{let O=document.createRange();u.anchor>u.head&&([d,g]=[g,d]),O.setEnd(g.node,g.offset),O.setStart(d.node,d.offset),x.removeAllRanges(),x.addRange(O)}a&&this.view.root.activeElement==r&&(r.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(d,g)),this.impreciseAnchor=d.precise?null:new xf(v.anchorNode,v.anchorOffset),this.impreciseHead=g.precise?null:new xf(v.focusNode,v.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&zC(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=RT(e.root),{anchorNode:i,anchorOffset:o}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let a=this.lineAt(n.head,n.assoc);if(!a)return;let s=a.posAtStart;if(n.head==s||n.head==s+a.length)return;let u=this.coordsAt(n.head,-1),d=this.coordsAt(n.head,1);if(!u||!d||u.bottom>d.top)return;let g=this.domAtPos(n.head+n.assoc,n.assoc);r.collapse(g.node,g.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let v=e.observer.selectionRange;e.docView.posFromDOM(v.anchorNode,v.anchorOffset)!=n.from&&r.collapse(i,o)}posFromDOM(e,n){let r=this.tile.nearest(e);if(!r)return this.tile.dom.compareDocumentPosition(e)&2?0:this.view.state.doc.length;let i=r.posAtStart;if(r.isComposite()){let o;if(e==r.dom)o=r.dom.childNodes[n];else{let a=ay(e)==0?0:n==0?-1:1;for(;;){let s=e.parentNode;if(s==r.dom)break;a==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?a=-1:a=1),e=s}a<0?o=e:o=e.nextSibling}if(o==r.dom.firstChild)return i;for(;o&&!ra.get(o);)o=o.nextSibling;if(!o)return i+r.length;for(let a=0,s=i;;a++){let u=r.children[a];if(u.dom==o)return s;s+=u.length+u.breakAfter}}else return r.isText()?e==r.dom?i+n:i+(n?r.length:0):i}domAtPos(e,n){let{tile:r,offset:i}=this.tile.resolveBlock(e,n);return r.isWidget()?r.domPosFor(e,n):r.domIn(i,n)}inlineDOMNearPos(e,n){let r,i=-1,o=!1,a,s=-1,u=!1;return this.tile.blockTiles((d,g)=>{if(d.isWidget()){if(d.flags&32&&g>=e)return!0;d.flags&16&&(o=!0)}else{let v=g+d.length;if(g<=e&&(r=d,i=e-g,o=v<e),v>=e&&!a&&(a=d,s=e-g,u=g>e),g>e&&a)return!0}}),!r&&!a?this.domAtPos(e,n):(o&&a?r=null:u&&r&&(a=null),r&&n<0||!a?r.domIn(i,n):a.domIn(s,n))}coordsAt(e,n){let{tile:r,offset:i}=this.tile.resolveBlock(e,n);return r.isWidget()?r.widget instanceof TL?null:r.coordsInWidget(i,n,!0):r.coordsIn(i,n)}lineAt(e,n){let{tile:r}=this.tile.resolveBlock(e,n);return r.isLine()?r:null}coordsForChar(e){let{tile:n,offset:r}=this.tile.resolveBlock(e,1);if(!n.isLine())return null;function i(o,a){if(o.isComposite())for(let s of o.children){if(s.length>=a){let u=i(s,a);if(u)return u}if(a-=s.length,a<0)break}else if(o.isText()&&a<o.length){let s=ya(o.text,a);if(s==a)return null;let u=IT(o.dom,a,s).getClientRects();for(let d=0;d<u.length;d++){let g=u[d];if(d==u.length-1||g.top<g.bottom&&g.left<g.right)return g}}return null}return i(n,r)}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,o=this.view.contentDOM.clientWidth,a=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,s=-1,u=this.view.textDirection==_o.LTR,d=0,g=(v,x,O)=>{for(let E=0;E<v.children.length&&!(x>i);E++){let A=v.children[E],M=x+A.length,L=A.dom.getBoundingClientRect(),{height:$}=L;if(O&&!E&&(d+=L.top-O.top),A instanceof N0)M>r&&g(A,x,L);else if(x>=r&&(d>0&&n.push(-d),n.push($+d),d=0,a)){let N=A.dom.lastChild,F=N?t5(N):[];if(F.length){let U=F[F.length-1],q=u?U.right-L.left:L.right-U.left;q>s&&(s=q,this.minWidth=o,this.minWidthFrom=x,this.minWidthTo=M)}}O&&E==v.children.length-1&&(d+=O.bottom-L.bottom),x=M+A.breakAfter}};return g(this.tile,0,null),n}textDirectionAt(e){let{tile:n}=this.tile.resolveBlock(e,1);return getComputedStyle(n.dom).direction=="rtl"?_o.RTL:_o.LTR}measureTextSize(){let e=this.tile.blockTiles(a=>{if(a.isLine()&&a.children.length&&a.length<=20){let s=0,u;for(let d of a.children){if(!d.isText()||/[^ -~]/.test(d.text))return;let g=t5(d.dom);if(g.length!=1)return;s+=g[0].width,u=g[0].height}if(s)return{lineHeight:a.dom.getBoundingClientRect().height,charWidth:s/a.length,textHeight:u}}});if(e)return e;let n=document.createElement("div"),r,i,o;return n.className="cm-line",n.style.width="99999px",n.style.position="absolute",n.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(n);let a=t5(n.firstChild)[0];r=n.getBoundingClientRect().height,i=a&&a.width?a.width/27:7,o=a&&a.height?a.height:r,n.remove()}),{lineHeight:r,charWidth:i,textHeight:o}}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let o=i==n.viewports.length?null:n.viewports[i],a=o?o.from-1:this.view.state.doc.length;if(a>r){let s=(n.lineBlockAt(a).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(Bn.replace({widget:new TL(s),block:!0,inclusive:!0,isBlockGap:!0}).range(r,a))}if(!o)break;r=o.to+1}return Bn.set(e)}updateDeco(){let e=1,n=this.view.state.facet(DT).map(o=>(this.dynamicDecorationMap[e++]=typeof o=="function")?o(this.view):o),r=!1,i=this.view.state.facet(_se).map((o,a)=>{let s=typeof o=="function";return s&&(r=!0),s?o(this.view):o});for(i.length&&(this.dynamicDecorationMap[e++]=r,n.push(Hr.join(i))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;this.blockWrappers=this.view.state.facet(vse).map(o=>typeof o=="function"?o(this.view):o)}scrollIntoView(e){if(e.isSnapshot){let d=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=d.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let d of this.view.state.facet(mse))try{if(d(this.view,e.range,e))return!0}catch(g){iu(this.view.state,g,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let o=K9(this.view),a={left:r.left-o.left,top:r.top-o.top,right:r.right+o.right,bottom:r.bottom+o.bottom},{offsetWidth:s,offsetHeight:u}=this.view.scrollDOM;hje(this.view.scrollDOM,a,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,s),-s),Math.max(Math.min(e.yMargin,u),-u),this.view.textDirection==_o.LTR)}lineHasWidget(e){let n=r=>r.isWidget()||r.children.some(n);return n(this.tile.resolveBlock(e,1).tile)}destroy(){g6(this.tile)}}function g6(t,e){let n=e?.get(t);if(n!=1){n==null&&t.destroy();for(let r of t.children)g6(r,e)}}function Nje(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function Ose(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=ese(n.focusNode,n.focusOffset),i=tse(n.focusNode,n.focusOffset),o=r||i;if(i&&r&&i.node!=r.node){let s=ra.get(i.node);if(!s||s.isText()&&s.text!=i.node.nodeValue)o=i;else if(t.docView.lastCompositionAfterCursor){let u=ra.get(r.node);!u||u.isText()&&u.text!=r.node.nodeValue||(o=i)}}if(t.docView.lastCompositionAfterCursor=o!=r,!o)return null;let a=e-o.offset;return{from:a,to:a+o.node.nodeValue.length,node:o.node}}function Bje(t,e,n){let r=Ose(t,n);if(!r)return null;let{node:i,from:o,to:a}=r,s=i.nodeValue;if(/[\n\r]/.test(s)||t.state.doc.sliceString(r.from,r.to)!=s)return null;let u=e.invertedDesc;return{range:new Xh(u.mapPos(o),u.mapPos(a),o,a),text:i}}function Fje(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let jje=class{constructor(){this.changes=[]}compareRange(e,n){Cw(e,n,this.changes)}comparePoint(e,n){Cw(e,n,this.changes)}boundChange(e){Cw(e,e,this.changes)}};function Vje(t,e,n){let r=new jje;return Hr.compare(t,e,n,r),r.changes}class Qje{constructor(){this.changes=[]}compareRange(e,n){Cw(e,n,this.changes)}comparePoint(){}boundChange(e){Cw(e,e,this.changes)}}function Uje(t,e,n){let r=new Qje;return Hr.compare(t,e,n,r),r.changes}function Zje(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function qje(t,e){let n=!1;return e&&t.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(n=!0)}),n}class TL extends md{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function Wje(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),o=e-i.from;if(i.length==0)return jt.cursor(e);o==0?n=1:o==i.length&&(n=-1);let a=o,s=o;n<0?a=ya(i.text,o,!1):s=ya(i.text,o);let u=r(i.text.slice(a,s));for(;a>0;){let d=ya(i.text,a,!1);if(r(i.text.slice(d,a))!=u)break;a=d}for(;s<i.length;){let d=ya(i.text,s);if(r(i.text.slice(s,d))!=u)break;s=d}return jt.range(a+i.from,s+i.from)}function Hje(t,e,n,r,i){let o=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let s=t.viewState.heightOracle.textHeight,u=Math.floor((i-n.top-(t.defaultLineHeight-s)*.5)/s);o+=u*t.viewState.heightOracle.lineLength}let a=t.state.sliceDoc(n.from,n.to);return n.from+i6(a,o,t.state.tabSize)}function y6(t,e,n){let r=t.lineBlockAt(e);if(Array.isArray(r.type)){let i;for(let o of r.type){if(o.from>e)break;if(!(o.to<e)){if(o.from<e&&o.to>e)return o;(!i||o.type==ll.Text&&(i.type!=o.type||(n<0?o.from<e:o.to>e)))&&(i=o)}}return i||r}return r}function Gje(t,e,n,r){let i=y6(t,e.head,e.assoc||-1),o=!r||i.type!=ll.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(o){let a=t.dom.getBoundingClientRect(),s=t.textDirectionAt(i.from),u=t.posAtCoords({x:n==(s==_o.LTR)?a.right-1:a.left+1,y:(o.top+o.bottom)/2});if(u!=null)return jt.cursor(u,n?-1:1)}return jt.cursor(n?i.to:i.from,n?-1:1)}function SW(t,e,n,r){let i=t.state.doc.lineAt(e.head),o=t.bidiSpans(i),a=t.textDirectionAt(i.from);for(let s=e,u=null;;){let d=Oje(i,o,a,s,n),g=sse;if(!d){if(i.number==(n?t.state.doc.lines:1))return s;g=`
`,i=t.state.doc.line(i.number+(n?1:-1)),o=t.bidiSpans(i),d=t.visualLineSide(i,!n)}if(u){if(!u(g))return s}else{if(!r)return d;u=r(g)}s=d}}function Xje(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return o=>{let a=r(o);return i==Ho.Space&&(i=a),i==a}}function Yje(t,e,n,r){let i=e.head,o=n?1:-1;if(i==(n?t.state.doc.length:0))return jt.cursor(i,e.assoc);let a=e.goalColumn,s,u=t.contentDOM.getBoundingClientRect(),d=t.coordsAtPos(i,e.assoc||-1),g=t.documentTop;if(d)a==null&&(a=d.left-u.left),s=o<0?d.top:d.bottom;else{let O=t.viewState.lineBlockAt(i);a==null&&(a=Math.min(u.right-u.left,t.defaultCharacterWidth*(i-O.from))),s=(o<0?O.top:O.bottom)+g}let v=u.left+a,x=r??t.viewState.heightOracle.textHeight>>1;for(let O=0;;O+=10){let E=s+(x+O)*o,A=v6(t,{x:v,y:E},!1,o);return jt.cursor(A.pos,A.assoc,void 0,a)}}function NC(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,(o,a,s)=>{if(e>o&&e<a){let u=r||n||(e-o<a-e?-1:1);e=u<0?o:a,r=u}});if(!r)return e}}function Sse(t,e){let n=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],o=null;if(i.empty){let a=NC(t,i.from,0);a!=i.from&&(o=jt.cursor(a,-1))}else{let a=NC(t,i.from,-1),s=NC(t,i.to,1);(a!=i.from||s!=i.to)&&(o=jt.range(i.from==i.anchor?a:s,i.from==i.head?a:s))}o&&(n||(n=e.ranges.slice()),n[r]=o)}return n?jt.create(n,e.mainIndex):e}function kL(t,e,n){let r=NC(t.state.facet(qk).map(i=>i(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:jt.cursor(r,r<n.from?1:-1)}class Hp{constructor(e,n){this.pos=e,this.assoc=n}}function v6(t,e,n,r){let i=t.contentDOM.getBoundingClientRect(),o=i.top+t.viewState.paddingTop,{x:a,y:s}=e,u=s-o,d;for(;;){if(u<0)return new Hp(0,1);if(u>t.viewState.docHeight)return new Hp(t.state.doc.length,-1);if(d=t.elementAtHeight(u),r==null)break;if(d.type==ll.Text){let x=t.docView.coordsAt(r<0?d.from:d.to,r);if(x&&(r<0?x.top<=u+o:x.bottom>=u+o))break}let v=t.viewState.heightOracle.textHeight/2;u=r>0?d.bottom+v:d.top-v}if(t.viewport.from>=d.to||t.viewport.to<=d.from){if(n)return null;if(d.type==ll.Text){let v=Hje(t,i,d,a,s);return new Hp(v,v==d.from?1:-1)}}if(d.type!=ll.Text)return u<(d.top+d.bottom)/2?new Hp(d.from,1):new Hp(d.to,-1);let g=t.docView.lineAt(d.from,2);return(!g||g.length!=d.length)&&(g=t.docView.lineAt(d.from,-2)),Cse(t,g,d.from,a,s)}function Cse(t,e,n,r,i){let o=-1,a=null,s=1e9,u=1e9,d=i,g=i,v=(x,O)=>{for(let E=0;E<x.length;E++){let A=x[E];if(A.top==A.bottom)continue;let M=A.left>r?A.left-r:A.right<r?r-A.right:0,L=A.top>i?A.top-i:A.bottom<i?i-A.bottom:0;A.top<=g&&A.bottom>=d&&(d=Math.min(A.top,d),g=Math.max(A.bottom,g),L=0),(o<0||(L-u||M-s)<0)&&(o>=0&&u&&s<M&&a.top<=g-2&&a.bottom>=d+2?u=0:(o=O,s=M,u=L,a=A))}};if(e.isText()){for(let O=0;O<e.length;){let E=ya(e.text,O);if(v(IT(e.dom,O,E).getClientRects(),O),!s&&!u)break;O=E}return r>(a.left+a.right)/2==(CW(t,o+n)==_o.LTR)?new Hp(n+ya(e.text,o),-1):new Hp(n+o,1)}else{if(!e.length)return new Hp(n,1);for(let A=0;A<e.children.length;A++){let M=e.children[A];if(M.flags&48)continue;let L=(M.dom.nodeType==1?M.dom:IT(M.dom,0,M.length)).getClientRects();if(v(L,A),!s&&!u)break}let x=e.children[o],O=e.posBefore(x,n);return x.isComposite()||x.isText()?Cse(t,x,O,Math.max(a.left,Math.min(a.right,r)),i):r>(a.left+a.right)/2==(CW(t,o+n)==_o.LTR)?new Hp(O+x.length,-1):new Hp(O,1)}}function CW(t,e){let n=t.state.doc.lineAt(e);return t.bidiSpans(n)[Vg.find(t.bidiSpans(n),e-n.from,-1,1)].dir}const sC="";class Kje{constructor(e,n){this.points=e,this.view=n,this.text="",this.lineSeparator=n.state.facet(Rr.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=sC}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let o=this.text.length;this.readNode(i);let a=ra.get(i),s=i.nextSibling;if(s==n){a?.breakAfter&&!s&&r!=this.view.contentDOM&&this.lineBreak();break}let u=ra.get(s);(a&&u?a.breakAfter:(a?a.breakAfter:TM(i))||TM(s)&&(i.nodeName!="BR"||a?.isWidget())&&this.text.length>o)&&!eVe(s,n)&&this.lineBreak(),i=s}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,a=1,s;if(this.lineSeparator?(o=n.indexOf(this.lineSeparator,r),a=this.lineSeparator.length):(s=i.exec(n))&&(o=s.index,a=s[0].length),this.append(n.slice(r,o<0?n.length:o)),o<0)break;if(this.lineBreak(),a>1)for(let u of this.points)u.node==e&&u.pos>this.text.length&&(u.pos-=a-1);r=o+a}}readNode(e){let n=ra.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(Jje(e,r.node,r.offset)?n:0))}}function Jje(t,e,n){for(;;){if(!e||n<ay(e))return!1;if(e==t)return!0;n=K0(e)+1,e=e.parentNode}}function eVe(t,e){let n;for(;!(t==e||!t);t=t.nextSibling){let r=ra.get(t);if(!r?.isWidget())return!1;r&&(n||(n=[])).push(r)}if(n)for(let r of n){let i=r.overrideDOMText;if(i?.length)return!1}return!0}class TW{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class tVe{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:o,impreciseAnchor:a}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=Tse(e.docView.tile,n,r,0))){let s=o||a?[]:rVe(e),u=new Kje(s,e);u.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=u.text,this.newSel=iVe(s,this.bounds.from)}else{let s=e.observer.selectionRange,u=o&&o.node==s.focusNode&&o.offset==s.focusOffset||!h6(e.contentDOM,s.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(s.focusNode,s.focusOffset),d=a&&a.node==s.anchorNode&&a.offset==s.anchorOffset||!h6(e.contentDOM,s.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(s.anchorNode,s.anchorOffset),g=e.viewport;if((In.ios||In.chrome)&&e.state.selection.main.empty&&u!=d&&(g.from>0||g.to<e.state.doc.length)){let v=Math.min(u,d),x=Math.max(u,d),O=g.from-v,E=g.to-x;(O==0||O==1||v==0)&&(E==0||E==-1||x==e.state.doc.length)&&(u=0,d=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(jt.range(d,u)):this.newSel=jt.single(d,u)}}}function Tse(t,e,n,r){if(t.isComposite()){let i=-1,o=-1,a=-1,s=-1;for(let u=0,d=r,g=r;u<t.children.length;u++){let v=t.children[u],x=d+v.length;if(d<e&&x>n)return Tse(v,e,n,d);if(x>=e&&i==-1&&(i=u,o=d),d>n&&v.dom.parentNode==t.dom){a=u,s=g;break}g=x,d=x+v.breakAfter}return{from:o,to:s<0?r+t.length:s,startDOM:(i?t.children[i-1].dom.nextSibling:null)||t.dom.firstChild,endDOM:a<t.children.length&&a>=0?t.children[a].dom:null}}else return t.isText()?{from:r,to:r+t.length,startDOM:t.dom,endDOM:t.dom.nextSibling}:null}function kse(t,e){let n,{newSel:r}=e,i=t.state.selection.main,o=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:a,to:s}=e.bounds,u=i.from,d=null;(o===8||In.android&&e.text.length<s-a)&&(u=i.to,d="end");let g=Ese(t.state.doc.sliceString(a,s,sC),e.text,u-a,d);g&&(In.chrome&&o==13&&g.toB==g.from+2&&e.text.slice(g.from,g.toB)==sC+sC&&g.toB--,n={from:a+g.from,to:a+g.toA,insert:Ai.of(e.text.slice(g.from,g.toB).split(sC))})}else r&&(!t.hasFocus&&t.state.facet(Ng)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:(In.mac||In.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=jt.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:Ai.of([n.insert.toString().replace("."," ")])}):n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:t.state.doc.lineAt(i.from).to<i.to&&t.docView.lineHasWidget(i.to)&&t.inputState.insertingTextAt>Date.now()-50?n={from:i.from,to:i.to,insert:t.state.toText(t.inputState.insertingText)}:In.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=jt.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:Ai.of([" "])}),n)return J9(t,n,r,o);if(r&&!r.main.eq(i)){let a=!1,s="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(a=!0),s=t.inputState.lastSelectionOrigin,s=="select.pointer"&&(r=Sse(t.state.facet(qk).map(u=>u(t)),r))),t.dispatch({selection:r,scrollIntoView:a,userEvent:s}),!0}else return!1}function J9(t,e,n,r=-1){if(In.ios&&t.inputState.flushIOSKey(e))return!0;let i=t.state.selection.main;if(In.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&t.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Tw(t.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&Tw(t.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&Tw(t.contentDOM,"Delete",46)))return!0;let o=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let a,s=()=>a||(a=nVe(t,e,n));return t.state.facet(hse).some(u=>u(t,e.from,e.to,o,s))||t.dispatch(s()),!0}function nVe(t,e,n){let r,i=t.state,o=i.selection.main,a=-1;if(e.from==e.to&&e.from<o.from||e.from>o.to){let u=e.from<o.from?-1:1,d=u<0?o.from:o.to,g=NC(i.facet(qk).map(v=>v(t)),d,u);e.from==g&&(a=g)}if(a>-1)r={changes:e,selection:jt.cursor(e.from+e.insert.length,-1)};else if(e.from>=o.from&&e.to<=o.to&&e.to-e.from>=(o.to-o.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let u=o.from<e.from?i.sliceDoc(o.from,e.from):"",d=o.to>e.to?i.sliceDoc(e.to,o.to):"";r=i.replaceSelection(t.state.toText(u+e.insert.sliceString(0,void 0,t.state.lineBreak)+d))}else{let u=i.changes(e),d=n&&n.main.to<=u.newLength?n.main:void 0;if(i.selection.ranges.length>1&&(t.inputState.composing>=0||t.inputState.compositionPendingChange)&&e.to<=o.to+10&&e.to>=o.to-10){let g=t.state.sliceDoc(e.from,e.to),v,x=n&&Ose(t,n.main.head);if(x){let E=e.insert.length-(e.to-e.from);v={from:x.from,to:x.to-E}}else v=t.state.doc.lineAt(o.head);let O=o.to-e.to;r=i.changeByRange(E=>{if(E.from==o.from&&E.to==o.to)return{changes:u,range:d||E.map(u)};let A=E.to-O,M=A-g.length;if(t.state.sliceDoc(M,A)!=g||A>=v.from&&M<=v.to)return{range:E};let L=i.changes({from:M,to:A,insert:e.insert}),$=E.to-o.to;return{changes:L,range:d?jt.range(Math.max(0,d.anchor+$),Math.max(0,d.head+$)):E.map(L)}})}else r={changes:u,selection:d&&i.selection.replaceRange(d)}}let s="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,s+=".compose",t.inputState.compositionFirstChange&&(s+=".start",t.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:s,scrollIntoView:!0})}function Ese(t,e,n,r){let i=Math.min(t.length,e.length),o=0;for(;o<i&&t.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==i&&t.length==e.length)return null;let a=t.length,s=e.length;for(;a>0&&s>0&&t.charCodeAt(a-1)==e.charCodeAt(s-1);)a--,s--;if(r=="end"){let u=Math.max(0,o-Math.min(a,s));n-=a+u-o}if(a<o&&t.length<e.length){let u=n<=o&&n>=a?o-n:0;o-=u,s=o+(s-a),a=o}else if(s<o){let u=n<=o&&n>=s?o-n:0;o-=u,a=o+(a-s),s=o}return{from:o,toA:a,toB:s}}function rVe(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}=t.observer.selectionRange;return n&&(e.push(new TW(n,r)),(i!=n||o!=r)&&e.push(new TW(i,o))),e}function iVe(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?jt.single(n+e,r+e):null}class oVe{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,In.safari&&e.contentDOM.addEventListener("input",()=>null),In.gecko&&xVe(e.contentDOM.ownerDocument)}handleEvent(e){!fVe(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,n){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,n);for(let i of r.handlers){if(n.defaultPrevented)break;if(i(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=sVe(e),r=this.handlers,i=this.view.contentDOM;for(let o in n)if(o!="scroll"){let a=!n[o].handlers.length,s=r[o];s&&a!=!s.handlers.length&&(i.removeEventListener(o,this.handleEvent),s=null),s||i.addEventListener(o,this.handleEvent,{passive:a})}for(let o in r)o!="scroll"&&!n[o]&&i.removeEventListener(o,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&Pse.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),In.android&&In.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return In.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=Ase.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||aVe.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Tw(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:In.safari&&!In.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function kW(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(i){iu(n.state,i)}}}function sVe(t){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let i=r.spec,o=i&&i.plugin.domEventHandlers,a=i&&i.plugin.domEventObservers;if(o)for(let s in o){let u=o[s];u&&n(s).handlers.push(kW(r.value,u))}if(a)for(let s in a){let u=a[s];u&&n(s).observers.push(kW(r.value,u))}}for(let r in Rf)n(r).handlers.push(Rf[r]);for(let r in hd)n(r).observers.push(hd[r]);return e}const Ase=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],aVe="dthko",Pse=[16,17,18,20,91,92,224,225],GA=6;function XA(t){return Math.max(0,t)*.7+8}function lVe(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class cVe{constructor(e,n,r,i){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=dje(e.contentDOM),this.atoms=e.state.facet(qk).map(a=>a(e));let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(Rr.allowMultipleSelections)&&uVe(e,n),this.dragging=dVe(e,n)&&Ise(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&lVe(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,i=0,o=0,a=this.view.win.innerWidth,s=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:a}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:o,bottom:s}=this.scrollParents.y.getBoundingClientRect());let u=K9(this.view);e.clientX-u.left<=i+GA?n=-XA(i-e.clientX):e.clientX+u.right>=a-GA&&(n=XA(e.clientX-a)),e.clientY-u.top<=o+GA?r=-XA(o-e.clientY):e.clientY+u.bottom>=s-GA&&(r=XA(e.clientY-s)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:n}=this,r=Sse(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function uVe(t,e){let n=t.state.facet(ase);return n.length?n[0](e):In.mac?e.metaKey:e.ctrlKey}function hVe(t,e){let n=t.state.facet(lse);return n.length?n[0](e):In.mac?!e.altKey:!e.ctrlKey}function dVe(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=RT(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let o=0;o<i.length;o++){let a=i[o];if(a.left<=e.clientX&&a.right>=e.clientX&&a.top<=e.clientY&&a.bottom>=e.clientY)return!0}return!1}function fVe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=ra.get(n))&&r.isWidget()&&!r.isHidden&&r.widget.ignoreEvent(e))return!1;return!0}const Rf=Object.create(null),hd=Object.create(null),Mse=In.ie&&In.ie_version<15||In.ios&&In.webkit_version<604;function pVe(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),Rse(t,n.value)},50)}function ZI(t,e,n){for(let r of t.facet(e))n=r(n,t);return n}function Rse(t,e){e=ZI(t.state,G9,e);let{state:n}=t,r,i=1,o=n.toText(e),a=o.lines==n.selection.ranges.length;if(_6!=null&&n.selection.ranges.every(u=>u.empty)&&_6==o.toString()){let u=-1;r=n.changeByRange(d=>{let g=n.doc.lineAt(d.from);if(g.from==u)return{range:d};u=g.from;let v=n.toText((a?o.line(i++).text:e)+n.lineBreak);return{changes:{from:g.from,insert:v},range:jt.cursor(d.from+v.length)}})}else a?r=n.changeByRange(u=>{let d=o.line(i++);return{changes:{from:u.from,to:u.to,insert:d.text},range:jt.cursor(u.from+d.length)}}):r=n.replaceSelection(o);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}hd.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};Rf.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);hd.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};hd.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};Rf.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(cse))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=gVe(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new cVe(t,e,n,r)),r&&t.observer.ignore(()=>{Koe(t.contentDOM);let o=t.root.activeElement;o&&!o.contains(t.contentDOM)&&o.blur()});let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}else t.inputState.setSelectionOrigin("select.pointer");return!1};function EW(t,e,n,r){if(r==1)return jt.cursor(e,n);if(r==2)return Wje(t.state,e,n);{let i=t.docView.lineAt(e,n),o=t.state.doc.lineAt(i?i.posAtEnd:e),a=i?i.posAtStart:o.from,s=i?i.posAtEnd:o.to;return s<t.state.doc.length&&s==o.to&&s++,jt.range(a,s)}}const mVe=In.ie&&In.ie_version<=11;let AW=null,PW=0,MW=0;function Ise(t){if(!mVe)return t.detail;let e=AW,n=MW;return AW=t,MW=Date.now(),PW=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(PW+1)%3:1}function gVe(t,e){let n=t.posAndSideAtCoords({x:e.clientX,y:e.clientY},!1),r=Ise(e),i=t.state.selection;return{update(o){o.docChanged&&(n.pos=o.changes.mapPos(n.pos),i=i.map(o.changes))},get(o,a,s){let u=t.posAndSideAtCoords({x:o.clientX,y:o.clientY},!1),d,g=EW(t,u.pos,u.assoc,r);if(n.pos!=u.pos&&!a){let v=EW(t,n.pos,n.assoc,r),x=Math.min(v.from,g.from),O=Math.max(v.to,g.to);g=x<g.from?jt.range(x,O):jt.range(O,x)}return a?i.replaceRange(i.main.extend(g.from,g.to)):s&&r==1&&i.ranges.length>1&&(d=yVe(i,u.pos))?d:s?i.addRange(g):jt.create([g])}}}function yVe(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return jt.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}Rf.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let i=t.docView.tile.nearest(e.target);if(i&&i.isWidget()){let o=i.posAtStart,a=o+i.length;(o>=n.to||a<=n.from)&&(n=jt.range(o,a))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",ZI(t.state,X9,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Rf.dragend=t=>(t.inputState.draggedContent=null,!1);function RW(t,e,n,r){if(n=ZI(t.state,G9,n),!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:o}=t.inputState,a=r&&o&&hVe(t,e)?{from:o.from,to:o.to}:null,s={from:i,insert:n},u=t.state.changes(a?[a,s]:s);t.focus(),t.dispatch({changes:u,selection:{anchor:u.mapPos(i,-1),head:u.mapPos(i,1)},userEvent:a?"move.drop":"input.drop"}),t.inputState.draggedContent=null}Rf.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,o=()=>{++i==n.length&&RW(t,e,r.filter(a=>a!=null).join(t.state.lineBreak),!1)};for(let a=0;a<n.length;a++){let s=new FileReader;s.onerror=o,s.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(s.result)||(r[a]=s.result),o()},s.readAsText(n[a])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return RW(t,e,r,!0),!0}return!1};Rf.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=Mse?null:e.clipboardData;return n?(Rse(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(pVe(t),!1)};function vVe(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function _Ve(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:o}of t.selection.ranges){let a=t.doc.lineAt(o);a.number>i&&(e.push(a.text),n.push({from:a.from,to:Math.min(t.doc.length,a.to+1)})),i=a.number}r=!0}return{text:ZI(t,X9,e.join(t.lineBreak)),ranges:n,linewise:r}}let _6=null;Rf.copy=Rf.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=_Ve(t.state);if(!n&&!i)return!1;_6=i?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let o=Mse?null:e.clipboardData;return o?(o.clearData(),o.setData("text/plain",n),!0):(vVe(t,n),!1)};const Dse=gy.define();function Lse(t,e){let n=[];for(let r of t.facet(dse)){let i=r(t,e);i&&n.push(i)}return n.length?t.update({effects:n,annotations:Dse.of(!0)}):null}function $se(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=Lse(t.state,e);n?t.dispatch(n):t.update([])}},10)}hd.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),$se(t)};hd.blur=t=>{t.observer.clearSelectionRange(),$se(t)};hd.compositionstart=hd.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};hd.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,In.chrome&&In.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};hd.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};Rf.beforeinput=(t,e)=>{var n,r;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(t.inputState.insertingText=e.data,t.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&t.observer.editContext){let o=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),a=e.getTargetRanges();if(o&&a.length){let s=a[0],u=t.posAtDOM(s.startContainer,s.startOffset),d=t.posAtDOM(s.endContainer,s.endOffset);return J9(t,{from:u,to:d,insert:t.state.toText(o)},null),!0}}let i;if(In.chrome&&In.android&&(i=Ase.find(o=>o.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let o=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var a;(((a=window.visualViewport)===null||a===void 0?void 0:a.height)||0)>o+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return In.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),In.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>hd.compositionend(t,e),20),!1};const IW=new Set;function xVe(t){IW.has(t)||(IW.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const DW=["pre-wrap","normal","pre-line","break-spaces"];let hO=!1;function LW(){hO=!1}class bVe{constructor(e){this.lineWrapping=e,this.doc=Ai.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return DW.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,o,a){let s=DW.indexOf(e)>-1,u=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=s;if(this.lineWrapping=s,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=o,u){this.heightSamples={};for(let d=0;d<a.length;d++){let g=a[d];g<0?d++:this.heightSamples[Math.floor(g*10)]=!0}}return u}}class wVe{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class _f{constructor(e,n,r,i,o){this.from=e,this.length=n,this.top=r,this.height=i,this._content=o}get type(){return typeof this._content=="number"?ll.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Ix?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new _f(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var Eo=(function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t})(Eo||(Eo={}));const n5=.001;class pc{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>n5&&(hO=!0),this.height=e)}replace(e,n,r){return pc.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let o=this,a=r.doc;for(let s=i.length-1;s>=0;s--){let{fromA:u,toA:d,fromB:g,toB:v}=i[s],x=o.lineAt(u,Eo.ByPosNoHeight,r.setDoc(n),0,0),O=x.to>=d?x:o.lineAt(d,Eo.ByPosNoHeight,r,0,0);for(v+=O.to-d,d=O.to;s>0&&x.from<=i[s-1].toA;)u=i[s-1].fromA,g=i[s-1].fromB,s--,u<x.from&&(x=o.lineAt(u,Eo.ByPosNoHeight,r,0,0));g+=x.from-u,u=x.from;let E=eF.build(r.setDoc(a),e,g,v);o=MM(o,o.replace(u,d,E))}return o.updateHeight(r,0)}static empty(){return new Qu(0,0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,o=0;for(;;)if(n==r)if(i>o*2){let s=e[n-1];s.break?e.splice(--n,1,s.left,null,s.right):e.splice(--n,1,s.left,s.right),r+=1+s.break,i-=s.size}else if(o>i*2){let s=e[r];s.break?e.splice(r,1,s.left,null,s.right):e.splice(r,1,s.left,s.right),r+=2+s.break,o-=s.size}else break;else if(i<o){let s=e[n++];s&&(i+=s.size)}else{let s=e[--r];s&&(o+=s.size)}let a=0;return e[n-1]==null?(a=1,n--):e[n]==null&&(a=1,r++),new SVe(pc.of(e.slice(0,n)),a,pc.of(e.slice(r)))}}function MM(t,e){return t==e?t:(t.constructor!=e.constructor&&(hO=!0),e)}pc.prototype.size=1;const OVe=Bn.replace({});class zse extends pc{constructor(e,n,r){super(e,n),this.deco=r,this.spaceAbove=0}mainBlock(e,n){return new _f(n,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(e,n,r,i){return this.spaceAbove&&e<r+this.spaceAbove?new _f(i,0,r,this.spaceAbove,OVe):this.mainBlock(r,i)}lineAt(e,n,r,i,o){let a=this.mainBlock(i,o);return this.spaceAbove?this.blockAt(0,r,i,o).join(a):a}forEachLine(e,n,r,i,o,a){e<=o+this.length&&n>=o&&a(this.lineAt(0,Eo.ByPos,r,i,o))}setMeasuredHeight(e){let n=e.heights[e.index++];n<0?(this.spaceAbove=-n,n=e.heights[e.index++]):this.spaceAbove=0,this.setHeight(n)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setMeasuredHeight(i),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Qu extends zse{constructor(e,n,r){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=r}mainBlock(e,n){return new _f(n,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof Qu||i instanceof tl&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof tl?i=new Qu(i.length,this.height,this.spaceAbove):i.height=this.height,this.outdated||(i.outdated=!1),i):pc.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setMeasuredHeight(i):(r||this.outdated)&&(this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight)),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class tl extends pc{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,o=i-r+1,a,s=0;if(e.lineWrapping){let u=Math.min(this.height,e.lineHeight*o);a=u/o,this.length>o+1&&(s=(this.height-u)/(this.length-o-1))}else a=this.height/o;return{firstLine:r,lastLine:i,perLine:a,perChar:s}}blockAt(e,n,r,i){let{firstLine:o,lastLine:a,perLine:s,perChar:u}=this.heightMetrics(n,i);if(n.lineWrapping){let d=i+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),g=n.doc.lineAt(d),v=s+g.length*u,x=Math.max(r,e-v/2);return new _f(g.from,g.length,x,v,0)}else{let d=Math.max(0,Math.min(a-o,Math.floor((e-r)/s))),{from:g,length:v}=n.doc.line(o+d);return new _f(g,v,r+s*d,s,0)}}lineAt(e,n,r,i,o){if(n==Eo.ByHeight)return this.blockAt(e,r,i,o);if(n==Eo.ByPosNoHeight){let{from:O,to:E}=r.doc.lineAt(e);return new _f(O,E-O,0,0,0)}let{firstLine:a,perLine:s,perChar:u}=this.heightMetrics(r,o),d=r.doc.lineAt(e),g=s+d.length*u,v=d.number-a,x=i+s*v+u*(d.from-o-v);return new _f(d.from,d.length,Math.max(i,Math.min(x,i+this.height-g)),g,0)}forEachLine(e,n,r,i,o,a){e=Math.max(e,o),n=Math.min(n,o+this.length);let{firstLine:s,perLine:u,perChar:d}=this.heightMetrics(r,o);for(let g=e,v=i;g<=n;){let x=r.doc.lineAt(g);if(g==e){let E=x.number-s;v+=u*E+d*(e-o-E)}let O=u+d*x.length;a(new _f(x.from,x.length,v,O,0)),v+=O,g=x.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let o=r[r.length-1];o instanceof tl?r[r.length-1]=new tl(o.length+i):r.push(null,new tl(i-1))}if(e>0){let o=r[0];o instanceof tl?r[0]=new tl(e+o.length):r.unshift(new tl(e-1),null)}return pc.of(r)}decomposeLeft(e,n){n.push(new tl(e-1),null)}decomposeRight(e,n){n.push(null,new tl(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let o=n+this.length;if(i&&i.from<=n+this.length&&i.more){let a=[],s=Math.max(n,i.from),u=-1;for(i.from>n&&a.push(new tl(i.from-n-1).updateHeight(e,n));s<=o&&i.more;){let g=e.doc.lineAt(s).length;a.length&&a.push(null);let v=i.heights[i.index++],x=0;v<0&&(x=-v,v=i.heights[i.index++]),u==-1?u=v:Math.abs(v-u)>=n5&&(u=-2);let O=new Qu(g,v,x);O.outdated=!1,a.push(O),s+=g+1}s<=o&&a.push(null,new tl(o-s).updateHeight(e,s));let d=pc.of(a);return(u<0||Math.abs(d.height-this.height)>=n5||Math.abs(u-this.heightMetrics(e,n).perLine)>=n5)&&(hO=!0),MM(this,d)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class SVe extends pc{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let o=r+this.left.height;return e<o?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,o,i+this.left.length+this.break)}lineAt(e,n,r,i,o){let a=i+this.left.height,s=o+this.left.length+this.break,u=n==Eo.ByHeight?e<a:e<s,d=u?this.left.lineAt(e,n,r,i,o):this.right.lineAt(e,n,r,a,s);if(this.break||(u?d.to<s:d.from>s))return d;let g=n==Eo.ByPosNoHeight?Eo.ByPosNoHeight:Eo.ByPos;return u?d.join(this.right.lineAt(s,g,r,a,s)):this.left.lineAt(s,g,r,i,o).join(d)}forEachLine(e,n,r,i,o,a){let s=i+this.left.height,u=o+this.left.length+this.break;if(this.break)e<u&&this.left.forEachLine(e,n,r,i,o,a),n>=u&&this.right.forEachLine(e,n,r,s,u,a);else{let d=this.lineAt(u,Eo.ByPos,r,i,o);e<d.from&&this.left.forEachLine(e,d.from-1,r,i,o,a),d.to>=e&&d.from<=n&&a(d),n>d.to&&this.right.forEachLine(d.to+1,n,r,s,u,a)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let o=[];e>0&&this.decomposeLeft(e,o);let a=o.length;for(let s of r)o.push(s);if(e>0&&$W(o,a-1),n<this.length){let s=o.length;this.decomposeRight(n,o),$W(o,s)}return pc.of(o)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?pc.of(this.break?[e,null,n]:[e,n]):(this.left=MM(this.left,e),this.right=MM(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:o,right:a}=this,s=n+o.length+this.break,u=null;return i&&i.from<=n+o.length&&i.more?u=o=o.updateHeight(e,n,r,i):o.updateHeight(e,n,r),i&&i.from<=s+a.length&&i.more?u=a=a.updateHeight(e,s,r,i):a.updateHeight(e,s,r),u?this.balanced(o,a):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function $W(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof tl&&(r=t[e+1])instanceof tl&&t.splice(e-1,3,new tl(n.length+1+r.length))}const CVe=5;class eF{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Qu?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new Qu(r-this.pos,-1,0)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,o=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let a=n-e;r.block?this.addBlock(new zse(a,i,r)):(a||o||i>=CVe)&&this.addLineDeco(i,o,a)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Qu(this.pos-e,-1,0)),this.writtenTo=this.pos}blankContent(e,n){let r=new tl(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Qu)return e;let n=new Qu(0,-1,0);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof Qu)&&!this.isCovered?this.nodes.push(new Qu(0,-1,0)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof Qu&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let o=new eF(r,e);return Hr.spans(n,r,i,o,0),o.finish(r)}}function TVe(t,e,n){let r=new kVe;return Hr.compare(t,e,n,r,0),r.changes}class kVe{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&Cw(e,n,this.changes,5)}}function EVe(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,o=Math.max(0,n.left),a=Math.min(i.innerWidth,n.right),s=Math.max(0,n.top),u=Math.min(i.innerHeight,n.bottom);for(let d=t.parentNode;d&&d!=r.body;)if(d.nodeType==1){let g=d,v=window.getComputedStyle(g);if((g.scrollHeight>g.clientHeight||g.scrollWidth>g.clientWidth)&&v.overflow!="visible"){let x=g.getBoundingClientRect();o=Math.max(o,x.left),a=Math.min(a,x.right),s=Math.max(s,x.top),u=Math.min(d==t.parentNode?i.innerHeight:u,x.bottom)}d=v.position=="absolute"||v.position=="fixed"?g.offsetParent:g.parentNode}else if(d.nodeType==11)d=d.host;else break;return{left:o-n.left,right:Math.max(o,a)-n.left,top:s-(n.top+e),bottom:Math.max(s,u)-(n.top+e)}}function AVe(t){let e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView||window;return e.left<n.innerWidth&&e.right>0&&e.top<n.innerHeight&&e.bottom>0}function PVe(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class EL{constructor(e,n,r,i){this.from=e,this.to=n,this.size=r,this.displaySize=i}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(i.from!=o.from||i.to!=o.to||i.size!=o.size)return!1}return!0}draw(e,n){return Bn.replace({widget:new MVe(this.displaySize*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class MVe extends md{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class zW{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=NW,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=_o.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(Y9).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new bVe(n),this.stateDeco=e.facet(DT).filter(r=>typeof r!="function"),this.heightMap=pc.empty().applyChanges(this.stateDeco,Ai.empty,this.heightOracle.setDoc(e.doc),[new Xh(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Bn.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:o,to:a})=>i>=o&&i<=a)){let{from:o,to:a}=this.lineBlockAt(i);e.push(new YA(o,a))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?NW:new tF(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(aC(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(DT).filter(g=>typeof g!="function");let i=e.changedRanges,o=Xh.extendWithRanges(i,TVe(r,this.stateDeco,e?e.changes:Ws.empty(this.state.doc.length))),a=this.heightMap.height,s=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);LW(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),(this.heightMap.height!=a||hO)&&(e.flags|=2),s?(this.scrollAnchorPos=e.changes.mapPos(s.from,-1),this.scrollAnchorHeight=s.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=a);let u=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<u.from||n.range.head>u.to)||!this.viewportIsAppropriate(u))&&(u=this.getViewport(0,n));let d=u.from!=this.viewport.from||u.to!=this.viewport.to;this.viewport=u,e.flags|=this.updateForViewport(),(d||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(pse)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,o=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?_o.RTL:_o.LTR;let a=this.heightOracle.mustRefreshForWrapping(o),s=n.getBoundingClientRect(),u=a||this.mustMeasureContent||this.contentDOMHeight!=s.height;this.contentDOMHeight=s.height,this.mustMeasureContent=!1;let d=0,g=0;if(s.width&&s.height){let{scaleX:F,scaleY:U}=Yoe(n,s);(F>.005&&Math.abs(this.scaleX-F)>.005||U>.005&&Math.abs(this.scaleY-U)>.005)&&(this.scaleX=F,this.scaleY=U,d|=16,a=u=!0)}let v=(parseInt(r.paddingTop)||0)*this.scaleY,x=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=v||this.paddingBottom!=x)&&(this.paddingTop=v,this.paddingBottom=x,d|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(u=!0),this.editorWidth=e.scrollDOM.clientWidth,d|=16);let O=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=O&&(this.scrollAnchorHeight=-1,this.scrollTop=O),this.scrolledToBottom=Joe(e.scrollDOM);let E=(this.printing?PVe:EVe)(n,this.paddingTop),A=E.top-this.pixelViewport.top,M=E.bottom-this.pixelViewport.bottom;this.pixelViewport=E;let L=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(L!=this.inView&&(this.inView=L,L&&(u=!0)),!this.inView&&!this.scrollTarget&&!AVe(e.dom))return 0;let $=s.width;if((this.contentDOMWidth!=$||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=s.width,this.editorHeight=e.scrollDOM.clientHeight,d|=16),u){let F=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(F)&&(a=!0),a||i.lineWrapping&&Math.abs($-this.contentDOMWidth)>i.charWidth){let{lineHeight:U,charWidth:q,textHeight:W}=e.docView.measureTextSize();a=U>0&&i.refresh(o,U,q,W,Math.max(5,$/q),F),a&&(e.docView.minWidth=0,d|=16)}A>0&&M>0?g=Math.max(A,M):A<0&&M<0&&(g=Math.min(A,M)),LW();for(let U of this.viewports){let q=U.from==this.viewport.from?F:e.docView.measureVisibleLineHeights(U);this.heightMap=(a?pc.empty().applyChanges(this.stateDeco,Ai.empty,this.heightOracle,[new Xh(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,a,new wVe(U.from,q))}hO&&(d|=2)}let N=!this.viewportIsAppropriate(this.viewport,g)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return N&&(d&2&&(d|=this.updateScaler()),this.viewport=this.getViewport(g,this.scrollTarget),d|=this.updateForViewport()),(d&2||N)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,e)),d|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),d}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,o=this.heightOracle,{visibleTop:a,visibleBottom:s}=this,u=new YA(i.lineAt(a-r*1e3,Eo.ByHeight,o,0,0).from,i.lineAt(s+(1-r)*1e3,Eo.ByHeight,o,0,0).to);if(n){let{head:d}=n.range;if(d<u.from||d>u.to){let g=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),v=i.lineAt(d,Eo.ByPos,o,0,0),x;n.y=="center"?x=(v.top+v.bottom)/2-g/2:n.y=="start"||n.y=="nearest"&&d<u.from?x=v.top:x=v.bottom-g,u=new YA(i.lineAt(x-1e3/2,Eo.ByHeight,o,0,0).from,i.lineAt(x+g+1e3/2,Eo.ByHeight,o,0,0).to)}}return u}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new YA(this.heightMap.lineAt(r,Eo.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Eo.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,Eo.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(n,Eo.ByPos,this.heightOracle,0,0),{visibleTop:a,visibleBottom:s}=this;return(e==0||i<=a-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||o>=s+Math.max(10,Math.min(r,250)))&&i>a-2*1e3&&o<s+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new EL(n.mapPos(i.from),n.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,o=i>>1,a=i<<1;if(this.defaultTextDirection!=_o.LTR&&!r)return[];let s=[],u=(g,v,x,O)=>{if(v-g<o)return;let E=this.state.selection.main,A=[E.from];E.empty||A.push(E.to);for(let L of A)if(L>g&&L<v){u(g,L-10,x,O),u(L+10,v,x,O);return}let M=IVe(e,L=>L.from>=x.from&&L.to<=x.to&&Math.abs(L.from-g)<o&&Math.abs(L.to-v)<o&&!A.some($=>L.from<$&&L.to>$));if(!M){if(v<x.to&&n&&r&&n.visibleRanges.some(N=>N.from<=v&&N.to>=v)){let N=n.moveToLineBoundary(jt.cursor(v),!1,!0).head;N>g&&(v=N)}let L=this.gapSize(x,g,v,O),$=r||L<2e6?L:2e6;M=new EL(g,v,L,$)}s.push(M)},d=g=>{if(g.length<a||g.type!=ll.Text)return;let v=RVe(g.from,g.to,this.stateDeco);if(v.total<a)return;let x=this.scrollTarget?this.scrollTarget.range.head:null,O,E;if(r){let A=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,M,L;if(x!=null){let $=JA(v,x),N=((this.visibleBottom-this.visibleTop)/2+A)/g.height;M=$-N,L=$+N}else M=(this.visibleTop-g.top-A)/g.height,L=(this.visibleBottom-g.top+A)/g.height;O=KA(v,M),E=KA(v,L)}else{let A=v.total*this.heightOracle.charWidth,M=i*this.heightOracle.charWidth,L=0;if(A>2e6)for(let q of e)q.from>=g.from&&q.from<g.to&&q.size!=q.displaySize&&q.from*this.heightOracle.charWidth+L<this.pixelViewport.left&&(L=q.size-q.displaySize);let $=this.pixelViewport.left+L,N=this.pixelViewport.right+L,F,U;if(x!=null){let q=JA(v,x),W=((N-$)/2+M)/A;F=q-W,U=q+W}else F=($-M)/A,U=(N+M)/A;O=KA(v,F),E=KA(v,U)}O>g.from&&u(g.from,O,g,v),E<g.to&&u(E,g.to,g,v)};for(let g of this.viewportLines)Array.isArray(g.type)?g.type.forEach(d):d(g);return s}gapSize(e,n,r,i){let o=JA(i,r)-JA(i,n);return this.heightOracle.lineWrapping?e.height*o:i.total*this.heightOracle.charWidth*o}updateLineGaps(e){EL.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Bn.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let r=[];Hr.spans(n,this.viewport.from,this.viewport.to,{span(o,a){r.push({from:o,to:a})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let o=0;o<r.length&&!(i&8);o++){let a=this.visibleRanges[o],s=r[o];(a.from!=s.from||a.to!=s.to)&&(i|=4,e&&e.mapPos(a.from,-1)==s.from&&e.mapPos(a.to,1)==s.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||aC(this.heightMap.lineAt(e,Eo.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||aC(this.heightMap.lineAt(this.scaler.fromDOM(e),Eo.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return aC(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}let YA=class{constructor(e,n){this.from=e,this.to=n}};function RVe(t,e,n){let r=[],i=t,o=0;return Hr.spans(n,t,e,{span(){},point(a,s){a>i&&(r.push({from:i,to:a}),o+=a-i),i=s}},20),i<e&&(r.push({from:i,to:e}),o+=e-i),{total:o,ranges:r}}function KA({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:o,to:a}=e[i],s=a-o;if(r<=s)return o+r;r-=s}}function JA(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function IVe(t,e){for(let n of t)if(e(n))return n}const NW={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};class tF{constructor(e,n,r){let i=0,o=0,a=0;this.viewports=r.map(({from:s,to:u})=>{let d=n.lineAt(s,Eo.ByPos,e,0,0).top,g=n.lineAt(u,Eo.ByPos,e,0,0).bottom;return i+=g-d,{from:s,to:u,top:d,bottom:g,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let s of this.viewports)s.domTop=a+(s.top-o)*this.scale,a=s.domBottom=s.domTop+(s.bottom-s.top),o=s.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||e<o.top)return i+(e-r)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);r=o.bottom,i=o.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||e<o.domTop)return r+(e-i)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);r=o.bottom,i=o.domBottom}}eq(e){return e instanceof tF?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,r)=>n.from==e.viewports[r].from&&n.to==e.viewports[r].to):!1}}function aC(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new _f(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(i=>aC(i,e)):t._content)}const eP=Mn.define({combine:t=>t.join(" ")}),x6=Mn.define({combine:t=>t.indexOf(!0)>-1}),b6=sy.newName(),Nse=sy.newName(),Bse=sy.newName(),Fse={"&light":"."+Nse,"&dark":"."+Bse};function w6(t,e,n){return new sy(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const DVe=w6("."+b6,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Fse),LVe={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},AL=In.ie&&In.ie_version<=11;class $Ve{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new fje,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(In.ie&&In.ie_version<=11||In.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&In.android&&e.constructor.EDIT_CONTEXT!==!1&&!(In.chrome&&In.chrome_version<126)&&(this.editContext=new NVe(e),e.state.facet(Ng)&&(e.contentDOM.editContext=this.editContext.editContext)),AL&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(Ng)?r.root.activeElement!=this.dom:!e5(this.dom,i))return;let o=i.anchorNode&&r.docView.tile.nearest(i.anchorNode);if(o&&o.isWidget()&&o.widget.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(In.ie&&In.ie_version<=11||In.android&&In.chrome)&&!r.state.selection.main.empty&&i.focusNode&&zC(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=RT(e.root);if(!n)return!1;let r=In.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&zVe(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let i=e5(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&mje(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,LVe),AL&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),AL&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&Tw(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let o of e){let a=this.readMutation(o);a&&(a.typeOver&&(i=!0),n==-1?{from:n,to:r}=a:(n=Math.min(a.from,n),r=Math.max(a.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&e5(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new tVe(this.view,e,n,r);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,i=kse(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!n.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let n=this.view.docView.tile.nearest(e.target);if(!n||n.isWidget())return null;if(n.markDirty(e.type=="attributes"),e.type=="childList"){let r=BW(n,e.previousSibling||e.target.previousSibling,-1),i=BW(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Ng)!=e.state.facet(Ng)&&(e.view.contentDOM.editContext=e.state.facet(Ng)?this.editContext.editContext:null))}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function BW(t,e,n){for(;e;){let r=ra.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function FW(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,a=t.docView.domAtPos(t.state.selection.main.anchor,1);return zC(a.node,a.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function zVe(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return FW(t,i)}let n=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?FW(t,n):null}class NVe{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:o,head:a}=i,s=this.toEditorPos(r.updateRangeStart),u=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:s,drifted:!1});let d=u-s>r.text.length;s==this.from&&o<this.from?s=o:u==this.to&&o>this.to&&(u=o);let g=Ese(e.state.sliceDoc(s,u),r.text,(d?i.from:i.to)-s,d?"end":null);if(!g){let x=jt.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));x.main.eq(i)||e.dispatch({selection:x,userEvent:"select"});return}let v={from:g.from+s,to:g.toA+s,insert:Ai.of(r.text.slice(g.from,g.toB).split(`
`))};if((In.mac||In.android)&&v.from==a-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(v={from:s,to:u,insert:Ai.of([r.text.replace("."," ")])}),this.pendingContextChange=v,!e.state.readOnly){let x=this.to-this.from+(v.to-v.from+v.insert.length);J9(e,v,jt.single(this.toEditorPos(r.selectionStart,x),this.toEditorPos(r.selectionEnd,x)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),v.from<v.to&&!v.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(n.text.slice(Math.max(0,r.updateRangeStart-1),Math.min(n.text.length,r.updateRangeStart+1)))&&this.handlers.compositionend(r)},this.handlers.characterboundsupdate=r=>{let i=[],o=null;for(let a=this.toEditorPos(r.rangeStart),s=this.toEditorPos(r.rangeEnd);a<s;a++){let u=e.coordsForChar(a);o=u&&new DOMRect(u.left,u.top,u.right-u.left,u.bottom-u.top)||o||new DOMRect,i.push(o)}n.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let o of r.getTextFormats()){let a=o.underlineStyle,s=o.underlineThickness;if(!/none/i.test(a)&&!/none/i.test(s)){let u=this.toEditorPos(o.rangeStart),d=this.toEditorPos(o.rangeEnd);if(u<d){let g=`text-decoration: underline ${/^[a-z]/.test(a)?a+" ":a=="Dashed"?"dashed ":a=="Squiggle"?"wavy ":""}${/thin/i.test(s)?1:2}px`;i.push(Bn.mark({attributes:{style:g}}).range(u,d))}}}e.dispatch({effects:gse.of(Bn.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=RT(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((o,a,s,u,d)=>{if(r)return;let g=d.length-(a-o);if(i&&a>=i.to)if(i.from==o&&i.to==a&&i.insert.eq(d)){i=this.pendingContextChange=null,n+=g,this.to+=g;return}else i=null,this.revertPending(e.state);if(o+=n,a+=n,a<=this.from)this.from+=g,this.to+=g;else if(o<this.to){if(o<this.from||a>this.to||this.to-this.from+d.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(o),this.toContextPos(a),d.toString()),this.to+=g}n+=g}),i&&!r&&this.revertPending(e.state),!r}update(e){let n=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),i=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e,n=this.to-this.from){e=Math.min(e,n);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let n=this.composing;return n&&n.drifted?n.contextBase+(e-n.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class dn{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(o=>r(o,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||pje(e.parent)||document,this.viewState=new zW(e.state||Rr.create(e)),e.scrollTo&&e.scrollTo.is(HA)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(aw).map(i=>new OL(i));for(let i of this.plugins)i.update(this);this.observer=new $Ve(this),this.inputState=new oVe(this),this.inputState.ensureHandlers(this.plugins),this.docView=new OW(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let n=e.length==1&&e[0]instanceof Js?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,o=this.state;for(let x of e){if(x.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=x.state}if(this.destroyed){this.viewState.state=o;return}let a=this.hasFocus,s=0,u=null;e.some(x=>x.annotation(Dse))?(this.inputState.notifiedFocused=a,s=1):a!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=a,u=Lse(o,a),u||(s=1));let d=this.observer.delayedAndroidKey,g=null;if(d?(this.observer.clearDelayedAndroidKey(),g=this.observer.readChange(),(g&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(g=null)):this.observer.clear(),o.facet(Rr.phrases)!=this.state.facet(Rr.phrases))return this.setState(o);i=EM.create(this,o,e),i.flags|=s;let v=this.viewState.scrollTarget;try{this.updateState=2;for(let x of e){if(v&&(v=v.map(x.changes)),x.scrollIntoView){let{main:O}=x.state.selection;v=new kw(O.empty?O:jt.cursor(O.head,O.head>O.anchor?-1:1))}for(let O of x.effects)O.is(HA)&&(v=O.value.clip(this.state))}this.viewState.update(i,v),this.bidiCache=RM.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(oC)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(x=>x.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(eP)!=i.state.facet(eP)&&(this.viewState.mustMeasureContent=!0),(n||r||v||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!i.empty)for(let x of this.state.facet(m6))try{x(i)}catch(O){iu(this.state,O,"update listener")}(u||g)&&Promise.resolve().then(()=>{u&&this.state==u.startState&&this.dispatch(u),g&&!kse(this,g)&&d.force&&Tw(this.contentDOM,d.key,d.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new zW(e),this.plugins=e.facet(aw).map(r=>new OL(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new OW(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(aw),r=e.state.facet(aw);if(n!=r){let i=[];for(let o of r){let a=n.indexOf(o);if(a<0)i.push(new OL(o));else{let s=this.plugins[a];s.mustUpdate=e,i.push(s)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){iu(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:a}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(a=-1),this.viewState.scrollAnchorHeight=-1;try{for(let s=0;;s++){if(a<0)if(Joe(r))o=-1,a=this.viewState.heightMap.height;else{let O=this.viewState.scrollAnchorAt(i);o=O.from,a=O.top}this.updateState=1;let u=this.viewState.measure(this);if(!u&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(s>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let d=[];u&4||([this.measureRequests,d]=[d,this.measureRequests]);let g=d.map(O=>{try{return O.read(this)}catch(E){return iu(this.state,E),jW}}),v=EM.create(this,this.state,[]),x=!1;v.flags|=u,n?n.flags|=u:n=v,this.updateState=2,v.empty||(this.updatePlugins(v),this.inputState.update(v),this.updateAttrs(),x=this.docView.update(v),x&&this.docViewUpdate());for(let O=0;O<d.length;O++)if(g[O]!=jW)try{let E=d[O];E.write&&E.write(g[O],this)}catch(E){iu(this.state,E)}if(x&&this.docView.updateSelection(!0),!v.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,a=-1;continue}else{let E=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-a;if(E>1||E<-1){i=i+E,r.scrollTop=i/this.scaleY,a=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let s of this.state.facet(m6))s(n)}get themeClasses(){return b6+" "+(this.state.facet(x6)?Bse:Nse)+" "+this.state.facet(eP)}updateAttrs(){let e=VW(this,yse,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Ng)?"true":"false",class:"cm-content",style:`${In.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),VW(this,Y9,n);let r=this.observer.ignore(()=>{let i=yW(this.contentDOM,this.contentAttrs,n),o=yW(this.dom,this.editorAttrs,e);return i||o});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(dn.announce)){n&&(this.announceDOM.textContent=""),n=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(oC);let e=this.state.facet(dn.cspNonce);sy.mount(this.root,this.styleModules.concat(DVe).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.plugin!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.plugin==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return kL(this,e,SW(this,e,n,r))}moveByGroup(e,n){return kL(this,e,SW(this,e,n,r=>Xje(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),o=r[n?r.length-1:0];return jt.cursor(o.side(n,i)+e.from,o.forward(!n,i)?1:-1)}moveToLineBoundary(e,n,r=!0){return Gje(this,e,n,r)}moveVertically(e,n,r){return kL(this,e,Yje(this,e,n,r))}domAtPos(e,n=1){return this.docView.domAtPos(e,n)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){this.readMeasured();let r=v6(this,e,n);return r&&r.pos}posAndSideAtCoords(e,n=!0){return this.readMeasured(),v6(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),o=this.bidiSpans(i),a=o[Vg.find(o,e-i.from,-1,n)];return kM(r,a.dir==_o.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(fse)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>BVe)return ose(e.length);let n=this.textDirectionAt(e.from),r;for(let o of this.bidiCache)if(o.from==e.from&&o.dir==n&&(o.fresh||ise(o.isolates,r=xW(this,e))))return o.order;r||(r=xW(this,e));let i=wje(e.text,n,r);return this.bidiCache.push(new RM(e.from,e.to,n,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||In.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{Koe(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return HA.of(new kw(typeof e=="number"?jt.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return HA.of(new kw(jt.cursor(r.from),"start","start",r.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Rs.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Rs.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=sy.newName(),i=[eP.of(r),oC.of(w6(`.${r}`,e))];return n&&n.dark&&i.push(x6.of(!0)),i}static baseTheme(e){return Nf.lowest(oC.of(w6("."+b6,e,Fse)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&ra.get(r)||ra.get(e);return((n=i?.root)===null||n===void 0?void 0:n.view)||null}}dn.styleModule=oC;dn.inputHandler=hse;dn.clipboardInputFilter=G9;dn.clipboardOutputFilter=X9;dn.scrollHandler=mse;dn.focusChangeEffect=dse;dn.perLineTextDirection=fse;dn.exceptionSink=use;dn.updateListener=m6;dn.editable=Ng;dn.mouseSelectionStyle=cse;dn.dragMovesSelection=lse;dn.clickAddsSelectionRange=ase;dn.decorations=DT;dn.blockWrappers=vse;dn.outerDecorations=_se;dn.atomicRanges=qk;dn.bidiIsolatedRanges=xse;dn.scrollMargins=bse;dn.darkTheme=x6;dn.cspNonce=Mn.define({combine:t=>t.length?t[0]:""});dn.contentAttributes=Y9;dn.editorAttributes=yse;dn.lineWrapping=dn.contentAttributes.of({class:"cm-lineWrapping"});dn.announce=pr.define();const BVe=4096,jW={};class RM{constructor(e,n,r,i,o,a){this.from=e,this.to=n,this.dir=r,this.isolates=i,this.fresh=o,this.order=a}static update(e,n){if(n.empty&&!e.some(o=>o.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:_o.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let a=e[o];a.dir==i&&!n.touchesRange(a.from,a.to)&&r.push(new RM(n.mapPos(a.from,1),n.mapPos(a.to,-1),a.dir,a.isolates,!1,a.order))}return r}}function VW(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let o=r[i],a=typeof o=="function"?o(t):o;a&&q9(a,n)}return n}const FVe=In.mac?"mac":In.windows?"win":In.linux?"linux":"key";function jVe(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,o,a,s;for(let u=0;u<n.length-1;++u){const d=n[u];if(/^(cmd|meta|m)$/i.test(d))s=!0;else if(/^a(lt)?$/i.test(d))i=!0;else if(/^(c|ctrl|control)$/i.test(d))o=!0;else if(/^s(hift)?$/i.test(d))a=!0;else if(/^mod$/i.test(d))e=="mac"?s=!0:o=!0;else throw new Error("Unrecognized modifier name: "+d)}return i&&(r="Alt-"+r),o&&(r="Ctrl-"+r),s&&(r="Meta-"+r),a&&(r="Shift-"+r),r}function tP(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const VVe=Nf.default(dn.domEventHandlers({keydown(t,e){return Vse(jse(e.state),t,e,"editor")}})),JO=Mn.define({enables:VVe}),QW=new WeakMap;function jse(t){let e=t.facet(JO),n=QW.get(e);return n||QW.set(e,n=ZVe(e.reduce((r,i)=>r.concat(i),[]))),n}function QVe(t,e,n){return Vse(jse(t.state),e,t,n)}let k0=null;const UVe=4e3;function ZVe(t,e=FVe){let n=Object.create(null),r=Object.create(null),i=(a,s)=>{let u=r[a];if(u==null)r[a]=s;else if(u!=s)throw new Error("Key binding "+a+" is used both as a regular binding and as a multi-stroke prefix")},o=(a,s,u,d,g)=>{var v,x;let O=n[a]||(n[a]=Object.create(null)),E=s.split(/ (?!$)/).map(L=>jVe(L,e));for(let L=1;L<E.length;L++){let $=E.slice(0,L).join(" ");i($,!0),O[$]||(O[$]={preventDefault:!0,stopPropagation:!1,run:[N=>{let F=k0={view:N,prefix:$,scope:a};return setTimeout(()=>{k0==F&&(k0=null)},UVe),!0}]})}let A=E.join(" ");i(A,!1);let M=O[A]||(O[A]={preventDefault:!1,stopPropagation:!1,run:((x=(v=O._any)===null||v===void 0?void 0:v.run)===null||x===void 0?void 0:x.slice())||[]});u&&M.run.push(u),d&&(M.preventDefault=!0),g&&(M.stopPropagation=!0)};for(let a of t){let s=a.scope?a.scope.split(" "):["editor"];if(a.any)for(let d of s){let g=n[d]||(n[d]=Object.create(null));g._any||(g._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:v}=a;for(let x in g)g[x].run.push(O=>v(O,O6))}let u=a[e]||a.key;if(u)for(let d of s)o(d,u,a.run,a.preventDefault,a.stopPropagation),a.shift&&o(d,"Shift-"+u,a.shift,a.preventDefault,a.stopPropagation)}return n}let O6=null;function Vse(t,e,n,r){O6=e;let i=oje(e),o=Jc(i,0),a=Wp(o)==i.length&&i!=" ",s="",u=!1,d=!1,g=!1;k0&&k0.view==n&&k0.scope==r&&(s=k0.prefix+" ",Pse.indexOf(e.keyCode)<0&&(d=!0,k0=null));let v=new Set,x=M=>{if(M){for(let L of M.run)if(!v.has(L)&&(v.add(L),L(n)))return M.stopPropagation&&(g=!0),!0;M.preventDefault&&(M.stopPropagation&&(g=!0),d=!0)}return!1},O=t[r],E,A;return O&&(x(O[s+tP(i,e,!a)])?u=!0:a&&(e.altKey||e.metaKey||e.ctrlKey)&&!(In.windows&&e.ctrlKey&&e.altKey)&&!(In.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(E=Y0[e.keyCode])&&E!=i?(x(O[s+tP(E,e,!0)])||e.shiftKey&&(A=PT[e.keyCode])!=i&&A!=E&&x(O[s+tP(A,e,!1)]))&&(u=!0):a&&e.shiftKey&&x(O[s+tP(i,e,!0)])&&(u=!0),!u&&x(O._any)&&(u=!0)),d&&(u=!0),u&&g&&e.stopPropagation(),O6=null,u}class Wk{constructor(e,n,r,i,o){this.className=e,this.left=n,this.top=r,this.width=i,this.height=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let o=Qse(e);return[new Wk(n,i.left-o.left,i.top-o.top,null,i.bottom-i.top)]}else return qVe(e,n,r)}}function Qse(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==_o.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function UW(t,e,n,r){let i=t.coordsAtPos(e,n*2);if(!i)return r;let o=t.dom.getBoundingClientRect(),a=(i.top+i.bottom)/2,s=t.posAtCoords({x:o.left+1,y:a}),u=t.posAtCoords({x:o.right-1,y:a});return s==null||u==null?r:{from:Math.max(r.from,Math.min(s,u)),to:Math.min(r.to,Math.max(s,u))}}function qVe(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),o=t.textDirection==_o.LTR,a=t.contentDOM,s=a.getBoundingClientRect(),u=Qse(t),d=a.querySelector(".cm-line"),g=d&&window.getComputedStyle(d),v=s.left+(g?parseInt(g.paddingLeft)+Math.min(0,parseInt(g.textIndent)):0),x=s.right-(g?parseInt(g.paddingRight):0),O=y6(t,r,1),E=y6(t,i,-1),A=O.type==ll.Text?O:null,M=E.type==ll.Text?E:null;if(A&&(t.lineWrapping||O.widgetLineBreaks)&&(A=UW(t,r,1,A)),M&&(t.lineWrapping||E.widgetLineBreaks)&&(M=UW(t,i,-1,M)),A&&M&&A.from==M.from&&A.to==M.to)return $(N(n.from,n.to,A));{let U=A?N(n.from,null,A):F(O,!1),q=M?N(null,n.to,M):F(E,!0),W=[];return(A||O).to<(M||E).from-(A&&M?1:0)||O.widgetLineBreaks>1&&U.bottom+t.defaultLineHeight/2<q.top?W.push(L(v,U.bottom,x,q.top)):U.bottom<q.top&&t.elementAtHeight((U.bottom+q.top)/2).type==ll.Text&&(U.bottom=q.top=(U.bottom+q.top)/2),$(U).concat(W).concat($(q))}function L(U,q,W,te){return new Wk(e,U-u.left,q-u.top,W-U,te-q)}function $({top:U,bottom:q,horizontal:W}){let te=[];for(let re=0;re<W.length;re+=2)te.push(L(W[re],U,W[re+1],q));return te}function N(U,q,W){let te=1e9,re=-1e9,ce=[];function be(we,pe,_e,Me,Be){let Ue=t.coordsAtPos(we,we==W.to?-2:2),Ce=t.coordsAtPos(_e,_e==W.from?2:-2);!Ue||!Ce||(te=Math.min(Ue.top,Ce.top,te),re=Math.max(Ue.bottom,Ce.bottom,re),Be==_o.LTR?ce.push(o&&pe?v:Ue.left,o&&Me?x:Ce.right):ce.push(!o&&Me?v:Ce.left,!o&&pe?x:Ue.right))}let ie=U??W.from,me=q??W.to;for(let we of t.visibleRanges)if(we.to>ie&&we.from<me)for(let pe=Math.max(we.from,ie),_e=Math.min(we.to,me);;){let Me=t.state.doc.lineAt(pe);for(let Be of t.bidiSpans(Me)){let Ue=Be.from+Me.from,Ce=Be.to+Me.from;if(Ue>=_e)break;Ce>pe&&be(Math.max(Ue,pe),U==null&&Ue<=ie,Math.min(Ce,_e),q==null&&Ce>=me,Be.dir)}if(pe=Me.to+1,pe>=_e)break}return ce.length==0&&be(ie,U==null,me,q==null,t.textDirection),{top:te,bottom:re,horizontal:ce}}function F(U,q){let W=s.top+(q?U.top:U.bottom);return{top:W,bottom:W,horizontal:[]}}}function WVe(t,e){return t.constructor==e.constructor&&t.eq(e)}class HVe{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(r5)!=e.state.facet(r5)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let n=0,r=e.facet(r5);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:n}=this.view;(e!=this.scaleX||n!=this.scaleY)&&(this.scaleX=e,this.scaleY=n,this.dom.style.transform=`scale(${1/e}, ${1/n})`)}draw(e){if(e.length!=this.drawn.length||e.some((n,r)=>!WVe(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let i of e)i.update&&n&&i.constructor&&this.drawn[r].constructor&&i.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(i.draw(),n);for(;n;){let i=n.nextSibling;n.remove(),n=i}this.drawn=e,In.safari&&In.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const r5=Mn.define();function Use(t){return[Rs.define(e=>new HVe(e,t)),r5.of(t)]}const LT=Mn.define({combine(t){return Om(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function GVe(t={}){return[LT.of(t),XVe,YVe,KVe,pse.of(!0)]}function Zse(t){return t.startState.facet(LT)!=t.state.facet(LT)}const XVe=Use({above:!0,markers(t){let{state:e}=t,n=e.facet(LT),r=[];for(let i of e.selection.ranges){let o=i==e.selection.main;if(i.empty||n.drawRangeCursor){let a=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",s=i.empty?i:jt.cursor(i.head,i.head>i.anchor?-1:1);for(let u of Wk.forRange(t,a,s))r.push(u)}}return r},update(t,e){t.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=Zse(t);return n&&ZW(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){ZW(e.state,t)},class:"cm-cursorLayer"});function ZW(t,e){e.style.animationDuration=t.facet(LT).cursorBlinkRate+"ms"}const YVe=Use({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:Wk.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||Zse(t)},class:"cm-selectionLayer"}),KVe=Nf.highest(dn.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),qse=pr.define({map(t,e){return t==null?null:e.mapPos(t)}}),lC=Ls.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,r)=>r.is(qse)?r.value:n,t)}}),JVe=Rs.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(lC);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(lC)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(lC),n=e!=null&&t.coordsAtPos(e);if(!n)return null;let r=t.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-r.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(lC)!=t&&this.view.dispatch({effects:qse.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function eQe(){return[lC,JVe]}function qW(t,e,n,r,i){e.lastIndex=0;for(let o=t.iterRange(n,r),a=n,s;!o.next().done;a+=o.value.length)if(!o.lineBreak)for(;s=e.exec(o.value);)i(a+s.index,s)}function tQe(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:o}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),o=Math.min(t.state.doc.lineAt(o).to,o+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=o:r.push({from:i,to:o});return r}class nQe{constructor(e){const{regexp:n,decoration:r,decorate:i,boundary:o,maxLength:a=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=(s,u,d,g)=>i(g,d,d+s[0].length,s,u);else if(typeof r=="function")this.addMatch=(s,u,d,g)=>{let v=r(s,u,d);v&&g(d,d+s[0].length,v)};else if(r)this.addMatch=(s,u,d,g)=>g(d,d+s[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=o,this.maxLength=a}createDeco(e){let n=new hu,r=n.add.bind(n);for(let{from:i,to:o}of tQe(e,this.maxLength))qW(e.state.doc,this.regexp,i,o,(a,s)=>this.addMatch(s,e,a,r));return n.finish()}updateDeco(e,n){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((o,a,s,u)=>{u>=e.view.viewport.from&&s<=e.view.viewport.to&&(r=Math.min(s,r),i=Math.max(u,i))}),e.viewportMoved||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,n.map(e.changes),r,i):n}updateRange(e,n,r,i){for(let o of e.visibleRanges){let a=Math.max(o.from,r),s=Math.min(o.to,i);if(s>=a){let u=e.state.doc.lineAt(a),d=u.to<s?e.state.doc.lineAt(s):u,g=Math.max(o.from,u.from),v=Math.min(o.to,d.to);if(this.boundary){for(;a>u.from;a--)if(this.boundary.test(u.text[a-1-u.from])){g=a;break}for(;s<d.to;s++)if(this.boundary.test(d.text[s-d.from])){v=s;break}}let x=[],O,E=(A,M,L)=>x.push(L.range(A,M));if(u==d)for(this.regexp.lastIndex=g-u.from;(O=this.regexp.exec(u.text))&&O.index<v-u.from;)this.addMatch(O,e,O.index+u.from,E);else qW(e.state.doc,this.regexp,g,v,(A,M)=>this.addMatch(M,e,A,E));n=n.update({filterFrom:g,filterTo:v,filter:(A,M)=>A<g||M>v,add:x})}}return n}}const S6=/x/.unicode!=null?"gu":"g",rQe=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,S6),iQe={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let PL=null;function oQe(){var t;if(PL==null&&typeof document<"u"&&document.body){let e=document.body.style;PL=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return PL||!1}const i5=Mn.define({combine(t){let e=Om(t,{render:null,specialChars:rQe,addSpecialChars:null});return(e.replaceTabs=!oQe())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,S6)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,S6)),e}});function sQe(t={}){return[i5.of(t),aQe()]}let WW=null;function aQe(){return WW||(WW=Rs.fromClass(class{constructor(t){this.view=t,this.decorations=Bn.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(i5)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new nQe({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,o=Jc(e[0],0);if(o==9){let a=i.lineAt(r),s=n.state.tabSize,u=Mf(a.text,s,r-a.from);return Bn.replace({widget:new hQe((s-u%s)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[o]||(this.decorationCache[o]=Bn.replace({widget:new uQe(t,o)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(i5);t.startState.facet(i5)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const lQe="";function cQe(t){return t>=32?lQe:t==10?"":String.fromCharCode(9216+t)}class uQe extends md{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=cQe(this.code),r=e.state.phrase("Control character")+" "+(iQe[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,n);if(i)return i;let o=document.createElement("span");return o.textContent=n,o.title=r,o.setAttribute("aria-label",r),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class hQe extends md{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function dQe(){return pQe}const fQe=Bn.line({class:"cm-activeLine"}),pQe=Rs.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(fQe.range(i.from)),e=i.from)}return Bn.set(n)}},{decorations:t=>t.decorations}),C6=2e3;function mQe(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),o=[];if(e.off>C6||n.off>C6||e.col<0||n.col<0){let a=Math.min(e.off,n.off),s=Math.max(e.off,n.off);for(let u=r;u<=i;u++){let d=t.doc.line(u);d.length<=s&&o.push(jt.range(d.from+a,d.to+s))}}else{let a=Math.min(e.col,n.col),s=Math.max(e.col,n.col);for(let u=r;u<=i;u++){let d=t.doc.line(u),g=i6(d.text,a,t.tabSize,!0);if(g<0)o.push(jt.cursor(d.to));else{let v=i6(d.text,s,t.tabSize);o.push(jt.range(d.from+g,d.from+v))}}}return o}function gQe(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function HW(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,o=i>C6?-1:i==r.length?gQe(t,e.clientX):Mf(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:o,off:i}}function yQe(t,e){let n=HW(t,e),r=t.state.selection;return n?{update(i){if(i.docChanged){let o=i.changes.mapPos(i.startState.doc.line(n.line).from),a=i.state.doc.lineAt(o);n={line:a.number,col:n.col,off:Math.min(n.off,a.length)},r=r.map(i.changes)}},get(i,o,a){let s=HW(t,i);if(!s)return r;let u=mQe(t.state,n,s);return u.length?a?jt.create(u.concat(r.ranges)):jt.create(u):r}}:null}function vQe(t){let e=(n=>n.altKey&&n.button==0);return dn.mouseSelectionStyle.of((n,r)=>e(r)?yQe(n,r):null)}const _Qe={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},xQe={style:"cursor: crosshair"};function bQe(t={}){let[e,n]=_Qe[t.key||"Alt"],r=Rs.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||n(i))},keyup(i){(i.keyCode==e||!n(i))&&this.set(!1)},mousemove(i){this.set(n(i))}}});return[r,dn.contentAttributes.of(i=>{var o;return!((o=i.plugin(r))===null||o===void 0)&&o.isDown?xQe:null})]}const nP="-10000px";class Wse{constructor(e,n,r,i){this.facet=n,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(n),this.tooltips=this.input.filter(a=>a);let o=null;this.tooltipViews=this.tooltips.map(a=>o=r(a,o))}update(e,n){var r;let i=e.state.facet(this.facet),o=i.filter(u=>u);if(i===this.input){for(let u of this.tooltipViews)u.update&&u.update(e);return!1}let a=[],s=n?[]:null;for(let u=0;u<o.length;u++){let d=o[u],g=-1;if(d){for(let v=0;v<this.tooltips.length;v++){let x=this.tooltips[v];x&&x.create==d.create&&(g=v)}if(g<0)a[u]=this.createTooltipView(d,u?a[u-1]:null),s&&(s[u]=!!d.above);else{let v=a[u]=this.tooltipViews[g];s&&(s[u]=n[g]),v.update&&v.update(e)}}}for(let u of this.tooltipViews)a.indexOf(u)<0&&(this.removeTooltipView(u),(r=u.destroy)===null||r===void 0||r.call(u));return n&&(s.forEach((u,d)=>n[d]=u),n.length=s.length),this.input=i,this.tooltips=o,this.tooltipViews=a,!0}}function wQe(t){let e=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const ML=Mn.define({combine:t=>{var e,n,r;return{position:In.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||wQe}}}),GW=new WeakMap,nF=Rs.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(ML);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new Wse(t,rF,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(ML);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",n.dom.appendChild(i)}return n.dom.style.position=this.position,n.dom.style.top=nP,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:o}=this.manager.tooltipViews[0];if(In.safari){let a=o.getBoundingClientRect();n=Math.abs(a.top+1e4)>1||Math.abs(a.left)>1}else n=!!o.offsetParent&&o.offsetParent!=this.container.ownerDocument.body}if(n||this.position=="absolute")if(this.parent){let o=this.parent.getBoundingClientRect();o.width&&o.height&&(t=o.width/this.parent.offsetWidth,e=o.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=K9(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((o,a)=>{let s=this.manager.tooltipViews[a];return s.getCoords?s.getCoords(o.pos):this.view.coordsAtPos(o.pos)}),size:this.manager.tooltipViews.map(({dom:o})=>o.getBoundingClientRect()),space:this.view.state.facet(ML).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:n}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let s of this.manager.tooltipViews)s.dom.style.position="absolute"}let{visible:n,space:r,scaleX:i,scaleY:o}=t,a=[];for(let s=0;s<this.manager.tooltips.length;s++){let u=this.manager.tooltips[s],d=this.manager.tooltipViews[s],{dom:g}=d,v=t.pos[s],x=t.size[s];if(!v||u.clip!==!1&&(v.bottom<=Math.max(n.top,r.top)||v.top>=Math.min(n.bottom,r.bottom)||v.right<Math.max(n.left,r.left)-.1||v.left>Math.min(n.right,r.right)+.1)){g.style.top=nP;continue}let O=u.arrow?d.dom.querySelector(".cm-tooltip-arrow"):null,E=O?7:0,A=x.right-x.left,M=(e=GW.get(d))!==null&&e!==void 0?e:x.bottom-x.top,L=d.offset||SQe,$=this.view.textDirection==_o.LTR,N=x.width>r.right-r.left?$?r.left:r.right-x.width:$?Math.max(r.left,Math.min(v.left-(O?14:0)+L.x,r.right-A)):Math.min(Math.max(r.left,v.left-A+(O?14:0)-L.x),r.right-A),F=this.above[s];!u.strictSide&&(F?v.top-M-E-L.y<r.top:v.bottom+M+E+L.y>r.bottom)&&F==r.bottom-v.bottom>v.top-r.top&&(F=this.above[s]=!F);let U=(F?v.top-r.top:r.bottom-v.bottom)-E;if(U<M&&d.resize!==!1){if(U<this.view.defaultLineHeight){g.style.top=nP;continue}GW.set(d,M),g.style.height=(M=U)/o+"px"}else g.style.height&&(g.style.height="");let q=F?v.top-M-E-L.y:v.bottom+E+L.y,W=N+A;if(d.overlap!==!0)for(let te of a)te.left<W&&te.right>N&&te.top<q+M&&te.bottom>q&&(q=F?te.top-M-2-E:te.bottom+E+2);if(this.position=="absolute"?(g.style.top=(q-t.parent.top)/o+"px",XW(g,(N-t.parent.left)/i)):(g.style.top=q/o+"px",XW(g,N/i)),O){let te=v.left+($?L.x:-L.x)-(N+14-7);O.style.left=te/i+"px"}d.overlap!==!0&&a.push({left:N,top:q,right:W,bottom:q+M}),g.classList.toggle("cm-tooltip-above",F),g.classList.toggle("cm-tooltip-below",!F),d.positioned&&d.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=nP}},{eventObservers:{scroll(){this.maybeMeasure()}}});function XW(t,e){let n=parseInt(t.style.left,10);(isNaN(n)||Math.abs(e-n)>1)&&(t.style.left=e+"px")}const OQe=dn.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),SQe={x:0,y:0},rF=Mn.define({enables:[nF,OQe]}),IM=Mn.define({combine:t=>t.reduce((e,n)=>e.concat(n),[])});class qI{static create(e){return new qI(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new Wse(e,IM,(n,r)=>this.createHostedView(n,r),n=>n.dom.remove())}createHostedView(e,n){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}passProp(e){let n;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const CQe=rF.compute([IM],t=>{let e=t.facet(IM);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.map(n=>{var r;return(r=n.end)!==null&&r!==void 0?r:n.pos})),create:qI.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class TQe{constructor(e,n,r,i,o){this.view=e,this.source=n,this.field=r,this.setHover=i,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:n}=this,r=e.docView.tile.nearest(n.target);if(!r)return;let i,o=1;if(r.isWidget())i=r.posAtStart;else{if(i=e.posAtCoords(n),i==null)return;let s=e.coordsAtPos(i);if(!s||n.y<s.top||n.y>s.bottom||n.x<s.left-e.defaultCharacterWidth||n.x>s.right+e.defaultCharacterWidth)return;let u=e.bidiSpans(e.state.doc.lineAt(i)).find(g=>g.from<=i&&g.to>=i),d=u&&u.dir==_o.RTL?-1:1;o=n.x<s.left?-d:d}let a=this.source(e,i,o);if(a?.then){let s=this.pending={pos:i};a.then(u=>{this.pending==s&&(this.pending=null,u&&!(Array.isArray(u)&&!u.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(u)?u:[u])}))},u=>iu(e.state,u,"hover tooltip"))}else a&&!(Array.isArray(a)&&!a.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(a)?a:[a])})}get tooltip(){let e=this.view.plugin(nF),n=e?e.manager.tooltips.findIndex(r=>r.create==qI.create):-1;return n>-1?e.manager.tooltipViews[n]:null}mousemove(e){var n,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:o}=this;if(i.length&&o&&!kQe(o.dom,e)||this.pending){let{pos:a}=i[0]||this.pending,s=(r=(n=i[0])===null||n===void 0?void 0:n.end)!==null&&r!==void 0?r:a;(a==s?this.view.posAtCoords(this.lastMove)!=a:!EQe(this.view,a,s,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let n=r=>{e.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const rP=4;function kQe(t,e){let{left:n,right:r,top:i,bottom:o}=t.getBoundingClientRect(),a;if(a=t.querySelector(".cm-tooltip-arrow")){let s=a.getBoundingClientRect();i=Math.min(s.top,i),o=Math.max(s.bottom,o)}return e.clientX>=n-rP&&e.clientX<=r+rP&&e.clientY>=i-rP&&e.clientY<=o+rP}function EQe(t,e,n,r,i,o){let a=t.scrollDOM.getBoundingClientRect(),s=t.documentTop+t.documentPadding.top+t.contentHeight;if(a.left>r||a.right<r||a.top>i||Math.min(a.bottom,s)<i)return!1;let u=t.posAtCoords({x:r,y:i},!1);return u>=e&&u<=n}function AQe(t,e={}){let n=pr.define(),r=Ls.define({create(){return[]},update(i,o){if(i.length&&(e.hideOnChange&&(o.docChanged||o.selection)?i=[]:e.hideOn&&(i=i.filter(a=>!e.hideOn(o,a))),o.docChanged)){let a=[];for(let s of i){let u=o.changes.mapPos(s.pos,-1,sl.TrackDel);if(u!=null){let d=Object.assign(Object.create(null),s);d.pos=u,d.end!=null&&(d.end=o.changes.mapPos(d.end)),a.push(d)}}i=a}for(let a of o.effects)a.is(n)&&(i=a.value),a.is(PQe)&&(i=[]);return i},provide:i=>IM.from(i)});return{active:r,extension:[r,Rs.define(i=>new TQe(i,t,r,n,e.hoverTime||300)),CQe]}}function Hse(t,e){let n=t.plugin(nF);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const PQe=pr.define(),YW=Mn.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function $T(t,e){let n=t.plugin(Gse),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const Gse=Rs.fromClass(class{constructor(t){this.input=t.state.facet(zT),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(YW);this.top=new iP(t,!0,e.topContainer),this.bottom=new iP(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(YW);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new iP(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new iP(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(zT);if(n!=this.input){let r=n.filter(u=>u),i=[],o=[],a=[],s=[];for(let u of r){let d=this.specs.indexOf(u),g;d<0?(g=u(t.view),s.push(g)):(g=this.panels[d],g.update&&g.update(t)),i.push(g),(g.top?o:a).push(g)}this.specs=r,this.panels=i,this.top.sync(o),this.bottom.sync(a);for(let u of s)u.dom.classList.add("cm-panel"),u.mount&&u.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>dn.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class iP{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=KW(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=KW(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function KW(t){let e=t.nextSibling;return t.remove(),e}const zT=Mn.define({enables:Gse});class ym extends X0{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}ym.prototype.elementClass="";ym.prototype.toDOM=void 0;ym.prototype.mapMode=sl.TrackBefore;ym.prototype.startSide=ym.prototype.endSide=-1;ym.prototype.point=!0;const o5=Mn.define(),MQe=Mn.define(),RQe={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Hr.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},BC=Mn.define();function Xse(t){return[Yse(),BC.of({...RQe,...t})]}const JW=Mn.define({combine:t=>t.some(e=>e)});function Yse(t){return[IQe]}const IQe=Rs.fromClass(class{constructor(t){this.view=t,this.domAfter=null,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(BC).map(e=>new tH(t,e)),this.fixed=!t.state.facet(JW);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}if(t.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(JW)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let n=Hr.iter(this.view.state.facet(o5),this.view.viewport.from),r=[],i=this.gutters.map(o=>new DQe(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(o.type)){let a=!0;for(let s of o.type)if(s.type==ll.Text&&a){T6(n,r,s.from);for(let u of i)u.line(this.view,s,r);a=!1}else if(s.widget)for(let u of i)u.widget(this.view,s)}else if(o.type==ll.Text){T6(n,r,o.from);for(let a of i)a.line(this.view,o,r)}else if(o.widget)for(let a of i)a.widget(this.view,o);for(let o of i)o.finish();t&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(t){let e=t.startState.facet(BC),n=t.state.facet(BC),r=t.docChanged||t.heightChanged||t.viewportChanged||!Hr.eq(t.startState.facet(o5),t.state.facet(o5),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let o of n){let a=e.indexOf(o);a<0?i.push(new tH(this.view,o)):(this.gutters[a].update(t),i.push(this.gutters[a]))}for(let o of this.gutters)o.dom.remove(),i.indexOf(o)<0&&o.destroy();for(let o of i)o.config.side=="after"?this.getDOMAfter().appendChild(o.dom):this.dom.appendChild(o.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:t=>dn.scrollMargins.of(e=>{let n=e.plugin(t);if(!n||n.gutters.length==0||!n.fixed)return null;let r=n.dom.offsetWidth*e.scaleX,i=n.domAfter?n.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==_o.LTR?{left:r,right:i}:{right:r,left:i}})});function eH(t){return Array.isArray(t)?t:[t]}function T6(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class DQe{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=Hr.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:i}=this,o=(n.top-this.height)/e.scaleY,a=n.height/e.scaleY;if(this.i==i.elements.length){let s=new Kse(e,a,o,r);i.elements.push(s),i.dom.appendChild(s.dom)}else i.elements[this.i].update(e,a,o,r);this.height=n.bottom,this.i++}line(e,n,r){let i=[];T6(this.cursor,i,n.from),r.length&&(i=i.concat(r));let o=this.gutter.config.lineMarker(e,n,i);o&&i.unshift(o);let a=this.gutter;i.length==0&&!a.config.renderEmptyElements||this.addElement(e,n,i)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n),i=r?[r]:null;for(let o of e.state.facet(MQe)){let a=o(e,n.widget,n);a&&(i||(i=[])).push(a)}i&&this.addElement(e,n,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class tH{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let o=i.target,a;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let u=o.getBoundingClientRect();a=(u.top+u.bottom)/2}else a=i.clientY;let s=e.lineBlockAtHeight(a-e.documentTop);n.domEventHandlers[r](e,s,i)&&i.preventDefault()});this.markers=eH(n.markers(e)),n.initialSpacer&&(this.spacer=new Kse(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=eH(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!Hr.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class Kse{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),LQe(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let o=0,a=0;;){let s=a,u=o<n.length?n[o++]:null,d=!1;if(u){let g=u.elementClass;g&&(r+=" "+g);for(let v=a;v<this.markers.length;v++)if(this.markers[v].compare(u)){s=v,d=!0;break}}else s=this.markers.length;for(;a<s;){let g=this.markers[a++];if(g.toDOM){g.destroy(i);let v=i.nextSibling;i.remove(),i=v}}if(!u)break;u.toDOM&&(d?i=i.nextSibling:this.dom.insertBefore(u.toDOM(e),i)),d&&a++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function LQe(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const $Qe=Mn.define(),zQe=Mn.define(),lw=Mn.define({combine(t){return Om(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let o=r[i],a=n[i];r[i]=o?(s,u,d)=>o(s,u,d)||a(s,u,d):a}return r}})}});class RL extends ym{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function IL(t,e){return t.state.facet(lw).formatNumber(e,t.state)}const NQe=BC.compute([lw],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet($Qe)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new RL(IL(e,e.state.doc.lineAt(n.from).number))},widgetMarker:(e,n,r)=>{for(let i of e.state.facet(zQe)){let o=i(e,n,r);if(o)return o}return null},lineMarkerChange:e=>e.startState.facet(lw)!=e.state.facet(lw),initialSpacer(e){return new RL(IL(e,nH(e.state.doc.lines)))},updateSpacer(e,n){let r=IL(n.view,nH(n.view.state.doc.lines));return r==e.number?e:new RL(r)},domEventHandlers:t.facet(lw).domEventHandlers,side:"before"}));function iF(t={}){return[lw.of(t),Yse(),NQe]}function nH(t){let e=9;for(;e<t;)e=e*10+9;return e}const BQe=new class extends ym{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},FQe=o5.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(BQe.range(i)))}return Hr.of(e)});function jQe(){return FQe}const Jse=1024;let VQe=0,Yh=class{constructor(e,n){this.from=e,this.to=n}};class vr{constructor(e={}){this.id=VQe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=ia.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}vr.closedBy=new vr({deserialize:t=>t.split(" ")});vr.openedBy=new vr({deserialize:t=>t.split(" ")});vr.group=new vr({deserialize:t=>t.split(" ")});vr.isolate=new vr({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});vr.contextHash=new vr({perNode:!0});vr.lookAhead=new vr({perNode:!0});vr.mounted=new vr({perNode:!0});class Ew{constructor(e,n,r,i=!1){this.tree=e,this.overlay=n,this.parser=r,this.bracketed=i}static get(e){return e&&e.props&&e.props[vr.mounted.id]}}const QQe=Object.create(null);class ia{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):QQe,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new ia(e.name||"",n,e.id,r);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(i)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[o[0].id]=o[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(vr.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(vr.group),o=-1;o<(i?i.length:0);o++){let a=n[o<0?r.name:i[o]];if(a)return a}}}}ia.none=new ia("",Object.create(null),0,8);class eS{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let o of e){let a=o(r);if(a){i||(i=Object.assign({},r.props));let s=a[1],u=a[0];u.combine&&u.id in i&&(s=u.combine(i[u.id],s)),i[u.id]=s}}n.push(i?new ia(r.name,i,r.id,r.flags):r)}return new eS(n)}}const oP=new WeakMap,rH=new WeakMap;var Di;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays",t[t.EnterBracketed=16]="EnterBracketed"})(Di||(Di={}));class Ur{constructor(e,n,r,i,o){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);for(let[a,s]of o)this.props[typeof a=="number"?a:a.id]=s}}toString(){let e=Ew.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new DM(this.topNode,e)}cursorAt(e,n=0,r=0){let i=oP.get(this)||this.topNode,o=new DM(i);return o.moveTo(e,n),oP.set(this,o._tree),o}get topNode(){return new $l(this,0,0,null)}resolve(e,n=0){let r=NT(oP.get(this)||this.topNode,e,n,!1);return oP.set(this,r),r}resolveInner(e,n=0){let r=NT(rH.get(this)||this.topNode,e,n,!0);return rH.set(this,r),r}resolveStack(e,n=0){return qQe(this,e,n)}iterate(e){let{enter:n,leave:r,from:i=0,to:o=this.length}=e,a=e.mode||0,s=(a&Di.IncludeAnonymous)>0;for(let u=this.cursor(a|Di.IncludeAnonymous);;){let d=!1;if(u.from<=o&&u.to>=i&&(!s&&u.type.isAnonymous||n(u)!==!1)){if(u.firstChild())continue;d=!0}for(;d&&r&&(s||!u.type.isAnonymous)&&r(u),!u.nextSibling();){if(!u.parent())return;d=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:aF(ia.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new Ur(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new Ur(ia.none,n,r,i)))}static build(e){return WQe(e)}}Ur.empty=new Ur(ia.none,[],[],0);class oF{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new oF(this.buffer,this.index)}}class J0{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return ia.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),e+=4,r==e)return o;let a=[];for(;e<r;)a.push(this.childString(e)),e=this.buffer[e+3];return o+"("+a.join(",")+")"}findChild(e,n,r,i,o){let{buffer:a}=this,s=-1;for(let u=e;u!=n&&!(eae(o,i,a[u+1],a[u+2])&&(s=u,r>0));u=a[u+3]);return s}slice(e,n,r){let i=this.buffer,o=new Uint16Array(n-e),a=0;for(let s=e,u=0;s<n;){o[u++]=i[s++],o[u++]=i[s++]-r;let d=o[u++]=i[s++]-r;o[u++]=i[s++]-e,a=Math.max(a,d)}return new J0(o,a,this.set)}}function eae(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function NT(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let a=!r&&t instanceof $l&&t.index<0?null:t.parent;if(!a)return t;t=a}let o=r?0:Di.IgnoreOverlays;if(r)for(let a=t,s=a.parent;s;a=s,s=a.parent)a instanceof $l&&a.index<0&&((i=s.enter(e,n,o))===null||i===void 0?void 0:i.from)!=a.from&&(t=s);for(;;){let a=t.enter(e,n,o);if(!a)return t;t=a}}class tae{cursor(e=0){return new DM(this,e)}getChild(e,n=null,r=null){let i=iH(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return iH(this,e,n,r)}resolve(e,n=0){return NT(this,e,n,!1)}resolveInner(e,n=0){return NT(this,e,n,!0)}matchContext(e){return k6(this.parent,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(r=n,n=i.prevSibling):n=i}return r}get node(){return this}get next(){return this.parent}}class $l extends tae{constructor(e,n,r,i){super(),this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,o=0){var a;for(let s=this;;){for(let{children:u,positions:d}=s._tree,g=n>0?u.length:-1;e!=g;e+=n){let v=u[e],x=d[e]+s.from;if(!(!(o&Di.EnterBracketed&&v instanceof Ur&&((a=Ew.get(v))===null||a===void 0?void 0:a.overlay)===null&&(x>=r||x+v.length<=r))&&!eae(i,r,x,x+v.length))){if(v instanceof J0){if(o&Di.ExcludeBuffers)continue;let O=v.findChild(0,v.buffer.length,n,r-x,i);if(O>-1)return new em(new UQe(s,v,e,x),null,O)}else if(o&Di.IncludeAnonymous||!v.type.isAnonymous||sF(v)){let O;if(!(o&Di.IgnoreMounts)&&(O=Ew.get(v))&&!O.overlay)return new $l(O.tree,x,e,s);let E=new $l(v,x,e,s);return o&Di.IncludeAnonymous||!E.type.isAnonymous?E:E.nextChild(n<0?v.children.length-1:0,n,r,i,o)}}}if(o&Di.IncludeAnonymous||!s.type.isAnonymous||(s.index>=0?e=s.index+n:e=n<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(e,n,r=0){let i;if(!(r&Di.IgnoreOverlays)&&(i=Ew.get(this._tree))&&i.overlay){let o=e-this.from,a=r&Di.EnterBracketed&&i.bracketed;for(let{from:s,to:u}of i.overlay)if((n>0||a?s<=o:s<o)&&(n<0||a?u>=o:u>o))return new $l(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function iH(t,e,n,r){let i=t.cursor(),o=[];if(!i.firstChild())return o;if(n!=null){for(let a=!1;!a;)if(a=i.type.is(n),!i.nextSibling())return o}for(;;){if(r!=null&&i.type.is(r))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return r==null?o:[]}}function k6(t,e,n=e.length-1){for(let r=t;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class UQe{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class em extends tae{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return o<0?null:new em(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(e,n,r=0){if(r&Di.ExcludeBuffers)return null;let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return o<0?null:new em(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new em(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new em(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,o=r.buffer[this.index+3];if(o>i){let a=r.buffer[this.index+1];e.push(r.slice(i,o,a)),n.push(0)}return new Ur(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function nae(t){if(!t.length)return null;let e=0,n=t[0];for(let o=1;o<t.length;o++){let a=t[o];(a.from>n.from||a.to<n.to)&&(n=a,e=o)}let r=n instanceof $l&&n.index<0?null:n.parent,i=t.slice();return r?i[e]=r:i.splice(e,1),new ZQe(i,n)}class ZQe{constructor(e,n){this.heads=e,this.node=n}get next(){return nae(this.heads)}}function qQe(t,e,n){let r=t.resolveInner(e,n),i=null;for(let o=r instanceof $l?r:r.context.parent;o;o=o.parent)if(o.index<0){let a=o.parent;(i||(i=[r])).push(a.resolve(e,n)),o=a}else{let a=Ew.get(o.tree);if(a&&a.overlay&&a.overlay[0].from<=e&&a.overlay[a.overlay.length-1].to>=e){let s=new $l(a.tree,a.overlay[0].from+o.from,-1,o);(i||(i=[r])).push(NT(s,e,n,!1))}}return i?nae(i):r}class DM{get name(){return this.type.name}constructor(e,n=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=n&~Di.EnterBracketed,e instanceof $l)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof $l?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&Di.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Di.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Di.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let o=n+e,a=e<0?-1:r._tree.children.length;o!=a;o+=e){let s=r._tree.children[o];if(this.mode&Di.IncludeAnonymous||s instanceof J0||!s.type.isAnonymous||sF(s))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,o=this.stack.length;o>=0;){for(let a=e;a;a=a._parent)if(a.index==i){if(i==this.index)return a;n=a,r=o+1;break e}i=this.stack[--o]}for(let i=r;i<this.stack.length;i++)n=new em(this.buffer,n,this.stack[i]);return this.bufferNode=new em(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&n&&n(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return k6(this.node.parent,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return k6(this._tree,e,i);let a=r[n.buffer[this.stack[o]]];if(!a.isAnonymous){if(e[i]&&e[i]!=a.name)return!1;i--}}return!0}}function sF(t){return t.children.some(e=>e instanceof J0||!e.type.isAnonymous||sF(e))}function WQe(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=Jse,reused:o=[],minRepeatType:a=r.types.length}=t,s=Array.isArray(n)?new oF(n,n.length):n,u=r.types,d=0,g=0;function v(U,q,W,te,re,ce){let{id:be,start:ie,end:me,size:we}=s,pe=g,_e=d;if(we<0)if(s.next(),we==-1){let Pe=o[be];W.push(Pe),te.push(ie-U);return}else if(we==-3){d=be;return}else if(we==-4){g=be;return}else throw new RangeError(`Unrecognized record size: ${we}`);let Me=u[be],Be,Ue,Ce=ie-U;if(me-ie<=i&&(Ue=M(s.pos-q,re))){let Pe=new Uint16Array(Ue.size-Ue.skip),Xe=s.pos-Ue.size,ke=Pe.length;for(;s.pos>Xe;)ke=L(Ue.start,Pe,ke);Be=new J0(Pe,me-Ue.start,r),Ce=Ue.start-U}else{let Pe=s.pos-we;s.next();let Xe=[],ke=[],mt=be>=a?be:-1,gt=0,ct=me;for(;s.pos>Pe;)mt>=0&&s.id==mt&&s.size>=0?(s.end<=ct-i&&(E(Xe,ke,ie,gt,s.end,ct,mt,pe,_e),gt=Xe.length,ct=s.end),s.next()):ce>2500?x(ie,Pe,Xe,ke):v(ie,Pe,Xe,ke,mt,ce+1);if(mt>=0&&gt>0&&gt<Xe.length&&E(Xe,ke,ie,gt,ie,ct,mt,pe,_e),Xe.reverse(),ke.reverse(),mt>-1&&gt>0){let ot=O(Me,_e);Be=aF(Me,Xe,ke,0,Xe.length,0,me-ie,ot,ot)}else Be=A(Me,Xe,ke,me-ie,pe-me,_e)}W.push(Be),te.push(Ce)}function x(U,q,W,te){let re=[],ce=0,be=-1;for(;s.pos>q;){let{id:ie,start:me,end:we,size:pe}=s;if(pe>4)s.next();else{if(be>-1&&me<be)break;be<0&&(be=we-i),re.push(ie,me,we),ce++,s.next()}}if(ce){let ie=new Uint16Array(ce*4),me=re[re.length-2];for(let we=re.length-3,pe=0;we>=0;we-=3)ie[pe++]=re[we],ie[pe++]=re[we+1]-me,ie[pe++]=re[we+2]-me,ie[pe++]=pe;W.push(new J0(ie,re[2]-me,r)),te.push(me-U)}}function O(U,q){return(W,te,re)=>{let ce=0,be=W.length-1,ie,me;if(be>=0&&(ie=W[be])instanceof Ur){if(!be&&ie.type==U&&ie.length==re)return ie;(me=ie.prop(vr.lookAhead))&&(ce=te[be]+ie.length+me)}return A(U,W,te,re,ce,q)}}function E(U,q,W,te,re,ce,be,ie,me){let we=[],pe=[];for(;U.length>te;)we.push(U.pop()),pe.push(q.pop()+W-re);U.push(A(r.types[be],we,pe,ce-re,ie-ce,me)),q.push(re-W)}function A(U,q,W,te,re,ce,be){if(ce){let ie=[vr.contextHash,ce];be=be?[ie].concat(be):[ie]}if(re>25){let ie=[vr.lookAhead,re];be=be?[ie].concat(be):[ie]}return new Ur(U,q,W,te,be)}function M(U,q){let W=s.fork(),te=0,re=0,ce=0,be=W.end-i,ie={size:0,start:0,skip:0};e:for(let me=W.pos-U;W.pos>me;){let we=W.size;if(W.id==q&&we>=0){ie.size=te,ie.start=re,ie.skip=ce,ce+=4,te+=4,W.next();continue}let pe=W.pos-we;if(we<0||pe<me||W.start<be)break;let _e=W.id>=a?4:0,Me=W.start;for(W.next();W.pos>pe;){if(W.size<0)if(W.size==-3||W.size==-4)_e+=4;else break e;else W.id>=a&&(_e+=4);W.next()}re=Me,te+=we,ce+=_e}return(q<0||te==U)&&(ie.size=te,ie.start=re,ie.skip=ce),ie.size>4?ie:void 0}function L(U,q,W){let{id:te,start:re,end:ce,size:be}=s;if(s.next(),be>=0&&te<a){let ie=W;if(be>4){let me=s.pos-(be-4);for(;s.pos>me;)W=L(U,q,W)}q[--W]=ie,q[--W]=ce-U,q[--W]=re-U,q[--W]=te}else be==-3?d=te:be==-4&&(g=te);return W}let $=[],N=[];for(;s.pos>0;)v(t.start||0,t.bufferStart||0,$,N,-1,0);let F=(e=t.length)!==null&&e!==void 0?e:$.length?N[0]+$[0].length:0;return new Ur(u[t.topID],$.reverse(),N.reverse(),F)}const oH=new WeakMap;function s5(t,e){if(!t.isAnonymous||e instanceof J0||e.type!=t)return 1;let n=oH.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof Ur)){n=1;break}n+=s5(t,r)}oH.set(e,n)}return n}function aF(t,e,n,r,i,o,a,s,u){let d=0;for(let E=r;E<i;E++)d+=s5(t,e[E]);let g=Math.ceil(d*1.5/8),v=[],x=[];function O(E,A,M,L,$){for(let N=M;N<L;){let F=N,U=A[N],q=s5(t,E[N]);for(N++;N<L;N++){let W=s5(t,E[N]);if(q+W>=g)break;q+=W}if(N==F+1){if(q>g){let W=E[F];O(W.children,W.positions,0,W.children.length,A[F]+$);continue}v.push(E[F])}else{let W=A[N-1]+E[N-1].length-U;v.push(aF(t,E,A,F,N,U,W,null,u))}x.push(U+$-o)}}return O(e,n,r,i,0),(s||u)(v,x,a)}class rae{constructor(){this.map=new WeakMap}setBuffer(e,n,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(n,r)}getBuffer(e,n){let r=this.map.get(e);return r&&r.get(n)}set(e,n){e instanceof em?this.setBuffer(e.context.buffer,e.index,n):e instanceof $l&&this.map.set(e.tree,n)}get(e){return e instanceof em?this.getBuffer(e.context.buffer,e.index):e instanceof $l?this.map.get(e.tree):void 0}cursorSet(e,n){e.buffer?this.setBuffer(e.buffer.buffer,e.index,n):this.map.set(e.tree,n)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Wg{constructor(e,n,r,i,o=!1,a=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(o?1:0)|(a?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new Wg(0,e.length,e,0,!1,r)];for(let o of n)o.to>e.length&&i.push(o);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],o=1,a=e.length?e[0]:null;for(let s=0,u=0,d=0;;s++){let g=s<n.length?n[s]:null,v=g?g.fromA:1e9;if(v-u>=r)for(;a&&a.from<v;){let x=a;if(u>=x.from||v<=x.to||d){let O=Math.max(x.from,u)-d,E=Math.min(x.to,v)-d;x=O>=E?null:new Wg(O,E,x.tree,x.offset+d,s>0,!!g)}if(x&&i.push(x),a.to>v)break;a=o<e.length?e[o++]:null}if(!g)break;u=g.toA,d=g.toA-g.toB}return i}}class WI{startParse(e,n,r){return typeof e=="string"&&(e=new HQe(e)),r=r?r.length?r.map(i=>new Yh(i.from,i.to)):[new Yh(0,0)]:[new Yh(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let o=i.advance();if(o)return o}}}class HQe{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}function iae(t){return(e,n,r,i)=>new XQe(e,t,n,r,i)}class sH{constructor(e,n,r,i,o,a){this.parser=e,this.parse=n,this.overlay=r,this.bracketed=i,this.target=o,this.from=a}}function aH(t){if(!t.length||t.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(t))}class GQe{constructor(e,n,r,i,o,a,s,u){this.parser=e,this.predicate=n,this.mounts=r,this.index=i,this.start=o,this.bracketed=a,this.target=s,this.prev=u,this.depth=0,this.ranges=[]}}const E6=new vr({perNode:!0});class XQe{constructor(e,n,r,i,o){this.nest=n,this.input=r,this.fragments=i,this.ranges=o,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new Ur(r.type,r.children,r.positions,r.length,r.propValues.concat([[E6,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],n=e.parse.advance();if(n){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[vr.mounted.id]=new Ew(n,e.overlay,e.parser,e.bracketed),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].from<e&&(e=Math.min(e,this.inner[n].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].parse.stopAt(e)}startInner(){let e=new JQe(this.fragments),n=null,r=null,i=new DM(new $l(this.baseTree,this.ranges[0].from,0,null),Di.IncludeAnonymous|Di.IgnoreMounts);e:for(let o,a;;){let s=!0,u;if(this.stoppedAt!=null&&i.from>=this.stoppedAt)s=!1;else if(e.hasNode(i)){if(n){let d=n.mounts.find(g=>g.frag.from<=i.from&&g.frag.to>=i.to&&g.mount.overlay);if(d)for(let g of d.mount.overlay){let v=g.from+d.pos,x=g.to+d.pos;v>=i.from&&x<=i.to&&!n.ranges.some(O=>O.from<x&&O.to>v)&&n.ranges.push({from:v,to:x})}}s=!1}else if(r&&(a=YQe(r.ranges,i.from,i.to)))s=a!=2;else if(!i.type.isAnonymous&&(o=this.nest(i,this.input))&&(i.from<i.to||!o.overlay)){i.tree||(KQe(i),n&&n.depth++,r&&r.depth++);let d=e.findMounts(i.from,o.parser);if(typeof o.overlay=="function")n=new GQe(o.parser,o.overlay,d,this.inner.length,i.from,!!o.bracketed,i.tree,n);else{let g=uH(this.ranges,o.overlay||(i.from<i.to?[new Yh(i.from,i.to)]:[]));g.length&&aH(g),(g.length||!o.overlay)&&this.inner.push(new sH(o.parser,g.length?o.parser.startParse(this.input,hH(d,g),g):o.parser.startParse(""),o.overlay?o.overlay.map(v=>new Yh(v.from-i.from,v.to-i.from)):null,!!o.bracketed,i.tree,g.length?g[0].from:i.from)),o.overlay?g.length&&(r={ranges:g,depth:0,prev:r}):s=!1}}else if(n&&(u=n.predicate(i))&&(u===!0&&(u=new Yh(i.from,i.to)),u.from<u.to)){let d=n.ranges.length-1;d>=0&&n.ranges[d].to==u.from?n.ranges[d]={from:n.ranges[d].from,to:u.to}:n.ranges.push(u)}if(s&&i.firstChild())n&&n.depth++,r&&r.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(n&&!--n.depth){let d=uH(this.ranges,n.ranges);d.length&&(aH(d),this.inner.splice(n.index,0,new sH(n.parser,n.parser.startParse(this.input,hH(n.mounts,d),d),n.ranges.map(g=>new Yh(g.from-n.start,g.to-n.start)),n.bracketed,n.target,d[0].from))),n=n.prev}r&&!--r.depth&&(r=r.prev)}}}}function YQe(t,e,n){for(let r of t){if(r.from>=n)break;if(r.to>e)return r.from<=e&&r.to>=n?2:1}return 0}function lH(t,e,n,r,i,o){if(e<n){let a=t.buffer[e+1];r.push(t.slice(e,n,a)),i.push(a-o)}}function KQe(t){let{node:e}=t,n=[],r=e.context.buffer;do n.push(t.index),t.parent();while(!t.tree);let i=t.tree,o=i.children.indexOf(r),a=i.children[o],s=a.buffer,u=[o];function d(g,v,x,O,E,A){let M=n[A],L=[],$=[];lH(a,g,M,L,$,O);let N=s[M+1],F=s[M+2];u.push(L.length);let U=A?d(M+4,s[M+3],a.set.types[s[M]],N,F-N,A-1):e.toTree();return L.push(U),$.push(N-O),lH(a,s[M+3],v,L,$,O),new Ur(x,L,$,E)}i.children[o]=d(0,s.length,ia.none,0,a.length,n.length-1);for(let g of u){let v=t.tree.children[g],x=t.tree.positions[g];t.yield(new $l(v,x+t.from,g,t._tree))}}class cH{constructor(e,n){this.offset=n,this.done=!1,this.cursor=e.cursor(Di.IncludeAnonymous|Di.IgnoreMounts)}moveTo(e){let{cursor:n}=this,r=e-this.offset;for(;!this.done&&n.from<r;)n.to>=e&&n.enter(r,1,Di.IgnoreOverlays|Di.ExcludeBuffers)||n.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let n=this.cursor.tree;;){if(n==e.tree)return!0;if(n.children.length&&n.positions[0]==0&&n.children[0]instanceof Ur)n=n.children[0];else break}return!1}}let JQe=class{constructor(e){var n;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(n=r.tree.prop(E6))!==null&&n!==void 0?n:r.to,this.inner=new cH(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let n=this.curFrag=this.fragments[this.fragI];this.curTo=(e=n.tree.prop(E6))!==null&&e!==void 0?e:n.to,this.inner=new cH(n.tree,-n.offset)}}findMounts(e,n){var r;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let o=this.inner.cursor.node;o;o=o.parent){let a=(r=o.tree)===null||r===void 0?void 0:r.prop(vr.mounted);if(a&&a.parser==n)for(let s=this.fragI;s<this.fragments.length;s++){let u=this.fragments[s];if(u.from>=o.to)break;u.tree==this.curFrag.tree&&i.push({frag:u,pos:o.from-u.offset,mount:a})}}}return i}};function uH(t,e){let n=null,r=e;for(let i=1,o=0;i<t.length;i++){let a=t[i-1].to,s=t[i].from;for(;o<r.length;o++){let u=r[o];if(u.from>=s)break;u.to<=a||(n||(r=n=e.slice()),u.from<a?(n[o]=new Yh(u.from,a),u.to>s&&n.splice(o+1,0,new Yh(s,u.to))):u.to>s?n[o--]=new Yh(s,u.to):n.splice(o--,1))}}return r}function eUe(t,e,n,r){let i=0,o=0,a=!1,s=!1,u=-1e9,d=[];for(;;){let g=i==t.length?1e9:a?t[i].to:t[i].from,v=o==e.length?1e9:s?e[o].to:e[o].from;if(a!=s){let x=Math.max(u,n),O=Math.min(g,v,r);x<O&&d.push(new Yh(x,O))}if(u=Math.min(g,v),u==1e9)break;g==u&&(a?(a=!1,i++):a=!0),v==u&&(s?(s=!1,o++):s=!0)}return d}function hH(t,e){let n=[];for(let{pos:r,mount:i,frag:o}of t){let a=r+(i.overlay?i.overlay[0].from:0),s=a+i.tree.length,u=Math.max(o.from,a),d=Math.min(o.to,s);if(i.overlay){let g=i.overlay.map(x=>new Yh(x.from+r,x.to+r)),v=eUe(e,g,u,d);for(let x=0,O=u;;x++){let E=x==v.length,A=E?d:v[x].from;if(A>O&&n.push(new Wg(O,A,i.tree,-a,o.from>=O||o.openStart,o.to<=A||o.openEnd)),E)break;O=v[x].to}}else n.push(new Wg(u,d,i.tree,-a,o.from>=a||o.openStart,o.to<=s||o.openEnd))}return n}let tUe=0;class Hu{constructor(e,n,r,i){this.name=e,this.set=n,this.base=r,this.modified=i,this.id=tUe++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let r=typeof e=="string"?e:"?";if(e instanceof Hu&&(n=e),n?.base)throw new Error("Can not derive from a modified tag");let i=new Hu(r,[],null,[]);if(i.set.push(i),n)for(let o of n.set)i.set.push(o);return i}static defineModifier(e){let n=new LM(e);return r=>r.modified.indexOf(n)>-1?r:LM.get(r.base||r,r.modified.concat(n).sort((i,o)=>i.id-o.id))}}let nUe=0;class LM{constructor(e){this.name=e,this.instances=[],this.id=nUe++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(s=>s.base==e&&rUe(n,s.modified));if(r)return r;let i=[],o=new Hu(e.name,i,e,n);for(let s of n)s.instances.push(o);let a=iUe(n);for(let s of e.set)if(!s.modified.length)for(let u of a)i.push(LM.get(s,u));return o}}function rUe(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function iUe(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function tS(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let o=[],a=2,s=i;for(let v=0;;){if(s=="..."&&v>0&&v+3==i.length){a=1;break}let x=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(s);if(!x)throw new RangeError("Invalid path: "+i);if(o.push(x[0]=="*"?"":x[0][0]=='"'?JSON.parse(x[0]):x[0]),v+=x[0].length,v==i.length)break;let O=i[v++];if(v==i.length&&O=="!"){a=0;break}if(O!="/")throw new RangeError("Invalid path: "+i);s=i.slice(v)}let u=o.length-1,d=o[u];if(!d)throw new RangeError("Invalid path: "+i);let g=new BT(r,a,u>0?o.slice(0,u):null);e[d]=g.sort(e[d])}}return oae.add(e)}const oae=new vr({combine(t,e){let n,r,i;for(;t||e;){if(!t||e&&t.depth>=e.depth?(i=e,e=e.next):(i=t,t=t.next),n&&n.mode==i.mode&&!i.context&&!n.context)continue;let o=new BT(i.tags,i.mode,i.context);n?n.next=o:r=o,n=o}return r}});class BT{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}BT.empty=new BT([],2,null);function sae(t,e){let n=Object.create(null);for(let o of t)if(!Array.isArray(o.tag))n[o.tag.id]=o.class;else for(let a of o.tag)n[a.id]=o.class;let{scope:r,all:i=null}=e||{};return{style:o=>{let a=i;for(let s of o)for(let u of s.set){let d=n[u.id];if(d){a=a?a+" "+d:d;break}}return a},scope:r}}function oUe(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function sUe(t,e,n,r=0,i=t.length){let o=new aUe(r,Array.isArray(e)?e:[e],n);o.highlightRange(t.cursor(),r,i,"",o.highlighters),o.flush(i)}class aUe{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,o){let{type:a,from:s,to:u}=e;if(s>=r||u<=n)return;a.isTop&&(o=this.highlighters.filter(O=>!O.scope||O.scope(a)));let d=i,g=lUe(e)||BT.empty,v=oUe(o,g.tags);if(v&&(d&&(d+=" "),d+=v,g.mode==1&&(i+=(i?" ":"")+v)),this.startSpan(Math.max(n,s),d),g.opaque)return;let x=e.tree&&e.tree.prop(vr.mounted);if(x&&x.overlay){let O=e.node.enter(x.overlay[0].from+s,1),E=this.highlighters.filter(M=>!M.scope||M.scope(x.tree.type)),A=e.firstChild();for(let M=0,L=s;;M++){let $=M<x.overlay.length?x.overlay[M]:null,N=$?$.from+s:u,F=Math.max(n,L),U=Math.min(r,N);if(F<U&&A)for(;e.from<U&&(this.highlightRange(e,F,U,i,o),this.startSpan(Math.min(U,e.to),d),!(e.to>=N||!e.nextSibling())););if(!$||N>r)break;L=$.to+s,L>n&&(this.highlightRange(O.cursor(),Math.max(n,$.from+s),Math.min(r,L),"",E),this.startSpan(Math.min(r,L),d))}A&&e.parent()}else if(e.firstChild()){x&&(i="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,o),this.startSpan(Math.min(r,e.to),d)}while(e.nextSibling());e.parent()}}}function lUe(t){let e=t.type.prop(oae);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const Tn=Hu.define,sP=Tn(),S0=Tn(),dH=Tn(S0),fH=Tn(S0),C0=Tn(),aP=Tn(C0),DL=Tn(C0),$p=Tn(),I_=Tn($p),Ip=Tn(),Dp=Tn(),A6=Tn(),j2=Tn(A6),lP=Tn(),Ne={comment:sP,lineComment:Tn(sP),blockComment:Tn(sP),docComment:Tn(sP),name:S0,variableName:Tn(S0),typeName:dH,tagName:Tn(dH),propertyName:fH,attributeName:Tn(fH),className:Tn(S0),labelName:Tn(S0),namespace:Tn(S0),macroName:Tn(S0),literal:C0,string:aP,docString:Tn(aP),character:Tn(aP),attributeValue:Tn(aP),number:DL,integer:Tn(DL),float:Tn(DL),bool:Tn(C0),regexp:Tn(C0),escape:Tn(C0),color:Tn(C0),url:Tn(C0),keyword:Ip,self:Tn(Ip),null:Tn(Ip),atom:Tn(Ip),unit:Tn(Ip),modifier:Tn(Ip),operatorKeyword:Tn(Ip),controlKeyword:Tn(Ip),definitionKeyword:Tn(Ip),moduleKeyword:Tn(Ip),operator:Dp,derefOperator:Tn(Dp),arithmeticOperator:Tn(Dp),logicOperator:Tn(Dp),bitwiseOperator:Tn(Dp),compareOperator:Tn(Dp),updateOperator:Tn(Dp),definitionOperator:Tn(Dp),typeOperator:Tn(Dp),controlOperator:Tn(Dp),punctuation:A6,separator:Tn(A6),bracket:j2,angleBracket:Tn(j2),squareBracket:Tn(j2),paren:Tn(j2),brace:Tn(j2),content:$p,heading:I_,heading1:Tn(I_),heading2:Tn(I_),heading3:Tn(I_),heading4:Tn(I_),heading5:Tn(I_),heading6:Tn(I_),contentSeparator:Tn($p),list:Tn($p),quote:Tn($p),emphasis:Tn($p),strong:Tn($p),link:Tn($p),monospace:Tn($p),strikethrough:Tn($p),inserted:Tn(),deleted:Tn(),changed:Tn(),invalid:Tn(),meta:lP,documentMeta:Tn(lP),annotation:Tn(lP),processingInstruction:Tn(lP),definition:Hu.defineModifier("definition"),constant:Hu.defineModifier("constant"),function:Hu.defineModifier("function"),standard:Hu.defineModifier("standard"),local:Hu.defineModifier("local"),special:Hu.defineModifier("special")};for(let t in Ne){let e=Ne[t];e instanceof Hu&&(e.name=t)}sae([{tag:Ne.link,class:"tok-link"},{tag:Ne.heading,class:"tok-heading"},{tag:Ne.emphasis,class:"tok-emphasis"},{tag:Ne.strong,class:"tok-strong"},{tag:Ne.keyword,class:"tok-keyword"},{tag:Ne.atom,class:"tok-atom"},{tag:Ne.bool,class:"tok-bool"},{tag:Ne.url,class:"tok-url"},{tag:Ne.labelName,class:"tok-labelName"},{tag:Ne.inserted,class:"tok-inserted"},{tag:Ne.deleted,class:"tok-deleted"},{tag:Ne.literal,class:"tok-literal"},{tag:Ne.string,class:"tok-string"},{tag:Ne.number,class:"tok-number"},{tag:[Ne.regexp,Ne.escape,Ne.special(Ne.string)],class:"tok-string2"},{tag:Ne.variableName,class:"tok-variableName"},{tag:Ne.local(Ne.variableName),class:"tok-variableName tok-local"},{tag:Ne.definition(Ne.variableName),class:"tok-variableName tok-definition"},{tag:Ne.special(Ne.variableName),class:"tok-variableName2"},{tag:Ne.definition(Ne.propertyName),class:"tok-propertyName tok-definition"},{tag:Ne.typeName,class:"tok-typeName"},{tag:Ne.namespace,class:"tok-namespace"},{tag:Ne.className,class:"tok-className"},{tag:Ne.macroName,class:"tok-macroName"},{tag:Ne.propertyName,class:"tok-propertyName"},{tag:Ne.operator,class:"tok-operator"},{tag:Ne.comment,class:"tok-comment"},{tag:Ne.meta,class:"tok-meta"},{tag:Ne.invalid,class:"tok-invalid"},{tag:Ne.punctuation,class:"tok-punctuation"}]);var LL;const I0=new vr;function HI(t){return Mn.define({combine:t?e=>e.concat(t):void 0})}const lF=new vr;class th{constructor(e,n,r=[],i=""){this.data=e,this.name=i,Rr.prototype.hasOwnProperty("tree")||Object.defineProperty(Rr.prototype,"tree",{get(){return no(this)}}),this.parser=n,this.extension=[ev.of(this),Rr.languageData.of((o,a,s)=>{let u=pH(o,a,s),d=u.type.prop(I0);if(!d)return[];let g=o.facet(d),v=u.type.prop(lF);if(v){let x=u.resolve(a-u.from,s);for(let O of v)if(O.test(x,o)){let E=o.facet(O.facet);return O.type=="replace"?E:E.concat(g)}}return g})].concat(r)}isActiveAt(e,n,r=-1){return pH(e,n,r).type.prop(I0)==this.data}findRegions(e){let n=e.facet(ev);if(n?.data==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(o,a)=>{if(o.prop(I0)==this.data){r.push({from:a,to:a+o.length});return}let s=o.prop(vr.mounted);if(s){if(s.tree.prop(I0)==this.data){if(s.overlay)for(let u of s.overlay)r.push({from:u.from+a,to:u.to+a});else r.push({from:a,to:a+o.length});return}else if(s.overlay){let u=r.length;if(i(s.tree,s.overlay[0].from+a),r.length>u)return}}for(let u=0;u<o.children.length;u++){let d=o.children[u];d instanceof Ur&&i(d,o.positions[u]+a)}};return i(no(e),0),r}get allowsNesting(){return!0}}th.setState=pr.define();function pH(t,e,n){let r=t.facet(ev),i=no(t).topNode;if(!r||r.allowsNesting)for(let o=i;o;o=o.enter(e,n,Di.ExcludeBuffers|Di.EnterBracketed))o.type.isTop&&(i=o);return i}class dO extends th{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=HI(e.languageData);return new dO(n,e.parser.configure({props:[I0.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new dO(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function no(t){let e=t.field(th.state,!1);return e?e.tree:Ur.empty}class cUe{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let V2=null;class Lx{constructor(e,n,r=[],i,o,a,s,u){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=o,this.viewport=a,this.skipped=s,this.scheduleOn=u,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new Lx(e,n,[],Ur.empty,0,r,[],null)}startParse(){return this.parser.startParse(new cUe(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=Ur.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Wg.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(Wg.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=V2;V2=this;try{return e()}finally{V2=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=mH(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:o,viewport:a,skipped:s}=this;if(this.takeTree(),!e.empty){let u=[];if(e.iterChangedRanges((d,g,v,x)=>u.push({fromA:d,toA:g,fromB:v,toB:x})),r=Wg.applyChanges(r,u),i=Ur.empty,o=0,a={from:e.mapPos(a.from,-1),to:e.mapPos(a.to,1)},this.skipped.length){s=[];for(let d of this.skipped){let g=e.mapPos(d.from,1),v=e.mapPos(d.to,-1);g<v&&s.push({from:g,to:v})}}}return new Lx(this.parser,n,r,i,o,a,s,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:o}=this.skipped[r];i<e.to&&o>e.from&&(this.fragments=mH(this.fragments,i,o),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends WI{createParse(n,r,i){let o=i[0].from,a=i[i.length-1].to;return{parsedPos:o,advance(){let u=V2;if(u){for(let d of i)u.tempSkipped.push(d);e&&(u.scheduleOn=u.scheduleOn?Promise.all([u.scheduleOn,e]):e)}return this.parsedPos=a,new Ur(ia.none,[],[],a-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return V2}}function mH(t,e,n){return Wg.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class fO{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new fO(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=Lx.create(e.facet(ev).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new fO(r)}}th.state=Ls.define({create:fO.init,update(t,e){for(let n of e.effects)if(n.is(th.setState))return n.value;return e.startState.facet(ev)!=e.state.facet(ev)?fO.init(e.state):t.apply(e)}});let aae=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(aae=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const $L=typeof navigator<"u"&&(!((LL=navigator.scheduling)===null||LL===void 0)&&LL.isInputPending)?()=>navigator.scheduling.isInputPending():null,uUe=Rs.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(th.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(th.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=aae(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,o=r.field(th.state);if(o.tree==o.context.tree&&o.context.isDone(i+1e5))return;let a=Date.now()+Math.min(this.chunkBudget,100,e&&!$L?Math.max(25,e.timeRemaining()-5):1e9),s=o.context.treeLen<i&&r.doc.length>i+1e3,u=o.context.work(()=>$L&&$L()||Date.now()>a,i+(s?0:1e5));this.chunkBudget-=Date.now()-n,(u||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:th.setState.of(new fO(o.context))})),this.chunkBudget>0&&!(u&&!s)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>iu(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),ev=Mn.define({combine(t){return t.length?t[0]:null},enables:t=>[th.state,uUe,dn.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class pO{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}class Pt{constructor(e,n,r,i,o,a=void 0){this.name=e,this.alias=n,this.extensions=r,this.filename=i,this.loadFunc=o,this.support=a,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:n,support:r}=e;if(!n){if(!r)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");n=()=>Promise.resolve(r)}return new Pt(e.name,(e.alias||[]).concat(e.name).map(i=>i.toLowerCase()),e.extensions||[],e.filename,n,r)}static matchFilename(e,n){for(let i of e)if(i.filename&&i.filename.test(n))return i;let r=/\.([^.]+)$/.exec(n);if(r){for(let i of e)if(i.extensions.indexOf(r[1])>-1)return i}return null}static matchLanguageName(e,n,r=!0){n=n.toLowerCase();for(let i of e)if(i.alias.some(o=>o==n))return i;if(r)for(let i of e)for(let o of i.alias){let a=n.indexOf(o);if(a>-1&&(o.length>2||!/\w/.test(n[a-1])&&!/\w/.test(n[a+o.length])))return i}return null}}const hUe=Mn.define(),Hk=Mn.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function $x(t){let e=t.facet(Hk);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function FT(t,e){let n="",r=t.tabSize,i=t.facet(Hk)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let o=0;o<e;o++)n+=i;return n}function cF(t,e){t instanceof Rr&&(t=new GI(t));for(let r of t.state.facet(hUe)){let i=r(t,e);if(i!==void 0)return i}let n=no(t.state);return n.length>=e?dUe(t,n,e):null}class GI{constructor(e,n={}){this.state=e,this.options=n,this.unit=$x(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:o}=this.options;return i!=null&&i>=r.from&&i<=r.to?o&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),o=this.countColumn(r,e-i),a=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return a>-1&&(o+=a-this.countColumn(r,r.search(/\S|$/))),o}countColumn(e,n=e.length){return Mf(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),o=this.options.overrideIndentation;if(o){let a=o(i);if(a>-1)return a}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const nS=new vr;function dUe(t,e,n){let r=e.resolveStack(n),i=e.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(i!=r.node){let o=[];for(let a=i;a&&!(a.from<r.node.from||a.to>r.node.to||a.from==r.node.from&&a.type==r.node.type);a=a.parent)o.push(a);for(let a=o.length-1;a>=0;a--)r={node:o[a],next:r}}return lae(r,t,n)}function lae(t,e,n){for(let r=t;r;r=r.next){let i=pUe(r.node);if(i)return i(uF.create(e,n,r))}return 0}function fUe(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function pUe(t){let e=t.type.prop(nS);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(vr.closedBy))){let i=t.lastChild,o=i&&r.indexOf(i.name)>-1;return a=>cae(a,!0,1,void 0,o&&!fUe(a)?i.from:void 0)}return t.parent==null?mUe:null}function mUe(){return 0}class uF extends GI{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.context=r}get node(){return this.context.node}static create(e,n,r){return new uF(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(gUe(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return lae(this.context.next,this.base,this.pos)}}function gUe(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function yUe(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,o=t.state.doc.lineAt(n.from),a=i==null||i<=o.from?o.to:Math.min(o.to,i);for(let s=n.to;;){let u=e.childAfter(s);if(!u||u==r)return null;if(!u.type.isSkipped){if(u.from>=a)return null;let d=/^ */.exec(o.text.slice(n.to-o.from))[0].length;return{from:n.from,to:n.to+d}}s=u.to}}function vUe({closing:t,align:e=!0,units:n=1}){return r=>cae(r,e,n,t)}function cae(t,e,n,r,i){let o=t.textAfter,a=o.match(/^\s*/)[0].length,s=r&&o.slice(a,a+r.length)==r||i==t.pos+a,u=e?yUe(t):null;return u?s?t.column(u.from):t.column(u.to):t.baseIndent+(s?0:t.unit*n)}const _Ue=t=>t.baseIndent;function a5({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const xUe=200;function bUe(){return Rr.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+xUe)return t;let o=n.sliceString(i.from,r);if(!e.some(d=>d.test(o)))return t;let{state:a}=t,s=-1,u=[];for(let{head:d}of a.selection.ranges){let g=a.doc.lineAt(d);if(g.from==s)continue;s=g.from;let v=cF(a,g.from);if(v==null)continue;let x=/^\s*/.exec(g.text)[0],O=FT(a,v);x!=O&&u.push({from:g.from,to:g.from+x.length,insert:O})}return u.length?[t,{changes:u,sequential:!0}]:t})}const uae=Mn.define(),rS=new vr;function hae(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}function wUe(t,e,n){let r=no(t);if(r.length<n)return null;let i=r.resolveStack(n,1),o=null;for(let a=i;a;a=a.next){let s=a.node;if(s.to<=n||s.from>n)continue;if(o&&s.from<e)break;let u=s.type.prop(rS);if(u&&(s.to<r.length-50||r.length==t.doc.length||!OUe(s))){let d=u(s,t);d&&d.from<=n&&d.from>=e&&d.to>n&&(o=d)}}return o}function OUe(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function $M(t,e,n){for(let r of t.facet(uae)){let i=r(t,e,n);if(i)return i}return wUe(t,e,n)}function dae(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const XI=pr.define({map:dae}),Gk=pr.define({map:dae});function fae(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(r=>r.from<=n&&r.to>=n)||e.push(t.lineBlockAt(n));return e}const zx=Ls.define({create(){return Bn.none},update(t,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((n,r)=>t=gH(t,n,r)),t=t.map(e.changes);for(let n of e.effects)if(n.is(XI)&&!SUe(t,n.value.from,n.value.to)){let{preparePlaceholder:r}=e.state.facet(gae),i=r?Bn.replace({widget:new MUe(r(e.state,n.value))}):yH;t=t.update({add:[i.range(n.value.from,n.value.to)]})}else n.is(Gk)&&(t=t.update({filter:(r,i)=>n.value.from!=r||n.value.to!=i,filterFrom:n.value.from,filterTo:n.value.to}));return e.selection&&(t=gH(t,e.selection.main.head)),t},provide:t=>dn.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,(r,i)=>{n.push(r,i)}),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let r=t[n++],i=t[n++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(yH.range(r,i))}return Bn.set(e,!0)}});function gH(t,e,n=e){let r=!1;return t.between(e,n,(i,o)=>{i<n&&o>e&&(r=!0)}),r?t.update({filterFrom:e,filterTo:n,filter:(i,o)=>i>=n||o<=e}):t}function zM(t,e,n){var r;let i=null;return(r=t.field(zx,!1))===null||r===void 0||r.between(e,n,(o,a)=>{(!i||i.from>o)&&(i={from:o,to:a})}),i}function SUe(t,e,n){let r=!1;return t.between(e,e,(i,o)=>{i==e&&o==n&&(r=!0)}),r}function pae(t,e){return t.field(zx,!1)?e:e.concat(pr.appendConfig.of(yae()))}const CUe=t=>{for(let e of fae(t)){let n=$M(t.state,e.from,e.to);if(n)return t.dispatch({effects:pae(t.state,[XI.of(n),mae(t,n)])}),!0}return!1},TUe=t=>{if(!t.state.field(zx,!1))return!1;let e=[];for(let n of fae(t)){let r=zM(t.state,n.from,n.to);r&&e.push(Gk.of(r),mae(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function mae(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return dn.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`)}const kUe=t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.lineBlockAt(r),o=$M(e,i.from,i.to);o&&n.push(XI.of(o)),r=(o?t.lineBlockAt(o.to):i).to+1}return n.length&&t.dispatch({effects:pae(t.state,n)}),!!n.length},EUe=t=>{let e=t.state.field(zx,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(r,i)=>{n.push(Gk.of({from:r,to:i}))}),t.dispatch({effects:n}),!0},AUe=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:CUe},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:TUe},{key:"Ctrl-Alt-[",run:kUe},{key:"Ctrl-Alt-]",run:EUe}],PUe={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},gae=Mn.define({combine(t){return Om(t,PUe)}});function yae(t){return[zx,DUe]}function vae(t,e){let{state:n}=t,r=n.facet(gae),i=a=>{let s=t.lineBlockAt(t.posAtDOM(a.target)),u=zM(t.state,s.from,s.to);u&&t.dispatch({effects:Gk.of(u)}),a.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(t,i,e);let o=document.createElement("span");return o.textContent=r.placeholderText,o.setAttribute("aria-label",n.phrase("folded code")),o.title=n.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=i,o}const yH=Bn.replace({widget:new class extends md{toDOM(t){return vae(t,null)}}});class MUe extends md{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return vae(e,this.value)}}const RUe={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class zL extends ym{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function IUe(t={}){let e={...RUe,...t},n=new zL(e,!0),r=new zL(e,!1),i=Rs.fromClass(class{constructor(a){this.from=a.viewport.from,this.markers=this.buildMarkers(a)}update(a){(a.docChanged||a.viewportChanged||a.startState.facet(ev)!=a.state.facet(ev)||a.startState.field(zx,!1)!=a.state.field(zx,!1)||no(a.startState)!=no(a.state)||e.foldingChanged(a))&&(this.markers=this.buildMarkers(a.view))}buildMarkers(a){let s=new hu;for(let u of a.viewportLineBlocks){let d=zM(a.state,u.from,u.to)?r:$M(a.state,u.from,u.to)?n:null;d&&s.add(u.from,u.from,d)}return s.finish()}}),{domEventHandlers:o}=e;return[i,Xse({class:"cm-foldGutter",markers(a){var s;return((s=a.plugin(i))===null||s===void 0?void 0:s.markers)||Hr.empty},initialSpacer(){return new zL(e,!1)},domEventHandlers:{...o,click:(a,s,u)=>{if(o.click&&o.click(a,s,u))return!0;let d=zM(a.state,s.from,s.to);if(d)return a.dispatch({effects:Gk.of(d)}),!0;let g=$M(a.state,s.from,s.to);return g?(a.dispatch({effects:XI.of(g)}),!0):!1}}}),yae()]}const DUe=dn.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Xk{constructor(e,n){this.specs=e;let r;function i(s){let u=sy.newName();return(r||(r=Object.create(null)))["."+u]=s,u}const o=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,a=n.scope;this.scope=a instanceof th?s=>s.prop(I0)==a.data:a?s=>s==a:void 0,this.style=sae(e.map(s=>({tag:s.tag,class:s.class||i(Object.assign({},s,{tag:null}))})),{all:o}).style,this.module=r?new sy(r):null,this.themeType=n.themeType}static define(e,n){return new Xk(e,n||{})}}const P6=Mn.define(),_ae=Mn.define({combine(t){return t.length?[t[0]]:null}});function NL(t){let e=t.facet(P6);return e.length?e:t.facet(_ae)}function xae(t,e){let n=[$Ue],r;return t instanceof Xk&&(t.module&&n.push(dn.styleModule.of(t.module)),r=t.themeType),e?.fallback?n.push(_ae.of(t)):r?n.push(P6.computeN([dn.darkTheme],i=>i.facet(dn.darkTheme)==(r=="dark")?[t]:[])):n.push(P6.of(t)),n}class LUe{constructor(e){this.markCache=Object.create(null),this.tree=no(e.state),this.decorations=this.buildDeco(e,NL(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=no(e.state),r=NL(e.state),i=r!=NL(e.startState),{viewport:o}=e.view,a=e.changes.mapPos(this.decoratedTo,1);n.length<o.to&&!i&&n.type==this.tree.type&&a>=o.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=a):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=o.to)}buildDeco(e,n){if(!n||!this.tree.length)return Bn.none;let r=new hu;for(let{from:i,to:o}of e.visibleRanges)sUe(this.tree,n,(a,s,u)=>{r.add(a,s,this.markCache[u]||(this.markCache[u]=Bn.mark({class:u})))},i,o);return r.finish()}}const $Ue=Nf.high(Rs.fromClass(LUe,{decorations:t=>t.decorations})),zUe=Xk.define([{tag:Ne.meta,color:"#404740"},{tag:Ne.link,textDecoration:"underline"},{tag:Ne.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Ne.emphasis,fontStyle:"italic"},{tag:Ne.strong,fontWeight:"bold"},{tag:Ne.strikethrough,textDecoration:"line-through"},{tag:Ne.keyword,color:"#708"},{tag:[Ne.atom,Ne.bool,Ne.url,Ne.contentSeparator,Ne.labelName],color:"#219"},{tag:[Ne.literal,Ne.inserted],color:"#164"},{tag:[Ne.string,Ne.deleted],color:"#a11"},{tag:[Ne.regexp,Ne.escape,Ne.special(Ne.string)],color:"#e40"},{tag:Ne.definition(Ne.variableName),color:"#00f"},{tag:Ne.local(Ne.variableName),color:"#30a"},{tag:[Ne.typeName,Ne.namespace],color:"#085"},{tag:Ne.className,color:"#167"},{tag:[Ne.special(Ne.variableName),Ne.macroName],color:"#256"},{tag:Ne.definition(Ne.propertyName),color:"#00c"},{tag:Ne.comment,color:"#940"},{tag:Ne.invalid,color:"#f00"}]),NUe=dn.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),bae=1e4,wae="()[]{}",Oae=Mn.define({combine(t){return Om(t,{afterCursor:!0,brackets:wae,maxScanDistance:bae,renderMatch:jUe})}}),BUe=Bn.mark({class:"cm-matchingBracket"}),FUe=Bn.mark({class:"cm-nonmatchingBracket"});function jUe(t){let e=[],n=t.matched?BUe:FUe;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const VUe=Ls.define({create(){return Bn.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(Oae);for(let i of e.state.selection.ranges){if(!i.empty)continue;let o=tm(e.state,i.head,-1,r)||i.head>0&&tm(e.state,i.head-1,1,r)||r.afterCursor&&(tm(e.state,i.head,1,r)||i.head<e.state.doc.length&&tm(e.state,i.head+1,-1,r));o&&(n=n.concat(r.renderMatch(o,e.state)))}return Bn.set(n,!0)},provide:t=>dn.decorations.from(t)}),QUe=[VUe,NUe];function UUe(t={}){return[Oae.of(t),QUe]}const Sae=new vr;function M6(t,e,n){let r=t.prop(e<0?vr.openedBy:vr.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function R6(t){let e=t.type.prop(Sae);return e?e(t.node):t}function tm(t,e,n,r={}){let i=r.maxScanDistance||bae,o=r.brackets||wae,a=no(t),s=a.resolveInner(e,n);for(let u=s;u;u=u.parent){let d=M6(u.type,n,o);if(d&&u.from<u.to){let g=R6(u);if(g&&(n>0?e>=g.from&&e<g.to:e>g.from&&e<=g.to))return ZUe(t,e,n,u,g,d,o)}}return qUe(t,e,n,a,s.type,i,o)}function ZUe(t,e,n,r,i,o,a){let s=r.parent,u={from:i.from,to:i.to},d=0,g=s?.cursor();if(g&&(n<0?g.childBefore(r.from):g.childAfter(r.to)))do if(n<0?g.to<=r.from:g.from>=r.to){if(d==0&&o.indexOf(g.type.name)>-1&&g.from<g.to){let v=R6(g);return{start:u,end:v?{from:v.from,to:v.to}:void 0,matched:!0}}else if(M6(g.type,n,a))d++;else if(M6(g.type,-n,a)){if(d==0){let v=R6(g);return{start:u,end:v&&v.from<v.to?{from:v.from,to:v.to}:void 0,matched:!1}}d--}}while(n<0?g.prevSibling():g.nextSibling());return{start:u,matched:!1}}function qUe(t,e,n,r,i,o,a){let s=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),u=a.indexOf(s);if(u<0||u%2==0!=n>0)return null;let d={from:n<0?e-1:e,to:n>0?e+1:e},g=t.doc.iterRange(e,n>0?t.doc.length:0),v=0;for(let x=0;!g.next().done&&x<=o;){let O=g.value;n<0&&(x+=O.length);let E=e+x*n;for(let A=n>0?0:O.length-1,M=n>0?O.length:-1;A!=M;A+=n){let L=a.indexOf(O[A]);if(!(L<0||r.resolveInner(E+A,1).type!=i))if(L%2==0==n>0)v++;else{if(v==1)return{start:d,end:{from:E+A,to:E+A+1},matched:L>>1==u>>1};v--}}n>0&&(x+=O.length)}return g.done?{start:d,matched:!1}:null}function vH(t,e,n,r=0,i=0){e==null&&(e=t.search(/[^\s\u00a0]/),e==-1&&(e=t.length));let o=i;for(let a=r;a<e;a++)t.charCodeAt(a)==9?o+=n-o%n:o++;return o}class Cae{constructor(e,n,r,i){this.string=e,this.tabSize=n,this.indentUnit=r,this.overrideIndent=i,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let n=this.string.charAt(this.pos),r;if(typeof e=="string"?r=n==e:r=n&&(e instanceof RegExp?e.test(n):e(n)),r)return++this.pos,n}eatWhile(e){let n=this.pos;for(;this.eat(e););return this.pos>n}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let n=this.string.indexOf(e,this.pos);if(n>-1)return this.pos=n,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=vH(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var e;return(e=this.overrideIndent)!==null&&e!==void 0?e:vH(this.string,null,this.tabSize)}match(e,n,r){if(typeof e=="string"){let i=a=>r?a.toLowerCase():a,o=this.string.substr(this.pos,e.length);return i(o)==i(e)?(n!==!1&&(this.pos+=e.length),!0):null}else{let i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&n!==!1&&(this.pos+=i[0].length),i)}}current(){return this.string.slice(this.start,this.pos)}}function WUe(t){return{name:t.name||"",token:t.token,blankLine:t.blankLine||(()=>{}),startState:t.startState||(()=>!0),copyState:t.copyState||HUe,indent:t.indent||(()=>null),languageData:t.languageData||{},tokenTable:t.tokenTable||fF,mergeTokens:t.mergeTokens!==!1}}function HUe(t){if(typeof t!="object")return t;let e={};for(let n in t){let r=t[n];e[n]=r instanceof Array?r.slice():r}return e}const _H=new WeakMap;class hF extends th{constructor(e){let n=HI(e.languageData),r=WUe(e),i,o=new class extends WI{createParse(a,s,u){return new XUe(i,a,s,u)}};super(n,o,[],e.name),this.topNode=JUe(n,this),i=this,this.streamParser=r,this.stateAfter=new vr({perNode:!0}),this.tokenTable=e.tokenTable?new Aae(r.tokenTable):KUe}static define(e){return new hF(e)}getIndent(e){let n,{overrideIndentation:r}=e.options;r&&(n=_H.get(e.state),n!=null&&n<e.pos-1e4&&(n=void 0));let i=dF(this,e.node.tree,e.node.from,e.node.from,n??e.pos),o,a;if(i?(a=i.state,o=i.pos+1):(a=this.streamParser.startState(e.unit),o=e.node.from),e.pos-o>1e4)return null;for(;o<e.pos;){let u=e.state.doc.lineAt(o),d=Math.min(e.pos,u.to);if(u.length){let g=r?r(u.from):-1,v=new Cae(u.text,e.state.tabSize,e.unit,g<0?void 0:g);for(;v.pos<d-u.from;)kae(this.streamParser.token,v,a)}else this.streamParser.blankLine(a,e.unit);if(d==e.pos)break;o=u.to+1}let s=e.lineAt(e.pos);return r&&n==null&&_H.set(e.state,s.from),this.streamParser.indent(a,/^\s*(.*)/.exec(s.text)[1],e)}get allowsNesting(){return!1}}function dF(t,e,n,r,i){let o=n>=r&&n+e.length<=i&&e.prop(t.stateAfter);if(o)return{state:t.streamParser.copyState(o),pos:n+e.length};for(let a=e.children.length-1;a>=0;a--){let s=e.children[a],u=n+e.positions[a],d=s instanceof Ur&&u<i&&dF(t,s,u,r,i);if(d)return d}return null}function Tae(t,e,n,r,i){if(i&&n<=0&&r>=e.length)return e;!i&&n==0&&e.type==t.topNode&&(i=!0);for(let o=e.children.length-1;o>=0;o--){let a=e.positions[o],s=e.children[o],u;if(a<r&&s instanceof Ur){if(!(u=Tae(t,s,n-a,r-a,i)))break;return i?new Ur(e.type,e.children.slice(0,o).concat(u),e.positions.slice(0,o+1),a+u.length):u}}return null}function GUe(t,e,n,r,i){for(let o of e){let a=o.from+(o.openStart?25:0),s=o.to-(o.openEnd?25:0),u=a<=n&&s>n&&dF(t,o.tree,0-o.offset,n,s),d;if(u&&u.pos<=r&&(d=Tae(t,o.tree,n+o.offset,u.pos+o.offset,!1)))return{state:u.state,tree:d}}return{state:t.streamParser.startState(i?$x(i):4),tree:Ur.empty}}let XUe=class{constructor(e,n,r,i){this.lang=e,this.input=n,this.fragments=r,this.ranges=i,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=i[i.length-1].to;let o=Lx.get(),a=i[0].from,{state:s,tree:u}=GUe(e,r,a,this.to,o?.state);this.state=s,this.parsedPos=this.chunkStart=a+u.length;for(let d=0;d<u.children.length;d++)this.chunks.push(u.children[d]),this.chunkPos.push(u.positions[d]);o&&this.parsedPos<o.viewport.from-1e5&&i.some(d=>d.from<=o.viewport.from&&d.to>=o.viewport.from)&&(this.state=this.lang.streamParser.startState($x(o.state)),o.skipUntilInView(this.parsedPos,o.viewport.from),this.parsedPos=o.viewport.from),this.moveRangeIndex()}advance(){let e=Lx.get(),n=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),r=Math.min(n,this.chunkStart+512);for(e&&(r=Math.min(r,e.viewport.to));this.parsedPos<r;)this.parseLine(e);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=n?this.finish():e&&this.parsedPos>=e.viewport.to?(e.skipUntilInView(this.parsedPos,n),this.finish()):null}stopAt(e){this.stoppedAt=e}lineAfter(e){let n=this.input.chunk(e);if(this.input.lineChunks)n==`
`&&(n="");else{let r=n.indexOf(`
`);r>-1&&(n=n.slice(0,r))}return e+n.length<=this.to?n:n.slice(0,this.to-e)}nextLine(){let e=this.parsedPos,n=this.lineAfter(e),r=e+n.length;for(let i=this.rangeIndex;;){let o=this.ranges[i].to;if(o>=r||(n=n.slice(0,o-(r-n.length)),i++,i==this.ranges.length))break;let a=this.ranges[i].from,s=this.lineAfter(a);n+=s,r=a+s.length}return{line:n,end:r}}skipGapsTo(e,n,r){for(;;){let i=this.ranges[this.rangeIndex].to,o=e+n;if(r>0?i>o:i>=o)break;let a=this.ranges[++this.rangeIndex].from;n+=a-i}return n}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(e,n,r,i){let o=4;if(this.ranges.length>1){i=this.skipGapsTo(n,i,1),n+=i;let s=this.chunk.length;i=this.skipGapsTo(r,i,-1),r+=i,o+=this.chunk.length-s}let a=this.chunk.length-4;return this.lang.streamParser.mergeTokens&&o==4&&a>=0&&this.chunk[a]==e&&this.chunk[a+2]==n?this.chunk[a+2]=r:this.chunk.push(e,n,r,o),i}parseLine(e){let{line:n,end:r}=this.nextLine(),i=0,{streamParser:o}=this.lang,a=new Cae(n,e?e.state.tabSize:4,e?$x(e.state):2);if(a.eol())o.blankLine(this.state,a.indentUnit);else for(;!a.eol();){let s=kae(o.token,a,this.state);if(s&&(i=this.emitToken(this.lang.tokenTable.resolve(s),this.parsedPos+a.start,this.parsedPos+a.pos,i)),a.start>1e4)break}this.parsedPos=r,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let e=Ur.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:YUe,topID:0,maxBufferLength:512,reused:this.chunkReused});e=new Ur(e.type,e.children,e.positions,e.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(e),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new Ur(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}};function kae(t,e,n){e.start=e.pos;for(let r=0;r<10;r++){let i=t(e,n);if(e.pos>e.start)return i}throw new Error("Stream parser failed to advance stream.")}const fF=Object.create(null),jT=[ia.none],YUe=new eS(jT),xH=[],bH=Object.create(null),Eae=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Eae[t]=Pae(fF,e);class Aae{constructor(e){this.extra=e,this.table=Object.assign(Object.create(null),Eae)}resolve(e){return e?this.table[e]||(this.table[e]=Pae(this.extra,e)):0}}const KUe=new Aae(fF);function BL(t,e){xH.indexOf(t)>-1||(xH.push(t),console.warn(e))}function Pae(t,e){let n=[];for(let s of e.split(" ")){let u=[];for(let d of s.split(".")){let g=t[d]||Ne[d];g?typeof g=="function"?u.length?u=u.map(g):BL(d,`Modifier ${d} used at start of tag`):u.length?BL(d,`Tag ${d} used as modifier`):u=Array.isArray(g)?g:[g]:BL(d,`Unknown highlighting tag ${d}`)}for(let d of u)n.push(d)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+n.map(s=>s.id),o=bH[i];if(o)return o.id;let a=bH[i]=ia.define({id:jT.length,name:r,props:[tS({[r]:n})]});return jT.push(a),a.id}function JUe(t,e){let n=ia.define({id:jT.length,name:"Document",props:[I0.add(()=>t),nS.add(()=>r=>e.getIndent(r))],top:!0});return jT.push(n),n}_o.RTL,_o.LTR;class pF{constructor(e,n,r,i){this.state=e,this.pos=n,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=no(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),o=i.search(Rae(e,!1));return o<0?null:{from:r+o,to:this.pos,text:i.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function wH(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function eZe(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let o=1;o<i.length;o++)n[i[o]]=!0}let r=wH(e)+wH(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function Mae(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[n,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:eZe(e);return i=>{let o=i.matchBefore(r);return o||i.explicit?{from:o?o.from:i.pos,options:e,validFor:n}:null}}function tZe(t,e){return n=>{for(let r=no(n.state).resolveInner(n.pos,-1);r;r=r.parent){if(t.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(n)}}class OH{constructor(e,n,r,i){this.completion=e,this.source=n,this.match=r,this.score=i}}function ux(t){return t.selection.main.from}function Rae(t,e){var n;let{source:r}=t,i=e&&r[0]!="^",o=r[r.length-1]!="$";return!i&&!o?t:new RegExp(`${i?"^":""}(?:${r})${o?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const mF=gy.define();function nZe(t,e,n,r){let{main:i}=t.selection,o=n-i.from,a=r-i.from;return{...t.changeByRange(s=>{if(s!=i&&n!=r&&t.sliceDoc(s.from+o,s.from+a)!=t.sliceDoc(n,r))return{range:s};let u=t.toText(e);return{changes:{from:s.from+o,to:r==i.from?s.to:s.from+a,insert:u},range:jt.cursor(s.from+o+u.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const SH=new WeakMap;function rZe(t){if(!Array.isArray(t))return t;let e=SH.get(t);return e||SH.set(t,e=Mae(t)),e}const NM=pr.define(),VT=pr.define();class iZe{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let r=Jc(e,n),i=Wp(r);this.chars.push(r);let o=e.slice(n,n+i),a=o.toUpperCase();this.folded.push(Jc(a==o?o.toLowerCase():a,0)),n+=i}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:o,byWord:a}=this;if(n.length==1){let $=Jc(e,0),N=Wp($),F=N==e.length?0:-100;if($!=n[0])if($==r[0])F+=-200;else return null;return this.ret(F,[0,N])}let s=e.indexOf(this.pattern);if(s==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let u=n.length,d=0;if(s<0){for(let $=0,N=Math.min(e.length,200);$<N&&d<u;){let F=Jc(e,$);(F==n[d]||F==r[d])&&(i[d++]=$),$+=Wp(F)}if(d<u)return null}let g=0,v=0,x=!1,O=0,E=-1,A=-1,M=/[a-z]/.test(e),L=!0;for(let $=0,N=Math.min(e.length,200),F=0;$<N&&v<u;){let U=Jc(e,$);s<0&&(g<u&&U==n[g]&&(o[g++]=$),O<u&&(U==n[O]||U==r[O]?(O==0&&(E=$),A=$+1,O++):O=0));let q,W=U<255?U>=48&&U<=57||U>=97&&U<=122?2:U>=65&&U<=90?1:0:(q=V9(U))!=q.toLowerCase()?1:q!=q.toUpperCase()?2:0;(!$||W==1&&M||F==0&&W!=0)&&(n[v]==U||r[v]==U&&(x=!0)?a[v++]=$:a.length&&(L=!1)),F=W,$+=Wp(U)}return v==u&&a[0]==0&&L?this.result(-100+(x?-200:0),a,e):O==u&&E==0?this.ret(-200-e.length+(A==e.length?0:-100),[0,A]):s>-1?this.ret(-700-e.length,[s,s+this.pattern.length]):O==u?this.ret(-900-e.length,[E,A]):v==u?this.result(-100+(x?-200:0)+-700+(L?0:-1100),a,e):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,n,r){let i=[],o=0;for(let a of n){let s=a+(this.astral?Wp(Jc(r,a)):1);o&&i[o-1]==a?i[o-1]=s:(i[o++]=a,i[o++]=s)}return this.ret(e-r.length,i)}}class oZe{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const Ia=Mn.define({combine(t){return Om(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:sZe,filterStrict:!1,compareCompletions:(e,n)=>(e.sortText||e.label).localeCompare(n.sortText||n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>CH(e(r),n(r)),optionClass:(e,n)=>r=>CH(e(r),n(r)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function CH(t,e){return t?e?t+" "+e:t:e}function sZe(t,e,n,r,i,o){let a=t.textDirection==_o.RTL,s=a,u=!1,d="top",g,v,x=e.left-i.left,O=i.right-e.right,E=r.right-r.left,A=r.bottom-r.top;if(s&&x<Math.min(E,O)?s=!1:!s&&O<Math.min(E,x)&&(s=!0),E<=(s?x:O))g=Math.max(i.top,Math.min(n.top,i.bottom-A))-e.top,v=Math.min(400,s?x:O);else{u=!0,v=Math.min(400,(a?e.right:i.right-e.left)-30);let $=i.bottom-e.bottom;$>=A||$>e.top?g=n.bottom-e.top:(d="bottom",g=e.bottom-n.top)}let M=(e.bottom-e.top)/o.offsetHeight,L=(e.right-e.left)/o.offsetWidth;return{style:`${d}: ${g/M}px; max-width: ${v/L}px`,class:"cm-completionInfo-"+(u?a?"left-narrow":"right-narrow":s?"left":"right")}}function aZe(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,i,o){let a=document.createElement("span");a.className="cm-completionLabel";let s=n.displayLabel||n.label,u=0;for(let d=0;d<o.length;){let g=o[d++],v=o[d++];g>u&&a.appendChild(document.createTextNode(s.slice(u,g)));let x=a.appendChild(document.createElement("span"));x.appendChild(document.createTextNode(s.slice(g,v))),x.className="cm-completionMatchedText",u=v}return u<s.length&&a.appendChild(document.createTextNode(s.slice(u))),a},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function FL(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class lZe{constructor(e,n,r){this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:u=>this.placeInfo(u),key:this},this.space=null,this.currentClass="";let i=e.state.field(n),{options:o,selected:a}=i.open,s=e.state.facet(Ia);this.optionContent=aZe(s),this.optionClass=s.optionClass,this.tooltipClass=s.tooltipClass,this.range=FL(o.length,a,s.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",u=>{let{options:d}=e.state.field(n).open;for(let g=u.target,v;g&&g!=this.dom;g=g.parentNode)if(g.nodeName=="LI"&&(v=/-(\d+)$/.exec(g.id))&&+v[1]<d.length){this.applyCompletion(e,d[+v[1]]),u.preventDefault();return}}),this.dom.addEventListener("focusout",u=>{let d=e.state.field(this.stateField,!1);d&&d.tooltip&&e.state.facet(Ia).closeOnBlur&&u.relatedTarget!=e.contentDOM&&e.dispatch({effects:VT.of(null)})}),this.showOptions(o,i.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:o,selected:a,disabled:s}=r.open;(!i.open||i.open.options!=o)&&(this.range=FL(o.length,a,e.state.facet(Ia).maxRenderedOptions),this.showOptions(o,r.id)),this.updateSel(),s!=((n=i.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!s)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;(n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=FL(n.options.length,n.selected,this.view.state.facet(Ia).maxRenderedOptions),this.showOptions(n.options,e.id));let r=this.updateSelectedOption(n.selected);if(r){this.destroyInfo();let{completion:i}=n.options[n.selected],{info:o}=i;if(!o)return;let a=typeof o=="string"?document.createTextNode(o):o(i);if(!a)return;"then"in a?a.then(s=>{s&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(s,i)}).catch(s=>iu(this.view.state,s,"completion info")):(this.addInfoPane(a,i),r.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",r.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:o}=e;r.appendChild(i),this.infoDestroy=o||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&(r.removeAttribute("aria-selected"),r.removeAttribute("aria-describedby"));return n&&uZe(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),o=this.space;if(!o){let a=this.dom.ownerDocument.documentElement;o={left:0,top:0,right:a.clientWidth,bottom:a.clientHeight}}return i.top>Math.min(o.bottom,n.bottom)-10||i.bottom<Math.max(o.top,n.top)+10?null:this.view.state.facet(Ia).positionInfo(this.view,n,i,r,o,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",a=>{a.target==i&&a.preventDefault()});let o=null;for(let a=r.from;a<r.to;a++){let{completion:s,match:u}=e[a],{section:d}=s;if(d){let x=typeof d=="string"?d:d.name;if(x!=o&&(a>r.from||r.from==0))if(o=x,typeof d!="string"&&d.header)i.appendChild(d.header(d));else{let O=i.appendChild(document.createElement("completion-section"));O.textContent=x}}const g=i.appendChild(document.createElement("li"));g.id=n+"-"+a,g.setAttribute("role","option");let v=this.optionClass(s);v&&(g.className=v);for(let x of this.optionContent){let O=x(s,this.view.state,this.view,u);O&&g.appendChild(O)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function cZe(t,e){return n=>new lZe(n,t,e)}function uZe(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/i)}function TH(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function hZe(t,e){let n=[],r=null,i=null,o=g=>{n.push(g);let{section:v}=g.completion;if(v){r||(r=[]);let x=typeof v=="string"?v:v.name;r.some(O=>O.name==x)||r.push(typeof v=="string"?{name:x}:v)}},a=e.facet(Ia);for(let g of t)if(g.hasResult()){let v=g.result.getMatch;if(g.result.filter===!1)for(let x of g.result.options)o(new OH(x,g.source,v?v(x):[],1e9-n.length));else{let x=e.sliceDoc(g.from,g.to),O,E=a.filterStrict?new oZe(x):new iZe(x);for(let A of g.result.options)if(O=E.match(A.label)){let M=A.displayLabel?v?v(A,O.matched):[]:O.matched,L=O.score+(A.boost||0);if(o(new OH(A,g.source,M,L)),typeof A.section=="object"&&A.section.rank==="dynamic"){let{name:$}=A.section;i||(i=Object.create(null)),i[$]=Math.max(L,i[$]||-1e9)}}}}if(r){let g=Object.create(null),v=0,x=(O,E)=>(O.rank==="dynamic"&&E.rank==="dynamic"?i[E.name]-i[O.name]:0)||(typeof O.rank=="number"?O.rank:1e9)-(typeof E.rank=="number"?E.rank:1e9)||(O.name<E.name?-1:1);for(let O of r.sort(x))v-=1e5,g[O.name]=v;for(let O of n){let{section:E}=O.completion;E&&(O.score+=g[typeof E=="string"?E:E.name])}}let s=[],u=null,d=a.compareCompletions;for(let g of n.sort((v,x)=>x.score-v.score||d(v.completion,x.completion))){let v=g.completion;!u||u.label!=v.label||u.detail!=v.detail||u.type!=null&&v.type!=null&&u.type!=v.type||u.apply!=v.apply||u.boost!=v.boost?s.push(g):TH(g.completion)>TH(u)&&(s[s.length-1]=g),u=g.completion}return s}class cw{constructor(e,n,r,i,o,a){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=o,this.disabled=a}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new cw(this.options,kH(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,i,o,a){if(i&&!a&&e.some(d=>d.isPending))return i.setDisabled();let s=hZe(e,n);if(!s.length)return i&&e.some(d=>d.isPending)?i.setDisabled():null;let u=n.facet(Ia).selectOnOpen?0:-1;if(i&&i.selected!=u&&i.selected!=-1){let d=i.options[i.selected].completion;for(let g=0;g<s.length;g++)if(s[g].completion==d){u=g;break}}return new cw(s,kH(r,u),{pos:e.reduce((d,g)=>g.hasResult()?Math.min(d,g.from):d,1e8),create:yZe,above:o.aboveCursor},i?i.timestamp:Date.now(),u,!1)}map(e){return new cw(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new cw(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class BM{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new BM(mZe,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(Ia),o=(r.override||n.languageDataAt("autocomplete",ux(n)).map(rZe)).map(u=>(this.active.find(g=>g.source==u)||new Kh(u,this.active.some(g=>g.state!=0)?1:0)).update(e,r));o.length==this.active.length&&o.every((u,d)=>u==this.active[d])&&(o=this.active);let a=this.open,s=e.effects.some(u=>u.is(gF));a&&e.docChanged&&(a=a.map(e.changes)),e.selection||o.some(u=>u.hasResult()&&e.changes.touchesRange(u.from,u.to))||!dZe(o,this.active)||s?a=cw.build(o,n,this.id,a,r,s):a&&a.disabled&&!o.some(u=>u.isPending)&&(a=null),!a&&o.every(u=>!u.isPending)&&o.some(u=>u.hasResult())&&(o=o.map(u=>u.hasResult()?new Kh(u.source,0):u));for(let u of e.effects)u.is(Dae)&&(a=a&&a.setSelected(u.value,this.id));return o==this.active&&a==this.open?this:new BM(o,this.id,a)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?fZe:pZe}}function dZe(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult();)n++;for(;r<e.length&&!e[r].hasResult();)r++;let i=n==t.length,o=r==e.length;if(i||o)return i==o;if(t[n++].result!=e[r++].result)return!1}}const fZe={"aria-autocomplete":"list"},pZe={};function kH(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const mZe=[];function Iae(t,e){if(t.isUserEvent("input.complete")){let r=t.annotation(mF);if(r&&e.activateOnCompletion(r))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class Kh{constructor(e,n,r=!1){this.source=e,this.state=n,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,n){let r=Iae(e,n),i=this;(r&8||r&16&&this.touches(e))&&(i=new Kh(i.source,0)),r&4&&i.state==0&&(i=new Kh(this.source,1)),i=i.updateFor(e,r);for(let o of e.effects)if(o.is(NM))i=new Kh(i.source,1,o.value);else if(o.is(VT))i=new Kh(i.source,0);else if(o.is(gF))for(let a of o.value)a.source==i.source&&(i=a);return i}updateFor(e,n){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(ux(e.state))}}class Aw extends Kh{constructor(e,n,r,i,o,a){super(e,3,n),this.limit=r,this.result=i,this.from=o,this.to=a}hasResult(){return!0}updateFor(e,n){var r;if(!(n&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let o=e.changes.mapPos(this.from),a=e.changes.mapPos(this.to,1),s=ux(e.state);if(s>a||!i||n&2&&(ux(e.startState)==this.from||s<this.limit))return new Kh(this.source,n&4?1:0);let u=e.changes.mapPos(this.limit);return gZe(i.validFor,e.state,o,a)?new Aw(this.source,this.explicit,u,i,o,a):i.update&&(i=i.update(i,o,a,new pF(e.state,s,!1)))?new Aw(this.source,this.explicit,u,i,i.from,(r=i.to)!==null&&r!==void 0?r:ux(e.state)):new Kh(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new Aw(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Kh(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function gZe(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return typeof t=="function"?t(i,n,r,e):Rae(t,!0).test(i)}const gF=pr.define({map(t,e){return t.map(n=>n.map(e))}}),Dae=pr.define(),eu=Ls.define({create(){return BM.start()},update(t,e){return t.update(e)},provide:t=>[rF.from(t,e=>e.tooltip),dn.contentAttributes.from(t,e=>e.attrs)]});function yF(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(eu).active.find(i=>i.source==e.source);return r instanceof Aw?(typeof n=="string"?t.dispatch({...nZe(t.state,n,r.from,r.to),annotations:mF.of(e.completion)}):n(t,e.completion,r.from,r.to),!0):!1}const yZe=cZe(eu,yF);function cP(t,e="option"){return n=>{let r=n.state.field(eu,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(Ia).interactionDelay)return!1;let i=1,o;e=="page"&&(o=Hse(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:a}=r.open.options,s=r.open.selected>-1?r.open.selected+i*(t?1:-1):t?0:a-1;return s<0?s=e=="page"?0:a-1:s>=a&&(s=e=="page"?a-1:0),n.dispatch({effects:Dae.of(s)}),!0}}const vZe=t=>{let e=t.state.field(eu,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(Ia).interactionDelay?!1:yF(t,e.open.options[e.open.selected])},jL=t=>t.state.field(eu,!1)?(t.dispatch({effects:NM.of(!0)}),!0):!1,_Ze=t=>{let e=t.state.field(eu,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:VT.of(null)}),!0)};class xZe{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const bZe=50,wZe=1e3,OZe=Rs.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(eu).active)e.isPending&&this.startQuery(e)}update(t){let e=t.state.field(eu),n=t.state.facet(Ia);if(!t.selectionSet&&!t.docChanged&&t.startState.field(eu)==e)return;let r=t.transactions.some(o=>{let a=Iae(o,n);return a&8||(o.selection||o.docChanged)&&!(a&3)});for(let o=0;o<this.running.length;o++){let a=this.running[o];if(r||a.context.abortOnDocChange&&t.docChanged||a.updates.length+t.transactions.length>bZe&&Date.now()-a.time>wZe){for(let s of a.context.abortListeners)try{s()}catch(u){iu(this.view.state,u)}a.context.abortListeners=null,this.running.splice(o--,1)}else a.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(o=>o.effects.some(a=>a.is(NM)))&&(this.pendingStart=!0);let i=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(o=>o.isPending&&!this.running.some(a=>a.active.source==o.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let o of t.transactions)o.isUserEvent("input.type")?this.composing=2:this.composing==2&&o.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(eu);for(let n of e.active)n.isPending&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Ia).updateSyncTime))}startQuery(t){let{state:e}=this.view,n=ux(e),r=new pF(e,n,t.explicit,this.view),i=new xZe(t,r);this.running.push(i),Promise.resolve(t.source(r)).then(o=>{i.context.aborted||(i.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:VT.of(null)}),iu(this.view.state,o)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Ia).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(Ia),r=this.view.state.field(eu);for(let i=0;i<this.running.length;i++){let o=this.running[i];if(o.done===void 0)continue;if(this.running.splice(i--,1),o.done){let s=ux(o.updates.length?o.updates[0].startState:this.view.state),u=Math.min(s,o.done.from+(o.active.explicit?0:1)),d=new Aw(o.active.source,o.active.explicit,u,o.done,o.done.from,(t=o.done.to)!==null&&t!==void 0?t:s);for(let g of o.updates)d=d.update(g,n);if(d.hasResult()){e.push(d);continue}}let a=r.active.find(s=>s.source==o.active.source);if(a&&a.isPending)if(o.done==null){let s=new Kh(o.active.source,0);for(let u of o.updates)s=s.update(u,n);s.isPending||e.push(s)}else this.startQuery(a)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:gF.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(eu,!1);if(e&&e.tooltip&&this.view.state.facet(Ia).closeOnBlur){let n=e.open&&Hse(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:VT.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:NM.of(!1)}),20),this.composing=0}}}),SZe=typeof navigator=="object"&&/Win/.test(navigator.platform),CZe=Nf.highest(dn.domEventHandlers({keydown(t,e){let n=e.state.field(eu,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(SZe&&t.altKey)||t.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find(a=>a.source==r.source),o=r.completion.commitCharacters||i.result.commitCharacters;return o&&o.indexOf(t.key)>-1&&yF(e,r),!1}})),Lae=dn.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class TZe{constructor(e,n,r,i){this.field=e,this.line=n,this.from=r,this.to=i}}class vF{constructor(e,n,r){this.field=e,this.from=n,this.to=r}map(e){let n=e.mapPos(this.from,-1,sl.TrackDel),r=e.mapPos(this.to,1,sl.TrackDel);return n==null||r==null?null:new vF(this.field,n,r)}}class _F{constructor(e,n){this.lines=e,this.fieldPositions=n}instantiate(e,n){let r=[],i=[n],o=e.doc.lineAt(n),a=/^\s*/.exec(o.text)[0];for(let u of this.lines){if(r.length){let d=a,g=/^\t*/.exec(u)[0].length;for(let v=0;v<g;v++)d+=e.facet(Hk);i.push(n+d.length-g),u=d+u.slice(g)}r.push(u),n+=u.length+1}let s=this.fieldPositions.map(u=>new vF(u.field,i[u.line]+u.from,i[u.line]+u.to));return{text:r,ranges:s}}static parse(e){let n=[],r=[],i=[],o;for(let a of e.split(/\r\n?|\n/)){for(;o=/[#$]\{(?:(\d+)(?::([^{}]*))?|((?:\\[{}]|[^{}])*))\}/.exec(a);){let s=o[1]?+o[1]:null,u=o[2]||o[3]||"",d=-1,g=u.replace(/\\[{}]/g,v=>v[1]);for(let v=0;v<n.length;v++)(s!=null?n[v].seq==s:g&&n[v].name==g)&&(d=v);if(d<0){let v=0;for(;v<n.length&&(s==null||n[v].seq!=null&&n[v].seq<s);)v++;n.splice(v,0,{seq:s,name:g}),d=v;for(let x of i)x.field>=d&&x.field++}for(let v of i)if(v.line==r.length&&v.from>o.index){let x=o[2]?3+(o[1]||"").length:2;v.from-=x,v.to-=x}i.push(new TZe(d,r.length,o.index,o.index+g.length)),a=a.slice(0,o.index)+u+a.slice(o.index+o[0].length)}a=a.replace(/\\([{}])/g,(s,u,d)=>{for(let g of i)g.line==r.length&&g.from>d&&(g.from--,g.to--);return u}),r.push(a)}return new _F(r,i)}}let kZe=Bn.widget({widget:new class extends md{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),EZe=Bn.mark({class:"cm-snippetField"});class iS{constructor(e,n){this.ranges=e,this.active=n,this.deco=Bn.set(e.map(r=>(r.from==r.to?kZe:EZe).range(r.from,r.to)),!0)}map(e){let n=[];for(let r of this.ranges){let i=r.map(e);if(!i)return null;n.push(i)}return new iS(n,this.active)}selectionInsideField(e){return e.ranges.every(n=>this.ranges.some(r=>r.field==this.active&&r.from<=n.from&&r.to>=n.to))}}const Yk=pr.define({map(t,e){return t&&t.map(e)}}),AZe=pr.define(),QT=Ls.define({create(){return null},update(t,e){for(let n of e.effects){if(n.is(Yk))return n.value;if(n.is(AZe)&&t)return new iS(t.ranges,n.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>dn.decorations.from(t,e=>e?e.deco:Bn.none)});function xF(t,e){return jt.create(t.filter(n=>n.field==e).map(n=>jt.range(n.from,n.to)))}function PZe(t){let e=_F.parse(t);return(n,r,i,o)=>{let{text:a,ranges:s}=e.instantiate(n.state,i),{main:u}=n.state.selection,d={changes:{from:i,to:o==u.from?u.to:o,insert:Ai.of(a)},scrollIntoView:!0,annotations:r?[mF.of(r),Js.userEvent.of("input.complete")]:void 0};if(s.length&&(d.selection=xF(s,0)),s.some(g=>g.field>0)){let g=new iS(s,0),v=d.effects=[Yk.of(g)];n.state.field(QT,!1)===void 0&&v.push(pr.appendConfig.of([QT,LZe,$Ze,Lae]))}n.dispatch(n.state.update(d))}}function $ae(t){return({state:e,dispatch:n})=>{let r=e.field(QT,!1);if(!r||t<0&&r.active==0)return!1;let i=r.active+t,o=t>0&&!r.ranges.some(a=>a.field==i+t);return n(e.update({selection:xF(r.ranges,i),effects:Yk.of(o?null:new iS(r.ranges,i)),scrollIntoView:!0})),!0}}const MZe=({state:t,dispatch:e})=>t.field(QT,!1)?(e(t.update({effects:Yk.of(null)})),!0):!1,RZe=$ae(1),IZe=$ae(-1),DZe=[{key:"Tab",run:RZe,shift:IZe},{key:"Escape",run:MZe}],EH=Mn.define({combine(t){return t.length?t[0]:DZe}}),LZe=Nf.highest(JO.compute([EH],t=>t.facet(EH)));function Gc(t,e){return{...e,apply:PZe(t)}}const $Ze=dn.domEventHandlers({mousedown(t,e){let n=e.state.field(QT,!1),r;if(!n||(r=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let i=n.ranges.find(o=>o.from<=r&&o.to>=r);return!i||i.field==n.active?!1:(e.dispatch({selection:xF(n.ranges,i.field),effects:Yk.of(n.ranges.some(o=>o.field>i.field)?new iS(n.ranges,i.field):null),scrollIntoView:!0}),!0)}}),UT={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},ex=pr.define({map(t,e){let n=e.mapPos(t,-1,sl.TrackAfter);return n??void 0}}),bF=new class extends X0{};bF.startSide=1;bF.endSide=-1;const zae=Ls.define({create(){return Hr.empty},update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:r=>r>=n.from&&r<=n.to})}for(let n of e.effects)n.is(ex)&&(t=t.update({add:[bF.range(n.value,n.value+1)]}));return t}});function zZe(){return[BZe,zae]}const VL="()[]{}<>";function Nae(t){for(let e=0;e<VL.length;e+=2)if(VL.charCodeAt(e)==t)return VL.charAt(e+1);return V9(t<128?t:t+1)}function Bae(t,e){return t.languageDataAt("closeBrackets",e)[0]||UT}const NZe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),BZe=dn.inputHandler.of((t,e,n,r)=>{if((NZe?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||r.length==2&&Wp(Jc(r,0))==1||e!=i.from||n!=i.to)return!1;let o=VZe(t.state,r);return o?(t.dispatch(o),!0):!1}),FZe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=Bae(t,t.selection.main.head).brackets||UT.brackets,i=null,o=t.changeByRange(a=>{if(a.empty){let s=QZe(t.doc,a.head);for(let u of r)if(u==s&&YI(t.doc,a.head)==Nae(Jc(u,0)))return{changes:{from:a.head-u.length,to:a.head+u.length},range:jt.cursor(a.head-u.length)}}return{range:i=a}});return i||e(t.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},jZe=[{key:"Backspace",run:FZe}];function VZe(t,e){let n=Bae(t,t.selection.main.head),r=n.brackets||UT.brackets;for(let i of r){let o=Nae(Jc(i,0));if(e==i)return o==i?qZe(t,i,r.indexOf(i+i+i)>-1,n):UZe(t,i,o,n.before||UT.before);if(e==o&&Fae(t,t.selection.main.from))return ZZe(t,i,o)}return null}function Fae(t,e){let n=!1;return t.field(zae).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function YI(t,e){let n=t.sliceString(e,e+2);return n.slice(0,Wp(Jc(n,0)))}function QZe(t,e){let n=t.sliceString(e-2,e);return Wp(Jc(n,0))==n.length?n:n.slice(1)}function UZe(t,e,n,r){let i=null,o=t.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:n,from:a.to}],effects:ex.of(a.to+e.length),range:jt.range(a.anchor+e.length,a.head+e.length)};let s=YI(t.doc,a.head);return!s||/\s/.test(s)||r.indexOf(s)>-1?{changes:{insert:e+n,from:a.head},effects:ex.of(a.head+e.length),range:jt.cursor(a.head+e.length)}:{range:i=a}});return i?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function ZZe(t,e,n){let r=null,i=t.changeByRange(o=>o.empty&&YI(t.doc,o.head)==n?{changes:{from:o.head,to:o.head+n.length,insert:n},range:jt.cursor(o.head+n.length)}:r={range:o});return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function qZe(t,e,n,r){let i=r.stringPrefixes||UT.stringPrefixes,o=null,a=t.changeByRange(s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:e,from:s.to}],effects:ex.of(s.to+e.length),range:jt.range(s.anchor+e.length,s.head+e.length)};let u=s.head,d=YI(t.doc,u),g;if(d==e){if(AH(t,u))return{changes:{insert:e+e,from:u},effects:ex.of(u+e.length),range:jt.cursor(u+e.length)};if(Fae(t,u)){let x=n&&t.sliceDoc(u,u+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:u,to:u+x.length,insert:x},range:jt.cursor(u+x.length)}}}else{if(n&&t.sliceDoc(u-2*e.length,u)==e+e&&(g=PH(t,u-2*e.length,i))>-1&&AH(t,g))return{changes:{insert:e+e+e+e,from:u},effects:ex.of(u+e.length),range:jt.cursor(u+e.length)};if(t.charCategorizer(u)(d)!=Ho.Word&&PH(t,u,i)>-1&&!WZe(t,u,e,i))return{changes:{insert:e+e,from:u},effects:ex.of(u+e.length),range:jt.cursor(u+e.length)}}return{range:o=s}});return o?null:t.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function AH(t,e){let n=no(t).resolveInner(e+1);return n.parent&&n.from==e}function WZe(t,e,n,r){let i=no(t).resolveInner(e,-1),o=r.reduce((a,s)=>Math.max(a,s.length),0);for(let a=0;a<5;a++){let s=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+o)),u=s.indexOf(n);if(!u||u>-1&&r.indexOf(s.slice(0,u))>-1){let g=i.firstChild;for(;g&&g.from==i.from&&g.to-g.from>n.length+u;){if(t.sliceDoc(g.to-n.length,g.to)==n)return!1;g=g.firstChild}return!0}let d=i.to==e&&i.parent;if(!d)break;i=d}return!1}function PH(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=Ho.Word)return e;for(let i of n){let o=e-i.length;if(t.sliceDoc(o,e)==i&&r(t.sliceDoc(o-1,o))!=Ho.Word)return o}return-1}function HZe(t={}){return[CZe,eu,Ia.of(t),OZe,GZe,Lae]}const jae=[{key:"Ctrl-Space",run:jL},{mac:"Alt-`",run:jL},{mac:"Alt-i",run:jL},{key:"Escape",run:_Ze},{key:"ArrowDown",run:cP(!0)},{key:"ArrowUp",run:cP(!1)},{key:"PageDown",run:cP(!0,"page")},{key:"PageUp",run:cP(!1,"page")},{key:"Enter",run:vZe}],GZe=Nf.highest(JO.computeN([Ia],t=>t.facet(Ia).defaultKeymap?[jae]:[])),XZe=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=OF(t.state,n.from);return r.line?YZe(t):r.block?JZe(t):!1};function wF(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const YZe=wF(nqe,0),KZe=wF(Vae,0),JZe=wF((t,e)=>Vae(t,e,tqe(e)),0);function OF(t,e){let n=t.languageDataAt("commentTokens",e,1);return n.length?n[0]:{}}const Q2=50;function eqe(t,{open:e,close:n},r,i){let o=t.sliceDoc(r-Q2,r),a=t.sliceDoc(i,i+Q2),s=/\s*$/.exec(o)[0].length,u=/^\s*/.exec(a)[0].length,d=o.length-s;if(o.slice(d-e.length,d)==e&&a.slice(u,u+n.length)==n)return{open:{pos:r-s,margin:s&&1},close:{pos:i+u,margin:u&&1}};let g,v;i-r<=2*Q2?g=v=t.sliceDoc(r,i):(g=t.sliceDoc(r,r+Q2),v=t.sliceDoc(i-Q2,i));let x=/^\s*/.exec(g)[0].length,O=/\s*$/.exec(v)[0].length,E=v.length-O-n.length;return g.slice(x,x+e.length)==e&&v.slice(E,E+n.length)==n?{open:{pos:r+x+e.length,margin:/\s/.test(g.charAt(x+e.length))?1:0},close:{pos:i-O-n.length,margin:/\s/.test(v.charAt(E-1))?1:0}}:null}function tqe(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to);i.from>r.from&&i.from==n.to&&(i=n.to==r.to+1?r:t.doc.lineAt(n.to-1));let o=e.length-1;o>=0&&e[o].to>r.from?e[o].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function Vae(t,e,n=e.selection.ranges){let r=n.map(o=>OF(e,o.from).block);if(!r.every(o=>o))return null;let i=n.map((o,a)=>eqe(e,r[a],o.from,o.to));if(t!=2&&!i.every(o=>o))return{changes:e.changes(n.map((o,a)=>i[a]?[]:[{from:o.from,insert:r[a].open+" "},{from:o.to,insert:" "+r[a].close}]))};if(t!=1&&i.some(o=>o)){let o=[];for(let a=0,s;a<i.length;a++)if(s=i[a]){let u=r[a],{open:d,close:g}=s;o.push({from:d.pos-u.open.length,to:d.pos+d.margin},{from:g.pos-g.margin,to:g.pos+u.close.length})}return{changes:o}}return null}function nqe(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:o,to:a}of n){let s=r.length,u=1e9,d=OF(e,o).line;if(d){for(let g=o;g<=a;){let v=e.doc.lineAt(g);if(v.from>i&&(o==a||a>v.from)){i=v.from;let x=/^\s*/.exec(v.text)[0].length,O=x==v.length,E=v.text.slice(x,x+d.length)==d?x:-1;x<v.text.length&&x<u&&(u=x),r.push({line:v,comment:E,token:d,indent:x,empty:O,single:!1})}g=v.to+1}if(u<1e9)for(let g=s;g<r.length;g++)r[g].indent<r[g].line.text.length&&(r[g].indent=u);r.length==s+1&&(r[s].single=!0)}}if(t!=2&&r.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:s,token:u,indent:d,empty:g,single:v}of r)(v||!g)&&o.push({from:s.from+d,insert:u+" "});let a=e.changes(o);return{changes:a,selection:e.selection.map(a,1)}}else if(t!=1&&r.some(o=>o.comment>=0)){let o=[];for(let{line:a,comment:s,token:u}of r)if(s>=0){let d=a.from+s,g=d+u.length;a.text[g-a.from]==" "&&g++,o.push({from:d,to:g})}return{changes:o}}return null}const I6=gy.define(),rqe=gy.define(),iqe=Mn.define(),Qae=Mn.define({combine(t){return Om(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,i)=>e(r,i)||n(r,i)})}}),Uae=Ls.define({create(){return nm.empty},update(t,e){let n=e.state.facet(Qae),r=e.annotation(I6);if(r){let u=ou.fromTransaction(e,r.selection),d=r.side,g=d==0?t.undone:t.done;return u?g=FM(g,g.length,n.minDepth,u):g=Wae(g,e.startState.selection),new nm(d==0?r.rest:g,d==0?g:r.rest)}let i=e.annotation(rqe);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(Js.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let o=ou.fromTransaction(e),a=e.annotation(Js.time),s=e.annotation(Js.userEvent);return o?t=t.addChanges(o,a,s,n,e):e.selection&&(t=t.addSelection(e.startState.selection,a,s,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new nm(t.done.map(ou.fromJSON),t.undone.map(ou.fromJSON))}});function oqe(t={}){return[Uae,Qae.of(t),dn.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?Zae:e.inputType=="historyRedo"?D6:null;return r?(e.preventDefault(),r(n)):!1}})]}function KI(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(Uae,!1);if(!i)return!1;let o=i.pop(t,n,e);return o?(r(o),!0):!1}}const Zae=KI(0,!1),D6=KI(1,!1),sqe=KI(0,!0),aqe=KI(1,!0);class ou{constructor(e,n,r,i,o){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=o}setSelAfter(e){return new ou(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new ou(e.changes&&Ws.fromJSON(e.changes),[],e.mapped&&cm.fromJSON(e.mapped),e.startSelection&&jt.fromJSON(e.startSelection),e.selectionsAfter.map(jt.fromJSON))}static fromTransaction(e,n){let r=Jh;for(let i of e.startState.facet(iqe)){let o=i(e);o.length&&(r=r.concat(o))}return!r.length&&e.changes.empty?null:new ou(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,Jh)}static selection(e){return new ou(void 0,Jh,void 0,void 0,e)}}function FM(t,e,n,r){let i=e+1>n+20?e-n-1:0,o=t.slice(i,e);return o.push(r),o}function lqe(t,e){let n=[],r=!1;return t.iterChangedRanges((i,o)=>n.push(i,o)),e.iterChangedRanges((i,o,a,s)=>{for(let u=0;u<n.length;){let d=n[u++],g=n[u++];s>=d&&a<=g&&(r=!0)}}),r}function cqe(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function qae(t,e){return t.length?e.length?t.concat(e):t:e}const Jh=[],uqe=200;function Wae(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-uqe));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),FM(t,t.length-1,1e9,n.setSelAfter(r)))}else return[ou.selection([e])]}function hqe(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function QL(t,e){if(!t.length)return t;let n=t.length,r=Jh;for(;n;){let i=dqe(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let o=t.slice(0,n);return o[n-1]=i,o}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[ou.selection(r)]:Jh}function dqe(t,e,n){let r=qae(t.selectionsAfter.length?t.selectionsAfter.map(s=>s.map(e)):Jh,n);if(!t.changes)return ou.selection(r);let i=t.changes.map(e),o=e.mapDesc(t.changes,!0),a=t.mapped?t.mapped.composeDesc(o):o;return new ou(i,pr.mapEffects(t.effects,e),a,t.startSelection.map(o),r)}const fqe=/^(input\.type|delete)($|\.)/;class nm{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new nm(this.done,this.undone):this}addChanges(e,n,r,i,o){let a=this.done,s=a[a.length-1];return s&&s.changes&&!s.changes.empty&&e.changes&&(!r||fqe.test(r))&&(!s.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(o,lqe(s.changes,e.changes))||r=="input.type.compose")?a=FM(a,a.length-1,i.minDepth,new ou(e.changes.compose(s.changes),qae(pr.mapEffects(e.effects,s.changes),s.effects),s.mapped,s.startSelection,Jh)):a=FM(a,a.length,i.minDepth,e),new nm(a,Jh,n,r)}addSelection(e,n,r,i){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:Jh;return o.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&cqe(o[o.length-1],e)?this:new nm(Wae(this.done,e),this.undone,n,r)}addMapping(e){return new nm(QL(this.done,e),QL(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let o=i[i.length-1],a=o.selectionsAfter[0]||n.selection;if(r&&o.selectionsAfter.length)return n.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:I6.of({side:e,rest:hqe(i),selection:a}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let s=i.length==1?Jh:i.slice(0,i.length-1);return o.mapped&&(s=QL(s,o.mapped)),n.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:I6.of({side:e,rest:s,selection:a}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}nm.empty=new nm(Jh,Jh);const pqe=[{key:"Mod-z",run:Zae,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:D6,preventDefault:!0},{linux:"Ctrl-Shift-z",run:D6,preventDefault:!0},{key:"Mod-u",run:sqe,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:aqe,preventDefault:!0}];function oS(t,e){return jt.create(t.ranges.map(e),t.mainIndex)}function Bf(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Ff({state:t,dispatch:e},n){let r=oS(t.selection,n);return r.eq(t.selection,!0)?!1:(e(Bf(t,r)),!0)}function JI(t,e){return jt.cursor(e?t.to:t.from)}function Hae(t,e){return Ff(t,n=>n.empty?t.moveByChar(n,e):JI(n,e))}function Vl(t){return t.textDirectionAt(t.state.selection.main.head)==_o.LTR}const Gae=t=>Hae(t,!Vl(t)),Xae=t=>Hae(t,Vl(t));function Yae(t,e){return Ff(t,n=>n.empty?t.moveByGroup(n,e):JI(n,e))}const mqe=t=>Yae(t,!Vl(t)),gqe=t=>Yae(t,Vl(t));function yqe(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function eD(t,e,n){let r=no(t).resolveInner(e.head),i=n?vr.closedBy:vr.openedBy;for(let u=e.head;;){let d=n?r.childAfter(u):r.childBefore(u);if(!d)break;yqe(t,d,i)?r=d:u=n?d.to:d.from}let o=r.type.prop(i),a,s;return o&&(a=n?tm(t,r.from,1):tm(t,r.to,-1))&&a.matched?s=n?a.end.to:a.end.from:s=n?r.to:r.from,jt.cursor(s,n?-1:1)}const vqe=t=>Ff(t,e=>eD(t.state,e,!Vl(t))),_qe=t=>Ff(t,e=>eD(t.state,e,Vl(t)));function Kae(t,e){return Ff(t,n=>{if(!n.empty)return JI(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const Jae=t=>Kae(t,!1),ele=t=>Kae(t,!0);function tle(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let o of t.state.facet(dn.scrollMargins)){let a=o(t);a?.top&&(n=Math.max(a?.top,n)),a?.bottom&&(r=Math.max(a?.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function nle(t,e){let n=tle(t),{state:r}=t,i=oS(r.selection,a=>a.empty?t.moveVertically(a,e,n.height):JI(a,e));if(i.eq(r.selection))return!1;let o;if(n.selfScroll){let a=t.coordsAtPos(r.selection.main.head),s=t.scrollDOM.getBoundingClientRect(),u=s.top+n.marginTop,d=s.bottom-n.marginBottom;a&&a.top>u&&a.bottom<d&&(o=dn.scrollIntoView(i.main.head,{y:"start",yMargin:a.top-u}))}return t.dispatch(Bf(r,i),{effects:o}),!0}const MH=t=>nle(t,!1),L6=t=>nle(t,!0);function dv(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let o=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;o&&e.head!=r.from+o&&(i=jt.cursor(r.from+o))}return i}const xqe=t=>Ff(t,e=>dv(t,e,!0)),bqe=t=>Ff(t,e=>dv(t,e,!1)),wqe=t=>Ff(t,e=>dv(t,e,!Vl(t))),Oqe=t=>Ff(t,e=>dv(t,e,Vl(t))),Sqe=t=>Ff(t,e=>jt.cursor(t.lineBlockAt(e.head).from,1)),Cqe=t=>Ff(t,e=>jt.cursor(t.lineBlockAt(e.head).to,-1));function Tqe(t,e,n){let r=!1,i=oS(t.selection,o=>{let a=tm(t,o.head,-1)||tm(t,o.head,1)||o.head>0&&tm(t,o.head-1,1)||o.head<t.doc.length&&tm(t,o.head+1,-1);if(!a||!a.end)return o;r=!0;let s=a.start.from==o.head?a.end.to:a.end.from;return jt.cursor(s)});return r?(e(Bf(t,i)),!0):!1}const kqe=({state:t,dispatch:e})=>Tqe(t,e);function gd(t,e){let n=oS(t.state.selection,r=>{let i=e(r);return jt.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(Bf(t.state,n)),!0)}function rle(t,e){return gd(t,n=>t.moveByChar(n,e))}const ile=t=>rle(t,!Vl(t)),ole=t=>rle(t,Vl(t));function sle(t,e){return gd(t,n=>t.moveByGroup(n,e))}const Eqe=t=>sle(t,!Vl(t)),Aqe=t=>sle(t,Vl(t)),Pqe=t=>gd(t,e=>eD(t.state,e,!Vl(t))),Mqe=t=>gd(t,e=>eD(t.state,e,Vl(t)));function ale(t,e){return gd(t,n=>t.moveVertically(n,e))}const lle=t=>ale(t,!1),cle=t=>ale(t,!0);function ule(t,e){return gd(t,n=>t.moveVertically(n,e,tle(t).height))}const RH=t=>ule(t,!1),IH=t=>ule(t,!0),Rqe=t=>gd(t,e=>dv(t,e,!0)),Iqe=t=>gd(t,e=>dv(t,e,!1)),Dqe=t=>gd(t,e=>dv(t,e,!Vl(t))),Lqe=t=>gd(t,e=>dv(t,e,Vl(t))),$qe=t=>gd(t,e=>jt.cursor(t.lineBlockAt(e.head).from)),zqe=t=>gd(t,e=>jt.cursor(t.lineBlockAt(e.head).to)),DH=({state:t,dispatch:e})=>(e(Bf(t,{anchor:0})),!0),LH=({state:t,dispatch:e})=>(e(Bf(t,{anchor:t.doc.length})),!0),$H=({state:t,dispatch:e})=>(e(Bf(t,{anchor:t.selection.main.anchor,head:0})),!0),zH=({state:t,dispatch:e})=>(e(Bf(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),Nqe=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),Bqe=({state:t,dispatch:e})=>{let n=tD(t).map(({from:r,to:i})=>jt.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:jt.create(n),userEvent:"select"})),!0},Fqe=({state:t,dispatch:e})=>{let n=oS(t.selection,r=>{let i=no(t),o=i.resolveStack(r.from,1);if(r.empty){let a=i.resolveStack(r.from,-1);a.node.from>=o.node.from&&a.node.to<=o.node.to&&(o=a)}for(let a=o;a;a=a.next){let{node:s}=a;if((s.from<r.from&&s.to>=r.to||s.to>r.to&&s.from<=r.from)&&a.next)return jt.range(s.to,s.from)}return r});return n.eq(t.selection)?!1:(e(Bf(t,n)),!0)};function hle(t,e){let{state:n}=t,r=n.selection,i=n.selection.ranges.slice();for(let o of n.selection.ranges){let a=n.doc.lineAt(o.head);if(e?a.to<t.state.doc.length:a.from>0)for(let s=o;;){let u=t.moveVertically(s,e);if(u.head<a.from||u.head>a.to){i.some(d=>d.head==u.head)||i.push(u);break}else{if(u.head==s.head)break;s=u}}}return i.length==r.ranges.length?!1:(t.dispatch(Bf(n,jt.create(i,i.length-1))),!0)}const jqe=t=>hle(t,!1),Vqe=t=>hle(t,!0),Qqe=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=jt.create([n.main]):n.main.empty||(r=jt.create([jt.cursor(n.main.head)])),r?(e(Bf(t,r)),!0):!1};function Kk(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(o=>{let{from:a,to:s}=o;if(a==s){let u=e(o);u<a?(n="delete.backward",u=uP(t,u,!1)):u>a&&(n="delete.forward",u=uP(t,u,!0)),a=Math.min(a,u),s=Math.max(s,u)}else a=uP(t,a,!1),s=uP(t,s,!0);return a==s?{range:o}:{changes:{from:a,to:s},range:jt.cursor(a,a<o.head?-1:1)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?dn.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function uP(t,e,n){if(t instanceof dn)for(let r of t.state.facet(dn.atomicRanges).map(i=>i(t)))r.between(e,e,(i,o)=>{i<e&&o>e&&(e=n?o:i)});return e}const dle=(t,e,n)=>Kk(t,r=>{let i=r.from,{state:o}=t,a=o.doc.lineAt(i),s,u;if(n&&!e&&i>a.from&&i<a.from+200&&!/[^ \t]/.test(s=a.text.slice(0,i-a.from))){if(s[s.length-1]=="	")return i-1;let d=Mf(s,o.tabSize),g=d%$x(o)||$x(o);for(let v=0;v<g&&s[s.length-1-v]==" ";v++)i--;u=i}else u=ya(a.text,i-a.from,e,e)+a.from,u==i&&a.number!=(e?o.doc.lines:1)?u+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(a.text.slice(u-a.from,i-a.from))&&(u=ya(a.text,u-a.from,!1,!1)+a.from);return u}),$6=t=>dle(t,!1,!0),fle=t=>dle(t,!0,!1),ple=(t,e)=>Kk(t,n=>{let r=n.head,{state:i}=t,o=i.doc.lineAt(r),a=i.charCategorizer(r);for(let s=null;;){if(r==(e?o.to:o.from)){r==n.head&&o.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let u=ya(o.text,r-o.from,e)+o.from,d=o.text.slice(Math.min(r,u)-o.from,Math.max(r,u)-o.from),g=a(d);if(s!=null&&g!=s)break;(d!=" "||r!=n.head)&&(s=g),r=u}return r}),mle=t=>ple(t,!1),Uqe=t=>ple(t,!0),Zqe=t=>Kk(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),qqe=t=>Kk(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),Wqe=t=>Kk(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),Hqe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Ai.of(["",""])},range:jt.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},Gqe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,o=t.doc.lineAt(i),a=i==o.from?i-1:ya(o.text,i-o.from,!1)+o.from,s=i==o.to?i+1:ya(o.text,i-o.from,!0)+o.from;return{changes:{from:a,to:s,insert:t.doc.slice(i,s).append(t.doc.slice(a,i))},range:jt.cursor(s)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function tD(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),o=t.doc.lineAt(r.to);if(!r.empty&&r.to==o.from&&(o=t.doc.lineAt(r.to-1)),n>=i.number){let a=e[e.length-1];a.to=o.to,a.ranges.push(r)}else e.push({from:i.from,to:o.to,ranges:[r]});n=o.number+1}return e}function gle(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let o of tD(t)){if(n?o.to==t.doc.length:o.from==0)continue;let a=t.doc.lineAt(n?o.to+1:o.from-1),s=a.length+1;if(n){r.push({from:o.to,to:a.to},{from:o.from,insert:a.text+t.lineBreak});for(let u of o.ranges)i.push(jt.range(Math.min(t.doc.length,u.anchor+s),Math.min(t.doc.length,u.head+s)))}else{r.push({from:a.from,to:o.from},{from:o.to,insert:t.lineBreak+a.text});for(let u of o.ranges)i.push(jt.range(u.anchor-s,u.head-s))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:jt.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const Xqe=({state:t,dispatch:e})=>gle(t,e,!1),Yqe=({state:t,dispatch:e})=>gle(t,e,!0);function yle(t,e,n){if(t.readOnly)return!1;let r=[];for(let o of tD(t))n?r.push({from:o.from,insert:t.doc.slice(o.from,o.to)+t.lineBreak}):r.push({from:o.to,insert:t.lineBreak+t.doc.slice(o.from,o.to)});let i=t.changes(r);return e(t.update({changes:i,selection:t.selection.map(i,n?1:-1),scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Kqe=({state:t,dispatch:e})=>yle(t,e,!1),Jqe=({state:t,dispatch:e})=>yle(t,e,!0),eWe=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(tD(e).map(({from:i,to:o})=>(i>0?i--:o<e.doc.length&&o++,{from:i,to:o}))),r=oS(e.selection,i=>{let o;if(t.lineWrapping){let a=t.lineBlockAt(i.head),s=t.coordsAtPos(i.head,i.assoc||1);s&&(o=a.bottom+t.documentTop-s.bottom+t.defaultLineHeight/2)}return t.moveVertically(i,!0,o)}).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function tWe(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=no(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),o;return r&&i&&r.to<=e&&i.from>=e&&(o=r.type.prop(vr.closedBy))&&o.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const NH=vle(!1),nWe=vle(!0);function vle(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:o,to:a}=i,s=e.doc.lineAt(o),u=!t&&o==a&&tWe(e,o);t&&(o=a=(a<=s.to?s:e.doc.lineAt(a)).to);let d=new GI(e,{simulateBreak:o,simulateDoubleBreak:!!u}),g=cF(d,o);for(g==null&&(g=Mf(/^\s*/.exec(e.doc.lineAt(o).text)[0],e.tabSize));a<s.to&&/\s/.test(s.text[a-s.from]);)a++;u?{from:o,to:a}=u:o>s.from&&o<s.from+100&&!/\S/.test(s.text.slice(0,o))&&(o=s.from);let v=["",FT(e,g)];return u&&v.push(FT(e,d.lineIndent(s.from,-1))),{changes:{from:o,to:a,insert:Ai.of(v)},range:jt.cursor(o+1+v[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function SF(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let a=r.from;a<=r.to;){let s=t.doc.lineAt(a);s.number>n&&(r.empty||r.to>s.from)&&(e(s,i,r),n=s.number),a=s.to+1}let o=t.changes(i);return{changes:i,range:jt.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}})}const rWe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new GI(t,{overrideIndentation:o=>{let a=n[o];return a??-1}}),i=SF(t,(o,a,s)=>{let u=cF(r,o.from);if(u==null)return;/\S/.test(o.text)||(u=0);let d=/^\s*/.exec(o.text)[0],g=FT(t,u);(d!=g||s.from<o.from+d.length)&&(n[o.from]=u,a.push({from:o.from,to:o.from+d.length,insert:g}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},_le=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(SF(t,(n,r)=>{r.push({from:n.from,insert:t.facet(Hk)})}),{userEvent:"input.indent"})),!0),xle=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(SF(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let o=Mf(i,t.tabSize),a=0,s=FT(t,Math.max(0,o-$x(t)));for(;a<i.length&&a<s.length&&i.charCodeAt(a)==s.charCodeAt(a);)a++;r.push({from:n.from+a,to:n.from+i.length,insert:s.slice(a)})}),{userEvent:"delete.dedent"})),!0),iWe=t=>(t.setTabFocusMode(),!0),oWe=[{key:"Ctrl-b",run:Gae,shift:ile,preventDefault:!0},{key:"Ctrl-f",run:Xae,shift:ole},{key:"Ctrl-p",run:Jae,shift:lle},{key:"Ctrl-n",run:ele,shift:cle},{key:"Ctrl-a",run:Sqe,shift:$qe},{key:"Ctrl-e",run:Cqe,shift:zqe},{key:"Ctrl-d",run:fle},{key:"Ctrl-h",run:$6},{key:"Ctrl-k",run:Zqe},{key:"Ctrl-Alt-h",run:mle},{key:"Ctrl-o",run:Hqe},{key:"Ctrl-t",run:Gqe},{key:"Ctrl-v",run:L6}],sWe=[{key:"ArrowLeft",run:Gae,shift:ile,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:mqe,shift:Eqe,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:wqe,shift:Dqe,preventDefault:!0},{key:"ArrowRight",run:Xae,shift:ole,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:gqe,shift:Aqe,preventDefault:!0},{mac:"Cmd-ArrowRight",run:Oqe,shift:Lqe,preventDefault:!0},{key:"ArrowUp",run:Jae,shift:lle,preventDefault:!0},{mac:"Cmd-ArrowUp",run:DH,shift:$H},{mac:"Ctrl-ArrowUp",run:MH,shift:RH},{key:"ArrowDown",run:ele,shift:cle,preventDefault:!0},{mac:"Cmd-ArrowDown",run:LH,shift:zH},{mac:"Ctrl-ArrowDown",run:L6,shift:IH},{key:"PageUp",run:MH,shift:RH},{key:"PageDown",run:L6,shift:IH},{key:"Home",run:bqe,shift:Iqe,preventDefault:!0},{key:"Mod-Home",run:DH,shift:$H},{key:"End",run:xqe,shift:Rqe,preventDefault:!0},{key:"Mod-End",run:LH,shift:zH},{key:"Enter",run:NH,shift:NH},{key:"Mod-a",run:Nqe},{key:"Backspace",run:$6,shift:$6,preventDefault:!0},{key:"Delete",run:fle,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:mle,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:Uqe,preventDefault:!0},{mac:"Mod-Backspace",run:qqe,preventDefault:!0},{mac:"Mod-Delete",run:Wqe,preventDefault:!0}].concat(oWe.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),aWe=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:vqe,shift:Pqe},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:_qe,shift:Mqe},{key:"Alt-ArrowUp",run:Xqe},{key:"Shift-Alt-ArrowUp",run:Kqe},{key:"Alt-ArrowDown",run:Yqe},{key:"Shift-Alt-ArrowDown",run:Jqe},{key:"Mod-Alt-ArrowUp",run:jqe},{key:"Mod-Alt-ArrowDown",run:Vqe},{key:"Escape",run:Qqe},{key:"Mod-Enter",run:nWe},{key:"Alt-l",mac:"Ctrl-l",run:Bqe},{key:"Mod-i",run:Fqe,preventDefault:!0},{key:"Mod-[",run:xle},{key:"Mod-]",run:_le},{key:"Mod-Alt-\\",run:rWe},{key:"Shift-Mod-k",run:eWe},{key:"Shift-Mod-\\",run:kqe},{key:"Mod-/",run:XZe},{key:"Alt-A",run:KZe},{key:"Ctrl-m",mac:"Shift-Alt-m",run:iWe}].concat(sWe),lWe={key:"Tab",run:_le,shift:xle};var BH={};class jM{constructor(e,n,r,i,o,a,s,u,d,g=0,v){this.p=e,this.stack=n,this.state=r,this.reducePos=i,this.pos=o,this.score=a,this.buffer=s,this.bufferBase=u,this.curContext=d,this.lookAhead=g,this.parent=v}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,r=0){let i=e.parser.context;return new jM(e,[],n,r,r,0,[],0,i?new FH(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let r=e>>19,i=e&65535,{parser:o}=this.p,a=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),s=o.dynamicPrecedence(i);if(s&&(this.score+=s),r==0){this.pushState(o.getGoto(this.state,i,!0),this.reducePos),i<o.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,a?8:4,!0),this.reduceContext(i,this.reducePos);return}let u=this.stack.length-(r-1)*3-(e&262144?6:0),d=u?this.stack[u-2]:this.p.ranges[0].from,g=this.reducePos-d;g>=2e3&&!(!((n=this.p.parser.nodeSet.types[i])===null||n===void 0)&&n.isAnonymous)&&(d==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=g):this.p.lastBigReductionSize<g&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=d,this.p.lastBigReductionSize=g));let v=u?this.stack[u-1]:0,x=this.bufferBase+this.buffer.length-v;if(i<o.minRepeatTerm||e&131072){let O=o.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,d,O,x+4,!0)}if(e&262144)this.state=this.stack[u];else{let O=this.stack[u-3];this.state=o.getGoto(O,i,!0)}for(;this.stack.length>u;)this.stack.pop();this.reduceContext(i,d)}storeNode(e,n,r,i=4,o=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let a=this,s=this.buffer.length;if(s==0&&a.parent&&(s=a.bufferBase-a.parent.bufferBase,a=a.parent),s>0&&a.buffer[s-4]==0&&a.buffer[s-1]>-1){if(n==r)return;if(a.buffer[s-2]>=n){a.buffer[s-2]=r;return}}}if(!o||this.pos==r)this.buffer.push(e,n,r,i);else{let a=this.buffer.length;if(a>0&&(this.buffer[a-4]!=0||this.buffer[a-1]<0)){let s=!1;for(let u=a;u>0&&this.buffer[u-2]>r;u-=4)if(this.buffer[u-1]>=0){s=!0;break}if(s)for(;a>0&&this.buffer[a-2]>r;)this.buffer[a]=this.buffer[a-4],this.buffer[a+1]=this.buffer[a-3],this.buffer[a+2]=this.buffer[a-2],this.buffer[a+3]=this.buffer[a-1],a-=4,i>4&&(i-=4)}this.buffer[a]=e,this.buffer[a+1]=n,this.buffer[a+2]=r,this.buffer[a+3]=i}}shift(e,n,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let o=e,{parser:a}=this.p;(i>this.pos||n<=a.maxNode)&&(this.pos=i,a.stateFlag(o,1)||(this.reducePos=i)),this.pushState(o,r),this.shiftContext(n,r),n<=a.maxNode&&this.buffer.push(n,r,i,4)}else this.pos=i,this.shiftContext(n,r),n<=this.p.parser.maxNode&&this.buffer.push(n,r,i,4)}apply(e,n,r,i){e&65536?this.reduce(e):this.shift(e,n,r,i)}useNode(e,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(n,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let r=e.buffer.slice(n),i=e.bufferBase+n;for(;e&&i==e.bufferBase;)e=e.parent;return new jM(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new cWe(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(r==0)return!1;if((r&65536)==0)return!0;n.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let i=[];for(let o=0,a;o<n.length;o+=2)(a=n[o+1])!=this.state&&this.p.parser.hasAction(a,e)&&i.push(n[o],a);if(this.stack.length<120)for(let o=0;i.length<8&&o<n.length;o+=2){let a=n[o+1];i.some((s,u)=>u&1&&s==a)||i.push(n[o],a)}n=i}let r=[];for(let i=0;i<n.length&&r.length<4;i+=2){let o=n[i+1];if(o==this.state)continue;let a=this.split();a.pushState(o,this.pos),a.storeNode(0,a.pos,a.pos,4,!0),a.shiftContext(n[i],this.pos),a.reducePos=this.pos,a.score-=200,r.push(a)}return r}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if((n&65536)==0)return!1;if(!e.validAction(this.state,n)){let r=n>>19,i=n&65535,o=this.stack.length-r*3;if(o<0||e.getGoto(this.stack[o],i,!1)<0){let a=this.findForcedReduction();if(a==null)return!1;n=a}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],r=(i,o)=>{if(!n.includes(i))return n.push(i),e.allActions(i,a=>{if(!(a&393216))if(a&65536){let s=(a>>19)-o;if(s>1){let u=a&65535,d=this.stack.length-s*3;if(d>=0&&e.getGoto(this.stack[d],u,!1)>=0)return s<<19|65536|u}}else{let s=r(a,o+1);if(s!=null)return s}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new FH(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){return e<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=e,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class FH{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class cWe{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=i}}class VM{constructor(e,n,r){this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new VM(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new VM(this.stack,this.pos,this.index)}}function cC(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let r=0,i=0;r<t.length;){let o=0;for(;;){let a=t.charCodeAt(r++),s=!1;if(a==126){o=65535;break}a>=92&&a--,a>=34&&a--;let u=a-32;if(u>=46&&(u-=46,s=!0),o+=u,s)break;o*=46}n?n[i++]=o:n=new e(o)}return n}class l5{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const jH=new l5;class uWe{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=jH,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let r=this.range,i=this.rangeIndex,o=this.pos+e;for(;o<r.from;){if(!i)return null;let a=this.ranges[--i];o-=r.from-a.to,r=a}for(;n<0?o>r.to:o>=r.to;){if(i==this.ranges.length-1)return null;let a=this.ranges[++i];o+=a.from-r.to,r=a}return o}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,r,i;if(n>=0&&n<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(n);else{let o=this.resolveOffset(e,1);if(o==null)return-1;if(r=o,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let a=this.rangeIndex,s=this.range;for(;s.to<=r;)s=this.ranges[++a];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>s.to&&(this.chunk2=this.chunk2.slice(0,s.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=jH,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let r="";for(let i of this.ranges){if(i.from>=n)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,n)))}return r}}class Pw{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:r}=n.p;ble(this.data,e,n,this.id,r.data,r.tokenPrecTable)}}Pw.prototype.contextual=Pw.prototype.fallback=Pw.prototype.extend=!1;class QM{constructor(e,n,r){this.precTable=n,this.elseToken=r,this.data=typeof e=="string"?cC(e):e}token(e,n){let r=e.pos,i=0;for(;;){let o=e.next<0,a=e.resolveOffset(1,1);if(ble(this.data,e,n,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(o||i++,a==null)break;e.reset(a,e.token)}i&&(e.reset(r,e.token),e.acceptToken(this.elseToken,i))}}QM.prototype.contextual=Pw.prototype.fallback=Pw.prototype.extend=!1;class dh{constructor(e,n={}){this.token=e,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function ble(t,e,n,r,i,o){let a=0,s=1<<r,{dialect:u}=n.p.parser;e:for(;(s&t[a])!=0;){let d=t[a+1];for(let O=a+3;O<d;O+=2)if((t[O+1]&s)>0){let E=t[O];if(u.allows(E)&&(e.token.value==-1||e.token.value==E||hWe(E,e.token.value,i,o))){e.acceptToken(E);break}}let g=e.next,v=0,x=t[a+2];if(e.next<0&&x>v&&t[d+x*3-3]==65535){a=t[d+x*3-1];continue e}for(;v<x;){let O=v+x>>1,E=d+O+(O<<1),A=t[E],M=t[E+1]||65536;if(g<A)x=O;else if(g>=M)v=O+1;else{a=t[E+2],e.advance();continue e}}break}}function VH(t,e,n){for(let r=e,i;(i=t[r])!=65535;r++)if(i==n)return r-e;return-1}function hWe(t,e,n,r){let i=VH(n,r,e);return i<0||VH(n,r,t)<i}const zu=typeof process<"u"&&BH&&/\bparse\b/.test(BH.LOG);let UL=null;function QH(t,e,n){let r=t.cursor(Di.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}let dWe=class{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?QH(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?QH(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],i=this.index[n];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let o=r.children[i],a=this.start[n]+r.positions[i];if(a>e)return this.nextStart=a,null;if(o instanceof Ur){if(a==e){if(a<this.safeFrom)return null;let s=a+o.length;if(s<=this.safeTo){let u=o.prop(vr.lookAhead);if(!u||s+u<this.fragment.to)return o}}this.index[n]++,a+o.length>=Math.max(this.safeFrom,e)&&(this.trees.push(o),this.start.push(a),this.index.push(0))}else this.index[n]++,this.nextStart=a+o.length}}};class fWe{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new l5)}getActions(e){let n=0,r=null,{parser:i}=e.p,{tokenizers:o}=i,a=i.stateSlot(e.state,3),s=e.curContext?e.curContext.hash:0,u=0;for(let d=0;d<o.length;d++){if((1<<d&a)==0)continue;let g=o[d],v=this.tokens[d];if(!(r&&!g.fallback)&&((g.contextual||v.start!=e.pos||v.mask!=a||v.context!=s)&&(this.updateCachedToken(v,g,e),v.mask=a,v.context=s),v.lookAhead>v.end+25&&(u=Math.max(v.lookAhead,u)),v.value!=0)){let x=n;if(v.extended>-1&&(n=this.addActions(e,v.extended,v.end,n)),n=this.addActions(e,v.value,v.end,n),!g.extend&&(r=v,n>x))break}}for(;this.actions.length>n;)this.actions.pop();return u&&e.setLookAhead(u),!r&&e.pos==this.stream.end&&(r=new l5,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new l5,{pos:r,p:i}=e;return n.start=r,n.end=Math.min(r+1,i.stream.end),n.value=r==i.stream.end?i.parser.eofTerm:0,n}updateCachedToken(e,n,r){let i=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(i,e),r),e.value>-1){let{parser:o}=r.p;for(let a=0;a<o.specialized.length;a++)if(o.specialized[a]==e.value){let s=o.specializers[a](this.stream.read(e.start,e.end),r);if(s>=0&&r.p.parser.dialect.allows(s>>1)){(s&1)==0?e.value=s>>1:e.extended=s>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,n,r,i){for(let o=0;o<i;o+=3)if(this.actions[o]==e)return i;return this.actions[i++]=e,this.actions[i++]=n,this.actions[i++]=r,i}addActions(e,n,r,i){let{state:o}=e,{parser:a}=e.p,{data:s}=a;for(let u=0;u<2;u++)for(let d=a.stateSlot(o,u?2:1);;d+=3){if(s[d]==65535)if(s[d+1]==1)d=$g(s,d+2);else{i==0&&s[d+1]==2&&(i=this.putAction($g(s,d+2),n,r,i));break}s[d]==n&&(i=this.putAction($g(s,d+1),n,r,i))}return i}}class pWe{constructor(e,n,r,i){this.parser=e,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new uWe(n,i),this.tokens=new fWe(e,this.stream),this.topTerm=e.top[1];let{from:o}=i[0];this.stacks=[jM.start(this,e.top[0],o)],this.fragments=r.length&&this.stream.end-o>e.bufferLength*4?new dWe(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,r=this.stacks=[],i,o;if(this.bigReductionCount>300&&e.length==1){let[a]=e;for(;a.forceReduce()&&a.stack.length&&a.stack[a.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let a=0;a<e.length;a++){let s=e[a];for(;;){if(this.tokens.mainToken=null,s.pos>n)r.push(s);else{if(this.advanceStack(s,r,e))continue;{i||(i=[],o=[]),i.push(s);let u=this.tokens.getMainToken(s);o.push(u.value,u.end)}}break}}if(!r.length){let a=i&&gWe(i);if(a)return zu&&console.log("Finish with "+this.stackID(a)),this.stackToTree(a);if(this.parser.strict)throw zu&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&i){let a=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,o,r);if(a)return zu&&console.log("Force-finish "+this.stackID(a)),this.stackToTree(a.forceAll())}if(this.recovering){let a=this.recovering==1?1:this.recovering*3;if(r.length>a)for(r.sort((s,u)=>u.score-s.score);r.length>a;)r.pop();r.some(s=>s.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let a=0;a<r.length-1;a++){let s=r[a];for(let u=a+1;u<r.length;u++){let d=r[u];if(s.sameState(d)||s.buffer.length>500&&d.buffer.length>500)if((s.score-d.score||s.buffer.length-d.buffer.length)>0)r.splice(u--,1);else{r.splice(a--,1);continue e}}}r.length>12&&(r.sort((a,s)=>s.score-a.score),r.splice(12,r.length-12))}this.minStackPos=r[0].pos;for(let a=1;a<r.length;a++)r[a].pos<this.minStackPos&&(this.minStackPos=r[a].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,r){let i=e.pos,{parser:o}=this,a=zu?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let d=e.curContext&&e.curContext.tracker.strict,g=d?e.curContext.hash:0;for(let v=this.fragments.nodeAt(i);v;){let x=this.parser.nodeSet.types[v.type.id]==v.type?o.getGoto(e.state,v.type.id):-1;if(x>-1&&v.length&&(!d||(v.prop(vr.contextHash)||0)==g))return e.useNode(v,x),zu&&console.log(a+this.stackID(e)+` (via reuse of ${o.getName(v.type.id)})`),!0;if(!(v instanceof Ur)||v.children.length==0||v.positions[0]>0)break;let O=v.children[0];if(O instanceof Ur&&v.positions[0]==0)v=O;else break}}let s=o.stateSlot(e.state,4);if(s>0)return e.reduce(s),zu&&console.log(a+this.stackID(e)+` (via always-reduce ${o.getName(s&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let u=this.tokens.getActions(e);for(let d=0;d<u.length;){let g=u[d++],v=u[d++],x=u[d++],O=d==u.length||!r,E=O?e:e.split(),A=this.tokens.mainToken;if(E.apply(g,v,A?A.start:E.pos,x),zu&&console.log(a+this.stackID(E)+` (via ${(g&65536)==0?"shift":`reduce of ${o.getName(g&65535)}`} for ${o.getName(v)} @ ${i}${E==e?"":", split"})`),O)return!0;E.pos>i?n.push(E):r.push(E)}return!1}advanceFully(e,n){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return UH(e,n),!0}}runRecovery(e,n,r){let i=null,o=!1;for(let a=0;a<e.length;a++){let s=e[a],u=n[a<<1],d=n[(a<<1)+1],g=zu?this.stackID(s)+" -> ":"";if(s.deadEnd&&(o||(o=!0,s.restart(),zu&&console.log(g+this.stackID(s)+" (restarted)"),this.advanceFully(s,r))))continue;let v=s.split(),x=g;for(let O=0;O<10&&v.forceReduce()&&(zu&&console.log(x+this.stackID(v)+" (via force-reduce)"),!this.advanceFully(v,r));O++)zu&&(x=this.stackID(v)+" -> ");for(let O of s.recoverByInsert(u))zu&&console.log(g+this.stackID(O)+" (via recover-insert)"),this.advanceFully(O,r);this.stream.end>s.pos?(d==s.pos&&(d++,u=0),s.recoverByDelete(u,d),zu&&console.log(g+this.stackID(s)+` (via recover-delete ${this.parser.getName(u)})`),UH(s,r)):(!i||i.score<s.score)&&(i=s)}return i}stackToTree(e){return e.close(),Ur.build({buffer:VM.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(UL||(UL=new WeakMap)).get(e);return n||UL.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function UH(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class mWe{constructor(e,n,r){this.source=e,this.flags=n,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}const ZL=t=>t;class wle{constructor(e){this.start=e.start,this.shift=e.shift||ZL,this.reduce=e.reduce||ZL,this.reuse=e.reuse||ZL,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class mO extends WI{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let s=0;s<e.repeatNodeCount;s++)n.push("");let r=Object.keys(e.topRules).map(s=>e.topRules[s][1]),i=[];for(let s=0;s<n.length;s++)i.push([]);function o(s,u,d){i[s].push([u,u.deserialize(String(d))])}if(e.nodeProps)for(let s of e.nodeProps){let u=s[0];typeof u=="string"&&(u=vr[u]);for(let d=1;d<s.length;){let g=s[d++];if(g>=0)o(g,u,s[d++]);else{let v=s[d+-g];for(let x=-g;x>0;x--)o(s[d++],u,v);d++}}}this.nodeSet=new eS(n.map((s,u)=>ia.define({name:u>=this.minRepeatTerm?void 0:s,id:u,props:i[u],top:r.indexOf(u)>-1,error:u==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(u)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=Jse;let a=cC(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let s=0;s<this.specializerSpecs.length;s++)this.specialized[s]=this.specializerSpecs[s].term;this.specializers=this.specializerSpecs.map(ZH),this.states=cC(e.states,Uint32Array),this.data=cC(e.stateData),this.goto=cC(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(s=>typeof s=="number"?new Pw(a,s):s),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,r){let i=new pWe(this,e,n,r);for(let o of this.wrappers)i=o(i,e,n,r);return i}getGoto(e,n,r=!1){let i=this.goto;if(n>=i[0])return-1;for(let o=i[n+1];;){let a=i[o++],s=a&1,u=i[o++];if(s&&r)return u;for(let d=o+(a>>1);o<d;o++)if(i[o]==e)return u;if(s)return-1}}hasAction(e,n){let r=this.data;for(let i=0;i<2;i++)for(let o=this.stateSlot(e,i?2:1),a;;o+=3){if((a=r[o])==65535)if(r[o+1]==1)a=r[o=$g(r,o+2)];else{if(r[o+1]==2)return $g(r,o+2);break}if(a==n||a==0)return $g(r,o+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,r=>r==n?!0:null)}allActions(e,n){let r=this.stateSlot(e,4),i=r?n(r):void 0;for(let o=this.stateSlot(e,1);i==null;o+=3){if(this.data[o]==65535)if(this.data[o+1]==1)o=$g(this.data,o+2);else break;i=n($g(this.data,o+1))}return i}nextStates(e){let n=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=$g(this.data,r+2);else break;if((this.data[r+2]&1)==0){let i=this.data[r+1];n.some((o,a)=>a&1&&o==i)||n.push(this.data[r],i)}}return n}configure(e){let n=Object.assign(Object.create(mO.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=r}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(o=>o.from==r);return i?i.to:r})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,i)=>{let o=e.specializers.find(s=>s.from==r.external);if(!o)return r;let a=Object.assign(Object.assign({},r),{external:o.to});return n.specializers[i]=ZH(a),a})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(e)for(let o of e.split(" ")){let a=n.indexOf(o);a>=0&&(r[a]=!0)}let i=null;for(let o=0;o<n.length;o++)if(!r[o])for(let a=this.dialects[n[o]],s;(s=this.data[a++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[s]=1;return new mWe(e,r,i)}static deserialize(e){return new mO(e)}}function $g(t,e){return t[e]|t[e+1]<<16}function gWe(t){let e=null;for(let n of t){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function ZH(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}const yWe=122,qH=1,vWe=123,_We=124,Ole=2,xWe=125,bWe=3,wWe=4,Sle=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],OWe=58,SWe=40,Cle=95,CWe=91,c5=45,TWe=46,kWe=35,EWe=37,AWe=38,PWe=92,MWe=10,RWe=42;function ZT(t){return t>=65&&t<=90||t>=97&&t<=122||t>=161}function CF(t){return t>=48&&t<=57}function WH(t){return CF(t)||t>=97&&t<=102||t>=65&&t<=70}const Tle=(t,e,n)=>(r,i)=>{for(let o=!1,a=0,s=0;;s++){let{next:u}=r;if(ZT(u)||u==c5||u==Cle||o&&CF(u))!o&&(u!=c5||s>0)&&(o=!0),a===s&&u==c5&&a++,r.advance();else if(u==PWe&&r.peek(1)!=MWe){if(r.advance(),WH(r.next)){do r.advance();while(WH(r.next));r.next==32&&r.advance()}else r.next>-1&&r.advance();o=!0}else{o&&r.acceptToken(a==2&&i.canShift(Ole)?e:u==SWe?n:t);break}}},IWe=new dh(Tle(vWe,Ole,_We)),DWe=new dh(Tle(xWe,bWe,wWe)),LWe=new dh(t=>{if(Sle.includes(t.peek(-1))){let{next:e}=t;(ZT(e)||e==Cle||e==kWe||e==TWe||e==RWe||e==CWe||e==OWe&&ZT(t.peek(1))||e==c5||e==AWe)&&t.acceptToken(yWe)}}),$We=new dh(t=>{if(!Sle.includes(t.peek(-1))){let{next:e}=t;if(e==EWe&&(t.advance(),t.acceptToken(qH)),ZT(e)){do t.advance();while(ZT(t.next)||CF(t.next));t.acceptToken(qH)}}}),zWe=tS({"AtKeyword import charset namespace keyframes media supports":Ne.definitionKeyword,"from to selector":Ne.keyword,NamespaceName:Ne.namespace,KeyframeName:Ne.labelName,KeyframeRangeName:Ne.operatorKeyword,TagName:Ne.tagName,ClassName:Ne.className,PseudoClassName:Ne.constant(Ne.className),IdName:Ne.labelName,"FeatureName PropertyName":Ne.propertyName,AttributeName:Ne.attributeName,NumberLiteral:Ne.number,KeywordQuery:Ne.keyword,UnaryQueryOp:Ne.operatorKeyword,"CallTag ValueName":Ne.atom,VariableName:Ne.variableName,Callee:Ne.operatorKeyword,Unit:Ne.unit,"UniversalSelector NestingSelector":Ne.definitionOperator,"MatchOp CompareOp":Ne.compareOperator,"ChildOp SiblingOp, LogicOp":Ne.logicOperator,BinOp:Ne.arithmeticOperator,Important:Ne.modifier,Comment:Ne.blockComment,ColorLiteral:Ne.color,"ParenthesizedContent StringLiteral":Ne.string,":":Ne.punctuation,"PseudoOp #":Ne.derefOperator,"; ,":Ne.separator,"( )":Ne.paren,"[ ]":Ne.squareBracket,"{ }":Ne.brace}),NWe={__proto__:null,lang:38,"nth-child":38,"nth-last-child":38,"nth-of-type":38,"nth-last-of-type":38,dir:38,"host-context":38,if:84,url:124,"url-prefix":124,domain:124,regexp:124},BWe={__proto__:null,or:98,and:98,not:106,only:106,layer:170},FWe={__proto__:null,selector:112,layer:166},jWe={__proto__:null,"@import":162,"@media":174,"@charset":178,"@namespace":182,"@keyframes":188,"@supports":200,"@scope":204},VWe={__proto__:null,to:207},QWe=mO.deserialize({version:14,states:"EbQYQdOOO#qQdOOP#xO`OOOOQP'#Cf'#CfOOQP'#Ce'#CeO#}QdO'#ChO$nQaO'#CcO$xQdO'#CkO%TQdO'#DpO%YQdO'#DrO%_QdO'#DuO%_QdO'#DxOOQP'#FV'#FVO&eQhO'#EhOOQS'#FU'#FUOOQS'#Ek'#EkQYQdOOO&lQdO'#EOO&PQhO'#EUO&lQdO'#EWO'aQdO'#EYO'lQdO'#E]O'tQhO'#EcO(VQdO'#EeO(bQaO'#CfO)VQ`O'#D{O)[Q`O'#F`O)gQdO'#F`QOQ`OOP)qO&jO'#CaPOOO)C@t)C@tOOQP'#Cj'#CjOOQP,59S,59SO#}QdO,59SO)|QdO,59VO%TQdO,5:[O%YQdO,5:^O%_QdO,5:aO%_QdO,5:cO%_QdO,5:dO%_QdO'#ErO*XQ`O,58}O*aQdO'#DzOOQS,58},58}OOQP'#Cn'#CnOOQO'#Dn'#DnOOQP,59V,59VO*hQ`O,59VO*mQ`O,59VOOQP'#Dq'#DqOOQP,5:[,5:[OOQO'#Ds'#DsO*rQpO,5:^O+]QaO,5:aO+sQaO,5:dOOQW'#DZ'#DZO,ZQhO'#DdO,xQhO'#FaO'tQhO'#DbO-WQ`O'#DhOOQW'#F['#F[O-]Q`O,5;SO-eQ`O'#DeOOQS-E8i-E8iOOQ['#Cs'#CsO-jQdO'#CtO.QQdO'#CzO.hQdO'#C}O/OQ!pO'#DPO1RQ!jO,5:jOOQO'#DU'#DUO*mQ`O'#DTO1cQ!nO'#FXO3`Q`O'#DVO3eQ`O'#DkOOQ['#FX'#FXO-`Q`O,5:pO3jQ!bO,5:rOOQS'#E['#E[O3rQ`O,5:tO3wQdO,5:tOOQO'#E_'#E_O4PQ`O,5:wO4UQhO,5:}O%_QdO'#DgOOQS,5;P,5;PO-eQ`O,5;PO4^QdO,5;PO4fQdO,5:gO4vQdO'#EtO5TQ`O,5;zO5TQ`O,5;zPOOO'#Ej'#EjP5`O&jO,58{POOO,58{,58{OOQP1G.n1G.nOOQP1G.q1G.qO*hQ`O1G.qO*mQ`O1G.qOOQP1G/v1G/vO5kQpO1G/xO5sQaO1G/{O6ZQaO1G/}O6qQaO1G0OO7XQaO,5;^OOQO-E8p-E8pOOQS1G.i1G.iO7cQ`O,5:fO7hQdO'#DoO7oQdO'#CrOOQP1G/x1G/xO&lQdO1G/xO7vQ!jO'#DZO8UQ!bO,59vO8^QhO,5:OOOQO'#F]'#F]O8XQ!bO,59zO'tQhO,59xO8fQhO'#EvO8sQ`O,5;{O9OQhO,59|O9uQhO'#DiOOQW,5:S,5:SOOQS1G0n1G0nOOQW,5:P,5:PO9|Q!fO'#FYOOQS'#FY'#FYOOQS'#Em'#EmO;^QdO,59`OOQ[,59`,59`O;tQdO,59fOOQ[,59f,59fO<[QdO,59iOOQ[,59i,59iOOQ[,59k,59kO&lQdO,59mO<rQhO'#EQOOQW'#EQ'#EQO=WQ`O1G0UO1[QhO1G0UOOQ[,59o,59oO'tQhO'#DXOOQ[,59q,59qO=]Q#tO,5:VOOQS1G0[1G0[OOQS1G0^1G0^OOQS1G0`1G0`O=hQ`O1G0`O=mQdO'#E`OOQS1G0c1G0cOOQS1G0i1G0iO=xQaO,5:RO-`Q`O1G0kOOQS1G0k1G0kO-eQ`O1G0kO>PQ!fO1G0ROOQO1G0R1G0ROOQO,5;`,5;`O>gQdO,5;`OOQO-E8r-E8rO>tQ`O1G1fPOOO-E8h-E8hPOOO1G.g1G.gOOQP7+$]7+$]OOQP7+%d7+%dO&lQdO7+%dOOQS1G0Q1G0QO?PQaO'#F_O?ZQ`O,5:ZO?`Q!fO'#ElO@^QdO'#FWO@hQ`O,59^O@mQ!bO7+%dO&lQdO1G/bO@uQhO1G/fOOQW1G/j1G/jOOQW1G/d1G/dOAWQhO,5;bOOQO-E8t-E8tOAfQhO'#DZOAtQhO'#F^OBPQ`O'#F^OBUQ`O,5:TOOQS-E8k-E8kOOQ[1G.z1G.zOOQ[1G/Q1G/QOOQ[1G/T1G/TOOQ[1G/X1G/XOBZQdO,5:lOOQS7+%p7+%pOB`Q`O7+%pOBeQhO'#DYOBmQ`O,59sO'tQhO,59sOOQ[1G/q1G/qOBuQ`O1G/qOOQS7+%z7+%zOBzQbO'#DPOOQO'#Eb'#EbOCYQ`O'#EaOOQO'#Ea'#EaOCeQ`O'#EwOCmQdO,5:zOOQS,5:z,5:zOOQ[1G/m1G/mOOQS7+&V7+&VO-`Q`O7+&VOCxQ!fO'#EsO&lQdO'#EsOEPQdO7+%mOOQO7+%m7+%mOOQO1G0z1G0zOEdQ!bO<<IOOElQdO'#EqOEvQ`O,5;yOOQP1G/u1G/uOOQS-E8j-E8jOFOQdO'#EpOFYQ`O,5;rOOQ]1G.x1G.xOOQP<<IO<<IOOFbQdO7+$|OOQO'#D]'#D]OFiQ!bO7+%QOFqQhO'#EoOF{Q`O,5;xO&lQdO,5;xOOQW1G/o1G/oOOQO'#ES'#ESOGTQ`O1G0WOOQS<<I[<<I[O&lQdO,59tOGnQhO1G/_OOQ[1G/_1G/_OGuQ`O1G/_OOQW-E8l-E8lOOQ[7+%]7+%]OOQO,5:{,5:{O=pQdO'#ExOCeQ`O,5;cOOQS,5;c,5;cOOQS-E8u-E8uOOQS1G0f1G0fOOQS<<Iq<<IqOG}Q!fO,5;_OOQS-E8q-E8qOOQO<<IX<<IXOOQPAN>jAN>jOIUQaO,5;]OOQO-E8o-E8oOI`QdO,5;[OOQO-E8n-E8nOOQW<<Hh<<HhOOQW<<Hl<<HlOIjQhO<<HlOI{QhO,5;ZOJWQ`O,5;ZOOQO-E8m-E8mOJ]QdO1G1dOBZQdO'#EuOJgQ`O7+%rOOQW7+%r7+%rOJoQ!bO1G/`OOQ[7+$y7+$yOJzQhO7+$yPKRQ`O'#EnOOQO,5;d,5;dOOQO-E8v-E8vOOQS1G0}1G0}OKWQ`OAN>WO&lQdO1G0uOK]Q`O7+'OOOQO,5;a,5;aOOQO-E8s-E8sOOQW<<I^<<I^OOQ[<<He<<HePOQW,5;Y,5;YOOQWG23rG23rOKeQdO7+&a",stateData:"Kx~O#sOS#tQQ~OW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#oRO~OQiOW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#ohO~O#m$SP~P!dO#tmO~O#ooO~O]qO`rOarOjsOmtO!juO!mwO#nvO~OpzO!^xO~P$SOc!QO#o|O#p}O~O#o!RO~O#o!TO~OW[OZ[O]TO`VOaVOjWOmXO!jYO!mZO#oRO~OS!]Oe!YO!V![O!Y!`O#q!XOp$TP~Ok$TP~P&POQ!jOe!cOm!dOp!eOr!mOt!mOz!kO!`!lO#o!bO#p!hO#}!fO~Ot!qO!`!lO#o!pO~Ot!sO#o!sO~OS!]Oe!YO!V![O!Y!`O#q!XO~Oe!vOpzO#Z!xO~O]YX`YX`!pXaYXjYXmYXpYX!^YX!jYX!mYX#nYX~O`!zO~Ok!{O#m$SXo$SX~O#m$SXo$SX~P!dO#u#OO#v#OO#w#QO~Oc#UO#o|O#p}O~OpzO!^xO~Oo$SP~P!dOe#`O~Oe#aO~Ol#bO!h#cO~O]qO`rOarOjsOmtO~Op!ia!^!ia!j!ia!m!ia#n!iad!ia~P*zOp!la!^!la!j!la!m!la#n!lad!la~P*zOR#gOS!]Oe!YOr#gOt#gO!V![O!Y!`O#q#dO#}!fO~O!R#iO!^#jOk$TXp$TX~Oe#mO~Ok#oOpzO~Oe!vO~O]#rO`#rOd#uOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl#wO~P&lO]#rO`#rOi#rOj#rOk#rOo#yO~P&lOP#zOSsXesXksXvsX!VsX!YsX!usX!wsX#qsX!TsXQsX]sX`sXdsXisXjsXmsXpsXrsXtsXzsX!`sX#osX#psX#}sXlsXosX!^sX!qsX#msX~Ov#{O!u#|O!w#}Ok$TP~P'tOe#aOS#{Xk#{Xv#{X!V#{X!Y#{X!u#{X!w#{X#q#{XQ#{X]#{X`#{Xd#{Xi#{Xj#{Xm#{Xp#{Xr#{Xt#{Xz#{X!`#{X#o#{X#p#{X#}#{Xl#{Xo#{X!^#{X!q#{X#m#{X~Oe$RO~Oe$TO~Ok$VOv#{O~Ok$WO~Ot$XO!`!lO~Op$YO~OpzO!R#iO~OpzO#Z$`O~O!q$bOk!oa#m!oao!oa~P&lOk#hX#m#hXo#hX~P!dOk!{O#m$Sao$Sa~O#u#OO#v#OO#w$hO~Ol$jO!h$kO~Op!ii!^!ii!j!ii!m!ii#n!iid!ii~P*zOp!ki!^!ki!j!ki!m!ki#n!kid!ki~P*zOp!li!^!li!j!li!m!li#n!lid!li~P*zOp#fa!^#fa~P$SOo$lO~Od$RP~P%_Od#zP~P&lO`!PXd}X!R}X!T!PX~O`$sO!T$tO~Od$uO!R#iO~Ok#jXp#jX!^#jX~P'tO!^#jOk$Tap$Ta~O!R#iOk!Uap!Ua!^!Uad!Ua`!Ua~OS!]Oe!YO!V![O!Y!`O#q$yO~Od$QP~P9dOv#{OQ#|X]#|X`#|Xd#|Xe#|Xi#|Xj#|Xk#|Xm#|Xp#|Xr#|Xt#|Xz#|X!`#|X#o#|X#p#|X#}#|Xl#|Xo#|X~O]#rO`#rOd%OOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl%PO~P&lO]#rO`#rOi#rOj#rOk#rOo%QO~P&lOe%SOS!tXk!tX!V!tX!Y!tX#q!tX~Ok%TO~Od%YOt%ZO!a%ZO~Ok%[O~Oo%cO#o%^O#}%]O~Od%dO~P$SOv#{O!^%hO!q%jOk!oi#m!oio!oi~P&lOk#ha#m#hao#ha~P!dOk!{O#m$Sio$Si~O!^%mOd$RX~P$SOd%oO~Ov#{OQ#`Xd#`Xe#`Xm#`Xp#`Xr#`Xt#`Xz#`X!^#`X!`#`X#o#`X#p#`X#}#`X~O!^%qOd#zX~P&lOd%sO~Ol%tOv#{O~OR#gOr#gOt#gO#q%vO#}!fO~O!R#iOk#jap#ja!^#ja~O`!PXd}X!R}X!^}X~O!R#iO!^%xOd$QX~O`%zO~Od%{O~O#o%|O~Ok&OO~O`&PO!R#iO~Od&ROk&QO~Od&UO~OP#zOpsX!^sXdsX~O#}%]Op#TX!^#TX~OpzO!^&WO~Oo&[O#o%^O#}%]O~Ov#{OQ#gXe#gXk#gXm#gXp#gXr#gXt#gXz#gX!^#gX!`#gX!q#gX#m#gX#o#gX#p#gX#}#gXo#gX~O!^%hO!q&`Ok!oq#m!oqo!oq~P&lOl&aOv#{O~Od#eX!^#eX~P%_O!^%mOd$Ra~Od#dX!^#dX~P&lO!^%qOd#za~Od&fO~P&lOd&gO!T&hO~Od#cX!^#cX~P9dO!^%xOd$Qa~O]&mOd&oO~OS#bae#ba!V#ba!Y#ba#q#ba~Od&qO~PG]Od&qOk&rO~Ov#{OQ#gae#gak#gam#gap#gar#gat#gaz#ga!^#ga!`#ga!q#ga#m#ga#o#ga#p#ga#}#gao#ga~Od#ea!^#ea~P$SOd#da!^#da~P&lOR#gOr#gOt#gO#q%vO#}%]O~O!R#iOd#ca!^#ca~O`&xO~O!^%xOd$Qi~P&lO]&mOd&|O~Ov#{Od|ik|i~Od&}O~PG]Ok'OO~Od'PO~O!^%xOd$Qq~Od#cq!^#cq~P&lO#s!a#t#}]#}v!m~",goto:"2h$UPPPPP$VP$YP$c$uP$cP%X$cPP%_PPP%e%o%oPPPPP%oPP%oP&]P%oP%o'W%oP't'w'}'}(^'}P'}P'}P'}'}P(m'}(yP(|PP)p)v$c)|$c*SP$cP$c$cP*Y*{+YP$YP+aP+dP$YP$YP$YP+j$YP+m+p+s+z$YP$YPP$YP,P,V,f,|-[-b-l-r-x.O.U.`.f.l.rPPPPPPPPPPP.x/R/w/z0|P1U1u2O2R2U2[RnQ_^OP`kz!{$dq[OPYZ`kuvwxz!v!{#`$d%mqSOPYZ`kuvwxz!v!{#`$d%mQpTR#RqQ!OVR#SrQ#S!QS$Q!i!jR$i#U!V!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'Q!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QU#g!Y$t&hU%`$Y%b&WR&V%_!V!iac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QR$S!kQ%W$RR&S%Xk!^]bf!Y![!g#i#j#m$P$R%X%xQ#e!YQ${#mQ%w$tQ&j%xR&w&hQ!ygQ#p!`Q$^!xR%f$`R#n!]!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QQ!qdR$X!rQ!PVR#TrQ#S!PR$i#TQ!SWR#VsQ!UXR#WtQ{UQ!wgQ#^yQ#o!_Q$U!nQ$[!uQ$_!yQ%e$^Q&Y%aQ&]%fR&v&XSjPzQ!}kQ$c!{R%k$dZiPkz!{$dR$P!gQ%}%SR&z&mR!rdR!teR$Z!tS%a$Y%bR&t&WV%_$Y%b&WQ#PmR$g#PQ`OSkPzU!a`k$dR$d!{Q$p#aY%p$p%u&d&l'QQ%u$sQ&d%qQ&l%zR'Q&xQ#t!cQ#v!dQ#x!eV$}#t#v#xQ%X$RR&T%XQ%y$zS&k%y&yR&y&lQ%r$pR&e%rQ%n$mR&c%nQyUR#]yQ%i$aR&_%iQ!|jS$e!|$fR$f!}Q&n%}R&{&nQ#k!ZR$x#kQ%b$YR&Z%bQ&X%aR&u&X__OP`kz!{$d^UOP`kz!{$dQ!VYQ!WZQ#XuQ#YvQ#ZwQ#[xQ$]!vQ$m#`R&b%mR$q#aQ!gaQ!oc[#q!c!d!e#t#v#xQ$a!zd$o#a$p$s%q%u%z&d&l&x'QQ$r#cQ%R#{S%g$a%iQ%l$kQ&^%hR&p&P]#s!c!d!e#t#v#xW!Z]b!g$PQ!ufQ#f!YQ#l![Q$v#iQ$w#jQ$z#mS%V$R%XR&i%xQ#h!YQ%w$tR&w&hR$|#mR$n#`QlPR#_zQ!_]Q!nbQ$O!gR%U$P",nodeNames:" Unit VariableName VariableName QueryCallee Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector . ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue AtKeyword # ; ] [ BracketedValue } { BracedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee IfExpression if ArgList IfBranch KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp ComparisonQuery CompareOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector ParenthesizedSelector CallQuery ArgList , CallLiteral CallTag ParenthesizedContent PseudoClassName ArgList IdSelector IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp Block Declaration PropertyName Important ImportStatement import Layer layer LayerName layer MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports ScopeStatement scope to AtRule Styles",maxTerm:143,nodeProps:[["isolate",-2,5,36,""],["openedBy",20,"(",28,"[",31,"{"],["closedBy",21,")",29,"]",32,"}"]],propSources:[zWe],skippedNodes:[0,5,106],repeatNodeCount:15,tokenData:"JQ~R!YOX$qX^%i^p$qpq%iqr({rs-ust/itu6Wuv$qvw7Qwx7cxy9Qyz9cz{9h{|:R|}>t}!O?V!O!P?t!P!Q@]!Q![AU![!]BP!]!^B{!^!_C^!_!`DY!`!aDm!a!b$q!b!cEn!c!}$q!}#OG{#O#P$q#P#QH^#Q#R6W#R#o$q#o#pHo#p#q6W#q#rIQ#r#sIc#s#y$q#y#z%i#z$f$q$f$g%i$g#BY$q#BY#BZ%i#BZ$IS$q$IS$I_%i$I_$I|$q$I|$JO%i$JO$JT$q$JT$JU%i$JU$KV$q$KV$KW%i$KW&FU$q&FU&FV%i&FV;'S$q;'S;=`Iz<%lO$q`$tSOy%Qz;'S%Q;'S;=`%c<%lO%Q`%VS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q`%fP;=`<%l%Q~%nh#s~OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Q~'ah#s~!a`OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Qj)OUOy%Qz#]%Q#]#^)b#^;'S%Q;'S;=`%c<%lO%Qj)gU!a`Oy%Qz#a%Q#a#b)y#b;'S%Q;'S;=`%c<%lO%Qj*OU!a`Oy%Qz#d%Q#d#e*b#e;'S%Q;'S;=`%c<%lO%Qj*gU!a`Oy%Qz#c%Q#c#d*y#d;'S%Q;'S;=`%c<%lO%Qj+OU!a`Oy%Qz#f%Q#f#g+b#g;'S%Q;'S;=`%c<%lO%Qj+gU!a`Oy%Qz#h%Q#h#i+y#i;'S%Q;'S;=`%c<%lO%Qj,OU!a`Oy%Qz#T%Q#T#U,b#U;'S%Q;'S;=`%c<%lO%Qj,gU!a`Oy%Qz#b%Q#b#c,y#c;'S%Q;'S;=`%c<%lO%Qj-OU!a`Oy%Qz#h%Q#h#i-b#i;'S%Q;'S;=`%c<%lO%Qj-iS!qY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q~-xWOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c<%lO-u~.gOt~~.jRO;'S-u;'S;=`.s;=`O-u~.vXOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c;=`<%l-u<%lO-u~/fP;=`<%l-uj/nYjYOy%Qz!Q%Q!Q![0^![!c%Q!c!i0^!i#T%Q#T#Z0^#Z;'S%Q;'S;=`%c<%lO%Qj0cY!a`Oy%Qz!Q%Q!Q![1R![!c%Q!c!i1R!i#T%Q#T#Z1R#Z;'S%Q;'S;=`%c<%lO%Qj1WY!a`Oy%Qz!Q%Q!Q![1v![!c%Q!c!i1v!i#T%Q#T#Z1v#Z;'S%Q;'S;=`%c<%lO%Qj1}YrY!a`Oy%Qz!Q%Q!Q![2m![!c%Q!c!i2m!i#T%Q#T#Z2m#Z;'S%Q;'S;=`%c<%lO%Qj2tYrY!a`Oy%Qz!Q%Q!Q![3d![!c%Q!c!i3d!i#T%Q#T#Z3d#Z;'S%Q;'S;=`%c<%lO%Qj3iY!a`Oy%Qz!Q%Q!Q![4X![!c%Q!c!i4X!i#T%Q#T#Z4X#Z;'S%Q;'S;=`%c<%lO%Qj4`YrY!a`Oy%Qz!Q%Q!Q![5O![!c%Q!c!i5O!i#T%Q#T#Z5O#Z;'S%Q;'S;=`%c<%lO%Qj5TY!a`Oy%Qz!Q%Q!Q![5s![!c%Q!c!i5s!i#T%Q#T#Z5s#Z;'S%Q;'S;=`%c<%lO%Qj5zSrY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qd6ZUOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qd6tS!hS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qb7VSZQOy%Qz;'S%Q;'S;=`%c<%lO%Q~7fWOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z<%lO7c~8RRO;'S7c;'S;=`8[;=`O7c~8_XOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z;=`<%l7c<%lO7c~8}P;=`<%l7cj9VSeYOy%Qz;'S%Q;'S;=`%c<%lO%Q~9hOd~n9oUWQvWOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qj:YWvW!mQOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj:wU!a`Oy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Qj;bY!a`#}YOy%Qz!Q%Q!Q![;Z![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj<VY!a`Oy%Qz{%Q{|<u|}%Q}!O<u!O!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj<zU!a`Oy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj=eU!a`#}YOy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj>O[!a`#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj>yS!^YOy%Qz;'S%Q;'S;=`%c<%lO%Qj?[WvWOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj?yU]YOy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Q~@bTvWOy%Qz{@q{;'S%Q;'S;=`%c<%lO%Q~@xS!a`#t~Oy%Qz;'S%Q;'S;=`%c<%lO%QjAZ[#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%QjBUU`YOy%Qz![%Q![!]Bh!];'S%Q;'S;=`%c<%lO%QbBoSaQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjCQSkYOy%Qz;'S%Q;'S;=`%c<%lO%QhCcU!TWOy%Qz!_%Q!_!`Cu!`;'S%Q;'S;=`%c<%lO%QhC|S!TW!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QlDaS!TW!hSOy%Qz;'S%Q;'S;=`%c<%lO%QjDtV!jQ!TWOy%Qz!_%Q!_!`Cu!`!aEZ!a;'S%Q;'S;=`%c<%lO%QbEbS!jQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjEqYOy%Qz}%Q}!OFa!O!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjFfW!a`Oy%Qz!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjGV[iY!a`Oy%Qz}%Q}!OGO!O!Q%Q!Q![GO![!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjHQSmYOy%Qz;'S%Q;'S;=`%c<%lO%QnHcSl^Oy%Qz;'S%Q;'S;=`%c<%lO%QjHtSpYOy%Qz;'S%Q;'S;=`%c<%lO%QjIVSoYOy%Qz;'S%Q;'S;=`%c<%lO%QfIhU!mQOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Q`I}P;=`<%l$q",tokenizers:[LWe,$We,IWe,DWe,1,2,3,4,new QM("m~RRYZ[z{a~~g~aO#v~~dP!P!Qg~lO#w~~",28,129)],topRules:{StyleSheet:[0,6],Styles:[1,105]},specialized:[{term:124,get:t=>NWe[t]||-1},{term:125,get:t=>BWe[t]||-1},{term:4,get:t=>FWe[t]||-1},{term:25,get:t=>jWe[t]||-1},{term:123,get:t=>VWe[t]||-1}],tokenPrec:1963});let qL=null;function WL(){if(!qL&&typeof document=="object"&&document.body){let{style:t}=document.body,e=[],n=new Set;for(let r in t)r!="cssText"&&r!="cssFloat"&&typeof t[r]=="string"&&(/[A-Z]/.test(r)&&(r=r.replace(/[A-Z]/g,i=>"-"+i.toLowerCase())),n.has(r)||(e.push(r),n.add(r)));qL=e.sort().map(r=>({type:"property",label:r,apply:r+": "}))}return qL||[]}const HH=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(t=>({type:"class",label:t})),GH=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(t=>({type:"keyword",label:t})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(t=>({type:"constant",label:t}))),UWe=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(t=>({type:"type",label:t})),ZWe=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(t=>({type:"keyword",label:t})),Eg=/^(\w[\w-]*|-\w[\w-]*|)$/,qWe=/^-(-[\w-]*)?$/;function WWe(t,e){var n;if((t.name=="("||t.type.isError)&&(t=t.parent||t),t.name!="ArgList")return!1;let r=(n=t.parent)===null||n===void 0?void 0:n.firstChild;return r?.name!="Callee"?!1:e.sliceString(r.from,r.to)=="var"}const XH=new rae,HWe=["Declaration"];function GWe(t){for(let e=t;;){if(e.type.isTop)return e;if(!(e=e.parent))return t}}function kle(t,e,n){if(e.to-e.from>4096){let r=XH.get(e);if(r)return r;let i=[],o=new Set,a=e.cursor(Di.IncludeAnonymous);if(a.firstChild())do for(let s of kle(t,a.node,n))o.has(s.label)||(o.add(s.label),i.push(s));while(a.nextSibling());return XH.set(e,i),i}else{let r=[],i=new Set;return e.cursor().iterate(o=>{var a;if(n(o)&&o.matchContext(HWe)&&((a=o.node.nextSibling)===null||a===void 0?void 0:a.name)==":"){let s=t.sliceString(o.from,o.to);i.has(s)||(i.add(s),r.push({label:s,type:"variable"}))}}),r}}const Ele=t=>e=>{let{state:n,pos:r}=e,i=no(n).resolveInner(r,-1),o=i.type.isError&&i.from==i.to-1&&n.doc.sliceString(i.from,i.to)=="-";if(i.name=="PropertyName"||(o||i.name=="TagName")&&/^(Block|Styles)$/.test(i.resolve(i.to).name))return{from:i.from,options:WL(),validFor:Eg};if(i.name=="ValueName")return{from:i.from,options:GH,validFor:Eg};if(i.name=="PseudoClassName")return{from:i.from,options:HH,validFor:Eg};if(t(i)||(e.explicit||o)&&WWe(i,n.doc))return{from:t(i)||o?i.from:r,options:kle(n.doc,GWe(i),t),validFor:qWe};if(i.name=="TagName"){for(let{parent:u}=i;u;u=u.parent)if(u.name=="Block")return{from:i.from,options:WL(),validFor:Eg};return{from:i.from,options:UWe,validFor:Eg}}if(i.name=="AtKeyword")return{from:i.from,options:ZWe,validFor:Eg};if(!e.explicit)return null;let a=i.resolve(r),s=a.childBefore(r);return s&&s.name==":"&&a.name=="PseudoClassSelector"?{from:r,options:HH,validFor:Eg}:s&&s.name==":"&&a.name=="Declaration"||a.name=="ArgList"?{from:r,options:GH,validFor:Eg}:a.name=="Block"||a.name=="Styles"?{from:r,options:WL(),validFor:Eg}:null},Ale=Ele(t=>t.name=="VariableName"),qT=dO.define({name:"css",parser:QWe.configure({props:[nS.add({Declaration:a5()}),rS.add({"Block KeyframeList":hae})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function Ple(){return new pO(qT,qT.data.of({autocomplete:Ale}))}const XWe=Object.freeze(Object.defineProperty({__proto__:null,css:Ple,cssCompletionSource:Ale,cssLanguage:qT,defineCSSCompletionSource:Ele},Symbol.toStringTag,{value:"Module"})),YWe=55,KWe=1,JWe=56,eHe=2,tHe=57,nHe=3,YH=4,rHe=5,TF=6,Mle=7,Rle=8,Ile=9,Dle=10,iHe=11,oHe=12,sHe=13,HL=58,aHe=14,lHe=15,KH=59,Lle=21,cHe=23,$le=24,uHe=25,z6=27,zle=28,hHe=29,dHe=32,fHe=35,pHe=37,mHe=38,gHe=0,yHe=1,vHe={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},_He={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},JH={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function xHe(t){return t==45||t==46||t==58||t>=65&&t<=90||t==95||t>=97&&t<=122||t>=161}let eG=null,tG=null,nG=0;function N6(t,e){let n=t.pos+e;if(nG==n&&tG==t)return eG;let r=t.peek(e),i="";for(;xHe(r);)i+=String.fromCharCode(r),r=t.peek(++e);return tG=t,nG=n,eG=i?i.toLowerCase():r==bHe||r==wHe?void 0:null}const Nle=60,UM=62,kF=47,bHe=63,wHe=33,OHe=45;function rG(t,e){this.name=t,this.parent=e}const SHe=[TF,Dle,Mle,Rle,Ile],CHe=new wle({start:null,shift(t,e,n,r){return SHe.indexOf(e)>-1?new rG(N6(r,1)||"",t):t},reduce(t,e){return e==Lle&&t?t.parent:t},reuse(t,e,n,r){let i=e.type.id;return i==TF||i==pHe?new rG(N6(r,1)||"",t):t},strict:!1}),THe=new dh((t,e)=>{if(t.next!=Nle){t.next<0&&e.context&&t.acceptToken(HL);return}t.advance();let n=t.next==kF;n&&t.advance();let r=N6(t,0);if(r===void 0)return;if(!r)return t.acceptToken(n?lHe:aHe);let i=e.context?e.context.name:null;if(n){if(r==i)return t.acceptToken(iHe);if(i&&_He[i])return t.acceptToken(HL,-2);if(e.dialectEnabled(gHe))return t.acceptToken(oHe);for(let o=e.context;o;o=o.parent)if(o.name==r)return;t.acceptToken(sHe)}else{if(r=="script")return t.acceptToken(Mle);if(r=="style")return t.acceptToken(Rle);if(r=="textarea")return t.acceptToken(Ile);if(vHe.hasOwnProperty(r))return t.acceptToken(Dle);i&&JH[i]&&JH[i][r]?t.acceptToken(HL,-1):t.acceptToken(TF)}},{contextual:!0}),kHe=new dh(t=>{for(let e=0,n=0;;n++){if(t.next<0){n&&t.acceptToken(KH);break}if(t.next==OHe)e++;else if(t.next==UM&&e>=2){n>=3&&t.acceptToken(KH,-2);break}else e=0;t.advance()}});function EHe(t){for(;t;t=t.parent)if(t.name=="svg"||t.name=="math")return!0;return!1}const AHe=new dh((t,e)=>{if(t.next==kF&&t.peek(1)==UM){let n=e.dialectEnabled(yHe)||EHe(e.context);t.acceptToken(n?rHe:YH,2)}else t.next==UM&&t.acceptToken(YH,1)});function EF(t,e,n){let r=2+t.length;return new dh(i=>{for(let o=0,a=0,s=0;;s++){if(i.next<0){s&&i.acceptToken(e);break}if(o==0&&i.next==Nle||o==1&&i.next==kF||o>=2&&o<r&&i.next==t.charCodeAt(o-2))o++,a++;else if(o==r&&i.next==UM){s>a?i.acceptToken(e,-a):i.acceptToken(n,-(a-2));break}else if((i.next==10||i.next==13)&&s){i.acceptToken(e,1);break}else o=a=0;i.advance()}})}const PHe=EF("script",YWe,KWe),MHe=EF("style",JWe,eHe),RHe=EF("textarea",tHe,nHe),IHe=tS({"Text RawText IncompleteTag IncompleteCloseTag":Ne.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":Ne.angleBracket,TagName:Ne.tagName,"MismatchedCloseTag/TagName":[Ne.tagName,Ne.invalid],AttributeName:Ne.attributeName,"AttributeValue UnquotedAttributeValue":Ne.attributeValue,Is:Ne.definitionOperator,"EntityReference CharacterReference":Ne.character,Comment:Ne.blockComment,ProcessingInst:Ne.processingInstruction,DoctypeDecl:Ne.documentMeta}),DHe=mO.deserialize({version:14,states:",xOVO!rOOO!ZQ#tO'#CrO!`Q#tO'#C{O!eQ#tO'#DOO!jQ#tO'#DRO!oQ#tO'#DTO!tOaO'#CqO#PObO'#CqO#[OdO'#CqO$kO!rO'#CqOOO`'#Cq'#CqO$rO$fO'#DUO$zQ#tO'#DWO%PQ#tO'#DXOOO`'#Dl'#DlOOO`'#DZ'#DZQVO!rOOO%UQ&rO,59^O%aQ&rO,59gO%lQ&rO,59jO%wQ&rO,59mO&SQ&rO,59oOOOa'#D_'#D_O&_OaO'#CyO&jOaO,59]OOOb'#D`'#D`O&rObO'#C|O&}ObO,59]OOOd'#Da'#DaO'VOdO'#DPO'bOdO,59]OOO`'#Db'#DbO'jO!rO,59]O'qQ#tO'#DSOOO`,59],59]OOOp'#Dc'#DcO'vO$fO,59pOOO`,59p,59pO(OQ#|O,59rO(TQ#|O,59sOOO`-E7X-E7XO(YQ&rO'#CtOOQW'#D['#D[O(hQ&rO1G.xOOOa1G.x1G.xOOO`1G/Z1G/ZO(sQ&rO1G/ROOOb1G/R1G/RO)OQ&rO1G/UOOOd1G/U1G/UO)ZQ&rO1G/XOOO`1G/X1G/XO)fQ&rO1G/ZOOOa-E7]-E7]O)qQ#tO'#CzOOO`1G.w1G.wOOOb-E7^-E7^O)vQ#tO'#C}OOOd-E7_-E7_O){Q#tO'#DQOOO`-E7`-E7`O*QQ#|O,59nOOOp-E7a-E7aOOO`1G/[1G/[OOO`1G/^1G/^OOO`1G/_1G/_O*VQ,UO,59`OOQW-E7Y-E7YOOOa7+$d7+$dOOO`7+$u7+$uOOOb7+$m7+$mOOOd7+$p7+$pOOO`7+$s7+$sO*bQ#|O,59fO*gQ#|O,59iO*lQ#|O,59lOOO`1G/Y1G/YO*qO7[O'#CwO+SOMhO'#CwOOQW1G.z1G.zOOO`1G/Q1G/QOOO`1G/T1G/TOOO`1G/W1G/WOOOO'#D]'#D]O+eO7[O,59cOOQW,59c,59cOOOO'#D^'#D^O+vOMhO,59cOOOO-E7Z-E7ZOOQW1G.}1G.}OOOO-E7[-E7[",stateData:",c~O!_OS~OUSOVPOWQOXROYTO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O|_O!eZO~OgaO~OgbO~OgcO~OgdO~OgeO~O!XfOPmP![mP~O!YiOQpP![pP~O!ZlORsP![sP~OUSOVPOWQOXROYTOZqO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O!eZO~O![rO~P#gO!]sO!fuO~OgvO~OgwO~OS|OT}OiyO~OS!POT}OiyO~OS!ROT}OiyO~OS!TOT}OiyO~OS}OT}OiyO~O!XfOPmX![mX~OP!WO![!XO~O!YiOQpX![pX~OQ!ZO![!XO~O!ZlORsX![sX~OR!]O![!XO~O![!XO~P#gOg!_O~O!]sO!f!aO~OS!bO~OS!cO~Oj!dOShXThXihX~OS!fOT!gOiyO~OS!hOT!gOiyO~OS!iOT!gOiyO~OS!jOT!gOiyO~OS!gOT!gOiyO~Og!kO~Og!lO~Og!mO~OS!nO~Ol!qO!a!oO!c!pO~OS!rO~OS!sO~OS!tO~Ob!uOc!uOd!uO!a!wO!b!uO~Ob!xOc!xOd!xO!c!wO!d!xO~Ob!uOc!uOd!uO!a!{O!b!uO~Ob!xOc!xOd!xO!c!{O!d!xO~OT~cbd!ey|!e~",goto:"%q!aPPPPPPPPPPPPPPPPPPPPP!b!hP!nPP!zP!}#Q#T#Z#^#a#g#j#m#s#y!bP!b!bP$P$V$m$s$y%P%V%]%cPPPPPPPP%iX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:" StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:68,context:CHe,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,22,31,34,37,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,30,33,36,38,"OpenTag"],["group",-10,14,15,18,19,20,21,40,41,42,43,"Entity",17,"Entity TextContent",-3,29,32,35,"TextContent Entity"],["isolate",-11,22,30,31,33,34,36,37,38,39,42,43,"ltr",-3,27,28,40,""]],propSources:[IHe],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|caPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bXaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UVaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pTaPOv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!dpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({WaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!b`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!b`!dpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYlWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]`aP!b`!dp!_^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebiSlWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXiSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vciSaP!b`!dpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!ahaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WiiSlWd!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zblWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOb!R!R7tP;=`<%l7S!Z8OYlWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{iiSlWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbiSlWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QciSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXiSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TalWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOc!R!RAwP;=`<%lAY!ZBRYlWc!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbiSlWc!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbiSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXiSc!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!cxaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYliSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_kiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_XaP!b`!dp!fQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZiSgQaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!b`!dpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!b`!dp!ePOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!b`!dpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!b`!dpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!b`!dpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!b`!dpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!b`!dpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!b`!dpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!b`!dpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!dpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO|PP!-nP;=`<%l!-Sq!-xS!dp|POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!b`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!b`|POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!b`!dp|POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!b`!dpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!b`!dpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!b`!dpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!b`!dpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!b`!dpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!b`!dpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!dpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOyPP!7TP;=`<%l!6Vq!7]V!dpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!dpyPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!b`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!b`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!b`yPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!b`!dpyPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXjSaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[PHe,MHe,RHe,AHe,THe,kHe,0,1,2,3,4,5],topRules:{Document:[0,16]},dialects:{noMatch:0,selfClosing:515},tokenPrec:517});function Ble(t,e){let n=Object.create(null);for(let r of t.getChildren($le)){let i=r.getChild(uHe),o=r.getChild(z6)||r.getChild(zle);i&&(n[e.read(i.from,i.to)]=o?o.type.id==z6?e.read(o.from+1,o.to-1):e.read(o.from,o.to):"")}return n}function iG(t,e){let n=t.getChild(cHe);return n?e.read(n.from,n.to):" "}function GL(t,e,n){let r;for(let i of n)if(!i.attrs||i.attrs(r||(r=Ble(t.node.parent.firstChild,e))))return{parser:i.parser,bracketed:!0};return null}function Fle(t=[],e=[]){let n=[],r=[],i=[],o=[];for(let s of t)(s.tag=="script"?n:s.tag=="style"?r:s.tag=="textarea"?i:o).push(s);let a=e.length?Object.create(null):null;for(let s of e)(a[s.name]||(a[s.name]=[])).push(s);return iae((s,u)=>{let d=s.type.id;if(d==hHe)return GL(s,u,n);if(d==dHe)return GL(s,u,r);if(d==fHe)return GL(s,u,i);if(d==Lle&&o.length){let g=s.node,v=g.firstChild,x=v&&iG(v,u),O;if(x){for(let E of o)if(E.tag==x&&(!E.attrs||E.attrs(O||(O=Ble(v,u))))){let A=g.lastChild,M=A.type.id==mHe?A.from:g.to;if(M>v.to)return{parser:E.parser,overlay:[{from:v.to,to:M}]}}}}if(a&&d==$le){let g=s.node,v;if(v=g.firstChild){let x=a[u.read(v.from,v.to)];if(x)for(let O of x){if(O.tagName&&O.tagName!=iG(g.parent,u))continue;let E=g.lastChild;if(E.type.id==z6){let A=E.from+1,M=E.lastChild,L=E.to-(M&&M.isError?0:1);if(L>A)return{parser:O.parser,overlay:[{from:A,to:L}],bracketed:!0}}else if(E.type.id==zle)return{parser:O.parser,overlay:[{from:E.from,to:E.to}]}}}}return null})}const LHe=316,$He=317,oG=1,zHe=2,NHe=3,BHe=4,FHe=318,jHe=320,VHe=321,QHe=5,UHe=6,ZHe=0,B6=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],jle=125,qHe=59,F6=47,WHe=42,HHe=43,GHe=45,XHe=60,YHe=44,KHe=63,JHe=46,eGe=91,tGe=new wle({start:!1,shift(t,e){return e==QHe||e==UHe||e==jHe?t:e==VHe},strict:!1}),nGe=new dh((t,e)=>{let{next:n}=t;(n==jle||n==-1||e.context)&&t.acceptToken(FHe)},{contextual:!0,fallback:!0}),rGe=new dh((t,e)=>{let{next:n}=t,r;B6.indexOf(n)>-1||n==F6&&((r=t.peek(1))==F6||r==WHe)||n!=jle&&n!=qHe&&n!=-1&&!e.context&&t.acceptToken(LHe)},{contextual:!0}),iGe=new dh((t,e)=>{t.next==eGe&&!e.context&&t.acceptToken($He)},{contextual:!0}),oGe=new dh((t,e)=>{let{next:n}=t;if(n==HHe||n==GHe){if(t.advance(),n==t.next){t.advance();let r=!e.context&&e.canShift(oG);t.acceptToken(r?oG:zHe)}}else n==KHe&&t.peek(1)==JHe&&(t.advance(),t.advance(),(t.next<48||t.next>57)&&t.acceptToken(NHe))},{contextual:!0});function XL(t,e){return t>=65&&t<=90||t>=97&&t<=122||t==95||t>=192||!e&&t>=48&&t<=57}const sGe=new dh((t,e)=>{if(t.next!=XHe||!e.dialectEnabled(ZHe)||(t.advance(),t.next==F6))return;let n=0;for(;B6.indexOf(t.next)>-1;)t.advance(),n++;if(XL(t.next,!0)){for(t.advance(),n++;XL(t.next,!1);)t.advance(),n++;for(;B6.indexOf(t.next)>-1;)t.advance(),n++;if(t.next==YHe)return;for(let r=0;;r++){if(r==7){if(!XL(t.next,!0))return;break}if(t.next!="extends".charCodeAt(r))break;t.advance(),n++}}t.acceptToken(BHe,-n)}),aGe=tS({"get set async static":Ne.modifier,"for while do if else switch try catch finally return throw break continue default case defer":Ne.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":Ne.operatorKeyword,"let var const using function class extends":Ne.definitionKeyword,"import export from":Ne.moduleKeyword,"with debugger new":Ne.keyword,TemplateString:Ne.special(Ne.string),super:Ne.atom,BooleanLiteral:Ne.bool,this:Ne.self,null:Ne.null,Star:Ne.modifier,VariableName:Ne.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":Ne.function(Ne.variableName),VariableDefinition:Ne.definition(Ne.variableName),Label:Ne.labelName,PropertyName:Ne.propertyName,PrivatePropertyName:Ne.special(Ne.propertyName),"CallExpression/MemberExpression/PropertyName":Ne.function(Ne.propertyName),"FunctionDeclaration/VariableDefinition":Ne.function(Ne.definition(Ne.variableName)),"ClassDeclaration/VariableDefinition":Ne.definition(Ne.className),"NewExpression/VariableName":Ne.className,PropertyDefinition:Ne.definition(Ne.propertyName),PrivatePropertyDefinition:Ne.definition(Ne.special(Ne.propertyName)),UpdateOp:Ne.updateOperator,"LineComment Hashbang":Ne.lineComment,BlockComment:Ne.blockComment,Number:Ne.number,String:Ne.string,Escape:Ne.escape,ArithOp:Ne.arithmeticOperator,LogicOp:Ne.logicOperator,BitOp:Ne.bitwiseOperator,CompareOp:Ne.compareOperator,RegExp:Ne.regexp,Equals:Ne.definitionOperator,Arrow:Ne.function(Ne.punctuation),": Spread":Ne.punctuation,"( )":Ne.paren,"[ ]":Ne.squareBracket,"{ }":Ne.brace,"InterpolationStart InterpolationEnd":Ne.special(Ne.brace),".":Ne.derefOperator,", ;":Ne.separator,"@":Ne.meta,TypeName:Ne.typeName,TypeDefinition:Ne.definition(Ne.typeName),"type enum interface implements namespace module declare":Ne.definitionKeyword,"abstract global Privacy readonly override":Ne.modifier,"is keyof unique infer asserts":Ne.operatorKeyword,JSXAttributeValue:Ne.attributeValue,JSXText:Ne.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":Ne.angleBracket,"JSXIdentifier JSXNameSpacedName":Ne.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":Ne.attributeName,"JSXBuiltin/JSXIdentifier":Ne.standard(Ne.tagName)}),lGe={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,defer:471,for:476,of:485,while:488,with:492,do:496,if:500,else:502,switch:506,case:512,try:518,catch:522,finally:526,return:530,throw:534,break:538,continue:542,debugger:546},cGe={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},uGe={__proto__:null,"<":193},hGe=mO.deserialize({version:14,states:"$F|Q%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Il'#IlO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JrO6[Q!0MxO'#JsO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO9XQMhO'#F|O9`Q`O'#F{OOQ!0Lf'#Js'#JsOOQ!0Lb'#Jr'#JrO9eQ`O'#GwOOQ['#K_'#K_O9pQ`O'#IYO9uQ!0LrO'#IZOOQ['#J`'#J`OOQ['#I_'#I_Q`QlOOQ`QlOOO9}Q!L^O'#DvO:UQlO'#EOO:]QlO'#EQO9kQ`O'#GsO:dQMhO'#CoO:rQ`O'#EnO:}Q`O'#EyO;hQMhO'#FeO;xQ`O'#GsOOQO'#K`'#K`O;}Q`O'#K`O<]Q`O'#G{O<]Q`O'#G|O<]Q`O'#HOO9kQ`O'#HRO=SQ`O'#HUO>kQ`O'#CeO>{Q`O'#HcO?TQ`O'#HiO?TQ`O'#HkO`QlO'#HmO?TQ`O'#HoO?TQ`O'#HrO?YQ`O'#HxO?_Q!0LsO'#IOO%[QlO'#IQO?jQ!0LsO'#ISO?uQ!0LsO'#IUO9uQ!0LrO'#IWO@QQ!0MxO'#CiOASQpO'#DlQOQ`OOO%[QlO'#EQOAjQ`O'#ETO:dQMhO'#EnOAuQ`O'#EnOBQQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Jv'#JvO%[QlO'#JvOOQO'#Jy'#JyOOQO'#Ih'#IhOCQQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J}'#J}OC|Q!0MSO'#EgODWQpO'#EWOOQO'#Jx'#JxODlQpO'#JyOEyQpO'#EWODWQpO'#EgPFWO&2DjO'#CbPOOO)CD})CD}OOOO'#I`'#I`OFcO#tO,59UOOQ!0Lh,59U,59UOOOO'#Ia'#IaOFqO&jO,59UOGPQ!L^O'#DcOOOO'#Ic'#IcOGWO#@ItO,59{OOQ!0Lf,59{,59{OGfQlO'#IdOGyQ`O'#JtOIxQ!fO'#JtO+}QlO'#JtOJPQ`O,5:ROJgQ`O'#EpOJtQ`O'#KTOKPQ`O'#KSOKPQ`O'#KSOKXQ`O,5;^OK^Q`O'#KROOQ!0Ln,5:^,5:^OKeQlO,5:^OMcQ!0MxO,5:fONSQ`O,5:nONmQ!0LrO'#KQONtQ`O'#KPO9eQ`O'#KPO! YQ`O'#KPO! bQ`O,5;]O! gQ`O'#KPO!#lQ!fO'#JsOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$[Q!fO,5:sOOQS'#Jz'#JzOOQO-E<j-E<jO9kQ`O,5=_O!$rQ`O,5=_O!$wQlO,5;ZO!&zQMhO'#EkO!(eQ`O,5;ZO!(jQlO'#DyO!(tQpO,5;dO!(|QpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)[QlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IpO!+_Q!0LrO,5<iO%[QlO,5;eO!&zQMhO,5;eO!+|QMhO,5;eO!-nQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-uQ,UO'#FjO!.rQ,UO'#KXO!.^Q,UO'#KXO!.yQ,UO'#KXOOQO'#KX'#KXO!/_Q,UO,5<SOOOW,5<`,5<`O!/pQlO'#FvOOOW'#Io'#IoO7VO7dO,5<QO!/wQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0hQ$IUO'#CyOOQ!0Lh'#C}'#C}O!0{O#@ItO'#DRO!1iQMjO,5<eO!1pQ`O,5<hO!3YQ(CWO'#GXO!3jQ`O'#GYO!3oQ`O'#GYO!5_Q(CWO'#G^O!6dQpO'#GbOOQO'#Gn'#GnO!,TQMhO'#GmOOQO'#Gp'#GpO!,TQMhO'#GoO!7VQ$IUO'#JlOOQ!0Lh'#Jl'#JlO!7aQ`O'#JkO!7oQ`O'#JjO!7wQ`O'#CuOOQ!0Lh'#C{'#C{O!8YQ`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO!8_Q`O,5<eO1SQ`O'#DZO!,TQMhO'#GPO!,TQMhO'#GRO!8gQ`O'#GTO!8lQ`O'#GUO!3oQ`O'#G[O!,TQMhO'#GaO<]Q`O'#JkO!8qQ`O'#EqO!9`Q`O,5<gOOQ!0Lb'#Cr'#CrO!9hQ`O'#ErO!:bQpO'#EsOOQ!0Lb'#KR'#KRO!:iQ!0LrO'#KaO9uQ!0LrO,5=cO`QlO,5>tOOQ['#Jh'#JhOOQ[,5>u,5>uOOQ[-E<]-E<]O!<hQ!0MxO,5:bO!:]QpO,5:`O!?RQ!0MxO,5:jO%[QlO,5:jO!AiQ!0MxO,5:lOOQO,5@z,5@zO!BYQMhO,5=_O!BhQ!0LrO'#JiO9`Q`O'#JiO!ByQ!0LrO,59ZO!CUQpO,59ZO!C^QMhO,59ZO:dQMhO,59ZO!CiQ`O,5;ZO!CqQ`O'#HbO!DVQ`O'#KdO%[QlO,5;}O!:]QpO,5<PO!D_Q`O,5=zO!DdQ`O,5=zO!DiQ`O,5=zO!DwQ`O,5=zO9uQ!0LrO,5=zO<]Q`O,5=jOOQO'#Cy'#CyO!EOQpO,5=gO!EWQMhO,5=hO!EcQ`O,5=jO!EhQ!bO,5=mO!EpQ`O'#K`O?YQ`O'#HWO9kQ`O'#HYO!EuQ`O'#HYO:dQMhO'#H[O!EzQ`O'#H[OOQ[,5=p,5=pO!FPQ`O'#H]O!FbQ`O'#CoO!FgQ`O,59PO!FqQ`O,59PO!HvQlO,59POOQ[,59P,59PO!IWQ!0LrO,59PO%[QlO,59PO!KcQlO'#HeOOQ['#Hf'#HfOOQ['#Hg'#HgO`QlO,5=}O!KyQ`O,5=}O`QlO,5>TO`QlO,5>VO!LOQ`O,5>XO`QlO,5>ZO!LTQ`O,5>^O!LYQlO,5>dOOQ[,5>j,5>jO%[QlO,5>jO9uQ!0LrO,5>lOOQ[,5>n,5>nO#!dQ`O,5>nOOQ[,5>p,5>pO#!dQ`O,5>pOOQ[,5>r,5>rO##QQpO'#D_O%[QlO'#JvO##sQpO'#JvO##}QpO'#DmO#$`QpO'#DmO#&qQlO'#DmO#&xQ`O'#JuO#'QQ`O,5:WO#'VQ`O'#EtO#'eQ`O'#KUO#'mQ`O,5;_O#'rQpO'#DmO#(PQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#(WQ`O,5:oO?YQ`O,5;YO!CUQpO,5;YO!C^QMhO,5;YO:dQMhO,5;YO#(`Q`O,5@bO#(eQ07dO,5:sOOQO-E<f-E<fO#)kQ!0MSO,5;RODWQpO,5:rO#)uQpO,5:rODWQpO,5;RO!ByQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#*SQ!0LrO,5;RO#*_Q!0LrO,5;RO!CUQpO,5:rOOQO,5;X,5;XO#*mQ!0LrO,5;RPOOO'#I^'#I^P#+RO&2DjO,58|POOO,58|,58|OOOO-E<^-E<^OOQ!0Lh1G.p1G.pOOOO-E<_-E<_OOOO,59},59}O#+^Q!bO,59}OOOO-E<a-E<aOOQ!0Lf1G/g1G/gO#+cQ!fO,5?OO+}QlO,5?OOOQO,5?U,5?UO#+mQlO'#IdOOQO-E<b-E<bO#+zQ`O,5@`O#,SQ!fO,5@`O#,ZQ`O,5@nOOQ!0Lf1G/m1G/mO%[QlO,5@oO#,cQ`O'#IjOOQO-E<h-E<hO#,ZQ`O,5@nOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@lO#,wQ!0LrO,5@lO#-YQ!0LrO,5@lO#-aQ`O,5@kO9eQ`O,5@kO#-iQ`O,5@kO#-wQ`O'#ImO#-aQ`O,5@kOOQ!0Lb1G0w1G0wO!(tQpO,5:uO!)PQpO,5:uOOQS,5:w,5:wO#.iQdO,5:wO#.qQMhO1G2yO9kQ`O1G2yOOQ!0Lf1G0u1G0uO#/PQ!0MxO1G0uO#0UQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0rQ!0MzO'#JlO!$wQlO1G0uO#2}Q!fO'#JwO%[QlO'#JwO#3XQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#3^Q`O1G1OO#5rQ!0MxO1G1PO#5yQ!0MxO1G1PO#8aQ!0MxO1G1PO#8hQ!0MxO1G1PO#;OQ!0MxO1G1PO#=fQ!0MxO1G1PO#=mQ!0MxO1G1PO#=tQ!0MxO1G1PO#@[Q!0MxO1G1PO#@cQ!0MxO1G1PO#BpQ?MtO'#CiO#DkQ?MtO1G1`O#DrQ?MtO'#JsO#EVQ!0MxO,5?[OOQ!0Lb-E<n-E<nO#GdQ!0MxO1G1PO#HaQ!0MzO1G1POOQ!0Lf1G1P1G1PO#IdQMjO'#J|O#InQ`O,5:xO#IsQ!0MxO1G1cO#JgQ,UO,5<WO#JoQ,UO,5<XO#JwQ,UO'#FoO#K`Q`O'#FnOOQO'#KY'#KYOOQO'#In'#InO#KeQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#KvQ?MtO'#JrO#LQQ`O,5<bO!)[QlO,5<bOOOW-E<m-E<mOOQ!0Lf1G1l1G1lO#LVQpO'#KXOOQ!0Lf,5<d,5<dO#L_QpO,5<dO#LdQMhO'#DTOOOO'#Ib'#IbO#LkO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8lQ`O'#IrO#LvQ`O,5<zOOQ!0Lh,5<w,5<wO!,TQMhO'#IuO#MdQMjO,5=XO!,TQMhO'#IwO#NVQMjO,5=ZO!&zQMhO,5=]OOQO1G2S1G2SO#NaQ!dO'#CrO#NtQ(CWO'#ErO$ |QpO'#GbO$!dQ!dO,5<sO$!kQ`O'#K[O9eQ`O'#K[O$!yQ`O,5<uO$#aQ!dO'#C{O!,TQMhO,5<tO$#kQ`O'#GZO$$PQ`O,5<tO$$UQ!dO'#GWO$$cQ!dO'#K]O$$mQ`O'#K]O!&zQMhO'#K]O$$rQ`O,5<xO$$wQlO'#JvO$%RQpO'#GcO#$`QpO'#GcO$%dQ`O'#GgO!3oQ`O'#GkO$%iQ!0LrO'#ItO$%tQpO,5<|OOQ!0Lp,5<|,5<|O$%{QpO'#GcO$&YQpO'#GdO$&kQpO'#GdO$&pQMjO,5=XO$'QQMjO,5=ZOOQ!0Lh,5=^,5=^O!,TQMhO,5@VO!,TQMhO,5@VO$'bQ`O'#IyO$'vQ`O,5@UO$(OQ`O,59aOOQ!0Lh,59i,59iO$(TQ`O,5@VO$)TQ$IYO,59uOOQ!0Lh'#Jp'#JpO$)vQMjO,5<kO$*iQMjO,5<mO@zQ`O,5<oOOQ!0Lh,5<p,5<pO$*sQ`O,5<vO$*xQMjO,5<{O$+YQ`O'#KPO!$wQlO1G2RO$+_Q`O1G2RO9eQ`O'#KSO9eQ`O'#EtO%[QlO'#EtO9eQ`O'#I{O$+dQ!0LrO,5@{OOQ[1G2}1G2}OOQ[1G4`1G4`OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$-fQ!0MxO1G0UOOQ[1G2y1G2yO!&zQMhO1G2yO%[QlO1G2yO#.tQ`O1G2yO$/jQMhO'#EkOOQ!0Lb,5@T,5@TO$/wQ!0LrO,5@TOOQ[1G.u1G.uO!ByQ!0LrO1G.uO!CUQpO1G.uO!C^QMhO1G.uO$0YQ`O1G0uO$0_Q`O'#CiO$0jQ`O'#KeO$0rQ`O,5=|O$0wQ`O'#KeO$0|Q`O'#KeO$1[Q`O'#JRO$1jQ`O,5AOO$1rQ!fO1G1iOOQ!0Lf1G1k1G1kO9kQ`O1G3fO@zQ`O1G3fO$1yQ`O1G3fO$2OQ`O1G3fO!DiQ`O1G3fO9uQ!0LrO1G3fOOQ[1G3f1G3fO!EcQ`O1G3UO!&zQMhO1G3RO$2TQ`O1G3ROOQ[1G3S1G3SO!&zQMhO1G3SO$2YQ`O1G3SO$2bQpO'#HQOOQ[1G3U1G3UO!6_QpO'#I}O!EhQ!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$2jQMhO,5=tO9kQ`O,5=tO$%dQ`O,5=vO9`Q`O,5=vO!CUQpO,5=vO!C^QMhO,5=vO:dQMhO,5=vO$2xQ`O'#KcO$3TQ`O,5=wOOQ[1G.k1G.kO$3YQ!0LrO1G.kO@zQ`O1G.kO$3eQ`O1G.kO9uQ!0LrO1G.kO$5mQ!fO,5AQO$5zQ`O,5AQO9eQ`O,5AQO$6VQlO,5>PO$6^Q`O,5>POOQ[1G3i1G3iO`QlO1G3iOOQ[1G3o1G3oOOQ[1G3q1G3qO?TQ`O1G3sO$6cQlO1G3uO$:gQlO'#HtOOQ[1G3x1G3xO$:tQ`O'#HzO?YQ`O'#H|OOQ[1G4O1G4OO$:|QlO1G4OO9uQ!0LrO1G4UOOQ[1G4W1G4WOOQ!0Lb'#G_'#G_O9uQ!0LrO1G4YO9uQ!0LrO1G4[O$?TQ`O,5@bO!)[QlO,5;`O9eQ`O,5;`O?YQ`O,5:XO!)[QlO,5:XO!CUQpO,5:XO$?YQ?MtO,5:XOOQO,5;`,5;`O$?dQpO'#IeO$?zQ`O,5@aOOQ!0Lf1G/r1G/rO$@SQpO'#IkO$@^Q`O,5@pOOQ!0Lb1G0y1G0yO#$`QpO,5:XOOQO'#Ig'#IgO$@fQpO,5:qOOQ!0Ln,5:q,5:qO#(ZQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO?YQ`O1G0tO!CUQpO1G0tO!C^QMhO1G0tOOQ!0Lb1G5|1G5|O!ByQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$@mQ!0LrO1G0mO$@xQ!0LrO1G0mO!CUQpO1G0^ODWQpO1G0^O$AWQ!0LrO1G0mOOQO1G0^1G0^O$AlQ!0MxO1G0mPOOO-E<[-E<[POOO1G.h1G.hOOOO1G/i1G/iO$AvQ!bO,5<iO$BOQ!fO1G4jOOQO1G4p1G4pO%[QlO,5?OO$BYQ`O1G5zO$BbQ`O1G6YO$BjQ!fO1G6ZO9eQ`O,5?UO$BtQ!0MxO1G6WO%[QlO1G6WO$CUQ!0LrO1G6WO$CgQ`O1G6VO$CgQ`O1G6VO9eQ`O1G6VO$CoQ`O,5?XO9eQ`O,5?XOOQO,5?X,5?XO$DTQ`O,5?XO$+YQ`O,5?XOOQO-E<k-E<kOOQS1G0a1G0aOOQS1G0c1G0cO#.lQ`O1G0cOOQ[7+(e7+(eO!&zQMhO7+(eO%[QlO7+(eO$DcQ`O7+(eO$DnQMhO7+(eO$D|Q!0MzO,5=XO$GXQ!0MzO,5=ZO$IdQ!0MzO,5=XO$KuQ!0MzO,5=ZO$NWQ!0MzO,59uO%!]Q!0MzO,5<kO%$hQ!0MzO,5<mO%&sQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%)UQ!0MxO7+&aO%)xQlO'#IfO%*VQ`O,5@cO%*_Q!fO,5@cOOQ!0Lf1G0P1G0PO%*iQ`O7+&jOOQ!0Lf7+&j7+&jO%*nQ?MtO,5:fO%[QlO7+&zO%*xQ?MtO,5:bO%+VQ?MtO,5:jO%+aQ?MtO,5:lO%+kQMhO'#IiO%+uQ`O,5@hOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%+}Q!jO,5<ZO!)[QlO,5<YOOQO-E<l-E<lOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%,YQ`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%,_Q!dO,59oOOOO-E<`-E<`OOQ!0Lh1G/X1G/XO%,fQ!0MxO7+'kOOQ!0Lh,5?^,5?^O%-YQMhO1G2fP%-aQ`O'#IrPOQ!0Lh-E<p-E<pO%-}QMjO,5?aOOQ!0Lh-E<s-E<sO%.pQMjO,5?cOOQ!0Lh-E<u-E<uO%.zQ!dO1G2wO%/RQ!dO'#CrO%/iQMhO'#KSO$$wQlO'#JvOOQ!0Lh1G2_1G2_O%/sQ`O'#IqO%0[Q`O,5@vO%0[Q`O,5@vO%0dQ`O,5@vO%0oQ`O,5@vOOQO1G2a1G2aO%0}QMjO1G2`O$+YQ`O'#K[O!,TQMhO1G2`O%1_Q(CWO'#IsO%1lQ`O,5@wO!&zQMhO,5@wO%1tQ!dO,5@wOOQ!0Lh1G2d1G2dO%4UQ!fO'#CiO%4`Q`O,5=POOQ!0Lb,5<},5<}O%4hQpO,5<}OOQ!0Lb,5=O,5=OOCwQ`O,5<}O%4sQpO,5<}OOQ!0Lb,5=R,5=RO$+YQ`O,5=VOOQO,5?`,5?`OOQO-E<r-E<rOOQ!0Lp1G2h1G2hO#$`QpO,5<}O$$wQlO,5=PO%5RQ`O,5=OO%5^QpO,5=OO!,TQMhO'#IuO%6WQMjO1G2sO!,TQMhO'#IwO%6yQMjO1G2uO%7TQMjO1G5qO%7_QMjO1G5qOOQO,5?e,5?eOOQO-E<w-E<wOOQO1G.{1G.{O!,TQMhO1G5qO!,TQMhO1G5qO!:]QpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%7lQ`O1G2ZO!,TQMhO1G2bO%7qQ!0MxO7+'mOOQ!0Lf7+'m7+'mO!$wQlO7+'mO%8eQ`O,5;`OOQ!0Lb,5?g,5?gOOQ!0Lb-E<y-E<yO%8jQ!dO'#K^O#(ZQ`O7+(eO4UQ!fO7+(eO$DfQ`O7+(eO%8tQ!0MvO'#CiO%9XQ!0MvO,5=SO%9lQ`O,5=SO%9tQ`O,5=SOOQ!0Lb1G5o1G5oOOQ[7+$a7+$aO!ByQ!0LrO7+$aO!CUQpO7+$aO!$wQlO7+&aO%9yQ`O'#JQO%:bQ`O,5APOOQO1G3h1G3hO9kQ`O,5APO%:bQ`O,5APO%:jQ`O,5APOOQO,5?m,5?mOOQO-E=P-E=POOQ!0Lf7+'T7+'TO%:oQ`O7+)QO9uQ!0LrO7+)QO9kQ`O7+)QO@zQ`O7+)QO%:tQ`O7+)QOOQ[7+)Q7+)QOOQ[7+(p7+(pO%:yQ!0MvO7+(mO!&zQMhO7+(mO!E^Q`O7+(nOOQ[7+(n7+(nO!&zQMhO7+(nO%;TQ`O'#KbO%;`Q`O,5=lOOQO,5?i,5?iOOQO-E<{-E<{OOQ[7+(s7+(sO%<rQpO'#HZOOQ[1G3`1G3`O!&zQMhO1G3`O%[QlO1G3`O%<yQ`O1G3`O%=UQMhO1G3`O9uQ!0LrO1G3bO$%dQ`O1G3bO9`Q`O1G3bO!CUQpO1G3bO!C^QMhO1G3bO%=dQ`O'#JPO%=xQ`O,5@}O%>QQpO,5@}OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@zQ`O7+$VO9uQ!0LrO7+$VO%>]Q`O7+$VO%[QlO1G6lO%[QlO1G6mO%>bQ!0LrO1G6lO%>lQlO1G3kO%>sQ`O1G3kO%>xQlO1G3kOOQ[7+)T7+)TO9uQ!0LrO7+)_O`QlO7+)aOOQ['#Kh'#KhOOQ['#JS'#JSO%?PQlO,5>`OOQ[,5>`,5>`O%[QlO'#HuO%?^Q`O'#HwOOQ[,5>f,5>fO9eQ`O,5>fOOQ[,5>h,5>hOOQ[7+)j7+)jOOQ[7+)p7+)pOOQ[7+)t7+)tOOQ[7+)v7+)vO%?cQpO1G5|O%?}Q?MtO1G0zO%@XQ`O1G0zOOQO1G/s1G/sO%@dQ?MtO1G/sO?YQ`O1G/sO!)[QlO'#DmOOQO,5?P,5?POOQO-E<c-E<cOOQO,5?V,5?VOOQO-E<i-E<iO!CUQpO1G/sOOQO-E<e-E<eOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#(ZQ`O7+%uOOQ!0Lf7+&`7+&`O?YQ`O7+&`O!CUQpO7+&`OOQO7+%x7+%xO$AlQ!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%@nQ!0LrO7+&XO!ByQ!0LrO7+%xO!CUQpO7+%xO%@yQ!0LrO7+&XO%AXQ!0MxO7++rO%[QlO7++rO%AiQ`O7++qO%AiQ`O7++qOOQO1G4s1G4sO9eQ`O1G4sO%AqQ`O1G4sOOQS7+%}7+%}O#(ZQ`O<<LPO4UQ!fO<<LPO%BPQ`O<<LPOOQ[<<LP<<LPO!&zQMhO<<LPO%[QlO<<LPO%BXQ`O<<LPO%BdQ!0MzO,5?aO%DoQ!0MzO,5?cO%FzQ!0MzO1G2`O%I]Q!0MzO1G2sO%KhQ!0MzO1G2uO%MsQ!fO,5?QO%[QlO,5?QOOQO-E<d-E<dO%M}Q`O1G5}OOQ!0Lf<<JU<<JUO%NVQ?MtO1G0uO&!^Q?MtO1G1PO&!eQ?MtO1G1PO&$fQ?MtO1G1PO&$mQ?MtO1G1PO&&nQ?MtO1G1PO&(oQ?MtO1G1PO&(vQ?MtO1G1PO&(}Q?MtO1G1PO&+OQ?MtO1G1PO&+VQ?MtO1G1PO&+^Q!0MxO<<JfO&-UQ?MtO1G1PO&.RQ?MvO1G1PO&/UQ?MvO'#JlO&1[Q?MtO1G1cO&1iQ?MtO1G0UO&1sQMjO,5?TOOQO-E<g-E<gO!)[QlO'#FqOOQO'#KZ'#KZOOQO1G1u1G1uO&1}Q`O1G1tO&2SQ?MtO,5?[OOOW7+'h7+'hOOOO1G/Z1G/ZO&2^Q!dO1G4xOOQ!0Lh7+(Q7+(QP!&zQMhO,5?^O!,TQMhO7+(cO&2eQ`O,5?]O9eQ`O,5?]O$+YQ`O,5?]OOQO-E<o-E<oO&2sQ`O1G6bO&2sQ`O1G6bO&2{Q`O1G6bO&3WQMjO7+'zO&3hQ!dO,5?_O&3rQ`O,5?_O!&zQMhO,5?_OOQO-E<q-E<qO&3wQ!dO1G6cO&4RQ`O1G6cO&4ZQ`O1G2kO!&zQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%4hQpO1G2iO!CUQpO1G2iOCwQ`O1G2iOOQ!0Lb1G2q1G2qO&4`QpO1G2iO&4nQ`O1G2kO$+YQ`O1G2jOCwQ`O1G2jO$$wQlO1G2kO&4vQ`O1G2jO&5jQMjO,5?aOOQ!0Lh-E<t-E<tO&6]QMjO,5?cOOQ!0Lh-E<v-E<vO!,TQMhO7++]O&6gQMjO7++]O&6qQMjO7++]OOQ!0Lh1G/c1G/cO&7OQ`O1G/cOOQ!0Lh7+'u7+'uO&7TQMjO7+'|O&7eQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&8XQ`O1G0zO!&zQMhO'#IzO&8^Q`O,5@xO&:`Q!fO<<LPO!&zQMhO1G2nO&:gQ!0LrO1G2nOOQ[<<G{<<G{O!ByQ!0LrO<<G{O&:xQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?l,5?lO&;lQ`O,5?lO&;qQ`O,5?lOOQO-E=O-E=OO&<PQ`O1G6kO&<PQ`O1G6kO9kQ`O1G6kO@zQ`O<<LlOOQ[<<Ll<<LlO&<XQ`O<<LlO9uQ!0LrO<<LlO9kQ`O<<LlOOQ[<<LX<<LXO%:yQ!0MvO<<LXOOQ[<<LY<<LYO!E^Q`O<<LYO&<^QpO'#I|O&<iQ`O,5@|O!)[QlO,5@|OOQ[1G3W1G3WOOQO'#JO'#JOO9uQ!0LrO'#JOO&<qQpO,5=uOOQ[,5=u,5=uO&<xQpO'#EgO&=PQpO'#GeO&=UQ`O7+(zO&=ZQ`O7+(zOOQ[7+(z7+(zO!&zQMhO7+(zO%[QlO7+(zO&=cQ`O7+(zOOQ[7+(|7+(|O9uQ!0LrO7+(|O$%dQ`O7+(|O9`Q`O7+(|O!CUQpO7+(|O&=nQ`O,5?kOOQO-E<}-E<}OOQO'#H^'#H^O&=yQ`O1G6iO9uQ!0LrO<<GqOOQ[<<Gq<<GqO@zQ`O<<GqO&>RQ`O7+,WO&>WQ`O7+,XO%[QlO7+,WO%[QlO7+,XOOQ[7+)V7+)VO&>]Q`O7+)VO&>bQlO7+)VO&>iQ`O7+)VOOQ[<<Ly<<LyOOQ[<<L{<<L{OOQ[-E=Q-E=QOOQ[1G3z1G3zO&>nQ`O,5>aOOQ[,5>c,5>cO&>sQ`O1G4QO9eQ`O7+&fO!)[QlO7+&fOOQO7+%_7+%_O&>xQ?MtO1G6ZO?YQ`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO?YQ`O<<IzOOQO<<Is<<IsO$AlQ!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!ByQ!0LrO<<IdO&?SQ!0LrO<<IsO&?_Q!0MxO<= ^O&?oQ`O<= ]OOQO7+*_7+*_O9eQ`O7+*_OOQ[ANAkANAkO&?wQ!fOANAkO!&zQMhOANAkO#(ZQ`OANAkO4UQ!fOANAkO&@OQ`OANAkO%[QlOANAkO&@WQ!0MzO7+'zO&BiQ!0MzO,5?aO&DtQ!0MzO,5?cO&GPQ!0MzO7+'|O&IbQ!fO1G4lO&IlQ?MtO7+&aO&KpQ?MvO,5=XO&MwQ?MvO,5=ZO&NXQ?MvO,5=XO&NiQ?MvO,5=ZO&NyQ?MvO,59uO'#PQ?MvO,5<kO'%SQ?MvO,5<mO''hQ?MvO,5<{O')^Q?MtO7+'kO')kQ?MtO7+'mO')xQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*d7+*dO')}QMjO<<K}OOQO1G4w1G4wO'*UQ`O1G4wO'*aQ`O1G4wO'*oQ`O7++|O'*oQ`O7++|O!&zQMhO1G4yO'*wQ!dO1G4yO'+RQ`O7++}O'+ZQ`O7+(VO'+fQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!CUQpO7+(TOCwQ`O7+(TO'+pQ`O7+(VO!&zQMhO7+(VO$+YQ`O7+(UO'+uQ`O7+(VOCwQ`O7+(UO'+}QMjO<<NwO!,TQMhO<<NwOOQ!0Lh7+$}7+$}O',XQ!dO,5?fOOQO-E<x-E<xO',cQ!0MvO7+(YO!&zQMhO7+(YOOQ[AN=gAN=gO9kQ`O1G5WOOQO1G5W1G5WO',sQ`O1G5WO',xQ`O7+,VO',xQ`O7+,VO9uQ!0LrOANBWO@zQ`OANBWOOQ[ANBWANBWO'-QQ`OANBWOOQ[ANAsANAsOOQ[ANAtANAtO'-VQ`O,5?hOOQO-E<z-E<zO'-bQ?MtO1G6hOOQO,5?j,5?jOOQO-E<|-E<|OOQ[1G3a1G3aO'-lQ`O,5=POOQ[<<Lf<<LfO!&zQMhO<<LfO&=UQ`O<<LfO'-qQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9uQ!0LrO<<LhO$%dQ`O<<LhO9`Q`O<<LhO'-yQpO1G5VO'.UQ`O7+,TOOQ[AN=]AN=]O9uQ!0LrOAN=]OOQ[<= r<= rOOQ[<= s<= sO'.^Q`O<= rO'.cQ`O<= sOOQ[<<Lq<<LqO'.hQ`O<<LqO'.mQlO<<LqOOQ[1G3{1G3{O?YQ`O7+)lO'.tQ`O<<JQO'/PQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$AlQ!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<My<<MyOOQ[G27VG27VO!&zQMhOG27VO#(ZQ`OG27VO'/ZQ!fOG27VO4UQ!fOG27VO'/bQ`OG27VO'/jQ?MtO<<JfO'/wQ?MvO1G2`O'1mQ?MvO,5?aO'3pQ?MvO,5?cO'5sQ?MvO1G2sO'7vQ?MvO1G2uO'9yQ?MtO<<KXO':WQ?MtO<<I{OOQO1G1w1G1wO!,TQMhOANAiOOQO7+*c7+*cO':eQ`O7+*cO':pQ`O<= hO':xQ!dO7+*eOOQ!0Lb<<Kq<<KqO$+YQ`O<<KqOCwQ`O<<KqO';SQ`O<<KqO!&zQMhO<<KqOOQ!0Lb<<Ko<<KoO!CUQpO<<KoO';_Q!dO<<KqOOQ!0Lb<<Kp<<KpO';iQ`O<<KqO!&zQMhO<<KqO$+YQ`O<<KpO';nQMjOANDcO';xQ!0MvO<<KtOOQO7+*r7+*rO9kQ`O7+*rO'<YQ`O<= qOOQ[G27rG27rO9uQ!0LrOG27rO@zQ`OG27rO!)[QlO1G5SO'<bQ`O7+,SO'<jQ`O1G2kO&=UQ`OANBQOOQ[ANBQANBQO!&zQMhOANBQO'<oQ`OANBQOOQ[ANBSANBSO9uQ!0LrOANBSO$%dQ`OANBSOOQO'#H_'#H_OOQO7+*q7+*qOOQ[G22wG22wOOQ[ANE^ANE^OOQ[ANE_ANE_OOQ[ANB]ANB]O'<wQ`OANB]OOQ[<<MW<<MWO!)[QlOAN?lOOQOG24yG24yO$AlQ!0MxOG24yO#(ZQ`OLD,qOOQ[LD,qLD,qO!&zQMhOLD,qO'<|Q!fOLD,qO'=TQ?MvO7+'zO'>yQ?MvO,5?aO'@|Q?MvO,5?cO'CPQ?MvO7+'|O'DuQMjOG27TOOQO<<M}<<M}OOQ!0LbANA]ANA]O$+YQ`OANA]OCwQ`OANA]O'EVQ!dOANA]OOQ!0LbANAZANAZO'E^Q`OANA]O!&zQMhOANA]O'EiQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N^<<N^OOQ[LD-^LD-^O9uQ!0LrOLD-^O'EsQ?MtO7+*nOOQO'#Gf'#GfOOQ[G27lG27lO&=UQ`OG27lO!&zQMhOG27lOOQ[G27nG27nO9uQ!0LrOG27nOOQ[G27wG27wO'E}Q?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#(ZQ`O!$(!]O!&zQMhO!$(!]O'FXQ!0MzOG27TOOQ!0LbG26wG26wO$+YQ`OG26wO'HjQ`OG26wOCwQ`OG26wO'HuQ!dOG26wO!&zQMhOG26wOOQ[!$(!x!$(!xOOQ[LD-WLD-WO&=UQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#(ZQ`O!)9EwOOQ!0LbLD,cLD,cO$+YQ`OLD,cOCwQ`OLD,cO'H|Q`OLD,cO'IXQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'I`Q?MvOG27TOOQ!0Lb!$( }!$( }O$+YQ`O!$( }OCwQ`O!$( }O'KUQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$+YQ`O!)9EiOCwQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$+YQ`O!.K;TOOQ!0Lb!4/0o!4/0oO!)[QlO'#DzO1PQ`O'#EXO'KaQ!fO'#JrO'KhQ!L^O'#DvO'KoQlO'#EOO'KvQ!fO'#CiO'N^Q!fO'#CiO!)[QlO'#EQO'NnQlO,5;ZO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO'#IpO(!qQ`O,5<iO!)[QlO,5;eO(!yQMhO,5;eO($dQMhO,5;eO!)[QlO,5;wO!&zQMhO'#GmO(!yQMhO'#GmO!&zQMhO'#GoO(!yQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&zQMhO'#GPO(!yQMhO'#GPO!&zQMhO'#GRO(!yQMhO'#GRO!&zQMhO'#GaO(!yQMhO'#GaO!)[QlO,5:jO($kQpO'#D_O($uQpO'#JvO!)[QlO,5@oO'NnQlO1G0uO(%PQ?MtO'#CiO!)[QlO1G2PO!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO(%ZQ!dO'#CrO!&zQMhO,5<tO(!yQMhO,5<tO'NnQlO1G2RO!)[QlO7+&zO!&zQMhO1G2`O(!yQMhO1G2`O!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO!&zQMhO1G2bO(!yQMhO1G2bO'NnQlO7+'mO'NnQlO7+&aO!&zQMhOANAiO(!yQMhOANAiO(%nQ`O'#EoO(%sQ`O'#EoO(%{Q`O'#F]O(&QQ`O'#EyO(&VQ`O'#KTO(&bQ`O'#KRO(&mQ`O,5;ZO(&rQMjO,5<eO(&yQ`O'#GYO('OQ`O'#GYO('TQ`O,5<eO(']Q`O,5<gO('eQ`O,5;ZO('mQ?MtO1G1`O('tQ`O,5<tO('yQ`O,5<tO((OQ`O,5<vO((TQ`O,5<vO((YQ`O1G2RO((_Q`O1G0uO((dQMjO<<K}O((kQMjO<<K}O((rQMhO'#F|O9`Q`O'#F{OAuQ`O'#EnO!)[QlO,5;tO!3oQ`O'#GYO!3oQ`O'#GYO!3oQ`O'#G[O!3oQ`O'#G[O!,TQMhO7+(cO!,TQMhO7+(cO%.zQ!dO1G2wO%.zQ!dO1G2wO!&zQMhO,5=]O!&zQMhO,5=]",stateData:"()x~O'|OS'}OSTOS(ORQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&W!WO&^!XO&`!YO&b!ZO&d![O&g!]O&m!^O&s!_O&u!`O&w!aO&y!bO&{!cO(TSO(VTO(YUO(aVO(o[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O(O!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'z]X(a]X(r]X(y]X(z]X~O!g%RX~P(qO_!}O(V#PO(W!}O(X#PO~O_#QO(X#PO(Y#PO(Z#QO~Ox#SO!U#TO(b#TO(c#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T<ZO(VTO(YUO(aVO(o[O~O![#ZO!]#WO!Y(hP!Y(vP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(VTO(YUO(aVO(o[O~Op#mO![#iO!|]O#i#lO#j#iO(T<[O!k(sP~P.iO!l#oO(T#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa(fX'z(fX'w(fX!k(fX!Y(fX!_(fX%i(fX!g(fX~P1qO#S$dO#`$eO$Q$eOP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX!_(gX%i(gX~Oa(gX'z(gX'w(gX!Y(gX!k(gXv(gX!g(gX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%dOk%dOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T$sO(VTO(YUO(a$uO(y$}O(z%POg(^P~Ol%[O~P7eO!l%eO~O!S%hO!_%iO(T%gO~O!g%mO~Oa%nO'z%nO~O!Q%rO~P%[O(U!lO~P%[O%n%vO~P%[Oh%VO!l%eO(T%gO(U!lO~Oe%}O!l%eO(T%gO~Oj$RO~O!_&PO(T%gO(U!lO(VTO(YUO`)WP~O!Q&SO!l&RO%j&VO&T&WO~P;SO!x#sO~O%s&YO!S)SX!_)SX(T)SX~O(T&ZO~Ol!PO!u&`O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&eOe&dO!x&bO%h&cO%{&aO~P<bOd&hOeyOl!PO!_&gO!u&`O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&kO#`&nO%j&iO(U!lO~P=gO!l&oO!u&sO~O!l#oO~O!_XO~Oa%nO'x&{O'z%nO~Oa%nO'x'OO'z%nO~Oa%nO'x'QO'z%nO~O'w]X!Y]Xv]X!k]X&[]X!_]X%i]X!g]X~P(qO!b'_O!c'WO!d'WO(U!lO(VTO(YUO~Os'UO!S'TO!['XO(e'SO!^(iP!^(xP~P@nOn'bO!_'`O(T%gO~Oe'gO!l%eO(T%gO~O!Q&SO!l&RO~Os!nO!S!oO!|<VO#T!pO#U!pO#W!pO#X!pO(U!lO(VTO(YUO(e!mO(o!sO~O!b'mO!c'lO!d'lO#V!pO#['nO#]'nO~PBYOa%nOh%VO!g#vO!l%eO'z%nO(r'pO~O!p'tO#`'rO~PChOs!nO!S!oO(VTO(YUO(e!mO(o!sO~O!_XOs(mX!S(mX!b(mX!c(mX!d(mX!|(mX#T(mX#U(mX#V(mX#W(mX#X(mX#[(mX#](mX(U(mX(V(mX(Y(mX(e(mX(o(mX~O!c'lO!d'lO(U!lO~PDWO(P'xO(Q'xO(R'zO~O_!}O(V'|O(W!}O(X'|O~O_#QO(X'|O(Y'|O(Z#QO~Ov(OO~P%[Ox#SO!U#TO(b#TO(c(RO~O![(TO!Y'WX!Y'^X!]'WX!]'^X~P+}O!](VO!Y(hX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](VO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~O!Y(hX~PHRO!Y([O~O!Y(uX!](uX!g(uX!k(uX(r(uX~O#`(uX#k#dX!^(uX~PJUO#`(]O!Y(wX!](wX~O!](^O!Y(vX~O!Y(aO~O#`$eO~PJUO!^(bO~P`OR#zO!Q#yO!S#{O!l#xO(aVOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(r!na(y!na(z!na~Oa!na'z!na'w!na!Y!na!k!nav!na!_!na%i!na!g!na~PKlO!k(cO~O!g#vO#`(dO(r'pO!](tXa(tX'z(tX~O!k(tX~PNXO!S%hO!_%iO!|]O#i(iO#j(hO(T%gO~O!](jO!k(sX~O!k(lO~O!S%hO!_%iO#j(hO(T%gO~OP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~O!g#vO!k(gX~P! uOR(nO!Q(mO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(T!{a~P!#vO!x(rO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~O#k(xO~O![(zO!k(kP~P%[O(e(|O(o[O~O!S)OO!l#xO(e(|O(o[O~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]$_Oa$qa'z$qa'w$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)dO~P!&zOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Og(pP~P!,TO!Q)iO!g)hO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)hO!_({X$Z({X$]({X$_({X$f({X~O!Q)iO~P!.^O!Q)iO!_({X$Z({X$]({X$_({X$f({X~O!_)kO$Z)oO$])jO$_)jO$f)pO~O![)sO~P!)[O$]$hO$_$gO$f)wO~On$zX!Q$zX#S$zX'y$zX(y$zX(z$zX~OgmXg$zXnmX!]mX#`mX~P!0SOx)yO(b)zO(c)|O~On*VO!Q*OO'y*PO(y$}O(z%PO~Og)}O~P!1WOg*WO~Oh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S*YO!_*ZO!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op*`O![*^O(T*XO!k)OP~P!1uO#k*aO~O!l*bO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T*dO(VTO(YUO(a$uO(y$}O(z%PO~O![*gO!Y)PP~P!3tOr*sOs!nO!S*iO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO(e!mO~O!^*pO~P!5iO#S$dOn(`X!Q(`X'y(`X(y(`X(z(`X!](`X#`(`X~Og(`X$O(`X~P!6kOn*xO#`*wOg(_X!](_X~O!]*yOg(^X~Oj%dOk%dOl%dO(T&ZOg(^P~Os*|O~Og)}O(T&ZO~O!l+SO~O(T(vO~Op+WO!S%hO![#iO!_%iO!|]O#i#lO#j#iO(T%gO!k(sP~O!g#vO#k+XO~O!S%hO![+ZO!](^O!_%iO(T%gO!Y(vP~Os'[O!S+]O![+[O(VTO(YUO(e(|O~O!^(xP~P!9|O!]+^Oa)TX'z)TX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa!ja!]!ja'z!ja'w!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:tOR#zO!Q#yO!S#{O!l#xO(aVOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(r!ra(y!ra(z!ra~Oa!ra'z!ra'w!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!=[OR#zO!Q#yO!S#{O!l#xO(aVOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(r!ta(y!ta(z!ta~Oa!ta'z!ta'w!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?rOh%VOn+gO!_'`O%i+fO~O!g+iOa(]X!_(]X'z(]X!](]X~Oa%nO!_XO'z%nO~Oh%VO!l%eO~Oh%VO!l%eO(T%gO~O!g#vO#k(xO~Ob+tO%j+uO(T+qO(VTO(YUO!^)XP~O!]+vO`)WX~O[+zO~O`+{O~O!_&PO(T%gO(U!lO`)WP~O%j,OO~P;SOh%VO#`,SO~Oh%VOn,VO!_$|O~O!_,XO~O!Q,ZO!_XO~O%n%vO~O!x,`O~Oe,eO~Ob,fO(T#nO(VTO(YUO!^)VP~Oe%}O~O%j!QO(T&ZO~P=gO[,kO`,jO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(VTO(YUO(aVO(o[O~O!_!eO!u!gO$W!kO(T!dO~P!FyO`,jOa%nO'z%nO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa,pOl!OO!uwO%l!OO%m!OO%n!OO~P!IcO!l&oO~O&^,vO~O!_,xO~O&o,zO&q,{OP&laQ&laS&laY&laa&lad&lae&lal&lap&lar&las&lat&laz&la|&la!O&la!S&la!W&la!X&la!_&la!i&la!l&la!o&la!p&la!q&la!s&la!u&la!x&la!|&la$W&la$n&la%h&la%j&la%l&la%m&la%n&la%q&la%s&la%v&la%w&la%y&la&W&la&^&la&`&la&b&la&d&la&g&la&m&la&s&la&u&la&w&la&y&la&{&la'w&la(T&la(V&la(Y&la(a&la(o&la!^&la&e&lab&la&j&la~O(T-QO~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P#!iO!g-VO#`-UOh(jX!]#hX!^#hX!g(jX!l(jX~O!](jX!^(jX~P##[Oh%VO!g-XO!l%eO!]!aX!^!aX~Os!nO!S!oO(VTO(YUO(e!mO~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(VTO(YUO(aVO(o[O~O(T=QO~P#$qO!]-]O!^(iX~O!^-_O~O!g-VO#`-UO!]#hX!^#hX~O!]-`O!^(xX~O!^-bO~O!c-cO!d-cO(U!lO~P#$`O!^-fO~P'_On-iO!_'`O~O!Y-nO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(U!{a(V!{a(Y!{a(e!{a(o!{a~P!#vO!p-sO#`-qO~PChO!c-uO!d-uO(U!lO~PDWOa%nO#`-qO'z%nO~Oa%nO!g#vO#`-qO'z%nO~Oa%nO!g#vO!p-sO#`-qO'z%nO(r'pO~O(P'xO(Q'xO(R-zO~Ov-{O~O!Y'Wa!]'Wa~P!:tO![.PO!Y'WX!]'WX~P%[O!](VO!Y(ha~O!Y(ha~PHRO!](^O!Y(va~O!S%hO![.TO!_%iO(T%gO!Y'^X!]'^X~O#`.VO!](ta!k(taa(ta'z(ta~O!g#vO~P#,wO!](jO!k(sa~O!S%hO!_%iO#j.ZO(T%gO~Op.`O!S%hO![.]O!_%iO!|]O#i._O#j.]O(T%gO!]'aX!k'aX~OR.dO!l#xO~Oh%VOn.gO!_'`O%i.fO~Oa#ci!]#ci'z#ci'w#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:tOn>]O!Q*OO'y*PO(y$}O(z%PO~O#k#_aa#_a#`#_a'z#_a!]#_a!k#_a!_#_a!Y#_a~P#/sO#k(`XP(`XR(`X[(`Xa(`Xj(`Xr(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X'z(`X(a(`X(r(`X!k(`X!Y(`X'w(`Xv(`X!_(`X%i(`X!g(`X~P!6kO!].tO!k(kX~P!:tO!k.wO~O!Y.yO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#3cO#n$OO~P#3cOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#6QO#r$QO~P#6QOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(aVOa#mi!]#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(aVO(z#}Oa#mi!]#mi#z#mi#{#mi'z#mi(r#mi(y#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#;VO#x#mi~P#;VO#v$SO~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(aVO(y#|O(z#}Oa#mi!]#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#={O#z$WO~P#={OP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X!]]X!^]X~O$O]X~P#@jOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO#z<gO#{<hO(aVO(r$YO(y#|O(z#}O~O$O.{O~P#BwO#S$dO#`<nO$Q<nO$O(gX!^(gX~P! uOa'da!]'da'z'da'w'da!k'da!Y'dav'da!_'da%i'da!g'da~P!:tO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO(y#mi(z#mi~P#EyOn>]O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P#EyO!]/POg(pX~P!1WOg/RO~Oa$Pi!]$Pi'z$Pi'w$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:tO$]/SO$_/SO~O$]/TO$_/TO~O!g)hO#`/UO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/VO~O!_)kO$Z/XO$])jO$_)jO$f/YO~O!]<iO!^(fX~P#BwO!^/ZO~O!g)hO$f({X~O$f/]O~Ov/^O~P!&zOx)yO(b)zO(c/aO~O!S/dO~O(y$}On%aa!Q%aa'y%aa(z%aa!]%aa#`%aa~Og%aa$O%aa~P#L{O(z%POn%ca!Q%ca'y%ca(y%ca!]%ca#`%ca~Og%ca$O%ca~P#MnO!]fX!gfX!kfX!k$zX(rfX~P!0SOp%WO![/mO!](^O(T/lO!Y(vP!Y)PP~P!1uOr*sO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO~Os<}O!S/nO![+[O!^*pO(e<|O!^(xP~P$ [O!k/oO~P#/sO!]/pO!g#vO(r'pO!k)OX~O!k/uO~OnoX!QoX'yoX(yoX(zoX~O!g#vO!koX~P$#OOp/wO!S%hO![*^O!_%iO(T%gO!k)OP~O#k/xO~O!Y$zX!]$zX!g%RX~P!0SO!]/yO!Y)PX~P#/sO!g/{O~O!Y/}O~OpkO(T0OO~P.iOh%VOr0TO!g#vO!l%eO(r'pO~O!g+iO~Oa%nO!]0XO'z%nO~O!^0ZO~P!5iO!c0[O!d0[O(U!lO~P#$`Os!nO!S0]O(VTO(YUO(e!mO~O#[0_O~Og%aa!]%aa#`%aa$O%aa~P!1WOg%ca!]%ca#`%ca$O%ca~P!1WOj%dOk%dOl%dO(T&ZOg'mX!]'mX~O!]*yOg(^a~Og0hO~On0jO#`0iOg(_a!](_a~OR0kO!Q0kO!S0lO#S$dOn}a'y}a(y}a(z}a!]}a#`}a~Og}a$O}a~P$(cO!Q*OO'y*POn$sa(y$sa(z$sa!]$sa#`$sa~Og$sa$O$sa~P$)_O!Q*OO'y*POn$ua(y$ua(z$ua!]$ua#`$ua~Og$ua$O$ua~P$*QO#k0oO~Og%Ta!]%Ta#`%Ta$O%Ta~P!1WO!g#vO~O#k0rO~O!]+^Oa)Ta'z)Ta~OR#zO!Q#yO!S#{O!l#xO(aVOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(r!ri(y!ri(z!ri~Oa!ri'z!ri'w!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$+oOh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op0{O%]0|O(T0zO~P$.VO!g+iOa(]a!_(]a'z(]a!](]a~O#k1SO~O[]X!]fX!^fX~O!]1TO!^)XX~O!^1VO~O[1WO~Ob1YO(T+qO(VTO(YUO~O!_&PO(T%gO`'uX!]'uX~O!]+vO`)Wa~O!k1]O~P!:tO[1`O~O`1aO~O#`1fO~On1iO!_$|O~O(e(|O!^)UP~Oh%VOn1rO!_1oO%i1qO~O[1|O!]1zO!^)VX~O!^1}O~O`2POa%nO'z%nO~O(T#nO(VTO(YUO~O#S$dO#`$eO$Q$eOP(gXR(gX[(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~Oj2SO&[2TOa(gX~P$3pOj2SO#`$eO&[2TO~Oa2VO~P%[Oa2XO~O&e2[OP&ciQ&ciS&ciY&cia&cid&cie&cil&cip&cir&cis&cit&ciz&ci|&ci!O&ci!S&ci!W&ci!X&ci!_&ci!i&ci!l&ci!o&ci!p&ci!q&ci!s&ci!u&ci!x&ci!|&ci$W&ci$n&ci%h&ci%j&ci%l&ci%m&ci%n&ci%q&ci%s&ci%v&ci%w&ci%y&ci&W&ci&^&ci&`&ci&b&ci&d&ci&g&ci&m&ci&s&ci&u&ci&w&ci&y&ci&{&ci'w&ci(T&ci(V&ci(Y&ci(a&ci(o&ci!^&cib&ci&j&ci~Ob2bO!^2`O&j2aO~P`O!_XO!l2dO~O&q,{OP&liQ&liS&liY&lia&lid&lie&lil&lip&lir&lis&lit&liz&li|&li!O&li!S&li!W&li!X&li!_&li!i&li!l&li!o&li!p&li!q&li!s&li!u&li!x&li!|&li$W&li$n&li%h&li%j&li%l&li%m&li%n&li%q&li%s&li%v&li%w&li%y&li&W&li&^&li&`&li&b&li&d&li&g&li&m&li&s&li&u&li&w&li&y&li&{&li'w&li(T&li(V&li(Y&li(a&li(o&li!^&li&e&lib&li&j&li~O!Y2jO~O!]!aa!^!aa~P#BwOs!nO!S!oO![2pO(e!mO!]'XX!^'XX~P@nO!]-]O!^(ia~O!]'_X!^'_X~P!9|O!]-`O!^(xa~O!^2wO~P'_Oa%nO#`3QO'z%nO~Oa%nO!g#vO#`3QO'z%nO~Oa%nO!g#vO!p3UO#`3QO'z%nO(r'pO~Oa%nO'z%nO~P!:tO!]$_Ov$qa~O!Y'Wi!]'Wi~P!:tO!](VO!Y(hi~O!](^O!Y(vi~O!Y(wi!](wi~P!:tO!](ti!k(tia(ti'z(ti~P!:tO#`3WO!](ti!k(tia(ti'z(ti~O!](jO!k(si~O!S%hO!_%iO!|]O#i3]O#j3[O(T%gO~O!S%hO!_%iO#j3[O(T%gO~On3dO!_'`O%i3cO~Oh%VOn3dO!_'`O%i3cO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aav%aa!_%aa%i%aa!g%aa~P#L{O#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%cav%ca!_%ca%i%ca!g%ca~P#MnO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/sO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/sO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'z}a(a}a(r}a!k}a!Y}a'w}av}a!_}a%i}a!g}a~P$(cO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'z$sa(a$sa(r$sa!k$sa!Y$sa'w$sav$sa!_$sa%i$sa!g$sa~P$)_O#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'z$ua(a$ua(r$ua!k$ua!Y$ua'w$uav$ua!_$ua%i$ua!g$ua~P$*QO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'z%Ta(a%Ta(r%Ta!k%Ta!Y%Ta'w%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/sOa#cq!]#cq'z#cq'w#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:tO![3lO!]'YX!k'YX~P%[O!].tO!k(ka~O!].tO!k(ka~P!:tO!Y3oO~O$O!na!^!na~PKlO$O!ja!]!ja!^!ja~P#BwO$O!ra!^!ra~P!=[O$O!ta!^!ta~P!?rOg']X!]']X~P!,TO!]/POg(pa~OSfO!_4TO$d4UO~O!^4YO~Ov4ZO~P#/sOa$mq!]$mq'z$mq'w$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:tO!Y4]O~P!&zO!S4^O~O!Q*OO'y*PO(z%POn'ia(y'ia!]'ia#`'ia~Og'ia$O'ia~P%-fO!Q*OO'y*POn'ka(y'ka(z'ka!]'ka#`'ka~Og'ka$O'ka~P%.XO(r$YO~P#/sO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!0SOp%WO(T=WO~P!1uOp4bO!S%hO![4aO!_%iO(T%gO!]'eX!k'eX~O!]/pO!k)Oa~O!]/pO!g#vO!k)Oa~O!]/pO!g#vO(r'pO!k)Oa~Og$|i!]$|i#`$|i$O$|i~P!1WO![4jO!Y'gX!]'gX~P!3tO!]/yO!Y)Pa~O!]/yO!Y)Pa~P#/sOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~Oj%YX!g%YX~P%2OOj4oO!g#vO~Oh%VO!g#vO!l%eO~Oh%VOr4tO!l%eO(r'pO~Or4yO!g#vO(r'pO~Os!nO!S4zO(VTO(YUO(e!mO~O(y$}On%ai!Q%ai'y%ai(z%ai!]%ai#`%ai~Og%ai$O%ai~P%5oO(z%POn%ci!Q%ci'y%ci(y%ci!]%ci#`%ci~Og%ci$O%ci~P%6bOg(_i!](_i~P!1WO#`5QOg(_i!](_i~P!1WO!k5VO~Oa$oq!]$oq'z$oq'w$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:tO!Y5ZO~O!]5[O!_)QX~P#/sOa$zX!_$zX%^]X'z$zX!]$zX~P!0SO%^5_OaoX!_oX'zoX!]oX~P$#OOp5`O(T#nO~O%^5_O~Ob5fO%j5gO(T+qO(VTO(YUO!]'tX!^'tX~O!]1TO!^)Xa~O[5kO~O`5lO~O[5pO~Oa%nO'z%nO~P#/sO!]5uO#`5wO!^)UX~O!^5xO~Or6OOs!nO!S*iO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!pO#W!pO#X!pO#[5}O#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O!^5|O~P%;eOn6TO!_1oO%i6SO~Oh%VOn6TO!_1oO%i6SO~Ob6[O(T#nO(VTO(YUO!]'sX!^'sX~O!]1zO!^)Va~O(VTO(YUO(e6^O~O`6bO~Oj6eO&[6fO~PNXO!k6gO~P%[Oa6iO~Oa6iO~P%[Ob2bO!^6nO&j2aO~P`O!g6pO~O!g6rOh(ji!](ji!^(ji!g(ji!l(jir(ji(r(ji~O!]#hi!^#hi~P#BwO#`6sO!]#hi!^#hi~O!]!ai!^!ai~P#BwOa%nO#`6|O'z%nO~Oa%nO!g#vO#`6|O'z%nO~O!](tq!k(tqa(tq'z(tq~P!:tO!](jO!k(sq~O!S%hO!_%iO#j7TO(T%gO~O!_'`O%i7WO~On7[O!_'`O%i7WO~O#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'z'ia(a'ia(r'ia!k'ia!Y'ia'w'iav'ia!_'ia%i'ia!g'ia~P%-fO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'z'ka(a'ka(r'ka!k'ka!Y'ka'w'kav'ka!_'ka%i'ka!g'ka~P%.XO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'z$|i(a$|i(r$|i!k$|i!Y$|i'w$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/sO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'z%ai(a%ai(r%ai!k%ai!Y%ai'w%aiv%ai!_%ai%i%ai!g%ai~P%5oO#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'z%ci(a%ci(r%ci!k%ci!Y%ci'w%civ%ci!_%ci%i%ci!g%ci~P%6bO!]'Ya!k'Ya~P!:tO!].tO!k(ki~O$O#ci!]#ci!^#ci~P#BwOP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#n#mi~P%NdO#n<_O~P%NdOP$[OR#zOr<kO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#r#mi~P&!lO#r<aO~P&!lOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO(aVO#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#v#mi~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO(aVO(z#}O#z#mi#{#mi$O#mi(r#mi(y#mi!]#mi!^#mi~O#x<eO~P&&uO#x#mi~P&&uO#v<cO~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO(aVO(y#|O(z#}O#{#mi$O#mi(r#mi!]#mi!^#mi~O#z#mi~P&)UO#z<gO~P&)UOa#|y!]#|y'z#|y'w#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:tO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO(y#mi(z#mi~P&,QOn>^O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P&,QO#S$dOP(`XR(`X[(`Xj(`Xn(`Xr(`X!Q(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X$O(`X'y(`X(a(`X(r(`X(y(`X(z(`X!](`X!^(`X~O$O$Pi!]$Pi!^$Pi~P#BwO$O!ri!^!ri~P$+oOg']a!]']a~P!1WO!^7nO~O!]'da!^'da~P#BwO!Y7oO~P#/sO!g#vO(r'pO!]'ea!k'ea~O!]/pO!k)Oi~O!]/pO!g#vO!k)Oi~Og$|q!]$|q#`$|q$O$|q~P!1WO!Y'ga!]'ga~P#/sO!g7vO~O!]/yO!Y)Pi~P#/sO!]/yO!Y)Pi~O!Y7yO~Oh%VOr8OO!l%eO(r'pO~Oj8QO!g#vO~Or8TO!g#vO(r'pO~O!Q*OO'y*PO(z%POn'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P&5RO!Q*OO'y*POn'la(y'la(z'la!]'la#`'la~Og'la$O'la~P&5tOg(_q!](_q~P!1WO#`8VOg(_q!](_q~P!1WO!Y8WO~Og%Oq!]%Oq#`%Oq$O%Oq~P!1WOa$oy!]$oy'z$oy'w$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:tO!g6rO~O!]5[O!_)Qa~O!_'`OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(a$Ta(r$Ta(y$Ta(z$Ta~O%i7WO~P&8fO%^8[Oa%[i!_%[i'z%[i!]%[i~Oa#cy!]#cy'z#cy'w#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:tO[8^O~Ob8`O(T+qO(VTO(YUO~O!]1TO!^)Xi~O`8dO~O(e(|O!]'pX!^'pX~O!]5uO!^)Ua~O!^8nO~P%;eO(o!sO~P$&YO#[8oO~O!_1oO~O!_1oO%i8qO~On8tO!_1oO%i8qO~O[8yO!]'sa!^'sa~O!]1zO!^)Vi~O!k8}O~O!k9OO~O!k9RO~O!k9RO~P%[Oa9TO~O!g9UO~O!k9VO~O!](wi!^(wi~P#BwOa%nO#`9_O'z%nO~O!](ty!k(tya(ty'z(ty~P!:tO!](jO!k(sy~O%i9bO~P&8fO!_'`O%i9bO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'z$|q(a$|q(r$|q!k$|q!Y$|q'w$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/sO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'z'ja(a'ja(r'ja!k'ja!Y'ja'w'jav'ja!_'ja%i'ja!g'ja~P&5RO#k'laP'laR'la['laa'laj'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la'z'la(a'la(r'la!k'la!Y'la'w'lav'la!_'la%i'la!g'la~P&5tO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'z%Oq(a%Oq(r%Oq!k%Oq!Y%Oq'w%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/sO!]'Yi!k'Yi~P!:tO$O#cq!]#cq!^#cq~P#BwO(y$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(a%aa(r%aa!]%aa!^%aa~On%aa!Q%aa'y%aa(z%aa~P&IyO(z%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(a%ca(r%ca!]%ca!^%ca~On%ca!Q%ca'y%ca(y%ca~P&LQOn>^O!Q*OO'y*PO(z%PO~P&IyOn>^O!Q*OO'y*PO(y$}O~P&LQOR0kO!Q0kO!S0lO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'y}a(a}a(r}a(y}a(z}a!]}a!^}a~O!Q*OO'y*POP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(a$sa(r$sa(y$sa(z$sa!]$sa!^$sa~O!Q*OO'y*POP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(a$ua(r$ua(y$ua(z$ua!]$ua!^$ua~On>^O!Q*OO'y*PO(y$}O(z%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(a%Ta(r%Ta!]%Ta!^%Ta~P''VO$O$mq!]$mq!^$mq~P#BwO$O$oq!]$oq!^$oq~P#BwO!^9oO~O$O9pO~P!1WO!g#vO!]'ei!k'ei~O!g#vO(r'pO!]'ei!k'ei~O!]/pO!k)Oq~O!Y'gi!]'gi~P#/sO!]/yO!Y)Pq~Or9wO!g#vO(r'pO~O[9yO!Y9xO~P#/sO!Y9xO~Oj:PO!g#vO~Og(_y!](_y~P!1WO!]'na!_'na~P#/sOa%[q!_%[q'z%[q!]%[q~P#/sO[:UO~O!]1TO!^)Xq~O`:YO~O#`:ZO!]'pa!^'pa~O!]5uO!^)Ui~P#BwO!S:]O~O!_1oO%i:`O~O(VTO(YUO(e:eO~O!]1zO!^)Vq~O!k:hO~O!k:iO~O!k:jO~O!k:jO~P%[O#`:mO!]#hy!^#hy~O!]#hy!^#hy~P#BwO%i:rO~P&8fO!_'`O%i:rO~O$O#|y!]#|y!^#|y~P#BwOP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(a$|i(r$|i!]$|i!^$|i~P''VO!Q*OO'y*PO(z%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(a'ia(r'ia(y'ia!]'ia!^'ia~O!Q*OO'y*POP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(a'ka(r'ka(y'ka(z'ka!]'ka!^'ka~O(y$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'y%ai(a%ai(r%ai(z%ai!]%ai!^%ai~O(z%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'y%ci(a%ci(r%ci(y%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#BwO$O#cy!]#cy!^#cy~P#BwO!g#vO!]'eq!k'eq~O!]/pO!k)Oy~O!Y'gq!]'gq~P#/sOr:|O!g#vO(r'pO~O[;QO!Y;PO~P#/sO!Y;PO~Og(_!R!](_!R~P!1WOa%[y!_%[y'z%[y!]%[y~P#/sO!]1TO!^)Xy~O!]5uO!^)Uq~O(T;XO~O!_1oO%i;[O~O!k;_O~O%i;dO~P&8fOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(a$|q(r$|q!]$|q!^$|q~P''VO!Q*OO'y*PO(z%POP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(a'ja(r'ja(y'ja!]'ja!^'ja~O!Q*OO'y*POP'laR'la['laj'lan'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la$O'la(a'la(r'la(y'la(z'la!]'la!^'la~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(a%Oq(r%Oq!]%Oq!^%Oq~P''VOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!1WO!Y;hO~P#/sOr;iO!g#vO(r'pO~O[;kO!Y;hO~P#/sO!]'pq!^'pq~P#BwO!]#h!Z!^#h!Z~P#BwO#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'z%e!Z(a%e!Z(r%e!Z!k%e!Z!Y%e!Z'w%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/sOr;tO!g#vO(r'pO~O!Y;uO~P#/sOr;|O!g#vO(r'pO~O!Y;}O~P#/sOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(a%e!Z(r%e!Z!]%e!Z!^%e!Z~P''VOr<QO!g#vO(r'pO~Ov(fX~P1qO!Q%rO~P!)[O(U!lO~P!)[O!YfX!]fX#`fX~P%2OOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~O!gfX!k]X!kfX(rfX~P'LTOP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_XO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]<iO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<tO!S${O!_$|O!i>WO!l$xO#j<zO$W%`O$t<vO$v<xO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Ol)dO~P(!yOr!eX(r!eX~P#!iOr(jX(r(jX~P##[O!^]X!^fX~P'LTO!YfX!Y$zX!]fX!]$zX#`fX~P!0SO#k<^O~O!g#vO#k<^O~O#`<nO~Oj<bO~O#`=OO!](wX!^(wX~O#`<nO!](uX!^(uX~O#k=PO~Og=RO~P!1WO#k=XO~O#k=YO~Og=RO(T&ZO~O!g#vO#k=ZO~O!g#vO#k=PO~O$O=[O~P#BwO#k=]O~O#k=^O~O#k=cO~O#k=dO~O#k=eO~O#k=fO~O$O=gO~P!1WO$O=hO~P!1WOl=sO~P7eOk#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~(OT#o!X'|(U#ps#n#qr!Q'}$]'}(T$_(e~",goto:"$9Y)]PPPPPP)^PP)aP)rP+W/]PPPP6mPP7TPP=QPPP@tPA^PA^PPPA^PCfPA^PA^PA^PCjPCoPD^PIWPPPI[PPPPI[L_PPPLeMVPI[PI[PP! eI[PPPI[PI[P!#lI[P!'S!(X!(bP!)U!)Y!)U!,gPPPPPPP!-W!(XPP!-h!/YP!2iI[I[!2n!5z!:h!:h!>gPPP!>oI[PPPPPPPPP!BOP!C]PPI[!DnPI[PI[I[I[I[I[PI[!FQP!I[P!LbP!Lf!Lp!Lt!LtP!IXP!Lx!LxP#!OP#!SI[PI[#!Y#%_CjA^PA^PA^A^P#&lA^A^#)OA^#+vA^#.SA^A^#.r#1W#1W#1]#1f#1W#1qPP#1WPA^#2ZA^#6YA^A^6mPPP#:_PPP#:x#:xP#:xP#;`#:xPP#;fP#;]P#;]#;y#;]#<e#<k#<n)aP#<q)aP#<z#<z#<zP)aP)aP)aP)aPP)aP#=Q#=TP#=T)aP#=XP#=[P)aP)aP)aP)aP)aP)a)aPP#=b#=h#=s#=y#>P#>V#>]#>k#>q#>{#?R#?]#?c#?s#?y#@k#@}#AT#AZ#Ai#BO#Cs#DR#DY#Et#FS#Gt#HS#HY#H`#Hf#Hp#Hv#H|#IW#Ij#IpPPPPPPPPPPP#IvPPPPPPP#Jk#Mx$ b$ i$ qPPP$']P$'f$*_$0x$0{$1O$1}$2Q$2X$2aP$2g$2jP$3W$3[$4S$5b$5g$5}PP$6S$6Y$6^$6a$6e$6i$7e$7|$8e$8i$8l$8o$8y$8|$9Q$9UR!|RoqOXst!Z#d%m&r&t&u&w,s,x2[2_Y!vQ'`-e1o5{Q%tvQ%|yQ&T|Q&j!VS'W!e-]Q'f!iS'l!r!yU*k$|*Z*oQ+o%}S+|&V&WQ,d&dQ-c'_Q-m'gQ-u'mQ0[*qQ1b,OQ1y,eR<{<Y%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_S#q]<V!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU+P%]<s<tQ+t&PQ,f&gQ,m&oQ0x+gQ0}+iQ1Y+uQ2R,kQ3`.gQ5`0|Q5f1TQ6[1zQ7Y3dQ8`5gR9e7['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S!S!nQ!r!v!y!z$|'W'_'`'l'm'n*k*o*q*r-]-c-e-u0[0_1o5{5}%[$ti#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q&X|Q'U!eS'[%i-`Q+t&PQ,P&WQ,f&gQ0n+SQ1Y+uQ1_+{Q2Q,jQ2R,kQ5f1TQ5o1aQ6[1zQ6_1|Q6`2PQ8`5gQ8c5lQ8|6bQ:X8dQ:f8yQ;V:YR<}*ZrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R,h&k&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'b'r(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>R>S[#]WZ#W#Z'X(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ%wxQ%{yW&Q|&V&W,OQ&_!TQ'c!hQ'e!iQ(q#sS+n%|%}Q+r&PQ,_&bQ,c&dS-l'f'gQ.i(rQ1R+oQ1X+uQ1Z+vQ1^+zQ1t,`S1x,d,eQ2|-mQ5e1TQ5i1WQ5n1`Q6Z1yQ8_5gQ8b5kQ8f5pQ:T8^R;T:U!U$zi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y!^%yy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{Q+h%wQ,T&[Q,W&]Q,b&dQ.h(qQ1s,_U1w,c,d,eQ3e.iQ6U1tS6Y1x1yQ8x6Z#f>T#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o>U<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hW%Ti%V*y>PS&[!Q&iQ&]!RQ&^!SU*}%[%d=sR,R&Y%]%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^T)z$u){V+P%]<s<tW'[!e%i*Z-`S(}#y#zQ+c%rQ+y&SS.b(m(nQ1j,XQ5T0kR8i5u'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S$i$^c#Y#e%q%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.|.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ'Y!eR2q-]!W!nQ!e!r!v!y!z$|'W'_'`'l'm'n*Z*k*o*q*r-]-c-e-u0[0_1o5{5}R1l,ZnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&y!^Q'v!xS(s#u<^Q+l%zQ,]&_Q,^&aQ-j'dQ-w'oS.r(x=PS0q+X=ZQ1P+mQ1n,[Q2c,zQ2e,{Q2m-WQ2z-kQ2}-oS5Y0r=eQ5a1QS5d1S=fQ6t2oQ6x2{Q6}3SQ8]5bQ9Y6vQ9Z6yQ9^7OR:l9V$d$]c#Y#e%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vS(o#p'iQ)P#zS+b%q.|S.c(n(pR3^.d'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS#q]<VQ&t!XQ&u!YQ&w![Q&x!]R2Z,vQ'a!hQ+e%wQ-h'cS.e(q+hQ2x-gW3b.h.i0w0yQ6w2yW7U3_3a3e5^U9a7V7X7ZU:q9c9d9fS;b:p:sQ;p;cR;x;qU!wQ'`-eT5y1o5{!Q_OXZ`st!V!Z#d#h%e%m&i&k&r&t&u&w(j,s,x.[2[2_]!pQ!r'`-e1o5{T#q]<V%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S(}#y#zS.b(m(n!s=l$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU$fd)_,mS(p#p'iU*v%R(w4OU0m+O.n7gQ5^0xQ7V3`Q9d7YR:s9em!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}Q't!uS(f#g2US-s'k'wQ/s*]Q0R*jQ3U-vQ4f/tQ4r0TQ4s0UQ4x0^Q7r4`S7}4t4vS8R4y4{Q9r7sQ9v7yQ9{8OQ:Q8TS:{9w9xS;g:|;PS;s;h;iS;{;t;uS<P;|;}R<S<QQ#wbQ's!uS(e#g2US(g#m+WQ+Y%fQ+j%xQ+p&OU-r'k't'wQ.W(fU/r*]*`/wQ0S*jQ0V*lQ1O+kQ1u,aS3R-s-vQ3Z.`S4e/s/tQ4n0PS4q0R0^Q4u0WQ6W1vQ7P3US7q4`4bQ7u4fU7|4r4x4{Q8P4wQ8v6XS9q7r7sQ9u7yQ9}8RQ:O8SQ:c8wQ:y9rS:z9v9xQ;S:QQ;^:dS;f:{;PS;r;g;hS;z;s;uS<O;{;}Q<R<PQ<T<SQ=o=jQ={=tR=|=uV!wQ'`-e%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S#wz!j!r=i$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=o>R%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Q%fj!^%xy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{S&Oz!jQ+k%yQ,a&dW1v,b,c,d,eU6X1w1x1yS8w6Y6ZQ:d8x!r=j$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ=t>QR=u>R%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Y#bWZ#W#Z(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ,n&o!p=k$Z$n)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=n'XU']!e%i*ZR2s-`%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ,m&oQ0x+gQ3`.gQ7Y3dR9e7[!b$Tc#Y%q(S(Y(t(y)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!P<d)^)q-Z.|2k2n3p3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!f$Vc#Y%q(S(Y(t(y)W)X)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!T<f)^)q-Z.|2k2n3p3v3w3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!^$Zc#Y%q(S(Y(t(y)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<WQ4_/kz>S)^)q-Z.|2k2n3p4P4X6u7b7k7l8k9X9g9m9n;W;`=vQ>X>ZR>Y>['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS$oh$pR4U/U'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$kf$qQ$ifS)j$l)nR)v$qT$jf$qT)l$l)n'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$oh$pQ$rhR)u$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_!s>Q$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S#glOPXZst!Z!`!o#S#d#o#{$n%m&k&n&o&r&t&u&w&{'T'b)O)s*i+]+g,p,s,x-i.g/V/n0]0l1r2S2T2V2X2[2_2a3d4T4z6T6e6f6i7[8t9T!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^Q+T%aQ/c*Oo4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!U$yi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>YQ*c$zU*l$|*Z*oQ+U%bQ0W*m#f=q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n=r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hQ=w>TQ=x>UQ=y>VR=z>W!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hnoOXst!Z#d%m&r&t&u&w,s,x2[2_S*f${*YQ-R'OQ-S'QR4i/y%[%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q,U&]Q1h,WQ5s1gR8h5tV*n$|*Z*oU*n$|*Z*oT5z1o5{S0P*i/nQ4w0]T8S4z:]Q+j%xQ0V*lQ1O+kQ1u,aQ6W1vQ8v6XQ:c8wR;^:d!U%Oi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Yx*R$v)e*S*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>OS0`*t0a#f<o#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<p<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!d=S(u)c*[*e.j.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[`=T3}7c7f7j9h:t:w;yS=_.l3iT=`7e9k!U%Qi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y|*T$v)e*U*t+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>OS0b*u0c#f<q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!h=U(u)c*[*e.k.l.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[d=V3}7d7e7j9h9i:t:u:w;yS=a.m3jT=b7f9lrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q&f!UR,p&ornOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R&f!UQ,Y&^R1d,RsnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q1p,_S6R1s1tU8p6P6Q6US:_8r8sS;Y:^:aQ;m;ZR;w;nQ&m!VR,i&iR6_1|R:f8yW&Q|&V&W,OR1Z+vQ&r!WR,s&sR,y&xT2],x2_R,}&yQ,|&yR2f,}Q'y!{R-y'ySsOtQ#dXT%ps#dQ#OTR'{#OQ#RUR'}#RQ){$uR/`){Q#UVR(Q#UQ#XWU(W#X(X.QQ(X#YR.Q(YQ-^'YR2r-^Q.u(yS3m.u3nR3n.vQ-e'`R2v-eY!rQ'`-e1o5{R'j!rQ/Q)eR4S/QU#_W%h*YU(_#_(`.RQ(`#`R.R(ZQ-a']R2t-at`OXst!V!Z#d%m&i&k&r&t&u&w,s,x2[2_S#hZ%eU#r`#h.[R.[(jQ(k#jQ.X(gW.a(k.X3X7RQ3X.YR7R3YQ)n$lR/W)nQ$phR)t$pQ$`cU)a$`-|<jQ-|<WR<j)qQ/q*]W4c/q4d7t9sU4d/r/s/tS7t4e4fR9s7u$e*Q$v(u)c)e*[*e*t*u+Q+R+V.l.m.o.p.q/_/g/i/k/v/|0d0e0v1e3f3g3h3}4R4[4g4h4l4|5O5R5S5W5r7]7^7_7`7e7f7h7i7j7p7w7z8U8X8Z9h9i9j9t9|:R:S:t:u:v:w:x:};R;e;j;v;y=p=}>O>Z>[Q/z*eU4k/z4m7xQ4m/|R7x4lS*o$|*ZR0Y*ox*S$v)e*t*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>O!d.j(u)c*[*e.l.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/h*S.j7ca7c3}7e7f7j9h:t:w;yQ0a*tQ3i.lU4}0a3i9kR9k7e|*U$v)e*t*u+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>O!h.k(u)c*[*e.l.m.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/j*U.k7de7d3}7e7f7j9h9i:t:u:w;yQ0c*uQ3j.mU5P0c3j9lR9l7fQ*z%UR0g*zQ5]0vR8Y5]Q+_%kR0u+_Q5v1jS8j5v:[R:[8kQ,[&_R1m,[Q5{1oR8m5{Q1{,fS6]1{8zR8z6_Q1U+rW5h1U5j8a:VQ5j1XQ8a5iR:V8bQ+w&QR1[+wQ2_,xR6m2_YrOXst#dQ&v!ZQ+a%mQ,r&rQ,t&tQ,u&uQ,w&wQ2Y,sS2],x2_R6l2[Q%opQ&z!_Q&}!aQ'P!bQ'R!cQ'q!uQ+`%lQ+l%zQ,Q&XQ,h&mQ-P&|W-p'k's't'wQ-w'oQ0X*nQ1P+mQ1c,PS2O,i,lQ2g-OQ2h-RQ2i-SQ2}-oW3P-r-s-v-xQ5a1QQ5m1_Q5q1eQ6V1uQ6a2QQ6k2ZU6z3O3R3UQ6}3SQ8]5bQ8e5oQ8g5rQ8l5zQ8u6WQ8{6`S9[6{7PQ9^7OQ:W8cQ:b8vQ:g8|Q:n9]Q;U:XQ;]:cQ;a:oQ;l;VR;o;^Q%zyQ'd!iQ'o!uU+m%{%|%}Q-W'VU-k'e'f'gS-o'k'uQ0Q*jS1Q+n+oQ2o-YS2{-l-mQ3S-tS4p0R0UQ5b1RQ6v2uQ6y2|Q7O3TU7{4r4s4vQ9z7}R;O9{S$wi>PR*{%VU%Ui%V>PR0f*yQ$viS(u#v+iS)c$b$cQ)e$dQ*[$xS*e${*YQ*t%OQ*u%QQ+Q%^Q+R%_Q+V%cQ.l<oQ.m<qQ.o<uQ.p<wQ.q<yQ/_)yQ/g*RQ/i*TQ/k*VQ/v*aS/|*g/mQ0d*wQ0e*xl0v+f,V.f1i1q3c6S7W8q9b:`:r;[;dQ1e,SQ3f=SQ3g=UQ3h=XS3}<l<mQ4R/PS4[/d4^Q4g/xQ4h/yQ4l/{Q4|0`Q5O0bQ5R0iQ5S0jQ5W0oQ5r1fQ7]=]Q7^=_Q7_=aQ7`=cQ7e<pQ7f<rQ7h<vQ7i<xQ7j<zQ7p4_Q7w4jQ7z4oQ8U5QQ8X5[Q8Z5_Q9h=YQ9i=TQ9j=VQ9t7vQ9|8QQ:R8VQ:S8[Q:t=^Q:u=`Q:v=bQ:w=dQ:x9pQ:}9yQ;R:PQ;e=gQ;j;QQ;v;kQ;y=hQ=p>PQ=}>XQ>O>YQ>Z>]R>[>^Q+O%]Q.n<sR7g<tnpOXst!Z#d%m&r&t&u&w,s,x2[2_Q!fPS#fZ#oQ&|!`W'h!o*i0]4zQ(P#SQ)Q#{Q)r$nS,l&k&nQ,q&oQ-O&{S-T'T/nQ-g'bQ.x)OQ/[)sQ0s+]Q0y+gQ2W,pQ2y-iQ3a.gQ4W/VQ5U0lQ6Q1rQ6c2SQ6d2TQ6h2VQ6j2XQ6o2aQ7Z3dQ7m4TQ8s6TQ9P6eQ9Q6fQ9S6iQ9f7[Q:a8tR:k9T#[cOPXZst!Z!`!o#d#o#{%m&k&n&o&r&t&u&w&{'T'b)O*i+]+g,p,s,x-i.g/n0]0l1r2S2T2V2X2[2_2a3d4z6T6e6f6i7[8t9TQ#YWQ#eYQ%quQ%svS%uw!gS(S#W(VQ(Y#ZQ(t#uQ(y#xQ)R$OQ)S$PQ)T$QQ)U$RQ)V$SQ)W$TQ)X$UQ)Y$VQ)Z$WQ)[$XQ)^$ZQ)`$_Q)b$aQ)g$eW)q$n)s/V4TQ+d%tQ+x&RS-Z'X2pQ-x'rS-}(T.PQ.S(]Q.U(dQ.s(xQ.v(zQ.z<UQ.|<XQ.}<YQ/O<]Q/b)}Q0p+XQ2k-UQ2n-XQ3O-qQ3V.VQ3k.tQ3p<^Q3q<_Q3r<`Q3s<aQ3t<bQ3u<cQ3v<dQ3w<eQ3x<fQ3y<gQ3z<hQ3{.{Q3|<kQ4P<nQ4Q<{Q4X<iQ5X0rQ5c1SQ6u=OQ6{3QQ7Q3WQ7a3lQ7b=PQ7k=RQ7l=ZQ8k5wQ9X6sQ9]6|Q9g=[Q9m=eQ9n=fQ:o9_Q;W:ZQ;`:mQ<W#SR=v>SR#[WR'Z!el!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}S'V!e-]U*j$|*Z*oS-Y'W'_S0U*k*qQ0^*rQ2u-cQ4v0[R4{0_R({#xQ!fQT-d'`-e]!qQ!r'`-e1o5{Q#p]R'i<VR)f$dY!uQ'`-e1o5{Q'k!rS'u!v!yS'w!z5}S-t'l'mQ-v'nR3T-uT#kZ%eS#jZ%eS%km,oU(g#h#i#lS.Y(h(iQ.^(jQ0t+^Q3Y.ZU3Z.[.]._S7S3[3]R9`7Td#^W#W#Z%h(T(^*Y+Z.T/mr#gZm#h#i#l%e(h(i(j+^.Z.[.]._3[3]7TS*]$x*bQ/t*^Q2U,oQ2l-VQ4`/pQ6q2dQ7s4aQ9W6rT=m'X+[V#aW%h*YU#`W%h*YS(U#W(^U(Z#Z+Z/mS-['X+[T.O(T.TV'^!e%i*ZQ$lfR)x$qT)m$l)nR4V/UT*_$x*bT*h${*YQ0w+fQ1g,VQ3_.fQ5t1iQ6P1qQ7X3cQ8r6SQ9c7WQ:^8qQ:p9bQ;Z:`Q;c:rQ;n;[R;q;dnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&l!VR,h&itmOXst!U!V!Z#d%m&i&r&t&u&w,s,x2[2_R,o&oT%lm,oR1k,XR,g&gQ&U|S+}&V&WR1^,OR+s&PT&p!W&sT&q!W&sT2^,x2_",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration defer ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:380,context:tGe,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,237,243,245,247,249,252,258,264,266,268,270,272,274,275,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[aGe],skippedNodes:[0,5,6,278],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Wp(Z!b'|0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(X#S$i&j'}0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Wp(Z!b'}0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(V':f$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Wp(Z!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Wp(Z!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Z!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Z!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(WpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(WpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Wp(Z!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(o%1l(Wp(Z!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Wp(Z!b$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Wp(Z!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Wp(Z!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(z+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(Y';W$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(WpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Wp(Z!b(U%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Wp(Z!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Wp(Z!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Wp(Z!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Wp(Z!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Z!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Z!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Z!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Z!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Z!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Z!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Wp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Wp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Wp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Wp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(WpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(WpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Wp(Z!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Wp(Z!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Wp(Z!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Wp(Z!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Wp(Z!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Wp(Z!b(O0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Wp(Z!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Z!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Z!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(WpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(WpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Wp(Z!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Wp(Z!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(r(Ct$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Wp(Z!b(a+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Wp(Z!b(T,2j$_#t(e$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Wp(Z!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(y+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Wp(Z!b'|0/l$]#t(T,2j(e$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Wp(Z!b'}0/l$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[rGe,iGe,oGe,sGe,2,3,4,5,6,7,8,9,10,11,12,13,14,nGe,new QM("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(c~~",141,340),new QM("j~RQYZXz{^~^O(Q~~aP!P!Qd~iO(R~~",25,323)],topRules:{Script:[0,7],SingleExpression:[1,276],SingleClassItem:[2,277]},dialects:{jsx:0,ts:15175},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:327,get:t=>lGe[t]||-1},{term:343,get:t=>cGe[t]||-1},{term:95,get:t=>uGe[t]||-1}],tokenPrec:15201}),AF=[Gc("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),Gc("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),Gc("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Gc("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),Gc("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),Gc(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),Gc("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),Gc(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),Gc(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),Gc('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Gc('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],Vle=AF.concat([Gc("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),Gc("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),Gc("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),sG=new rae,Qle=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function U2(t){return(e,n)=>{let r=e.node.getChild("VariableDefinition");return r&&n(r,t),!0}}const dGe=["FunctionDeclaration"],fGe={FunctionDeclaration:U2("function"),ClassDeclaration:U2("class"),ClassExpression:()=>!0,EnumDeclaration:U2("constant"),TypeAliasDeclaration:U2("type"),NamespaceDeclaration:U2("namespace"),VariableDefinition(t,e){t.matchContext(dGe)||e(t,"variable")},TypeDefinition(t,e){e(t,"type")},__proto__:null};function Ule(t,e){let n=sG.get(e);if(n)return n;let r=[],i=!0;function o(a,s){let u=t.sliceString(a.from,a.to);r.push({label:u,type:s})}return e.cursor(Di.IncludeAnonymous).iterate(a=>{if(i)i=!1;else if(a.name){let s=fGe[a.name];if(s&&s(a,o)||Qle.has(a.name))return!1}else if(a.to-a.from>8192){for(let s of Ule(t,a.node))r.push(s);return!1}}),sG.set(e,r),r}const ZM=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,PF=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function Zle(t){let e=no(t.state).resolveInner(t.pos,-1);if(PF.indexOf(e.name)>-1)return null;let n=e.name=="VariableName"||e.to-e.from<20&&ZM.test(t.state.sliceDoc(e.from,e.to));if(!n&&!t.explicit)return null;let r=[];for(let i=e;i;i=i.parent)Qle.has(i.name)&&(r=r.concat(Ule(t.state.doc,i)));return{options:r,from:n?e.from:t.pos,validFor:ZM}}function YL(t,e,n){var r;let i=[];for(;;){let o=e.firstChild,a;if(o?.name=="VariableName")return i.push(t(o)),{path:i.reverse(),name:n};if(o?.name=="MemberExpression"&&((r=a=o.lastChild)===null||r===void 0?void 0:r.name)=="PropertyName")i.push(t(a)),e=o;else return null}}function qle(t){let e=r=>t.state.doc.sliceString(r.from,r.to),n=no(t.state).resolveInner(t.pos,-1);return n.name=="PropertyName"?YL(e,n.parent,e(n)):(n.name=="."||n.name=="?.")&&n.parent.name=="MemberExpression"?YL(e,n.parent,""):PF.indexOf(n.name)>-1?null:n.name=="VariableName"||n.to-n.from<20&&ZM.test(e(n))?{path:[],name:e(n)}:n.name=="MemberExpression"?YL(e,n,""):t.explicit?{path:[],name:""}:null}function pGe(t,e){let n=[],r=new Set;for(let i=0;;i++){for(let a of(Object.getOwnPropertyNames||Object.keys)(t)){if(!/^[a-zA-Z_$\xaa-\uffdc][\w$\xaa-\uffdc]*$/.test(a)||r.has(a))continue;r.add(a);let s;try{s=t[a]}catch{continue}n.push({label:a,type:typeof s=="function"?/^[A-Z]/.test(a)?"class":e?"function":"method":e?"variable":"property",boost:-i})}let o=Object.getPrototypeOf(t);if(!o)return n;t=o}}function mGe(t){let e=new Map;return n=>{let r=qle(n);if(!r)return null;let i=t;for(let a of r.path)if(i=i[a],!i)return null;let o=e.get(i);return o||e.set(i,o=pGe(i,!r.path.length)),{from:n.pos-r.name.length,options:o,validFor:ZM}}}const id=dO.define({name:"javascript",parser:hGe.configure({props:[nS.add({IfStatement:a5({except:/^\s*({|else\b)/}),TryStatement:a5({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:_Ue,SwitchBody:t=>{let e=t.textAfter,n=/^\s*\}/.test(e),r=/^\s*(case|default)\b/.test(e);return t.baseIndent+(n?0:r?1:2)*t.unit},Block:vUe({closing:"}"}),ArrowFunction:t=>t.baseIndent+t.unit,"TemplateString BlockComment":()=>null,"Statement Property":a5({except:/^\s*{/}),JSXElement(t){let e=/^\s*<\//.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},JSXEscape(t){let e=/\s*\}/.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},"JSXOpenTag JSXSelfClosingTag"(t){return t.column(t.node.from)+t.unit}}),rS.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":hae,BlockComment(t){return{from:t.from+2,to:t.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),Wle={test:t=>/^JSX/.test(t.name),facet:HI({commentTokens:{block:{open:"{/*",close:"*/}"}}})},MF=id.configure({dialect:"ts"},"typescript"),RF=id.configure({dialect:"jsx",props:[lF.add(t=>t.isTop?[Wle]:void 0)]}),IF=id.configure({dialect:"jsx ts",props:[lF.add(t=>t.isTop?[Wle]:void 0)]},"typescript");let Hle=t=>({label:t,type:"keyword"});const Gle="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(Hle),gGe=Gle.concat(["declare","implements","private","protected","public"].map(Hle));function Xle(t={}){let e=t.jsx?t.typescript?IF:RF:t.typescript?MF:id,n=t.typescript?Vle.concat(gGe):AF.concat(Gle);return new pO(e,[id.data.of({autocomplete:tZe(PF,Mae(n))}),id.data.of({autocomplete:Zle}),t.jsx?Yle:[]])}function yGe(t){for(;;){if(t.name=="JSXOpenTag"||t.name=="JSXSelfClosingTag"||t.name=="JSXFragmentTag")return t;if(t.name=="JSXEscape"||!t.parent)return null;t=t.parent}}function aG(t,e,n=t.length){for(let r=e?.firstChild;r;r=r.nextSibling)if(r.name=="JSXIdentifier"||r.name=="JSXBuiltin"||r.name=="JSXNamespacedName"||r.name=="JSXMemberExpression")return t.sliceString(r.from,Math.min(r.to,n));return""}const vGe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Yle=dn.inputHandler.of((t,e,n,r,i)=>{if((vGe?t.composing:t.compositionStarted)||t.state.readOnly||e!=n||r!=">"&&r!="/"||!id.isActiveAt(t.state,e,-1))return!1;let o=i(),{state:a}=o,s=a.changeByRange(u=>{var d;let{head:g}=u,v=no(a).resolveInner(g-1,-1),x;if(v.name=="JSXStartTag"&&(v=v.parent),!(a.doc.sliceString(g-1,g)!=r||v.name=="JSXAttributeValue"&&v.to>g)){if(r==">"&&v.name=="JSXFragmentTag")return{range:u,changes:{from:g,insert:"</>"}};if(r=="/"&&v.name=="JSXStartCloseTag"){let O=v.parent,E=O.parent;if(E&&O.from==g-2&&((x=aG(a.doc,E.firstChild,g))||((d=E.firstChild)===null||d===void 0?void 0:d.name)=="JSXFragmentTag")){let A=`${x}>`;return{range:jt.cursor(g+A.length,-1),changes:{from:g,insert:A}}}}else if(r==">"){let O=yGe(v);if(O&&O.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(a.doc.sliceString(g,g+2))&&(x=aG(a.doc,O,g)))return{range:u,changes:{from:g,insert:`</${x}>`}}}}return{range:u}});return s.changes.empty?!1:(t.dispatch([o,a.update(s,{userEvent:"input.complete",scrollIntoView:!0})]),!0)});function _Ge(t,e){return e||(e={parserOptions:{ecmaVersion:2019,sourceType:"module"},env:{browser:!0,node:!0,es6:!0,es2015:!0,es2017:!0,es2020:!0},rules:{}},t.getRules().forEach((n,r)=>{var i;!((i=n.meta.docs)===null||i===void 0)&&i.recommended&&(e.rules[r]=2)})),n=>{let{state:r}=n,i=[];for(let{from:o,to:a}of id.findRegions(r)){let s=r.doc.lineAt(o),u={line:s.number-1,col:o-s.from,pos:o};for(let d of t.verify(r.sliceDoc(o,a),e))i.push(xGe(d,r.doc,u))}return i}}function lG(t,e,n,r){return n.line(t+r.line).from+e+(t==1?r.col-1:-1)}function xGe(t,e,n){let r=lG(t.line,t.column,e,n),i={from:r,to:t.endLine!=null&&t.endColumn!=1?lG(t.endLine,t.endColumn,e,n):r,message:t.message,source:t.ruleId?"eslint:"+t.ruleId:"eslint",severity:t.severity==1?"warning":"error"};if(t.fix){let{range:o,text:a}=t.fix,s=o[0]+n.pos-r,u=o[1]+n.pos-r;i.actions=[{name:"fix",apply(d,g){d.dispatch({changes:{from:g+s,to:g+u,insert:a},scrollIntoView:!0})}}]}return i}const hP=Object.freeze(Object.defineProperty({__proto__:null,autoCloseTags:Yle,completionPath:qle,esLint:_Ge,javascript:Xle,javascriptLanguage:id,jsxLanguage:RF,localCompletionSource:Zle,scopeCompletionSource:mGe,snippets:AF,tsxLanguage:IF,typescriptLanguage:MF,typescriptSnippets:Vle},Symbol.toStringTag,{value:"Module"})),Z2=["_blank","_self","_top","_parent"],KL=["ascii","utf-8","utf-16","latin1","latin1"],JL=["get","post","put","delete"],e$=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],Nu=["true","false"],Un={},bGe={a:{attrs:{href:null,ping:null,type:null,media:null,target:Z2,hreflang:null}},abbr:Un,address:Un,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:Un,aside:Un,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:Un,base:{attrs:{href:null,target:Z2}},bdi:Un,bdo:Un,blockquote:{attrs:{cite:null}},body:Un,br:Un,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:e$,formmethod:JL,formnovalidate:["novalidate"],formtarget:Z2,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:Un,center:Un,cite:Un,code:Un,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:Un,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:Un,div:Un,dl:Un,dt:Un,em:Un,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:Un,figure:Un,footer:Un,form:{attrs:{action:null,name:null,"accept-charset":KL,autocomplete:["on","off"],enctype:e$,method:JL,novalidate:["novalidate"],target:Z2}},h1:Un,h2:Un,h3:Un,h4:Un,h5:Un,h6:Un,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:Un,hgroup:Un,hr:Un,html:{attrs:{manifest:null}},i:Un,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:e$,formmethod:JL,formnovalidate:["novalidate"],formtarget:Z2,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:Un,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:Un,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:Un,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:KL,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:Un,noscript:Un,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:Un,param:{attrs:{name:null,value:null}},pre:Un,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:Un,rt:Un,ruby:Un,samp:Un,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:KL}},section:Un,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:Un,source:{attrs:{src:null,type:null,media:null}},span:Un,strong:Un,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:Un,summary:Un,sup:Un,table:Un,tbody:Un,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:Un,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:Un,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:Un,time:{attrs:{datetime:null}},title:Un,tr:Un,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:Un,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:Un},Kle={accesskey:null,class:null,contenteditable:Nu,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:Nu,autocorrect:Nu,autocapitalize:Nu,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":Nu,"aria-autocomplete":["inline","list","both","none"],"aria-busy":Nu,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":Nu,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":Nu,"aria-hidden":Nu,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":Nu,"aria-multiselectable":Nu,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":Nu,"aria-relevant":null,"aria-required":Nu,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},Jle="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(t=>"on"+t);for(let t of Jle)Kle[t]=null;class WT{constructor(e,n){this.tags={...bGe,...e},this.globalAttrs={...Kle,...n},this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}WT.default=new WT;function gO(t,e,n=t.length){if(!e)return"";let r=e.firstChild,i=r&&r.getChild("TagName");return i?t.sliceString(i.from,Math.min(i.to,n)):""}function yO(t,e=!1){for(;t;t=t.parent)if(t.name=="Element")if(e)e=!1;else return t;return null}function ece(t,e,n){let r=n.tags[gO(t,yO(e))];return r?.children||n.allTags}function DF(t,e){let n=[];for(let r=yO(e);r&&!r.type.isTop;r=yO(r.parent)){let i=gO(t,r);if(i&&r.lastChild.name=="CloseTag")break;i&&n.indexOf(i)<0&&(e.name=="EndTag"||e.from>=r.firstChild.to)&&n.push(i)}return n}const tce=/^[:\-\.\w\u00b7-\uffff]*$/;function cG(t,e,n,r,i){let o=/\s*>/.test(t.sliceDoc(i,i+5))?"":">",a=yO(n,n.name=="StartTag"||n.name=="TagName");return{from:r,to:i,options:ece(t.doc,a,e).map(s=>({label:s,type:"type"})).concat(DF(t.doc,n).map((s,u)=>({label:"/"+s,apply:"/"+s+o,type:"type",boost:99-u}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function uG(t,e,n,r){let i=/\s*>/.test(t.sliceDoc(r,r+5))?"":">";return{from:n,to:r,options:DF(t.doc,e).map((o,a)=>({label:o,apply:o+i,type:"type",boost:99-a})),validFor:tce}}function wGe(t,e,n,r){let i=[],o=0;for(let a of ece(t.doc,n,e))i.push({label:"<"+a,type:"type"});for(let a of DF(t.doc,n))i.push({label:"</"+a+">",type:"type",boost:99-o++});return{from:r,to:r,options:i,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function OGe(t,e,n,r,i){let o=yO(n),a=o?e.tags[gO(t.doc,o)]:null,s=a&&a.attrs?Object.keys(a.attrs):[],u=a&&a.globalAttrs===!1?s:s.length?s.concat(e.globalAttrNames):e.globalAttrNames;return{from:r,to:i,options:u.map(d=>({label:d,type:"property"})),validFor:tce}}function SGe(t,e,n,r,i){var o;let a=(o=n.parent)===null||o===void 0?void 0:o.getChild("AttributeName"),s=[],u;if(a){let d=t.sliceDoc(a.from,a.to),g=e.globalAttrs[d];if(!g){let v=yO(n),x=v?e.tags[gO(t.doc,v)]:null;g=x?.attrs&&x.attrs[d]}if(g){let v=t.sliceDoc(r,i).toLowerCase(),x='"',O='"';/^['"]/.test(v)?(u=v[0]=='"'?/^[^"]*$/:/^[^']*$/,x="",O=t.sliceDoc(i,i+1)==v[0]?"":v[0],v=v.slice(1),r++):u=/^[^\s<>='"]*$/;for(let E of g)s.push({label:E,apply:x+E+O,type:"constant"})}}return{from:r,to:i,options:s,validFor:u}}function nce(t,e){let{state:n,pos:r}=e,i=no(n).resolveInner(r,-1),o=i.resolve(r);for(let a=r,s;o==i&&(s=i.childBefore(a));){let u=s.lastChild;if(!u||!u.type.isError||u.from<u.to)break;o=i=s,a=u.from}return i.name=="TagName"?i.parent&&/CloseTag$/.test(i.parent.name)?uG(n,i,i.from,r):cG(n,t,i,i.from,r):i.name=="StartTag"||i.name=="IncompleteTag"?cG(n,t,i,r,r):i.name=="StartCloseTag"||i.name=="IncompleteCloseTag"?uG(n,i,r,r):i.name=="OpenTag"||i.name=="SelfClosingTag"||i.name=="AttributeName"?OGe(n,t,i,i.name=="AttributeName"?i.from:r,r):i.name=="Is"||i.name=="AttributeValue"||i.name=="UnquotedAttributeValue"?SGe(n,t,i,i.name=="Is"?r:i.from,r):e.explicit&&(o.name=="Element"||o.name=="Text"||o.name=="Document")?wGe(n,t,i,r):null}function rce(t){return nce(WT.default,t)}function ice(t){let{extraTags:e,extraGlobalAttributes:n}=t,r=n||e?new WT(e,n):WT.default;return i=>nce(r,i)}const CGe=id.parser.configure({top:"SingleExpression"}),oce=[{tag:"script",attrs:t=>t.type=="text/typescript"||t.lang=="ts",parser:MF.parser},{tag:"script",attrs:t=>t.type=="text/babel"||t.type=="text/jsx",parser:RF.parser},{tag:"script",attrs:t=>t.type=="text/typescript-jsx",parser:IF.parser},{tag:"script",attrs(t){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(t.type)},parser:CGe},{tag:"script",attrs(t){return!t.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(t.type)},parser:id.parser},{tag:"style",attrs(t){return(!t.lang||t.lang=="css")&&(!t.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(t.type))},parser:qT.parser}],sce=[{name:"style",parser:qT.parser.configure({top:"Styles"})}].concat(Jle.map(t=>({name:t,parser:id.parser}))),ace=dO.define({name:"html",parser:DHe.configure({props:[nS.add({Element(t){let e=/^(\s*)(<\/)?/.exec(t.textAfter);return t.node.to<=t.pos+e[0].length?t.continue():t.lineIndent(t.node.from)+(e[2]?0:t.unit)},"OpenTag CloseTag SelfClosingTag"(t){return t.column(t.node.from)+t.unit},Document(t){if(t.pos+/\s*/.exec(t.textAfter)[0].length<t.node.to)return t.continue();let e=null,n;for(let r=t.node;;){let i=r.lastChild;if(!i||i.name!="Element"||i.to!=r.to)break;e=r=i}return e&&!((n=e.lastChild)&&(n.name=="CloseTag"||n.name=="SelfClosingTag"))?t.lineIndent(e.from)+t.unit:null}}),rS.add({Element(t){let e=t.firstChild,n=t.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:n.name=="CloseTag"?n.from:t.to}}}),Sae.add({"OpenTag CloseTag":t=>t.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-_"}}),FC=ace.configure({wrap:Fle(oce,sce)});function lce(t={}){let e="",n;t.matchClosingTags===!1&&(e="noMatch"),t.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(t.nestedLanguages&&t.nestedLanguages.length||t.nestedAttributes&&t.nestedAttributes.length)&&(n=Fle((t.nestedLanguages||[]).concat(oce),(t.nestedAttributes||[]).concat(sce)));let r=n?ace.configure({wrap:n,dialect:e}):e?FC.configure({dialect:e}):FC;return new pO(r,[FC.data.of({autocomplete:ice(t)}),t.autoCloseTags!==!1?cce:[],Xle().support,Ple().support])}const hG=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),cce=dn.inputHandler.of((t,e,n,r,i)=>{if(t.composing||t.state.readOnly||e!=n||r!=">"&&r!="/"||!FC.isActiveAt(t.state,e,-1))return!1;let o=i(),{state:a}=o,s=a.changeByRange(u=>{var d,g,v;let x=a.doc.sliceString(u.from-1,u.to)==r,{head:O}=u,E=no(a).resolveInner(O,-1),A;if(x&&r==">"&&E.name=="EndTag"){let M=E.parent;if(((g=(d=M.parent)===null||d===void 0?void 0:d.lastChild)===null||g===void 0?void 0:g.name)!="CloseTag"&&(A=gO(a.doc,M.parent,O))&&!hG.has(A)){let L=O+(a.doc.sliceString(O,O+1)===">"?1:0),$=`</${A}>`;return{range:u,changes:{from:O,to:L,insert:$}}}}else if(x&&r=="/"&&E.name=="IncompleteCloseTag"){let M=E.parent;if(E.from==O-2&&((v=M.lastChild)===null||v===void 0?void 0:v.name)!="CloseTag"&&(A=gO(a.doc,M,O))&&!hG.has(A)){let L=O+(a.doc.sliceString(O,O+1)===">"?1:0),$=`${A}>`;return{range:jt.cursor(O+$.length,-1),changes:{from:O,to:L,insert:$}}}}return{range:u}});return s.changes.empty?!1:(t.dispatch([o,a.update(s,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),TGe=Object.freeze(Object.defineProperty({__proto__:null,autoCloseTags:cce,html:lce,htmlCompletionSource:rce,htmlCompletionSourceWith:ice,htmlLanguage:FC},Symbol.toStringTag,{value:"Module"}));function kGe(t,e,n,r){const i=Ms(Vo),o=qi(k8),a=ae.useRef(null),{lexicalNode:s}=Zz(),u=ae.useRef(!1),d=ae.useRef(!1),g=ae.useCallback(()=>{o({editorType:e,rootNode:s,editorRef:a.current})},[e,s,o]),v=ae.useCallback(x=>{var O,E,A,M,L,$;if(x.key==="ArrowDown"){const N=(E=(O=a.current)==null?void 0:O.getCodemirror())==null?void 0:E.state;if(N){const F=N.doc.length,U=N.selection.ranges[0].to;F===U&&(u.current?(i?.update(()=>{var q,W;const te=Li(t);te.getNextSibling()?((W=(q=a.current)==null?void 0:q.getCodemirror())==null||W.contentDOM.blur(),te.selectNext()):te.insertAfter(yi())}),u.current=!1):u.current=!0)}}else if(x.key==="ArrowUp"){const N=(M=(A=a.current)==null?void 0:A.getCodemirror())==null?void 0:M.state;N&&N.selection.ranges[0].from===0&&(d.current?(i?.update(()=>{var U,q;const W=Li(t);W.getPreviousSibling()&&((q=(U=a.current)==null?void 0:U.getCodemirror())==null||q.contentDOM.blur(),W.selectPrevious())}),d.current=!1):d.current=!0)}else if(x.key==="Enter")x.stopPropagation();else if(x.key==="Backspace"||x.key==="Delete"){const N=($=(L=a.current)==null?void 0:L.getCodemirror())==null?void 0:$.state;N?.doc.length===0&&i?.update(()=>{Li(t).remove()})}},[i,t]);return ae.useEffect(()=>{const x=a.current;return setTimeout(()=>{var O,E;(O=x?.getCodemirror())==null||O.contentDOM.addEventListener("focus",g),(E=x?.getCodemirror())==null||E.contentDOM.addEventListener("keydown",v)},300),()=>{var O,E;(O=x?.getCodemirror())==null||O.contentDOM.removeEventListener("focus",g),(E=x?.getCodemirror())==null||E.contentDOM.removeEventListener("keydown",v)}},[a,g,v,n]),ae.useEffect(()=>{r.subscribe(()=>{var x,O;(O=(x=a.current)==null?void 0:x.getCodemirror())==null||O.focus(),g()})},[r,a,t,g]),a}function Jt(t){return new pO(hF.define(t))}function x0(t){return Dt(()=>import("./index-JVAu3hWm.js"),[]).then(e=>e.sql({dialect:e[t]}))}const EGe=[Pt.of({name:"C",extensions:["c","h","ino"],load(){return Dt(()=>import("./index-QVC-svVg.js"),[]).then(t=>t.cpp())}}),Pt.of({name:"C++",alias:["cpp"],extensions:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],load(){return Dt(()=>import("./index-QVC-svVg.js"),[]).then(t=>t.cpp())}}),Pt.of({name:"CQL",alias:["cassandra"],extensions:["cql"],load(){return x0("Cassandra")}}),Pt.of({name:"CSS",extensions:["css"],load(){return Dt(()=>Promise.resolve().then(()=>XWe),void 0).then(t=>t.css())}}),Pt.of({name:"Go",extensions:["go"],load(){return Dt(()=>import("./index-QWZchwo1.js"),[]).then(t=>t.go())}}),Pt.of({name:"HTML",alias:["xhtml"],extensions:["html","htm","handlebars","hbs"],load(){return Dt(()=>Promise.resolve().then(()=>TGe),void 0).then(t=>t.html())}}),Pt.of({name:"Java",extensions:["java"],load(){return Dt(()=>import("./index-C5c2g1MF.js"),[]).then(t=>t.java())}}),Pt.of({name:"JavaScript",alias:["ecmascript","js","node"],extensions:["js","mjs","cjs"],load(){return Dt(()=>Promise.resolve().then(()=>hP),void 0).then(t=>t.javascript())}}),Pt.of({name:"Jinja",extensions:["j2","jinja","jinja2"],load(){return Dt(()=>import("./index-BxVodkUE.js"),[]).then(t=>t.jinja())}}),Pt.of({name:"JSON",alias:["json5"],extensions:["json","map"],load(){return Dt(()=>import("./index-D488LRsr.js"),[]).then(t=>t.json())}}),Pt.of({name:"JSX",extensions:["jsx"],load(){return Dt(()=>Promise.resolve().then(()=>hP),void 0).then(t=>t.javascript({jsx:!0}))}}),Pt.of({name:"LESS",extensions:["less"],load(){return Dt(()=>import("./index-B3hKC0Aq.js"),[]).then(t=>t.less())}}),Pt.of({name:"Liquid",extensions:["liquid"],load(){return Dt(()=>import("./index-BmX-2X1j.js"),[]).then(t=>t.liquid())}}),Pt.of({name:"MariaDB SQL",load(){return x0("MariaSQL")}}),Pt.of({name:"Markdown",extensions:["md","markdown","mkd"],load(){return Dt(()=>Promise.resolve().then(()=>EJe),void 0).then(t=>t.markdown())}}),Pt.of({name:"MS SQL",load(){return x0("MSSQL")}}),Pt.of({name:"MySQL",load(){return x0("MySQL")}}),Pt.of({name:"PHP",extensions:["php","php3","php4","php5","php7","phtml"],load(){return Dt(()=>import("./index-XvmTzWR1.js"),[]).then(t=>t.php())}}),Pt.of({name:"PLSQL",extensions:["pls"],load(){return x0("PLSQL")}}),Pt.of({name:"PostgreSQL",load(){return x0("PostgreSQL")}}),Pt.of({name:"Python",extensions:["BUILD","bzl","py","pyw"],filename:/^(BUCK|BUILD)$/,load(){return Dt(()=>import("./index-DJPzX-hj.js"),[]).then(t=>t.python())}}),Pt.of({name:"Rust",extensions:["rs"],load(){return Dt(()=>import("./index-DQ_QEV8H.js"),[]).then(t=>t.rust())}}),Pt.of({name:"Sass",extensions:["sass"],load(){return Dt(()=>import("./index-DSUtph3g.js"),[]).then(t=>t.sass({indented:!0}))}}),Pt.of({name:"SCSS",extensions:["scss"],load(){return Dt(()=>import("./index-DSUtph3g.js"),[]).then(t=>t.sass())}}),Pt.of({name:"SQL",extensions:["sql"],load(){return x0("StandardSQL")}}),Pt.of({name:"SQLite",load(){return x0("SQLite")}}),Pt.of({name:"TSX",extensions:["tsx"],load(){return Dt(()=>Promise.resolve().then(()=>hP),void 0).then(t=>t.javascript({jsx:!0,typescript:!0}))}}),Pt.of({name:"TypeScript",alias:["ts"],extensions:["ts","mts","cts"],load(){return Dt(()=>Promise.resolve().then(()=>hP),void 0).then(t=>t.javascript({typescript:!0}))}}),Pt.of({name:"WebAssembly",extensions:["wat","wast"],load(){return Dt(()=>import("./index-B1576YMM.js"),[]).then(t=>t.wast())}}),Pt.of({name:"XML",alias:["rss","wsdl","xsd"],extensions:["xml","xsl","xsd","svg"],load(){return Dt(()=>import("./index-DOPvfv6D.js"),[]).then(t=>t.xml())}}),Pt.of({name:"YAML",alias:["yml"],extensions:["yaml","yml"],load(){return Dt(()=>import("./index-zBvrCrVG.js"),[]).then(t=>t.yaml())}}),Pt.of({name:"APL",extensions:["dyalog","apl"],load(){return Dt(()=>import("./apl-B4CMkyY2.js"),[]).then(t=>Jt(t.apl))}}),Pt.of({name:"PGP",alias:["asciiarmor"],extensions:["asc","pgp","sig"],load(){return Dt(()=>import("./asciiarmor-Df11BRmG.js"),[]).then(t=>Jt(t.asciiArmor))}}),Pt.of({name:"ASN.1",extensions:["asn","asn1"],load(){return Dt(()=>import("./asn1-EdZsLKOL.js"),[]).then(t=>Jt(t.asn1({})))}}),Pt.of({name:"Asterisk",filename:/^extensions\.conf$/i,load(){return Dt(()=>import("./asterisk-B-8jnY81.js"),[]).then(t=>Jt(t.asterisk))}}),Pt.of({name:"Brainfuck",extensions:["b","bf"],load(){return Dt(()=>import("./brainfuck-C4LP7Hcl.js"),[]).then(t=>Jt(t.brainfuck))}}),Pt.of({name:"Cobol",extensions:["cob","cpy"],load(){return Dt(()=>import("./cobol-CWcv1MsR.js"),[]).then(t=>Jt(t.cobol))}}),Pt.of({name:"C#",alias:["csharp","cs"],extensions:["cs"],load(){return Dt(()=>import("./clike-B9uivgTg.js"),[]).then(t=>Jt(t.csharp))}}),Pt.of({name:"Clojure",extensions:["clj","cljc","cljx"],load(){return Dt(()=>import("./clojure-BMjYHr_A.js"),[]).then(t=>Jt(t.clojure))}}),Pt.of({name:"ClojureScript",extensions:["cljs"],load(){return Dt(()=>import("./clojure-BMjYHr_A.js"),[]).then(t=>Jt(t.clojure))}}),Pt.of({name:"Closure Stylesheets (GSS)",extensions:["gss"],load(){return Dt(()=>import("./css-BnMrqG3P.js"),[]).then(t=>Jt(t.gss))}}),Pt.of({name:"CMake",extensions:["cmake","cmake.in"],filename:/^CMakeLists\.txt$/,load(){return Dt(()=>import("./cmake-BQqOBYOt.js"),[]).then(t=>Jt(t.cmake))}}),Pt.of({name:"CoffeeScript",alias:["coffee","coffee-script"],extensions:["coffee"],load(){return Dt(()=>import("./coffeescript-S37ZYGWr.js"),[]).then(t=>Jt(t.coffeeScript))}}),Pt.of({name:"Common Lisp",alias:["lisp"],extensions:["cl","lisp","el"],load(){return Dt(()=>import("./commonlisp-DBKNyK5s.js"),[]).then(t=>Jt(t.commonLisp))}}),Pt.of({name:"Cypher",extensions:["cyp","cypher"],load(){return Dt(()=>import("./cypher-C_CwsFkJ.js"),[]).then(t=>Jt(t.cypher))}}),Pt.of({name:"Cython",extensions:["pyx","pxd","pxi"],load(){return Dt(()=>import("./python-BuPzkPfP.js"),[]).then(t=>Jt(t.cython))}}),Pt.of({name:"Crystal",extensions:["cr"],load(){return Dt(()=>import("./crystal-SjHAIU92.js"),[]).then(t=>Jt(t.crystal))}}),Pt.of({name:"D",extensions:["d"],load(){return Dt(()=>import("./d-pRatUO7H.js"),[]).then(t=>Jt(t.d))}}),Pt.of({name:"Dart",extensions:["dart"],load(){return Dt(()=>import("./clike-B9uivgTg.js"),[]).then(t=>Jt(t.dart))}}),Pt.of({name:"diff",extensions:["diff","patch"],load(){return Dt(()=>import("./diff-DbItnlRl.js"),[]).then(t=>Jt(t.diff))}}),Pt.of({name:"Dockerfile",filename:/^Dockerfile$/,load(){return Dt(()=>import("./dockerfile-BKs6k2Af.js"),__vite__mapDeps([0,1])).then(t=>Jt(t.dockerFile))}}),Pt.of({name:"DTD",extensions:["dtd"],load(){return Dt(()=>import("./dtd-DF_7sFjM.js"),[]).then(t=>Jt(t.dtd))}}),Pt.of({name:"Dylan",extensions:["dylan","dyl","intr"],load(){return Dt(()=>import("./dylan-DwRh75JA.js"),[]).then(t=>Jt(t.dylan))}}),Pt.of({name:"EBNF",load(){return Dt(()=>import("./ebnf-CDyGwa7X.js"),[]).then(t=>Jt(t.ebnf))}}),Pt.of({name:"ECL",extensions:["ecl"],load(){return Dt(()=>import("./ecl-Cabwm37j.js"),[]).then(t=>Jt(t.ecl))}}),Pt.of({name:"edn",extensions:["edn"],load(){return Dt(()=>import("./clojure-BMjYHr_A.js"),[]).then(t=>Jt(t.clojure))}}),Pt.of({name:"Eiffel",extensions:["e"],load(){return Dt(()=>import("./eiffel-CnydiIhH.js"),[]).then(t=>Jt(t.eiffel))}}),Pt.of({name:"Elm",extensions:["elm"],load(){return Dt(()=>import("./elm-vLlmbW-K.js"),[]).then(t=>Jt(t.elm))}}),Pt.of({name:"Erlang",extensions:["erl"],load(){return Dt(()=>import("./erlang-BNw1qcRV.js"),[]).then(t=>Jt(t.erlang))}}),Pt.of({name:"Esper",load(){return Dt(()=>import("./sql-D0XecflT.js"),[]).then(t=>Jt(t.esper))}}),Pt.of({name:"Factor",extensions:["factor"],load(){return Dt(()=>import("./factor-kuTfRLto.js"),__vite__mapDeps([2,1])).then(t=>Jt(t.factor))}}),Pt.of({name:"FCL",load(){return Dt(()=>import("./fcl-Kvtd6kyn.js"),[]).then(t=>Jt(t.fcl))}}),Pt.of({name:"Forth",extensions:["forth","fth","4th"],load(){return Dt(()=>import("./forth-Ffai-XNe.js"),[]).then(t=>Jt(t.forth))}}),Pt.of({name:"Fortran",extensions:["f","for","f77","f90","f95"],load(){return Dt(()=>import("./fortran-DYz_wnZ1.js"),[]).then(t=>Jt(t.fortran))}}),Pt.of({name:"F#",alias:["fsharp"],extensions:["fs"],load(){return Dt(()=>import("./mllike-CXdrOF99.js"),[]).then(t=>Jt(t.fSharp))}}),Pt.of({name:"Gas",extensions:["s"],load(){return Dt(()=>import("./gas-Bneqetm1.js"),[]).then(t=>Jt(t.gas))}}),Pt.of({name:"Gherkin",extensions:["feature"],load(){return Dt(()=>import("./gherkin-heZmZLOM.js"),[]).then(t=>Jt(t.gherkin))}}),Pt.of({name:"Groovy",extensions:["groovy","gradle"],filename:/^Jenkinsfile$/,load(){return Dt(()=>import("./groovy-D9Dt4D0W.js"),[]).then(t=>Jt(t.groovy))}}),Pt.of({name:"Haskell",extensions:["hs"],load(){return Dt(()=>import("./haskell-Cw1EW3IL.js"),[]).then(t=>Jt(t.haskell))}}),Pt.of({name:"Haxe",extensions:["hx"],load(){return Dt(()=>import("./haxe-H-WmDvRZ.js"),[]).then(t=>Jt(t.haxe))}}),Pt.of({name:"HXML",extensions:["hxml"],load(){return Dt(()=>import("./haxe-H-WmDvRZ.js"),[]).then(t=>Jt(t.hxml))}}),Pt.of({name:"HTTP",load(){return Dt(()=>import("./http-DBlCnlav.js"),[]).then(t=>Jt(t.http))}}),Pt.of({name:"IDL",extensions:["pro"],load(){return Dt(()=>import("./idl-BEugSyMb.js"),[]).then(t=>Jt(t.idl))}}),Pt.of({name:"JSON-LD",alias:["jsonld"],extensions:["jsonld"],load(){return Dt(()=>import("./javascript-iXu5QeM3.js"),[]).then(t=>Jt(t.jsonld))}}),Pt.of({name:"Julia",extensions:["jl"],load(){return Dt(()=>import("./julia-DuME0IfC.js"),[]).then(t=>Jt(t.julia))}}),Pt.of({name:"Kotlin",extensions:["kt","kts"],load(){return Dt(()=>import("./clike-B9uivgTg.js"),[]).then(t=>Jt(t.kotlin))}}),Pt.of({name:"LiveScript",alias:["ls"],extensions:["ls"],load(){return Dt(()=>import("./livescript-BwQOo05w.js"),[]).then(t=>Jt(t.liveScript))}}),Pt.of({name:"Lua",extensions:["lua"],load(){return Dt(()=>import("./lua-BgMRiT3U.js"),[]).then(t=>Jt(t.lua))}}),Pt.of({name:"mIRC",extensions:["mrc"],load(){return Dt(()=>import("./mirc-CjQqDB4T.js"),[]).then(t=>Jt(t.mirc))}}),Pt.of({name:"Mathematica",extensions:["m","nb","wl","wls"],load(){return Dt(()=>import("./mathematica-DTrFuWx2.js"),[]).then(t=>Jt(t.mathematica))}}),Pt.of({name:"Modelica",extensions:["mo"],load(){return Dt(()=>import("./modelica-Dc1JOy9r.js"),[]).then(t=>Jt(t.modelica))}}),Pt.of({name:"MUMPS",extensions:["mps"],load(){return Dt(()=>import("./mumps-BT43cFF4.js"),[]).then(t=>Jt(t.mumps))}}),Pt.of({name:"Mbox",extensions:["mbox"],load(){return Dt(()=>import("./mbox-CNhZ1qSd.js"),[]).then(t=>Jt(t.mbox))}}),Pt.of({name:"Nginx",filename:/nginx.*\.conf$/i,load(){return Dt(()=>import("./nginx-DdIZxoE0.js"),[]).then(t=>Jt(t.nginx))}}),Pt.of({name:"NSIS",extensions:["nsh","nsi"],load(){return Dt(()=>import("./nsis-LdVXkNf5.js"),__vite__mapDeps([3,1])).then(t=>Jt(t.nsis))}}),Pt.of({name:"NTriples",extensions:["nt","nq"],load(){return Dt(()=>import("./ntriples-BfvgReVJ.js"),[]).then(t=>Jt(t.ntriples))}}),Pt.of({name:"Objective-C",alias:["objective-c","objc"],extensions:["m"],load(){return Dt(()=>import("./clike-B9uivgTg.js"),[]).then(t=>Jt(t.objectiveC))}}),Pt.of({name:"Objective-C++",alias:["objective-c++","objc++"],extensions:["mm"],load(){return Dt(()=>import("./clike-B9uivgTg.js"),[]).then(t=>Jt(t.objectiveCpp))}}),Pt.of({name:"OCaml",extensions:["ml","mli","mll","mly"],load(){return Dt(()=>import("./mllike-CXdrOF99.js"),[]).then(t=>Jt(t.oCaml))}}),Pt.of({name:"Octave",extensions:["m"],load(){return Dt(()=>import("./octave-Ck1zUtKM.js"),[]).then(t=>Jt(t.octave))}}),Pt.of({name:"Oz",extensions:["oz"],load(){return Dt(()=>import("./oz-BzwKVEFT.js"),[]).then(t=>Jt(t.oz))}}),Pt.of({name:"Pascal",extensions:["p","pas"],load(){return Dt(()=>import("./pascal--L3eBynH.js"),[]).then(t=>Jt(t.pascal))}}),Pt.of({name:"Perl",extensions:["pl","pm"],load(){return Dt(()=>import("./perl-CdXCOZ3F.js"),[]).then(t=>Jt(t.perl))}}),Pt.of({name:"Pig",extensions:["pig"],load(){return Dt(()=>import("./pig-CevX1Tat.js"),[]).then(t=>Jt(t.pig))}}),Pt.of({name:"PowerShell",extensions:["ps1","psd1","psm1"],load(){return Dt(()=>import("./powershell-CFHJl5sT.js"),[]).then(t=>Jt(t.powerShell))}}),Pt.of({name:"Properties files",alias:["ini","properties"],extensions:["properties","ini","in"],load(){return Dt(()=>import("./properties-C78fOPTZ.js"),[]).then(t=>Jt(t.properties))}}),Pt.of({name:"ProtoBuf",extensions:["proto"],load(){return Dt(()=>import("./protobuf-ChK-085T.js"),[]).then(t=>Jt(t.protobuf))}}),Pt.of({name:"Pug",alias:["jade"],extensions:["pug","jade"],load(){return Dt(()=>import("./pug-DeIclll2.js"),__vite__mapDeps([4,5])).then(t=>Jt(t.pug))}}),Pt.of({name:"Puppet",extensions:["pp"],load(){return Dt(()=>import("./puppet-DMA9R1ak.js"),[]).then(t=>Jt(t.puppet))}}),Pt.of({name:"Q",extensions:["q"],load(){return Dt(()=>import("./q-pXgVlZs6.js"),[]).then(t=>Jt(t.q))}}),Pt.of({name:"R",alias:["rscript"],extensions:["r","R"],load(){return Dt(()=>import("./r-B6wPVr8A.js"),[]).then(t=>Jt(t.r))}}),Pt.of({name:"RPM Changes",load(){return Dt(()=>import("./rpm-CTu-6PCP.js"),[]).then(t=>Jt(t.rpmChanges))}}),Pt.of({name:"RPM Spec",extensions:["spec"],load(){return Dt(()=>import("./rpm-CTu-6PCP.js"),[]).then(t=>Jt(t.rpmSpec))}}),Pt.of({name:"Ruby",alias:["jruby","macruby","rake","rb","rbx"],extensions:["rb"],filename:/^(Gemfile|Rakefile)$/,load(){return Dt(()=>import("./ruby-B2Rjki9n.js"),[]).then(t=>Jt(t.ruby))}}),Pt.of({name:"SAS",extensions:["sas"],load(){return Dt(()=>import("./sas-B4kiWyti.js"),[]).then(t=>Jt(t.sas))}}),Pt.of({name:"Scala",extensions:["scala"],load(){return Dt(()=>import("./clike-B9uivgTg.js"),[]).then(t=>Jt(t.scala))}}),Pt.of({name:"Scheme",extensions:["scm","ss"],load(){return Dt(()=>import("./scheme-C41bIUwD.js"),[]).then(t=>Jt(t.scheme))}}),Pt.of({name:"Shell",alias:["bash","sh","zsh"],extensions:["sh","ksh","bash"],filename:/^PKGBUILD$/,load(){return Dt(()=>import("./shell-CjFT_Tl9.js"),[]).then(t=>Jt(t.shell))}}),Pt.of({name:"Sieve",extensions:["siv","sieve"],load(){return Dt(()=>import("./sieve-C3Gn_uJK.js"),[]).then(t=>Jt(t.sieve))}}),Pt.of({name:"Smalltalk",extensions:["st"],load(){return Dt(()=>import("./smalltalk-CnHTOXQT.js"),[]).then(t=>Jt(t.smalltalk))}}),Pt.of({name:"Solr",load(){return Dt(()=>import("./solr-DehyRSwq.js"),[]).then(t=>Jt(t.solr))}}),Pt.of({name:"SML",extensions:["sml","sig","fun","smackspec"],load(){return Dt(()=>import("./mllike-CXdrOF99.js"),[]).then(t=>Jt(t.sml))}}),Pt.of({name:"SPARQL",alias:["sparul"],extensions:["rq","sparql"],load(){return Dt(()=>import("./sparql-DkYu6x3z.js"),[]).then(t=>Jt(t.sparql))}}),Pt.of({name:"Spreadsheet",alias:["excel","formula"],load(){return Dt(()=>import("./spreadsheet-BCZA_wO0.js"),[]).then(t=>Jt(t.spreadsheet))}}),Pt.of({name:"Squirrel",extensions:["nut"],load(){return Dt(()=>import("./clike-B9uivgTg.js"),[]).then(t=>Jt(t.squirrel))}}),Pt.of({name:"Stylus",extensions:["styl"],load(){return Dt(()=>import("./stylus-B533Al4x.js"),[]).then(t=>Jt(t.stylus))}}),Pt.of({name:"Swift",extensions:["swift"],load(){return Dt(()=>import("./swift-BzpIVaGY.js"),[]).then(t=>Jt(t.swift))}}),Pt.of({name:"sTeX",load(){return Dt(()=>import("./stex-C3f8Ysf7.js"),[]).then(t=>Jt(t.stex))}}),Pt.of({name:"LaTeX",alias:["tex"],extensions:["text","ltx","tex"],load(){return Dt(()=>import("./stex-C3f8Ysf7.js"),[]).then(t=>Jt(t.stex))}}),Pt.of({name:"SystemVerilog",extensions:["v","sv","svh"],load(){return Dt(()=>import("./verilog-C6RDOZhf.js"),[]).then(t=>Jt(t.verilog))}}),Pt.of({name:"Tcl",extensions:["tcl"],load(){return Dt(()=>import("./tcl-DVfN8rqt.js"),[]).then(t=>Jt(t.tcl))}}),Pt.of({name:"Textile",extensions:["textile"],load(){return Dt(()=>import("./textile-CnDTJFAw.js"),[]).then(t=>Jt(t.textile))}}),Pt.of({name:"TiddlyWiki",load(){return Dt(()=>import("./tiddlywiki-DO-Gjzrf.js"),[]).then(t=>Jt(t.tiddlyWiki))}}),Pt.of({name:"Tiki wiki",load(){return Dt(()=>import("./tiki-DGYXhP31.js"),[]).then(t=>Jt(t.tiki))}}),Pt.of({name:"TOML",extensions:["toml"],load(){return Dt(()=>import("./toml-Bm5Em-hy.js"),[]).then(t=>Jt(t.toml))}}),Pt.of({name:"Troff",extensions:["1","2","3","4","5","6","7","8","9"],load(){return Dt(()=>import("./troff-wAsdV37c.js"),[]).then(t=>Jt(t.troff))}}),Pt.of({name:"TTCN",extensions:["ttcn","ttcn3","ttcnpp"],load(){return Dt(()=>import("./ttcn-CfJYG6tj.js"),[]).then(t=>Jt(t.ttcn))}}),Pt.of({name:"TTCN_CFG",extensions:["cfg"],load(){return Dt(()=>import("./ttcn-cfg-B9xdYoR4.js"),[]).then(t=>Jt(t.ttcnCfg))}}),Pt.of({name:"Turtle",extensions:["ttl"],load(){return Dt(()=>import("./turtle-B1tBg_DP.js"),[]).then(t=>Jt(t.turtle))}}),Pt.of({name:"Web IDL",extensions:["webidl"],load(){return Dt(()=>import("./webidl-ZXfAyPTL.js"),[]).then(t=>Jt(t.webIDL))}}),Pt.of({name:"VB.NET",extensions:["vb"],load(){return Dt(()=>import("./vb-CmGdzxic.js"),[]).then(t=>Jt(t.vb))}}),Pt.of({name:"VBScript",extensions:["vbs"],load(){return Dt(()=>import("./vbscript-BuJXcnF6.js"),[]).then(t=>Jt(t.vbScript))}}),Pt.of({name:"Velocity",extensions:["vtl"],load(){return Dt(()=>import("./velocity-D8B20fx6.js"),[]).then(t=>Jt(t.velocity))}}),Pt.of({name:"Verilog",extensions:["v"],load(){return Dt(()=>import("./verilog-C6RDOZhf.js"),[]).then(t=>Jt(t.verilog))}}),Pt.of({name:"VHDL",extensions:["vhd","vhdl"],load(){return Dt(()=>import("./vhdl-lSbBsy5d.js"),[]).then(t=>Jt(t.vhdl))}}),Pt.of({name:"XQuery",extensions:["xy","xquery","xq","xqm","xqy"],load(){return Dt(()=>import("./xquery-DzFWVndE.js"),[]).then(t=>Jt(t.xQuery))}}),Pt.of({name:"Yacas",extensions:["ys"],load(){return Dt(()=>import("./yacas-BJ4BC0dw.js"),[]).then(t=>Jt(t.yacas))}}),Pt.of({name:"Z80",extensions:["z80"],load(){return Dt(()=>import("./z80-Hz9HOZM7.js"),[]).then(t=>Jt(t.z80))}}),Pt.of({name:"MscGen",extensions:["mscgen","mscin","msc"],load(){return Dt(()=>import("./mscgen-BA5vi2Kp.js"),[]).then(t=>Jt(t.mscgen))}}),Pt.of({name:"X",extensions:["xu"],load(){return Dt(()=>import("./mscgen-BA5vi2Kp.js"),[]).then(t=>Jt(t.xu))}}),Pt.of({name:"MsGenny",extensions:["msgenny"],load(){return Dt(()=>import("./mscgen-BA5vi2Kp.js"),[]).then(t=>Jt(t.msgenny))}}),Pt.of({name:"Vue",extensions:["vue"],load(){return Dt(()=>import("./index-BT7Y8qbn.js"),[]).then(t=>t.vue())}}),Pt.of({name:"Angular Template",load(){return Dt(()=>import("./index-B7-BesSI.js"),[]).then(t=>t.angular())}})],dG="#2e3440",LF="#3b4252",fG="#434c5e",dP="#4c566a",pG="#e5e9f0",j6="#eceff4",t$="#8fbcbb",mG="#88c0d0",AGe="#81a1c1",hf="#5e81ac",PGe="#bf616a",B1="#d08770",n$="#ebcb8b",gG="#a3be8c",MGe="#b48ead",yG="#d30102",$F=j6,r$=$F,RGe="#ffffff",i$=LF,IGe=$F,vG=LF,DGe=dn.theme({"&":{color:dG,backgroundColor:RGe},".cm-content":{caretColor:vG},".cm-cursor, .cm-dropCursor":{borderLeftColor:vG},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:IGe},".cm-panels":{backgroundColor:$F,color:dP},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:`1px solid ${dP}`},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:pG},".cm-activeLine":{backgroundColor:r$},".cm-selectionMatch":{backgroundColor:pG},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{outline:`1px solid ${dP}`},"&.cm-focused .cm-matchingBracket":{backgroundColor:j6},".cm-gutters":{backgroundColor:j6,color:dG,border:"none"},".cm-activeLineGutter":{backgroundColor:r$},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:i$},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:i$,borderBottomColor:i$},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:r$,color:dP}}},{dark:!1}),LGe=Xk.define([{tag:Ne.keyword,color:hf},{tag:[Ne.name,Ne.deleted,Ne.character,Ne.propertyName,Ne.macroName],color:B1},{tag:[Ne.variableName],color:B1},{tag:[Ne.function(Ne.variableName)],color:hf},{tag:[Ne.labelName],color:AGe},{tag:[Ne.color,Ne.constant(Ne.name),Ne.standard(Ne.name)],color:hf},{tag:[Ne.definition(Ne.name),Ne.separator],color:gG},{tag:[Ne.brace],color:t$},{tag:[Ne.annotation],color:yG},{tag:[Ne.number,Ne.changed,Ne.annotation,Ne.modifier,Ne.self,Ne.namespace],color:mG},{tag:[Ne.typeName,Ne.className],color:n$},{tag:[Ne.operator,Ne.operatorKeyword],color:gG},{tag:[Ne.tagName],color:MGe},{tag:[Ne.squareBracket],color:PGe},{tag:[Ne.angleBracket],color:B1},{tag:[Ne.attributeName],color:n$},{tag:[Ne.regexp],color:hf},{tag:[Ne.quote],color:LF},{tag:[Ne.string],color:B1},{tag:Ne.link,color:t$,textDecoration:"underline",textUnderlinePosition:"under"},{tag:[Ne.url,Ne.escape,Ne.special(Ne.string)],color:B1},{tag:[Ne.meta],color:mG},{tag:[Ne.comment],color:fG,fontStyle:"italic"},{tag:Ne.strong,fontWeight:"bold",color:hf},{tag:Ne.emphasis,fontStyle:"italic",color:hf},{tag:Ne.strikethrough,textDecoration:"line-through"},{tag:Ne.heading,fontWeight:"bold",color:hf},{tag:Ne.special(Ne.heading1),fontWeight:"bold",color:hf},{tag:Ne.heading1,fontWeight:"bold",color:hf},{tag:[Ne.heading2,Ne.heading3,Ne.heading4],fontWeight:"bold",color:hf},{tag:[Ne.heading5,Ne.heading6],color:hf},{tag:[Ne.atom,Ne.bool,Ne.special(Ne.variableName)],color:B1},{tag:[Ne.processingInstruction,Ne.inserted],color:t$},{tag:[Ne.contentSeparator],color:n$},{tag:Ne.invalid,color:fG,borderBottom:`1px dotted ${yG}`}]),uce=[DGe,xae(LGe)],_G=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class vO{constructor(e,n,r=0,i=e.length,o,a){this.test=a,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=o?s=>o(_G(s)):_G,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Jc(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=V9(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=Wp(e);let i=this.normalize(n);if(i.length)for(let o=0,a=r;;o++){let s=i.charCodeAt(o),u=this.match(s,a,this.bufferPos+this.bufferStart);if(o==i.length-1){if(u)return this.value=u,this;break}a==r&&o<n.length&&n.charCodeAt(o)==s&&a++}}}match(e,n,r){let i=null;for(let o=0;o<this.matches.length;o+=2){let a=this.matches[o],s=!1;this.query.charCodeAt(a)==e&&(a==this.query.length-1?i={from:this.matches[o+1],to:r}:(this.matches[o]++,s=!0)),s||(this.matches.splice(o,2),o-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:n,to:r}:this.matches.push(1,n)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(vO.prototype[Symbol.iterator]=function(){return this});const hce={from:-1,to:-1,match:/.*/.exec("")},zF="gm"+(/x/.unicode==null?"":"u");class dce{constructor(e,n,r,i=0,o=e.length){if(this.text=e,this.to=o,this.curLine="",this.done=!1,this.value=hce,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new fce(e,n,r,i,o);this.re=new RegExp(n,zF+(r?.ignoreCase?"i":"")),this.test=r?.test,this.iter=e.iter();let a=e.lineAt(i);this.curLineStart=a.from,this.matchPos=qM(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,i=r+n[0].length;if(this.matchPos=qM(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const o$=new WeakMap;class Mw{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,r){let i=o$.get(e);if(!i||i.from>=r||i.to<=n){let s=new Mw(n,e.sliceString(n,r));return o$.set(e,s),s}if(i.from==n&&i.to==r)return i;let{text:o,from:a}=i;return a>n&&(o=e.sliceString(n,a)+o,a=n),i.to<r&&(o+=e.sliceString(i.to,r)),o$.set(e,new Mw(a,o)),new Mw(n,o.slice(n-a,r-a))}}class fce{constructor(e,n,r,i,o){this.text=e,this.to=o,this.done=!1,this.value=hce,this.matchPos=qM(e,i),this.re=new RegExp(n,zF+(r?.ignoreCase?"i":"")),this.test=r?.test,this.flat=Mw.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,i=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this.matchPos=qM(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Mw.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(dce.prototype[Symbol.iterator]=fce.prototype[Symbol.iterator]=function(){return this});function $Ge(t){try{return new RegExp(t,zF),!0}catch{return!1}}function qM(t,e){if(e>=t.length)return e;let n=t.lineAt(e),r;for(;e<n.to&&(r=n.text.charCodeAt(e-n.from))>=56320&&r<57344;)e++;return e}function V6(t){let e=String(t.state.doc.lineAt(t.state.selection.main.head).number),n=go("input",{class:"cm-textfield",name:"line",value:e}),r=go("form",{class:"cm-gotoLine",onkeydown:o=>{o.keyCode==27?(o.preventDefault(),t.dispatch({effects:jC.of(!1)}),t.focus()):o.keyCode==13&&(o.preventDefault(),i())},onsubmit:o=>{o.preventDefault(),i()}},go("label",t.state.phrase("Go to line"),": ",n)," ",go("button",{class:"cm-button",type:"submit"},t.state.phrase("go")),go("button",{name:"close",onclick:()=>{t.dispatch({effects:jC.of(!1)}),t.focus()},"aria-label":t.state.phrase("close"),type:"button"},[""]));function i(){let o=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!o)return;let{state:a}=t,s=a.doc.lineAt(a.selection.main.head),[,u,d,g,v]=o,x=g?+g.slice(1):0,O=d?+d:s.number;if(d&&v){let M=O/100;u&&(M=M*(u=="-"?-1:1)+s.number/a.doc.lines),O=Math.round(a.doc.lines*M)}else d&&u&&(O=O*(u=="-"?-1:1)+s.number);let E=a.doc.line(Math.max(1,Math.min(a.doc.lines,O))),A=jt.cursor(E.from+Math.max(0,Math.min(x,E.length)));t.dispatch({effects:[jC.of(!1),dn.scrollIntoView(A.from,{y:"center"})],selection:A}),t.focus()}return{dom:r}}const jC=pr.define(),xG=Ls.define({create(){return!0},update(t,e){for(let n of e.effects)n.is(jC)&&(t=n.value);return t},provide:t=>zT.from(t,e=>e?V6:null)}),zGe=t=>{let e=$T(t,V6);if(!e){let n=[jC.of(!0)];t.state.field(xG,!1)==null&&n.push(pr.appendConfig.of([xG,NGe])),t.dispatch({effects:n}),e=$T(t,V6)}return e&&e.dom.querySelector("input").select(),!0},NGe=dn.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),BGe={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},FGe=Mn.define({combine(t){return Om(t,BGe,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function jGe(t){return[qGe,ZGe]}const VGe=Bn.mark({class:"cm-selectionMatch"}),QGe=Bn.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function bG(t,e,n,r){return(n==0||t(e.sliceDoc(n-1,n))!=Ho.Word)&&(r==e.doc.length||t(e.sliceDoc(r,r+1))!=Ho.Word)}function UGe(t,e,n,r){return t(e.sliceDoc(n,n+1))==Ho.Word&&t(e.sliceDoc(r-1,r))==Ho.Word}const ZGe=Rs.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(FGe),{state:n}=t,r=n.selection;if(r.ranges.length>1)return Bn.none;let i=r.main,o,a=null;if(i.empty){if(!e.highlightWordAroundCursor)return Bn.none;let u=n.wordAt(i.head);if(!u)return Bn.none;a=n.charCategorizer(i.head),o=n.sliceDoc(u.from,u.to)}else{let u=i.to-i.from;if(u<e.minSelectionLength||u>200)return Bn.none;if(e.wholeWords){if(o=n.sliceDoc(i.from,i.to),a=n.charCategorizer(i.head),!(bG(a,n,i.from,i.to)&&UGe(a,n,i.from,i.to)))return Bn.none}else if(o=n.sliceDoc(i.from,i.to),!o)return Bn.none}let s=[];for(let u of t.visibleRanges){let d=new vO(n.doc,o,u.from,u.to);for(;!d.next().done;){let{from:g,to:v}=d.value;if((!a||bG(a,n,g,v))&&(i.empty&&g<=i.from&&v>=i.to?s.push(QGe.range(g,v)):(g>=i.to||v<=i.from)&&s.push(VGe.range(g,v)),s.length>e.maxMatches))return Bn.none}}return Bn.set(s)}},{decorations:t=>t.decorations}),qGe=dn.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),WGe=({state:t,dispatch:e})=>{let{selection:n}=t,r=jt.create(n.ranges.map(i=>t.wordAt(i.head)||jt.cursor(i.head)),n.mainIndex);return r.eq(n)?!1:(e(t.update({selection:r})),!0)};function HGe(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),o=i&&i.from==n.from&&i.to==n.to;for(let a=!1,s=new vO(t.doc,e,r[r.length-1].to);;)if(s.next(),s.done){if(a)return null;s=new vO(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),a=!0}else{if(a&&r.some(u=>u.from==s.value.from))continue;if(o){let u=t.wordAt(s.value.from);if(!u||u.from!=s.value.from||u.to!=s.value.to)continue}return s.value}}const GGe=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(o=>o.from===o.to))return WGe({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(o=>t.sliceDoc(o.from,o.to)!=r))return!1;let i=HGe(t,r);return i?(e(t.update({selection:t.selection.addRange(jt.range(i.from,i.to),!1),effects:dn.scrollIntoView(i.to)})),!0):!1},sS=Mn.define({combine(t){return Om(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new aXe(e),scrollToMatch:e=>dn.scrollIntoView(e)})}});class pce{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||$Ge(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new JGe(this):new YGe(this)}getCursor(e,n=0,r){let i=e.doc?e:Rr.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?K1(this,i,n,r):Y1(this,i,n,r)}}class mce{constructor(e){this.spec=e}}function Y1(t,e,n,r){return new vO(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:i=>i.toLowerCase(),t.wholeWord?XGe(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function XGe(t,e){return(n,r,i,o)=>((o>n||o+i.length<r)&&(o=Math.max(0,n-2),i=t.sliceString(o,Math.min(t.length,r+2))),(e(WM(i,n-o))!=Ho.Word||e(HM(i,n-o))!=Ho.Word)&&(e(HM(i,r-o))!=Ho.Word||e(WM(i,r-o))!=Ho.Word))}class YGe extends mce{constructor(e){super(e)}nextMatch(e,n,r){let i=Y1(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let o=Math.min(e.doc.length,n+this.spec.unquoted.length);i=Y1(this.spec,e,0,o).nextOverlapping()}return i.done||i.value.from==n&&i.value.to==r?null:i.value}prevMatchInRange(e,n,r){for(let i=r;;){let o=Math.max(n,i-1e4-this.spec.unquoted.length),a=Y1(this.spec,e,o,i),s=null;for(;!a.nextOverlapping().done;)s=a.value;if(s)return s;if(o==n)return null;i-=1e4}}prevMatch(e,n,r){let i=this.prevMatchInRange(e,0,n);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=n||i.to!=r)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let r=Y1(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let o=Y1(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}function K1(t,e,n,r){return new dce(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?KGe(e.charCategorizer(e.selection.main.head)):void 0},n,r)}function WM(t,e){return t.slice(ya(t,e,!1),e)}function HM(t,e){return t.slice(e,ya(t,e))}function KGe(t){return(e,n,r)=>!r[0].length||(t(WM(r.input,r.index))!=Ho.Word||t(HM(r.input,r.index))!=Ho.Word)&&(t(HM(r.input,r.index+r[0].length))!=Ho.Word||t(WM(r.input,r.index+r[0].length))!=Ho.Word)}class JGe extends mce{nextMatch(e,n,r){let i=K1(this.spec,e,r,e.doc.length).next();return i.done&&(i=K1(this.spec,e,0,n).next()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=1;;i++){let o=Math.max(n,r-i*1e4),a=K1(this.spec,e,o,r),s=null;for(;!a.next().done;)s=a.value;if(s&&(o==n||s.from>o+10))return s;if(o==n)return null}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(n,r)=>{if(r=="&")return e.match[0];if(r=="$")return"$";for(let i=r.length;i>0;i--){let o=+r.slice(0,i);if(o>0&&o<e.match.length)return e.match[o]+r.slice(i)}return n})}matchAll(e,n){let r=K1(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let o=K1(this.spec,e,Math.max(0,n-250),Math.min(r+250,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}const HT=pr.define(),NF=pr.define(),B0=Ls.define({create(t){return new s$(Q6(t).create(),null)},update(t,e){for(let n of e.effects)n.is(HT)?t=new s$(n.value.create(),t.panel):n.is(NF)&&(t=new s$(t.query,n.value?BF:null));return t},provide:t=>zT.from(t,e=>e.panel)});class s${constructor(e,n){this.query=e,this.panel=n}}const eXe=Bn.mark({class:"cm-searchMatch"}),tXe=Bn.mark({class:"cm-searchMatch cm-searchMatch-selected"}),nXe=Rs.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(B0))}update(t){let e=t.state.field(B0);(e!=t.startState.field(B0)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return Bn.none;let{view:n}=this,r=new hu;for(let i=0,o=n.visibleRanges,a=o.length;i<a;i++){let{from:s,to:u}=o[i];for(;i<a-1&&u>o[i+1].from-500;)u=o[++i].to;t.highlight(n.state,s,u,(d,g)=>{let v=n.state.selection.ranges.some(x=>x.from==d&&x.to==g);r.add(d,g,v?tXe:eXe)})}return r.finish()}},{decorations:t=>t.decorations});function Jk(t){return e=>{let n=e.state.field(B0,!1);return n&&n.query.spec.valid?t(e,n):vce(e)}}const GM=Jk((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let i=jt.single(r.from,r.to),o=t.state.facet(sS);return t.dispatch({selection:i,effects:[FF(t,r),o.scrollToMatch(i.main,t)],userEvent:"select.search"}),yce(t),!0}),XM=Jk((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,i=e.prevMatch(n,r,r);if(!i)return!1;let o=jt.single(i.from,i.to),a=t.state.facet(sS);return t.dispatch({selection:o,effects:[FF(t,i),a.scrollToMatch(o.main,t)],userEvent:"select.search"}),yce(t),!0}),rXe=Jk((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:jt.create(n.map(r=>jt.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),iXe=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,o=[],a=0;for(let s=new vO(t.doc,t.sliceDoc(r,i));!s.next().done;){if(o.length>1e3)return!1;s.value.from==r&&(a=o.length),o.push(jt.range(s.value.from,s.value.to))}return e(t.update({selection:jt.create(o,a),userEvent:"select.search.matches"})),!0},wG=Jk((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let o=e.nextMatch(n,r,r);if(!o)return!1;let a=o,s=[],u,d,g=[];a.from==r&&a.to==i&&(d=n.toText(e.getReplacement(a)),s.push({from:a.from,to:a.to,insert:d}),a=e.nextMatch(n,a.from,a.to),g.push(dn.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+".")));let v=t.state.changes(s);return a&&(u=jt.single(a.from,a.to).map(v),g.push(FF(t,a)),g.push(n.facet(sS).scrollToMatch(u.main,t))),t.dispatch({changes:v,selection:u,effects:g,userEvent:"input.replace"}),!0}),oXe=Jk((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(i=>{let{from:o,to:a}=i;return{from:o,to:a,insert:e.getReplacement(i)}});if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:dn.announce.of(r),userEvent:"input.replace.all"}),!0});function BF(t){return t.state.facet(sS).createPanel(t)}function Q6(t,e){var n,r,i,o,a;let s=t.selection.main,u=s.empty||s.to>s.from+100?"":t.sliceDoc(s.from,s.to);if(e&&!u)return e;let d=t.facet(sS);return new pce({search:((n=e?.literal)!==null&&n!==void 0?n:d.literal)?u:u.replace(/\n/g,"\\n"),caseSensitive:(r=e?.caseSensitive)!==null&&r!==void 0?r:d.caseSensitive,literal:(i=e?.literal)!==null&&i!==void 0?i:d.literal,regexp:(o=e?.regexp)!==null&&o!==void 0?o:d.regexp,wholeWord:(a=e?.wholeWord)!==null&&a!==void 0?a:d.wholeWord})}function gce(t){let e=$T(t,BF);return e&&e.dom.querySelector("[main-field]")}function yce(t){let e=gce(t);e&&e==t.root.activeElement&&e.select()}const vce=t=>{let e=t.state.field(B0,!1);if(e&&e.panel){let n=gce(t);if(n&&n!=t.root.activeElement){let r=Q6(t.state,e.query.spec);r.valid&&t.dispatch({effects:HT.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[NF.of(!0),e?HT.of(Q6(t.state,e.query.spec)):pr.appendConfig.of(cXe)]});return!0},_ce=t=>{let e=t.state.field(B0,!1);if(!e||!e.panel)return!1;let n=$T(t,BF);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:NF.of(!1)}),!0},sXe=[{key:"Mod-f",run:vce,scope:"editor search-panel"},{key:"F3",run:GM,shift:XM,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:GM,shift:XM,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:_ce,scope:"editor search-panel"},{key:"Mod-Shift-l",run:iXe},{key:"Mod-Alt-g",run:zGe},{key:"Mod-d",run:GGe,preventDefault:!0}];class aXe{constructor(e){this.view=e;let n=this.query=e.state.field(B0).query.spec;this.commit=this.commit.bind(this),this.searchField=go("input",{value:n.search,placeholder:Bu(e,"Find"),"aria-label":Bu(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=go("input",{value:n.replace,placeholder:Bu(e,"Replace"),"aria-label":Bu(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=go("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=go("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=go("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(i,o,a){return go("button",{class:"cm-button",name:i,onclick:o,type:"button"},a)}this.dom=go("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>GM(e),[Bu(e,"next")]),r("prev",()=>XM(e),[Bu(e,"previous")]),r("select",()=>rXe(e),[Bu(e,"all")]),go("label",null,[this.caseField,Bu(e,"match case")]),go("label",null,[this.reField,Bu(e,"regexp")]),go("label",null,[this.wordField,Bu(e,"by word")]),...e.state.readOnly?[]:[go("br"),this.replaceField,r("replace",()=>wG(e),[Bu(e,"replace")]),r("replaceAll",()=>oXe(e),[Bu(e,"replace all")])],go("button",{name:"close",onclick:()=>_ce(e),"aria-label":Bu(e,"close"),type:"button"},[""])])}commit(){let e=new pce({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:HT.of(e)}))}keydown(e){QVe(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?XM:GM)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),wG(this.view))}update(e){for(let n of e.transactions)for(let r of n.effects)r.is(HT)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(sS).top}}function Bu(t,e){return t.state.phrase(e)}const fP=30,pP=/[\s\.,:;?!]/;function FF(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),i=t.state.doc.lineAt(n).to,o=Math.max(r.from,e-fP),a=Math.min(i,n+fP),s=t.state.sliceDoc(o,a);if(o!=r.from){for(let u=0;u<fP;u++)if(!pP.test(s[u+1])&&pP.test(s[u])){s=s.slice(u);break}}if(a!=i){for(let u=s.length-1;u>s.length-fP;u--)if(!pP.test(s[u-1])&&pP.test(s[u])){s=s.slice(0,u);break}}return dn.announce.of(`${t.state.phrase("current match")}. ${s} ${t.state.phrase("on line")} ${r.number}.`)}const lXe=dn.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),cXe=[B0,Nf.low(nXe),lXe];class OG{constructor(e,n,r){this.from=e,this.to=n,this.diagnostic=r}}class Q_{constructor(e,n,r){this.diagnostics=e,this.panel=n,this.selected=r}static init(e,n,r){let i=r.facet(GT).markerFilter;i&&(e=i(e,r));let o=e.slice().sort((O,E)=>O.from-E.from||O.to-E.to),a=new hu,s=[],u=0,d=r.doc.iter(),g=0,v=r.doc.length;for(let O=0;;){let E=O==o.length?null:o[O];if(!E&&!s.length)break;let A,M;if(s.length)A=u,M=s.reduce((N,F)=>Math.min(N,F.to),E&&E.from>A?E.from:1e8);else{if(A=E.from,A>v)break;M=E.to,s.push(E),O++}for(;O<o.length;){let N=o[O];if(N.from==A&&(N.to>N.from||N.to==A))s.push(N),O++,M=Math.min(N.to,M);else{M=Math.min(N.from,M);break}}M=Math.min(M,v);let L=!1;if(s.some(N=>N.from==A&&(N.to==M||M==v))&&(L=A==M,!L&&M-A<10)){let N=A-(g+d.value.length);N>0&&(d.next(N),g=A);for(let F=A;;){if(F>=M){L=!0;break}if(!d.lineBreak&&g+d.value.length>F)break;F=g+d.value.length,g+=d.value.length,d.next()}}let $=wXe(s);if(L)a.add(A,A,Bn.widget({widget:new vXe($),diagnostics:s.slice()}));else{let N=s.reduce((F,U)=>U.markClass?F+" "+U.markClass:F,"");a.add(A,M,Bn.mark({class:"cm-lintRange cm-lintRange-"+$+N,diagnostics:s.slice(),inclusiveEnd:s.some(F=>F.to>M)}))}if(u=M,u==v)break;for(let N=0;N<s.length;N++)s[N].to<=u&&s.splice(N--,1)}let x=a.finish();return new Q_(x,n,_O(x))}}function _O(t,e=null,n=0){let r=null;return t.between(n,1e9,(i,o,{spec:a})=>{if(!(e&&a.diagnostics.indexOf(e)<0))if(!r)r=new OG(i,o,e||a.diagnostics[0]);else{if(a.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new OG(r.from,o,r.diagnostic)}}),r}function uXe(t,e){let n=e.pos,r=e.end||n,i=t.state.facet(GT).hideOn(t,n,r);if(i!=null)return i;let o=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(a=>a.is(xce))||t.changes.touchesRange(o.from,Math.max(o.to,r)))}function hXe(t,e){return t.field(nh,!1)?e:e.concat(pr.appendConfig.of(OXe))}const xce=pr.define(),jF=pr.define(),bce=pr.define(),nh=Ls.define({create(){return new Q_(Bn.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let n=t.diagnostics.map(e.changes),r=null,i=t.panel;if(t.selected){let o=e.changes.mapPos(t.selected.from,1);r=_O(n,t.selected.diagnostic,o)||_O(n,null,o)}!n.size&&i&&e.state.facet(GT).autoPanel&&(i=null),t=new Q_(n,i,r)}for(let n of e.effects)if(n.is(xce)){let r=e.state.facet(GT).autoPanel?n.value.length?XT.open:null:t.panel;t=Q_.init(n.value,r,e.state)}else n.is(jF)?t=new Q_(t.diagnostics,n.value?XT.open:null,t.selected):n.is(bce)&&(t=new Q_(t.diagnostics,t.panel,n.value));return t},provide:t=>[zT.from(t,e=>e.panel),dn.decorations.from(t,e=>e.diagnostics)]}),dXe=Bn.mark({class:"cm-lintRange cm-lintRange-active"});function fXe(t,e,n){let{diagnostics:r}=t.state.field(nh),i,o=-1,a=-1;r.between(e-(n<0?1:0),e+(n>0?1:0),(u,d,{spec:g})=>{if(e>=u&&e<=d&&(u==d||(e>u||n>0)&&(e<d||n<0)))return i=g.diagnostics,o=u,a=d,!1});let s=t.state.facet(GT).tooltipFilter;return i&&s&&(i=s(i,t.state)),i?{pos:o,end:a,above:t.state.doc.lineAt(o).to<a,create(){return{dom:pXe(t,i)}}}:null}function pXe(t,e){return go("ul",{class:"cm-tooltip-lint"},e.map(n=>Oce(t,n,!1)))}const mXe=t=>{let e=t.state.field(nh,!1);(!e||!e.panel)&&t.dispatch({effects:hXe(t.state,[jF.of(!0)])});let n=$T(t,XT.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},SG=t=>{let e=t.state.field(nh,!1);return!e||!e.panel?!1:(t.dispatch({effects:jF.of(!1)}),!0)},gXe=t=>{let e=t.state.field(nh,!1);if(!e)return!1;let n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)?!1:(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},yXe=[{key:"Mod-Shift-m",run:mXe,preventDefault:!0},{key:"F8",run:gXe}],GT=Mn.define({combine(t){return{sources:t.map(e=>e.source).filter(e=>e!=null),...Om(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:CG,tooltipFilter:CG,needsRefresh:(e,n)=>e?n?r=>e(r)||n(r):e:n,hideOn:(e,n)=>e?n?(r,i,o)=>e(r,i,o)||n(r,i,o):e:n,autoPanel:(e,n)=>e||n})}}});function CG(t,e){return t?e?(n,r)=>e(t(n,r),r):t:e}function wce(t){let e=[];if(t)e:for(let{name:n}of t){for(let r=0;r<n.length;r++){let i=n[r];if(/[a-zA-Z]/.test(i)&&!e.some(o=>o.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function Oce(t,e,n){var r;let i=n?wce(e.actions):[];return go("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},go("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((o,a)=>{let s=!1,u=O=>{if(O.preventDefault(),s)return;s=!0;let E=_O(t.state.field(nh).diagnostics,e);E&&o.apply(t,E.from,E.to)},{name:d}=o,g=i[a]?d.indexOf(i[a]):-1,v=g<0?d:[d.slice(0,g),go("u",d.slice(g,g+1)),d.slice(g+1)],x=o.markClass?" "+o.markClass:"";return go("button",{type:"button",class:"cm-diagnosticAction"+x,onclick:u,onmousedown:u,"aria-label":` Action: ${d}${g<0?"":` (access key "${i[a]})"`}.`},v)}),e.source&&go("div",{class:"cm-diagnosticSource"},e.source))}class vXe extends md{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return go("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class TG{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=Oce(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class XT{constructor(e){this.view=e,this.items=[];let n=i=>{if(i.keyCode==27)SG(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:o}=this.items[this.selectedIndex],a=wce(o.actions);for(let s=0;s<a.length;s++)if(a[s].toUpperCase().charCodeAt(0)==i.keyCode){let u=_O(this.view.state.field(nh).diagnostics,o);u&&o.actions[s].apply(e,u.from,u.to)}}else return;i.preventDefault()},r=i=>{for(let o=0;o<this.items.length;o++)this.items[o].dom.contains(i.target)&&this.moveSelection(o)};this.list=go("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=go("div",{class:"cm-panel-lint"},this.list,go("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>SG(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(nh).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(nh),r=0,i=!1,o=null,a=new Set;for(e.between(0,this.view.state.doc.length,(s,u,{spec:d})=>{for(let g of d.diagnostics){if(a.has(g))continue;a.add(g);let v=-1,x;for(let O=r;O<this.items.length;O++)if(this.items[O].diagnostic==g){v=O;break}v<0?(x=new TG(this.view,g),this.items.splice(r,0,x),i=!0):(x=this.items[v],v>r&&(this.items.splice(r,v-r),i=!0)),n&&x.diagnostic==n.diagnostic?x.dom.hasAttribute("aria-selected")||(x.dom.setAttribute("aria-selected","true"),o=x):x.dom.hasAttribute("aria-selected")&&x.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new TG(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:s,panel:u})=>{let d=u.height/this.list.offsetHeight;s.top<u.top?this.list.scrollTop-=(u.top-s.top)/d:s.bottom>u.bottom&&(this.list.scrollTop+=(s.bottom-u.bottom)/d)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function n(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)n();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(nh),r=_O(n.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:bce.of(r)})}static open(e){return new XT(e)}}function _Xe(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function mP(t){return _Xe(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const xXe=dn.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:mP("#d11")},".cm-lintRange-warning":{backgroundImage:mP("orange")},".cm-lintRange-info":{backgroundImage:mP("#999")},".cm-lintRange-hint":{backgroundImage:mP("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function bXe(t){return t=="error"?4:t=="warning"?3:t=="info"?2:1}function wXe(t){let e="hint",n=1;for(let r of t){let i=bXe(r.severity);i>n&&(n=i,e=r.severity)}return e}const OXe=[nh,dn.decorations.compute([nh],t=>{let{selected:e,panel:n}=t.field(nh);return!e||!n||e.from==e.to?Bn.none:Bn.set([dXe.range(e.from,e.to)])}),AQe(fXe,{hideOn:uXe}),xXe],Sce=[iF(),jQe(),sQe(),oqe(),IUe(),GVe(),eQe(),Rr.allowMultipleSelections.of(!0),bUe(),xae(zUe,{fallback:!0}),UUe(),zZe(),HZe(),vQe(),bQe(),dQe(),jGe(),JO.of([...jZe,...aWe,...sXe,...pqe,...AUe,...jae,...yXe])];function kG(t,[e,n]){return Math.min(n,Math.max(e,t))}function SXe(t){const e=j.useRef({value:t,previous:t});return j.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Cce=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),CXe="VisuallyHidden",Tce=j.forwardRef((t,e)=>Y.jsx(Zr.span,{...t,ref:e,style:{...Cce,...t.style}}));Tce.displayName=CXe;var TXe=Tce,kXe=[" ","Enter","ArrowUp","ArrowDown"],EXe=[" ","Enter"],Nx="Select",[nD,rD,AXe]=nre(Nx),[aS]=my(Nx,[AXe,GO]),iD=GO(),[PXe,fv]=aS(Nx),[MXe,RXe]=aS(Nx),kce=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:a,defaultValue:s,onValueChange:u,dir:d,name:g,autoComplete:v,disabled:x,required:O,form:E}=t,A=iD(e),[M,L]=j.useState(null),[$,N]=j.useState(null),[F,U]=j.useState(!1),q=MI(d),[W,te]=iy({prop:r,defaultProp:i??!1,onChange:o,caller:Nx}),[re,ce]=iy({prop:a,defaultProp:s,onChange:u,caller:Nx}),be=j.useRef(null),ie=M?E||!!M.closest("form"):!0,[me,we]=j.useState(new Set),pe=Array.from(me).map(_e=>_e.props.value).join(";");return Y.jsx(q8,{...A,children:Y.jsxs(PXe,{required:O,scope:e,trigger:M,onTriggerChange:L,valueNode:$,onValueNodeChange:N,valueNodeHasChildren:F,onValueNodeHasChildrenChange:U,contentId:qg(),value:re,onValueChange:ce,open:W,onOpenChange:te,dir:q,triggerPointerDownPosRef:be,disabled:x,children:[Y.jsx(nD.Provider,{scope:e,children:Y.jsx(MXe,{scope:t.__scopeSelect,onNativeOptionAdd:j.useCallback(_e=>{we(Me=>new Set(Me).add(_e))},[]),onNativeOptionRemove:j.useCallback(_e=>{we(Me=>{const Be=new Set(Me);return Be.delete(_e),Be})},[]),children:n})}),ie?Y.jsxs(Wce,{"aria-hidden":!0,required:O,tabIndex:-1,name:g,autoComplete:v,value:re,onChange:_e=>ce(_e.target.value),disabled:x,form:E,children:[re===void 0?Y.jsx("option",{value:""}):null,Array.from(me)]},pe):null]})})};kce.displayName=Nx;var Ece="SelectTrigger",Ace=j.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=iD(n),a=fv(Ece,n),s=a.disabled||r,u=Ro(e,a.onTriggerChange),d=rD(n),g=j.useRef("touch"),[v,x,O]=Gce(A=>{const M=d().filter(N=>!N.disabled),L=M.find(N=>N.value===a.value),$=Xce(M,A,L);$!==void 0&&a.onValueChange($.value)}),E=A=>{s||(a.onOpenChange(!0),O()),A&&(a.triggerPointerDownPosRef.current={x:Math.round(A.pageX),y:Math.round(A.pageY)})};return Y.jsx(TI,{asChild:!0,...o,children:Y.jsx(Zr.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":Hce(a.value)?"":void 0,...i,ref:u,onClick:Or(i.onClick,A=>{A.currentTarget.focus(),g.current!=="mouse"&&E(A)}),onPointerDown:Or(i.onPointerDown,A=>{g.current=A.pointerType;const M=A.target;M.hasPointerCapture(A.pointerId)&&M.releasePointerCapture(A.pointerId),A.button===0&&A.ctrlKey===!1&&A.pointerType==="mouse"&&(E(A),A.preventDefault())}),onKeyDown:Or(i.onKeyDown,A=>{const M=v.current!=="";!(A.ctrlKey||A.altKey||A.metaKey)&&A.key.length===1&&x(A.key),!(M&&A.key===" ")&&kXe.includes(A.key)&&(E(),A.preventDefault())})})})});Ace.displayName=Ece;var Pce="SelectValue",Mce=j.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:a="",...s}=t,u=fv(Pce,n),{onValueNodeHasChildrenChange:d}=u,g=o!==void 0,v=Ro(e,u.onValueNodeChange);return zl(()=>{d(g)},[d,g]),Y.jsx(Zr.span,{...s,ref:v,style:{pointerEvents:"none"},children:Hce(u.value)?Y.jsx(Y.Fragment,{children:a}):o})});Mce.displayName=Pce;var IXe="SelectIcon",Rce=j.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return Y.jsx(Zr.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});Rce.displayName=IXe;var DXe="SelectPortal",Ice=t=>Y.jsx(zk,{asChild:!0,...t});Ice.displayName=DXe;var Bx="SelectContent",Dce=j.forwardRef((t,e)=>{const n=fv(Bx,t.__scopeSelect),[r,i]=j.useState();if(zl(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?um.createPortal(Y.jsx(Lce,{scope:t.__scopeSelect,children:Y.jsx(nD.Slot,{scope:t.__scopeSelect,children:Y.jsx("div",{children:t.children})})}),o):null}return Y.jsx($ce,{...t,ref:e})});Dce.displayName=Bx;var ff=10,[Lce,pv]=aS(Bx),LXe="SelectContentImpl",$Xe=nO("SelectContent.RemoveScroll"),$ce=j.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:a,side:s,sideOffset:u,align:d,alignOffset:g,arrowPadding:v,collisionBoundary:x,collisionPadding:O,sticky:E,hideWhenDetached:A,avoidCollisions:M,...L}=t,$=fv(Bx,n),[N,F]=j.useState(null),[U,q]=j.useState(null),W=Ro(e,ot=>F(ot)),[te,re]=j.useState(null),[ce,be]=j.useState(null),ie=rD(n),[me,we]=j.useState(!1),pe=j.useRef(!1);j.useEffect(()=>{if(N)return G8(N)},[N]),z8();const _e=j.useCallback(ot=>{const[vt,...At]=ie().map(Ot=>Ot.ref.current),[Tt]=At.slice(-1),Wt=document.activeElement;for(const Ot of ot)if(Ot===Wt||(Ot?.scrollIntoView({block:"nearest"}),Ot===vt&&U&&(U.scrollTop=0),Ot===Tt&&U&&(U.scrollTop=U.scrollHeight),Ot?.focus(),document.activeElement!==Wt))return},[ie,U]),Me=j.useCallback(()=>_e([te,N]),[_e,te,N]);j.useEffect(()=>{me&&Me()},[me,Me]);const{onOpenChange:Be,triggerPointerDownPosRef:Ue}=$;j.useEffect(()=>{if(N){let ot={x:0,y:0};const vt=Tt=>{ot={x:Math.abs(Math.round(Tt.pageX)-(Ue.current?.x??0)),y:Math.abs(Math.round(Tt.pageY)-(Ue.current?.y??0))}},At=Tt=>{ot.x<=10&&ot.y<=10?Tt.preventDefault():N.contains(Tt.target)||Be(!1),document.removeEventListener("pointermove",vt),Ue.current=null};return Ue.current!==null&&(document.addEventListener("pointermove",vt),document.addEventListener("pointerup",At,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",vt),document.removeEventListener("pointerup",At,{capture:!0})}}},[N,Be,Ue]),j.useEffect(()=>{const ot=()=>Be(!1);return window.addEventListener("blur",ot),window.addEventListener("resize",ot),()=>{window.removeEventListener("blur",ot),window.removeEventListener("resize",ot)}},[Be]);const[Ce,Pe]=Gce(ot=>{const vt=ie().filter(Wt=>!Wt.disabled),At=vt.find(Wt=>Wt.ref.current===document.activeElement),Tt=Xce(vt,ot,At);Tt&&setTimeout(()=>Tt.ref.current.focus())}),Xe=j.useCallback((ot,vt,At)=>{const Tt=!pe.current&&!At;($.value!==void 0&&$.value===vt||Tt)&&(re(ot),Tt&&(pe.current=!0))},[$.value]),ke=j.useCallback(()=>N?.focus(),[N]),mt=j.useCallback((ot,vt,At)=>{const Tt=!pe.current&&!At;($.value!==void 0&&$.value===vt||Tt)&&be(ot)},[$.value]),gt=r==="popper"?U6:zce,ct=gt===U6?{side:s,sideOffset:u,align:d,alignOffset:g,arrowPadding:v,collisionBoundary:x,collisionPadding:O,sticky:E,hideWhenDetached:A,avoidCollisions:M}:{};return Y.jsx(Lce,{scope:n,content:N,viewport:U,onViewportChange:q,itemRefCallback:Xe,selectedItem:te,onItemLeave:ke,itemTextRefCallback:mt,focusSelectedItem:Me,selectedItemText:ce,position:r,isPositioned:me,searchRef:Ce,children:Y.jsx(EI,{as:$Xe,allowPinchZoom:!0,children:Y.jsx(bI,{asChild:!0,trapped:$.open,onMountAutoFocus:ot=>{ot.preventDefault()},onUnmountAutoFocus:Or(i,ot=>{$.trigger?.focus({preventScroll:!0}),ot.preventDefault()}),children:Y.jsx(Lk,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:ot=>ot.preventDefault(),onDismiss:()=>$.onOpenChange(!1),children:Y.jsx(gt,{role:"listbox",id:$.contentId,"data-state":$.open?"open":"closed",dir:$.dir,onContextMenu:ot=>ot.preventDefault(),...L,...ct,onPlaced:()=>we(!0),ref:W,style:{display:"flex",flexDirection:"column",outline:"none",...L.style},onKeyDown:Or(L.onKeyDown,ot=>{const vt=ot.ctrlKey||ot.altKey||ot.metaKey;if(ot.key==="Tab"&&ot.preventDefault(),!vt&&ot.key.length===1&&Pe(ot.key),["ArrowUp","ArrowDown","Home","End"].includes(ot.key)){let Tt=ie().filter(Wt=>!Wt.disabled).map(Wt=>Wt.ref.current);if(["ArrowUp","End"].includes(ot.key)&&(Tt=Tt.slice().reverse()),["ArrowUp","ArrowDown"].includes(ot.key)){const Wt=ot.target,Ot=Tt.indexOf(Wt);Tt=Tt.slice(Ot+1)}setTimeout(()=>_e(Tt)),ot.preventDefault()}})})})})})})});$ce.displayName=LXe;var zXe="SelectItemAlignedPosition",zce=j.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=fv(Bx,n),a=pv(Bx,n),[s,u]=j.useState(null),[d,g]=j.useState(null),v=Ro(e,W=>g(W)),x=rD(n),O=j.useRef(!1),E=j.useRef(!0),{viewport:A,selectedItem:M,selectedItemText:L,focusSelectedItem:$}=a,N=j.useCallback(()=>{if(o.trigger&&o.valueNode&&s&&d&&A&&M&&L){const W=o.trigger.getBoundingClientRect(),te=d.getBoundingClientRect(),re=o.valueNode.getBoundingClientRect(),ce=L.getBoundingClientRect();if(o.dir!=="rtl"){const Wt=ce.left-te.left,Ot=re.left-Wt,hn=W.left-Ot,Gt=W.width+hn,Yt=Math.max(Gt,te.width),Cn=window.innerWidth-ff,sn=kG(Ot,[ff,Math.max(ff,Cn-Yt)]);s.style.minWidth=Gt+"px",s.style.left=sn+"px"}else{const Wt=te.right-ce.right,Ot=window.innerWidth-re.right-Wt,hn=window.innerWidth-W.right-Ot,Gt=W.width+hn,Yt=Math.max(Gt,te.width),Cn=window.innerWidth-ff,sn=kG(Ot,[ff,Math.max(ff,Cn-Yt)]);s.style.minWidth=Gt+"px",s.style.right=sn+"px"}const be=x(),ie=window.innerHeight-ff*2,me=A.scrollHeight,we=window.getComputedStyle(d),pe=parseInt(we.borderTopWidth,10),_e=parseInt(we.paddingTop,10),Me=parseInt(we.borderBottomWidth,10),Be=parseInt(we.paddingBottom,10),Ue=pe+_e+me+Be+Me,Ce=Math.min(M.offsetHeight*5,Ue),Pe=window.getComputedStyle(A),Xe=parseInt(Pe.paddingTop,10),ke=parseInt(Pe.paddingBottom,10),mt=W.top+W.height/2-ff,gt=ie-mt,ct=M.offsetHeight/2,ot=M.offsetTop+ct,vt=pe+_e+ot,At=Ue-vt;if(vt<=mt){const Wt=be.length>0&&M===be[be.length-1].ref.current;s.style.bottom="0px";const Ot=d.clientHeight-A.offsetTop-A.offsetHeight,hn=Math.max(gt,ct+(Wt?ke:0)+Ot+Me),Gt=vt+hn;s.style.height=Gt+"px"}else{const Wt=be.length>0&&M===be[0].ref.current;s.style.top="0px";const hn=Math.max(mt,pe+A.offsetTop+(Wt?Xe:0)+ct)+At;s.style.height=hn+"px",A.scrollTop=vt-mt+A.offsetTop}s.style.margin=`${ff}px 0`,s.style.minHeight=Ce+"px",s.style.maxHeight=ie+"px",r?.(),requestAnimationFrame(()=>O.current=!0)}},[x,o.trigger,o.valueNode,s,d,A,M,L,o.dir,r]);zl(()=>N(),[N]);const[F,U]=j.useState();zl(()=>{d&&U(window.getComputedStyle(d).zIndex)},[d]);const q=j.useCallback(W=>{W&&E.current===!0&&(N(),$?.(),E.current=!1)},[N,$]);return Y.jsx(BXe,{scope:n,contentWrapper:s,shouldExpandOnScrollRef:O,onScrollButtonChange:q,children:Y.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:F},children:Y.jsx(Zr.div,{...i,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});zce.displayName=zXe;var NXe="SelectPopperPosition",U6=j.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=ff,...o}=t,a=iD(n);return Y.jsx(W8,{...a,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});U6.displayName=NXe;var[BXe,VF]=aS(Bx,{}),Z6="SelectViewport",Nce=j.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,o=pv(Z6,n),a=VF(Z6,n),s=Ro(e,o.onViewportChange),u=j.useRef(0);return Y.jsxs(Y.Fragment,{children:[Y.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),Y.jsx(nD.Slot,{scope:n,children:Y.jsx(Zr.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Or(i.onScroll,d=>{const g=d.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:x}=a;if(x?.current&&v){const O=Math.abs(u.current-g.scrollTop);if(O>0){const E=window.innerHeight-ff*2,A=parseFloat(v.style.minHeight),M=parseFloat(v.style.height),L=Math.max(A,M);if(L<E){const $=L+O,N=Math.min(E,$),F=$-N;v.style.height=N+"px",v.style.bottom==="0px"&&(g.scrollTop=F>0?F:0,v.style.justifyContent="flex-end")}}}u.current=g.scrollTop})})})]})});Nce.displayName=Z6;var Bce="SelectGroup",[FXe,jXe]=aS(Bce),VXe=j.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=qg();return Y.jsx(FXe,{scope:n,id:i,children:Y.jsx(Zr.div,{role:"group","aria-labelledby":i,...r,ref:e})})});VXe.displayName=Bce;var Fce="SelectLabel",QXe=j.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=jXe(Fce,n);return Y.jsx(Zr.div,{id:i.id,...r,ref:e})});QXe.displayName=Fce;var YM="SelectItem",[UXe,jce]=aS(YM),Vce=j.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...a}=t,s=fv(YM,n),u=pv(YM,n),d=s.value===r,[g,v]=j.useState(o??""),[x,O]=j.useState(!1),E=Ro(e,$=>u.itemRefCallback?.($,r,i)),A=qg(),M=j.useRef("touch"),L=()=>{i||(s.onValueChange(r),s.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return Y.jsx(UXe,{scope:n,value:r,disabled:i,textId:A,isSelected:d,onItemTextChange:j.useCallback($=>{v(N=>N||($?.textContent??"").trim())},[]),children:Y.jsx(nD.ItemSlot,{scope:n,value:r,disabled:i,textValue:g,children:Y.jsx(Zr.div,{role:"option","aria-labelledby":A,"data-highlighted":x?"":void 0,"aria-selected":d&&x,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:E,onFocus:Or(a.onFocus,()=>O(!0)),onBlur:Or(a.onBlur,()=>O(!1)),onClick:Or(a.onClick,()=>{M.current!=="mouse"&&L()}),onPointerUp:Or(a.onPointerUp,()=>{M.current==="mouse"&&L()}),onPointerDown:Or(a.onPointerDown,$=>{M.current=$.pointerType}),onPointerMove:Or(a.onPointerMove,$=>{M.current=$.pointerType,i?u.onItemLeave?.():M.current==="mouse"&&$.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Or(a.onPointerLeave,$=>{$.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:Or(a.onKeyDown,$=>{u.searchRef?.current!==""&&$.key===" "||(EXe.includes($.key)&&L(),$.key===" "&&$.preventDefault())})})})})});Vce.displayName=YM;var uC="SelectItemText",Qce=j.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,a=fv(uC,n),s=pv(uC,n),u=jce(uC,n),d=RXe(uC,n),[g,v]=j.useState(null),x=Ro(e,L=>v(L),u.onItemTextChange,L=>s.itemTextRefCallback?.(L,u.value,u.disabled)),O=g?.textContent,E=j.useMemo(()=>Y.jsx("option",{value:u.value,disabled:u.disabled,children:O},u.value),[u.disabled,u.value,O]),{onNativeOptionAdd:A,onNativeOptionRemove:M}=d;return zl(()=>(A(E),()=>M(E)),[A,M,E]),Y.jsxs(Y.Fragment,{children:[Y.jsx(Zr.span,{id:u.textId,...o,ref:x}),u.isSelected&&a.valueNode&&!a.valueNodeHasChildren?um.createPortal(o.children,a.valueNode):null]})});Qce.displayName=uC;var Uce="SelectItemIndicator",ZXe=j.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return jce(Uce,n).isSelected?Y.jsx(Zr.span,{"aria-hidden":!0,...r,ref:e}):null});ZXe.displayName=Uce;var q6="SelectScrollUpButton",qXe=j.forwardRef((t,e)=>{const n=pv(q6,t.__scopeSelect),r=VF(q6,t.__scopeSelect),[i,o]=j.useState(!1),a=Ro(e,r.onScrollButtonChange);return zl(()=>{if(n.viewport&&n.isPositioned){let s=function(){const d=u.scrollTop>0;o(d)};const u=n.viewport;return s(),u.addEventListener("scroll",s),()=>u.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?Y.jsx(Zce,{...t,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:u}=n;s&&u&&(s.scrollTop=s.scrollTop-u.offsetHeight)}}):null});qXe.displayName=q6;var W6="SelectScrollDownButton",WXe=j.forwardRef((t,e)=>{const n=pv(W6,t.__scopeSelect),r=VF(W6,t.__scopeSelect),[i,o]=j.useState(!1),a=Ro(e,r.onScrollButtonChange);return zl(()=>{if(n.viewport&&n.isPositioned){let s=function(){const d=u.scrollHeight-u.clientHeight,g=Math.ceil(u.scrollTop)<d;o(g)};const u=n.viewport;return s(),u.addEventListener("scroll",s),()=>u.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?Y.jsx(Zce,{...t,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:u}=n;s&&u&&(s.scrollTop=s.scrollTop+u.offsetHeight)}}):null});WXe.displayName=W6;var Zce=j.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=pv("SelectScrollButton",n),a=j.useRef(null),s=rD(n),u=j.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return j.useEffect(()=>()=>u(),[u]),zl(()=>{s().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[s]),Y.jsx(Zr.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Or(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Or(i.onPointerMove,()=>{o.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Or(i.onPointerLeave,()=>{u()})})}),HXe="SelectSeparator",qce=j.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return Y.jsx(Zr.div,{"aria-hidden":!0,...r,ref:e})});qce.displayName=HXe;var H6="SelectArrow",GXe=j.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=iD(n),o=fv(H6,n),a=pv(H6,n);return o.open&&a.position==="popper"?Y.jsx(H8,{...i,...r,ref:e}):null});GXe.displayName=H6;var XXe="SelectBubbleInput",Wce=j.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=j.useRef(null),o=Ro(r,i),a=SXe(e);return j.useEffect(()=>{const s=i.current;if(!s)return;const u=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(u,"value").set;if(a!==e&&g){const v=new Event("change",{bubbles:!0});g.call(s,e),s.dispatchEvent(v)}},[a,e]),Y.jsx(Zr.select,{...n,style:{...Cce,...n.style},ref:o,defaultValue:e})});Wce.displayName=XXe;function Hce(t){return t===""||t===void 0}function Gce(t){const e=q0(t),n=j.useRef(""),r=j.useRef(0),i=j.useCallback(a=>{const s=n.current+a;e(s),(function u(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>u(""),1e3))})(s)},[e]),o=j.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function Xce(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let a=YXe(t,Math.max(o,0));i.length===1&&(a=a.filter(d=>d!==n));const u=a.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function YXe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Yce=kce,Kce=Ace,KXe=Mce,Jce=Rce,JXe=Ice,eYe=Dce,tYe=Nce,nYe=Vce,rYe=Qce,iYe=qce,[oD]=my("Tooltip",[GO]),sD=GO(),eue="TooltipProvider",oYe=700,G6="tooltip.open",[sYe,QF]=oD(eue),tue=t=>{const{__scopeTooltip:e,delayDuration:n=oYe,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=t,a=j.useRef(!0),s=j.useRef(!1),u=j.useRef(0);return j.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),Y.jsx(sYe,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:j.useCallback(()=>{window.clearTimeout(u.current),a.current=!1},[]),onClose:j.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:s,onPointerInTransitChange:j.useCallback(d=>{s.current=d},[]),disableHoverableContent:i,children:o})};tue.displayName=eue;var YT="Tooltip",[aYe,eE]=oD(YT),nue=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i,onOpenChange:o,disableHoverableContent:a,delayDuration:s}=t,u=QF(YT,t.__scopeTooltip),d=sD(e),[g,v]=j.useState(null),x=qg(),O=j.useRef(0),E=a??u.disableHoverableContent,A=s??u.delayDuration,M=j.useRef(!1),[L,$]=iy({prop:r,defaultProp:i??!1,onChange:W=>{W?(u.onOpen(),document.dispatchEvent(new CustomEvent(G6))):u.onClose(),o?.(W)},caller:YT}),N=j.useMemo(()=>L?M.current?"delayed-open":"instant-open":"closed",[L]),F=j.useCallback(()=>{window.clearTimeout(O.current),O.current=0,M.current=!1,$(!0)},[$]),U=j.useCallback(()=>{window.clearTimeout(O.current),O.current=0,$(!1)},[$]),q=j.useCallback(()=>{window.clearTimeout(O.current),O.current=window.setTimeout(()=>{M.current=!0,$(!0),O.current=0},A)},[A,$]);return j.useEffect(()=>()=>{O.current&&(window.clearTimeout(O.current),O.current=0)},[]),Y.jsx(q8,{...d,children:Y.jsx(aYe,{scope:e,contentId:x,open:L,stateAttribute:N,trigger:g,onTriggerChange:v,onTriggerEnter:j.useCallback(()=>{u.isOpenDelayedRef.current?q():F()},[u.isOpenDelayedRef,q,F]),onTriggerLeave:j.useCallback(()=>{E?U():(window.clearTimeout(O.current),O.current=0)},[U,E]),onOpen:F,onClose:U,disableHoverableContent:E,children:n})})};nue.displayName=YT;var X6="TooltipTrigger",rue=j.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=eE(X6,n),o=QF(X6,n),a=sD(n),s=j.useRef(null),u=Ro(e,s,i.onTriggerChange),d=j.useRef(!1),g=j.useRef(!1),v=j.useCallback(()=>d.current=!1,[]);return j.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),Y.jsx(TI,{asChild:!0,...a,children:Y.jsx(Zr.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:u,onPointerMove:Or(t.onPointerMove,x=>{x.pointerType!=="touch"&&!g.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),g.current=!0)}),onPointerLeave:Or(t.onPointerLeave,()=>{i.onTriggerLeave(),g.current=!1}),onPointerDown:Or(t.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:Or(t.onFocus,()=>{d.current||i.onOpen()}),onBlur:Or(t.onBlur,i.onClose),onClick:Or(t.onClick,i.onClose)})})});rue.displayName=X6;var UF="TooltipPortal",[lYe,cYe]=oD(UF,{forceMount:void 0}),iue=t=>{const{__scopeTooltip:e,forceMount:n,children:r,container:i}=t,o=eE(UF,e);return Y.jsx(lYe,{scope:e,forceMount:n,children:Y.jsx(cv,{present:n||o.open,children:Y.jsx(zk,{asChild:!0,container:i,children:r})})})};iue.displayName=UF;var xO="TooltipContent",oue=j.forwardRef((t,e)=>{const n=cYe(xO,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=t,a=eE(xO,t.__scopeTooltip);return Y.jsx(cv,{present:r||a.open,children:a.disableHoverableContent?Y.jsx(sue,{side:i,...o,ref:e}):Y.jsx(uYe,{side:i,...o,ref:e})})}),uYe=j.forwardRef((t,e)=>{const n=eE(xO,t.__scopeTooltip),r=QF(xO,t.__scopeTooltip),i=j.useRef(null),o=Ro(e,i),[a,s]=j.useState(null),{trigger:u,onClose:d}=n,g=i.current,{onPointerInTransitChange:v}=r,x=j.useCallback(()=>{s(null),v(!1)},[v]),O=j.useCallback((E,A)=>{const M=E.currentTarget,L={x:E.clientX,y:E.clientY},$=pYe(L,M.getBoundingClientRect()),N=mYe(L,$),F=gYe(A.getBoundingClientRect()),U=vYe([...N,...F]);s(U),v(!0)},[v]);return j.useEffect(()=>()=>x(),[x]),j.useEffect(()=>{if(u&&g){const E=M=>O(M,g),A=M=>O(M,u);return u.addEventListener("pointerleave",E),g.addEventListener("pointerleave",A),()=>{u.removeEventListener("pointerleave",E),g.removeEventListener("pointerleave",A)}}},[u,g,O,x]),j.useEffect(()=>{if(a){const E=A=>{const M=A.target,L={x:A.clientX,y:A.clientY},$=u?.contains(M)||g?.contains(M),N=!yYe(L,a);$?x():N&&(x(),d())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[u,g,a,d,x]),Y.jsx(sue,{...t,ref:o})}),[hYe,dYe]=oD(YT,{isInside:!1}),fYe=K$e("TooltipContent"),sue=j.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:a,...s}=t,u=eE(xO,n),d=sD(n),{onClose:g}=u;return j.useEffect(()=>(document.addEventListener(G6,g),()=>document.removeEventListener(G6,g)),[g]),j.useEffect(()=>{if(u.trigger){const v=x=>{x.target?.contains(u.trigger)&&g()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[u.trigger,g]),Y.jsx(Lk,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:v=>v.preventDefault(),onDismiss:g,children:Y.jsxs(W8,{"data-state":u.stateAttribute,...d,...s,ref:e,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[Y.jsx(fYe,{children:r}),Y.jsx(hYe,{scope:n,isInside:!0,children:Y.jsx(TXe,{id:u.contentId,role:"tooltip",children:i||r})})]})})});oue.displayName=xO;var aue="TooltipArrow",lue=j.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=sD(n);return dYe(aue,n).isInside?null:Y.jsx(H8,{...i,...r,ref:e})});lue.displayName=aue;function pYe(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function mYe(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function gYe(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function yYe(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const s=e[o],u=e[a],d=s.x,g=s.y,v=u.x,x=u.y;g>r!=x>r&&n<(v-d)*(r-g)/(x-g)+d&&(i=!i)}return i}function vYe(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),_Ye(e)}function _Ye(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const o=e[e.length-1],a=e[e.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const o=n[n.length-1],a=n[n.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var cue=tue,uue=nue,hue=rue,due=iue,fue=oue,xYe=lue;const tE=ae.forwardRef(({title:t,children:e},n)=>{const r=Ms(lv);return ae.createElement(cue,{delayDuration:100},ae.createElement(uue,null,ae.createElement(hue,{ref:n,asChild:!0},ae.createElement("span",{className:Qt.tooltipTrigger},e)),ae.createElement(due,{container:r?.current},ae.createElement(fue,{className:Yr(Qt.tooltipContent),sideOffset:10},t))))}),pue=ae.forwardRef(({children:t,className:e,...n},r)=>ae.createElement(nYe,{...n,ref:r,className:Yr(e,Qt.selectItem)},ae.createElement(rYe,null,t))),bYe=({title:t,placeholder:e,className:n})=>{const[r,i]=as(cl,oa);return ae.createElement(tE,{title:t},ae.createElement(Kce,{"aria-label":e,className:Yr(Qt.selectTrigger,n),"data-toolbar-item":!0,disabled:r},ae.createElement(KXe,{placeholder:e}),ae.createElement(Jce,{className:Qt.selectDropdownArrow},i("arrow_drop_down"))))},mue=({children:t,className:e=Qt.selectContainer})=>{const n=Ms(lv);return ae.createElement(JXe,{container:n?.current},ae.createElement(eYe,{className:Yr(e,"mdxeditor-select-content"),onCloseAutoFocus:r=>{r.preventDefault()},position:"popper"},ae.createElement(tYe,{"data-editor-dropdown":!0},t)))},wYe=({children:t,title:e,className:n})=>{const[r,i]=as(cl,oa);return ae.createElement(tE,{title:e},ae.createElement(Kce,{className:Yr(Qt.toolbarButtonSelectTrigger,n),disabled:r},t,ae.createElement(Jce,{className:Qt.selectDropdownArrow},i("arrow_drop_down"))))},gue=t=>ae.createElement(Yce,{value:t.value||"",onValueChange:t.onChange,disabled:t.disabled},ae.createElement(bYe,{title:t.triggerTitle,placeholder:t.placeholder}),ae.createElement(mue,null,t.items.map((e,n)=>e==="separator"?ae.createElement(iYe,{key:n}):ae.createElement(pue,{key:n,value:e.value},e.label)))),EG="__EMPTY_VALUE__",OYe=({language:t,nodeKey:e,code:n,focusEmitter:r})=>{const i=Ds(),{parentEditor:o,lexicalNode:a}=Zz(),[s,u,d,g,v]=as(cl,K6,J6,oa,Y6),x=kGe(e,"codeblock",t,r),{setCode:O}=Zz(),E=ae.useRef(null),A=ae.useRef(null),M=ae.useRef(O);return M.current=O,x.current={getCodemirror:()=>E.current},ae.useEffect(()=>{const L=A.current;return(async()=>{const $=[...u,Sce,uce,iF(),JO.of([lWe]),dn.lineWrapping,dn.updateListener.of(({state:N})=>{M.current(N.doc.toString())}),dn.domEventHandlers({focus:()=>{o.update(()=>{ss(null)})}})];if(s&&$.push(Rr.readOnly.of(!0)),t!==""&&d){const N=EGe.find(F=>F.name===t||F.alias.includes(t)||F.extensions.includes(t));if(N)try{const F=await N.load();$.push(F.extension)}catch{console.warn("failed to load language support for",t)}}L.innerHTML="",E.current=new dn({parent:L,state:Rr.create({doc:n,extensions:$})}),L.addEventListener("keydown",AG)})(),()=>{var $;($=E.current)==null||$.destroy(),E.current=null,L.removeEventListener("keydown",AG)}},[s,t,...u]),ae.createElement("div",{className:Qt.codeMirrorWrapper},ae.createElement("div",{className:Qt.codeMirrorToolbar},ae.createElement(gue,{disabled:s,value:t,onChange:L=>{o.update(()=>{a.setLanguage(L===EG?"":L),setTimeout(()=>{o.update(()=>{a.getLatest().select()})})})},triggerTitle:i("codeBlock.selectLanguage","Select code block language"),placeholder:i("codeBlock.inlineLanguage","Language"),items:Object.entries(v).map(([L,$])=>({value:L||EG,label:$}))}),ae.createElement("button",{className:Qt.iconButton,type:"button",disabled:s,title:i("codeblock.delete","Delete code block"),onClick:L=>{L.preventDefault(),o.update(()=>{a.remove()})}},g("delete_small"))),ae.createElement("div",{ref:A}))};function AG(t){t.stopPropagation()}const Y6=Pn({js:"JavaScript",ts:"TypeScript",tsx:"TypeScript (React)",jsx:"JavaScript (React)",css:"CSS"}),SYe=Ss(t=>{t.link(t.pipe(SYe,Yg(({language:e,code:n})=>({code:n,language:e,meta:""}))),j9)}),K6=Pn([]),J6=Pn(!0),CYe=Nl({update(t,e){t.pubIn({[Y6]:e?.codeBlockLanguages,[K6]:e?.codeMirrorExtensions??[],[J6]:e?.autoLoadLanguageSupport??!0})},init(t,e){t.pubIn({[Y6]:e?.codeBlockLanguages,[K6]:e?.codeMirrorExtensions??[],[D7e]:TYe(e?.codeBlockLanguages??{}),[J6]:e?.autoLoadLanguageSupport??!0})}});function TYe(t){return{match(e,n){return Object.hasOwn(t,e??"")&&!n},priority:1,Editor:OYe}}const kYe={}.hasOwnProperty,EYe={},PG=/^[^\t\n\r "#'.<=>`}]+$/,AYe=/^[^\t\n\r "'<=>`}]+$/;function PYe(){return{canContainEols:["textDirective"],enter:{directiveContainer:RYe,directiveContainerAttributes:l$,directiveContainerLabel:LYe,directiveLeaf:IYe,directiveLeafAttributes:l$,directiveText:DYe,directiveTextAttributes:l$},exit:{directiveContainer:p$,directiveContainerAttributeClassValue:u$,directiveContainerAttributeIdValue:c$,directiveContainerAttributeName:d$,directiveContainerAttributeValue:h$,directiveContainerAttributes:f$,directiveContainerLabel:$Ye,directiveContainerName:a$,directiveLeaf:p$,directiveLeafAttributeClassValue:u$,directiveLeafAttributeIdValue:c$,directiveLeafAttributeName:d$,directiveLeafAttributeValue:h$,directiveLeafAttributes:f$,directiveLeafName:a$,directiveText:p$,directiveTextAttributeClassValue:u$,directiveTextAttributeIdValue:c$,directiveTextAttributeName:d$,directiveTextAttributeValue:h$,directiveTextAttributes:f$,directiveTextName:a$}}}function MYe(t){const e=EYe;if(e.quote!=='"'&&e.quote!=="'"&&e.quote!==null&&e.quote!==void 0)throw new Error("Invalid quote `"+e.quote+"`, expected `'` or `\"`");return n.peek=zYe,{handlers:{containerDirective:n,leafDirective:n,textDirective:n},unsafe:[{character:"\r",inConstruct:["leafDirectiveLabel","containerDirectiveLabel"]},{character:`
`,inConstruct:["leafDirectiveLabel","containerDirectiveLabel"]},{before:"[^:]",character:":",after:"[A-Za-z]",inConstruct:["phrasing"]},{atBreak:!0,character:":",after:":"}]};function n(o,a,s,u){const d=s.createTracker(u),g=NYe(o),v=s.enter(o.type);let x=d.move(g+(o.name||"")),O;if(o.type==="containerDirective"){const E=(o.children||[])[0];O=MG(E)?E:void 0}else O=o;if(O&&O.children&&O.children.length>0){const E=s.enter("label"),A=`${o.type}Label`,M=s.enter(A);x+=d.move("["),x+=d.move(s.containerPhrasing(O,{...d.current(),before:x,after:"]"})),x+=d.move("]"),M(),E()}if(x+=d.move(r(o,s)),o.type==="containerDirective"){const E=(o.children||[])[0];let A=o;MG(E)&&(A=Object.assign({},o,{children:o.children.slice(1)})),A&&A.children&&A.children.length>0&&(x+=d.move(`
`),x+=d.move(s.containerFlow(A,d.current()))),x+=d.move(`
`+g)}return v(),x}function r(o,a){const s=o.attributes||{},u=[];let d,g,v,x;for(x in s)if(kYe.call(s,x)&&s[x]!==void 0&&s[x]!==null){const O=String(s[x]);if(x==="id")v=e.preferShortcut!==!1&&PG.test(O)?"#"+O:i("id",O,o,a);else if(x==="class"){const E=O.split(/[\t\n\r ]+/g),A=[],M=[];let L=-1;for(;++L<E.length;)(e.preferShortcut!==!1&&PG.test(E[L])?M:A).push(E[L]);d=A.length>0?i("class",A.join(" "),o,a):"",g=M.length>0?"."+M.join("."):""}else u.push(i(x,O,o,a))}return d&&u.unshift(d),g&&u.unshift(g),v&&u.unshift(v),u.length>0?"{"+u.join(" ")+"}":""}function i(o,a,s,u){if(e.collapseEmptyAttributes!==!1&&!a)return o;if(e.preferUnquoted&&AYe.test(a))return o+"="+a;const d=e.quote||u.options.quote||'"',g=d==='"'?"'":'"',v=e.quoteSmart&&G5(a,d)>G5(a,g)?g:d,x=s.type==="textDirective"?[v]:[v,`
`,"\r"];return o+"="+v+tte(a,{subset:x})+v}}function RYe(t){ZF.call(this,"containerDirective",t)}function IYe(t){ZF.call(this,"leafDirective",t)}function DYe(t){ZF.call(this,"textDirective",t)}function ZF(t,e){this.enter({type:t,name:"",attributes:{},children:[]},e)}function a$(t){const e=this.stack[this.stack.length-1];e.type==="containerDirective"||e.type==="leafDirective"||e.type,e.name=this.sliceSerialize(t)}function LYe(t){this.enter({type:"paragraph",data:{directiveLabel:!0},children:[]},t)}function $Ye(t){this.exit(t)}function l$(){this.data.directiveAttributes=[],this.buffer()}function c$(t){this.data.directiveAttributes.push(["id",uI(this.sliceSerialize(t),{attribute:!0})])}function u$(t){this.data.directiveAttributes.push(["class",uI(this.sliceSerialize(t),{attribute:!0})])}function h$(t){const e=this.data.directiveAttributes;e[e.length-1][1]=uI(this.sliceSerialize(t),{attribute:!0})}function d$(t){this.data.directiveAttributes.push([this.sliceSerialize(t),""])}function f$(){const t=this.data.directiveAttributes,e={};let n=-1;for(;++n<t.length;){const i=t[n];i[0]==="class"&&e.class?e.class+=" "+i[1]:e[i[0]]=i[1]}this.data.directiveAttributes=void 0,this.resume();const r=this.stack[this.stack.length-1];r.type==="containerDirective"||r.type==="leafDirective"||r.type,r.attributes=e}function p$(t){this.exit(t)}function zYe(){return":"}function MG(t){return!!(t&&t.type==="paragraph"&&t.data&&t.data.directiveLabel)}function NYe(t){let e=0;return t.type==="containerDirective"?(OJ(t,function(n,r){if(n.type==="containerDirective"){let i=r.length,o=0;for(;i--;)r[i].type==="containerDirective"&&o++;o>e&&(e=o)}}),e+=3):t.type==="leafDirective"?e=2:e=1,":".repeat(e)}function qF(t,e,n,r,i,o,a,s,u,d,g,v,x,O,E){let A,M;return L;function L(pe){return t.enter(r),t.enter(i),t.consume(pe),t.exit(i),$}function $(pe){return pe===35?(A=a,N(pe)):pe===46?(A=s,N(pe)):pe===58||pe===95||qh(pe)?(t.enter(o),t.enter(u),t.consume(pe),q):E&&mr(pe)?Tr(t,$,"whitespace")(pe):!E&&ki(pe)?Fg(t,$)(pe):we(pe)}function N(pe){const _e=A+"Marker";return t.enter(o),t.enter(A),t.enter(_e),t.consume(pe),t.exit(_e),F}function F(pe){if(pe===null||pe===34||pe===35||pe===39||pe===46||pe===60||pe===61||pe===62||pe===96||pe===125||ki(pe))return n(pe);const _e=A+"Value";return t.enter(_e),t.consume(pe),U}function U(pe){if(pe===null||pe===34||pe===39||pe===60||pe===61||pe===62||pe===96)return n(pe);if(pe===35||pe===46||pe===125||ki(pe)){const _e=A+"Value";return t.exit(_e),t.exit(A),t.exit(o),$(pe)}return t.consume(pe),U}function q(pe){return pe===45||pe===46||pe===58||pe===95||dc(pe)?(t.consume(pe),q):(t.exit(u),E&&mr(pe)?Tr(t,W,"whitespace")(pe):!E&&ki(pe)?Fg(t,W)(pe):W(pe))}function W(pe){return pe===61?(t.enter(d),t.consume(pe),t.exit(d),te):(t.exit(o),$(pe))}function te(pe){return pe===null||pe===60||pe===61||pe===62||pe===96||pe===125||E&&kn(pe)?n(pe):pe===34||pe===39?(t.enter(g),t.enter(x),t.consume(pe),t.exit(x),M=pe,ce):E&&mr(pe)?Tr(t,te,"whitespace")(pe):!E&&ki(pe)?Fg(t,te)(pe):(t.enter(v),t.enter(O),t.consume(pe),M=void 0,re)}function re(pe){return pe===null||pe===34||pe===39||pe===60||pe===61||pe===62||pe===96?n(pe):pe===125||ki(pe)?(t.exit(O),t.exit(v),t.exit(o),$(pe)):(t.consume(pe),re)}function ce(pe){return pe===M?(t.enter(x),t.consume(pe),t.exit(x),t.exit(g),t.exit(o),me):(t.enter(v),be(pe))}function be(pe){return pe===M?(t.exit(v),ce(pe)):pe===null?n(pe):kn(pe)?E?n(pe):Fg(t,be)(pe):(t.enter(O),t.consume(pe),ie)}function ie(pe){return pe===M||pe===null||kn(pe)?(t.exit(O),be(pe)):(t.consume(pe),ie)}function me(pe){return pe===125||ki(pe)?$(pe):we(pe)}function we(pe){return pe===125?(t.enter(i),t.consume(pe),t.exit(i),t.exit(r),e):n(pe)}}function WF(t,e,n,r,i,o,a){let s=0,u=0,d;return g;function g(M){return t.enter(r),t.enter(i),t.consume(M),t.exit(i),v}function v(M){return M===93?(t.enter(i),t.consume(M),t.exit(i),t.exit(r),e):(t.enter(o),x(M))}function x(M){if(M===93&&!u)return A(M);const L=t.enter("chunkText",{contentType:"text",previous:d});return d&&(d.next=L),d=L,O(M)}function O(M){return M===null||s>999||M===91&&++u>32?n(M):M===93&&!u--?(t.exit("chunkText"),A(M)):kn(M)?a?n(M):(t.consume(M),t.exit("chunkText"),x):(t.consume(M),M===92?E:O)}function E(M){return M===91||M===92||M===93?(t.consume(M),s++,O):O(M)}function A(M){return t.exit(o),t.enter(i),t.consume(M),t.exit(i),t.exit(r),e}}function HF(t,e,n,r){const i=this;return o;function o(s){return qh(s)?(t.enter(r),t.consume(s),a):n(s)}function a(s){return s===45||s===95||dc(s)?(t.consume(s),a):(t.exit(r),i.previous===45||i.previous===95?n(s):e(s))}}const BYe={tokenize:VYe,concrete:!0},FYe={tokenize:QYe,partial:!0},jYe={tokenize:UYe,partial:!0},gP={tokenize:ZYe,partial:!0};function VYe(t,e,n){const r=this,i=r.events[r.events.length-1],o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0;let a=0,s;return u;function u(re){return t.enter("directiveContainer"),t.enter("directiveContainerFence"),t.enter("directiveContainerSequence"),d(re)}function d(re){return re===58?(t.consume(re),a++,d):a<3?n(re):(t.exit("directiveContainerSequence"),HF.call(r,t,g,n,"directiveContainerName")(re))}function g(re){return re===91?t.attempt(FYe,v,v)(re):v(re)}function v(re){return re===123?t.attempt(jYe,x,x)(re):x(re)}function x(re){return Tr(t,O,"whitespace")(re)}function O(re){return t.exit("directiveContainerFence"),re===null?W(re):kn(re)?r.interrupt?e(re):t.attempt(gP,E,W)(re):n(re)}function E(re){return re===null?W(re):kn(re)?t.check(gP,N,W)(re):(t.enter("directiveContainerContent"),A(re))}function A(re){return t.attempt({tokenize:te,partial:!0},q,o?Tr(t,M,"linePrefix",o+1):M)(re)}function M(re){return re===null?q(re):kn(re)?t.check(gP,$,q)(re):$(re)}function L(re){if(re===null){const ce=t.exit("chunkDocument");return r.parser.lazy[ce.start.line]=!1,q(re)}return kn(re)?t.check(gP,F,U)(re):(t.consume(re),L)}function $(re){const ce=t.enter("chunkDocument",{contentType:"document",previous:s});return s&&(s.next=ce),s=ce,L(re)}function N(re){return t.enter("directiveContainerContent"),A(re)}function F(re){t.consume(re);const ce=t.exit("chunkDocument");return r.parser.lazy[ce.start.line]=!1,A}function U(re){const ce=t.exit("chunkDocument");return r.parser.lazy[ce.start.line]=!1,q(re)}function q(re){return t.exit("directiveContainerContent"),W(re)}function W(re){return t.exit("directiveContainer"),e(re)}function te(re,ce,be){let ie=0;return Tr(re,me,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function me(_e){return re.enter("directiveContainerFence"),re.enter("directiveContainerSequence"),we(_e)}function we(_e){return _e===58?(re.consume(_e),ie++,we):ie<a?be(_e):(re.exit("directiveContainerSequence"),Tr(re,pe,"whitespace")(_e))}function pe(_e){return _e===null||kn(_e)?(re.exit("directiveContainerFence"),ce(_e)):be(_e)}}}function QYe(t,e,n){return WF(t,e,n,"directiveContainerLabel","directiveContainerLabelMarker","directiveContainerLabelString",!0)}function UYe(t,e,n){return qF(t,e,n,"directiveContainerAttributes","directiveContainerAttributesMarker","directiveContainerAttribute","directiveContainerAttributeId","directiveContainerAttributeClass","directiveContainerAttributeName","directiveContainerAttributeInitializerMarker","directiveContainerAttributeValueLiteral","directiveContainerAttributeValue","directiveContainerAttributeValueMarker","directiveContainerAttributeValueData",!0)}function ZYe(t,e,n){const r=this;return i;function i(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),o}function o(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}const qYe={tokenize:GYe},WYe={tokenize:XYe,partial:!0},HYe={tokenize:YYe,partial:!0};function GYe(t,e,n){const r=this;return i;function i(g){return t.enter("directiveLeaf"),t.enter("directiveLeafSequence"),t.consume(g),o}function o(g){return g===58?(t.consume(g),t.exit("directiveLeafSequence"),HF.call(r,t,a,n,"directiveLeafName")):n(g)}function a(g){return g===91?t.attempt(WYe,s,s)(g):s(g)}function s(g){return g===123?t.attempt(HYe,u,u)(g):u(g)}function u(g){return Tr(t,d,"whitespace")(g)}function d(g){return g===null||kn(g)?(t.exit("directiveLeaf"),e(g)):n(g)}}function XYe(t,e,n){return WF(t,e,n,"directiveLeafLabel","directiveLeafLabelMarker","directiveLeafLabelString",!0)}function YYe(t,e,n){return qF(t,e,n,"directiveLeafAttributes","directiveLeafAttributesMarker","directiveLeafAttribute","directiveLeafAttributeId","directiveLeafAttributeClass","directiveLeafAttributeName","directiveLeafAttributeInitializerMarker","directiveLeafAttributeValueLiteral","directiveLeafAttributeValue","directiveLeafAttributeValueMarker","directiveLeafAttributeValueData",!0)}const KYe={tokenize:nKe,previous:tKe},JYe={tokenize:rKe,partial:!0},eKe={tokenize:iKe,partial:!0};function tKe(t){return t!==58||this.events[this.events.length-1][1].type==="characterEscape"}function nKe(t,e,n){const r=this;return i;function i(u){return t.enter("directiveText"),t.enter("directiveTextMarker"),t.consume(u),t.exit("directiveTextMarker"),HF.call(r,t,o,n,"directiveTextName")}function o(u){return u===58?n(u):u===91?t.attempt(JYe,a,a)(u):a(u)}function a(u){return u===123?t.attempt(eKe,s,s)(u):s(u)}function s(u){return t.exit("directiveText"),e(u)}}function rKe(t,e,n){return WF(t,e,n,"directiveTextLabel","directiveTextLabelMarker","directiveTextLabelString")}function iKe(t,e,n){return qF(t,e,n,"directiveTextAttributes","directiveTextAttributesMarker","directiveTextAttribute","directiveTextAttributeId","directiveTextAttributeClass","directiveTextAttributeName","directiveTextAttributeInitializerMarker","directiveTextAttributeValueLiteral","directiveTextAttributeValue","directiveTextAttributeValueMarker","directiveTextAttributeValueData")}function oKe(){return{text:{58:KYe},flow:{58:[BYe,qYe]}}}var sKe=Object.defineProperty,aKe=(t,e,n)=>e in t?sKe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,m$=(t,e,n)=>(aKe(t,typeof e!="symbol"?e+"":e,n),n);class nE extends uy{constructor(e,n){super(n),m$(this,"__mdastNode"),m$(this,"__focusEmitter",Uz()),m$(this,"select",()=>{this.__focusEmitter.publish()}),this.__mdastNode=e}static getType(){return"directive"}static clone(e){return new nE(structuredClone(e.__mdastNode),e.__key)}static importJSON(e){return GF(e.mdastNode)}getMdastNode(){return this.__mdastNode}exportJSON(){return{mdastNode:structuredClone(this.__mdastNode),type:"directive",version:1}}createDOM(){return document.createElement(this.__mdastNode.type==="textDirective"?"span":"div")}updateDOM(){return!1}setMdastNode(e){this.getWritable().__mdastNode=e}decorate(e,n){return ae.createElement(lKe,{lexicalNode:this,mdastNode:this.getMdastNode(),parentEditor:e,config:n,focusEmitter:this.__focusEmitter})}isInline(){return this.__mdastNode.type==="textDirective"}isKeyboardSelectable(){return!0}}const lKe=t=>{const{mdastNode:e}=t,[n]=as(Kw),r=n.find(o=>o.testNode(e));if(!r)throw new Error(`No descriptor found for directive ${e.name}`);const i=r.Editor;return ae.createElement(Coe.Provider,{value:t},ae.createElement(i,{descriptor:r,mdastNode:e,lexicalNode:t.lexicalNode,parentEditor:t.parentEditor}))};function GF(t,e){return new nE(t,e)}function cKe(t){return t instanceof nE}const uKe={testLexicalNode:cKe,visitLexicalNode({actions:t,mdastParent:e,lexicalNode:n}){t.appendToParent(e,n.getMdastNode())}},hKe=["leafDirective","containerDirective","textDirective"];function dKe(t){return hKe.includes(t.type)}const fKe=t=>({testNode:(e,{directiveDescriptors:n})=>{if(dKe(e)){const r=n.find(i=>i.testNode(e));return t&&!r&&e.type==="textDirective"?!0:r!==void 0}return!1},visitNode({lexicalParent:e,mdastNode:n,descriptors:r}){!t||r.directiveDescriptors.some(o=>o.testNode(n))?e.append(GF(n)):e.append(to(`:${n.name}`))}}),yue=Ss(t=>{t.link(t.pipe(yue,Yg(e=>()=>GF({children:[],...e}))),vI)}),pKe=Nl({update:(t,e)=>{t.pub(Kw,e?.directiveDescriptors??[])},init:(t,e)=>{t.pubIn({[Kw]:e?.directiveDescriptors??[],[eO]:PYe(),[Jw]:oKe(),[ud]:fKe(e?.escapeUnknownTextDirectives),[Lf]:nE,[$f]:uKe,[Ik]:MYe()})}}),vue=["note","tip","danger","info","caution"],mKe={name:"admonition",attributes:[],hasChildren:!0,testNode(t){return vue.includes(t.name)},Editor({mdastNode:t}){var e;const{config:{theme:n}}=jI();return ae.createElement("div",{className:(e=n.admonition)==null?void 0:e[t.name]},ae.createElement(C7e,{block:!0,getContent:r=>r.children,getUpdatedMdastNode:(r,i)=>({...r,children:i})}))}};function gKe({url:t,title:e,text:n,onSubmit:r,onCancel:i,linkAutocompleteSuggestions:o,showLinkTitleField:a,showAnchorTextField:s}){const{register:u,handleSubmit:d,control:g,setValue:v,reset:x}=g9({values:{url:t,title:e,text:n}}),O=Ds();return ae.createElement("form",{onSubmit:E=>{d(r)(E),E.stopPropagation(),E.preventDefault()},onReset:E=>{E.stopPropagation(),i()},onKeyDown:E=>{E.key==="Escape"&&(E.stopPropagation(),i())},className:Yr(Qt.multiFieldForm,Qt.linkDialogEditForm)},ae.createElement("div",{className:Qt.formField},ae.createElement("label",{htmlFor:"link-url"},O("createLink.url","URL")),ae.createElement(Pie,{register:u,initialInputValue:t,inputName:"url",suggestions:o,setValue:v,control:g,placeholder:O("createLink.urlPlaceholder","Select or paste an URL"),autofocus:!0})),s?ae.createElement("div",{className:Qt.formField},ae.createElement("label",{htmlFor:"link-text",title:O("createLink.textTooltip","The text to be displayed for the link")},O("createLink.text","Anchor text")),ae.createElement("input",{id:"link-text",className:Qt.textInput,size:40,...u("text")})):null,a?ae.createElement("div",{className:Qt.formField},ae.createElement("label",{htmlFor:"link-title",title:O("createLink.titleTooltip","The link's title attribute, shown on hover")},O("createLink.title","Link title")),ae.createElement("input",{id:"link-title",className:Qt.textInput,size:40,...u("title")})):null,ae.createElement("div",{style:{display:"flex",justifyContent:"flex-end",gap:"var(--spacing-2)"}},ae.createElement("button",{type:"submit",title:O("createLink.saveTooltip","Set URL"),"aria-label":O("createLink.saveTooltip","Set URL"),className:Yr(Qt.primaryButton)},O("dialogControls.save","Save")),ae.createElement("button",{type:"reset",title:O("createLink.cancelTooltip","Cancel change"),"aria-label":O("createLink.cancelTooltip","Cancel change"),className:Yr(Qt.secondaryButton)},O("dialogControls.cancel","Cancel"))))}const yKe=()=>{const[t,e,n,r,i,o,a]=as(lv,Vo,oa,Hc,Sue,Cue,kue),s=qi(_ue),u=qi(xue),d=qi(bue),g=qi(wue),v=qi(Oue);ae.useEffect(()=>{const L=()=>{e?.getEditorState().read(()=>{s(!0)})};return window.addEventListener("resize",L),window.addEventListener("scroll",L),()=>{window.removeEventListener("resize",L),window.removeEventListener("scroll",L)}},[e,s]);const[x,O]=ae.useState(!1),E=Ds();if(r.type==="inactive")return null;const A=r.rectangle,M=r.type==="preview"&&r.url.startsWith("http");return ae.createElement(K8,{open:!0},ae.createElement(B6e,{"data-visible":r.type==="edit",className:Qt.linkDialogAnchor,style:{top:`${A.top}px`,left:`${A.left}px`,width:`${A.width}px`,height:`${A.height}px`}}),ae.createElement(J8,{container:t?.current},ae.createElement(F6e,{className:Yr(Qt.linkDialogPopoverContent),sideOffset:5,onOpenAutoFocus:L=>{L.preventDefault()},key:r.linkNodeKey},r.type==="edit"&&ae.createElement(gKe,{url:r.url,title:r.title,text:r.text,onSubmit:u,onCancel:d.bind(null),linkAutocompleteSuggestions:i,showLinkTitleField:a,showAnchorTextField:r.withAnchorText}),r.type==="preview"&&ae.createElement(ae.Fragment,null,ae.createElement("a",{className:Qt.linkDialogPreviewAnchor,href:r.url,...M?{target:"_blank",rel:"noreferrer"}:{},onClick:L=>{o!==null&&(L.preventDefault(),o(r.url))},title:M?E("linkPreview.open","Open {{url}} in new window",{url:r.url}):r.url},ae.createElement("span",null,r.url),M&&n("open_in_new")),ae.createElement(g$,{onClick:()=>{g()},title:E("linkPreview.edit","Edit link URL"),"aria-label":E("linkPreview.edit","Edit link URL")},n("edit")),ae.createElement(cue,null,ae.createElement(uue,{open:x},ae.createElement(hue,{asChild:!0},ae.createElement(g$,{title:E("linkPreview.copyToClipboard","Copy to clipboard"),"aria-label":E("linkPreview.copyToClipboard","Copy to clipboard"),onClick:()=>{window.navigator.clipboard.writeText(r.url).then(()=>{O(!0),setTimeout(()=>{O(!1)},1e3)})}},n(x?"check":"content_copy"))),ae.createElement(due,{container:t?.current},ae.createElement(fue,{className:Yr(Qt.tooltipContent),sideOffset:5},E("linkPreview.copied","Copied!"),ae.createElement(xYe,null))))),ae.createElement(g$,{title:E("linkPreview.remove","Remove link"),"aria-label":E("linkPreview.remove","Remove link"),onClick:()=>{v()}},n("link_off"))),ae.createElement(e9,{className:Qt.popoverArrow}))))},g$=ae.forwardRef(({className:t,...e},n)=>ae.createElement("button",{className:Yr(Qt.actionButton,t),ref:n,...e}));function eN(t){if(!t)return null;const e=QLe(t);if(e===null)return null;const n=e.getParent();return Yc(n)?n:Yc(e)?e:null}const _ue=Ss(),Hc=Pn({type:"inactive"},t=>{t.pub(vT,e=>e.registerCommand(xk,()=>t.getValue(Hc).type==="preview"?(t.pub(Hc,{type:"inactive"}),!0):!1,vo)),t.sub(t.pipe(Ex),e=>{e!=="rich-text"&&t.pub(Hc,{type:"inactive"})}),t.pub(vT,e=>e.registerCommand(jR,n=>{if(n.key==="k"&&(rM?n.metaKey:n.ctrlKey)&&!t.getValue(cl)){const r=an();return Xt(r)?(t.pub(XF),n.stopPropagation(),n.preventDefault(),!0):!1}return!1},U5)),t.sub(t.pipe(wue,jo(Hc,Vo)),([,e,n])=>{if(e.type==="preview")setTimeout(()=>{n?.getEditorState().read(()=>{const r=Li(e.linkNodeKey),i=Yc(r)?r.getTextContent().length>0&&r.getChildrenSize()<=1:!1,o=i&&r?r.getTextContent():"";t.pub(Hc,{type:"edit",initialUrl:e.url,url:e.url,title:e.title,text:o,withAnchorText:i,linkNodeKey:e.linkNodeKey,rectangle:e.rectangle})})});else throw new Error("Cannot switch to edit mode when not in preview mode")}),t.sub(t.pipe(xue,jo(Vo,Hc,Yw)),([e,n,r,i])=>{var o,a,s;const u=((o=e.text)==null?void 0:o.trim())??"",d=((a=e.url)==null?void 0:a.trim())??"",g=((s=e.title)==null?void 0:s.trim())??"";if(d!==""){if(i?.isCollapsed()){const v=u||g||d;n?.update(()=>{const x=eN(i);if(x)if(yf(x)){const O=ty(d,{title:g});O.append(to(u)),x.replace(O),O.select()}else x.setURL(d),x.setTitle(g),RG(x.getFirstChild(),u);else{const O=ty(d,{title:g});O.append(to(v)),FO([O]),O.select()}},{discrete:!0})}else n?.update(()=>{RG(i?.anchor.getNode(),u)}),n?.dispatchCommand(tO,{url:d,title:g});t.pub(Hc,{type:"preview",linkNodeKey:r.linkNodeKey,rectangle:r.rectangle,title:g,url:d})}else r.type==="edit"&&r.initialUrl!==""&&n?.dispatchCommand(tO,null),t.pub(Hc,{type:"inactive"})}),t.link(t.pipe(bue,jo(Hc,Vo),Yg(([,e,n])=>{if(e.type==="edit")return n?.focus(),e.initialUrl===""?{type:"inactive"}:{type:"preview",url:e.initialUrl,linkNodeKey:e.linkNodeKey,rectangle:e.rectangle};throw new Error("Cannot cancel edit when not in edit mode")})),Hc),t.link(t.pipe(t.combine(Yw,_ue),jo(Vo,Hc,cl),Yg(([[e],n,r,i])=>{if(Xt(e)&&n&&!i){const o=eN(e);if(!e.isCollapsed())return{type:"inactive"};if(o){const a=rne(n);return a?{type:"preview",url:o.getURL(),linkNodeKey:o.getKey(),title:o.getTitle(),rectangle:a}:{type:"inactive"}}else return{type:"inactive"}}else return{type:"inactive"}})),Hc)}),xue=Ss(),bue=xm();xm();const wue=xm(),Oue=xm(t=>{t.sub(t.pipe(Oue,jo(Vo)),([,e])=>{e?.dispatchCommand(tO,null)})}),XF=xm(t=>{t.sub(t.pipe(XF,jo(Yw,Vo),yk(([,e])=>Xt(e))),([,e,n])=>{n?.focus(()=>{setTimeout(()=>{n.getEditorState().read(()=>{const r=eN(e),i=rne(n),o=r?.getURL()??"",a=r?.getURL()??"",s=r?.getTitle()??"",u=r?.getKey()??"",d=r?r.getTextContent().length>0&&r.getChildrenSize()<=1:!!e?.isCollapsed(),g=d&&r?r.getTextContent():"";t.pub(Hc,{type:"edit",initialUrl:o,url:a,title:s,text:g,withAnchorText:d,linkNodeKey:u,rectangle:i})})})})})}),Sue=Pn([]),Cue=Pn(null),Tue=Pn(null,t=>{t.pub(vT,e=>{function n(r){const[i,o]=t.getValues([cl,Tue]);!i||o===null||e.update(()=>{const a=fm(r.target);if(a!==null){const s=Of(a,u=>u instanceof dy);s!==null&&o(r,s,s.getURL())}})}return e.registerRootListener((r,i)=>{r&&r.addEventListener("click",n),i&&i.removeEventListener("click",n)})})});function RG(t,e){pn(t)&&e&&(t.setTextContent(e),t.selectStart())}const kue=Pn(!0),vKe=Nl({init(t,e){t.pub(Hx,e?.LinkDialog??yKe),t.pub(Cue,e?.onClickLinkCallback??null),t.pub(Tue,e?.onReadOnlyClickLinkCallback??null),t.pub(kue,e?.showLinkTitleField??!0)},update(t,e={}){t.pub(Sue,e.linkAutocompleteSuggestions??[])}});function YF(t,e){return ae.forwardRef((n,r)=>{const i=Yr(e.className,n.className);return ae.createElement(t,{...e,...n,className:i,ref:r})})}function _Ke(t){return({title:e,children:n,...r})=>ae.createElement(t,{...r},ae.createElement(tE,{title:e},n))}const xKe=({readOnly:t,children:e,className:n})=>ae.createElement(s9,{className:Yr("mdxeditor-toolbar",Qt.toolbarRoot,{[Qt.readOnlyToolbarRoot]:t},n),...t?{tabIndex:-1}:{}},e),bKe=YF(sx,{className:Qt.toolbarButton,"data-toolbar-item":!0}),rE=_Ke(bKe),Eue=YF(XP,{className:Qt.toolbarToggleItem,"data-toolbar-item":!0});YF(II,{type:"single",className:Qt.toolbarToggleSingleGroup});const Aue=ae.forwardRef(({on:t,title:e,children:n,disabled:r,...i},o)=>ae.createElement(II,{type:"single",className:Qt.toolbarToggleSingleGroup,...i,value:t?"on":"off",ref:o},ae.createElement(Eue,{"aria-label":e,value:"on",disabled:r},ae.createElement(tE,{title:e},n)))),Pue=({items:t})=>ae.createElement("div",{className:Qt.toolbarGroupOfGroups},t.map((e,n)=>ae.createElement(Aue,{key:n,title:e.title,on:e.active,onValueChange:r=>{e.onChange(r==="on")},disabled:e.disabled},e.contents))),wKe=({value:t,onChange:e,className:n,ggClassName:r,items:i})=>{const o=Ds();return ae.createElement("div",{className:Yr(Qt.toolbarGroupOfGroups,r)},ae.createElement(II,{"aria-label":o("toolbar.toggleGroup","toggle group"),type:"single",className:Yr(Qt.toolbarToggleSingleGroup,n),onValueChange:e,value:t||"",onFocus:a=>{a.preventDefault()}},i.map((a,s)=>ae.createElement(Eue,{key:s,"aria-label":a.title,value:a.value},ae.createElement(tE,{title:a.title},a.contents)))))},OKe=t=>{const e=Ms(cl);return ae.createElement(ae.Fragment,null,t.items.length===1?ae.createElement(rE,{title:t.title,onClick:()=>{t.onChoose("")},disabled:e},t.children):ae.createElement(Yce,{value:"",onValueChange:t.onChoose},ae.createElement(wYe,{title:t.title},t.children),ae.createElement(mue,{className:Qt.toolbarButtonDropdownContainer},t.items.map((n,r)=>ae.createElement(pue,{key:r,value:n.value},n.label)))))},F1=kre,y$=Pn(()=>null),v$=Pn(""),IG=()=>"This is an empty toolbar. Pass `{toolbarContents: () => { return <>toolbar components</> }}` to the toolbarPlugin to customize it.",SKe=Nl({init(t,e){const n=e?.toolbarPosition==="bottom"?jDe:FDe;t.pubIn({[y$]:e?.toolbarContents??IG,[v$]:e?.toolbarClassName??"",[n]:()=>{const[r,i,o]=as(y$,cl,v$);return ae.createElement(xKe,{className:o,readOnly:i},r())}})},update(t,e){t.pub(y$,e?.toolbarContents??IG),t.pub(v$,e?.toolbarClassName??"")}});class Gs{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}offset(e,n=e){return new Gs(this.fromA+e,this.toA+e,this.fromB+n,this.toB+n)}}function Fx(t,e,n,r,i,o){if(t==r)return[];let a=JF(t,e,n,r,i,o),s=e7(t,e+a,n,r,i+a,o);e+=a,n-=s,i+=a,o-=s;let u=n-e,d=o-i;if(!u||!d)return[new Gs(e,n,i,o)];if(u>d){let v=t.slice(e,n).indexOf(r.slice(i,o));if(v>-1)return[new Gs(e,e+v,i,i),new Gs(e+v+d,n,o,o)]}else if(d>u){let v=r.slice(i,o).indexOf(t.slice(e,n));if(v>-1)return[new Gs(e,e,i,i+v),new Gs(n,n,i+v+u,o)]}if(u==1||d==1)return[new Gs(e,n,i,o)];let g=Iue(t,e,n,r,i,o);if(g){let[v,x,O]=g;return Fx(t,e,v,r,i,x).concat(Fx(t,v+O,n,r,x+O,o))}return CKe(t,e,n,r,i,o)}let hC=1e9,dC=0,KF=!1;function CKe(t,e,n,r,i,o){let a=n-e,s=o-i;if(hC<1e9&&Math.min(a,s)>hC*16||dC>0&&Date.now()>dC)return Math.min(a,s)>hC*64?[new Gs(e,n,i,o)]:DG(t,e,n,r,i,o);let u=Math.ceil((a+s)/2);_$.reset(u),x$.reset(u);let d=(O,E)=>t.charCodeAt(e+O)==r.charCodeAt(i+E),g=(O,E)=>t.charCodeAt(n-O-1)==r.charCodeAt(o-E-1),v=(a-s)%2!=0?x$:null,x=v?null:_$;for(let O=0;O<u;O++){if(O>hC||dC>0&&!(O&63)&&Date.now()>dC)return DG(t,e,n,r,i,o);let E=_$.advance(O,a,s,u,v,!1,d)||x$.advance(O,a,s,u,x,!0,g);if(E)return TKe(t,e,n,e+E[0],r,i,o,i+E[1])}return[new Gs(e,n,i,o)]}class Mue{constructor(){this.vec=[]}reset(e){this.len=e<<1;for(let n=0;n<this.len;n++)this.vec[n]=-1;this.vec[e+1]=0,this.start=this.end=0}advance(e,n,r,i,o,a,s){for(let u=-e+this.start;u<=e-this.end;u+=2){let d=i+u,g=u==-e||u!=e&&this.vec[d-1]<this.vec[d+1]?this.vec[d+1]:this.vec[d-1]+1,v=g-u;for(;g<n&&v<r&&s(g,v);)g++,v++;if(this.vec[d]=g,g>n)this.end+=2;else if(v>r)this.start+=2;else if(o){let x=i+(n-r)-u;if(x>=0&&x<this.len&&o.vec[x]!=-1)if(a){let O=o.vec[x];if(O>=n-g)return[O,i+O-x]}else{let O=n-o.vec[x];if(g>=O)return[g,v]}}}return null}}const _$=new Mue,x$=new Mue;function TKe(t,e,n,r,i,o,a,s){let u=!1;return!bO(t,r)&&++r==n&&(u=!0),!bO(i,s)&&++s==a&&(u=!0),u?[new Gs(e,n,o,a)]:Fx(t,e,r,i,o,s).concat(Fx(t,r,n,i,s,a))}function Rue(t,e){let n=1,r=Math.min(t,e);for(;n<r;)n=n<<1;return n}function JF(t,e,n,r,i,o){if(e==n||e==o||t.charCodeAt(e)!=r.charCodeAt(i))return 0;let a=Rue(n-e,o-i);for(let s=e,u=i;;){let d=s+a,g=u+a;if(d>n||g>o||t.slice(s,d)!=r.slice(u,g)){if(a==1)return s-e-(bO(t,s)?0:1);a=a>>1}else{if(d==n||g==o)return d-e;s=d,u=g}}}function e7(t,e,n,r,i,o){if(e==n||i==o||t.charCodeAt(n-1)!=r.charCodeAt(o-1))return 0;let a=Rue(n-e,o-i);for(let s=n,u=o;;){let d=s-a,g=u-a;if(d<e||g<i||t.slice(d,s)!=r.slice(g,u)){if(a==1)return n-s-(bO(t,s)?0:1);a=a>>1}else{if(d==e||g==i)return n-d;s=d,u=g}}}function tN(t,e,n,r,i,o,a,s){let u=r.slice(i,o),d=null;for(;;){if(d||a<s)return d;for(let g=e+a;;){bO(t,g)||g++;let v=g+a;if(bO(t,v)||(v+=v==g+1?1:-1),v>=n)break;let x=t.slice(g,v),O=-1;for(;(O=u.indexOf(x,O+1))!=-1;){let E=JF(t,v,n,r,i+O+x.length,o),A=e7(t,e,g,r,i,i+O),M=x.length+E+A;(!d||d[2]<M)&&(d=[g-A,i+O-A,M])}g=v}if(s<0)return d;a=a>>1}}function Iue(t,e,n,r,i,o){let a=n-e,s=o-i;if(a<s){let u=Iue(r,i,o,t,e,n);return u&&[u[1],u[0],u[2]]}return a<4||s*2<a?null:tN(t,e,n,r,i,o,Math.floor(a/4),-1)}function DG(t,e,n,r,i,o){KF=!0;let a=n-e,s=o-i,u;if(a<s){let x=tN(r,i,o,t,e,n,Math.floor(a/6),50);u=x&&[x[1],x[0],x[2]]}else u=tN(t,e,n,r,i,o,Math.floor(s/6),50);if(!u)return[new Gs(e,n,i,o)];let[d,g,v]=u;return Fx(t,e,d,r,i,g).concat(Fx(t,d+v,n,r,g+v,o))}function Due(t,e){for(let n=1;n<t.length;n++){let r=t[n-1],i=t[n];r.toA>i.fromA-e&&r.toB>i.fromB-e&&(t[n-1]=new Gs(r.fromA,i.toA,r.fromB,i.toB),t.splice(n--,1))}}function kKe(t,e,n){for(;;){Due(n,1);let r=!1;for(let i=0;i<n.length;i++){let o=n[i],a,s;(a=JF(t,o.fromA,o.toA,e,o.fromB,o.toB))&&(o=n[i]=new Gs(o.fromA+a,o.toA,o.fromB+a,o.toB)),(s=e7(t,o.fromA,o.toA,e,o.fromB,o.toB))&&(o=n[i]=new Gs(o.fromA,o.toA-s,o.fromB,o.toB-s));let u=o.toA-o.fromA,d=o.toB-o.fromB;if(u&&d)continue;let g=o.fromA-(i?n[i-1].toA:0),v=(i<n.length-1?n[i+1].fromA:t.length)-o.toA;if(!g||!v)continue;let x=u?t.slice(o.fromA,o.toA):e.slice(o.fromB,o.toB);g<=x.length&&t.slice(o.fromA-g,o.fromA)==x.slice(x.length-g)?(n[i]=new Gs(o.fromA-g,o.toA-g,o.fromB-g,o.toB-g),r=!0):v<=x.length&&t.slice(o.toA,o.toA+v)==x.slice(0,v)&&(n[i]=new Gs(o.fromA+v,o.toA+v,o.fromB+v,o.toB+v),r=!0)}if(!r)break}return n}function EKe(t,e,n){for(let r=0,i=0;i<t.length;i++){let o=t[i],a=o.toA-o.fromA,s=o.toB-o.fromB;if(a&&s||a>3||s>3){let u=i==t.length-1?e.length:t[i+1].fromA,d=o.fromA-r,g=u-o.toA,v=$G(e,o.fromA,d),x=LG(e,o.toA,g),O=o.fromA-v,E=x-o.toA;if((!a||!s)&&O&&E){let A=Math.max(a,s),[M,L,$]=a?[e,o.fromA,o.toA]:[n,o.fromB,o.toB];A>O&&e.slice(v,o.fromA)==M.slice($-O,$)?(o=t[i]=new Gs(v,v+a,o.fromB-O,o.toB-O),v=o.fromA,x=LG(e,o.toA,u-o.toA)):A>E&&e.slice(o.toA,x)==M.slice(L,L+E)&&(o=t[i]=new Gs(x-a,x,o.fromB+E,o.toB+E),x=o.toA,v=$G(e,o.fromA,o.fromA-r)),O=o.fromA-v,E=x-o.toA}if(O||E)o=t[i]=new Gs(o.fromA-O,o.toA+E,o.fromB-O,o.toB+E);else if(a){if(!s){let A=NG(e,o.fromA,o.toA),M,L=A<0?-1:zG(e,o.toA,o.fromA);A>-1&&(M=A-o.fromA)<=g&&e.slice(o.fromA,A)==e.slice(o.toA,o.toA+M)?o=t[i]=o.offset(M):L>-1&&(M=o.toA-L)<=d&&e.slice(o.fromA-M,o.fromA)==e.slice(L,o.toA)&&(o=t[i]=o.offset(-M))}}else{let A=NG(n,o.fromB,o.toB),M,L=A<0?-1:zG(n,o.toB,o.fromB);A>-1&&(M=A-o.fromB)<=g&&n.slice(o.fromB,A)==n.slice(o.toB,o.toB+M)?o=t[i]=o.offset(M):L>-1&&(M=o.toB-L)<=d&&n.slice(o.fromB-M,o.fromB)==n.slice(L,o.toB)&&(o=t[i]=o.offset(-M))}}r=o.toA}return Due(t,3),t}let hx;try{hx=new RegExp("[\\p{Alphabetic}\\p{Number}]","u")}catch{}function Lue(t){return t>48&&t<58||t>64&&t<91||t>96&&t<123}function $ue(t,e){if(e==t.length)return 0;let n=t.charCodeAt(e);return n<192?Lue(n)?1:0:hx?!Bue(n)||e==t.length-1?hx.test(String.fromCharCode(n))?1:0:hx.test(t.slice(e,e+2))?2:0:0}function zue(t,e){if(!e)return 0;let n=t.charCodeAt(e-1);return n<192?Lue(n)?1:0:hx?!Fue(n)||e==1?hx.test(String.fromCharCode(n))?1:0:hx.test(t.slice(e-2,e))?2:0:0}const Nue=8;function LG(t,e,n){if(e==t.length||!zue(t,e))return e;for(let r=e,i=e+n,o=0;o<Nue;o++){let a=$ue(t,r);if(!a||r+a>i)return r;r+=a}return e}function $G(t,e,n){if(!e||!$ue(t,e))return e;for(let r=e,i=e-n,o=0;o<Nue;o++){let a=zue(t,r);if(!a||r-a<i)return r;r-=a}return e}function zG(t,e,n){for(;e!=n;e--)if(t.charCodeAt(e-1)==10)return e;return-1}function NG(t,e,n){for(;e!=n;e++)if(t.charCodeAt(e)==10)return e;return-1}const Bue=t=>t>=55296&&t<=56319,Fue=t=>t>=56320&&t<=57343;function bO(t,e){return!e||e==t.length||!Bue(t.charCodeAt(e-1))||!Fue(t.charCodeAt(e))}function AKe(t,e,n){var r;return hC=((r=n?.scanLimit)!==null&&r!==void 0?r:1e9)>>1,dC=n?.timeout?Date.now()+n.timeout:0,KF=!1,kKe(t,e,Fx(t,0,t.length,e,0,e.length))}function jue(){return!KF}function Vue(t,e,n){return EKe(AKe(t,e,n),t,e)}const Gp=Mn.define({combine:t=>t[0]}),nN=pr.define(),PKe=Mn.define(),wO=Ls.define({create(t){return null},update(t,e){for(let n of e.effects)n.is(nN)&&(t=n.value);for(let n of e.state.facet(PKe))t=n(t,e);return t}});class Rw{constructor(e,n,r,i,o,a=!0){this.changes=e,this.fromA=n,this.toA=r,this.fromB=i,this.toB=o,this.precise=a}offset(e,n){return e||n?new Rw(this.changes,this.fromA+e,this.toA+e,this.fromB+n,this.toB+n,this.precise):this}get endA(){return Math.max(this.fromA,this.toA-1)}get endB(){return Math.max(this.fromB,this.toB-1)}static build(e,n,r){let i=Vue(e.toString(),n.toString(),r);return Que(i,e,n,0,0,jue())}static updateA(e,n,r,i,o){return QG(VG(e,i,!0,r.length),e,n,r,o)}static updateB(e,n,r,i,o){return QG(VG(e,i,!1,n.length),e,n,r,o)}}function BG(t,e,n,r){let i=n.lineAt(t),o=r.lineAt(e);return i.to==t&&o.to==e&&t<n.length&&e<r.length?[t+1,e+1]:[i.from,o.from]}function FG(t,e,n,r){let i=n.lineAt(t),o=r.lineAt(e);return i.from==t&&o.from==e?[t,e]:[i.to+1,o.to+1]}function Que(t,e,n,r,i,o){let a=[];for(let s=0;s<t.length;s++){let u=t[s],[d,g]=BG(u.fromA+r,u.fromB+i,e,n),[v,x]=FG(u.toA+r,u.toB+i,e,n),O=[u.offset(-d+r,-g+i)];for(;s<t.length-1;){let E=t[s+1],[A,M]=BG(E.fromA+r,E.fromB+i,e,n);if(A>v+1&&M>x+1)break;O.push(E.offset(-d+r,-g+i)),[v,x]=FG(E.toA+r,E.toB+i,e,n),s++}a.push(new Rw(O,d,Math.max(d,v),g,Math.max(g,x),o))}return a}const yP=1e3;function jG(t,e,n,r){let i=0,o=t.length;for(;;){if(i==o){let g=0,v=0;i&&({toA:g,toB:v}=t[i-1]);let x=e-(n?g:v);return[g+x,v+x]}let a=i+o>>1,s=t[a],[u,d]=n?[s.fromA,s.toA]:[s.fromB,s.toB];if(u>e)o=a;else if(d<=e)i=a+1;else return r?[s.fromA,s.fromB]:[s.toA,s.toB]}}function VG(t,e,n,r){let i=[];return e.iterChangedRanges((o,a,s,u)=>{let d=0,g=n?e.length:r,v=0,x=n?r:e.length;o>yP&&([d,v]=jG(t,o-yP,n,!0)),a<e.length-yP&&([g,x]=jG(t,a+yP,n,!1));let O=u-s-(a-o),E,[A,M]=n?[O,0]:[0,O];i.length&&(E=i[i.length-1]).toA>=d?i[i.length-1]={fromA:E.fromA,fromB:E.fromB,toA:g,toB:x,diffA:E.diffA+A,diffB:E.diffB+M}:i.push({fromA:d,toA:g,fromB:v,toB:x,diffA:A,diffB:M})}),i}function QG(t,e,n,r,i){if(!t.length)return e;let o=[];for(let a=0,s=0,u=0,d=0;;a++){let g=a==t.length?null:t[a],v=g?g.fromA+s:n.length,x=g?g.fromB+u:r.length;for(;d<e.length;){let M=e[d];if(Math.min(n.length,M.toA+s)>v||Math.min(r.length,M.toB+u)>x)break;o.push(M.offset(s,u)),d++}if(!g)break;let O=g.toA+s+g.diffA,E=g.toB+u+g.diffB,A=Vue(n.sliceString(v,O),r.sliceString(x,E),i);for(let M of Que(A,n,r,v,x,jue()))o.push(M);for(s+=g.diffA,u+=g.diffB;d<e.length;){let M=e[d];if(M.fromA+s>O&&M.fromB+u>E)break;d++}}return o}const MKe={scanLimit:500},Uue=Rs.fromClass(class{constructor(t){({deco:this.deco,gutter:this.gutter}=qG(t))}update(t){(t.docChanged||t.viewportChanged||RKe(t.startState,t.state)||IKe(t.startState,t.state))&&({deco:this.deco,gutter:this.gutter}=qG(t.view))}},{decorations:t=>t.deco}),vP=Nf.low(Xse({class:"cm-changeGutter",markers:t=>{var e;return((e=t.plugin(Uue))===null||e===void 0?void 0:e.gutter)||Hr.empty}}));function RKe(t,e){return t.field(wO,!1)!=e.field(wO,!1)}function IKe(t,e){return t.facet(Gp)!=e.facet(Gp)}const UG=Bn.line({class:"cm-changedLine"}),DKe=Bn.mark({class:"cm-changedText"}),LKe=Bn.mark({tagName:"ins",class:"cm-insertedLine"}),$Ke=Bn.mark({tagName:"del",class:"cm-deletedLine"}),ZG=new class extends ym{constructor(){super(...arguments),this.elementClass="cm-changedLineGutter"}};function zKe(t,e,n,r,i,o){let a=n?t.fromA:t.fromB,s=n?t.toA:t.toB,u=0;if(a!=s){i.add(a,a,UG),i.add(a,s,n?$Ke:LKe),o&&o.add(a,a,ZG);for(let d=e.iterRange(a,s-1),g=a;!d.next().done;){if(d.lineBreak){g++,i.add(g,g,UG),o&&o.add(g,g,ZG);continue}let v=g+d.value.length;if(r)for(;u<t.changes.length;){let x=t.changes[u],O=a+(n?x.fromA:x.fromB),E=a+(n?x.toA:x.toB),A=Math.max(g,O),M=Math.min(v,E);if(A<M&&i.add(A,M,DKe),E<v)u++;else break}g=v}}}function qG(t){let e=t.state.field(wO),{side:n,highlightChanges:r,markGutter:i,overrideChunk:o}=t.state.facet(Gp),a=n=="a",s=new hu,u=i?new hu:null,{from:d,to:g}=t.viewport;for(let v of e){if((a?v.fromA:v.fromB)>=g)break;(a?v.toA:v.toB)>d&&(!o||!o(t.state,v,s,u))&&zKe(v,t.state.doc,a,r,s,u)}return{deco:s.finish(),gutter:u&&u.finish()}}class _P extends md{constructor(e){super(),this.height=e}eq(e){return this.height==e.height}toDOM(){let e=document.createElement("div");return e.className="cm-mergeSpacer",e.style.height=this.height+"px",e}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}const KM=pr.define({map:(t,e)=>t.map(e)}),fC=Ls.define({create:()=>Bn.none,update:(t,e)=>{for(let n of e.effects)if(n.is(KM))return n.value;return t.map(e.changes)},provide:t=>dn.decorations.from(t)}),xP=.01;function WG(t,e){if(t.size!=e.size)return!1;let n=t.iter(),r=e.iter();for(;n.value;){if(n.from!=r.from||Math.abs(n.value.spec.widget.height-r.value.spec.widget.height)>1)return!1;n.next(),r.next()}return!0}function NKe(t,e,n){let r=new hu,i=new hu,o=t.state.field(fC).iter(),a=e.state.field(fC).iter(),s=0,u=0,d=0,g=0,v=t.viewport,x=e.viewport;for(let M=0;;M++){let L=M<n.length?n[M]:null,$=L?L.fromA:t.state.doc.length,N=L?L.fromB:e.state.doc.length;if(s<$){let F=t.lineBlockAt(s).top+d,U=e.lineBlockAt(u).top+g,q=F-U;q<-xP?(d-=q,r.add(s,s,Bn.widget({widget:new _P(-q),block:!0,side:-1}))):q>xP&&(g+=q,i.add(u,u,Bn.widget({widget:new _P(q),block:!0,side:-1})))}if($>s+1e3&&s<v.from&&$>v.from&&u<x.from&&N>x.from){let F=Math.min(v.from-s,x.from-u);s+=F,u+=F,M--}else if(L)s=L.toA,u=L.toB;else break;for(;o.value&&o.from<s;)d-=o.value.spec.widget.height,o.next();for(;a.value&&a.from<u;)g-=a.value.spec.widget.height,a.next()}for(;o.value;)d-=o.value.spec.widget.height,o.next();for(;a.value;)g-=a.value.spec.widget.height,a.next();let O=t.contentHeight+d-(e.contentHeight+g);O<xP?r.add(t.state.doc.length,t.state.doc.length,Bn.widget({widget:new _P(-O),block:!0,side:1})):O>xP&&i.add(e.state.doc.length,e.state.doc.length,Bn.widget({widget:new _P(O),block:!0,side:1}));let E=r.finish(),A=i.finish();WG(E,t.state.field(fC))||t.dispatch({effects:KM.of(E)}),WG(A,e.state.field(fC))||e.dispatch({effects:KM.of(A)})}const rN=pr.define({map:(t,e)=>e.mapPos(t)});class BKe extends md{constructor(e){super(),this.lines=e}eq(e){return this.lines==e.lines}toDOM(e){let n=document.createElement("div");return n.className="cm-collapsedLines",n.textContent=e.state.phrase("$ unchanged lines",this.lines),n.addEventListener("click",r=>{let i=e.posAtDOM(r.target);e.dispatch({effects:rN.of(i)});let{side:o,sibling:a}=e.state.facet(Gp);a&&a().dispatch({effects:rN.of(FKe(i,e.state.field(wO),o=="a"))})}),n}ignoreEvent(e){return e instanceof MouseEvent}get estimatedHeight(){return 27}get type(){return"collapsed-unchanged-code"}}function FKe(t,e,n){let r=0,i=0;for(let o=0;;o++){let a=o<e.length?e[o]:null;if(!a||(n?a.fromA:a.fromB)>=t)return i+(t-r);[r,i]=n?[a.toA,a.toB]:[a.toB,a.toA]}}const jKe=Ls.define({create(t){return Bn.none},update(t,e){t=t.map(e.changes);for(let n of e.effects)n.is(rN)&&(t=t.update({filter:r=>r!=n.value}));return t},provide:t=>dn.decorations.from(t)});function HG({margin:t=3,minSize:e=4}){return jKe.init(n=>VKe(n,t,e))}function VKe(t,e,n){let r=new hu,i=t.facet(Gp).side=="a",o=t.field(wO),a=1;for(let s=0;;s++){let u=s<o.length?o[s]:null,d=s?a+e:1,g=u?t.doc.lineAt(i?u.fromA:u.fromB).number-1-e:t.doc.lines,v=g-d+1;if(v>=n&&r.add(t.doc.line(d).from,t.doc.line(g).to,Bn.replace({widget:new BKe(v),block:!0})),!u)break;a=t.doc.lineAt(Math.min(t.doc.length,i?u.toA:u.toB)).number}return r.finish()}const QKe=dn.styleModule.of(new sy({".cm-mergeView":{overflowY:"auto"},".cm-mergeViewEditors":{display:"flex",alignItems:"stretch"},".cm-mergeViewEditor":{flexGrow:1,flexBasis:0,overflow:"hidden"},".cm-merge-revert":{width:"1.6em",flexGrow:0,flexShrink:0,position:"relative"},".cm-merge-revert button":{position:"absolute",display:"block",width:"100%",boxSizing:"border-box",textAlign:"center",background:"none",border:"none",font:"inherit",cursor:"pointer"}})),UKe=dn.baseTheme({".cm-mergeView & .cm-scroller, .cm-mergeView &":{height:"auto !important",overflowY:"visible !important"},"&.cm-merge-a .cm-changedLine, .cm-deletedChunk":{backgroundColor:"rgba(160, 128, 100, .08)"},"&.cm-merge-b .cm-changedLine, .cm-inlineChangedLine":{backgroundColor:"rgba(100, 160, 128, .08)"},"&light.cm-merge-a .cm-changedText, &light .cm-deletedChunk .cm-deletedText":{background:"linear-gradient(#ee443366, #ee443366) bottom/100% 2px no-repeat"},"&dark.cm-merge-a .cm-changedText, &dark .cm-deletedChunk .cm-deletedText":{background:"linear-gradient(#ffaa9966, #ffaa9966) bottom/100% 2px no-repeat"},"&light.cm-merge-b .cm-changedText":{background:"linear-gradient(#22bb22aa, #22bb22aa) bottom/100% 2px no-repeat"},"&dark.cm-merge-b .cm-changedText":{background:"linear-gradient(#88ff88aa, #88ff88aa) bottom/100% 2px no-repeat"},"&.cm-merge-b .cm-deletedText":{background:"#ff000033"},".cm-insertedLine, .cm-deletedLine, .cm-deletedLine del":{textDecoration:"none"},".cm-deletedChunk":{paddingLeft:"6px","& .cm-chunkButtons":{position:"absolute",insetInlineEnd:"5px"},"& button":{border:"none",cursor:"pointer",color:"white",margin:"0 2px",borderRadius:"3px","&[name=accept]":{background:"#2a2"},"&[name=reject]":{background:"#d43"}}},".cm-collapsedLines":{padding:"5px 5px 5px 10px",cursor:"pointer","&:before":{content:'""',marginInlineEnd:"7px"},"&:after":{content:'""',marginInlineStart:"7px"}},"&light .cm-collapsedLines":{color:"#444",background:"linear-gradient(to bottom, transparent 0, #f3f3f3 30%, #f3f3f3 70%, transparent 100%)"},"&dark .cm-collapsedLines":{color:"#ddd",background:"linear-gradient(to bottom, transparent 0, #222 30%, #222 70%, transparent 100%)"},".cm-changeGutter":{width:"3px",paddingLeft:"1px"},"&light.cm-merge-a .cm-changedLineGutter, &light .cm-deletedLineGutter":{background:"#e43"},"&dark.cm-merge-a .cm-changedLineGutter, &dark .cm-deletedLineGutter":{background:"#fa9"},"&light.cm-merge-b .cm-changedLineGutter":{background:"#2b2"},"&dark.cm-merge-b .cm-changedLineGutter":{background:"#8f8"},".cm-inlineChangedLineGutter":{background:"#75d"}}),GG=new KO,bP=new KO;class ZKe{constructor(e){this.revertDOM=null,this.revertToA=!1,this.revertToLeft=!1,this.measuring=-1,this.diffConf=e.diffConfig||MKe;let n=[Nf.low(Uue),UKe,QKe,fC,dn.updateListener.of(v=>{this.measuring<0&&(v.heightChanged||v.viewportChanged)&&!v.transactions.some(x=>x.effects.some(O=>O.is(KM)))&&this.measure()})],r=[Gp.of({side:"a",sibling:()=>this.b,highlightChanges:e.highlightChanges!==!1,markGutter:e.gutter!==!1})];e.gutter!==!1&&r.push(vP);let i=Rr.create({doc:e.a.doc,selection:e.a.selection,extensions:[e.a.extensions||[],dn.editorAttributes.of({class:"cm-merge-a"}),bP.of(r),n]}),o=[Gp.of({side:"b",sibling:()=>this.a,highlightChanges:e.highlightChanges!==!1,markGutter:e.gutter!==!1})];e.gutter!==!1&&o.push(vP);let a=Rr.create({doc:e.b.doc,selection:e.b.selection,extensions:[e.b.extensions||[],dn.editorAttributes.of({class:"cm-merge-b"}),bP.of(o),n]});this.chunks=Rw.build(i.doc,a.doc,this.diffConf);let s=[wO.init(()=>this.chunks),GG.of(e.collapseUnchanged?HG(e.collapseUnchanged):[])];i=i.update({effects:pr.appendConfig.of(s)}).state,a=a.update({effects:pr.appendConfig.of(s)}).state,this.dom=document.createElement("div"),this.dom.className="cm-mergeView",this.editorDOM=this.dom.appendChild(document.createElement("div")),this.editorDOM.className="cm-mergeViewEditors";let u=e.orientation||"a-b",d=document.createElement("div");d.className="cm-mergeViewEditor";let g=document.createElement("div");g.className="cm-mergeViewEditor",this.editorDOM.appendChild(u=="a-b"?d:g),this.editorDOM.appendChild(u=="a-b"?g:d),this.a=new dn({state:i,parent:d,root:e.root,dispatchTransactions:v=>this.dispatch(v,this.a)}),this.b=new dn({state:a,parent:g,root:e.root,dispatchTransactions:v=>this.dispatch(v,this.b)}),this.setupRevertControls(!!e.revertControls,e.revertControls=="b-to-a",e.renderRevertControl),e.parent&&e.parent.appendChild(this.dom),this.scheduleMeasure()}dispatch(e,n){if(e.some(r=>r.docChanged)){let r=e[e.length-1],i=e.reduce((a,s)=>a.compose(s.changes),Ws.empty(e[0].startState.doc.length));this.chunks=n==this.a?Rw.updateA(this.chunks,r.newDoc,this.b.state.doc,i,this.diffConf):Rw.updateB(this.chunks,this.a.state.doc,r.newDoc,i,this.diffConf),n.update([...e,r.state.update({effects:nN.of(this.chunks)})]);let o=n==this.a?this.b:this.a;o.update([o.state.update({effects:nN.of(this.chunks)})]),this.scheduleMeasure()}else n.update(e)}reconfigure(e){if("diffConfig"in e&&(this.diffConf=e.diffConfig),"orientation"in e){let o=e.orientation!="b-a";if(o!=(this.editorDOM.firstChild==this.a.dom.parentNode)){let a=this.a.dom.parentNode,s=this.b.dom.parentNode;a.remove(),s.remove(),this.editorDOM.insertBefore(o?a:s,this.editorDOM.firstChild),this.editorDOM.appendChild(o?s:a),this.revertToLeft=!this.revertToLeft,this.revertDOM&&(this.revertDOM.textContent="")}}if("revertControls"in e||"renderRevertControl"in e){let o=!!this.revertDOM,a=this.revertToA,s=this.renderRevert;"revertControls"in e&&(o=!!e.revertControls,a=e.revertControls=="b-to-a"),"renderRevertControl"in e&&(s=e.renderRevertControl),this.setupRevertControls(o,a,s)}let n="highlightChanges"in e,r="gutter"in e,i="collapseUnchanged"in e;if(n||r||i){let o=[],a=[];if(n||r){let s=this.a.state.facet(Gp),u=r?e.gutter!==!1:s.markGutter,d=n?e.highlightChanges!==!1:s.highlightChanges;o.push(bP.reconfigure([Gp.of({side:"a",sibling:()=>this.b,highlightChanges:d,markGutter:u}),u?vP:[]])),a.push(bP.reconfigure([Gp.of({side:"b",sibling:()=>this.a,highlightChanges:d,markGutter:u}),u?vP:[]]))}if(i){let s=GG.reconfigure(e.collapseUnchanged?HG(e.collapseUnchanged):[]);o.push(s),a.push(s)}this.a.dispatch({effects:o}),this.b.dispatch({effects:a})}this.scheduleMeasure()}setupRevertControls(e,n,r){this.revertToA=n,this.revertToLeft=this.revertToA==(this.editorDOM.firstChild==this.a.dom.parentNode),this.renderRevert=r,!e&&this.revertDOM?(this.revertDOM.remove(),this.revertDOM=null):e&&!this.revertDOM?(this.revertDOM=this.editorDOM.insertBefore(document.createElement("div"),this.editorDOM.firstChild.nextSibling),this.revertDOM.addEventListener("mousedown",i=>this.revertClicked(i)),this.revertDOM.className="cm-merge-revert"):this.revertDOM&&(this.revertDOM.textContent="")}scheduleMeasure(){if(this.measuring<0){let e=this.dom.ownerDocument.defaultView||window;this.measuring=e.requestAnimationFrame(()=>{this.measuring=-1,this.measure()})}}measure(){NKe(this.a,this.b,this.chunks),this.revertDOM&&this.updateRevertButtons()}updateRevertButtons(){let e=this.revertDOM,n=e.firstChild,r=this.a.viewport,i=this.b.viewport;for(let o=0;o<this.chunks.length;o++){let a=this.chunks[o];if(a.fromA>r.to||a.fromB>i.to)break;if(a.fromA<r.from||a.fromB<i.from)continue;let s=this.a.lineBlockAt(a.fromA).top+"px";for(;n&&+n.dataset.chunk<o;)n=XG(n);n&&n.dataset.chunk==String(o)?(n.style.top!=s&&(n.style.top=s),n=n.nextSibling):e.insertBefore(this.renderRevertButton(s,o),n)}for(;n;)n=XG(n)}renderRevertButton(e,n){let r;if(this.renderRevert)r=this.renderRevert();else{r=document.createElement("button");let i=this.a.state.phrase("Revert this chunk");r.setAttribute("aria-label",i),r.setAttribute("title",i),r.textContent=this.revertToLeft?"":""}return r.style.top=e,r.setAttribute("data-chunk",String(n)),r}revertClicked(e){let n=e.target,r;for(;n&&n.parentNode!=this.revertDOM;)n=n.parentNode;if(n&&(r=this.chunks[n.dataset.chunk])){let[i,o,a,s,u,d]=this.revertToA?[this.b,this.a,r.fromB,r.toB,r.fromA,r.toA]:[this.a,this.b,r.fromA,r.toA,r.fromB,r.toB],g=i.state.sliceDoc(a,Math.max(a,s-1));a!=s&&d<=o.state.doc.length&&(g+=i.state.lineBreak),o.dispatch({changes:{from:u,to:Math.min(o.state.doc.length,d),insert:g},userEvent:"revert"}),e.preventDefault()}}destroy(){this.a.destroy(),this.b.destroy(),this.measuring>-1&&(this.dom.ownerDocument.defaultView||window).cancelAnimationFrame(this.measuring),this.dom.remove()}}function XG(t){let e=t.nextSibling;return t.remove(),e}class JM{static create(e,n,r,i,o){let a=i+(i<<8)+e+(n<<4)|0;return new JM(e,n,r,a,o,[],[])}constructor(e,n,r,i,o,a,s){this.type=e,this.value=n,this.from=r,this.hash=i,this.end=o,this.children=a,this.positions=s,this.hashProp=[[vr.contextHash,i]]}addChild(e,n){e.prop(vr.contextHash)!=this.hash&&(e=new Ur(e.type,e.children,e.positions,e.length,this.hashProp)),this.children.push(e),this.positions.push(n)}toTree(e,n=this.end){let r=this.children.length-1;return r>=0&&(n=Math.max(n,this.positions[r]+this.children[r].length+this.from)),new Ur(e.types[this.type],this.children,this.positions,n-this.from).balance({makeTree:(i,o,a)=>new Ur(ia.none,i,o,a,this.hashProp)})}}var gn;(function(t){t[t.Document=1]="Document",t[t.CodeBlock=2]="CodeBlock",t[t.FencedCode=3]="FencedCode",t[t.Blockquote=4]="Blockquote",t[t.HorizontalRule=5]="HorizontalRule",t[t.BulletList=6]="BulletList",t[t.OrderedList=7]="OrderedList",t[t.ListItem=8]="ListItem",t[t.ATXHeading1=9]="ATXHeading1",t[t.ATXHeading2=10]="ATXHeading2",t[t.ATXHeading3=11]="ATXHeading3",t[t.ATXHeading4=12]="ATXHeading4",t[t.ATXHeading5=13]="ATXHeading5",t[t.ATXHeading6=14]="ATXHeading6",t[t.SetextHeading1=15]="SetextHeading1",t[t.SetextHeading2=16]="SetextHeading2",t[t.HTMLBlock=17]="HTMLBlock",t[t.LinkReference=18]="LinkReference",t[t.Paragraph=19]="Paragraph",t[t.CommentBlock=20]="CommentBlock",t[t.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",t[t.Escape=22]="Escape",t[t.Entity=23]="Entity",t[t.HardBreak=24]="HardBreak",t[t.Emphasis=25]="Emphasis",t[t.StrongEmphasis=26]="StrongEmphasis",t[t.Link=27]="Link",t[t.Image=28]="Image",t[t.InlineCode=29]="InlineCode",t[t.HTMLTag=30]="HTMLTag",t[t.Comment=31]="Comment",t[t.ProcessingInstruction=32]="ProcessingInstruction",t[t.Autolink=33]="Autolink",t[t.HeaderMark=34]="HeaderMark",t[t.QuoteMark=35]="QuoteMark",t[t.ListMark=36]="ListMark",t[t.LinkMark=37]="LinkMark",t[t.EmphasisMark=38]="EmphasisMark",t[t.CodeMark=39]="CodeMark",t[t.CodeText=40]="CodeText",t[t.CodeInfo=41]="CodeInfo",t[t.LinkTitle=42]="LinkTitle",t[t.LinkLabel=43]="LinkLabel",t[t.URL=44]="URL"})(gn||(gn={}));class qKe{constructor(e,n){this.start=e,this.content=n,this.marks=[],this.parsers=[]}}class WKe{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let e=this.skipSpace(this.basePos);this.indent=this.countIndent(e,this.pos,this.indent),this.pos=e,this.next=e==this.text.length?-1:this.text.charCodeAt(e)}skipSpace(e){return VC(this.text,e)}reset(e){for(this.text=e,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(e){this.basePos=e,this.baseIndent=this.countIndent(e,this.pos,this.indent)}moveBaseColumn(e){this.baseIndent=e,this.basePos=this.findColumn(e)}addMarker(e){this.markers.push(e)}countIndent(e,n=0,r=0){for(let i=n;i<e;i++)r+=this.text.charCodeAt(i)==9?4-r%4:1;return r}findColumn(e){let n=0;for(let r=0;n<this.text.length&&r<e;n++)r+=this.text.charCodeAt(n)==9?4-r%4:1;return n}scrub(){if(!this.baseIndent)return this.text;let e="";for(let n=0;n<this.basePos;n++)e+=" ";return e+this.text.slice(this.basePos)}}function YG(t,e,n){if(n.pos==n.text.length||t!=e.block&&n.indent>=e.stack[n.depth+1].value+n.baseIndent)return!0;if(n.indent>=n.baseIndent+4)return!1;let r=(t.type==gn.OrderedList?r7:n7)(n,e,!1);return r>0&&(t.type!=gn.BulletList||t7(n,e,!1)<0)&&n.text.charCodeAt(n.pos+r-1)==t.value}const Zue={[gn.Blockquote](t,e,n){return n.next!=62?!1:(n.markers.push(ci(gn.QuoteMark,e.lineStart+n.pos,e.lineStart+n.pos+1)),n.moveBase(n.pos+(yd(n.text.charCodeAt(n.pos+1))?2:1)),t.end=e.lineStart+n.text.length,!0)},[gn.ListItem](t,e,n){return n.indent<n.baseIndent+t.value&&n.next>-1?!1:(n.moveBaseColumn(n.baseIndent+t.value),!0)},[gn.OrderedList]:YG,[gn.BulletList]:YG,[gn.Document](){return!0}};function yd(t){return t==32||t==9||t==10||t==13}function VC(t,e=0){for(;e<t.length&&yd(t.charCodeAt(e));)e++;return e}function KG(t,e,n){for(;e>n&&yd(t.charCodeAt(e-1));)e--;return e}function que(t){if(t.next!=96&&t.next!=126)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;if(e<t.pos+3)return-1;if(t.next==96){for(let n=e;n<t.text.length;n++)if(t.text.charCodeAt(n)==96)return-1}return e}function Wue(t){return t.next!=62?-1:t.text.charCodeAt(t.pos+1)==32?2:1}function t7(t,e,n){if(t.next!=42&&t.next!=45&&t.next!=95)return-1;let r=1;for(let i=t.pos+1;i<t.text.length;i++){let o=t.text.charCodeAt(i);if(o==t.next)r++;else if(!yd(o))return-1}return n&&t.next==45&&Xue(t)>-1&&t.depth==e.stack.length&&e.parser.leafBlockParsers.indexOf(ehe.SetextHeading)>-1||r<3?-1:1}function Hue(t,e){for(let n=t.stack.length-1;n>=0;n--)if(t.stack[n].type==e)return!0;return!1}function n7(t,e,n){return(t.next==45||t.next==43||t.next==42)&&(t.pos==t.text.length-1||yd(t.text.charCodeAt(t.pos+1)))&&(!n||Hue(e,gn.BulletList)||t.skipSpace(t.pos+2)<t.text.length)?1:-1}function r7(t,e,n){let r=t.pos,i=t.next;for(;i>=48&&i<=57;){r++;if(r==t.text.length)return-1;i=t.text.charCodeAt(r)}return r==t.pos||r>t.pos+9||i!=46&&i!=41||r<t.text.length-1&&!yd(t.text.charCodeAt(r+1))||n&&!Hue(e,gn.OrderedList)&&(t.skipSpace(r+1)==t.text.length||r>t.pos+1||t.next!=49)?-1:r+1-t.pos}function Gue(t){if(t.next!=35)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==35;)e++;if(e<t.text.length&&t.text.charCodeAt(e)!=32)return-1;let n=e-t.pos;return n>6?-1:n}function Xue(t){if(t.next!=45&&t.next!=61||t.indent>=t.baseIndent+4)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;let n=e;for(;e<t.text.length&&yd(t.text.charCodeAt(e));)e++;return e==t.text.length?n:-1}const iN=/^[ \t]*$/,Yue=/-->/,Kue=/\?>/,oN=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,Yue],[/^\s*<\?/,Kue],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,iN],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,iN]];function Jue(t,e,n){if(t.next!=60)return-1;let r=t.text.slice(t.pos);for(let i=0,o=oN.length-(n?1:0);i<o;i++)if(oN[i][0].test(r))return i;return-1}function JG(t,e){let n=t.countIndent(e,t.pos,t.indent),r=t.countIndent(t.skipSpace(e),e,n);return r>=n+5?n+1:r}function b0(t,e,n){let r=t.length-1;r>=0&&t[r].to==e&&t[r].type==gn.CodeText?t[r].to=n:t.push(ci(gn.CodeText,e,n))}const wP={LinkReference:void 0,IndentedCode(t,e){let n=e.baseIndent+4;if(e.indent<n)return!1;let r=e.findColumn(n),i=t.lineStart+r,o=t.lineStart+e.text.length,a=[],s=[];for(b0(a,i,o);t.nextLine()&&e.depth>=t.stack.length;)if(e.pos==e.text.length){b0(s,t.lineStart-1,t.lineStart);for(let u of e.markers)s.push(u)}else{if(e.indent<n)break;{if(s.length){for(let d of s)d.type==gn.CodeText?b0(a,d.from,d.to):a.push(d);s=[]}b0(a,t.lineStart-1,t.lineStart);for(let d of e.markers)a.push(d);o=t.lineStart+e.text.length;let u=t.lineStart+e.findColumn(e.baseIndent+4);u<o&&b0(a,u,o)}}return s.length&&(s=s.filter(u=>u.type!=gn.CodeText),s.length&&(e.markers=s.concat(e.markers))),t.addNode(t.buffer.writeElements(a,-i).finish(gn.CodeBlock,o-i),i),!0},FencedCode(t,e){let n=que(e);if(n<0)return!1;let r=t.lineStart+e.pos,i=e.next,o=n-e.pos,a=e.skipSpace(n),s=KG(e.text,e.text.length,a),u=[ci(gn.CodeMark,r,r+o)];a<s&&u.push(ci(gn.CodeInfo,t.lineStart+a,t.lineStart+s));for(let d=!0,g=!0,v=!1;t.nextLine()&&e.depth>=t.stack.length;d=!1){let x=e.pos;if(e.indent-e.baseIndent<4)for(;x<e.text.length&&e.text.charCodeAt(x)==i;)x++;if(x-e.pos>=o&&e.skipSpace(x)==e.text.length){for(let O of e.markers)u.push(O);g&&v&&b0(u,t.lineStart-1,t.lineStart),u.push(ci(gn.CodeMark,t.lineStart+e.pos,t.lineStart+x)),t.nextLine();break}else{v=!0,d||(b0(u,t.lineStart-1,t.lineStart),g=!1);for(let A of e.markers)u.push(A);let O=t.lineStart+e.basePos,E=t.lineStart+e.text.length;O<E&&(b0(u,O,E),g=!1)}}return t.addNode(t.buffer.writeElements(u,-r).finish(gn.FencedCode,t.prevLineEnd()-r),r),!0},Blockquote(t,e){let n=Wue(e);return n<0?!1:(t.startContext(gn.Blockquote,e.pos),t.addNode(gn.QuoteMark,t.lineStart+e.pos,t.lineStart+e.pos+1),e.moveBase(e.pos+n),null)},HorizontalRule(t,e){if(t7(e,t,!1)<0)return!1;let n=t.lineStart+e.pos;return t.nextLine(),t.addNode(gn.HorizontalRule,n),!0},BulletList(t,e){let n=n7(e,t,!1);if(n<0)return!1;t.block.type!=gn.BulletList&&t.startContext(gn.BulletList,e.basePos,e.next);let r=JG(e,e.pos+1);return t.startContext(gn.ListItem,e.basePos,r-e.baseIndent),t.addNode(gn.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+n),e.moveBaseColumn(r),null},OrderedList(t,e){let n=r7(e,t,!1);if(n<0)return!1;t.block.type!=gn.OrderedList&&t.startContext(gn.OrderedList,e.basePos,e.text.charCodeAt(e.pos+n-1));let r=JG(e,e.pos+n);return t.startContext(gn.ListItem,e.basePos,r-e.baseIndent),t.addNode(gn.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+n),e.moveBaseColumn(r),null},ATXHeading(t,e){let n=Gue(e);if(n<0)return!1;let r=e.pos,i=t.lineStart+r,o=KG(e.text,e.text.length,r),a=o;for(;a>r&&e.text.charCodeAt(a-1)==e.next;)a--;(a==o||a==r||!yd(e.text.charCodeAt(a-1)))&&(a=e.text.length);let s=t.buffer.write(gn.HeaderMark,0,n).writeElements(t.parser.parseInline(e.text.slice(r+n+1,a),i+n+1),-i);a<e.text.length&&s.write(gn.HeaderMark,a-r,o-r);let u=s.finish(gn.ATXHeading1-1+n,e.text.length-r);return t.nextLine(),t.addNode(u,i),!0},HTMLBlock(t,e){let n=Jue(e,t,!1);if(n<0)return!1;let r=t.lineStart+e.pos,i=oN[n][1],o=[],a=i!=iN;for(;!i.test(e.text)&&t.nextLine();){if(e.depth<t.stack.length){a=!1;break}for(let d of e.markers)o.push(d)}a&&t.nextLine();let s=i==Yue?gn.CommentBlock:i==Kue?gn.ProcessingInstructionBlock:gn.HTMLBlock,u=t.prevLineEnd();return t.addNode(t.buffer.writeElements(o,-r).finish(s,u-r),r),!0},SetextHeading:void 0};class HKe{constructor(e){this.stage=0,this.elts=[],this.pos=0,this.start=e.start,this.advance(e.content)}nextLine(e,n,r){if(this.stage==-1)return!1;let i=r.content+`
`+n.scrub(),o=this.advance(i);return o>-1&&o<i.length?this.complete(e,r,o):!1}finish(e,n){return(this.stage==2||this.stage==3)&&VC(n.content,this.pos)==n.content.length?this.complete(e,n,n.content.length):!1}complete(e,n,r){return e.addLeafElement(n,ci(gn.LinkReference,this.start,this.start+r,this.elts)),!0}nextStage(e){return e?(this.pos=e.to-this.start,this.elts.push(e),this.stage++,!0):(e===!1&&(this.stage=-1),!1)}advance(e){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage(che(e,this.pos,this.start,!0)))return-1;if(e.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(ci(gn.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(ahe(e,VC(e,this.pos),this.start)))return-1}else if(this.stage==2){let n=VC(e,this.pos),r=0;if(n>this.pos){let i=lhe(e,n,this.start);if(i){let o=b$(e,i.to-this.start);o>0&&(this.nextStage(i),r=o)}}return r||(r=b$(e,this.pos)),r>0&&r<e.length?r:-1}else return b$(e,this.pos)}}}function b$(t,e){for(;e<t.length;e++){let n=t.charCodeAt(e);if(n==10)break;if(!yd(n))return-1}return e}class GKe{nextLine(e,n,r){let i=n.depth<e.stack.length?-1:Xue(n),o=n.next;if(i<0)return!1;let a=ci(gn.HeaderMark,e.lineStart+n.pos,e.lineStart+i);return e.nextLine(),e.addLeafElement(r,ci(o==61?gn.SetextHeading1:gn.SetextHeading2,r.start,e.prevLineEnd(),[...e.parser.parseInline(r.content,r.start),a])),!0}finish(){return!1}}const ehe={LinkReference(t,e){return e.content.charCodeAt(0)==91?new HKe(e):null},SetextHeading(){return new GKe}},XKe=[(t,e)=>Gue(e)>=0,(t,e)=>que(e)>=0,(t,e)=>Wue(e)>=0,(t,e)=>n7(e,t,!0)>=0,(t,e)=>r7(e,t,!0)>=0,(t,e)=>t7(e,t,!0)>=0,(t,e)=>Jue(e,t,!0)>=0],YKe={text:"",end:0};class KKe{constructor(e,n,r,i){this.parser=e,this.input=n,this.ranges=i,this.line=new WKe,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=i[i.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=i[0].from,this.block=JM.create(gn.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=r.length?new tJe(r,n):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:e}=this;for(;;){for(let r=0;;){let i=e.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;r<e.markers.length&&(!i||e.markers[r].from<i.end);){let o=e.markers[r++];this.addNode(o.type,o.from,o.to)}if(!i)break;this.finishContext()}if(e.pos<e.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(e.basePos))return null;e:for(;;){for(let r of this.parser.blockParsers)if(r){let i=r(this,e);if(i!=!1){if(i==!0)return null;e.forward();continue e}}break}let n=new qKe(this.lineStart+e.pos,e.text.slice(e.pos));for(let r of this.parser.leafBlockParsers)if(r){let i=r(this,n);i&&n.parsers.push(i)}e:for(;this.nextLine()&&e.pos!=e.text.length;){if(e.indent<e.baseIndent+4){for(let r of this.parser.endLeafBlock)if(r(this,e,n))break e}for(let r of n.parsers)if(r.nextLine(this,e,n))return null;n.content+=`
`+e.scrub();for(let r of e.markers)n.marks.push(r)}return this.finishLeaf(n),null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}reuseFragment(e){if(!this.fragments.moveTo(this.absoluteLineStart+e,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let n=this.fragments.takeNodes(this);return n?(this.absoluteLineStart+=n,this.lineStart=uhe(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0):!1}get depth(){return this.stack.length}parentType(e=this.depth-1){return this.parser.nodeSet.types[this.stack[e].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}peekLine(){return this.scanLine(this.absoluteLineEnd+1).text}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(e){let n=YKe;if(n.end=e,e>=this.to)n.text="";else if(n.text=this.lineChunkAt(e),n.end+=n.text.length,this.ranges.length>1){let r=this.absoluteLineStart,i=this.rangeI;for(;this.ranges[i].to<n.end;){i++;let o=this.ranges[i].from,a=this.lineChunkAt(o);n.end=o+a.length,n.text=n.text.slice(0,this.ranges[i-1].to-r)+a,r=n.end-n.text.length}}return n}readLine(){let{line:e}=this,{text:n,end:r}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=r,e.reset(n);e.depth<this.stack.length;e.depth++){let i=this.stack[e.depth],o=this.parser.skipContextMarkup[i.type];if(!o)throw new Error("Unhandled block context "+gn[i.type]);let a=this.line.markers.length;if(!o(i,this,e)){this.line.markers.length>a&&(i.end=this.line.markers[this.line.markers.length-1].to),e.forward();break}e.forward()}}lineChunkAt(e){let n=this.input.chunk(e),r;if(this.input.lineChunks)r=n==`
`?"":n;else{let i=n.indexOf(`
`);r=i<0?n:n.slice(0,i)}return e+r.length>this.to?r.slice(0,this.to-e):r}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(e,n,r=0){this.block=JM.create(e,r,this.lineStart+n,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(e,n,r=0){this.startContext(this.parser.getNodeType(e),n,r)}addNode(e,n,r){typeof e=="number"&&(e=new Ur(this.parser.nodeSet.types[e],OO,OO,(r??this.prevLineEnd())-n)),this.block.addChild(e,n-this.block.from)}addElement(e){this.block.addChild(e.toTree(this.parser.nodeSet),e.from-this.block.from)}addLeafElement(e,n){this.addNode(this.buffer.writeElements(aN(n.children,e.marks),-n.from).finish(n.type,n.to-n.from),n.from)}finishContext(){let e=this.stack.pop(),n=this.stack[this.stack.length-1];n.addChild(e.toTree(this.parser.nodeSet),e.from-n.from),this.block=n}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(e){return this.ranges.length>1?the(this.ranges,0,e.topNode,this.ranges[0].from,this.reusePlaceholders):e}finishLeaf(e){for(let r of e.parsers)if(r.finish(this,e))return;let n=aN(this.parser.parseInline(e.content,e.start),e.marks);this.addNode(this.buffer.writeElements(n,-e.start).finish(gn.Paragraph,e.content.length),e.start)}elt(e,n,r,i){return typeof e=="string"?ci(this.parser.getNodeType(e),n,r,i):new ihe(e,n)}get buffer(){return new rhe(this.parser.nodeSet)}}function the(t,e,n,r,i){let o=t[e].to,a=[],s=[],u=n.from+r;function d(g,v){for(;v?g>=o:g>o;){let x=t[e+1].from-o;r+=x,g+=x,e++,o=t[e].to}}for(let g=n.firstChild;g;g=g.nextSibling){d(g.from+r,!0);let v=g.from+r,x,O=i.get(g.tree);O?x=O:g.to+r>o?(x=the(t,e,g,r,i),d(g.to+r,!1)):x=g.toTree(),a.push(x),s.push(v-u)}return d(n.to+r,!1),new Ur(n.type,a,s,n.to+r-u,n.tree?n.tree.propValues:void 0)}class aD extends WI{constructor(e,n,r,i,o,a,s,u,d){super(),this.nodeSet=e,this.blockParsers=n,this.leafBlockParsers=r,this.blockNames=i,this.endLeafBlock=o,this.skipContextMarkup=a,this.inlineParsers=s,this.inlineNames=u,this.wrappers=d,this.nodeTypes=Object.create(null);for(let g of e.types)this.nodeTypes[g.name]=g.id}createParse(e,n,r){let i=new KKe(this,e,n,r);for(let o of this.wrappers)i=o(i,e,n,r);return i}configure(e){let n=sN(e);if(!n)return this;let{nodeSet:r,skipContextMarkup:i}=this,o=this.blockParsers.slice(),a=this.leafBlockParsers.slice(),s=this.blockNames.slice(),u=this.inlineParsers.slice(),d=this.inlineNames.slice(),g=this.endLeafBlock.slice(),v=this.wrappers;if(q2(n.defineNodes)){i=Object.assign({},i);let x=r.types.slice(),O;for(let E of n.defineNodes){let{name:A,block:M,composite:L,style:$}=typeof E=="string"?{name:E}:E;if(x.some(U=>U.name==A))continue;L&&(i[x.length]=(U,q,W)=>L(q,W,U.value));let N=x.length,F=L?["Block","BlockContext"]:M?N>=gn.ATXHeading1&&N<=gn.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;x.push(ia.define({id:N,name:A,props:F&&[[vr.group,F]]})),$&&(O||(O={}),Array.isArray($)||$ instanceof Hu?O[A]=$:Object.assign(O,$))}r=new eS(x),O&&(r=r.extend(tS(O)))}if(q2(n.props)&&(r=r.extend(...n.props)),q2(n.remove))for(let x of n.remove){let O=this.blockNames.indexOf(x),E=this.inlineNames.indexOf(x);O>-1&&(o[O]=a[O]=void 0),E>-1&&(u[E]=void 0)}if(q2(n.parseBlock))for(let x of n.parseBlock){let O=s.indexOf(x.name);if(O>-1)o[O]=x.parse,a[O]=x.leaf;else{let E=x.before?OP(s,x.before):x.after?OP(s,x.after)+1:s.length-1;o.splice(E,0,x.parse),a.splice(E,0,x.leaf),s.splice(E,0,x.name)}x.endLeaf&&g.push(x.endLeaf)}if(q2(n.parseInline))for(let x of n.parseInline){let O=d.indexOf(x.name);if(O>-1)u[O]=x.parse;else{let E=x.before?OP(d,x.before):x.after?OP(d,x.after)+1:d.length-1;u.splice(E,0,x.parse),d.splice(E,0,x.name)}}return n.wrap&&(v=v.concat(n.wrap)),new aD(r,o,a,s,g,i,u,d,v)}getNodeType(e){let n=this.nodeTypes[e];if(n==null)throw new RangeError(`Unknown node type '${e}'`);return n}parseInline(e,n){let r=new i7(this,e,n);e:for(let i=n;i<r.end;){let o=r.char(i);for(let a of this.inlineParsers)if(a){let s=a(r,o,i);if(s>=0){i=s;continue e}}i++}return r.resolveMarkers(0)}}function q2(t){return t!=null&&t.length>0}function sN(t){if(!Array.isArray(t))return t;if(t.length==0)return null;let e=sN(t[0]);if(t.length==1)return e;let n=sN(t.slice(1));if(!n||!e)return e||n;let r=(a,s)=>(a||OO).concat(s||OO),i=e.wrap,o=n.wrap;return{props:r(e.props,n.props),defineNodes:r(e.defineNodes,n.defineNodes),parseBlock:r(e.parseBlock,n.parseBlock),parseInline:r(e.parseInline,n.parseInline),remove:r(e.remove,n.remove),wrap:i?o?(a,s,u,d)=>i(o(a,s,u,d),s,u,d):i:o}}function OP(t,e){let n=t.indexOf(e);if(n<0)throw new RangeError(`Position specified relative to unknown parser ${e}`);return n}let nhe=[ia.none];for(let t=1,e;e=gn[t];t++)nhe[t]=ia.define({id:t,name:e,props:t>=gn.Escape?[]:[[vr.group,t in Zue?["Block","BlockContext"]:["Block","LeafBlock"]]],top:e=="Document"});const OO=[];let rhe=class{constructor(e){this.nodeSet=e,this.content=[],this.nodes=[]}write(e,n,r,i=0){return this.content.push(e,n,r,4+i*4),this}writeElements(e,n=0){for(let r of e)r.writeTo(this,n);return this}finish(e,n){return Ur.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:e,length:n})}},KT=class{constructor(e,n,r,i=OO){this.type=e,this.from=n,this.to=r,this.children=i}writeTo(e,n){let r=e.content.length;e.writeElements(this.children,n),e.content.push(this.type,this.from+n,this.to+n,e.content.length+4-r)}toTree(e){return new rhe(e).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}};class ihe{constructor(e,n){this.tree=e,this.from=n}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return OO}writeTo(e,n){e.nodes.push(this.tree),e.content.push(e.nodes.length-1,this.from+n,this.to+n,-1)}toTree(){return this.tree}}function ci(t,e,n,r){return new KT(t,e,n,r)}const ohe={resolve:"Emphasis",mark:"EmphasisMark"},she={resolve:"Emphasis",mark:"EmphasisMark"},U_={},eR={};class Uu{constructor(e,n,r,i){this.type=e,this.from=n,this.to=r,this.side=i}}const eX="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let JT=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{JT=new RegExp("[\\p{S}|\\p{P}]","u")}catch{}const w$={Escape(t,e,n){if(e!=92||n==t.end-1)return-1;let r=t.char(n+1);for(let i=0;i<eX.length;i++)if(eX.charCodeAt(i)==r)return t.append(ci(gn.Escape,n,n+2));return-1},Entity(t,e,n){if(e!=38)return-1;let r=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(t.slice(n+1,n+31));return r?t.append(ci(gn.Entity,n,n+1+r[0].length)):-1},InlineCode(t,e,n){if(e!=96||n&&t.char(n-1)==96)return-1;let r=n+1;for(;r<t.end&&t.char(r)==96;)r++;let i=r-n,o=0;for(;r<t.end;r++)if(t.char(r)==96){if(o++,o==i&&t.char(r+1)!=96)return t.append(ci(gn.InlineCode,n,r+1,[ci(gn.CodeMark,n,n+i),ci(gn.CodeMark,r+1-i,r+1)]))}else o=0;return-1},HTMLTag(t,e,n){if(e!=60||n==t.end-1)return-1;let r=t.slice(n+1,t.end),i=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(r);if(i)return t.append(ci(gn.Autolink,n,n+1+i[0].length,[ci(gn.LinkMark,n,n+1),ci(gn.URL,n+1,n+i[0].length),ci(gn.LinkMark,n+i[0].length,n+1+i[0].length)]));let o=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(r);if(o)return t.append(ci(gn.Comment,n,n+1+o[0].length));let a=/^\?[^]*?\?>/.exec(r);if(a)return t.append(ci(gn.ProcessingInstruction,n,n+1+a[0].length));let s=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(r);return s?t.append(ci(gn.HTMLTag,n,n+1+s[0].length)):-1},Emphasis(t,e,n){if(e!=95&&e!=42)return-1;let r=n+1;for(;t.char(r)==e;)r++;let i=t.slice(n-1,n),o=t.slice(r,r+1),a=JT.test(i),s=JT.test(o),u=/\s|^$/.test(i),d=/\s|^$/.test(o),g=!d&&(!s||u||a),v=!u&&(!a||d||s),x=g&&(e==42||!v||a),O=v&&(e==42||!g||s);return t.append(new Uu(e==95?ohe:she,n,r,(x?1:0)|(O?2:0)))},HardBreak(t,e,n){if(e==92&&t.char(n+1)==10)return t.append(ci(gn.HardBreak,n,n+2));if(e==32){let r=n+1;for(;t.char(r)==32;)r++;if(t.char(r)==10&&r>=n+2)return t.append(ci(gn.HardBreak,n,r+1))}return-1},Link(t,e,n){return e==91?t.append(new Uu(U_,n,n+1,1)):-1},Image(t,e,n){return e==33&&t.char(n+1)==91?t.append(new Uu(eR,n,n+2,1)):-1},LinkEnd(t,e,n){if(e!=93)return-1;for(let r=t.parts.length-1;r>=0;r--){let i=t.parts[r];if(i instanceof Uu&&(i.type==U_||i.type==eR)){if(!i.side||t.skipSpace(i.to)==n&&!/[(\[]/.test(t.slice(n+1,n+2)))return t.parts[r]=null,-1;let o=t.takeContent(r),a=t.parts[r]=JKe(t,o,i.type==U_?gn.Link:gn.Image,i.from,n+1);if(i.type==U_)for(let s=0;s<r;s++){let u=t.parts[s];u instanceof Uu&&u.type==U_&&(u.side=0)}return a.to}}return-1}};function JKe(t,e,n,r,i){let{text:o}=t,a=t.char(i),s=i;if(e.unshift(ci(gn.LinkMark,r,r+(n==gn.Image?2:1))),e.push(ci(gn.LinkMark,i-1,i)),a==40){let u=t.skipSpace(i+1),d=ahe(o,u-t.offset,t.offset),g;d&&(u=t.skipSpace(d.to),u!=d.to&&(g=lhe(o,u-t.offset,t.offset),g&&(u=t.skipSpace(g.to)))),t.char(u)==41&&(e.push(ci(gn.LinkMark,i,i+1)),s=u+1,d&&e.push(d),g&&e.push(g),e.push(ci(gn.LinkMark,u,s)))}else if(a==91){let u=che(o,i-t.offset,t.offset,!1);u&&(e.push(u),s=u.to)}return ci(n,r,s,e)}function ahe(t,e,n){if(t.charCodeAt(e)==60){for(let i=e+1;i<t.length;i++){let o=t.charCodeAt(i);if(o==62)return ci(gn.URL,e+n,i+1+n);if(o==60||o==10)return!1}return null}else{let i=0,o=e;for(let a=!1;o<t.length;o++){let s=t.charCodeAt(o);if(yd(s))break;if(a)a=!1;else if(s==40)i++;else if(s==41){if(!i)break;i--}else s==92&&(a=!0)}return o>e?ci(gn.URL,e+n,o+n):o==t.length?null:!1}}function lhe(t,e,n){let r=t.charCodeAt(e);if(r!=39&&r!=34&&r!=40)return!1;let i=r==40?41:r;for(let o=e+1,a=!1;o<t.length;o++){let s=t.charCodeAt(o);if(a)a=!1;else{if(s==i)return ci(gn.LinkTitle,e+n,o+1+n);s==92&&(a=!0)}}return null}function che(t,e,n,r){for(let i=!1,o=e+1,a=Math.min(t.length,o+999);o<a;o++){let s=t.charCodeAt(o);if(i)i=!1;else{if(s==93)return r?!1:ci(gn.LinkLabel,e+n,o+1+n);if(r&&!yd(s)&&(r=!1),s==91)return!1;s==92&&(i=!0)}}return null}class i7{constructor(e,n,r){this.parser=e,this.text=n,this.offset=r,this.parts=[]}char(e){return e>=this.end?-1:this.text.charCodeAt(e-this.offset)}get end(){return this.offset+this.text.length}slice(e,n){return this.text.slice(e-this.offset,n-this.offset)}append(e){return this.parts.push(e),e.to}addDelimiter(e,n,r,i,o){return this.append(new Uu(e,n,r,(i?1:0)|(o?2:0)))}get hasOpenLink(){for(let e=this.parts.length-1;e>=0;e--){let n=this.parts[e];if(n instanceof Uu&&(n.type==U_||n.type==eR))return!0}return!1}addElement(e){return this.append(e)}resolveMarkers(e){for(let r=e;r<this.parts.length;r++){let i=this.parts[r];if(!(i instanceof Uu&&i.type.resolve&&i.side&2))continue;let o=i.type==ohe||i.type==she,a=i.to-i.from,s,u=r-1;for(;u>=e;u--){let A=this.parts[u];if(A instanceof Uu&&A.side&1&&A.type==i.type&&!(o&&(i.side&1||A.side&2)&&(A.to-A.from+a)%3==0&&((A.to-A.from)%3||a%3))){s=A;break}}if(!s)continue;let d=i.type.resolve,g=[],v=s.from,x=i.to;if(o){let A=Math.min(2,s.to-s.from,a);v=s.to-A,x=i.from+A,d=A==1?"Emphasis":"StrongEmphasis"}s.type.mark&&g.push(this.elt(s.type.mark,v,s.to));for(let A=u+1;A<r;A++)this.parts[A]instanceof KT&&g.push(this.parts[A]),this.parts[A]=null;i.type.mark&&g.push(this.elt(i.type.mark,i.from,x));let O=this.elt(d,v,x,g);this.parts[u]=o&&s.from!=v?new Uu(s.type,s.from,v,s.side):null,(this.parts[r]=o&&i.to!=x?new Uu(i.type,x,i.to,i.side):null)?this.parts.splice(r,0,O):this.parts[r]=O}let n=[];for(let r=e;r<this.parts.length;r++){let i=this.parts[r];i instanceof KT&&n.push(i)}return n}findOpeningDelimiter(e){for(let n=this.parts.length-1;n>=0;n--){let r=this.parts[n];if(r instanceof Uu&&r.type==e&&r.side&1)return n}return null}takeContent(e){let n=this.resolveMarkers(e);return this.parts.length=e,n}getDelimiterAt(e){let n=this.parts[e];return n instanceof Uu?n:null}skipSpace(e){return VC(this.text,e-this.offset)+this.offset}elt(e,n,r,i){return typeof e=="string"?ci(this.parser.getNodeType(e),n,r,i):new ihe(e,n)}}i7.linkStart=U_;i7.imageStart=eR;function aN(t,e){if(!e.length)return t;if(!t.length)return e;let n=t.slice(),r=0;for(let i of e){for(;r<n.length&&n[r].to<i.to;)r++;if(r<n.length&&n[r].from<i.from){let o=n[r];o instanceof KT&&(n[r]=new KT(o.type,o.from,o.to,aN(o.children,[i])))}else n.splice(r++,0,i)}return n}const eJe=[gn.CodeBlock,gn.ListItem,gn.OrderedList,gn.BulletList];class tJe{constructor(e,n){this.fragments=e,this.input=n,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,e.length&&(this.fragment=e[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(e,n){for(;this.fragment&&this.fragment.to<=e;)this.nextFragment();if(!this.fragment||this.fragment.from>(e?e-1:0))return!1;if(this.fragmentEnd<0){let o=this.fragment.to;for(;o>0&&this.input.read(o-1,o)!=`
`;)o--;this.fragmentEnd=o?o-1:0}let r=this.cursor;r||(r=this.cursor=this.fragment.tree.cursor(),r.firstChild());let i=e+this.fragment.offset;for(;r.to<=i;)if(!r.parent())return!1;for(;;){if(r.from>=i)return this.fragment.from<=n;if(!r.childAfter(i))return!1}}matches(e){let n=this.cursor.tree;return n&&n.prop(vr.contextHash)==e}takeNodes(e){let n=this.cursor,r=this.fragment.offset,i=this.fragmentEnd-(this.fragment.openEnd?1:0),o=e.absoluteLineStart,a=o,s=e.block.children.length,u=a,d=s;for(;;){if(n.to-r>i){if(n.type.isAnonymous&&n.firstChild())continue;break}let g=uhe(n.from-r,e.ranges);if(n.to-r<=e.ranges[e.rangeI].to)e.addNode(n.tree,g);else{let v=new Ur(e.parser.nodeSet.types[gn.Paragraph],[],[],0,e.block.hashProp);e.reusePlaceholders.set(v,n.tree),e.addNode(v,g)}if(n.type.is("Block")&&(eJe.indexOf(n.type.id)<0?(a=n.to-r,s=e.block.children.length):(a=u,s=d,u=n.to-r,d=e.block.children.length)),!n.nextSibling())break}for(;e.block.children.length>s;)e.block.children.pop(),e.block.positions.pop();return a-o}}function uhe(t,e){let n=t;for(let r=1;r<e.length;r++){let i=e[r-1].to,o=e[r].from;i<t&&(n-=o-i)}return n}const nJe=tS({"Blockquote/...":Ne.quote,HorizontalRule:Ne.contentSeparator,"ATXHeading1/... SetextHeading1/...":Ne.heading1,"ATXHeading2/... SetextHeading2/...":Ne.heading2,"ATXHeading3/...":Ne.heading3,"ATXHeading4/...":Ne.heading4,"ATXHeading5/...":Ne.heading5,"ATXHeading6/...":Ne.heading6,"Comment CommentBlock":Ne.comment,Escape:Ne.escape,Entity:Ne.character,"Emphasis/...":Ne.emphasis,"StrongEmphasis/...":Ne.strong,"Link/... Image/...":Ne.link,"OrderedList/... BulletList/...":Ne.list,"BlockQuote/...":Ne.quote,"InlineCode CodeText":Ne.monospace,"URL Autolink":Ne.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":Ne.processingInstruction,"CodeInfo LinkLabel":Ne.labelName,LinkTitle:Ne.string,Paragraph:Ne.content}),rJe=new aD(new eS(nhe).extend(nJe),Object.keys(wP).map(t=>wP[t]),Object.keys(wP).map(t=>ehe[t]),Object.keys(wP),XKe,Zue,Object.keys(w$).map(t=>w$[t]),Object.keys(w$),[]);function iJe(t,e,n){let r=[];for(let i=t.firstChild,o=e;;i=i.nextSibling){let a=i?i.from:n;if(a>o&&r.push({from:o,to:a}),!i)break;o=i.to}return r}function oJe(t){let{codeParser:e,htmlParser:n}=t;return{wrap:iae((i,o)=>{let a=i.type.id;if(e&&(a==gn.CodeBlock||a==gn.FencedCode)){let s="";if(a==gn.FencedCode){let d=i.node.getChild(gn.CodeInfo);d&&(s=o.read(d.from,d.to))}let u=e(s);if(u)return{parser:u,overlay:d=>d.type.id==gn.CodeText,bracketed:a==gn.FencedCode}}else if(n&&(a==gn.HTMLBlock||a==gn.HTMLTag||a==gn.CommentBlock))return{parser:n,overlay:iJe(i.node,i.from,i.to)};return null})}}const sJe={resolve:"Strikethrough",mark:"StrikethroughMark"},aJe={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":Ne.strikethrough}},{name:"StrikethroughMark",style:Ne.processingInstruction}],parseInline:[{name:"Strikethrough",parse(t,e,n){if(e!=126||t.char(n+1)!=126||t.char(n+2)==126)return-1;let r=t.slice(n-1,n),i=t.slice(n+2,n+3),o=/\s|^$/.test(r),a=/\s|^$/.test(i),s=JT.test(r),u=JT.test(i);return t.addDelimiter(sJe,n,n+2,!a&&(!u||o||s),!o&&(!s||a||u))},after:"Emphasis"}]};function QC(t,e,n=0,r,i=0){let o=0,a=!0,s=-1,u=-1,d=!1,g=()=>{r.push(t.elt("TableCell",i+s,i+u,t.parser.parseInline(e.slice(s,u),i+s)))};for(let v=n;v<e.length;v++){let x=e.charCodeAt(v);x==124&&!d?((!a||s>-1)&&o++,a=!1,r&&(s>-1&&g(),r.push(t.elt("TableDelimiter",v+i,v+i+1))),s=u=-1):(d||x!=32&&x!=9)&&(s<0&&(s=v),u=v+1),d=!d&&x==92}return s>-1&&(o++,r&&g()),o}function tX(t,e){for(let n=e;n<t.length;n++){let r=t.charCodeAt(n);if(r==124)return!0;r==92&&n++}return!1}const hhe=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class nX{constructor(){this.rows=null}nextLine(e,n,r){if(this.rows==null){this.rows=!1;let i;if((n.next==45||n.next==58||n.next==124)&&hhe.test(i=n.text.slice(n.pos))){let o=[];QC(e,r.content,0,o,r.start)==QC(e,i,n.pos)&&(this.rows=[e.elt("TableHeader",r.start,r.start+r.content.length,o),e.elt("TableDelimiter",e.lineStart+n.pos,e.lineStart+n.text.length)])}}else if(this.rows){let i=[];QC(e,n.text,n.pos,i,e.lineStart),this.rows.push(e.elt("TableRow",e.lineStart+n.pos,e.lineStart+n.text.length,i))}return!1}finish(e,n){return this.rows?(e.addLeafElement(n,e.elt("Table",n.start,n.start+n.content.length,this.rows)),!0):!1}}const lJe={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":Ne.heading}},"TableRow",{name:"TableCell",style:Ne.content},{name:"TableDelimiter",style:Ne.processingInstruction}],parseBlock:[{name:"Table",leaf(t,e){return tX(e.content,0)?new nX:null},endLeaf(t,e,n){if(n.parsers.some(i=>i instanceof nX)||!tX(e.text,e.basePos))return!1;let r=t.peekLine();return hhe.test(r)&&QC(t,e.text,e.basePos)==QC(t,r,e.basePos)},before:"SetextHeading"}]};class cJe{nextLine(){return!1}finish(e,n){return e.addLeafElement(n,e.elt("Task",n.start,n.start+n.content.length,[e.elt("TaskMarker",n.start,n.start+3),...e.parser.parseInline(n.content.slice(3),n.start+3)])),!0}}const uJe={defineNodes:[{name:"Task",block:!0,style:Ne.list},{name:"TaskMarker",style:Ne.atom}],parseBlock:[{name:"TaskList",leaf(t,e){return/^\[[ xX]\][ \t]/.test(e.content)&&t.parentType().name=="ListItem"?new cJe:null},after:"SetextHeading"}]},rX=/(www\.)|(https?:\/\/)|([\w.+-]{1,100}@)|(mailto:|xmpp:)/gy,iX=/[\w-]+(\.[\w-]+)+(\/[^\s<]*)?/gy,hJe=/[\w-]+\.[\w-]+($|\/)/,oX=/[\w.+-]+@[\w-]+(\.[\w.-]+)+/gy,sX=/\/[a-zA-Z\d@.]+/gy;function aX(t,e,n,r){let i=0;for(let o=e;o<n;o++)t[o]==r&&i++;return i}function dJe(t,e){iX.lastIndex=e;let n=iX.exec(t);if(!n||hJe.exec(n[0])[0].indexOf("_")>-1)return-1;let r=e+n[0].length;for(;;){let i=t[r-1],o;if(/[?!.,:*_~]/.test(i)||i==")"&&aX(t,e,r,")")>aX(t,e,r,"("))r--;else if(i==";"&&(o=/&(?:#\d+|#x[a-f\d]+|\w+);$/.exec(t.slice(e,r))))r=e+o.index;else break}return r}function lX(t,e){oX.lastIndex=e;let n=oX.exec(t);if(!n)return-1;let r=n[0][n[0].length-1];return r=="_"||r=="-"?-1:e+n[0].length-(r=="."?1:0)}const fJe={parseInline:[{name:"Autolink",parse(t,e,n){let r=n-t.offset;if(r&&/\w/.test(t.text[r-1]))return-1;rX.lastIndex=r;let i=rX.exec(t.text),o=-1;if(!i)return-1;if(i[1]||i[2]){if(o=dJe(t.text,r+i[0].length),o>-1&&t.hasOpenLink){let a=/([^\[\]]|\[[^\]]*\])*/.exec(t.text.slice(r,o));o=r+a[0].length}}else i[3]?o=lX(t.text,r):(o=lX(t.text,r+i[0].length),o>-1&&i[0]=="xmpp:"&&(sX.lastIndex=o,i=sX.exec(t.text),i&&(o=i.index+i[0].length)));return o<0?-1:(t.addElement(t.elt("URL",n,o+t.offset)),o+t.offset)}}]},pJe=[lJe,uJe,aJe,fJe];function dhe(t,e,n){return(r,i,o)=>{if(i!=t||r.char(o+1)==t)return-1;let a=[r.elt(n,o,o+1)];for(let s=o+1;s<r.end;s++){let u=r.char(s);if(u==t)return r.addElement(r.elt(e,o,s+1,a.concat(r.elt(n,s,s+1))));if(u==92&&a.push(r.elt("Escape",s,s+++2)),yd(u))break}return-1}}const mJe={defineNodes:[{name:"Superscript",style:Ne.special(Ne.content)},{name:"SuperscriptMark",style:Ne.processingInstruction}],parseInline:[{name:"Superscript",parse:dhe(94,"Superscript","SuperscriptMark")}]},gJe={defineNodes:[{name:"Subscript",style:Ne.special(Ne.content)},{name:"SubscriptMark",style:Ne.processingInstruction}],parseInline:[{name:"Subscript",parse:dhe(126,"Subscript","SubscriptMark")}]},yJe={defineNodes:[{name:"Emoji",style:Ne.character}],parseInline:[{name:"Emoji",parse(t,e,n){let r;return e!=58||!(r=/^[a-zA-Z_0-9]+:/.exec(t.slice(n+1,t.end)))?-1:t.addElement(t.elt("Emoji",n,n+1+r[0].length))}}]},fhe=HI({commentTokens:{block:{open:"<!--",close:"-->"}}}),phe=new vr,mhe=rJe.configure({props:[rS.add(t=>!t.is("Block")||t.is("Document")||lN(t)!=null||vJe(t)?void 0:(e,n)=>({from:n.doc.lineAt(e.from).to,to:e.to})),phe.add(lN),nS.add({Document:()=>null}),I0.add({Document:fhe})]});function lN(t){let e=/^(?:ATX|Setext)Heading(\d)$/.exec(t.name);return e?+e[1]:void 0}function vJe(t){return t.name=="OrderedList"||t.name=="BulletList"}function _Je(t,e){let n=t;for(;;){let r=n.nextSibling,i;if(!r||(i=lN(r.type))!=null&&i<=e)break;n=r}return n.to}const xJe=uae.of((t,e,n)=>{for(let r=no(t).resolveInner(n,-1);r&&!(r.from<e);r=r.parent){let i=r.type.prop(phe);if(i==null)continue;let o=_Je(r,i);if(o>n)return{from:n,to:o}}return null});function o7(t){return new th(fhe,t,[],"markdown")}const ghe=o7(mhe),bJe=mhe.configure([pJe,gJe,mJe,yJe,{props:[rS.add({Table:(t,e)=>({from:e.doc.lineAt(t.from).to,to:t.to})})]}]),ek=o7(bJe);function wJe(t,e){return n=>{if(n&&t){let r=null;if(n=/\S*/.exec(n)[0],typeof t=="function"?r=t(n):r=Pt.matchLanguageName(t,n,!0),r instanceof Pt)return r.support?r.support.language.parser:Lx.getSkippingParser(r.load());if(r)return r.parser}return e?e.parser:null}}class O${constructor(e,n,r,i,o,a,s){this.node=e,this.from=n,this.to=r,this.spaceBefore=i,this.spaceAfter=o,this.type=a,this.item=s}blank(e,n=!0){let r=this.spaceBefore+(this.node.name=="Blockquote"?">":"");if(e!=null){for(;r.length<e;)r+=" ";return r}else{for(let i=this.to-this.from-r.length-this.spaceAfter.length;i>0;i--)r+=" ";return r+(n?this.spaceAfter:"")}}marker(e,n){let r=this.node.name=="OrderedList"?String(+vhe(this.item,e)[2]+n):"";return this.spaceBefore+r+this.type+this.spaceAfter}}function yhe(t,e){let n=[],r=[];for(let i=t;i;i=i.parent){if(i.name=="FencedCode")return r;(i.name=="ListItem"||i.name=="Blockquote")&&n.push(i)}for(let i=n.length-1;i>=0;i--){let o=n[i],a,s=e.lineAt(o.from),u=o.from-s.from;if(o.name=="Blockquote"&&(a=/^ *>( ?)/.exec(s.text.slice(u))))r.push(new O$(o,u,u+a[0].length,"",a[1],">",null));else if(o.name=="ListItem"&&o.parent.name=="OrderedList"&&(a=/^( *)\d+([.)])( *)/.exec(s.text.slice(u)))){let d=a[3],g=a[0].length;d.length>=4&&(d=d.slice(0,d.length-4),g-=4),r.push(new O$(o.parent,u,u+g,a[1],d,a[2],o))}else if(o.name=="ListItem"&&o.parent.name=="BulletList"&&(a=/^( *)([-+*])( {1,4}\[[ xX]\])?( +)/.exec(s.text.slice(u)))){let d=a[4],g=a[0].length;d.length>4&&(d=d.slice(0,d.length-4),g-=4);let v=a[2];a[3]&&(v+=a[3].replace(/[xX]/," ")),r.push(new O$(o.parent,u,u+g,a[1],d,v,o))}}return r}function vhe(t,e){return/^(\s*)(\d+)(?=[.)])/.exec(e.sliceString(t.from,t.from+10))}function S$(t,e,n,r=0){for(let i=-1,o=t;;){if(o.name=="ListItem"){let s=vhe(o,e),u=+s[2];if(i>=0){if(u!=i+1)return;n.push({from:o.from+s[1].length,to:o.from+s[0].length,insert:String(i+2+r)})}i=u}let a=o.nextSibling;if(!a)break;o=a}}function s7(t,e){let n=/^[ \t]*/.exec(t)[0].length;if(!n||e.facet(Hk)!="	")return t;let r=Mf(t,4,n),i="";for(let o=r;o>0;)o>=4?(i+="	",o-=4):(i+=" ",o--);return i+t.slice(n)}const _he=(t={})=>({state:e,dispatch:n})=>{let r=no(e),{doc:i}=e,o=null,a=e.changeByRange(s=>{if(!s.empty||!ek.isActiveAt(e,s.from,-1)&&!ek.isActiveAt(e,s.from,1))return o={range:s};let u=s.from,d=i.lineAt(u),g=yhe(r.resolveInner(u,-1),i);for(;g.length&&g[g.length-1].from>u-d.from;)g.pop();if(!g.length)return o={range:s};let v=g[g.length-1];if(v.to-v.spaceAfter.length>u-d.from)return o={range:s};let x=u>=v.to-v.spaceAfter.length&&!/\S/.test(d.text.slice(v.to));if(v.item&&x){let L=v.node.firstChild,$=v.node.getChild("ListItem","ListItem");if(L.to>=u||$&&$.to<u||d.from>0&&!/[^\s>]/.test(i.lineAt(d.from-1).text)||t.nonTightLists===!1){let N=g.length>1?g[g.length-2]:null,F,U="";N&&N.item?(F=d.from+N.from,U=N.marker(i,1)):F=d.from+(N?N.to:0);let q=[{from:F,to:u,insert:U}];return v.node.name=="OrderedList"&&S$(v.item,i,q,-2),N&&N.node.name=="OrderedList"&&S$(N.item,i,q),{range:jt.cursor(F+U.length),changes:q}}else{let N=uX(g,e,d);return{range:jt.cursor(u+N.length+1),changes:{from:d.from,insert:N+e.lineBreak}}}}if(v.node.name=="Blockquote"&&x&&d.from){let L=i.lineAt(d.from-1),$=/>\s*$/.exec(L.text);if($&&$.index==v.from){let N=e.changes([{from:L.from+$.index,to:L.to},{from:d.from+v.from,to:d.to}]);return{range:s.map(N),changes:N}}}let O=[];v.node.name=="OrderedList"&&S$(v.item,i,O);let E=v.item&&v.item.from<d.from,A="";if(!E||/^[\s\d.)\-+*>]*/.exec(d.text)[0].length>=v.to)for(let L=0,$=g.length-1;L<=$;L++)A+=L==$&&!E?g[L].marker(i,1):g[L].blank(L<$?Mf(d.text,4,g[L+1].from)-A.length:null);let M=u;for(;M>d.from&&/\s/.test(d.text.charAt(M-d.from-1));)M--;return A=s7(A,e),OJe(v.node,e.doc)&&(A=uX(g,e,d)+e.lineBreak+A),O.push({from:M,to:u,insert:e.lineBreak+A}),{range:jt.cursor(M+A.length+1),changes:O}});return o?!1:(n(e.update(a,{scrollIntoView:!0,userEvent:"input"})),!0)},xhe=_he();function cX(t){return t.name=="QuoteMark"||t.name=="ListMark"}function OJe(t,e){if(t.name!="OrderedList"&&t.name!="BulletList")return!1;let n=t.firstChild,r=t.getChild("ListItem","ListItem");if(!r)return!1;let i=e.lineAt(n.to),o=e.lineAt(r.from),a=/^[\s>]*$/.test(i.text);return i.number+(a?0:1)<o.number}function uX(t,e,n){let r="";for(let i=0,o=t.length-2;i<=o;i++)r+=t[i].blank(i<o?Mf(n.text,4,t[i+1].from)-r.length:null,i<o);return s7(r,e)}function SJe(t,e){let n=t.resolveInner(e,-1),r=e;cX(n)&&(r=n.from,n=n.parent);for(let i;i=n.childBefore(r);)if(cX(i))r=i.from;else if(i.name=="OrderedList"||i.name=="BulletList")n=i.lastChild,r=n.to;else break;return n}const bhe=({state:t,dispatch:e})=>{let n=no(t),r=null,i=t.changeByRange(o=>{let a=o.from,{doc:s}=t;if(o.empty&&ek.isActiveAt(t,o.from)){let u=s.lineAt(a),d=yhe(SJe(n,a),s);if(d.length){let g=d[d.length-1],v=g.to-g.spaceAfter.length+(g.spaceAfter?1:0);if(a-u.from>v&&!/\S/.test(u.text.slice(v,a-u.from)))return{range:jt.cursor(u.from+v),changes:{from:u.from+v,to:a}};if(a-u.from==v&&(!g.item||u.from<=g.item.from||!/\S/.test(u.text.slice(0,g.to)))){let x=u.from+g.from;if(g.item&&g.node.from<g.item.from&&/\S/.test(u.text.slice(g.from,g.to))){let O=g.blank(Mf(u.text,4,g.to)-Mf(u.text,4,g.from));return x==u.from&&(O=s7(O,t)),{range:jt.cursor(x+O.length),changes:{from:x,to:u.from+g.to,insert:O}}}if(x<a)return{range:jt.cursor(x),changes:{from:x,to:a}}}}}return r={range:o}});return r?!1:(e(t.update(i,{scrollIntoView:!0,userEvent:"delete"})),!0)},whe=[{key:"Enter",run:xhe},{key:"Backspace",run:bhe}],Ohe=lce({matchClosingTags:!1});function She(t={}){let{codeLanguages:e,defaultCodeLanguage:n,addKeymap:r=!0,base:{parser:i}=ghe,completeHTMLTags:o=!0,pasteURLAsLink:a=!0,htmlTagLanguage:s=Ohe}=t;if(!(i instanceof aD))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");let u=t.extensions?[t.extensions]:[],d=[s.support,xJe],g;a&&d.push(Che),n instanceof pO?(d.push(n.support),g=n.language):n&&(g=n);let v=e||g?wJe(e,g):void 0;u.push(oJe({codeParser:v,htmlParser:s.language.parser})),r&&d.push(Nf.high(JO.of(whe)));let x=o7(i.configure(u));return o&&d.push(x.data.of({autocomplete:CJe})),new pO(x,d)}function CJe(t){let{state:e,pos:n}=t,r=/<[:\-\.\w\u00b7-\uffff]*$/.exec(e.sliceDoc(n-25,n));if(!r)return null;let i=no(e).resolveInner(n,-1);for(;i&&!i.type.isTop;){if(i.name=="CodeBlock"||i.name=="FencedCode"||i.name=="ProcessingInstructionBlock"||i.name=="CommentBlock"||i.name=="Link"||i.name=="Image")return null;i=i.parent}return{from:n-r[0].length,to:n,options:TJe(),validFor:/^<[:\-\.\w\u00b7-\uffff]*$/}}let C$=null;function TJe(){if(C$)return C$;let t=rce(new pF(Rr.create({extensions:Ohe}),0,!0));return C$=t?t.options:[]}const kJe=/code|horizontalrule|html|link|comment|processing|escape|entity|image|mark|url/i,Che=dn.domEventHandlers({paste:(t,e)=>{var n;let{main:r}=e.state.selection;if(r.empty)return!1;let i=(n=t.clipboardData)===null||n===void 0?void 0:n.getData("text/plain");if(!i||!/^(https?:\/\/|mailto:|xmpp:|www\.)/.test(i)||(/^www\./.test(i)&&(i="https://"+i),!ek.isActiveAt(e.state,r.from,1)))return!1;let o=no(e.state),a=!1;return o.iterate({from:r.from,to:r.to,enter:s=>{(s.from>r.from||kJe.test(s.name))&&(a=!0)},leave:s=>{s.to<r.to&&(a=!0)}}),a?!1:(e.dispatch({changes:[{from:r.from,insert:"["},{from:r.to,insert:`](${i})`}],userEvent:"input.paste",scrollIntoView:!0}),!0)}}),EJe=Object.freeze(Object.defineProperty({__proto__:null,commonmarkLanguage:ghe,deleteMarkupBackward:bhe,insertNewlineContinueMarkup:xhe,insertNewlineContinueMarkupCommand:_he,markdown:She,markdownKeymap:whe,markdownLanguage:ek,pasteURLAsLink:Che},Symbol.toStringTag,{value:"Module"})),cN=[Sce,uce,She(),iF(),dn.lineWrapping],AJe=()=>{const[t,e,n]=as(mm,cl,a7),r=qi(Ax),i=qi(yT),o=ae.useRef(null),a=ae.useCallback(s=>{var u;if(s!==null){const d=[...n,...cN,dn.updateListener.of(({state:g})=>{r(g.doc.toString())}),dn.focusChangeEffect.of((g,v)=>(v||i(new FocusEvent("blur")),null))];e&&d.push(Rr.readOnly.of(!0)),s.innerHTML="",o.current=new dn({parent:s,state:Rr.create({doc:t,extensions:d})})}else(u=o.current)==null||u.destroy(),o.current=null},[t,e,r,n,i]);return ae.createElement("div",{ref:a,className:"cm-sourceView mdxeditor-source-editor"})};function hX(t,e){t!==void 0&&t.dispatch({changes:{from:0,to:t.state.doc.length,insert:e}})}const PJe=()=>{const t=$O(),[e,n,r,i]=as(mm,tR,cl,The),o=qi(Ax),a=ae.useRef(null),s=ae.useRef(null),u=Ms(a7),d=qi(yT);return ae.useEffect(()=>t.sub(tR,g=>{var v;hX((v=s.current)==null?void 0:v.a,g)}),[t]),ae.useEffect(()=>t.sub(mm,g=>{var v;hX((v=s.current)==null?void 0:v.b,g)}),[t]),ae.useEffect(()=>{const g=r||i,v=g?{renderRevertControl:void 0,revertControls:void 0}:{renderRevertControl:()=>{const x=document.createElement("button");return x.classList.add("cm-merge-revert"),x.appendChild(document.createTextNode("")),x},revertControls:"a-to-b"};return s.current=new ZKe({...v,parent:a.current,orientation:"a-b",gutter:!0,a:{doc:n,extensions:[...u,...cN,Rr.readOnly.of(!0)]},b:{doc:e,extensions:[...u,...cN,Rr.readOnly.of(g),dn.updateListener.of(({state:x})=>{const O=x.doc.toString();o(O)}),dn.focusChangeEffect.of((x,O)=>(O||d(new FocusEvent("blur")),null))]}}),()=>{var x;(x=s.current)==null||x.destroy(),s.current=null}},[o,u]),ae.createElement("div",{ref:a,className:"mdxeditor-diff-editor"})},MJe=({children:t})=>{const[e,n]=as(gT,Ex);return ae.createElement("div",{className:"mdxeditor-diff-source-wrapper"},e?ae.createElement("div",{className:Qt.markdownParseError},ae.createElement("p",null,e.error,"."),ae.createElement("p",null,"You can fix the errors in source mode and switch to rich text mode when you are ready.")):null,ae.createElement("div",{className:"mdxeditor-rich-text-editor",style:{display:n==="rich-text"&&e==null?"block":"none"}},t),n==="diff"?ae.createElement(PJe,null):null,n==="source"?ae.createElement(AJe,null):null)},tR=Pn(""),a7=Pn([]),The=Pn(!1),RJe=Nl({update:(t,e)=>{t.pub(tR,e?.diffMarkdown??"")},init(t,e){t.pubIn({[tR]:e?.diffMarkdown??"",[a7]:e?.codeMirrorExtensions??[],[VDe]:MJe,[The]:e?.readOnlyDiff??!1,[Ex]:e?.viewMode??"rich-text"})}});var T$={exports:{}},dX;function IJe(){return dX||(dX=1,(function(t){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};var n=(function(r){var i=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,o=0,a={},s={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function $(N){return N instanceof u?new u(N.type,$(N.content),N.alias):Array.isArray(N)?N.map($):N.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function($){return Object.prototype.toString.call($).slice(8,-1)},objId:function($){return $.__id||Object.defineProperty($,"__id",{value:++o}),$.__id},clone:function $(N,F){F=F||{};var U,q;switch(s.util.type(N)){case"Object":if(q=s.util.objId(N),F[q])return F[q];U={},F[q]=U;for(var W in N)N.hasOwnProperty(W)&&(U[W]=$(N[W],F));return U;case"Array":return q=s.util.objId(N),F[q]?F[q]:(U=[],F[q]=U,N.forEach(function(te,re){U[re]=$(te,F)}),U);default:return N}},getLanguage:function($){for(;$;){var N=i.exec($.className);if(N)return N[1].toLowerCase();$=$.parentElement}return"none"},setLanguage:function($,N){$.className=$.className.replace(RegExp(i,"gi"),""),$.classList.add("language-"+N)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(U){var $=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(U.stack)||[])[1];if($){var N=document.getElementsByTagName("script");for(var F in N)if(N[F].src==$)return N[F]}return null}},isActive:function($,N,F){for(var U="no-"+N;$;){var q=$.classList;if(q.contains(N))return!0;if(q.contains(U))return!1;$=$.parentElement}return!!F}},languages:{plain:a,plaintext:a,text:a,txt:a,extend:function($,N){var F=s.util.clone(s.languages[$]);for(var U in N)F[U]=N[U];return F},insertBefore:function($,N,F,U){U=U||s.languages;var q=U[$],W={};for(var te in q)if(q.hasOwnProperty(te)){if(te==N)for(var re in F)F.hasOwnProperty(re)&&(W[re]=F[re]);F.hasOwnProperty(te)||(W[te]=q[te])}var ce=U[$];return U[$]=W,s.languages.DFS(s.languages,function(be,ie){ie===ce&&be!=$&&(this[be]=W)}),W},DFS:function $(N,F,U,q){q=q||{};var W=s.util.objId;for(var te in N)if(N.hasOwnProperty(te)){F.call(N,te,N[te],U||te);var re=N[te],ce=s.util.type(re);ce==="Object"&&!q[W(re)]?(q[W(re)]=!0,$(re,F,null,q)):ce==="Array"&&!q[W(re)]&&(q[W(re)]=!0,$(re,F,te,q))}}},plugins:{},highlightAll:function($,N){s.highlightAllUnder(document,$,N)},highlightAllUnder:function($,N,F){var U={callback:F,container:$,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};s.hooks.run("before-highlightall",U),U.elements=Array.prototype.slice.apply(U.container.querySelectorAll(U.selector)),s.hooks.run("before-all-elements-highlight",U);for(var q=0,W;W=U.elements[q++];)s.highlightElement(W,N===!0,U.callback)},highlightElement:function($,N,F){var U=s.util.getLanguage($),q=s.languages[U];s.util.setLanguage($,U);var W=$.parentElement;W&&W.nodeName.toLowerCase()==="pre"&&s.util.setLanguage(W,U);var te=$.textContent,re={element:$,language:U,grammar:q,code:te};function ce(ie){re.highlightedCode=ie,s.hooks.run("before-insert",re),re.element.innerHTML=re.highlightedCode,s.hooks.run("after-highlight",re),s.hooks.run("complete",re),F&&F.call(re.element)}if(s.hooks.run("before-sanity-check",re),W=re.element.parentElement,W&&W.nodeName.toLowerCase()==="pre"&&!W.hasAttribute("tabindex")&&W.setAttribute("tabindex","0"),!re.code){s.hooks.run("complete",re),F&&F.call(re.element);return}if(s.hooks.run("before-highlight",re),!re.grammar){ce(s.util.encode(re.code));return}if(N&&r.Worker){var be=new Worker(s.filename);be.onmessage=function(ie){ce(ie.data)},be.postMessage(JSON.stringify({language:re.language,code:re.code,immediateClose:!0}))}else ce(s.highlight(re.code,re.grammar,re.language))},highlight:function($,N,F){var U={code:$,grammar:N,language:F};if(s.hooks.run("before-tokenize",U),!U.grammar)throw new Error('The language "'+U.language+'" has no grammar.');return U.tokens=s.tokenize(U.code,U.grammar),s.hooks.run("after-tokenize",U),u.stringify(s.util.encode(U.tokens),U.language)},tokenize:function($,N){var F=N.rest;if(F){for(var U in F)N[U]=F[U];delete N.rest}var q=new v;return x(q,q.head,$),g($,q,N,q.head,0),E(q)},hooks:{all:{},add:function($,N){var F=s.hooks.all;F[$]=F[$]||[],F[$].push(N)},run:function($,N){var F=s.hooks.all[$];if(!(!F||!F.length))for(var U=0,q;q=F[U++];)q(N)}},Token:u};r.Prism=s;function u($,N,F,U){this.type=$,this.content=N,this.alias=F,this.length=(U||"").length|0}u.stringify=function $(N,F){if(typeof N=="string")return N;if(Array.isArray(N)){var U="";return N.forEach(function(ce){U+=$(ce,F)}),U}var q={type:N.type,content:$(N.content,F),tag:"span",classes:["token",N.type],attributes:{},language:F},W=N.alias;W&&(Array.isArray(W)?Array.prototype.push.apply(q.classes,W):q.classes.push(W)),s.hooks.run("wrap",q);var te="";for(var re in q.attributes)te+=" "+re+'="'+(q.attributes[re]||"").replace(/"/g,"&quot;")+'"';return"<"+q.tag+' class="'+q.classes.join(" ")+'"'+te+">"+q.content+"</"+q.tag+">"};function d($,N,F,U){$.lastIndex=N;var q=$.exec(F);if(q&&U&&q[1]){var W=q[1].length;q.index+=W,q[0]=q[0].slice(W)}return q}function g($,N,F,U,q,W){for(var te in F)if(!(!F.hasOwnProperty(te)||!F[te])){var re=F[te];re=Array.isArray(re)?re:[re];for(var ce=0;ce<re.length;++ce){if(W&&W.cause==te+","+ce)return;var be=re[ce],ie=be.inside,me=!!be.lookbehind,we=!!be.greedy,pe=be.alias;if(we&&!be.pattern.global){var _e=be.pattern.toString().match(/[imsuy]*$/)[0];be.pattern=RegExp(be.pattern.source,_e+"g")}for(var Me=be.pattern||be,Be=U.next,Ue=q;Be!==N.tail&&!(W&&Ue>=W.reach);Ue+=Be.value.length,Be=Be.next){var Ce=Be.value;if(N.length>$.length)return;if(!(Ce instanceof u)){var Pe=1,Xe;if(we){if(Xe=d(Me,Ue,$,me),!Xe||Xe.index>=$.length)break;var ct=Xe.index,ke=Xe.index+Xe[0].length,mt=Ue;for(mt+=Be.value.length;ct>=mt;)Be=Be.next,mt+=Be.value.length;if(mt-=Be.value.length,Ue=mt,Be.value instanceof u)continue;for(var gt=Be;gt!==N.tail&&(mt<ke||typeof gt.value=="string");gt=gt.next)Pe++,mt+=gt.value.length;Pe--,Ce=$.slice(Ue,mt),Xe.index-=Ue}else if(Xe=d(Me,0,Ce,me),!Xe)continue;var ct=Xe.index,ot=Xe[0],vt=Ce.slice(0,ct),At=Ce.slice(ct+ot.length),Tt=Ue+Ce.length;W&&Tt>W.reach&&(W.reach=Tt);var Wt=Be.prev;vt&&(Wt=x(N,Wt,vt),Ue+=vt.length),O(N,Wt,Pe);var Ot=new u(te,ie?s.tokenize(ot,ie):ot,pe,ot);if(Be=x(N,Wt,Ot),At&&x(N,Be,At),Pe>1){var hn={cause:te+","+ce,reach:Tt};g($,N,F,Be.prev,Ue,hn),W&&hn.reach>W.reach&&(W.reach=hn.reach)}}}}}}function v(){var $={value:null,prev:null,next:null},N={value:null,prev:$,next:null};$.next=N,this.head=$,this.tail=N,this.length=0}function x($,N,F){var U=N.next,q={value:F,prev:N,next:U};return N.next=q,U.prev=q,$.length++,q}function O($,N,F){for(var U=N.next,q=0;q<F&&U!==$.tail;q++)U=U.next;N.next=U,U.prev=N,$.length-=q}function E($){for(var N=[],F=$.head.next;F!==$.tail;)N.push(F.value),F=F.next;return N}if(!r.document)return r.addEventListener&&(s.disableWorkerMessageHandler||r.addEventListener("message",function($){var N=JSON.parse($.data),F=N.language,U=N.code,q=N.immediateClose;r.postMessage(s.highlight(U,s.languages[F],F)),q&&r.close()},!1)),s;var A=s.util.currentScript();A&&(s.filename=A.src,A.hasAttribute("data-manual")&&(s.manual=!0));function M(){s.manual||s.highlightAll()}if(!s.manual){var L=document.readyState;L==="loading"||L==="interactive"&&A&&A.defer?document.addEventListener("DOMContentLoaded",M):window.requestAnimationFrame?window.requestAnimationFrame(M):window.setTimeout(M,16)}return s})(e);t.exports&&(t.exports=n),typeof w7<"u"&&(w7.Prism=n),n.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},n.languages.markup.tag.inside["attr-value"].inside.entity=n.languages.markup.entity,n.languages.markup.doctype.inside["internal-subset"].inside=n.languages.markup,n.hooks.add("wrap",function(r){r.type==="entity"&&(r.attributes.title=r.content.replace(/&amp;/,"&"))}),Object.defineProperty(n.languages.markup.tag,"addInlined",{value:function(i,o){var a={};a["language-"+o]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:n.languages[o]},a.cdata=/^<!\[CDATA\[|\]\]>$/i;var s={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:a}};s["language-"+o]={pattern:/[\s\S]+/,inside:n.languages[o]};var u={};u[i]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return i}),"i"),lookbehind:!0,greedy:!0,inside:s},n.languages.insertBefore("markup","cdata",u)}}),Object.defineProperty(n.languages.markup.tag,"addAttribute",{value:function(r,i){n.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+r+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[i,"language-"+i],inside:n.languages[i]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),n.languages.html=n.languages.markup,n.languages.mathml=n.languages.markup,n.languages.svg=n.languages.markup,n.languages.xml=n.languages.extend("markup",{}),n.languages.ssml=n.languages.xml,n.languages.atom=n.languages.xml,n.languages.rss=n.languages.xml,(function(r){var i=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;r.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+i.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+i.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+i.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+i.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:i,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},r.languages.css.atrule.inside.rest=r.languages.css;var o=r.languages.markup;o&&(o.tag.addInlined("style","css"),o.tag.addAttribute("style","css"))})(n),n.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},n.languages.javascript=n.languages.extend("clike",{"class-name":[n.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),n.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,n.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:n.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:n.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:n.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:n.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:n.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),n.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:n.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),n.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),n.languages.markup&&(n.languages.markup.tag.addInlined("script","javascript"),n.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),n.languages.js=n.languages.javascript,(function(){if(typeof n>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var r="Loading",i=function(A,M){return" Error "+A+" while fetching file: "+M},o=" Error: File does not exist or is empty",a={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},s="data-src-status",u="loading",d="loaded",g="failed",v="pre[data-src]:not(["+s+'="'+d+'"]):not(['+s+'="'+u+'"])';function x(A,M,L){var $=new XMLHttpRequest;$.open("GET",A,!0),$.onreadystatechange=function(){$.readyState==4&&($.status<400&&$.responseText?M($.responseText):$.status>=400?L(i($.status,$.statusText)):L(o))},$.send(null)}function O(A){var M=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(A||"");if(M){var L=Number(M[1]),$=M[2],N=M[3];return $?N?[L,Number(N)]:[L,void 0]:[L,L]}}n.hooks.add("before-highlightall",function(A){A.selector+=", "+v}),n.hooks.add("before-sanity-check",function(A){var M=A.element;if(M.matches(v)){A.code="",M.setAttribute(s,u);var L=M.appendChild(document.createElement("CODE"));L.textContent=r;var $=M.getAttribute("data-src"),N=A.language;if(N==="none"){var F=(/\.(\w+)$/.exec($)||[,"none"])[1];N=a[F]||F}n.util.setLanguage(L,N),n.util.setLanguage(M,N);var U=n.plugins.autoloader;U&&U.loadLanguages(N),x($,function(q){M.setAttribute(s,d);var W=O(M.getAttribute("data-range"));if(W){var te=q.split(/\r\n?|\n/g),re=W[0],ce=W[1]==null?te.length:W[1];re<0&&(re+=te.length),re=Math.max(0,Math.min(re-1,te.length)),ce<0&&(ce+=te.length),ce=Math.max(0,Math.min(ce,te.length)),q=te.slice(re,ce).join(`
`),M.hasAttribute("data-start")||M.setAttribute("data-start",String(re+1))}L.textContent=q,n.highlightElement(L)},function(q){M.setAttribute(s,g),L.textContent=q})}}),n.plugins.fileHighlight={highlight:function(M){for(var L=(M||document).querySelectorAll(v),$=0,N;N=L[$++];)n.highlightElement(N)}};var E=!1;n.fileHighlight=function(){E||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),E=!0),n.plugins.fileHighlight.highlight.apply(this,arguments)}})()})(T$)),T$.exports}IJe();Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity;Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup;Prism.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,n){var r={};r["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[n]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};i["language-"+n]={pattern:/[\s\S]+/,inside:Prism.languages[n]};var o={};o[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:i},Prism.languages.insertBefore("markup","cdata",o)}});Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(t,e){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[e,"language-"+e],inside:Prism.languages[e]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;Prism.languages.xml=Prism.languages.extend("markup",{});Prism.languages.ssml=Prism.languages.xml;Prism.languages.atom=Prism.languages.xml;Prism.languages.rss=Prism.languages.xml;(function(t){var e=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function n(g){return g=g.replace(/<inner>/g,function(){return e}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+g+")")}var r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,i=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return r}),o=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;t.languages.markdown=t.languages.extend("markup",{}),t.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:t.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+i+o+"(?:"+i+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+i+o+")(?:"+i+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:t.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+i+")"+o+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+i+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:t.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:n(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:n(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:n(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:n(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(g){["url","bold","italic","strike","code-snippet"].forEach(function(v){g!==v&&(t.languages.markdown[g].inside.content.inside[v]=t.languages.markdown[v])})}),t.hooks.add("after-tokenize",function(g){if(g.language!=="markdown"&&g.language!=="md")return;function v(x){if(!(!x||typeof x=="string"))for(var O=0,E=x.length;O<E;O++){var A=x[O];if(A.type!=="code"){v(A.content);continue}var M=A.content[1],L=A.content[3];if(M&&L&&M.type==="code-language"&&L.type==="code-block"&&typeof M.content=="string"){var $=M.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");$=(/[a-z][\w-]*/i.exec($)||[""])[0].toLowerCase();var N="language-"+$;L.alias?typeof L.alias=="string"?L.alias=[L.alias,N]:L.alias.push(N):L.alias=[N]}}}v(g.tokens)}),t.hooks.add("wrap",function(g){if(g.type==="code-block"){for(var v="",x=0,O=g.classes.length;x<O;x++){var E=g.classes[x],A=/language-(.+)/.exec(E);if(A){v=A[1];break}}var M=t.languages[v];if(M)g.content=t.highlight(d(g.content),M,v);else if(v&&v!=="none"&&t.plugins.autoloader){var L="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);g.attributes.id=L,t.plugins.autoloader.loadLanguages(v,function(){var $=document.getElementById(L);$&&($.innerHTML=t.highlight($.textContent,t.languages[v],v))})}}});var a=RegExp(t.languages.markup.tag.pattern.source,"gi"),s={amp:"&",lt:"<",gt:">",quot:'"'},u=String.fromCodePoint||String.fromCharCode;function d(g){var v=g.replace(a,"");return v=v.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(x,O){if(O=O.toLowerCase(),O[0]==="#"){var E;return O[1]==="x"?E=parseInt(O.slice(2),16):E=Number(O.slice(1)),u(E)}else{var A=s[O];return A||x}}),v}t.languages.md=t.languages.markdown})(Prism);Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/});Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}});Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}});Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/});delete Prism.languages.c.boolean;(function(t){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+e.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var n=t.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))})(Prism);Prism.languages.objectivec=Prism.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/});delete Prism.languages.objectivec["class-name"];Prism.languages.objc=Prism.languages.objectivec;Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/};(function(t){var e=t.languages.powershell={comment:[{pattern:/(^|[^`])<#[\s\S]*?#>/,lookbehind:!0},{pattern:/(^|[^`])#.*/,lookbehind:!0}],string:[{pattern:/"(?:`[\s\S]|[^`"])*"/,greedy:!0,inside:null},{pattern:/'(?:[^']|'')*'/,greedy:!0}],namespace:/\[[a-z](?:\[(?:\[[^\]]*\]|[^\[\]])*\]|[^\[\]])*\]/i,boolean:/\$(?:false|true)\b/i,variable:/\$\w+\b/,function:[/\b(?:Add|Approve|Assert|Backup|Block|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|ForEach|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Sort|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Tee|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Where|Write)-[a-z]+\b/i,/\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\b/i],keyword:/\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\b/i,operator:{pattern:/(^|\W)(?:!|-(?:b?(?:and|x?or)|as|(?:Not)?(?:Contains|In|Like|Match)|eq|ge|gt|is(?:Not)?|Join|le|lt|ne|not|Replace|sh[lr])\b|-[-=]?|\+[+=]?|[*\/%]=?)/i,lookbehind:!0},punctuation:/[|{}[\];(),.]/};e.string[0].inside={function:{pattern:/(^|[^`])\$\((?:\$\([^\r\n()]*\)|(?!\$\()[^\r\n)])*\)/,lookbehind:!0,inside:e},boolean:e.boolean,variable:e.variable}})(Prism);var fX={},pX;function DJe(){return pX||(pX=1,Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python),fX}DJe();var mX={},gX;function LJe(){return gX||(gX=1,(function(t){for(var e=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,n=0;n<2;n++)e=e.replace(/<self>/g,function(){return e});e=e.replace(/<self>/g,function(){return/[^\s\S]/.source}),t.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+e),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},t.languages.rust["closure-params"].inside.rest=t.languages.rust,t.languages.rust.attribute.inside.string=t.languages.rust.string})(Prism)),mX}LJe();Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+(/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+")+"|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/};Prism.languages.swift["string-literal"].forEach(function(t){t.inside.interpolation.inside=Prism.languages.swift});var yX={},vX;function $Je(){return vX||(vX=1,(function(t){t.languages.typescript=t.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),t.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete t.languages.typescript.parameter,delete t.languages.typescript["literal-property"];var e=t.languages.extend("typescript",{});delete e["class-name"],t.languages.typescript["class-name"].inside=e,t.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e}}}}),t.languages.ts=t.languages.typescript})(Prism)),yX}$Je();var _X={},xX;function zJe(){return xX||(xX=1,(function(t){var e=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,r={pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};t.languages.java=t.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[r,{pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:r.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+n+/[A-Z]\w*\b/.source),lookbehind:!0,inside:r.inside}],keyword:e,function:[t.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),t.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),t.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":r,keyword:e,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+n+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:r.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+n+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:r.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0,inside:{punctuation:/\./}}})})(Prism)),_X}zJe();var bX={},wX;function NJe(){return wX||(wX=1,(function(t){var e=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return e.source});t.languages.cpp=t.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:e,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),t.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return n})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),t.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t.languages.cpp}}}}),t.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),t.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:t.languages.extend("cpp",{})}}),t.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},t.languages.cpp["base-clause"])})(Prism)),bX}NJe();function khe(t,e){for(const n of t.childNodes){if(Xo(n)&&n.tagName===e)return!0;khe(n,e)}return!1}const pC="data-language",W2="data-highlight-language",SP="data-theme";class iE extends uu{static getType(){return"code"}static clone(e){return new iE(e.__language,e.__key)}constructor(e,n){super(n),this.__language=e||void 0,this.__isSyntaxHighlightSupported=!1,this.__theme=void 0}afterCloneFrom(e){super.afterCloneFrom(e),this.__language=e.__language,this.__theme=e.__theme,this.__isSyntaxHighlightSupported=e.__isSyntaxHighlightSupported}createDOM(e){const n=document.createElement("code");Ef(n,e.theme.code),n.setAttribute("spellcheck","false");const r=this.getLanguage();r&&(n.setAttribute(pC,r),this.getIsSyntaxHighlightSupported()&&n.setAttribute(W2,r));const i=this.getTheme();i&&n.setAttribute(SP,i);const o=this.getStyle();return o&&n.setAttribute("style",o),n}updateDOM(e,n,r){const i=this.__language,o=e.__language;i?i!==o&&n.setAttribute(pC,i):o&&n.removeAttribute(pC);const a=this.__isSyntaxHighlightSupported;e.__isSyntaxHighlightSupported&&o?a&&i?i!==o&&n.setAttribute(W2,i):n.removeAttribute(W2):a&&i&&n.setAttribute(W2,i);const s=this.__theme,u=e.__theme;s?s!==u&&n.setAttribute(SP,s):u&&n.removeAttribute(SP);const d=this.__style,g=e.__style;return d?d!==g&&n.setAttribute("style",d):g&&n.removeAttribute("style"),!1}exportDOM(e){const n=document.createElement("pre");Ef(n,e._config.theme.code),n.setAttribute("spellcheck","false");const r=this.getLanguage();r&&(n.setAttribute(pC,r),this.getIsSyntaxHighlightSupported()&&n.setAttribute(W2,r));const i=this.getTheme();i&&n.setAttribute(SP,i);const o=this.getStyle();return o&&n.setAttribute("style",o),{element:n}}static importDOM(){return{code:e=>e.textContent!=null&&(/\r?\n/.test(e.textContent)||khe(e,"BR"))?{conversion:OX,priority:1}:null,div:()=>({conversion:BJe,priority:1}),pre:()=>({conversion:OX,priority:0}),table:e=>k$(e)?{conversion:FJe,priority:3}:null,td:e=>{const n=e,r=n.closest("table");return n.classList.contains("js-file-line")||r&&k$(r)?{conversion:SX,priority:3}:null},tr:e=>{const n=e.closest("table");return n&&k$(n)?{conversion:SX,priority:3}:null}}}static importJSON(e){return Qg().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setLanguage(e.language).setTheme(e.theme)}exportJSON(){return{...super.exportJSON(),language:this.getLanguage(),theme:this.getTheme()}}insertNewAfter(e,n=!0){const r=this.getChildren(),i=r.length;if(i>=2&&r[i-1].getTextContent()===`
`&&r[i-2].getTextContent()===`
`&&e.isCollapsed()&&e.anchor.key===this.__key&&e.anchor.offset===i){r[i-1].remove(),r[i-2].remove();const u=yi();return this.insertAfter(u,n),u}const{anchor:o,focus:a}=e,s=(o.isBefore(a)?o:a).getNode();if(pn(s)){let u=VJe(s);const d=[];for(;;)if(HR(u))d.push(NO()),u=u.getNextSibling();else{if(!Mhe(u))break;{let M=0;const L=u.getTextContent(),$=u.getTextContentSize();for(;M<$&&L[M]===" ";)M++;if(M!==0&&d.push(Phe(" ".repeat(M))),M!==$)break;u=u.getNextSibling()}}const g=s.splitText(o.offset)[0],v=o.offset===0?0:1,x=g.getIndexWithinParent()+v,O=s.getParentOrThrow(),E=[Tf(),...d];O.splice(x,0,E);const A=d[d.length-1];A?A.select():o.offset===0?g.selectPrevious():g.getNextSibling().selectNext(0,0)}if(l7(s)){const{offset:u}=e.anchor;s.splice(u,0,[Tf()]),s.select(u+1,u+1)}return null}canIndent(){return!1}collapseAtStart(){const e=yi();return this.getChildren().forEach((n=>e.append(n))),this.replace(e),!0}setLanguage(e){const n=this.getWritable();return n.__language=e||void 0,n}getLanguage(){return this.getLatest().__language}setIsSyntaxHighlightSupported(e){const n=this.getWritable();return n.__isSyntaxHighlightSupported=e,n}getIsSyntaxHighlightSupported(){return this.getLatest().__isSyntaxHighlightSupported}setTheme(e){const n=this.getWritable();return n.__theme=e||void 0,n}getTheme(){return this.getLatest().__theme}}function Qg(t,e){return Z5e(iE).setLanguage(t).setTheme(e)}function l7(t){return t instanceof iE}function OX(t){return{node:Qg(t.getAttribute(pC))}}function BJe(t){const e=t,n=CX(e);return n||(function(r){let i=r.parentElement;for(;i!==null;){if(CX(i))return!0;i=i.parentElement}return!1})(e)?{node:n?Qg():null}:{node:null}}function FJe(){return{node:Qg()}}function SX(){return{node:null}}function CX(t){return t.style.fontFamily.match("monospace")!==null}function k$(t){return t.classList.contains("js-file-line-container")}let Ehe=class Ahe extends bm{constructor(e="",n,r){super(e,r),this.__highlightType=n}static getType(){return"code-highlight"}static clone(e){return new Ahe(e.__text,e.__highlightType||void 0,e.__key)}getHighlightType(){return this.getLatest().__highlightType}setHighlightType(e){const n=this.getWritable();return n.__highlightType=e||void 0,n}canHaveFormat(){return!1}createDOM(e){const n=super.createDOM(e),r=E$(e.theme,this.__highlightType);return Ef(n,r),n}updateDOM(e,n,r){const i=super.updateDOM(e,n,r),o=E$(r.theme,e.__highlightType),a=E$(r.theme,this.__highlightType);return o!==a&&(o&&lI(n,o),a&&Ef(n,a)),i}static importJSON(e){return Phe().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHighlightType(e.highlightType)}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType()}}setFormat(e){return this}isParentRequired(){return!0}createParentElementNode(){return Qg()}};function E$(t,e){return e&&t&&t.codeHighlight&&t.codeHighlight[e]}function Phe(t="",e){return hh(new Ehe(t,e))}function Mhe(t){return t instanceof Ehe}function jJe(t,e){let n=t;for(let r=ta(t,e);r&&(Mhe(r.origin)||HR(r.origin));r=fMe(r))n=r.origin;return n}function VJe(t){return jJe(t,"previous")}(function(t){t.languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d.*$/m]};var e={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};Object.keys(e).forEach((function(n){var r=e[n],i=[];/^\w+$/.test(n)||i.push(/\w+/.exec(n)[0]),n==="diff"&&i.push("bold"),t.languages.diff[n]={pattern:RegExp("^(?:["+r+`].*(?:\r
?|
|(?![\\s\\S])))+`,"m"),alias:i,inside:{line:{pattern:/(.)(?=[\s\S]).*(?:\r\n?|\n)?/,lookbehind:!0},prefix:{pattern:/[\s\S]/,alias:/\w+/.exec(n)[0]}}}})),Object.defineProperty(t.languages.diff,"PREFIXES",{value:e})})(Prism);function uN(t,e){const n={};for(const r of t){const i=e(r);i&&(n[i]?n[i].push(r):n[i]=[r])}return n}function QJe(t){const e=uN(t,(n=>n.type));return{element:e.element||[],multilineElement:e["multiline-element"]||[],textFormat:e["text-format"]||[],textMatch:e["text-match"]||[]}}const TX=/[!-/:-@[-`{-~\s]/;function UJe(t){return pn(t)&&!t.hasFormat("code")}function ZJe(t,...e){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",t);for(const i of e)r.append("v",i);throw n.search=r.toString(),Error(`Minified Lexical error #${t}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function kX(t,e,n){const r=n.length;for(let i=e;i>=r;i--){const o=i-r;if(Rhe(t,o,n,0,r)&&t[o+r]!==" ")return o}return-1}function Rhe(t,e,n,r,i){for(let o=0;o<i;o++)if(t[e+o]!==n[r+o])return!1;return!0}function qJe(t,e=qhe){const n=QJe(e),r=uN(n.textFormat,(({tag:a})=>a[a.length-1])),i=uN(n.textMatch,(({trigger:a})=>a));for(const a of e){const s=a.type;if(s==="element"||s==="text-match"||s==="multiline-element"){const u=a.dependencies;for(const d of u)t.hasNode(d)||ZJe(173,d.getType())}}const o=(a,s,u)=>{(function(d,g,v,x){const O=d.getParent();if(!ea(O)||d.getFirstChild()!==g)return!1;const E=g.getTextContent();if(E[v-1]!==" ")return!1;for(const{regExp:A,replace:M}of x){const L=E.match(A);if(L&&L[0].length===(L[0].endsWith(" ")?v:v-1)){const $=g.getNextSiblings(),[N,F]=g.splitText(v);if(M(d,F?[F,...$]:$,L,!1)!==!1)return N.remove(),!0}}return!1})(a,s,u,n.element)||(function(d,g,v,x){const O=d.getParent();if(!ea(O)||d.getFirstChild()!==g)return!1;const E=g.getTextContent();if(E[v-1]!==" ")return!1;for(const{regExpStart:A,replace:M,regExpEnd:L}of x){if(L&&!("optional"in L)||L&&"optional"in L&&!L.optional)continue;const $=E.match(A);if($&&$[0].length===($[0].endsWith(" ")?v:v-1)){const N=g.getNextSiblings(),[F,U]=g.splitText(v);if(M(d,U?[U,...N]:N,$,null,null,!1)!==!1)return F.remove(),!0}}return!1})(a,s,u,n.multilineElement)||(function(d,g,v){let x=d.getTextContent();const O=v[x[g-1]];if(O==null)return!1;g<x.length&&(x=x.slice(0,g));for(const E of O){if(!E.replace||!E.regExp)continue;const A=x.match(E.regExp);if(A===null)continue;const M=A.index||0,L=M+A[0].length;let $;return M===0?[$]=d.splitText(L):[,$]=d.splitText(M,L),$.selectNext(0,0),E.replace($,A),!0}return!1})(s,u,i)||(function(d,g,v){const x=d.getTextContent(),O=g-1,E=x[O],A=v[E];if(!A)return!1;for(const M of A){const{tag:L}=M,$=L.length,N=O-$+1;if($>1&&!Rhe(x,N,L,0,$)||x[N-1]===" ")continue;const F=x[O+1];if(M.intraword===!1&&F&&!TX.test(F))continue;const U=d;let q=U,W=kX(x,N,L),te=q;for(;W<0&&(te=te.getPreviousSibling())&&!wf(te);)if(pn(te)){if(te.hasFormat("code"))continue;const Me=te.getTextContent();q=te,W=kX(Me,Me.length,L)}if(W<0||q===U&&W+$===N)continue;const re=q.getTextContent();if(W>0&&re[W-1]===E)continue;const ce=re[W-1];if(M.intraword===!1&&ce&&!TX.test(ce))continue;const be=U.getTextContent(),ie=be.slice(0,N)+be.slice(O+1);U.setTextContent(ie);const me=q===U?ie:re;q.setTextContent(me.slice(0,W)+me.slice(W+$));const we=an(),pe=BO();ss(pe);const _e=O-$*(q===U?2:1)+1;pe.anchor.set(q.__key,W,"text"),pe.focus.set(U.__key,_e,"text");for(const Me of M.format)pe.hasFormat(Me)||pe.formatText(Me);pe.anchor.set(pe.focus.key,pe.focus.offset,pe.focus.type);for(const Me of M.format)pe.hasFormat(Me)&&pe.toggleFormat(Me);return Xt(we)&&(pe.format=we.format),!0}})(s,u,r)};return t.registerUpdateListener((({tags:a,dirtyLeaves:s,editorState:u,prevEditorState:d})=>{if(a.has(hee)||a.has(Q5)||t.isComposing())return;const g=u.read(an),v=d.read(an);if(!Xt(v)||!Xt(g)||!g.isCollapsed()||g.is(v))return;const x=g.anchor.key,O=g.anchor.offset,E=u._nodeMap.get(x);!pn(E)||!s.has(x)||O!==1&&O>v.anchor.offset+1||t.update((()=>{if(!UJe(E))return;const A=E.getParent();A===null||l7(A)||o(A,E,g.anchor.offset)}))}))}const WJe=/^(\s*)(\d{1,})\.\s/,HJe=/^(\s*)[-*+]\s/,GJe=/^(\s*)(?:-\s)?\s?(\[(\s|x)?\])\s/i,XJe=/^(#{1,6})\s/,YJe=/^>\s/,KJe=/^[ \t]*```([\w-]+)?/,JJe=/[ \t]*```$/,Ihe=t=>(e,n,r,i)=>{const o=t(r);o.append(...n),e.replace(o),i||o.select(0,0)},c7=t=>(e,n,r,i)=>{const o=e.getPreviousSibling(),a=e.getNextSibling(),s=mc(t==="check"?r[3]==="x":void 0);if(ir(a)&&a.getListType()===t){const d=a.getFirstChild();d!==null?d.insertBefore(s):a.append(s),e.remove()}else if(ir(o)&&o.getListType()===t)o.append(s),e.remove();else{const d=fc(t,t==="number"?Number(r[2]):void 0);d.append(s),e.replace(d)}s.append(...n),i||s.select(0,0);const u=(function(d){const g=d.match(/\t/g),v=d.match(/ /g);let x=0;return g&&(x+=g.length),v&&(x+=Math.floor(v.length/4)),x})(r[1]);u&&s.setIndent(u)},lD=(t,e,n)=>{const r=[],i=t.getChildren();let o=0;for(const a of i)if(Cr(a)){if(a.getChildrenSize()===1){const g=a.getFirstChild();if(ir(g)){r.push(lD(g,e,n+1));continue}}const s=" ".repeat(4*n),u=t.getListType(),d=u==="number"?`${t.getStart()+o}. `:u==="check"?`- [${a.getChecked()?"x":" "}] `:"- ";r.push(s+d+e(a)),o++}return r.join(`
`)},eet={dependencies:[Ak],export:(t,e)=>{if(!Xw(t))return null;const n=Number(t.getTag().slice(1));return"#".repeat(n)+" "+e(t)},regExp:XJe,replace:Ihe((t=>{const e="h"+t[1].length;return Yp(e)})),type:"element"},Dhe={dependencies:[cI],export:(t,e)=>{if(!K4(t))return null;const n=e(t).split(`
`),r=[];for(const i of n)r.push("> "+i);return r.join(`
`)},regExp:YJe,replace:(t,e,n,r)=>{if(r){const o=t.getPreviousSibling();if(K4(o))return o.splice(o.getChildrenSize(),0,[Tf(),...e]),void t.remove()}const i=Ek();i.append(...e),t.replace(i),r||i.select(0,0)},type:"element"},Lhe={dependencies:[iE],export:t=>{if(!l7(t))return null;const e=t.getTextContent();return"```"+(t.getLanguage()||"")+(e?`
`+e:"")+"\n```"},regExpEnd:{optional:!0,regExp:JJe},regExpStart:KJe,replace:(t,e,n,r,i,o)=>{let a,s;if(!e&&i){if(i.length===1)r?(a=Qg(),s=n[1]+i[0]):(a=Qg(n[1]),s=i[0].startsWith(" ")?i[0].slice(1):i[0]);else{if(a=Qg(n[1]),i[0].trim().length===0)for(;i.length>0&&!i[0].length;)i.shift();else i[0]=i[0].startsWith(" ")?i[0].slice(1):i[0];for(;i.length>0&&!i[i.length-1].length;)i.pop();s=i.join(`
`)}const u=to(s);a.append(u),t.append(a)}else e&&Ihe((u=>Qg(u?u[1]:void 0)))(t,e,n,o)},type:"multiline-element"},$he={dependencies:[py,fy],export:(t,e)=>ir(t)?lD(t,e,0):null,regExp:HJe,replace:c7("bullet"),type:"element"},tet={dependencies:[py,fy],export:(t,e)=>ir(t)?lD(t,e,0):null,regExp:GJe,replace:c7("check"),type:"element"},zhe={dependencies:[py,fy],export:(t,e)=>ir(t)?lD(t,e,0):null,regExp:WJe,replace:c7("number"),type:"element"},Nhe={format:["code"],tag:"`",type:"text-format"},net={format:["highlight"],tag:"==",type:"text-format"},Bhe={format:["bold","italic"],tag:"***",type:"text-format"},Fhe={format:["bold","italic"],intraword:!1,tag:"___",type:"text-format"},jhe={format:["bold"],tag:"**",type:"text-format"},Vhe={format:["bold"],intraword:!1,tag:"__",type:"text-format"},ret={format:["strikethrough"],tag:"~~",type:"text-format"},Qhe={format:["italic"],tag:"*",type:"text-format"},Uhe={format:["italic"],intraword:!1,tag:"_",type:"text-format"},Zhe={dependencies:[dy],export:(t,e,n)=>{if(!Yc(t)||yf(t))return null;const r=t.getTitle(),i=e(t);return r?`[${i}](${t.getURL()} "${r}")`:`[${i}](${t.getURL()})`},importRegExp:/(?:\[(.*?)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))/,regExp:/(?:\[(.*?)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))$/,replace:(t,e)=>{const[,n,r,i]=e,o=ty(r,{title:i}),a=n.split("[").length-1,s=n.split("]").length-1;let u=n,d="";if(a<s)return;if(a>s){const v=n.split("[");d="["+v[0],u=v.slice(1).join("[")}const g=to(u);return g.setFormat(t.getFormat()),o.append(g),t.replace(o),d&&o.insertBefore(to(d)),g},trigger:")",type:"text-match"},iet=[eet,Dhe,$he,zhe],oet=[Lhe],set=[Nhe,Bhe,Fhe,jhe,Vhe,net,Qhe,Uhe,ret],aet=[Zhe],qhe=[...iet,...oet,...set,...aet],cet=[{dependencies:[Dk],export:t=>$8(t)?"***":null,regExp:/^(---|\*\*\*|___)\s?$/,replace:(t,e,n,r)=>{const i=qO();r||t.getNextSibling()!=null?t.replace(i):t.insertBefore(i),i.selectNext()},type:"element"},...qhe];function EX({transformers:t=cet}){const[e]=Bl();return j.useEffect((()=>qJe(e,t)),[e,t]),null}const uet=Nl({init(t){const e=t.getValue(M8),n=e.includes("headings")?t.getValue(xI):[],r=fet(e,n);t.pubIn({[Hx]:()=>ae.createElement(EX,{transformers:r}),[P8]:()=>ae.createElement(EX,{transformers:r})})}}),het=t=>(e,n,r)=>{const i=t(r);i.append(...n),e.replace(i),i.select(0,0)},det={dependencies:[Dk],export:t=>$8(t)?"***":null,regExp:/^(---|\*\*\*|___)\s?$/,replace:(t,e,n,r)=>{const i=qO();r||t.getNextSibling()!=null?t.replace(i):t.insertBefore(i),i.selectNext()},type:"element"};function fet(t,e){const n=[Bhe,Fhe,jhe,Vhe,Nhe,Qhe,Uhe];if(t.includes("headings")){const r=Math.min(...e),i=Math.max(...e),o=new RegExp(`^(#{${r},${i}})\\s`),a={dependencies:[Ak],export:(s,u)=>{if(!Xw(s))return null;const d=Number(s.getTag().slice(1));return"#".repeat(d)+" "+u(s)},regExp:o,replace:het(s=>{const u=`h${s[1].length}`;return Yp(u)}),type:"element"};n.push(a)}if(t.includes("thematicBreak")&&n.push(det),t.includes("quote")&&n.push(Dhe),t.includes("link")&&n.push(Zhe),t.includes("lists")&&n.push(zhe,$he,tet),t.includes("codeblock")){const r={...Lhe,dependencies:[YO],replace:(i,o,a)=>{const s=Qk({code:"",language:a[1]??"",meta:""});i.selectPrevious(),i.replace(s),setTimeout(()=>{s.select()},80)}};n.push(r)}return n}const pet=()=>{const t=qi(eM),e=Ms(Ute),n=Ms(M8),r=n.includes("quote"),i=n.includes("headings"),o=Ds();if(!r&&!i)return null;const a=[{label:o("toolbar.blockTypes.paragraph","Paragraph"),value:"paragraph"}];if(r&&a.push({label:o("toolbar.blockTypes.quote","Quote"),value:"quote"}),i){const s=Ms(xI);a.push(...s.map(u=>({label:o("toolbar.blockTypes.heading","Heading {{level}}",{level:u}),value:`h${u}`})))}return ae.createElement(gue,{value:e,onChange:s=>{switch(s){case"quote":t(()=>Ek());break;case"paragraph":t(()=>yi());break;case"":break;default:if(s.startsWith("h"))t(()=>Yp(s));else throw new Error(`Unknown block type: ${s}`)}},triggerTitle:o("toolbar.blockTypeSelect.selectBlockTypeTooltip","Select block type"),placeholder:o("toolbar.blockTypeSelect.placeholder","Block type"),items:a})},A$=({format:t,addTitle:e,removeTitle:n,icon:r,formatName:i})=>{const[o,a]=as(O8,oa),s=qi(S8),u=(o&t)!==0;return ae.createElement(Aue,{title:u?n:e,on:u,onValueChange:()=>{s(i)}},a(r))},met=({options:t})=>{const e=Ds(),n=typeof t>"u";return ae.createElement("div",{className:Qt.toolbarGroupOfGroups},n||t.includes("Bold")?ae.createElement(A$,{format:PC,addTitle:e("toolbar.bold","Bold"),removeTitle:e("toolbar.removeBold","Remove bold"),icon:"format_bold",formatName:"bold"}):null,n||t.includes("Italic")?ae.createElement(A$,{format:MC,addTitle:e("toolbar.italic","Italic"),removeTitle:e("toolbar.removeItalic","Remove italic"),icon:"format_italic",formatName:"italic"}):null,n||t.includes("Underline")?ae.createElement(A$,{format:RC,addTitle:e("toolbar.underline","Underline"),removeTitle:e("toolbar.removeUnderline","Remove underline"),icon:"format_underlined",formatName:"underline"}):null)};function get(t){return{note:t("admonitions.note","Note"),tip:t("admonitions.tip","Tip"),danger:t("admonitions.danger","Danger"),info:t("admonitions.info","Info"),caution:t("admonitions.caution","Caution")}}const yet=()=>{const[t,e]=as(O8,oa),n=qi(S8),r=Ds(),i=(t&hI)!==0,o=i?r("toolbar.removeInlineCode","Remove code format"):r("toolbar.inlineCode","Inline code format");return ae.createElement(Pue,{items:[{title:o,contents:e("code"),active:i,onChange:n.bind(null,"code")}]})},vet=()=>{const t=qi(XF),e=Ms(oa),n=Ds();return ae.createElement(rE,{"aria-label":n("toolbar.link","Create link"),title:n("toolbar.link","Create link"),onClick:r=>{t()}},e("link"))},_et=()=>{const t=qi(yue),e=Ms(oa),n=Ds(),r=ae.useMemo(()=>{const i=get(n);return vue.map(o=>({value:o,label:i[o]}))},[n]);return ae.createElement(OKe,{title:n("toolbar.admonition","Insert Admonition"),onChoose:i=>{t({type:"containerDirective",name:i})},items:r},e("admonition"))},xet=()=>{const t=qi(j9),e=Ms(oa),n=Ds();return ae.createElement(rE,{title:n("toolbar.codeBlock","Insert Code Block"),onClick:()=>{t({})}},e("frame_source"))},Whe=Pn(!1,t=>{t.link(t.pipe(Vo,Yg(e=>{var n,r;return["td","th"].includes(((r=(n=e?.getRootElement())==null?void 0:n.parentNode)==null?void 0:r.nodeName.toLowerCase())??"")})),Whe)}),bet=()=>{const t=Ms(oa),e=qi(Pre),n=Ds(),r=Ms(Whe);return ae.createElement(rE,{title:n("toolbar.table","Insert Table"),onClick:()=>{e({rows:3,columns:3})},...r?{"aria-disabled":!0,"data-disabled":!0,disabled:!0}:{}},t("table"))},wet=()=>{const t=qi(une),e=Ms(oa),n=Ds();return ae.createElement(rE,{title:n("toolbar.thematicBreak","Insert thematic break"),onClick:()=>{t()}},e("horizontal_rule"))},Oet={bullet:"format_list_bulleted",number:"format_list_numbered",check:"format_list_checked"},Cet=({options:t=["bullet","number","check"]})=>{const[e,n]=as(yz,oa),r=qi(hne),i=Ds(),o={bullet:i("toolbar.bulletedList","Bulleted list"),number:i("toolbar.numberedList","Numbered list"),check:i("toolbar.checkList","Check list")},a=t.map(s=>({value:s,title:o[s],contents:n(Oet[s])}));return ae.createElement(wKe,{value:e||"",items:a,onChange:r})},Tet=()=>{const[t,e]=as(oa,Vo),[n,r]=ae.useState(!1),[i,o]=ae.useState(!1),a=Ds();return ae.useEffect(()=>{if(e)return Fl(e.registerCommand(rC,s=>(r(s),!1),ch),e.registerCommand(nC,s=>(o(s),!1),ch))},[e]),ae.createElement(Pue,{items:[{title:a("toolbar.undo","Undo {{shortcut}}",{shortcut:rM?"Z":"Ctrl+Z"}),disabled:!n,contents:t("undo"),active:!1,onChange:()=>e?.dispatchCommand(BR,void 0)},{title:a("toolbar.redo","Redo {{shortcut}}",{shortcut:rM?"Y":"Ctrl+Y"}),disabled:!i,contents:t("redo"),active:!1,onChange:()=>e?.dispatchCommand(FR,void 0)}]})},ket=({posts:t,onPostClick:e})=>{const n=j.useMemo(()=>{const i=[...t].sort((a,s)=>new Date(s.created_date).getTime()-new Date(a.created_date).getTime()),o={};return i.forEach(a=>{const s=new Date(a.created_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});o[s]||(o[s]=[]),o[s].push(a)}),o},[t]),r=Object.keys(n);return t.length===0?Y.jsx(qn,{sx:{py:4,textAlign:"center"},children:Y.jsx(yr,{color:"text.secondary",children:"No blog posts found."})}):Y.jsx(qn,{children:Y.jsx(MO,{sx:{width:"100%",bgcolor:"background.paper"},children:r.map(i=>Y.jsxs(qn,{sx:{mb:2},children:[Y.jsx(K$,{component:"div",sx:{bgcolor:"grey.50",fontWeight:"bold",borderRadius:1,mb:1,lineHeight:"40px"},children:i}),n[i].map(o=>Y.jsx(yc,{elevation:0,sx:{mb:1,border:"1px solid",borderColor:"divider",borderRadius:2,"&:hover":{bgcolor:"action.hover",cursor:e?"pointer":"default"}},onClick:()=>e?.(o),children:Y.jsxs(b5,{alignItems:"flex-start",children:[Y.jsx(O1e,{children:Y.jsx(kR,{alt:o.author?.display_name||o.author_id,src:o.author?.avatar_url||"",children:(o.author?.display_name||o.author_id)[0].toUpperCase()})}),Y.jsx(Xp,{primary:Y.jsxs(qn,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Y.jsx(yr,{variant:"h6",component:"span",sx:{fontWeight:600},children:o.title}),Y.jsx(yr,{variant:"caption",color:"text.secondary",children:new Date(o.created_date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),secondary:Y.jsxs(qn,{sx:{mt:1},children:[Y.jsxs(yr,{variant:"body2",color:"text.primary",sx:{mb:1,fontWeight:500},children:["by ",o.author?.display_name||o.author_id]}),Y.jsx(qn,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:o.tags?.map(a=>Y.jsx(v5,{label:a,size:"small",variant:"outlined",sx:{borderRadius:1}},a))})]})})]})},o.id))]},i))})})},Eet=`
# Our Travel Story

Welcome to our blog! This is where we will share the most memorable moments from our trip across the Pacific.

## Recent Highlights
- **Tokyo**: The vibrant energy of Shinjuku was incredible.
- **Bora Bora**: Most beautiful water we've ever seen.
- **Sydney**: Watching the sunset over the Opera House.

Stay tuned for more updates!
`,Aet=()=>{const{user:t,role:e,profile:n}=iv(),[r,i]=j.useState([]),[o,a]=j.useState(!0),[s,u]=j.useState(null),[d,g]=j.useState(Eet),[v,x]=j.useState(""),[O,E]=j.useState([]),[A,M]=j.useState(null),[L,$]=j.useState(null),[N,F]=j.useState(""),U=ae.useRef(null),[q,W]=j.useState(!1),[te,re]=j.useState(null),[ce,be]=j.useState(""),[ie,me]=j.useState(""),[we,pe]=j.useState(!1),[_e,Me]=j.useState(!1),[Be,Ue]=j.useState("list"),[Ce,Pe]=Qfe(),Xe=async()=>{a(!0);const{data:Ot,error:hn}=await bi.from("blog_post").select("*").order("created_date",{ascending:!1});if(hn){u(hn.message),a(!1);return}if(Ot&&Ot.length>0){const Gt=[...new Set(Ot.map(sn=>sn.author_id))],{data:Yt,error:Cn}=await bi.from("user_profile").select("*").in("id",Gt);if(Cn)console.error("Error fetching profiles:",Cn),i(Ot);else{const sn=(Yt||[]).reduce((Fn,Vn)=>(Fn[Vn.id]=Vn,Fn),{}),Rn=Ot.map(Fn=>({...Fn,author:sn[Fn.author_id]}));i(Rn)}}else i([]);a(!1)};ae.useEffect(()=>{Xe()},[]),ae.useEffect(()=>{const Ot=Ce.get("id");if(Ot&&r.length>0){const hn=r.find(Gt=>Gt.id===Ot);hn&&(g(hn.content||""),x(hn.title),E(hn.tags||[]),M(hn.id),$(hn.author||null),Ue("post"),Me(!1))}},[Ce,r]);const ke=Ot=>{g(Ot.content||""),x(Ot.title),E(Ot.tags||[]),M(Ot.id),$(Ot.author||null),Ue("post"),Me(!1)},mt=()=>{g(`# New Story

Start writing here...`),x(""),E([]),M(null),$(null),Ue("post"),Me(!0)},gt=async()=>{if(!t){u("You must be logged in to save posts.");return}if(!v.trim()){u("Please provide a title for your story.");return}const Ot=U.current?.getMarkdown()||d,hn={title:v,content:Ot,tags:O,author_id:t.id,last_modified_date:new Date,visible:!0};let Gt;A?Gt=await bi.from("blog_post").update(hn).eq("id",A):(Gt=await bi.from("blog_post").insert([{...hn,created_date:new Date}]).select(),!Gt.error&&Gt.data&&M(Gt.data[0].id)),Gt.error?u(Gt.error.message):(u(null),!A&&n&&$(n),Me(!1),Xe())},ct=async()=>{if(!A||!window.confirm("Are you sure you want to delete this story? This action cannot be undone."))return;const{error:Ot}=await bi.from("blog_post").delete().eq("id",A);Ot?u(Ot.message):(M(null),$(null),Ue("list"),Pe({}),Xe())},ot=Ot=>new Promise((hn,Gt)=>{const Yt=new FileReader;Yt.readAsDataURL(Ot),Yt.onload=Cn=>{const sn=new Image;sn.src=Cn.target?.result,sn.onload=()=>{const Rn=document.createElement("canvas"),Fn=1200,Vn=1200;let Qe=sn.width,Ye=sn.height;Qe>Ye?Qe>Fn&&(Ye*=Fn/Qe,Qe=Fn):Ye>Vn&&(Qe*=Vn/Ye,Ye=Vn),Rn.width=Qe,Rn.height=Ye,Rn.getContext("2d")?.drawImage(sn,0,0,Qe,Ye),Rn.toBlob(kt=>{if(!kt){Gt(new Error("Canvas is empty"));return}const Vt=new File([kt],Ot.name.replace(/\.[^/.]+$/,"")+".webp",{type:"image/webp",lastModified:Date.now()});hn(Vt)},"image/webp",.8)},sn.onerror=Rn=>Gt(Rn)},Yt.onerror=Cn=>Gt(Cn)}),vt=async Ot=>{if(!t)throw new Error("You must be logged in to upload images");try{const hn=await ot(Ot),Cn=`${`${t.id}/${Date.now()}.webp`}`,{error:sn}=await bi.storage.from("blog-images").upload(Cn,hn,{contentType:"image/webp",upsert:!1});if(sn)throw sn;const{data:{publicUrl:Rn}}=bi.storage.from("blog-images").getPublicUrl(Cn);return Rn}catch(hn){throw console.error("Image upload failed:",hn),hn}},At=Ot=>{Ot.key==="Enter"&&N.trim()&&(O.includes(N.trim())||E([...O,N.trim()]),F(""),Ot.preventDefault())},Tt=Ot=>{E(O.filter(hn=>hn!==Ot))},Wt=async()=>{try{pe(!0);let Ot=ce;te&&(Ot=await vt(te)),Ot&&(U.current?.insertMarkdown(`![${ie}](${Ot})`),W(!1),re(null),be(""),me(""))}catch(Ot){u(Ot.message||"Error uploading image")}finally{pe(!1)}};return ae.useEffect(()=>{},[Be,_e,A]),Y.jsxs(qn,{sx:{p:4,maxWidth:1200,mx:"auto"},children:[Y.jsxs(qn,{sx:{mb:4,display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:2,position:"sticky",top:0,zIndex:10,backgroundColor:"background.default",pb:2,pt:1},className:"notranslate",children:[Y.jsxs(qn,{children:[Y.jsx(yr,{variant:"h4",fontWeight:"bold",gutterBottom:!0,children:Be==="list"?"Trip Stories":v||"New Story"}),Be==="list"&&Y.jsx(yr,{variant:"body1",color:"text.secondary",children:"Detailed accounts and personal experiences from our journey."})]}),Y.jsxs(qn,{sx:{display:"flex",gap:2,mt:1},children:[Be==="list"&&(e==="admin"||e==="editor")&&Y.jsx(Po,{variant:"contained",startIcon:Y.jsx(NK,{}),onClick:mt,sx:{borderRadius:2,textTransform:"none",px:3},children:"Create New Story"}),Be==="post"&&Y.jsx(Po,{variant:"outlined",startIcon:Y.jsx(_Ce,{}),onClick:()=>{Ue("list"),Pe({})},sx:{borderRadius:2,textTransform:"none",px:3},children:"Back to List"}),Be==="post"&&(!A||L?.id===t?.id)&&Y.jsxs(Y.Fragment,{children:[Y.jsx(Po,{variant:"contained",startIcon:_e?Y.jsx(OCe,{}):Y.jsx(pCe,{}),onClick:()=>Me(!_e),sx:{borderRadius:2,textTransform:"none",px:3,backgroundColor:_e?"success.main":"primary.main","&:hover":{backgroundColor:_e?"success.dark":"primary.dark"}},children:_e?"View Mode":"Edit Mode"}),_e&&Y.jsx(Po,{variant:"contained",color:"primary",startIcon:Y.jsx(gB,{}),onClick:gt,sx:{borderRadius:2,textTransform:"none",px:3},children:"Save Story"}),A&&!_e&&Y.jsx(Po,{variant:"outlined",color:"error",startIcon:Y.jsx(fCe,{}),onClick:ct,sx:{borderRadius:2,textTransform:"none",px:3},children:"Delete"})]})]})]}),s&&Y.jsx(tx,{severity:"error",sx:{mb:3,borderRadius:2},children:s}),o?Y.jsx(qn,{sx:{display:"flex",justifyContent:"center",py:8},children:Y.jsx(ah,{})}):Be==="list"?Y.jsx(ket,{posts:r,onPostClick:ke}):Y.jsxs(yc,{elevation:3,sx:{p:3,borderRadius:3,minHeight:"600px"},children:[_e?Y.jsxs(L0,{spacing:3,sx:{mb:4},className:"notranslate",children:[Y.jsx(Ju,{fullWidth:!0,label:"Story Title",variant:"outlined",value:v,onChange:Ot=>x(Ot.target.value),slotProps:{input:{style:{fontSize:"1.5rem",fontWeight:"bold"}}}}),Y.jsxs(qn,{children:[Y.jsx(Ju,{fullWidth:!0,label:"Add Tags (Press Enter)",variant:"outlined",value:N,onChange:Ot=>F(Ot.target.value),onKeyDown:At,placeholder:"e.g. Sydney, Adventure"}),Y.jsx(L0,{direction:"row",spacing:1,sx:{mt:1,flexWrap:"wrap",gap:1},children:O.map(Ot=>Y.jsx(v5,{label:Ot,onDelete:()=>Tt(Ot),color:"primary",variant:"outlined"},Ot))})]})]}):Y.jsxs(qn,{sx:{mb:4},className:"notranslate",children:[Y.jsxs(qn,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[Y.jsx(kR,{src:L?.avatar_url||"",alt:L?.display_name||"Author",sx:{width:40,height:40},children:(L?.display_name||"A")[0].toUpperCase()}),Y.jsxs(qn,{children:[Y.jsx(yr,{variant:"subtitle2",fontWeight:"bold",children:L?.display_name||"Unknown Author"}),Y.jsxs(yr,{variant:"caption",color:"text.secondary",children:["Post created on ",r.find(Ot=>Ot.id===A)?.created_date?new Date(r.find(Ot=>Ot.id===A).created_date).toLocaleDateString():"Unknown Date"]})]})]}),Y.jsx(L0,{direction:"row",spacing:1,sx:{mb:2},children:O.map(Ot=>Y.jsx(v5,{label:Ot,size:"small"},Ot))})]}),Y.jsx(qn,{sx:{"& .mdxeditor":{fontSize:"1.1rem",lineHeight:1.6},"& img":{maxWidth:"100%",height:"auto",borderRadius:2},"& .mdxeditor-toolbar":{position:"sticky",top:0,zIndex:30,backgroundColor:"background.paper",borderBottom:"1px solid",borderColor:"divider"}},className:_e?"notranslate":"",children:_e?Y.jsx("div",{id:"mdx-editor",children:Y.jsx(t$e,{ref:U,markdown:d,onChange:g,readOnly:!1,contentEditableClassName:"prose max-w-none",plugins:[a$e(),E$e(),w7e(),f$e(),uet(),QNe(),vKe(),ENe(),C8e({imageUploadHandler:vt}),L7e({defaultCodeBlockLanguage:"js"}),CYe({codeBlockLanguages:{js:"JavaScript",css:"CSS",html:"HTML"}}),pKe({directiveDescriptors:[mKe]}),RJe({viewMode:"rich-text",diffMarkdown:d}),_7e(),SKe({toolbarContents:()=>Y.jsxs(Y.Fragment,{children:[Y.jsx(Tet,{}),Y.jsx(F1,{}),Y.jsx(pet,{}),Y.jsx(F1,{}),Y.jsx(met,{}),Y.jsx(yet,{}),Y.jsx(F1,{}),Y.jsx(Cet,{}),Y.jsx(F1,{}),Y.jsx(vet,{}),Y.jsx(vK,{title:"Insert Image",children:Y.jsx(yC,{size:"small",onClick:()=>W(!0),sx:{mx:.5},children:Y.jsx(vCe,{fontSize:"small"})})}),Y.jsx(F1,{}),Y.jsx(bet,{}),Y.jsx(wet,{}),Y.jsx(F1,{}),Y.jsx(xet,{}),Y.jsx(_et,{})]})})]},`${A||"new"}-${_e}`)}):Y.jsx("div",{className:"prose max-w-none",children:Y.jsx(CPe,{children:d})})})]}),Y.jsxs(XN,{open:q,onClose:()=>W(!1),maxWidth:"sm",fullWidth:!0,children:[Y.jsx(JN,{children:"Insert Image"}),Y.jsx(KN,{children:Y.jsxs(qn,{sx:{mt:2,display:"flex",flexDirection:"column",gap:2},children:[Y.jsxs(Po,{variant:"outlined",component:"label",startIcon:Y.jsx(dCe,{}),sx:{mb:1},children:["Upload File",Y.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:Ot=>{Ot.target.files?.[0]&&(re(Ot.target.files[0]),be(""))}})]}),te&&Y.jsxs(yr,{variant:"body2",color:"text.secondary",children:["Selected: ",te.name]}),Y.jsx(yr,{variant:"body2",align:"center",color:"text.secondary",children:"- OR -"}),Y.jsx(Ju,{label:"Image URL",value:ce,onChange:Ot=>{be(Ot.target.value),re(null)},fullWidth:!0,disabled:!!te}),Y.jsx(Ju,{label:"Alt Text",value:ie,onChange:Ot=>me(Ot.target.value),fullWidth:!0,helperText:"Description of the image for accessibility"})]})}),Y.jsxs(YN,{children:[Y.jsx(Po,{onClick:()=>W(!1),children:"Cancel"}),Y.jsx(Po,{onClick:Wt,variant:"contained",disabled:we||!te&&!ce,children:we?"Uploading...":"Insert"})]})]})]})},Pet=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(!0),[i,o]=j.useState(null),a=async()=>{try{r(!0);const[s,u,d]=await Promise.all([bi.from("check_in").select("*").order("created_at",{ascending:!1}).limit(10),bi.from("blog_post").select("*").order("created_date",{ascending:!1}).limit(10),bi.from("photo_album").select("*").order("created_at",{ascending:!1}).limit(10)]),g=[...(s.data||[]).map(v=>({id:`checkin-${v.id}`,type:"check-in",title:v.message||`Checked in: ${v.status}`,description:"Status update from the map.",date:new Date(v.created_at),icon:Y.jsx(ER,{color:"primary",sx:{fontSize:32}})})),...(u.data||[]).map(v=>({id:`blog-${v.id}`,type:"blog",title:v.title,description:"New blog post published.",date:new Date(v.created_date),icon:Y.jsx(AR,{color:"secondary",sx:{fontSize:32}}),link:`/blog?id=${v.id}`})),...(d.data||[]).map(v=>({id:`photo-${v.id}`,type:"photo",title:v.title,description:"New photo album shared.",date:new Date(v.created_at),icon:Y.jsx(Qw,{sx:{color:"#10b981",fontSize:32}}),link:v.icloud_link,external:!0}))].sort((v,x)=>x.date.getTime()-v.date.getTime());e(g)}catch(s){o(s.message)}finally{r(!1)}};return j.useEffect(()=>{a()},[]),n?Y.jsx(qn,{sx:{display:"flex",justifyContent:"center",py:8},children:Y.jsx(ah,{})}):Y.jsxs(Vw,{maxWidth:"md",sx:{py:4},children:[Y.jsxs(qn,{sx:{mb:4,textAlign:"center"},children:[Y.jsx(yr,{variant:"h3",fontWeight:"bold",gutterBottom:!0,children:"Latest Updates"}),Y.jsx(yr,{variant:"body1",color:"text.secondary",children:"Stay up to date with the latest stories, check-ins, and photos from our journey."})]}),i&&Y.jsxs(tx,{severity:"error",sx:{mb:4,borderRadius:2},children:["Error loading updates: ",i]}),Y.jsx(yc,{elevation:2,sx:{borderRadius:3,overflow:"hidden"},children:Y.jsx(MO,{sx:{p:0},children:t.length>0?t.map((s,u)=>Y.jsxs(ae.Fragment,{children:[Y.jsx(b5,{disablePadding:!0,children:Y.jsxs(G_,{component:s.link?s.external?"a":lc:"div",...s.link?s.external?{href:s.link,target:"_blank",rel:"noopener noreferrer"}:{to:s.link}:{},sx:{py:3,px:4,cursor:s.link?"pointer":"default","&:hover":s.link?{}:{backgroundColor:"transparent"}},children:[Y.jsx(J1,{sx:{minWidth:60},children:s.icon}),Y.jsx(Xp,{primary:s.title,secondary:Y.jsxs(qn,{sx:{mt:.5},children:[Y.jsx(yr,{variant:"body2",color:"text.secondary",children:s.description}),Y.jsxs(yr,{variant:"caption",sx:{mt:1,display:"block",fontStyle:"italic"},children:[zK(s.date,{addSuffix:!0}),"  ",s.date.toLocaleDateString()]})]}),primaryTypographyProps:{variant:"h6",fontWeight:"bold"}})]})}),u<t.length-1&&Y.jsx(Gh,{})]},s.id)):Y.jsx(qn,{sx:{py:8,textAlign:"center"},children:Y.jsx(yr,{color:"text.secondary",children:"No updates found."})})})})]})},Met=()=>{const{user:t,refreshProfile:e}=iv(),[n,r]=j.useState(!0),[i,o]=j.useState(!1),[a,s]=j.useState(null),[u,d]=j.useState(!1),[g,v]=j.useState(""),[x,O]=j.useState(""),[E,A]=j.useState(""),[M,L]=j.useState(!0);j.useEffect(()=>{t&&$()},[t]);const $=async()=>{if(t)try{r(!0);const{data:F,error:U}=await bi.from("user_profile").select("*").eq("id",t.id).single();if(U){if(U.code!=="PGRST116")throw U}else F&&(v(F.display_name||""),O(F.avatar_url||""),A(F.bio||""),L(F.is_public??!0))}catch(F){s(F.message)}finally{r(!1)}},N=async F=>{if(F.preventDefault(),!!t)try{o(!0),s(null),d(!1);const U={id:t.id,display_name:g,avatar_url:x,bio:E,is_public:M,updated_at:new Date},{error:q}=await bi.from("user_profile").upsert(U);if(q)throw q;await e(),d(!0)}catch(U){s(U.message)}finally{o(!1)}};return n?Y.jsx(qn,{sx:{display:"flex",justifyContent:"center",py:8},children:Y.jsx(ah,{})}):t?Y.jsx(Vw,{maxWidth:"md",sx:{py:4},children:Y.jsxs(yc,{elevation:3,sx:{p:4,borderRadius:3},children:[Y.jsx(qn,{sx:{mb:4,textAlign:"center"},children:Y.jsxs(L0,{direction:"row",spacing:3,alignItems:"center",justifyContent:"center",children:[Y.jsx(kR,{src:x||t.user_metadata?.avatar_url,sx:{width:100,height:100,boxShadow:3},children:Y.jsx(bCe,{sx:{fontSize:60}})}),Y.jsxs(qn,{sx:{textAlign:"left"},children:[Y.jsx(yr,{variant:"h4",fontWeight:"bold",children:g||"Your Profile"}),Y.jsx(yr,{variant:"body2",color:"text.secondary",children:t.email})]})]})}),Y.jsx(Gh,{sx:{mb:4}}),a&&Y.jsx(tx,{severity:"error",sx:{mb:3},children:a}),u&&Y.jsx(tx,{severity:"success",sx:{mb:3},children:"Profile updated successfully!"}),Y.jsxs(qn,{component:"form",onSubmit:N,children:[Y.jsxs(N_,{container:!0,spacing:3,children:[Y.jsx(N_,{size:{xs:12,sm:6},children:Y.jsx(Ju,{fullWidth:!0,label:"Display Name",value:g,onChange:F=>v(F.target.value),placeholder:"Public name"})}),Y.jsx(N_,{size:{xs:12},children:Y.jsx(Ju,{fullWidth:!0,label:"Avatar URL",value:x,onChange:F=>O(F.target.value),placeholder:"https://example.com/avatar.jpg"})}),Y.jsx(N_,{size:{xs:12},children:Y.jsx(Ju,{fullWidth:!0,label:"Bio",multiline:!0,rows:4,value:E,onChange:F=>A(F.target.value),placeholder:"Tell us about yourself..."})}),Y.jsxs(N_,{size:{xs:12},children:[Y.jsx(tB,{control:Y.jsx(sB,{checked:M,onChange:F=>L(F.target.checked),color:"primary"}),label:"Public Profile"}),Y.jsx(yr,{variant:"caption",color:"text.secondary",sx:{display:"block",ml:1},children:"When public, others can see your stories and photos."})]})]}),Y.jsx(qn,{sx:{mt:4,display:"flex",justifyContent:"flex-end"},children:Y.jsx(Po,{type:"submit",variant:"contained",size:"large",startIcon:i?Y.jsx(ah,{size:20,color:"inherit"}):Y.jsx(gB,{}),disabled:i,sx:{borderRadius:2,px:4},children:i?"Saving...":"Save Profile"})})]})]})}):Y.jsx(Vw,{maxWidth:"sm",sx:{py:8},children:Y.jsx(tx,{severity:"warning",children:"Please login to view and edit your profile."})})},Ret=()=>{const[t,e]=j.useState(""),[n,r]=j.useState(""),[i,o]=j.useState(!1),[a,s]=j.useState(null),[u,d]=j.useState(!1),g=nk(),v=async x=>{x.preventDefault(),o(!0),s(null);try{if(u){const{error:O}=await bi.auth.signUp({email:t,password:n});if(O)throw O;s("Check your email for the confirmation link!")}else{const{error:O}=await bi.auth.signInWithPassword({email:t,password:n});if(O)throw O;g("/")}}catch(O){s(O.message)}finally{o(!1)}};return Y.jsx(qn,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%)",position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999},children:Y.jsx(Vw,{maxWidth:"sm",children:Y.jsx(qn,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:Y.jsxs(yc,{elevation:24,sx:{p:{xs:3,sm:6},width:"100%",borderRadius:4,bgcolor:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[Y.jsx(yr,{variant:"h3",align:"center",gutterBottom:!0,sx:{fontWeight:800,color:"#1a1a1a",mb:1,letterSpacing:"-0.02em"},children:"Pacific Trip"}),Y.jsx(yr,{variant:"body1",align:"center",color:"text.secondary",sx:{mb:5,fontWeight:500},children:u?"Join our private family travel journal":"Welcome back to our journey"}),a&&Y.jsx(tx,{severity:a.includes("email")?"success":"error",sx:{mb:4,borderRadius:2},children:a}),Y.jsxs("form",{onSubmit:v,children:[Y.jsx(Ju,{label:"Email address",variant:"outlined",fullWidth:!0,margin:"normal",required:!0,value:t,onChange:x=>e(x.target.value),slotProps:{input:{sx:{borderRadius:2}}}}),Y.jsx(Ju,{label:"Password",type:"password",variant:"outlined",fullWidth:!0,margin:"normal",required:!0,value:n,onChange:x=>r(x.target.value),slotProps:{input:{sx:{borderRadius:2}}}}),Y.jsx(Po,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:i,sx:{mt:4,mb:2,height:56,borderRadius:2,textTransform:"none",fontSize:"1.1rem",fontWeight:700,boxShadow:"0 8px 16px rgba(0,0,0,0.1)"},children:i?Y.jsx(ah,{size:24,color:"inherit"}):u?"Create Account":"Sign In"})]}),Y.jsx(qn,{sx:{mt:3,textAlign:"center"},children:Y.jsxs(yr,{variant:"body2",color:"text.secondary",children:[u?"Already have an account?":"New to the journal?",Y.jsx(Po,{variant:"text",onClick:()=>d(!u),sx:{textTransform:"none",fontWeight:700,ml:1,color:"primary.main"},children:u?"Log In":"Sign Up"})]})})]})})})})},Iet=()=>Y.jsx(qn,{sx:{p:3,mt:8},children:Y.jsxs(yc,{elevation:3,sx:{p:4},children:[Y.jsx(yr,{variant:"h4",component:"h1",gutterBottom:!0,children:"Admin Dashboard"}),Y.jsx(yr,{variant:"body1",children:"Welcome to the admin area. This is a placeholder for future administrative features."})]})});function Det(){const t=j.useRef(null),e=_m(),{user:n,loading:r,latestCheckIn:i,visitedStops:o,role:a,signOut:s,refreshRole:u}=iv(),[d,g]=j.useState(!1),v=j.useCallback(E=>{t.current&&t.current.flyTo({center:[Vu(E.geolocation[0]),E.geolocation[1]],zoom:10,essential:!0})},[]),x=j.useCallback(E=>{if(t.current&&E.children.length>0){const A=new YX.LngLatBounds;E.children.forEach(M=>{M.category==="Stop"?A.extend([Vu(M.geolocation[0]),M.geolocation[1]]):M.category==="Trip"&&M.geometricShape.coordinates.forEach(L=>{A.extend([Vu(L[0]),L[1]])})}),t.current.fitBounds(A,{padding:50,maxZoom:10,essential:!0})}},[]),O=async()=>{g(!0),await u(),g(!1)};return r?Y.jsx(qn,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",bgcolor:"background.default"},children:Y.jsx(ah,{})}):n?a?Y.jsx(kCe,{onStopClick:v,onSectionClick:x,activeKey:i?.status,visitedStops:o,children:Y.jsxs(N7,{children:[Y.jsx(Lp,{path:"/",element:Y.jsx(dfe,{to:"/blog",replace:!0})}),Y.jsx(Lp,{path:"/map",element:Y.jsx(qn,{sx:{display:e.pathname==="/"||e.pathname==="/map"?"block":"none",height:"100%"},children:Y.jsx(jK,{ref:t,items:fB})})}),Y.jsx(Lp,{path:"/photos",element:Y.jsx(dTe,{})}),Y.jsx(Lp,{path:"/blog",element:Y.jsx(Aet,{})}),Y.jsx(Lp,{path:"/updates",element:Y.jsx(Pet,{})}),Y.jsx(Lp,{path:"/profile",element:Y.jsx(Met,{})}),Y.jsx(Lp,{path:"/admin",element:Y.jsx(Iet,{})}),Y.jsx(Lp,{path:"*",element:null})]})}):Y.jsx(Vw,{maxWidth:"sm",sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh"},children:Y.jsxs(yc,{elevation:3,sx:{p:4,textAlign:"center",borderRadius:2},children:[Y.jsx(yr,{variant:"h5",fontWeight:"bold",gutterBottom:!0,children:"Access Pending"}),Y.jsx(yr,{variant:"body1",color:"text.secondary",paragraph:!0,children:"Your account is currently pending approval. Please wait for an administrator to assign you a role before you can access the application."}),Y.jsxs(L0,{direction:"row",spacing:2,justifyContent:"center",sx:{mt:2},children:[Y.jsx(Po,{variant:"outlined",onClick:O,disabled:d,startIcon:d?Y.jsx(ah,{size:20}):null,children:d?"Checking...":"Check Again"}),Y.jsx(Po,{variant:"contained",color:"primary",onClick:s,children:"Sign Out"})]})]})}):Y.jsx(N7,{children:Y.jsx(Lp,{path:"*",element:Y.jsx(Ret,{})})})}gde.createRoot(document.getElementById("root")).render(Y.jsx(j.StrictMode,{children:Y.jsx(Nfe,{children:Y.jsx(g2e,{children:Y.jsx(Det,{})})})}));export{wle as C,dh as E,Di as I,dO as L,rae as N,mO as a,pO as b,a5 as c,tZe as d,Mae as e,rS as f,no as g,vUe as h,nS as i,_Ue as j,hae as k,QM as l,Gc as m,dn as n,jt as o,lce as p,iae as q,Ele as r,tS as s,Ne as t,Sae as u,id as v};
